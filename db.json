{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":0,"renderable":0},{"_id":"source/README.md","path":"README.md","modified":0,"renderable":0},{"_id":"source/images/090516_023554_AM.jpg","path":"images/090516_023554_AM.jpg","modified":0,"renderable":0},{"_id":"source/images/102216_095355_PM.jpg","path":"images/102216_095355_PM.jpg","modified":0,"renderable":0},{"_id":"themes/landscape/source/favicon.ico","path":"favicon.ico","modified":0,"renderable":1},{"_id":"source/images/090516_021242_AM.jpg","path":"images/090516_021242_AM.jpg","modified":0,"renderable":0},{"_id":"source/images/090516_023252_AM.jpg","path":"images/090516_023252_AM.jpg","modified":0,"renderable":0},{"_id":"source/images/090516_024550_AM.jpg","path":"images/090516_024550_AM.jpg","modified":0,"renderable":0},{"_id":"source/images/workerthread_and_iothread/110416_102435_AM.jpg","path":"images/workerthread_and_iothread/110416_102435_AM.jpg","modified":0,"renderable":0},{"_id":"source/images/workerthread_and_iothread/110416_103521_AM.jpg","path":"images/workerthread_and_iothread/110416_103521_AM.jpg","modified":0,"renderable":0},{"_id":"source/images/workerthread_and_iothread/110416_112435_AM.jpg","path":"images/workerthread_and_iothread/110416_112435_AM.jpg","modified":0,"renderable":0},{"_id":"source/amp-dist/sample/sample-avator.png","path":"amp-dist/sample/sample-avator.png","modified":0,"renderable":0},{"_id":"source/images/workerthread_and_iothread/278553_300x300.jpg","path":"images/workerthread_and_iothread/278553_300x300.jpg","modified":0,"renderable":0},{"_id":"source/amp-dist/sample/sample-substituteTitleImage.png","path":"amp-dist/sample/sample-substituteTitleImage.png","modified":0,"renderable":0},{"_id":"source/amp-dist/sample/sample-logo.png","path":"amp-dist/sample/sample-logo.png","modified":0,"renderable":0},{"_id":"themes/landscape/source/fancybox/blank.gif","path":"fancybox/blank.gif","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","path":"fancybox/fancybox_loading.gif","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","path":"fancybox/fancybox_sprite.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","path":"fancybox/fancybox_loading@2x.gif","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","path":"fancybox/fancybox_sprite@2x.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","path":"fancybox/fancybox_overlay.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","path":"fancybox/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/landscape/source/js/script.js","path":"js/script.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","path":"fancybox/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","path":"fancybox/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"source/images/workerthread_and_iothread/110416_102436_AM.png","path":"images/workerthread_and_iothread/110416_102436_AM.png","modified":0,"renderable":0},{"_id":"source/images/2018/colorfull_cmder/result.jpg","path":"images/2018/colorfull_cmder/result.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/colorfull_cmder/cmder_folder.jpg","path":"images/2018/colorfull_cmder/cmder_folder.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/six_strategies_for_application_deployment/a-b.gif","path":"images/2018/six_strategies_for_application_deployment/a-b.gif","modified":0,"renderable":0},{"_id":"source/images/2018/six_strategies_for_application_deployment/canary.gif","path":"images/2018/six_strategies_for_application_deployment/canary.gif","modified":0,"renderable":0},{"_id":"source/images/2018/six_strategies_for_application_deployment/blue-green.gif","path":"images/2018/six_strategies_for_application_deployment/blue-green.gif","modified":0,"renderable":0},{"_id":"source/images/2018/six_strategies_for_application_deployment/ramped.gif","path":"images/2018/six_strategies_for_application_deployment/ramped.gif","modified":0,"renderable":0},{"_id":"source/images/2018/csm/seal-csm.png","path":"images/2018/csm/seal-csm.png","modified":0,"renderable":0},{"_id":"source/images/2018/six_strategies_for_application_deployment/recreate.gif","path":"images/2018/six_strategies_for_application_deployment/recreate.gif","modified":0,"renderable":0},{"_id":"source/images/2019/1/be_a_star.jpg","path":"images/2019/1/be_a_star.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/4/copy_file_to_bin.jpg","path":"images/2019/4/copy_file_to_bin.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/5/chrome_2019-05-18_15-36-25.png","path":"images/2019/5/chrome_2019-05-18_15-36-25.png","modified":0,"renderable":0},{"_id":"source/images/2019/8/aws_choose_instance_type.jpg","path":"images/2019/8/aws_choose_instance_type.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/8/aws_ec2_launch_settings.jpg","path":"images/2019/8/aws_ec2_launch_settings.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/8/aws_iissetting.jpg","path":"images/2019/8/aws_iissetting.jpg","modified":0,"renderable":0},{"_id":"source/images/workerthread_and_iothread/110416_102437_AM.jpg","path":"images/workerthread_and_iothread/110416_102437_AM.jpg","modified":0,"renderable":0},{"_id":"source/images/workerthread_and_iothread/110416_170101_PM.jpg","path":"images/workerthread_and_iothread/110416_170101_PM.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/8/aws_tg_healthcheck.jpg","path":"images/2019/8/aws_tg_healthcheck.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/8/the_8th_habbit.jpg","path":"images/2019/8/the_8th_habbit.jpg","modified":0,"renderable":0},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","path":"css/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","path":"css/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","path":"css/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","path":"fancybox/helpers/fancybox_buttons.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","path":"fancybox/helpers/jquery.fancybox-buttons.css","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","path":"fancybox/helpers/jquery.fancybox-buttons.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","path":"fancybox/helpers/jquery.fancybox-media.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","path":"fancybox/helpers/jquery.fancybox-thumbs.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","path":"fancybox/helpers/jquery.fancybox-thumbs.css","modified":0,"renderable":1},{"_id":"source/images/2018/six_strategies_for_application_deployment/shadow.gif","path":"images/2018/six_strategies_for_application_deployment/shadow.gif","modified":0,"renderable":0},{"_id":"source/images/2019/4/perfview.jpg","path":"images/2019/4/perfview.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/4/perviewlog.jpg","path":"images/2019/4/perviewlog.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/2/awstools.jpg","path":"images/2019/2/awstools.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/3/cell.jpg","path":"images/2019/3/cell.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/3/test_cover_100.jpg","path":"images/2019/3/test_cover_100.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/6/01-overview.png","path":"images/2019/6/01-overview.png","modified":0,"renderable":0},{"_id":"source/images/2019/8/aws_asg_overview.jpg","path":"images/2019/8/aws_asg_overview.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/8/aws_ebs.jpg","path":"images/2019/8/aws_ebs.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/8/aws_create_lc.jpg","path":"images/2019/8/aws_create_lc.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/8/aws_ec2_launch_settings_turn_off.jpg","path":"images/2019/8/aws_ec2_launch_settings_turn_off.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/8/aws_userdata.jpg","path":"images/2019/8/aws_userdata.jpg","modified":0,"renderable":0},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","path":"css/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/images/banner.jpg","path":"css/images/banner.jpg","modified":0,"renderable":1},{"_id":"source/images/2018/csm/day_1/cross_learning.jpg","path":"images/2018/csm/day_1/cross_learning.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/csm/day_2/Sprint_Backlog_Burndown.jpg","path":"images/2018/csm/day_2/Sprint_Backlog_Burndown.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/csm/elephant.jpg","path":"images/2018/csm/elephant.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/colorfull_cmder/settings.jpg","path":"images/2018/colorfull_cmder/settings.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/csm/overview.JPG","path":"images/2018/csm/overview.JPG","modified":0,"renderable":0},{"_id":"source/images/2019/1/ubantu_docker.jpg","path":"images/2019/1/ubantu_docker.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/1/docker.jpg","path":"images/2019/1/docker.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/5/sonarcloud_gen.jpg","path":"images/2019/5/sonarcloud_gen.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/5/sonarcloud_gentoken.jpg","path":"images/2019/5/sonarcloud_gentoken.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/5/sonarcloud_result.jpg","path":"images/2019/5/sonarcloud_result.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/8/aws_choose_ami.jpg","path":"images/2019/8/aws_choose_ami.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/8/apprenticeship_patterns.jpg","path":"images/2019/8/apprenticeship_patterns.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/8/aws_gi_create_images.jpg","path":"images/2019/8/aws_gi_create_images.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/csm/day_1/6B161347-8331-4BA7-89D2-61DA1DAD61B1.jpg","path":"images/2018/csm/day_1/6B161347-8331-4BA7-89D2-61DA1DAD61B1.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/csm/day_1/7D811AFE-A4C8-4FB4-BD90-B65FDFE0B6BE.jpg","path":"images/2018/csm/day_1/7D811AFE-A4C8-4FB4-BD90-B65FDFE0B6BE.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/csm/day_1/undone_work.jpg","path":"images/2018/csm/day_1/undone_work.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/csm/day_2/V1_V2_V3_V4_VVV.jpg","path":"images/2018/csm/day_2/V1_V2_V3_V4_VVV.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/csm/day_2/OKR_in_Scrum.jpg","path":"images/2018/csm/day_2/OKR_in_Scrum.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/csm/day_1/螢幕快照 2018-10-28 下午3.46.21.png","path":"images/2018/csm/day_1/螢幕快照 2018-10-28 下午3.46.21.png","modified":0,"renderable":0},{"_id":"source/images/2018/csm/day_2/splitting.jpg","path":"images/2018/csm/day_2/splitting.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/csm/day_2/done&accept.jpg","path":"images/2018/csm/day_2/done&accept.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/csm/day_2/increment_pattern.jpg","path":"images/2018/csm/day_2/increment_pattern.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/csm/day_2/thinking.jpg","path":"images/2018/csm/day_2/thinking.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/six_strategies_for_application_deployment/deployment_strategies.png","path":"images/2018/six_strategies_for_application_deployment/deployment_strategies.png","modified":0,"renderable":0},{"_id":"source/images/2019/5/2019-05-18_15-28-53.gif","path":"images/2019/5/2019-05-18_15-28-53.gif","modified":0,"renderable":0},{"_id":"source/images/2019/5/sonarcloud_command.jpg","path":"images/2019/5/sonarcloud_command.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/8/aws_create_asg.jpg","path":"images/2019/8/aws_create_asg.jpg","modified":0,"renderable":0},{"_id":"source/images/workerthread_and_iothread/110416_170001_PM.jpg","path":"images/workerthread_and_iothread/110416_170001_PM.jpg","modified":0,"renderable":0},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","path":"css/fonts/fontawesome-webfont.svg","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/images/banner.bak.jpg","path":"css/images/banner.bak.jpg","modified":0,"renderable":1},{"_id":"source/images/2018/csm/day_1/00795F54-2654-4581-94BE-27068D4486DD.jpg","path":"images/2018/csm/day_1/00795F54-2654-4581-94BE-27068D4486DD.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/csm/day_2/authority_matrix.jpg","path":"images/2018/csm/day_2/authority_matrix.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/csm/day_2/closer_customer.jpg","path":"images/2018/csm/day_2/closer_customer.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/csm/day_2/walking_skeleton.jpg","path":"images/2018/csm/day_2/walking_skeleton.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/8/aws_gi_out_alb.jpg","path":"images/2019/8/aws_gi_out_alb.jpg","modified":0,"renderable":0},{"_id":"source/images/workerthread_and_iothread/螢幕擷取畫面_110716_110245_AM.jpg","path":"images/workerthread_and_iothread/螢幕擷取畫面_110716_110245_AM.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/csm/day_1/UserStoryMap.png","path":"images/2018/csm/day_1/UserStoryMap.png","modified":0,"renderable":0},{"_id":"source/images/2019/3/run_stryker.jpg","path":"images/2019/3/run_stryker.jpg","modified":0,"renderable":0},{"_id":"source/images/2019/8/the_8th_habbit_map.jpg","path":"images/2019/8/the_8th_habbit_map.jpg","modified":0,"renderable":0},{"_id":"source/images/2018/restclient.gif","path":"images/2018/restclient.gif","modified":0,"renderable":0},{"_id":"source/images/2019/8/qt_choice_map.jpg","path":"images/2019/8/qt_choice_map.jpg","modified":0,"renderable":0}],"Cache":[{"_id":"source/CNAME","hash":"1c1ded058047f1d22275a8561240d1074b7a5cca","modified":1523934759638},{"_id":"source/README.md","hash":"7e15d0a159a4a8be81924f6f4392266dcd4b407c","modified":1523934759655},{"_id":"themes/landscape/.gitignore","hash":"ea2b285a29690f1eabbad0f3a158e34e9ccd1d86","modified":1523934759659},{"_id":"themes/landscape/_config.yml","hash":"7d1968dca5b2a34432dfba6a403cf4e92ca552e9","modified":1560177809013},{"_id":"themes/landscape/Gruntfile.js","hash":"412e30530784993c8997aa8b1319c669b83b91c2","modified":1523934759662},{"_id":"themes/landscape/README.md","hash":"e7cc82dc79596f36ba05a8139e7d6b2dfc4ae5f9","modified":1523934759712},{"_id":"themes/landscape/LICENSE","hash":"82ce1e15ddeabeaaca60e2186b5a3ce42b1a9c49","modified":1523934759710},{"_id":"themes/landscape/package.json","hash":"394368a0a07106cb1eee99ff95dfddaac6a7d34a","modified":1560177827029},{"_id":"source/_drafts/visualstudio_code_snippet.md","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1560177808855},{"_id":"source/_drafts/dotNet_filestream.md","hash":"39d2b994d5656d3318930ec190d6fc20c185db0b","modified":1523934759576},{"_id":"source/_drafts/workerthread_and_iothread_2.md","hash":"7cd395dc4a82bf17cba9324e59387ecbd2da0a02","modified":1567938709333},{"_id":"source/_drafts/cv.md","hash":"2dfc0beccb669b3fb22631dd2694bed9224a2545","modified":1567936382843},{"_id":"source/_drafts/workerthread_and_iothread_1.md","hash":"0a83d08d8a7b38f06be0b57fd5b1d0658d90331a","modified":1567938442034},{"_id":"source/images/090516_023554_AM.jpg","hash":"a9cec76e1e7b039f9c870fdf0f938cf4edfd7ce8","modified":1523934759644},{"_id":"themes/landscape/languages/default.yml","hash":"f26a34a7983d4bc17c65c7f0f14da598e62ce66d","modified":1523934759661},{"_id":"themes/landscape/languages/fr.yml","hash":"b4be1c1592a72012e48df2b3ec41cc9685573e50","modified":1523934759661},{"_id":"themes/landscape/languages/nl.yml","hash":"3d82ec703d0b3287739d7cb4750a715ae83bfcb3","modified":1523934759666},{"_id":"themes/landscape/languages/no.yml","hash":"ddf2035e920a5ecb9076138c184257d9f51896a7","modified":1523934759669},{"_id":"themes/landscape/languages/zh-CN.yml","hash":"b057f389c6713010f97d461e48ec959b0b6f3b44","modified":1523934759669},{"_id":"themes/landscape/languages/ru.yml","hash":"2a476b4c6e04900914c81378941640ac5d58a1f0","modified":1523934759670},{"_id":"themes/landscape/languages/zh-TW.yml","hash":"f5f0ca88185da7a8457760d84bf221781473bd7c","modified":1523934759669},{"_id":"source/images/102216_095355_PM.jpg","hash":"721e0caf732a8c6cd6b1b83a31fec062af16a744","modified":1523934759648},{"_id":"themes/landscape/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1523934759702},{"_id":"themes/landscape/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1523934759702},{"_id":"themes/landscape/layout/layout.ejs","hash":"5d86bc48b0f1bdce9a2bb548c2f8e7a4f50d499a","modified":1523934759736},{"_id":"themes/landscape/layout/index.ejs","hash":"aa1b4456907bdb43e629be3931547e2d29ac58c8","modified":1523934759705},{"_id":"themes/landscape/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1523934759706},{"_id":"themes/landscape/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1523934759707},{"_id":"themes/landscape/scripts/fancybox.js","hash":"4c130fc242cf9b59b5df6ca5eae3b14302311e8c","modified":1523934759715},{"_id":"themes/landscape/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1523934759707},{"_id":"source/_drafts/2018/book_debugging_teams_ch3.md","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1560177808834},{"_id":"themes/landscape/source/favicon.ico","hash":"998df8105a3500811219e4a176d14b1d88ab8b94","modified":1523934759747},{"_id":"source/images/090516_021242_AM.jpg","hash":"015f6fff88214f8744c37b8d02a331ffadda5943","modified":1523934759644},{"_id":"source/images/090516_023252_AM.jpg","hash":"509eef571252eebe3417bb7c89c589d3485a01af","modified":1523934759644},{"_id":"source/_drafts/2018/CSM.MD","hash":"bd76b57dc0801896a8331526f181009d6a77ec9b","modified":1560177808846},{"_id":"source/_drafts/2018/ci_use_jenkins_pipeline_groovy.md","hash":"bc84eb4abf12f378dcfd5d3276862b23d7952263","modified":1560177808843},{"_id":"source/_drafts/2018/cache_memory.md","hash":"04854a3488034687a77ff7a6dd9d1eb46b9e9fc1","modified":1560177808836},{"_id":"source/_drafts/2017/retrospect.md","hash":"523ab563e3a0a9861ac7fee0928efa5e7b67a67f","modified":1523934759573},{"_id":"source/_drafts/2019/aws_deepraceer.md","hash":"5bf3d78a9646693d9fd9037eff1308657ceef339","modified":1560177808853},{"_id":"source/_drafts/2019/refacting_CH2.md","hash":"535cf1c2f84cd4a5d34f6b94bf6eef828d81e339","modified":1560177808852},{"_id":"source/_posts/2016/about_content_type.md","hash":"c796217bbb5ede59fa683ead07b0c5f8afbc60b1","modified":1560177808862},{"_id":"source/_posts/2016/1st_time_with_powershell.md","hash":"2112fb75ac9443afac9abcc99f7b2aa87485c362","modified":1566761960580},{"_id":"source/_posts/2016/be_friend_with_time.md","hash":"3314da9cb3e50edd46e49fcdb5efc76447c5c53f","modified":1569491825880},{"_id":"source/_posts/2016/add_google_analytics_to_hexo_blog_1.md","hash":"308f0f881627e53e8c3da70315097e0d735681a4","modified":1560177808863},{"_id":"source/_posts/2016/aspdotnet_threadpool_and_redis.md","hash":"b5b25f3b62cce78c6aa0b31381a6a1c67825ea0c","modified":1567938505750},{"_id":"source/_posts/2016/dotnet_pdb_file.md","hash":"4cce1b7f684431a5d31dc42977a505b2cbe5c74b","modified":1560177808864},{"_id":"source/_posts/2016/express_with_typescript.md","hash":"184c6661f12d7994a5802dfbb49a56d0506b355d","modified":1567936865160},{"_id":"source/_posts/2016/file_rowdata_import_mssql.md","hash":"def8708ddfd6277a5559605e47013d1158a81fd2","modified":1560177808868},{"_id":"source/_posts/2016/google_api_auth_2.md","hash":"7a5cd2b075351b248017f68942c0a3b3cefe3386","modified":1560177808870},{"_id":"source/_posts/2016/google_api_auth_1.md","hash":"5fad9db9f91562acd7c2600871150570873f1f06","modified":1560177808868},{"_id":"source/_posts/2016/hello-world.md","hash":"7c344f4a782f8f4b02e7bc208484770ac2556877","modified":1562674199599},{"_id":"source/_posts/2016/sites_todo_list.md","hash":"ea36c902ab0951804f5acaf0a2b0fcd620d160a0","modified":1560177808874},{"_id":"source/_posts/2016/http2 by cloudflare.md","hash":"b774f339215a89e5ad56555e3e1d57ac87ef5424","modified":1560177808874},{"_id":"source/_posts/2016/how_to_use_github_page.md","hash":"293fed508dd1050f6223b75f964d3f3ef762f468","modified":1560177808871},{"_id":"source/_posts/2016/todolist_by_typescript_1.md","hash":"a1f9220be0984a756aefa4ec19d1d0527112c398","modified":1560177808875},{"_id":"source/_posts/2017/auto_add_trello_card.md","hash":"5dfa9e5b9963df287db35d2be703b3c1305f0b0d","modified":1560177808879},{"_id":"source/_posts/2017/aspdotnet_threadpool_monitor.md","hash":"b79079cdad00315cff74a9d629727f7ac6f215a9","modified":1567938690554},{"_id":"source/_posts/2016/todolist_by_typescript_2.md","hash":"052ef21c06680552c9c7c0c98f423a32ac63d244","modified":1560177808875},{"_id":"source/_posts/2017/c_sharp_6_interpolation_string_stylecop_sa0102.md","hash":"211d635969d5d2330e55a711692492096cefef92","modified":1567936935905},{"_id":"source/_posts/2017/ci_use_jenkins.md","hash":"ca9fc9bd176f4341dc1b0e8c1b4acfee87c06d02","modified":1560177808884},{"_id":"source/_posts/2017/ci_use_jenkins_on_openshfit.md","hash":"8863d611701e0b81195ea608b1c4bc5b9a0e3590","modified":1562674196286},{"_id":"source/_posts/2017/ci_use_jenkins_on_two_windows.md","hash":"fb2444a9ad628a97f11c65d73e9a6420f069529b","modified":1560177808885},{"_id":"source/_posts/2017/iis_tracing_log_setting.md","hash":"0bd12e211406517b86b566448ae3852f70323a55","modified":1560177808886},{"_id":"source/_posts/2017/ci_use_jenkins_on_windows.md","hash":"e85fb940a2c1cd2ec1c50cdfacdc3d8742dd01cf","modified":1560177808886},{"_id":"source/_posts/2017/integrated_testing_partice.md","hash":"b1ba25acc64991e1e3dd34b82962eff0a31ca515","modified":1560177808887},{"_id":"source/_posts/2017/setting_DNS_with_google.md","hash":"1c65a5b037511f7c2a0d637a8acaeda35730cc3a","modified":1560177808887},{"_id":"source/_posts/2017/sql_compatibility_level_with_datetime2.md","hash":"0a293d63255b4867a72f9fc5c48b6d4336c577d0","modified":1560177808889},{"_id":"source/_posts/2017/sql_ef6_dateInterceptor.md","hash":"383f80651f64a5357edab0e7f4a026d2f1a35b45","modified":1560177808889},{"_id":"source/_posts/2017/unitestwriting.md","hash":"ee8b70eb846876739ac273e81b33193f027dbb35","modified":1560177808894},{"_id":"source/_posts/2017/testingislearning.md","hash":"9698766b0584d22c159b87c876fe825ef1a13095","modified":1560177808894},{"_id":"source/_posts/2018/2017_learned.md","hash":"2ee891f209c11306352ef3a5eae759f791c3c166","modified":1523934759584},{"_id":"source/_posts/2018/bdd_stopAfterfaliues.md","hash":"d9cd55fba5d80fed899c418891e25ea5bd67fa0b","modified":1560177808896},{"_id":"source/_posts/2018/LCM_and_GCD.md","hash":"34cec7fe1273b4a6283947c6b09cd63ff1999415","modified":1567937004593},{"_id":"source/_posts/2018/body_error.md","hash":"56f697eff34f957c422c6c30a09a46da5cc11969","modified":1560177808899},{"_id":"source/_posts/2018/colorfull_cmder.md","hash":"371ce9e3f476c76f140bc0a682463f5656bbed0d","modified":1560177808911},{"_id":"source/_posts/2018/cache_files_and_redis.md","hash":"fb9bad831dc9a54c0493306c74806ee9ee113513","modified":1560177808906},{"_id":"source/_posts/2018/docker_error.md","hash":"715c3e6129641fb53b75328131e43cf1536e226b","modified":1566763592601},{"_id":"source/_posts/2018/coding_standard_and_coding_style_and_principle.md","hash":"36f825b1fef2452cfb52342c73127b30f0d5d9f9","modified":1523934759583},{"_id":"source/_posts/2018/defect_release_cors_and_cdn.md","hash":"0227d0efd0ab1075766c68257c7c3df7fc8155f0","modified":1560177808923},{"_id":"source/_posts/2018/find_intern.md","hash":"e0a642ca1ab4bbdf2fd4e18c5ae97fecea21f77d","modified":1560177808922},{"_id":"source/_posts/2018/csharp_common_mistakes_1.md","hash":"509b007ef5e7d6d970be2463daee8dae8a544176","modified":1567936639292},{"_id":"source/_posts/2018/git_delete_remote_branch.md","hash":"676b5cbf86cd07778d6d61256d4e40c521b44083","modified":1560177808923},{"_id":"source/_posts/2018/linkserver_with_sp_executesql.md","hash":"fab0b23724c12dc221e3edfd98e790e12e28d34f","modified":1560177808930},{"_id":"source/_posts/2018/hexo_update.md","hash":"b50b26458bac453353daf98dacb8885e3fc47e6d","modified":1560177808926},{"_id":"source/_posts/2018/linux_command_1.md","hash":"0858f490cea3a9c6b591d96425a0fe6021ca1f32","modified":1523934759601},{"_id":"source/_posts/2018/l10n_i18n.md","hash":"7cf1d01dadca47e174cdcffe390800d473a36824","modified":1560177808929},{"_id":"source/_posts/2018/new_pc_install.md","hash":"5ff659a6f6c61f797a7c4faff90b4ab950838113","modified":1523936203312},{"_id":"source/_posts/2018/mutation_testing.md","hash":"f4636f6205ca5e2693dcca84ae4ceb261a3f3b2b","modified":1560177808932},{"_id":"source/_posts/2018/mit_job_event_log.md","hash":"a2dd864b10042b946bf608556a2c9800d0416077","modified":1560177808931},{"_id":"source/_posts/2018/linux_command_2.md","hash":"4cf96f1f2ba02256c24edf8539b4fa53d5596eac","modified":1527940239329},{"_id":"source/_posts/2018/next_year.md","hash":"e7699392e798ceb670c39ad7f8fea47c636a9e20","modified":1523934759593},{"_id":"source/_posts/2018/node_set_registry.md","hash":"c20da54082d271c4afb394b2610d4d3772dfca85","modified":1560177808934},{"_id":"source/_posts/2018/powershell_found_subfolde_by_files_in_folder.md","hash":"19f9d3443972702299e2e60afd5a4314c07b610d","modified":1566761766366},{"_id":"source/_posts/2018/shopee_tech_sharing.md","hash":"25fb11907861fa51c98ae627f0889dab24fd99ae","modified":1523934759593},{"_id":"source/_posts/2018/restclient_gencode.md","hash":"5cd933194d11c172f6ea2dbbded222889f82331c","modified":1560177808937},{"_id":"source/_posts/2018/package-lock_modify_after_npm_install.md","hash":"720150c6b0f4098243ad9c2b089cc0617f498a10","modified":1560177808936},{"_id":"source/_posts/2018/six_strategies_for_application_deployment.md","hash":"25787e0ae7f7828a67a5207cdc06b5acfa1e8364","modified":1566763173082},{"_id":"source/_posts/2018/why-google-ibm-and-microsoft-all-decided-to-expand-in-taiwan-this-year.md","hash":"2172299f79be516c35c6a332826f23ddd5fe6e35","modified":1560177808939},{"_id":"source/_posts/2018/the_art_of_unit_testing_2nd_0.md","hash":"0a4c1671999b124cbe8358a6550a7908587abec6","modified":1560177808938},{"_id":"source/_posts/2018/where_is_specrun.md","hash":"8a3668c915cae792a174070eb32c4add7d15736a","modified":1560177808938},{"_id":"source/_posts/2019/91_coding_dojo_log.md","hash":"805d02d29d709305b282e3c20e016822bd47732f","modified":1562674193573},{"_id":"source/_posts/2018/windows_with_sass.md","hash":"c161ccb008cdca8a007762256e4b0351a74fb253","modified":1557984335627},{"_id":"source/_posts/2019/Setting_up_aws_tools_for_powershell.md","hash":"c7bf9058bc52f1c76e8cc088a86db3b21279e61c","modified":1560177808954},{"_id":"source/_posts/2019/aws_auto_sacling_group.md","hash":"75236d8b739e38c624992e647846ebc1c5986383","modified":1566760420880},{"_id":"source/_posts/2019/aspdotnet_core_logging.md","hash":"c36a3a11dc7b0b454d509ad095a9638ee9a63eef","modified":1567937328895},{"_id":"source/_posts/2019/cpau.md","hash":"1a1fce4ddbfe1f6c09cba6ef43f82a0959faed03","modified":1566274228192},{"_id":"source/_posts/2019/interview_log.md","hash":"6f139f71d3b6a94b0abd974b177c4a0bae4b48aa","modified":1574764521213},{"_id":"source/_posts/2019/coding_dojo_kata_fizzbuzz_first.md","hash":"8d63b8dee6699ee7ae06bcc1fcf7f073d243d53c","modified":1560177808949},{"_id":"source/_posts/2019/coding_dojo_in_company.md","hash":"a2795b83998358967fcdd521681b0c062b234574","modified":1560177808948},{"_id":"source/_posts/2019/csproj_content_none.md","hash":"18a31b3085d4902d46d6a0f75edb666b0a642ef5","modified":1567938517406},{"_id":"source/_posts/2019/my_tools_2019.md","hash":"37efe1175374fdfaf00477eadfb77a9f5700c7fa","modified":1571120083397},{"_id":"source/_posts/2019/dotnet_core_projecte_template.md","hash":"24bb5760b840a11140149e0d223da45718b11a37","modified":1567936233659},{"_id":"source/_posts/2019/github_registry_with_nuget_packages.md","hash":"f8aa516005f1fdbb8fa48cd1f10148579e837692","modified":1571273732968},{"_id":"source/_posts/2019/introduce_variable_for_substring.md","hash":"23bef86b0dd015ae06cdba21a0dbff2ab1ad1bf7","modified":1562989531112},{"_id":"source/_posts/2019/opensource_with_sonarcloud.md","hash":"2dde6f17d9f5e400da0770d814231fdeeb67c56e","modified":1567937498316},{"_id":"source/_posts/2019/reseed.md","hash":"86c0b18a979c50b212e94423006a0cfa97b37d5e","modified":1560177808954},{"_id":"source/_posts/2019/run_docker_on_window_subsystem_for_Linux_Ubuntu.md","hash":"d0ba3af518cd624917d5e515fc9fa2b79ac57a9c","modified":1566763567434},{"_id":"source/_posts/2019/stripe_payment.md","hash":"7b6f1f0cc4f721c048f54410efe59bcc3c855590","modified":1560823036503},{"_id":"source/_posts/2019/swing_dance_log.md","hash":"a1dccb8ceb357acc62a348fca1af14f756440d67","modified":1573117554609},{"_id":"source/_posts/2019/tool_sites.md","hash":"52771dbe0eaceae3c5901a298ee9cf26801ed0a3","modified":1569491164293},{"_id":"source/_posts/2019/typescript_unit_test.md","hash":"bf0aff8686cfe3aefdf1ff05e708f83528d588dd","modified":1560177808967},{"_id":"source/images/090516_024550_AM.jpg","hash":"16b8658ff25fec9ecc6c84a5354c8a6f015ddb30","modified":1523934759653},{"_id":"source/images/workerthread_and_iothread/110416_102435_AM.jpg","hash":"a876fb25212a93ae47f0447a83d64d2f5028d03a","modified":1523934759651},{"_id":"source/images/workerthread_and_iothread/110416_103521_AM.jpg","hash":"839e4d25969fc11027a13413c74a3456524d8f3e","modified":1523934759655},{"_id":"source/images/workerthread_and_iothread/110416_112435_AM.jpg","hash":"3bc3703723f421303a5119d6563e8d32614f4ac2","modified":1523934759653},{"_id":"source/amp-dist/sample/sample-avator.png","hash":"0c9e74f8207353ace09090a7d17def59ab9b98c8","modified":1523934759636},{"_id":"source/images/workerthread_and_iothread/278553_300x300.jpg","hash":"4cba555dc1ba4aef9e7aee3b4adb1d06a3937968","modified":1523934759654},{"_id":"themes/landscape/layout/_partial/archive-post.ejs","hash":"5062c723721d8497eebad372f57092ade45041f4","modified":1523934759671},{"_id":"source/amp-dist/sample/sample-substituteTitleImage.png","hash":"f7d5b269516ed2ef4c855466b5d78d4ca136445c","modified":1523934759637},{"_id":"source/amp-dist/sample/sample-logo.png","hash":"9dad0e8cc4d48c6e550820e91377e2028a344176","modified":1523934759637},{"_id":"themes/landscape/layout/_partial/after-footer.ejs","hash":"dfed804c800f12bda8d821ada01f4e3018ae2751","modified":1573216396213},{"_id":"themes/landscape/layout/_partial/article.ejs","hash":"5cf2b8a1148e6f8c4bd9ca9e3b84c7e5a59d56bc","modified":1523934759688},{"_id":"themes/landscape/layout/_partial/footer.ejs","hash":"6faefe07f3d64e21c7743276e0f55ee1544f9d86","modified":1545670081312},{"_id":"themes/landscape/layout/_partial/archive.ejs","hash":"a512a14bce954fadb0d9346d9d9ed4effbc90be2","modified":1523934759694},{"_id":"themes/landscape/layout/_partial/google-analytics.ejs","hash":"1ccc627d7697e68fddc367c73ac09920457e5b35","modified":1523934759682},{"_id":"themes/landscape/layout/_partial/header.ejs","hash":"21c8c6daf04346264979900c39a206d91b9f8c62","modified":1573214342690},{"_id":"themes/landscape/layout/_widget/archive.ejs","hash":"5cead836b93c9e10b0f9017cfd29c2eb4c884ea4","modified":1560177809016},{"_id":"themes/landscape/layout/_partial/mobile-nav.ejs","hash":"347cf1befd2ea637c24bd5901929d8e36e359e75","modified":1523934759676},{"_id":"themes/landscape/layout/_partial/head.ejs","hash":"3ab5f386dff6eac9ab5b64db424d4b2b64a7da15","modified":1560177809016},{"_id":"themes/landscape/layout/_widget/category.ejs","hash":"866790acc13fed44b7ef74c3e19c300a3d6180d8","modified":1523934759703},{"_id":"themes/landscape/layout/_partial/sidebar.ejs","hash":"c70869569749a8f48cce202fa57926c06b55fdab","modified":1523934759698},{"_id":"themes/landscape/layout/_widget/recent_posts.ejs","hash":"16800f85ffb036d2644a26e02facd61acb3706e9","modified":1523934759707},{"_id":"themes/landscape/layout/_widget/tag.ejs","hash":"6017c54a8c3c8ff8db491cfbea3100c139da75d6","modified":1523934759706},{"_id":"themes/landscape/layout/_widget/tagcloud.ejs","hash":"7259c179aa0c41c02e467ad892292e90430aaabc","modified":1523934759701},{"_id":"themes/landscape/layout/_widget/badges.ejs","hash":"d425dd78dece0eee2bbe2f3bee57453e1219add3","modified":1560177809016},{"_id":"themes/landscape/layout/_widget/yandex.ejs","hash":"7530cd9a06e27fe0bdee75d68ed87a4d658e032d","modified":1560177809016},{"_id":"themes/landscape/source/css/_variables.styl","hash":"57152b0fe9d8debbab3ffaee3638dd37db9a82c4","modified":1573211562852},{"_id":"themes/landscape/source/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1523934759739},{"_id":"themes/landscape/source/css/_extend.styl","hash":"8ab1ad313bd6707d248c5ca1ee9a5eab8d815e42","modified":1523934759714},{"_id":"themes/landscape/source/css/style.styl","hash":"4a3e64ee8dad5834860c30b4176882eff628ca6b","modified":1523934759743},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1523934759740},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1523934759742},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1523934759739},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1523934759742},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1523934759741},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","hash":"2e54d51d21e68ebc4bb870f6e57d3bfb660d4f9c","modified":1523934759745},{"_id":"themes/landscape/source/js/script.js","hash":"f6d183a9843c9177420d53fd024febdce06f3d4b","modified":1573215795804},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","hash":"2da892a02778236b64076e5e8802ef0566e1d9e8","modified":1523934759759},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","hash":"58193c802f307ec9bc9e586c0e8a13ebef45d2f8","modified":1523934759759},{"_id":"source/images/workerthread_and_iothread/110416_102436_AM.png","hash":"b567d9a58721b13f82b351ba494c260ee86c77cb","modified":1523934759651},{"_id":"source/_posts/2017/books/book_attack_your_day.md","hash":"8aa2b5d489c37ae46975de19e14779978e0cd6fe","modified":1560177808879},{"_id":"source/_posts/2017/test_learn/integrated_testing_partice2_question.md","hash":"725c7644632962db83439abe90b3bc785d615773","modified":1560177808894},{"_id":"source/_posts/2017/weekly_learn/20171023.md","hash":"802be1aee70b74f6b4b5bf245b19ee551d0881b8","modified":1566763208802},{"_id":"source/_posts/2017/test_learn/vs2017_mstest_with_nuget.md","hash":"9434a9f8e333932988b7ce1a9967c5ec6a990158","modified":1560177808894},{"_id":"source/_posts/2018/books/book_outliers_the_story_of_success.md","hash":"1fcf0f86d687fca80bc46a603c8e9f441811b9a0","modified":1560177808899},{"_id":"source/_posts/2018/books/book_history_of_finance.md","hash":"d463c9b14c08edde2d134e835a8a63e9115e5b60","modified":1560177808898},{"_id":"source/_posts/2018/books/book_the_great_scurm_master_ch1.md","hash":"212b21e7f48731f3c2a79a2d556e861b2dc0efc0","modified":1560177808902},{"_id":"source/_posts/2018/books/who_moved_my_cheese.md","hash":"b456c0cb4509cda7061682a81a9b8505c5a82cf0","modified":1560177808906},{"_id":"source/_posts/2018/books/book_the_great_scurm_master_ch2.md","hash":"d6e7e69015a3277e12db641bdf7d51161fb62756","modified":1560177808903},{"_id":"source/_posts/2018/books/book_the_great_scurm_master_ch3.md","hash":"92ac295a4d0c531e37bb7c6f8407c46cbbbb60ac","modified":1560177808904},{"_id":"source/_posts/2018/cloud_learn/aws_access_billing_console.md","hash":"f4c6cef03f55417e61f64ad4fe7d08b263edce0f","modified":1560177808907},{"_id":"source/_posts/2018/books/the_silo_effect_7.md","hash":"ab74828d97f16da993e7793c259f309166c75f33","modified":1560177808905},{"_id":"source/_posts/2018/cloud_learn/aws_creat_ec2_instance.md","hash":"584639be111a597990c32a529ff284c34dc2351b","modified":1560177808911},{"_id":"source/_posts/2018/cloud_learn/aws_cli_login.md","hash":"a93efbd73ffaae60bea3d53de68a131724eecd7d","modified":1566763216404},{"_id":"source/_posts/2018/csm/91app_scrum_masters_growth_camp.md","hash":"308036b4366334a8525461b9520e19e24a56b223","modified":1560177808914},{"_id":"source/_posts/2018/cloud_learn/aws_startup_with_iam.md","hash":"dd19e2ccd57d3b171a5e95e8d0a7937403857745","modified":1560177808911},{"_id":"source/_posts/2018/csm/day_1.md","hash":"c15d577d96f6ee450d09c97574da12be97ae2bf9","modified":1560177808914},{"_id":"source/_posts/2018/csm/day_2_1.md","hash":"3fac4d445c811e79fa6b775c88579b061ea6d42c","modified":1560177808916},{"_id":"source/_posts/2018/csm/day_2_2.md","hash":"cfce56099707509e1b678b4bb09b2c5e3e8bea83","modified":1560177808916},{"_id":"source/_posts/2018/csm/n_company_log_201810.md","hash":"986d29c22e193d4989ebd8ed615c1d2682351d7f","modified":1567938027983},{"_id":"source/_posts/2018/csm/day_2_3.md","hash":"126f4ba95e597eb50675564a076dd028d125e65f","modified":1560177808918},{"_id":"source/_posts/2018/csm/to_sum_up_scrum.md","hash":"acf5bf4909242036688bbcc6d4eaf313d1d79342","modified":1560177808922},{"_id":"source/_posts/2019/book/apprenticeship_patterns.md","hash":"22b52d3aed7807531d846d3ccc9ed847ff0d698c","modified":1565119641694},{"_id":"source/_posts/2018/csm/n_company_log_201811.md","hash":"3ab70617e0c24ca7d0123f1775d690623c2f18a0","modified":1560177808921},{"_id":"source/_posts/2019/book/the_4_disciplines_of_execution.md","hash":"dd375fc292efa424cc38fa038e7577cfbda02200","modified":1565378366770},{"_id":"source/_posts/2019/book/the_8th_habit_from_effectiveness_to_greatness.md","hash":"c02d396fb00b4c3b7d798ec18bac541a9e970531","modified":1564859653524},{"_id":"source/images/2018/colorfull_cmder/result.jpg","hash":"f96450580367add9694d72b68a87caf0ae32e6ae","modified":1560177808961},{"_id":"source/images/2018/colorfull_cmder/cmder_folder.jpg","hash":"6037ed15e1fc948e08e2158ded1f56d1fefaead6","modified":1560177808960},{"_id":"source/images/2018/six_strategies_for_application_deployment/a-b.gif","hash":"defe435b40484fce7d4ccc5d745f93efc73805f1","modified":1523934759644},{"_id":"source/images/2018/six_strategies_for_application_deployment/canary.gif","hash":"8ddbdc76c656761c45341f2d6e95e3b3d1f2b43d","modified":1523934759648},{"_id":"source/images/2018/six_strategies_for_application_deployment/blue-green.gif","hash":"a6622f287873c18232ed84eced936d62297abb74","modified":1523934759647},{"_id":"source/images/2018/six_strategies_for_application_deployment/ramped.gif","hash":"8c76c71e00d1c7bb3c044909f0a858acded8ce3d","modified":1523934759647},{"_id":"source/images/2018/csm/seal-csm.png","hash":"fddd298b710bc0e11b47c940ae8e3879bf37b884","modified":1560177808988},{"_id":"source/images/2018/six_strategies_for_application_deployment/recreate.gif","hash":"a5f6117801f439932ccccb31ff1a8ecb0faea49a","modified":1523934759648},{"_id":"source/images/2019/1/be_a_star.jpg","hash":"0be77a29016068337fbedef8848b221ca428d256","modified":1560177808991},{"_id":"source/images/2019/4/copy_file_to_bin.jpg","hash":"bb26e0f9938478c33419d61e3849f67f62aec195","modified":1560177809002},{"_id":"source/images/2019/5/chrome_2019-05-18_15-36-25.png","hash":"ba684c6f3fbc37fbdd092fab78fbe172e42d859a","modified":1560177809006},{"_id":"source/images/2019/8/aws_choose_instance_type.jpg","hash":"3dbd0b2e761e638ee3ee9b164cc0ccd46444b2bc","modified":1566759141865},{"_id":"source/images/2019/8/aws_ec2_launch_settings.jpg","hash":"ffd0780aa2a4de5f1107472043a7887f56e8a8ed","modified":1566758995510},{"_id":"source/images/2019/8/aws_iissetting.jpg","hash":"59da3529375bd7958d728d6869d4d4d32ee1d2e4","modified":1566758888561},{"_id":"source/images/workerthread_and_iothread/110416_102437_AM.jpg","hash":"a4b6382cea823bea0be5757fe0800639ae0166ce","modified":1523934759656},{"_id":"source/images/workerthread_and_iothread/110416_170101_PM.jpg","hash":"e941d0267614d431c0e422ef753c38de7b75087d","modified":1523934759662},{"_id":"source/images/2019/8/aws_tg_healthcheck.jpg","hash":"7a81a356de1807f64bce216b9b55b14a5cf12b02","modified":1566758926888},{"_id":"source/images/2019/8/the_8th_habbit.jpg","hash":"6414b537ef1cc9f70de79eea7173852e2d4c02a7","modified":1564857628894},{"_id":"themes/landscape/layout/_partial/post/category.ejs","hash":"16128d2422645e18d1b6882d4c4df17d895bd76e","modified":1523934759695},{"_id":"themes/landscape/layout/_partial/post/date.ejs","hash":"947f513f7a85fbcf085624e46dc2ae6de8185eec","modified":1523934759685},{"_id":"themes/landscape/layout/_partial/post/gallery.ejs","hash":"b0bf3f5d923c261ca2b5fabab513f1ec2708c8ca","modified":1523934759692},{"_id":"themes/landscape/layout/_partial/post/tag.ejs","hash":"694b5101bcc44c9f9c1cc62e5ad2fdfb4b7c7a07","modified":1523934759698},{"_id":"themes/landscape/layout/_partial/post/title.ejs","hash":"d4a460a35e2112d0c7414fd5e19b3a16093f1caf","modified":1523934759693},{"_id":"themes/landscape/source/css/_partial/comment.styl","hash":"2834870661e490775f9154d71638bfdc72e640a6","modified":1523934759716},{"_id":"themes/landscape/source/css/_partial/article.styl","hash":"ae3a7b5349a51e8c3835cea9b8e521fa837ff6ef","modified":1540959398049},{"_id":"themes/landscape/source/css/_partial/footer.styl","hash":"6f7aa810f296d6a1a4486637b5a853d35a198938","modified":1523934759718},{"_id":"themes/landscape/source/css/_partial/archive.styl","hash":"9e574d8eb1a5285ec3b4346607414770d2f7e0ff","modified":1523934759719},{"_id":"themes/landscape/source/css/_partial/mobile.styl","hash":"680c7b809b62cd3ad294e822793fbd0b1a32cc33","modified":1523934759720},{"_id":"themes/landscape/layout/_partial/post/nav.ejs","hash":"cbb3819ce512bd24db8bad41b8617d46eba82fdc","modified":1523934759689},{"_id":"themes/landscape/source/css/_partial/highlight.styl","hash":"ac19f1621305ca9f6a7b74acd211a4c0d88690bd","modified":1523934759726},{"_id":"themes/landscape/source/css/_partial/header.styl","hash":"a214ef8ba5bbf8416706b27a89d51944a2318047","modified":1523934759718},{"_id":"themes/landscape/source/css/_partial/sidebar-aside.styl","hash":"1fb15f13ba70d5b954f62920c6b63d26e2fb2985","modified":1523934759724},{"_id":"themes/landscape/source/css/_partial/sidebar-bottom.styl","hash":"4132e25ba9680c4b911a01abc75f501cda3fa4f1","modified":1523934759725},{"_id":"themes/landscape/source/css/_partial/sidebar.styl","hash":"8c856fb1ff2efe9cf78328c297ed1f9d443f645c","modified":1560177809021},{"_id":"themes/landscape/source/css/_util/mixin.styl","hash":"429bad87fc156eacf226c5e35b0eafc277f2504b","modified":1523934759726},{"_id":"themes/landscape/source/css/_util/grid.styl","hash":"1aa883ab432d9e4139c89dcbd40ae2bd1528d029","modified":1523934759727},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1523934759739},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1523934759746},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1523934759738},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1523934759742},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","hash":"6394c48092085788a8c0ef72670b0652006231a1","modified":1523934759742},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","hash":"4c9c395d705d22af7da06870d18f434e2a2eeaf9","modified":1523934759744},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","hash":"e14c32cc6823b81b2f758512f13ed8eb9ef2b454","modified":1523934759744},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"83cdfea43632b613771691a11f56f99d85fb6dbd","modified":1523934759746},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"b88b589f5f1aa1b3d87cc7eef34c281ff749b1ae","modified":1523934759744},{"_id":"source/images/2018/six_strategies_for_application_deployment/shadow.gif","hash":"b1f33ac16a7b637948b1847eea457002e4552f02","modified":1523934759651},{"_id":"source/images/2019/4/perfview.jpg","hash":"c13a96c4704ca45b1891ebf0faa29eb46c124b32","modified":1560177809003},{"_id":"source/images/2019/4/perviewlog.jpg","hash":"d6f4b60bb78d38e7b967699d55437691b1d8fa68","modified":1560177809006},{"_id":"source/images/2019/2/awstools.jpg","hash":"8d59e887d2daf3b95e8839bb73a3820a2c117c80","modified":1560177808998},{"_id":"source/images/2019/3/cell.jpg","hash":"4c62fba6ce9aa37702a7fed09b115e6f7bd9fda0","modified":1560177808998},{"_id":"source/images/2019/3/test_cover_100.jpg","hash":"933447bbece4f5e58b026cb47bee08956a315474","modified":1560177809003},{"_id":"source/images/2019/6/01-overview.png","hash":"df5e0fee0ce9a414f1dd1611a89e2d7d22e36eb0","modified":1560751875366},{"_id":"source/images/2019/8/aws_asg_overview.jpg","hash":"127691f6ccedb2156e0ad331b1f31d0808450073","modified":1566754840842},{"_id":"source/images/2019/8/aws_ebs.jpg","hash":"efa75a9d6300e0f9e4dc85fbb78c61e431b5e941","modified":1566759185387},{"_id":"source/images/2019/8/aws_create_lc.jpg","hash":"1acbe8a134dae3ade6105e8f23a2a2a2c168bf7b","modified":1566760271491},{"_id":"source/images/2019/8/aws_ec2_launch_settings_turn_off.jpg","hash":"69a50179df205cf6abe382f0453cb487368f5736","modified":1566759018713},{"_id":"source/images/2019/8/aws_userdata.jpg","hash":"e284b19c156d976cf7c72ffbf2da5876ce4af96f","modified":1566759167930},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1523934759734},{"_id":"themes/landscape/source/css/images/banner.jpg","hash":"dd61b5b07fedf2fa657aa76c9058d19c1e30d294","modified":1523934759743},{"_id":"source/_posts/2019/book/refactoring/refactoring_Ch1.md","hash":"298e43a662beb162f35aac18473aebf54d6723f8","modified":1560177808947},{"_id":"source/images/2018/csm/day_1/cross_learning.jpg","hash":"7bb1591eeac560bd84162e691af2cc092268cff6","modified":1560177808969},{"_id":"source/images/2018/csm/day_2/Sprint_Backlog_Burndown.jpg","hash":"de345ff70e2580adb4c4977a3f0753d442f4ce72","modified":1560177808982},{"_id":"source/images/2018/csm/elephant.jpg","hash":"038fde0597b3c058389ad991e5d7ecbbbf9d9e6e","modified":1560177808989},{"_id":"source/images/2018/colorfull_cmder/settings.jpg","hash":"28363ec0431e0ff636849303af3b0779f7906a20","modified":1560177808966},{"_id":"source/images/2018/csm/overview.JPG","hash":"d29991d5fca25441f115e968d7d6d9d2c8dda3fe","modified":1560177808992},{"_id":"source/images/2019/1/ubantu_docker.jpg","hash":"c783fe8a00563c8ce56c120d0fa68cb31c525d5a","modified":1560177808999},{"_id":"source/images/2019/1/docker.jpg","hash":"dc0cc2ec6b6f9c1db065bb1755bab7053854ed1b","modified":1560177808993},{"_id":"source/images/2019/5/sonarcloud_gen.jpg","hash":"59713c3242543d191f0550012f83de5eea2a3d0d","modified":1560177809012},{"_id":"source/images/2019/5/sonarcloud_gentoken.jpg","hash":"71b9d47b40fe9149587fff287728cbd2ac0f3a1a","modified":1560177809015},{"_id":"source/images/2019/5/sonarcloud_result.jpg","hash":"6b95fedf4915f8cecf5d99f9c3d3c53bf1c41c2a","modified":1560177809014},{"_id":"source/images/2019/8/aws_choose_ami.jpg","hash":"75cba8b75457ea0e05d4dec91a54990f72709c2b","modified":1566760704300},{"_id":"source/images/2019/8/apprenticeship_patterns.jpg","hash":"ccf6e41fb388a01f86decc920ce92a92ec302c84","modified":1565119651734},{"_id":"source/images/2019/8/aws_gi_create_images.jpg","hash":"564eb769d479b0122332920d6238f96fc4fc1321","modified":1566761133673},{"_id":"source/images/2018/csm/day_1/6B161347-8331-4BA7-89D2-61DA1DAD61B1.jpg","hash":"a9463039bfe1c82f303db19698c3fd346897ae97","modified":1560177808967},{"_id":"source/images/2018/csm/day_1/7D811AFE-A4C8-4FB4-BD90-B65FDFE0B6BE.jpg","hash":"6f7ee64b86878065d15228233f744920f343cf89","modified":1560177808970},{"_id":"source/images/2018/csm/day_1/undone_work.jpg","hash":"715b5d6157a8f9798ffec9da89d349bd19a25ec8","modified":1560177808972},{"_id":"source/images/2018/csm/day_2/V1_V2_V3_V4_VVV.jpg","hash":"cfe46d5b63c865c982174f3151fa495ea13dc611","modified":1560177808988},{"_id":"source/images/2018/csm/day_2/OKR_in_Scrum.jpg","hash":"c5971761bae615966fa7c3161388e44fc2ff81d6","modified":1560177808981},{"_id":"source/images/2018/csm/day_1/螢幕快照 2018-10-28 下午3.46.21.png","hash":"cdd276ad4142e6c045c9b413a5b3667bcd3e67a3","modified":1560177808975},{"_id":"source/images/2018/csm/day_2/splitting.jpg","hash":"cc150e3cb27f84dc185e1d68ac0b7e93e7d3c3fc","modified":1560177808983},{"_id":"source/images/2018/csm/day_2/done&accept.jpg","hash":"4e9782b395d2278fdb87499f5242088e2b796e3a","modified":1560177808979},{"_id":"source/images/2018/csm/day_2/increment_pattern.jpg","hash":"bafe8e2949767b6025425561ea7346a2ef349fc6","modified":1560177808981},{"_id":"source/images/2018/csm/day_2/thinking.jpg","hash":"da7637b51544e4c75ee1d0d7963bd38017f29b60","modified":1560177808985},{"_id":"source/images/2018/six_strategies_for_application_deployment/deployment_strategies.png","hash":"9a1dfbba887451527257f55ab1984a32d6c8deb0","modified":1523934759652},{"_id":"source/images/2019/5/2019-05-18_15-28-53.gif","hash":"d644c8abf73afcd64a08d88364e7bd152ced099b","modified":1560177809007},{"_id":"source/images/2019/5/sonarcloud_command.jpg","hash":"aa226812b74cfc9ea0f62fa8aba0746c074d9889","modified":1560177809007},{"_id":"source/images/2019/8/aws_create_asg.jpg","hash":"8abc2cc79936c5503af609ab3fbb12a5ccfa1aa9","modified":1566760767329},{"_id":"source/images/workerthread_and_iothread/110416_170001_PM.jpg","hash":"bd9fa06701bd800e059df8fd499af13d1b8ad277","modified":1523934759665},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","hash":"a275426daefd3716c53561fad121d258a7f05b47","modified":1523934759736},{"_id":"themes/landscape/source/css/images/banner.bak.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1523934759740},{"_id":"source/images/2018/csm/day_1/00795F54-2654-4581-94BE-27068D4486DD.jpg","hash":"1fd462d279837a8d3d20e6d43d61d92c62691fbc","modified":1560177808968},{"_id":"source/images/2018/csm/day_2/authority_matrix.jpg","hash":"020a200dd934b6bf93a6ab81c143e339d133578a","modified":1560177808979},{"_id":"source/images/2018/csm/day_2/closer_customer.jpg","hash":"44129ceb7b65890e47e7238a1b602f16a80930c3","modified":1560177808979},{"_id":"source/images/2018/csm/day_2/walking_skeleton.jpg","hash":"f772364ce649a11da16212aaefbf63267e456f2f","modified":1560177808989},{"_id":"source/images/2019/8/aws_gi_out_alb.jpg","hash":"fa3905e703ce52767d585d4b498194407f27d830","modified":1566761063073},{"_id":"source/images/workerthread_and_iothread/螢幕擷取畫面_110716_110245_AM.jpg","hash":"556cffba3e1c86d4c33775c3cabfef8fd6fcebc9","modified":1523934759664},{"_id":"source/images/2018/csm/day_1/UserStoryMap.png","hash":"cc759123a2b7a66aa5068bb7f04364101636e8a7","modified":1560177808977},{"_id":"source/images/2019/3/run_stryker.jpg","hash":"c6b4cb378d63cb2e4474e894568160247ea259e6","modified":1560177809005},{"_id":"source/images/2019/8/the_8th_habbit_map.jpg","hash":"f667dfc1bf5a457ab2d9c70755c2448327aa4451","modified":1564859327248},{"_id":"source/images/2018/restclient.gif","hash":"efd426941f7e62ca012014d5c4e59d0dcc4b8c4f","modified":1560177809001},{"_id":"source/images/2019/8/qt_choice_map.jpg","hash":"24556a02e905f03739acfcb849c74db6268b7b89","modified":1564859356479},{"_id":"public/atom.xml","hash":"ea302d4b73be3ae4a3369c384c921ed8826f4778","modified":1574764532132},{"_id":"public/2019/11/26/2019/interview_log/index.html","hash":"c9ba2552cfe773180e8e7ede1850fffd1bcc0c56","modified":1574764532153},{"_id":"public/2019/10/11/2019/github_registry_with_nuget_packages/index.html","hash":"ddedc7b5e4d185cad49bda7d63812095babdfa0e","modified":1574764532154},{"_id":"public/2019/08/25/2019/aws_auto_sacling_group/index.html","hash":"1d68530d91c5dcbdd12af7d20ca7f0c395bb774a","modified":1574764532154},{"_id":"public/2019/09/01/2019/dotnet_core_projecte_template/index.html","hash":"844c679a7c8c5887e1ad661f602632f860dadd44","modified":1574764532154},{"_id":"public/2019/11/07/2019/swing_dance_log/index.html","hash":"e4bf389941e28f637a521a1ed56760777cf45fb6","modified":1574764532153},{"_id":"public/2019/08/20/2019/cpau/index.html","hash":"ede76064a764d42b9067461049e661105636ad0a","modified":1574764532154},{"_id":"public/2019/08/10/2019/book/the_4_disciplines_of_execution/index.html","hash":"da8f29f0629ee8978df0684221af81b8f25c1faf","modified":1574764532154},{"_id":"public/2019/09/26/2019/my_tools_2019/index.html","hash":"0f81d7ccf8a34b778005bfd650d8b3703a34d5b8","modified":1574764532154},{"_id":"public/2019/08/04/2019/book/the_8th_habit_from_effectiveness_to_greatness/index.html","hash":"18086b3d9379ecd80f43284267cd5b2bdef2b7dd","modified":1574764532155},{"_id":"public/2019/07/09/2019/introduce_variable_for_substring/index.html","hash":"96646bcda97c1f3ca64178a0e359854c6c104bbf","modified":1574764532155},{"_id":"public/2019/08/07/2019/book/apprenticeship_patterns/index.html","hash":"91238ba7044e0f749426fde1e84f4be3c18e24c8","modified":1574764532154},{"_id":"public/2019/06/17/2019/stripe_payment/index.html","hash":"1b8e58bca73bba597491618bcf7c255c0b0ce2ca","modified":1574764532155},{"_id":"public/2019/04/12/2019/csproj_content_none/index.html","hash":"30d4282f0d52ea88585215ae6d658b7cf0631582","modified":1574764532156},{"_id":"public/2019/05/16/2019/opensource_with_sonarcloud/index.html","hash":"31ce779a5ca235555968592f77a2c35cb3413237","modified":1574764532155},{"_id":"public/2019/05/16/2019/typescript_unit_test/index.html","hash":"62056d098c7e4028aebaecdb84baa288474807ac","modified":1574764532156},{"_id":"public/2019/04/06/2019/aspdotnet_core_logging/index.html","hash":"81eb29e2b040653bffebd3dacf1e644ca8c759ef","modified":1574764532160},{"_id":"public/2019/02/20/2019/Setting_up_aws_tools_for_powershell/index.html","hash":"0efd8778ac042c1a52ed1760c066350888ff976a","modified":1574764532160},{"_id":"public/2019/04/11/2019/tool_sites/index.html","hash":"8700f55d4593ad6d2a235f71a9ad1334352e3881","modified":1574764532157},{"_id":"public/2019/03/01/2019/book/refactoring/refactoring_Ch1/index.html","hash":"72b85f7a77b6cd02aa799095954130b52bcead5c","modified":1574764532160},{"_id":"public/2019/01/30/2019/coding_dojo_in_company/index.html","hash":"4ac77a800b2771be6bee35e459bb3e76e462a2f2","modified":1574764532160},{"_id":"public/2019/02/06/2019/coding_dojo_kata_fizzbuzz_first/index.html","hash":"71891e73b0d1b608d53a553a56eaeadb9896b091","modified":1574764532160},{"_id":"public/2019/01/13/2019/91_coding_dojo_log/index.html","hash":"a87be0ebd7f2b05f807ffe06d981186d55b3acf2","modified":1574764532160},{"_id":"public/2018/12/30/2018/restclient_gencode/index.html","hash":"8c6fd13a5c502a373502a2864464a4052a66ddb0","modified":1574764532160},{"_id":"public/2018/12/27/2018/csm/to_sum_up_scrum/index.html","hash":"51afe718db8baf953422c6ce7dd45d1d890367e5","modified":1574764532161},{"_id":"public/2019/01/07/2019/run_docker_on_window_subsystem_for_Linux_Ubuntu/index.html","hash":"416224ebf2e3e90dcf158e1427b896f6f8a4fef2","modified":1574764532160},{"_id":"public/2018/12/16/2018/csm/day_2_3/index.html","hash":"8dd7861f857f22d25a1116b1803d33887fab0524","modified":1574764532161},{"_id":"public/2019/01/05/2019/reseed/index.html","hash":"61d1503411402f604e49fb2f687a6a50661370b7","modified":1574764532160},{"_id":"public/2018/12/12/2018/git_delete_remote_branch/index.html","hash":"3affc0677c5e43408a8e6d03f07937269cc25c90","modified":1574764532161},{"_id":"public/2018/12/04/2018/csm/n_company_log_201811/index.html","hash":"b21a51b854c8a0b127e0feddfd05db433d96fc4b","modified":1574764532161},{"_id":"public/2018/11/23/2018/powershell_found_subfolde_by_files_in_folder/index.html","hash":"73bbeda9311fbe973ae8de13660cf47c0edb2476","modified":1574764532161},{"_id":"public/2018/11/19/2018/bdd_stopAfterfaliues/index.html","hash":"9199f42b8e3b59c1a6736176a6d91d81dbfd7bb8","modified":1574764532161},{"_id":"public/2018/11/18/2018/csm/91app_scrum_masters_growth_camp/index.html","hash":"782bfbeea59a619fb5a9a29f503a392771506383","modified":1574764532161},{"_id":"public/2018/11/25/2018/colorfull_cmder/index.html","hash":"8bb32f33eff96b30cf732eb4b3085514c175b1d9","modified":1574764532161},{"_id":"public/2018/11/17/2018/csm/n_company_log_201810/index.html","hash":"09dca58b8ae121721282f0cd1cb168ba9f9ba1f1","modified":1574764532161},{"_id":"public/2018/10/27/2018/csm/day_1/index.html","hash":"62775a4955690de783ab96435279b0ead57e4ce2","modified":1574764532162},{"_id":"public/2018/10/21/2018/books/who_moved_my_cheese/index.html","hash":"5a3d2528d2ca79882446c0d884634f1284dbaff4","modified":1574764532162},{"_id":"public/2018/10/20/2018/hexo_update/index.html","hash":"0bafbb6d8bf2aab7a52920dd237beba65ececf50","modified":1574764532162},{"_id":"public/2018/10/17/2018/linkserver_with_sp_executesql/index.html","hash":"81ca465c22b86df55ea26d9263074758efb21f46","modified":1574764532162},{"_id":"public/2018/11/03/2018/csm/day_2_1/index.html","hash":"465788f0893734e617ffd5bc17ada14b4631a8cf","modified":1574764532162},{"_id":"public/2018/11/04/2018/csm/day_2_2/index.html","hash":"37c4a795711605777583447035f96be7cbf32a04","modified":1574764532162},{"_id":"public/2018/10/02/2018/books/book_history_of_finance/index.html","hash":"53f3992660206243661309f3ca068a32b2e3dd66","modified":1574764532162},{"_id":"public/2018/09/07/2018/l10n_i18n/index.html","hash":"575558c5ce7a70576448b537e9509146c7e6a955","modified":1574764532162},{"_id":"public/2018/10/12/2018/docker_error/index.html","hash":"2a86f0e4e5f7be50754a95f5514d02386b6de2c1","modified":1574764532162},{"_id":"public/2018/08/27/2018/where_is_specrun/index.html","hash":"64e2efa96ba87caa375197cc48b6614e94b22eb7","modified":1574764532163},{"_id":"public/2018/09/18/2018/LCM_and_GCD/index.html","hash":"42748e392f3b0a05abf96e746b65cd1a655d545f","modified":1574764532162},{"_id":"public/2018/09/03/2018/cache_files_and_redis/index.html","hash":"71b8b06166e27bc9a1a7573986ec4cb58b150c4c","modified":1574764532163},{"_id":"public/2018/08/28/2018/defect_release_cors_and_cdn/index.html","hash":"9c0ce9291e0513eedc73d26a23014fc4429812e7","modified":1574764532163},{"_id":"public/2018/07/25/2018/books/book_the_great_scurm_master_ch2/index.html","hash":"dd45cf9172d2b022b70cbae694d543250d877ba2","modified":1574764532163},{"_id":"public/2018/07/15/2018/books/book_the_great_scurm_master_ch1/index.html","hash":"53f9c8465cd396bf905e79405c66a3d2677f9fd6","modified":1574764532163},{"_id":"public/2018/07/02/2018/find_intern/index.html","hash":"4169d3ca8767b43a8affa5a2638eb98a1e3addca","modified":1574764532163},{"_id":"public/2018/07/30/2018/package-lock_modify_after_npm_install/index.html","hash":"9483247d84ab2ca05d64bf86a6db5cbdd075a668","modified":1574764532163},{"_id":"public/2018/07/29/2018/node_set_registry/index.html","hash":"f62dac5eaaf2862f99d482d1ca820cc42d78c492","modified":1574764532163},{"_id":"public/2018/06/02/2018/mit_job_event_log/index.html","hash":"ed65b1a8de0a04ce221aa31d959e891d3272fa05","modified":1574764532164},{"_id":"public/2018/07/23/2018/books/book_the_great_scurm_master_ch3/index.html","hash":"5b52952a0735601c1aea409a174a49f68538b0f6","modified":1574764532163},{"_id":"public/2018/04/26/2018/windows_with_sass/index.html","hash":"11039348660e446791c443af7439324a665eb27d","modified":1574764532164},{"_id":"public/2018/04/17/2018/new_pc_install/index.html","hash":"d680bd6f6bc06523ba7cee2ca380a37544ec2e25","modified":1574764532164},{"_id":"public/2018/04/08/2018/why-google-ibm-and-microsoft-all-decided-to-expand-in-taiwan-this-year/index.html","hash":"486cf516ad9ba2fc6f6eeed9c8e3ed5ded0e0362","modified":1574764532164},{"_id":"public/2018/05/29/2018/books/the_silo_effect_7/index.html","hash":"640b4576759b80b043c59a2e58fda984b9bc9fdd","modified":1574764532164},{"_id":"public/2018/06/10/2018/body_error/index.html","hash":"d403cd19ce680cd8e46d23c9d243b257b3d2bbb7","modified":1574764532164},{"_id":"public/2018/04/05/2018/linux_command_2/index.html","hash":"82cacac981a78cbd1c650d8e085627494f4272f4","modified":1574764532164},{"_id":"public/2018/03/26/2018/linux_command_1/index.html","hash":"d12ed1b18e7d0363443260f2c90de24886a806cf","modified":1574764532165},{"_id":"public/2018/03/22/2018/the_art_of_unit_testing_2nd_0/index.html","hash":"d1edb577ed79a8fe4dc04b74b39c2789ec6d6360","modified":1574764532165},{"_id":"public/2018/03/20/2018/mutation_testing/index.html","hash":"a58301819a94cf0b6e5aa5cbbcc77df8b7ce213f","modified":1574764532165},{"_id":"public/2018/03/25/2018/cloud_learn/aws_cli_login/index.html","hash":"69bdba09d17a3e53a0d35b75c040bb66d8cbfc5e","modified":1574764532165},{"_id":"public/2018/03/15/2018/shopee_tech_sharing/index.html","hash":"73a3ceb10d50e5b9f1b6b21a187b2775bb81d46f","modified":1574764532165},{"_id":"public/2018/02/12/2018/csharp_common_mistakes_1/index.html","hash":"fadbdb3510e3388512e39913b5ecaaeda6e4ce8e","modified":1574764532165},{"_id":"public/2018/01/07/2018/six_strategies_for_application_deployment/index.html","hash":"e89fb04b18117199c1a3967e94a300bdcd845cb5","modified":1574764532166},{"_id":"public/2018/04/04/2018/cloud_learn/aws_access_billing_console/index.html","hash":"242f6c1540c85d819782ffec5ca9d5ef05f44811","modified":1574764532164},{"_id":"public/2018/01/04/2018/coding_standard_and_coding_style_and_principle/index.html","hash":"8d8fa22a8554d6336bedd695c45a281d4f80d352","modified":1574764532166},{"_id":"public/2018/01/26/2018/cloud_learn/aws_startup_with_iam/index.html","hash":"f08bf03ae555b05f20f334f98bdd966c794b2277","modified":1574764532165},{"_id":"public/2017/12/08/2017/test_learn/integrated_testing_partice2_question/index.html","hash":"0f481e2e0299b5fed1018102c67f53083f6b5093","modified":1574764532166},{"_id":"public/2018/01/01/2018/next_year/index.html","hash":"f12704222802847bb69919da8db696d5d1e3016d","modified":1574764532166},{"_id":"public/2018/01/01/2018/2017_learned/index.html","hash":"b810719533046b75e7145de27c0c59392c733793","modified":1574764532166},{"_id":"public/2017/12/11/2017/test_learn/vs2017_mstest_with_nuget/index.html","hash":"83a532027fd330d15fc7c26be08d06d572f0cd7a","modified":1574764532166},{"_id":"public/2017/12/08/2018/cloud_learn/aws_creat_ec2_instance/index.html","hash":"ac5031bae40de0f2212023a1c75371ae08d663f3","modified":1574764532166},{"_id":"public/2017/10/31/2017/integrated_testing_partice/index.html","hash":"560c7ad39f4de828cc4fcf0e020c1df76a1bf48a","modified":1574764532166},{"_id":"public/2017/09/24/2017/sql_ef6_dateInterceptor/index.html","hash":"8c27e215505dc8a402069acb32f7b56258440092","modified":1574764532167},{"_id":"public/2017/08/16/2016/express_with_typescript/index.html","hash":"4ef036d658c478c8a0ce21336c3ebe67b9f86630","modified":1574764532167},{"_id":"public/2017/10/22/2018/books/book_outliers_the_story_of_success/index.html","hash":"dd0e4bd96863d4fd29afc7e423b1ea7814bc65af","modified":1574764532167},{"_id":"public/2017/10/23/2017/weekly_learn/20171023/index.html","hash":"87d382b78cc446b68609b7805a56671bbaf6e194","modified":1574764532166},{"_id":"public/2017/07/20/2016/google_api_auth_2/index.html","hash":"131acf5a8117fd2a1ab91a523f51814769794fa5","modified":1574764532167},{"_id":"public/2017/05/19/2017/testingislearning/index.html","hash":"261e384b9f73b0caaa9cdaa0145ff5e9b9c6a55a","modified":1574764532167},{"_id":"public/2017/07/14/2016/google_api_auth_1/index.html","hash":"bbfd05350d42e9fab82701783ef08a310b961480","modified":1574764532167},{"_id":"public/2017/09/18/2017/sql_compatibility_level_with_datetime2/index.html","hash":"51191ad0e2b5714896c2f2aa946940e404d48af4","modified":1574764532167},{"_id":"public/2017/04/23/2017/unitestwriting/index.html","hash":"cca11f92fff58c14472bdda44c56dc155eda231f","modified":1574764532167},{"_id":"public/2017/04/29/2017/ci_use_jenkins_on_two_windows/index.html","hash":"96e6119f70202d77d9a2878e086a70288f999368","modified":1574764532167},{"_id":"public/2017/02/08/2017/auto_add_trello_card/index.html","hash":"a191e7919e3bc60c086c14e0455f1219d8b48ccd","modified":1574764532168},{"_id":"public/2017/03/26/2017/books/book_attack_your_day/index.html","hash":"5b6be9aef0cb05326243ed883dac23f9c817fe9b","modified":1574764532168},{"_id":"public/2017/01/28/2017/aspdotnet_threadpool_monitor/index.html","hash":"1686fe0a4273caefa094956426586072f1e5669a","modified":1574764532168},{"_id":"public/2017/01/15/2017/ci_use_jenkins_on_windows/index.html","hash":"859c0594761332995216876d0d7d5880bf2f5fbf","modified":1574764532168},{"_id":"public/2017/01/15/2017/ci_use_jenkins_on_openshfit/index.html","hash":"5e5e055e791031611e3e1521c926b23d489d8f62","modified":1574764532168},{"_id":"public/2017/01/24/2017/iis_tracing_log_setting/index.html","hash":"72335676f60365a88da3d57ad4490c43854d8b66","modified":1574764532168},{"_id":"public/2017/01/15/2017/ci_use_jenkins/index.html","hash":"3200452bf79428d80c3ad819bb69096c4ab4176e","modified":1574764532168},{"_id":"public/2017/01/11/2017/c_sharp_6_interpolation_string_stylecop_sa0102/index.html","hash":"508d5d532f2d276adc5de9d9f0fb866855ea7e01","modified":1574764532168},{"_id":"public/2016/11/28/2016/dotnet_pdb_file/index.html","hash":"fb02204f9bd86a16e7399cfce9b57d8bd9376c2a","modified":1574764532169},{"_id":"public/2016/10/28/2016/about_content_type/index.html","hash":"5365416c402a4991ce9bcdcba8a89955a2a3faae","modified":1574764532169},{"_id":"public/2016/11/21/2016/aspdotnet_threadpool_and_redis/index.html","hash":"a472f8273ccfdd114345ae95aa46a69b9161c990","modified":1574764532169},{"_id":"public/2016/10/21/2016/1st_time_with_powershell/index.html","hash":"b1f58374ffe73158a9b206512a672c00bfa149be","modified":1574764532169},{"_id":"public/2016/10/14/2016/todolist_by_typescript_2/index.html","hash":"5508c4087cc78a853eb668fc217fa1743399bea5","modified":1574764532169},{"_id":"public/2016/12/05/2016/be_friend_with_time/index.html","hash":"b7da66a52042c675c9e1d82902f62dfaa6f3075c","modified":1574764532168},{"_id":"public/2016/10/08/2016/todolist_by_typescript_1/index.html","hash":"4413cef1cd038ec053790bc5f52348b3ac579798","modified":1574764532169},{"_id":"public/2016/09/04/2016/http2 by cloudflare/index.html","hash":"c0bccd9a88144f6bf70e3ea78d5d12c506033702","modified":1574764532169},{"_id":"public/2016/08/29/2016/file_rowdata_import_mssql/index.html","hash":"c8f4bb29cbaa4834414615f576317817983ee708","modified":1574764532169},{"_id":"public/2016/08/25/2016/add_google_analytics_to_hexo_blog_1/index.html","hash":"c609f3f146ae6e6f7ce6e3bd0745a0eea8f2a86d","modified":1574764532169},{"_id":"public/2016/08/28/2016/how_to_use_github_page/index.html","hash":"9e32d63b60606e047819e5126075b8cb1ad4fd58","modified":1574764532169},{"_id":"public/2016/08/21/2017/setting_DNS_with_google/index.html","hash":"6f68717a8cc75acc901ea2914798a4e81f7e0c74","modified":1574764532170},{"_id":"public/2016/08/13/2016/hello-world/index.html","hash":"4c06de0556d6d96e56be1d1634f3b8ee49988c20","modified":1574764532170},{"_id":"public/archives/page/3/index.html","hash":"805b8b0db0dcf46d9d2a462646479c4a47b51323","modified":1574764532170},{"_id":"public/archives/page/4/index.html","hash":"dc1ae2f69ebfdf4708004f18d2de350855978569","modified":1574764532170},{"_id":"public/archives/index.html","hash":"2590fb7cc80522be42b4f716a64a2d5d2fd00f78","modified":1574764532170},{"_id":"public/2016/08/20/2016/sites_todo_list/index.html","hash":"b275e6b4e7f85591a839a1f414b05782b30d02ab","modified":1574764532170},{"_id":"public/archives/page/6/index.html","hash":"d2bd53c9cec12889a34111a3bed61858a53e0c3f","modified":1574764532170},{"_id":"public/archives/page/2/index.html","hash":"2d86b98abde4dbc30a7012a067ea3092899b3e15","modified":1574764532170},{"_id":"public/archives/page/7/index.html","hash":"a1ae96e277bc888e56e22b6a8218b5f436eea059","modified":1574764532171},{"_id":"public/archives/page/8/index.html","hash":"007e22f51477e21a570b6164d43928bbb9a871b8","modified":1574764532171},{"_id":"public/archives/page/10/index.html","hash":"f30cf6ed106ca147b255d6ca162427440f404e31","modified":1574764532171},{"_id":"public/archives/page/5/index.html","hash":"862ffaccb47fd19a162edde6ab62065f22d99f03","modified":1574764532170},{"_id":"public/archives/page/9/index.html","hash":"4e87c78b72ef55e3b6a42eea6ef6b5bfdd1626f5","modified":1574764532171},{"_id":"public/archives/2016/index.html","hash":"17706a77b8bbafc2568a0da9011e6caed205de12","modified":1574764532171},{"_id":"public/archives/page/11/index.html","hash":"96305767329e53991f2b165396beea1bd8bd1e94","modified":1574764532171},{"_id":"public/archives/2016/08/index.html","hash":"fbdee1a071f2e9579b6953856bdfe326cea92ead","modified":1574764532172},{"_id":"public/archives/2016/10/index.html","hash":"b1f964f2b1d3fb663209981c85e2a0bd364668b0","modified":1574764532172},{"_id":"public/archives/2016/09/index.html","hash":"04c3784211ac6cfb3b52786f6b16c8fb89adfd2d","modified":1574764532172},{"_id":"public/archives/2016/11/index.html","hash":"291a68b004b9f01ceba7fb07839b53b6a3af76e2","modified":1574764532172},{"_id":"public/archives/2016/page/2/index.html","hash":"e6c726a49e56306bdf8abde934c52512d973ded3","modified":1574764532171},{"_id":"public/archives/2016/12/index.html","hash":"9ad9dabdfc9d90ea1f8049b8d149637f1de60c9b","modified":1574764532172},{"_id":"public/archives/2017/index.html","hash":"ed054fac27b7a24d18c570d1d229e80b0222a09c","modified":1574764532172},{"_id":"public/archives/2017/page/2/index.html","hash":"aa0cf46ec05a5f5ad1e88e379eb55456b0c8a66f","modified":1574764532172},{"_id":"public/archives/2017/page/3/index.html","hash":"0a1faefb28176786c4447c0b53b9703c925d4d5c","modified":1574764532172},{"_id":"public/archives/2017/02/index.html","hash":"db93bf53a32c874339898540b22bf78d0fa9d1e6","modified":1574764532172},{"_id":"public/archives/2017/01/index.html","hash":"90fb081559382f582467beface3ed88b69c07de6","modified":1574764532172},{"_id":"public/archives/2017/03/index.html","hash":"8f06cc02fcf85e309ddd796231a6ef7f39c44ddd","modified":1574764532173},{"_id":"public/archives/2017/04/index.html","hash":"3eb4eb2d007d2e61bf384eb875f7e13c4aa2ba8b","modified":1574764532174},{"_id":"public/archives/2017/05/index.html","hash":"fa0dfb1f088bd22736c427b943df4cce9b9a682d","modified":1574764532174},{"_id":"public/archives/2017/08/index.html","hash":"e53823a54eac9d25bd513c52ace0f744750e2f6b","modified":1574764532174},{"_id":"public/archives/2017/09/index.html","hash":"689b58ab5c3f140040b05eb71bcd01bed20587bd","modified":1574764532174},{"_id":"public/archives/2017/07/index.html","hash":"c223caf979cc4d3665c06f6f66a73d3b7096f853","modified":1574764532174},{"_id":"public/archives/2017/10/index.html","hash":"12660dfbf261557d90758800d54e6ad70309f338","modified":1574764532174},{"_id":"public/archives/2017/12/index.html","hash":"6607a110679f0fd4036367c7e440d70cfa6f8211","modified":1574764532174},{"_id":"public/archives/2018/index.html","hash":"71af76cb21cc037717b6d96f6d980c977d4e0f73","modified":1574764532175},{"_id":"public/archives/2018/page/3/index.html","hash":"5917e954d16f7e0c6e710bcdf9f5c0f911d6f07c","modified":1574764532175},{"_id":"public/archives/2018/page/4/index.html","hash":"dd34c02e0b2c65ed3202bcb13aa67d50ed546490","modified":1574764532175},{"_id":"public/archives/2018/01/index.html","hash":"9593b2d33894713a7817439d37635e359e232f50","modified":1574764532175},{"_id":"public/archives/2018/02/index.html","hash":"3a16010a01b9892401667bc727fd4c154500c207","modified":1574764532175},{"_id":"public/archives/2018/page/2/index.html","hash":"17535ccfc8d9b4c4511a5d51c56c5fa33ca2708d","modified":1574764532175},{"_id":"public/archives/2018/04/index.html","hash":"e3c71ca7f491785b4d86ffe501e96136d84bb007","modified":1574764532175},{"_id":"public/archives/2018/05/index.html","hash":"d893e119b6c95fece1b9b8984e47e5837983691c","modified":1574764532176},{"_id":"public/archives/2018/07/index.html","hash":"6e38008f3a88b6fd87212dc1fe7539c18fb6ef32","modified":1574764532176},{"_id":"public/archives/2018/08/index.html","hash":"0dd7e77549bb1f6cad49fceb04796be4270b8b20","modified":1574764532176},{"_id":"public/archives/2018/page/5/index.html","hash":"c0314615ae41b344a42f2fbedb5077c0e7fda612","modified":1574764532175},{"_id":"public/archives/2018/03/index.html","hash":"c33be9b4cbd5f3709b081e54ed444e909a102437","modified":1574764532175},{"_id":"public/archives/2018/06/index.html","hash":"f9ebfe68515ac7991ac5e1143a70c41d62ffc324","modified":1574764532176},{"_id":"public/archives/2018/11/index.html","hash":"3ad6ba79991b8c15c4b46eb6a68397424aaa9549","modified":1574764532176},{"_id":"public/archives/2018/09/index.html","hash":"54d33b26414c8c4ea0e2a13ca62a33d2d0363f38","modified":1574764532176},{"_id":"public/archives/2018/10/index.html","hash":"a0b606d3c12caa7b60af40d13071b7def5cb3da8","modified":1574764532176},{"_id":"public/archives/2018/12/index.html","hash":"bea934f35e669cc38049559a79c1969ae3405dbb","modified":1574764532176},{"_id":"public/archives/2019/index.html","hash":"a2bc00e9aaf83c1ed5da6d0ed69fa002afd7a6aa","modified":1574764532177},{"_id":"public/archives/2019/page/3/index.html","hash":"1826fa963b5e7df58889c0a43dcf665a47f46908","modified":1574764532177},{"_id":"public/archives/2019/03/index.html","hash":"b42c72fe3437139c9dc94de2796fe02a7364d80a","modified":1574764532178},{"_id":"public/archives/2019/page/2/index.html","hash":"f248f6589ef13150642ccbd5d94c34e903b3f34f","modified":1574764532177},{"_id":"public/archives/2019/02/index.html","hash":"62ae61df523c3268cdae933a9dd22e791d8ca1fb","modified":1574764532177},{"_id":"public/archives/2019/01/index.html","hash":"53fbf2f9a50806d126ed3983c5417f089dbd627f","modified":1574764532177},{"_id":"public/archives/2019/05/index.html","hash":"f2d9c11c2a672f3b97ce87ffadc9a9d40e702b0e","modified":1574764532178},{"_id":"public/archives/2019/04/index.html","hash":"41e45c2145502b62b5eace57aac9a8cc98e88e01","modified":1574764532178},{"_id":"public/archives/2019/07/index.html","hash":"79c1cf0c1291dde2f4b8edbef74d0f648df9cd70","modified":1574764532178},{"_id":"public/archives/2019/08/index.html","hash":"c902b792042225adfc81616a7bb67edc2edb92df","modified":1574764532178},{"_id":"public/archives/2019/09/index.html","hash":"469bfd918667688d6db3def87a767d57a881d923","modified":1574764532178},{"_id":"public/archives/2019/10/index.html","hash":"bf21ef9b29f0c3c42bbc99e71f81fe5c8755e082","modified":1574764532178},{"_id":"public/index.html","hash":"cf8587b078b158ba6a0b0e271cbb199304e4e0d7","modified":1574764532178},{"_id":"public/archives/2019/11/index.html","hash":"948d5c4cebb2d9bff98d8fb30ac87737c0d12a09","modified":1574764532178},{"_id":"public/page/2/index.html","hash":"f80e82652b6fd7dc1b15ce06339225d4b315b8a8","modified":1574764532179},{"_id":"public/archives/2019/06/index.html","hash":"cd8d0e7fe3828fbc379b760dcf09aeb2039b48d9","modified":1574764532178},{"_id":"public/page/3/index.html","hash":"576144f8d23548e0b5437c869eaceb696a91c485","modified":1574764532179},{"_id":"public/page/4/index.html","hash":"67d699c37c71e9dde91ab18f4b975f9c525e0413","modified":1574764532179},{"_id":"public/page/5/index.html","hash":"59cb952d84e0bd6f73e99ddfd9c93683db575017","modified":1574764532179},{"_id":"public/page/7/index.html","hash":"43117a1f335ab0989d26a58952fff5fce2171e87","modified":1574764532180},{"_id":"public/page/8/index.html","hash":"62972c847ef19827e987e46b10a46e9c9e849ab3","modified":1574764532179},{"_id":"public/page/6/index.html","hash":"895745488fbdb8812a35088a60753d8f366f08cd","modified":1574764532179},{"_id":"public/page/10/index.html","hash":"fc2332200aee4becd6140e458d536d47a2826ff8","modified":1574764532180},{"_id":"public/page/11/index.html","hash":"5dc5072146093c1abcdc9d05d9f9910049bc9adc","modified":1574764532180},{"_id":"public/page/9/index.html","hash":"ccf6b5c9f7d64c32ec79f89b9dbe136db8fe5506","modified":1574764532180},{"_id":"public/tags/IO/index.html","hash":"2575310fb5e2c6ef1a0a189844609be79a88bd6d","modified":1574764532180},{"_id":"public/tags/記錄/index.html","hash":"ea951b7f09943ea56b59db7922e5fd50b9e7edf2","modified":1574764532180},{"_id":"public/tags/CI-CD/index.html","hash":"0d989fadf9e1a42be50794a4fb6d344063d8c7ae","modified":1574764532181},{"_id":"public/tags/Cache/index.html","hash":"2d1bab3581dd7af85deeca3b1bdc879055a17fb3","modified":1574764532181},{"_id":"public/tags/Net-Framework/index.html","hash":"a15727ab058b563c62abd8e0544e439a6864e5f6","modified":1574764532180},{"_id":"public/tags/Thread/index.html","hash":"7edfa3cfdad0370b717b8928e90b4392313d4180","modified":1574764532181},{"_id":"public/tags/html/index.html","hash":"c8060673ef4efbf27a5db40fb2f5fb1833d7cfa8","modified":1574764532181},{"_id":"public/tags/Hexo/index.html","hash":"272afef0acde225c6700f7c89a45f5422d0466a1","modified":1574764532181},{"_id":"public/tags/Google/index.html","hash":"42fd7839ab321d3db6dc93338606272e9bbba239","modified":1574764532181},{"_id":"public/tags/HTTP/index.html","hash":"33d8608ac3c523680d0453e81e1b1f7cad22190a","modified":1574764532181},{"_id":"public/tags/post/index.html","hash":"7f62e47cf66cd4fbe5906683507c6c4d071d3be4","modified":1574764532181},{"_id":"public/tags/Content-Type/index.html","hash":"8628d8d4caba8e2b5080f38ca396b3188ad4b8f5","modified":1574764532181},{"_id":"public/tags/MsSQL/index.html","hash":"fa9d6af3986c9920924f975749b608983af3b8f4","modified":1574764532182},{"_id":"public/tags/閱讀筆記/index.html","hash":"cfc7a2b5f20fbb51919a35dc997229dc6cb2667e","modified":1574764532182},{"_id":"public/tags/PowerShell/index.html","hash":"2e65d8e1e4387324c965759f42f559f40d839e1a","modified":1574764532181},{"_id":"public/tags/Redis/index.html","hash":"5a722751d5d6cc15b7bd384d5f5599375643a905","modified":1574764532182},{"_id":"public/tags/Database/index.html","hash":"f085a9bb5dfe1d6c9dda784a45e45836c10bf5c3","modified":1574764532181},{"_id":"public/tags/Expressjs/index.html","hash":"710dd26b8a4659e5f6a0272424cf106003f079df","modified":1574764532182},{"_id":"public/tags/Gulpjs/index.html","hash":"7ca5d4fd739ebe7817992f63fd2ab57aa54b6a24","modified":1574764532182},{"_id":"public/tags/TypeScript/index.html","hash":"48061871c4df887ea80a11239877f72b870b001b","modified":1574764532182},{"_id":"public/tags/閱讀筆記/page/2/index.html","hash":"bcc2106daebb2c00268af0505448338519753d22","modified":1574764532182},{"_id":"public/tags/Node-js/index.html","hash":"0c568f2a2f81fe6d704ee6d44395573b998bb366","modified":1574764532182},{"_id":"public/tags/OAuth/index.html","hash":"636b44249ae74c294e793d6bb1b7df9654f234c0","modified":1574764532182},{"_id":"public/tags/API/index.html","hash":"d8782fcabc7a352af55706483bb1f2da1d53cef1","modified":1574764532182},{"_id":"public/tags/SQL-Server/index.html","hash":"c9fd71ba0a8bdc80c4a5f634cd1396ba65539066","modified":1574764532182},{"_id":"public/tags/TCP-IP/index.html","hash":"67f000cea7ec575423c12cdf89de58031e343698","modified":1574764532183},{"_id":"public/tags/github/index.html","hash":"bc19b3d7c1353670431367ea94675086ab53d285","modified":1574764532183},{"_id":"public/tags/NPM/index.html","hash":"b193266b22396b9485ca99f2272736f6087fbbd9","modified":1574764532183},{"_id":"public/tags/JQuery/index.html","hash":"50d5f304b635115ace84ee10715914c329adacfe","modified":1574764532183},{"_id":"public/tags/時間管理/index.html","hash":"7ee811204d4c892e468c04fb938d5e991646ab8d","modified":1574764532183},{"_id":"public/tags/StyleCop/index.html","hash":"c22400a35840eb4c0d6b270ef8db82d883c8f936","modified":1574764532184},{"_id":"public/tags/Trello/index.html","hash":"56a74d5ad3f765389afed0f373e0804df0851e0f","modified":1574764532183},{"_id":"public/tags/BootStrap/index.html","hash":"bc396f337e41b078d26fdf06823a1ac2e9008137","modified":1574764532183},{"_id":"public/tags/Jenkins/index.html","hash":"98eed70e5c414ce289570aa8f815d960a96f90e1","modified":1574764532184},{"_id":"public/tags/IIS/index.html","hash":"53522c556abccf379cd65c96e4ed49ca65c8609b","modified":1574764532184},{"_id":"public/tags/Openshift/index.html","hash":"502c124bcb5ed0d40d05e6b87324493ce51f0ff5","modified":1574764532184},{"_id":"public/tags/Unit-Testing/index.html","hash":"7f533513d1267dedde1e504c5354ad0e22735afa","modified":1574764532185},{"_id":"public/tags/Integrated-Testing/index.html","hash":"21f24d195b1472930c9d7308362e7ff53988d4df","modified":1574764532185},{"_id":"public/tags/website/index.html","hash":"de52a4743c39dc5c35dbfc5dc98f7d12adf1c83d","modified":1574764532185},{"_id":"public/tags/DNS/index.html","hash":"e5b5acc7d74b3ef2cbc1470a5cffaef6d4aa5f6f","modified":1574764532185},{"_id":"public/tags/Testing/index.html","hash":"1d70a9e5a62488434776449352fa5ea106bdcdc9","modified":1574764532185},{"_id":"public/tags/Mongodb/index.html","hash":"527fb1bb12a9e2b597b5315f1292eaec0aff610f","modified":1574764532186},{"_id":"public/tags/Docker/index.html","hash":"c76195b4893055d68f311bf85d9140a54bb077f5","modified":1574764532186},{"_id":"public/tags/Container/index.html","hash":"3a6a55c1ab60207707cad3e712ea7c4925bf6574","modified":1574764532186},{"_id":"public/tags/AWS/index.html","hash":"263dc00518a35ebc169695c7729771934cf76608","modified":1574764532186},{"_id":"public/tags/domain/index.html","hash":"759ee981ebbd8c11be71442ca21eaae6bc879889","modified":1574764532185},{"_id":"public/tags/CDN/index.html","hash":"6fa5db267301b2cda05b5665e1f73b9d475dad2e","modified":1574764532186},{"_id":"public/tags/Entity-Framework/index.html","hash":"5229ee5d7415b886c76d8105ce7cceaf4bbb149c","modified":1574764532185},{"_id":"public/tags/Coding-Standard/index.html","hash":"a4d090c5b219a8da4034373fa0b9b532dccd6b3a","modified":1574764532186},{"_id":"public/tags/Git/index.html","hash":"48b33afac690dae5ebc7c58492417f9e2bf87591","modified":1574764532186},{"_id":"public/tags/SQL/index.html","hash":"421ef38b3384171c61dc7dee30a39a8c4fdfd1df","modified":1574764532186},{"_id":"public/tags/Unix/index.html","hash":"112c63eb33b216501f53b582f1efc2ea508577a0","modified":1574764532186},{"_id":"public/tags/Linux/index.html","hash":"c0045d701b8975ff57dc2e8de13f3bc058352333","modified":1574764532187},{"_id":"public/tags/Shell/index.html","hash":"2201149934b32b2ef15a1b74fb687583a4334b8b","modified":1574764532187},{"_id":"public/tags/TDD/index.html","hash":"d600d278ec9db0a3e2b646f3f996c39432510c0b","modified":1574764532187},{"_id":"public/tags/Mutation-Teseting/index.html","hash":"6869d526c7d65be00f6a881a8ca7f857e1dd992d","modified":1574764532187},{"_id":"public/tags/產業趨勢/index.html","hash":"e79ff4d5399bf9e93b234ac7a195935f819557c4","modified":1574764532187},{"_id":"public/tags/IoT/index.html","hash":"c91184f5361262cc4289e3b5f969b87034c81af7","modified":1574764532187},{"_id":"public/tags/Machine-Learning/index.html","hash":"f858e7f596243ceb1dfecf8f60ce17c9e1738176","modified":1574764532187},{"_id":"public/tags/AI/index.html","hash":"16cefd067fbb253c4ed17ef6ffca68df483afb06","modified":1574764532187},{"_id":"public/tags/Specflow/index.html","hash":"15fd5f1c7f89c33f4643a4635aa0ca7ea4100d50","modified":1574764532187},{"_id":"public/tags/Windows/index.html","hash":"c62a553094070fada586fcbd9d72e071f58e64a3","modified":1574764532187},{"_id":"public/tags/SCSS/index.html","hash":"5f71ad38fd04ae58c4814982a18bfaf0feb93abb","modified":1574764532187},{"_id":"public/tags/Vim/index.html","hash":"bcb3dff61de81fe781a9e65900aa34661d3795d8","modified":1574764532188},{"_id":"public/tags/重構/index.html","hash":"f381a1bda6e627773fabb787b4819ccc6411adb6","modified":1574764532188},{"_id":"public/tags/Ruby/index.html","hash":"5ce1758848c1492c426d3047b968ffcb482ddc53","modified":1574764532188},{"_id":"public/tags/工作筆記/index.html","hash":"72473f4233c5421eee413bb69ecce546b092ff92","modified":1574764532188},{"_id":"public/tags/實作筆記/index.html","hash":"3d6663a827ab32335ed79d4a49aca5a483edc73c","modified":1574764532188},{"_id":"public/tags/Kubernetes/index.html","hash":"11899b4c0626f79ecd6a7d0cce83abef5973f44c","modified":1574764532188},{"_id":"public/tags/MsTest/index.html","hash":"a60f7f7ac3b8037a6d86818a0d4ced8270f34d09","modified":1574764532188},{"_id":"public/tags/Visual-Studio/index.html","hash":"27399b909eb842302612f80abfa41e73f577734c","modified":1574764532188},{"_id":"public/tags/Scrum/index.html","hash":"154e229562d816d67ebcdc78766a05e8d5f5b9a9","modified":1574764532189},{"_id":"public/tags/Agile/index.html","hash":"e351c9b0e44d6b50d44b50139032fdad675272de","modified":1574764532189},{"_id":"public/tags/Scrum/page/2/index.html","hash":"a3804971982c96e506530eeb9787071f15eabaa9","modified":1574764532189},{"_id":"public/tags/Agile/page/2/index.html","hash":"de790c2e52c3511d4f71032a477e465058a29b85","modified":1574764532189},{"_id":"public/tags/Root-User/index.html","hash":"6030739754498216e1fe534ceadef937c51b75af","modified":1574764532189},{"_id":"public/tags/IAM/index.html","hash":"ac18f53df2733428184168844abe00426824e049","modified":1574764532189},{"_id":"public/tags/EC2/index.html","hash":"44ff89455192a921fadd6d88110d65b11d7621fe","modified":1574764532189},{"_id":"public/CNAME","hash":"1c1ded058047f1d22275a8561240d1074b7a5cca","modified":1574764434898},{"_id":"public/README.md","hash":"7e15d0a159a4a8be81924f6f4392266dcd4b407c","modified":1574764434898},{"_id":"public/images/102216_095355_PM.jpg","hash":"721e0caf732a8c6cd6b1b83a31fec062af16a744","modified":1574764434898},{"_id":"public/images/workerthread_and_iothread/110416_102435_AM.jpg","hash":"a876fb25212a93ae47f0447a83d64d2f5028d03a","modified":1574764434898},{"_id":"public/favicon.ico","hash":"998df8105a3500811219e4a176d14b1d88ab8b94","modified":1574764434898},{"_id":"public/images/090516_023554_AM.jpg","hash":"a9cec76e1e7b039f9c870fdf0f938cf4edfd7ce8","modified":1574764434899},{"_id":"public/images/workerthread_and_iothread/110416_103521_AM.jpg","hash":"839e4d25969fc11027a13413c74a3456524d8f3e","modified":1574764434899},{"_id":"public/amp-dist/sample/sample-avator.png","hash":"0c9e74f8207353ace09090a7d17def59ab9b98c8","modified":1574764434899},{"_id":"public/amp-dist/sample/sample-substituteTitleImage.png","hash":"f7d5b269516ed2ef4c855466b5d78d4ca136445c","modified":1574764434899},{"_id":"public/amp-dist/sample/sample-logo.png","hash":"9dad0e8cc4d48c6e550820e91377e2028a344176","modified":1574764434899},{"_id":"public/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1574764434899},{"_id":"public/images/workerthread_and_iothread/110416_112435_AM.jpg","hash":"3bc3703723f421303a5119d6563e8d32614f4ac2","modified":1574764434899},{"_id":"public/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1574764434899},{"_id":"public/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1574764434899},{"_id":"public/images/workerthread_and_iothread/278553_300x300.jpg","hash":"4cba555dc1ba4aef9e7aee3b4adb1d06a3937968","modified":1574764434899},{"_id":"public/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1574764434899},{"_id":"public/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1574764434899},{"_id":"public/images/2018/colorfull_cmder/result.jpg","hash":"f96450580367add9694d72b68a87caf0ae32e6ae","modified":1574764434899},{"_id":"public/images/2018/colorfull_cmder/cmder_folder.jpg","hash":"6037ed15e1fc948e08e2158ded1f56d1fefaead6","modified":1574764434899},{"_id":"public/images/2018/six_strategies_for_application_deployment/a-b.gif","hash":"defe435b40484fce7d4ccc5d745f93efc73805f1","modified":1574764434899},{"_id":"public/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1574764434899},{"_id":"public/images/2018/csm/seal-csm.png","hash":"fddd298b710bc0e11b47c940ae8e3879bf37b884","modified":1574764434900},{"_id":"public/images/2018/six_strategies_for_application_deployment/recreate.gif","hash":"a5f6117801f439932ccccb31ff1a8ecb0faea49a","modified":1574764434900},{"_id":"public/images/2019/1/be_a_star.jpg","hash":"0be77a29016068337fbedef8848b221ca428d256","modified":1574764434900},{"_id":"public/images/2018/six_strategies_for_application_deployment/blue-green.gif","hash":"a6622f287873c18232ed84eced936d62297abb74","modified":1574764434900},{"_id":"public/images/2019/4/copy_file_to_bin.jpg","hash":"bb26e0f9938478c33419d61e3849f67f62aec195","modified":1574764434900},{"_id":"public/images/2019/5/chrome_2019-05-18_15-36-25.png","hash":"ba684c6f3fbc37fbdd092fab78fbe172e42d859a","modified":1574764434900},{"_id":"public/images/2018/six_strategies_for_application_deployment/canary.gif","hash":"8ddbdc76c656761c45341f2d6e95e3b3d1f2b43d","modified":1574764434900},{"_id":"public/images/2019/8/aws_iissetting.jpg","hash":"59da3529375bd7958d728d6869d4d4d32ee1d2e4","modified":1574764434900},{"_id":"public/images/2018/six_strategies_for_application_deployment/ramped.gif","hash":"8c76c71e00d1c7bb3c044909f0a858acded8ce3d","modified":1574764434900},{"_id":"public/images/2019/8/aws_choose_instance_type.jpg","hash":"3dbd0b2e761e638ee3ee9b164cc0ccd46444b2bc","modified":1574764434900},{"_id":"public/images/2019/8/aws_ec2_launch_settings.jpg","hash":"ffd0780aa2a4de5f1107472043a7887f56e8a8ed","modified":1574764434900},{"_id":"public/images/2019/8/aws_tg_healthcheck.jpg","hash":"7a81a356de1807f64bce216b9b55b14a5cf12b02","modified":1574764434900},{"_id":"public/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1574764434901},{"_id":"public/images/2019/8/the_8th_habbit.jpg","hash":"6414b537ef1cc9f70de79eea7173852e2d4c02a7","modified":1574764434901},{"_id":"public/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1574764434901},{"_id":"public/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1574764434901},{"_id":"public/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1574764434901},{"_id":"public/images/2018/csm/day_1/cross_learning.jpg","hash":"7bb1591eeac560bd84162e691af2cc092268cff6","modified":1574764434901},{"_id":"public/images/2018/csm/day_2/Sprint_Backlog_Burndown.jpg","hash":"de345ff70e2580adb4c4977a3f0753d442f4ce72","modified":1574764434901},{"_id":"public/images/090516_023252_AM.jpg","hash":"509eef571252eebe3417bb7c89c589d3485a01af","modified":1574764435707},{"_id":"public/images/090516_021242_AM.jpg","hash":"015f6fff88214f8744c37b8d02a331ffadda5943","modified":1574764435707},{"_id":"public/images/workerthread_and_iothread/110416_102436_AM.png","hash":"b567d9a58721b13f82b351ba494c260ee86c77cb","modified":1574764435707},{"_id":"public/images/2018/six_strategies_for_application_deployment/shadow.gif","hash":"b1f33ac16a7b637948b1847eea457002e4552f02","modified":1574764435708},{"_id":"public/images/2019/4/perfview.jpg","hash":"c13a96c4704ca45b1891ebf0faa29eb46c124b32","modified":1574764435708},{"_id":"public/images/2019/4/perviewlog.jpg","hash":"d6f4b60bb78d38e7b967699d55437691b1d8fa68","modified":1574764435708},{"_id":"public/images/2019/2/awstools.jpg","hash":"8d59e887d2daf3b95e8839bb73a3820a2c117c80","modified":1574764435708},{"_id":"public/images/2019/3/cell.jpg","hash":"4c62fba6ce9aa37702a7fed09b115e6f7bd9fda0","modified":1574764435708},{"_id":"public/images/2019/3/test_cover_100.jpg","hash":"933447bbece4f5e58b026cb47bee08956a315474","modified":1574764435708},{"_id":"public/images/2019/8/aws_asg_overview.jpg","hash":"127691f6ccedb2156e0ad331b1f31d0808450073","modified":1574764435709},{"_id":"public/images/2019/8/aws_create_lc.jpg","hash":"1acbe8a134dae3ade6105e8f23a2a2a2c168bf7b","modified":1574764435709},{"_id":"public/images/2019/6/01-overview.png","hash":"df5e0fee0ce9a414f1dd1611a89e2d7d22e36eb0","modified":1574764435709},{"_id":"public/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1574764435709},{"_id":"public/images/2019/8/aws_ec2_launch_settings_turn_off.jpg","hash":"69a50179df205cf6abe382f0453cb487368f5736","modified":1574764435709},{"_id":"public/images/2019/8/aws_ebs.jpg","hash":"efa75a9d6300e0f9e4dc85fbb78c61e431b5e941","modified":1574764435710},{"_id":"public/css/images/banner.jpg","hash":"dd61b5b07fedf2fa657aa76c9058d19c1e30d294","modified":1574764435710},{"_id":"public/images/2019/8/aws_userdata.jpg","hash":"e284b19c156d976cf7c72ffbf2da5876ce4af96f","modified":1574764435710},{"_id":"public/images/2018/csm/day_1/7D811AFE-A4C8-4FB4-BD90-B65FDFE0B6BE.jpg","hash":"6f7ee64b86878065d15228233f744920f343cf89","modified":1574764435710},{"_id":"public/images/2018/csm/day_1/undone_work.jpg","hash":"715b5d6157a8f9798ffec9da89d349bd19a25ec8","modified":1574764435710},{"_id":"public/images/2018/csm/day_2/V1_V2_V3_V4_VVV.jpg","hash":"cfe46d5b63c865c982174f3151fa495ea13dc611","modified":1574764435710},{"_id":"public/images/2018/csm/day_2/OKR_in_Scrum.jpg","hash":"c5971761bae615966fa7c3161388e44fc2ff81d6","modified":1574764435711},{"_id":"public/images/2018/csm/day_2/splitting.jpg","hash":"cc150e3cb27f84dc185e1d68ac0b7e93e7d3c3fc","modified":1574764435711},{"_id":"public/images/2018/csm/day_1/6B161347-8331-4BA7-89D2-61DA1DAD61B1.jpg","hash":"a9463039bfe1c82f303db19698c3fd346897ae97","modified":1574764435711},{"_id":"public/images/2018/csm/day_2/done&accept.jpg","hash":"4e9782b395d2278fdb87499f5242088e2b796e3a","modified":1574764435711},{"_id":"public/images/2018/csm/day_2/thinking.jpg","hash":"da7637b51544e4c75ee1d0d7963bd38017f29b60","modified":1574764435711},{"_id":"public/images/2018/csm/day_1/螢幕快照 2018-10-28 下午3.46.21.png","hash":"cdd276ad4142e6c045c9b413a5b3667bcd3e67a3","modified":1574764435712},{"_id":"public/images/2018/csm/day_2/increment_pattern.jpg","hash":"bafe8e2949767b6025425561ea7346a2ef349fc6","modified":1574764435712},{"_id":"public/js/script.js","hash":"4392c907416942472233273317b29dc1a5a13d5b","modified":1574764435776},{"_id":"public/fancybox/jquery.fancybox.css","hash":"aaa582fb9eb4b7092dc69fcb2d5b1c20cca58ab6","modified":1574764435776},{"_id":"public/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1574764435776},{"_id":"public/fancybox/helpers/jquery.fancybox-buttons.js","hash":"dc3645529a4bf72983a39fa34c1eb9146e082019","modified":1574764435776},{"_id":"public/fancybox/helpers/jquery.fancybox-media.js","hash":"294420f9ff20f4e3584d212b0c262a00a96ecdb3","modified":1574764435776},{"_id":"public/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"47da1ae5401c24b5c17cc18e2730780f5c1a7a0c","modified":1574764435776},{"_id":"public/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1574764435776},{"_id":"public/css/style.css","hash":"40e5a75bdbe2f495ae8b593aaaeb932d1e3c2e81","modified":1574764435776},{"_id":"public/fancybox/jquery.fancybox.js","hash":"d08b03a42d5c4ba456ef8ba33116fdbb7a9cabed","modified":1574764435776},{"_id":"public/fancybox/jquery.fancybox.pack.js","hash":"9e0d51ca1dbe66f6c0c7aefd552dc8122e694a6e","modified":1574764435776},{"_id":"public/images/090516_024550_AM.jpg","hash":"16b8658ff25fec9ecc6c84a5354c8a6f015ddb30","modified":1574764435776},{"_id":"public/images/workerthread_and_iothread/110416_102437_AM.jpg","hash":"a4b6382cea823bea0be5757fe0800639ae0166ce","modified":1574764435777},{"_id":"public/images/workerthread_and_iothread/110416_170101_PM.jpg","hash":"e941d0267614d431c0e422ef753c38de7b75087d","modified":1574764435777},{"_id":"public/images/2018/colorfull_cmder/settings.jpg","hash":"28363ec0431e0ff636849303af3b0779f7906a20","modified":1574764435777},{"_id":"public/images/2018/csm/overview.JPG","hash":"d29991d5fca25441f115e968d7d6d9d2c8dda3fe","modified":1574764435777},{"_id":"public/images/2019/1/ubantu_docker.jpg","hash":"c783fe8a00563c8ce56c120d0fa68cb31c525d5a","modified":1574764435777},{"_id":"public/images/2018/csm/elephant.jpg","hash":"038fde0597b3c058389ad991e5d7ecbbbf9d9e6e","modified":1574764435777},{"_id":"public/images/2019/1/docker.jpg","hash":"dc0cc2ec6b6f9c1db065bb1755bab7053854ed1b","modified":1574764435777},{"_id":"public/images/2019/8/aws_choose_ami.jpg","hash":"75cba8b75457ea0e05d4dec91a54990f72709c2b","modified":1574764435777},{"_id":"public/images/2019/5/sonarcloud_gen.jpg","hash":"59713c3242543d191f0550012f83de5eea2a3d0d","modified":1574764435777},{"_id":"public/images/2019/8/apprenticeship_patterns.jpg","hash":"ccf6e41fb388a01f86decc920ce92a92ec302c84","modified":1574764435778},{"_id":"public/images/2019/8/aws_gi_create_images.jpg","hash":"564eb769d479b0122332920d6238f96fc4fc1321","modified":1574764435778},{"_id":"public/images/2019/5/sonarcloud_gentoken.jpg","hash":"71b9d47b40fe9149587fff287728cbd2ac0f3a1a","modified":1574764435778},{"_id":"public/images/2019/5/sonarcloud_result.jpg","hash":"6b95fedf4915f8cecf5d99f9c3d3c53bf1c41c2a","modified":1574764435778},{"_id":"public/images/2018/csm/day_1/00795F54-2654-4581-94BE-27068D4486DD.jpg","hash":"1fd462d279837a8d3d20e6d43d61d92c62691fbc","modified":1574764435778},{"_id":"public/images/2018/csm/day_2/walking_skeleton.jpg","hash":"f772364ce649a11da16212aaefbf63267e456f2f","modified":1574764435779},{"_id":"public/images/2018/csm/day_2/authority_matrix.jpg","hash":"020a200dd934b6bf93a6ab81c143e339d133578a","modified":1574764435779},{"_id":"public/images/2018/csm/day_2/closer_customer.jpg","hash":"44129ceb7b65890e47e7238a1b602f16a80930c3","modified":1574764435779},{"_id":"public/images/2019/5/2019-05-18_15-28-53.gif","hash":"d644c8abf73afcd64a08d88364e7bd152ced099b","modified":1574764435846},{"_id":"public/images/2018/six_strategies_for_application_deployment/deployment_strategies.png","hash":"9a1dfbba887451527257f55ab1984a32d6c8deb0","modified":1574764435846},{"_id":"public/images/2019/5/sonarcloud_command.jpg","hash":"aa226812b74cfc9ea0f62fa8aba0746c074d9889","modified":1574764435846},{"_id":"public/images/2019/8/aws_create_asg.jpg","hash":"8abc2cc79936c5503af609ab3fbb12a5ccfa1aa9","modified":1574764435847},{"_id":"public/css/fonts/fontawesome-webfont.svg","hash":"a275426daefd3716c53561fad121d258a7f05b47","modified":1574764435847},{"_id":"public/css/images/banner.bak.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1574764435847},{"_id":"public/images/2018/csm/day_1/UserStoryMap.png","hash":"cc759123a2b7a66aa5068bb7f04364101636e8a7","modified":1574764435847},{"_id":"public/images/2019/8/aws_gi_out_alb.jpg","hash":"fa3905e703ce52767d585d4b498194407f27d830","modified":1574764435985},{"_id":"public/images/workerthread_and_iothread/110416_170001_PM.jpg","hash":"bd9fa06701bd800e059df8fd499af13d1b8ad277","modified":1574764436035},{"_id":"public/images/workerthread_and_iothread/螢幕擷取畫面_110716_110245_AM.jpg","hash":"556cffba3e1c86d4c33775c3cabfef8fd6fcebc9","modified":1574764436083}],"Category":[],"Data":[],"Page":[],"Post":[{"_content":"","source":"_drafts/visualstudio_code_snippet.md","raw":"","slug":"visualstudio_code_snippet","published":0,"date":"2019-06-10T14:43:28.855Z","updated":"2019-06-10T14:43:28.855Z","title":"","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wfz0000b0vxfg8c3erj","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"ASP.Net 執行緒 概觀","date":"2016-11-04T03:49:17.000Z","_content":"## 學習筆記\n\n1. 非同步與多執行緒應用的場景並不同,不該混淆\n2. 在單核的情況下,windows會分配片段的時間\n\n## 參考\n- [Threading](https://msdn.microsoft.com/en-us/library/orm-9780596527570-03-19.aspx)\n- https://stackoverflow.com/questions/4844637/what-is-the-difference-between-concurrency-parallelism-and-asynchronous-methods","source":"_drafts/workerthread_and_iothread_2.md","raw":"---\ntitle: ASP.Net 執行緒 概觀\ndate: 2016/11/04 11:49:17\ntag:\n  - .Net Framework\n  - Thread Pool  \n---\n## 學習筆記\n\n1. 非同步與多執行緒應用的場景並不同,不該混淆\n2. 在單核的情況下,windows會分配片段的時間\n\n## 參考\n- [Threading](https://msdn.microsoft.com/en-us/library/orm-9780596527570-03-19.aspx)\n- https://stackoverflow.com/questions/4844637/what-is-the-difference-between-concurrency-parallelism-and-asynchronous-methods","slug":"workerthread_and_iothread_2","published":0,"updated":"2019-09-08T10:31:49.333Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wgp0001b0vxech6b4mj","content":"<h2 id=\"學習筆記\"><a href=\"#學習筆記\" class=\"headerlink\" title=\"學習筆記\"></a>學習筆記</h2><ol>\n<li>非同步與多執行緒應用的場景並不同,不該混淆</li>\n<li>在單核的情況下,windows會分配片段的時間</li>\n</ol>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/orm-9780596527570-03-19.aspx\" target=\"_blank\" rel=\"noopener\">Threading</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4844637/what-is-the-difference-between-concurrency-parallelism-and-asynchronous-methods\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/4844637/what-is-the-difference-between-concurrency-parallelism-and-asynchronous-methods</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"學習筆記\"><a href=\"#學習筆記\" class=\"headerlink\" title=\"學習筆記\"></a>學習筆記</h2><ol>\n<li>非同步與多執行緒應用的場景並不同,不該混淆</li>\n<li>在單核的情況下,windows會分配片段的時間</li>\n</ol>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/orm-9780596527570-03-19.aspx\" target=\"_blank\" rel=\"noopener\">Threading</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4844637/what-is-the-difference-between-concurrency-parallelism-and-asynchronous-methods\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/4844637/what-is-the-difference-between-concurrency-parallelism-and-asynchronous-methods</a></li>\n</ul>\n"},{"title":"CV","date":"1985-02-08T16:00:29.000Z","_content":"\n林●●(Mark Lin)\n新北市●●區●●●●●●●●●●●●●●●●●●\n+886-9●●●●●●●● t●●●●●●●●●●●@gmail.com\n\n### 技能(SKILLS)\n\n* Project Management and Leadership:\n  * CSM(Certified Scrum Master) 認証\n  * 1 年小組 Tech Leader & 1 年 Team Leader 經驗\n  * 3 年敏捷 Scrum Team 經驗\n  * 8 年軟體/Web開發經驗\n\n* Problem-solving and Communication:\n  * 第三方系統介接\n  * 公司內部分享與讀書會\n\n* Technical Skills:\n  * .Net Solutions(C#/MVC/API/.Net Core)\n  * HTML/CSS\n  * JavaScript & Nodejs With TypeScript (Gulp/Angular/...etc)\n  * Database(MsSQL/MySql/MongoDB)\n  * CI/CD experience with Jenkins\n  * Git & Setting flow with Bitbacket/GitLab/GitHub\n  * AWS experience(EC2/S3/)\n  * Unit Testing/TDD/Automation Testing\n  * Java & Php & Ruby experience with side project\n  * 2018 started learning Docker\n\n### 工作經驗(WORK EXPERIENCE)\n\n#### 目前公司(2015-至今)\n\n擔任WEB軟體工程師開發電商系統，  \n初期主要負責監控維運系統，與 Release Production;  \n同時對監控系統與 Release 進行改善/優化/自動化。  \n較熟悉系統後，曾參與為期約半年的「貨到付款」專案;  \n同時間，公司開始進行敏捷轉型，組織改組後我加入了「馬來西亞團隊」;  \n這是一個跨職能的團隊，目標是海外市場  ;  有前公司的  Scrum  經驗讓我如魚得水。  \n中期開發的項目以馬來西亞客戶為主，也有了跨國/跨境金物流介接的經驗，  \n近期團隊進行第二次轉型，受到公司肯定成為團隊的  Tech-Lead，\n團隊改以跨國整合而非單一市場，在國際化與在地化上面臨許多挑戰，卻值得期待。  \n技術方面:  \n以 .NET MVC 為主，搭配 Angular/TypeScirpt 作為開發的核心  \n多樣的 Cache 機制也在實務中不同的場景應用，  \nIoC大量的被應用在開發之中，也參與過了 TDD 的導入。  \n公司內部有多種的讀書會與分享會，讓自已組織表達能力更上一層樓。  \n實務上也略會接觸到 AWS 與 CI/CD 並對流程進行改善，  \n雖然尚未完成一個完整 DevOps 循環，但團隊也持續在努力中。  \n2018 擔任 Tech Leader，並考取 CSM。\n\n#### 2012-2015 全曜財經(Cmoney)\n\n擔任WEB軟體工程師，負責需求分析、架構設計、前後端的銜接與技術支援，新人教育訓練與專案管理。\n開發專案有\n  -「理財寶」類似於電子商城但不包含物流，需要介接金流與授權機制設計。\n  -「CMoney  投資誌」一個類似 Blog 的系統，持續增長的訪問量是這個系統的挑戰。\n  -「管理後台與財務後台」\n  -「會員中心」公司主要的會員系統。\n與其它系統的維護。\n在公司導入版本控制(SVN)與 Scurm，後期啟動導入 Git。\n2014 擔任 Team Leader 。\n\n#### 2010-2012 緯創軟體(Wistron ITS)\n\n擔任軟體工程師，主要負責開發疾病管制局相關系統，\n參與戶政歸戶專案、Oracle DB 調校優化。\n正值公司上櫃準備時期，有參與 CMMI 與相關 ISO 認証的相關作業。\n\n### 教育程度(EDUCATION)\n\n#### 2003-2007\n\n中原大學應用數學系(Chung Yuan Christian University,Applied Mathematics)\n\n### 其它(OTHER)\n\n語言: 中文(母語)、英文(中等)\nBlog: <https://blog.marsen.me/>\n\n(fin)\n","source":"_drafts/cv.md","raw":"---\ntitle: \"CV\"\ndate: 1985/02/09 00:00:29 \n---\n\n林●●(Mark Lin)\n新北市●●區●●●●●●●●●●●●●●●●●●\n+886-9●●●●●●●● t●●●●●●●●●●●@gmail.com\n\n### 技能(SKILLS)\n\n* Project Management and Leadership:\n  * CSM(Certified Scrum Master) 認証\n  * 1 年小組 Tech Leader & 1 年 Team Leader 經驗\n  * 3 年敏捷 Scrum Team 經驗\n  * 8 年軟體/Web開發經驗\n\n* Problem-solving and Communication:\n  * 第三方系統介接\n  * 公司內部分享與讀書會\n\n* Technical Skills:\n  * .Net Solutions(C#/MVC/API/.Net Core)\n  * HTML/CSS\n  * JavaScript & Nodejs With TypeScript (Gulp/Angular/...etc)\n  * Database(MsSQL/MySql/MongoDB)\n  * CI/CD experience with Jenkins\n  * Git & Setting flow with Bitbacket/GitLab/GitHub\n  * AWS experience(EC2/S3/)\n  * Unit Testing/TDD/Automation Testing\n  * Java & Php & Ruby experience with side project\n  * 2018 started learning Docker\n\n### 工作經驗(WORK EXPERIENCE)\n\n#### 目前公司(2015-至今)\n\n擔任WEB軟體工程師開發電商系統，  \n初期主要負責監控維運系統，與 Release Production;  \n同時對監控系統與 Release 進行改善/優化/自動化。  \n較熟悉系統後，曾參與為期約半年的「貨到付款」專案;  \n同時間，公司開始進行敏捷轉型，組織改組後我加入了「馬來西亞團隊」;  \n這是一個跨職能的團隊，目標是海外市場  ;  有前公司的  Scrum  經驗讓我如魚得水。  \n中期開發的項目以馬來西亞客戶為主，也有了跨國/跨境金物流介接的經驗，  \n近期團隊進行第二次轉型，受到公司肯定成為團隊的  Tech-Lead，\n團隊改以跨國整合而非單一市場，在國際化與在地化上面臨許多挑戰，卻值得期待。  \n技術方面:  \n以 .NET MVC 為主，搭配 Angular/TypeScirpt 作為開發的核心  \n多樣的 Cache 機制也在實務中不同的場景應用，  \nIoC大量的被應用在開發之中，也參與過了 TDD 的導入。  \n公司內部有多種的讀書會與分享會，讓自已組織表達能力更上一層樓。  \n實務上也略會接觸到 AWS 與 CI/CD 並對流程進行改善，  \n雖然尚未完成一個完整 DevOps 循環，但團隊也持續在努力中。  \n2018 擔任 Tech Leader，並考取 CSM。\n\n#### 2012-2015 全曜財經(Cmoney)\n\n擔任WEB軟體工程師，負責需求分析、架構設計、前後端的銜接與技術支援，新人教育訓練與專案管理。\n開發專案有\n  -「理財寶」類似於電子商城但不包含物流，需要介接金流與授權機制設計。\n  -「CMoney  投資誌」一個類似 Blog 的系統，持續增長的訪問量是這個系統的挑戰。\n  -「管理後台與財務後台」\n  -「會員中心」公司主要的會員系統。\n與其它系統的維護。\n在公司導入版本控制(SVN)與 Scurm，後期啟動導入 Git。\n2014 擔任 Team Leader 。\n\n#### 2010-2012 緯創軟體(Wistron ITS)\n\n擔任軟體工程師，主要負責開發疾病管制局相關系統，\n參與戶政歸戶專案、Oracle DB 調校優化。\n正值公司上櫃準備時期，有參與 CMMI 與相關 ISO 認証的相關作業。\n\n### 教育程度(EDUCATION)\n\n#### 2003-2007\n\n中原大學應用數學系(Chung Yuan Christian University,Applied Mathematics)\n\n### 其它(OTHER)\n\n語言: 中文(母語)、英文(中等)\nBlog: <https://blog.marsen.me/>\n\n(fin)\n","slug":"cv","published":0,"updated":"2019-09-08T09:53:02.843Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wgq0002b0vxivt66bmp","content":"<p>林●●(Mark Lin)<br>新北市●●區●●●●●●●●●●●●●●●●●●<br>+886-9●●●●●●●● t●●●●●●●●●●●@gmail.com</p>\n<h3 id=\"技能-SKILLS\"><a href=\"#技能-SKILLS\" class=\"headerlink\" title=\"技能(SKILLS)\"></a>技能(SKILLS)</h3><ul>\n<li><p>Project Management and Leadership:</p>\n<ul>\n<li>CSM(Certified Scrum Master) 認証</li>\n<li>1 年小組 Tech Leader &amp; 1 年 Team Leader 經驗</li>\n<li>3 年敏捷 Scrum Team 經驗</li>\n<li>8 年軟體/Web開發經驗</li>\n</ul>\n</li>\n<li><p>Problem-solving and Communication:</p>\n<ul>\n<li>第三方系統介接</li>\n<li>公司內部分享與讀書會</li>\n</ul>\n</li>\n<li><p>Technical Skills:</p>\n<ul>\n<li>.Net Solutions(C#/MVC/API/.Net Core)</li>\n<li>HTML/CSS</li>\n<li>JavaScript &amp; Nodejs With TypeScript (Gulp/Angular/…etc)</li>\n<li>Database(MsSQL/MySql/MongoDB)</li>\n<li>CI/CD experience with Jenkins</li>\n<li>Git &amp; Setting flow with Bitbacket/GitLab/GitHub</li>\n<li>AWS experience(EC2/S3/)</li>\n<li>Unit Testing/TDD/Automation Testing</li>\n<li>Java &amp; Php &amp; Ruby experience with side project</li>\n<li>2018 started learning Docker</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"工作經驗-WORK-EXPERIENCE\"><a href=\"#工作經驗-WORK-EXPERIENCE\" class=\"headerlink\" title=\"工作經驗(WORK EXPERIENCE)\"></a>工作經驗(WORK EXPERIENCE)</h3><h4 id=\"目前公司-2015-至今\"><a href=\"#目前公司-2015-至今\" class=\"headerlink\" title=\"目前公司(2015-至今)\"></a>目前公司(2015-至今)</h4><p>擔任WEB軟體工程師開發電商系統，<br>初期主要負責監控維運系統，與 Release Production;<br>同時對監控系統與 Release 進行改善/優化/自動化。<br>較熟悉系統後，曾參與為期約半年的「貨到付款」專案;<br>同時間，公司開始進行敏捷轉型，組織改組後我加入了「馬來西亞團隊」;<br>這是一個跨職能的團隊，目標是海外市場  ;  有前公司的  Scrum  經驗讓我如魚得水。<br>中期開發的項目以馬來西亞客戶為主，也有了跨國/跨境金物流介接的經驗，<br>近期團隊進行第二次轉型，受到公司肯定成為團隊的  Tech-Lead，<br>團隊改以跨國整合而非單一市場，在國際化與在地化上面臨許多挑戰，卻值得期待。<br>技術方面:<br>以 .NET MVC 為主，搭配 Angular/TypeScirpt 作為開發的核心<br>多樣的 Cache 機制也在實務中不同的場景應用，<br>IoC大量的被應用在開發之中，也參與過了 TDD 的導入。<br>公司內部有多種的讀書會與分享會，讓自已組織表達能力更上一層樓。<br>實務上也略會接觸到 AWS 與 CI/CD 並對流程進行改善，<br>雖然尚未完成一個完整 DevOps 循環，但團隊也持續在努力中。<br>2018 擔任 Tech Leader，並考取 CSM。</p>\n<h4 id=\"2012-2015-全曜財經-Cmoney\"><a href=\"#2012-2015-全曜財經-Cmoney\" class=\"headerlink\" title=\"2012-2015 全曜財經(Cmoney)\"></a>2012-2015 全曜財經(Cmoney)</h4><p>擔任WEB軟體工程師，負責需求分析、架構設計、前後端的銜接與技術支援，新人教育訓練與專案管理。<br>開發專案有<br>  -「理財寶」類似於電子商城但不包含物流，需要介接金流與授權機制設計。<br>  -「CMoney  投資誌」一個類似 Blog 的系統，持續增長的訪問量是這個系統的挑戰。<br>  -「管理後台與財務後台」<br>  -「會員中心」公司主要的會員系統。<br>與其它系統的維護。<br>在公司導入版本控制(SVN)與 Scurm，後期啟動導入 Git。<br>2014 擔任 Team Leader 。</p>\n<h4 id=\"2010-2012-緯創軟體-Wistron-ITS\"><a href=\"#2010-2012-緯創軟體-Wistron-ITS\" class=\"headerlink\" title=\"2010-2012 緯創軟體(Wistron ITS)\"></a>2010-2012 緯創軟體(Wistron ITS)</h4><p>擔任軟體工程師，主要負責開發疾病管制局相關系統，<br>參與戶政歸戶專案、Oracle DB 調校優化。<br>正值公司上櫃準備時期，有參與 CMMI 與相關 ISO 認証的相關作業。</p>\n<h3 id=\"教育程度-EDUCATION\"><a href=\"#教育程度-EDUCATION\" class=\"headerlink\" title=\"教育程度(EDUCATION)\"></a>教育程度(EDUCATION)</h3><h4 id=\"2003-2007\"><a href=\"#2003-2007\" class=\"headerlink\" title=\"2003-2007\"></a>2003-2007</h4><p>中原大學應用數學系(Chung Yuan Christian University,Applied Mathematics)</p>\n<h3 id=\"其它-OTHER\"><a href=\"#其它-OTHER\" class=\"headerlink\" title=\"其它(OTHER)\"></a>其它(OTHER)</h3><p>語言: 中文(母語)、英文(中等)<br>Blog: <a href=\"https://blog.marsen.me/\">https://blog.marsen.me/</a></p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<p>林●●(Mark Lin)<br>新北市●●區●●●●●●●●●●●●●●●●●●<br>+886-9●●●●●●●● t●●●●●●●●●●●@gmail.com</p>\n<h3 id=\"技能-SKILLS\"><a href=\"#技能-SKILLS\" class=\"headerlink\" title=\"技能(SKILLS)\"></a>技能(SKILLS)</h3><ul>\n<li><p>Project Management and Leadership:</p>\n<ul>\n<li>CSM(Certified Scrum Master) 認証</li>\n<li>1 年小組 Tech Leader &amp; 1 年 Team Leader 經驗</li>\n<li>3 年敏捷 Scrum Team 經驗</li>\n<li>8 年軟體/Web開發經驗</li>\n</ul>\n</li>\n<li><p>Problem-solving and Communication:</p>\n<ul>\n<li>第三方系統介接</li>\n<li>公司內部分享與讀書會</li>\n</ul>\n</li>\n<li><p>Technical Skills:</p>\n<ul>\n<li>.Net Solutions(C#/MVC/API/.Net Core)</li>\n<li>HTML/CSS</li>\n<li>JavaScript &amp; Nodejs With TypeScript (Gulp/Angular/…etc)</li>\n<li>Database(MsSQL/MySql/MongoDB)</li>\n<li>CI/CD experience with Jenkins</li>\n<li>Git &amp; Setting flow with Bitbacket/GitLab/GitHub</li>\n<li>AWS experience(EC2/S3/)</li>\n<li>Unit Testing/TDD/Automation Testing</li>\n<li>Java &amp; Php &amp; Ruby experience with side project</li>\n<li>2018 started learning Docker</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"工作經驗-WORK-EXPERIENCE\"><a href=\"#工作經驗-WORK-EXPERIENCE\" class=\"headerlink\" title=\"工作經驗(WORK EXPERIENCE)\"></a>工作經驗(WORK EXPERIENCE)</h3><h4 id=\"目前公司-2015-至今\"><a href=\"#目前公司-2015-至今\" class=\"headerlink\" title=\"目前公司(2015-至今)\"></a>目前公司(2015-至今)</h4><p>擔任WEB軟體工程師開發電商系統，<br>初期主要負責監控維運系統，與 Release Production;<br>同時對監控系統與 Release 進行改善/優化/自動化。<br>較熟悉系統後，曾參與為期約半年的「貨到付款」專案;<br>同時間，公司開始進行敏捷轉型，組織改組後我加入了「馬來西亞團隊」;<br>這是一個跨職能的團隊，目標是海外市場  ;  有前公司的  Scrum  經驗讓我如魚得水。<br>中期開發的項目以馬來西亞客戶為主，也有了跨國/跨境金物流介接的經驗，<br>近期團隊進行第二次轉型，受到公司肯定成為團隊的  Tech-Lead，<br>團隊改以跨國整合而非單一市場，在國際化與在地化上面臨許多挑戰，卻值得期待。<br>技術方面:<br>以 .NET MVC 為主，搭配 Angular/TypeScirpt 作為開發的核心<br>多樣的 Cache 機制也在實務中不同的場景應用，<br>IoC大量的被應用在開發之中，也參與過了 TDD 的導入。<br>公司內部有多種的讀書會與分享會，讓自已組織表達能力更上一層樓。<br>實務上也略會接觸到 AWS 與 CI/CD 並對流程進行改善，<br>雖然尚未完成一個完整 DevOps 循環，但團隊也持續在努力中。<br>2018 擔任 Tech Leader，並考取 CSM。</p>\n<h4 id=\"2012-2015-全曜財經-Cmoney\"><a href=\"#2012-2015-全曜財經-Cmoney\" class=\"headerlink\" title=\"2012-2015 全曜財經(Cmoney)\"></a>2012-2015 全曜財經(Cmoney)</h4><p>擔任WEB軟體工程師，負責需求分析、架構設計、前後端的銜接與技術支援，新人教育訓練與專案管理。<br>開發專案有<br>  -「理財寶」類似於電子商城但不包含物流，需要介接金流與授權機制設計。<br>  -「CMoney  投資誌」一個類似 Blog 的系統，持續增長的訪問量是這個系統的挑戰。<br>  -「管理後台與財務後台」<br>  -「會員中心」公司主要的會員系統。<br>與其它系統的維護。<br>在公司導入版本控制(SVN)與 Scurm，後期啟動導入 Git。<br>2014 擔任 Team Leader 。</p>\n<h4 id=\"2010-2012-緯創軟體-Wistron-ITS\"><a href=\"#2010-2012-緯創軟體-Wistron-ITS\" class=\"headerlink\" title=\"2010-2012 緯創軟體(Wistron ITS)\"></a>2010-2012 緯創軟體(Wistron ITS)</h4><p>擔任軟體工程師，主要負責開發疾病管制局相關系統，<br>參與戶政歸戶專案、Oracle DB 調校優化。<br>正值公司上櫃準備時期，有參與 CMMI 與相關 ISO 認証的相關作業。</p>\n<h3 id=\"教育程度-EDUCATION\"><a href=\"#教育程度-EDUCATION\" class=\"headerlink\" title=\"教育程度(EDUCATION)\"></a>教育程度(EDUCATION)</h3><h4 id=\"2003-2007\"><a href=\"#2003-2007\" class=\"headerlink\" title=\"2003-2007\"></a>2003-2007</h4><p>中原大學應用數學系(Chung Yuan Christian University,Applied Mathematics)</p>\n<h3 id=\"其它-OTHER\"><a href=\"#其它-OTHER\" class=\"headerlink\" title=\"其它(OTHER)\"></a>其它(OTHER)</h3><p>語言: 中文(母語)、英文(中等)<br>Blog: <a href=\"https://blog.marsen.me/\">https://blog.marsen.me/</a></p>\n<p>(fin)</p>\n"},{"title":"FileStream正確的使用FileAccess與FileShare參數","_content":"## 前情提要\n使用FileStream存取檔案是基本功,但是沒有了解底層細節,\n在多執行緒同時存取與編輯檔案時,將會引爆咬檔地雷。\n\n\n\n## 加碼 HttpContent 與 Stream\n\n\n## 測試工具 `LinqPad`\n\n## 參考\n- https://stackoverflow.com/questions/25097773/system-io-filestream-fileaccess-vs-fileshare\n- https://referencesource.microsoft.com/#q=FileStream","source":"_drafts/dotNet_filestream.md","raw":"---\ntitle: FileStream正確的使用FileAccess與FileShare參數\ntag:\n  - .Net Framework\n  - IO\n  - 記錄\n---\n## 前情提要\n使用FileStream存取檔案是基本功,但是沒有了解底層細節,\n在多執行緒同時存取與編輯檔案時,將會引爆咬檔地雷。\n\n\n\n## 加碼 HttpContent 與 Stream\n\n\n## 測試工具 `LinqPad`\n\n## 參考\n- https://stackoverflow.com/questions/25097773/system-io-filestream-fileaccess-vs-fileshare\n- https://referencesource.microsoft.com/#q=FileStream","slug":"dotNet_filestream","published":0,"date":"2018-04-17T03:12:39.571Z","updated":"2018-04-17T03:12:39.576Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wgs0003b0vxlmghnz65","content":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>使用FileStream存取檔案是基本功,但是沒有了解底層細節,<br>在多執行緒同時存取與編輯檔案時,將會引爆咬檔地雷。</p>\n<h2 id=\"加碼-HttpContent-與-Stream\"><a href=\"#加碼-HttpContent-與-Stream\" class=\"headerlink\" title=\"加碼 HttpContent 與 Stream\"></a>加碼 HttpContent 與 Stream</h2><h2 id=\"測試工具-LinqPad\"><a href=\"#測試工具-LinqPad\" class=\"headerlink\" title=\"測試工具 LinqPad\"></a>測試工具 <code>LinqPad</code></h2><h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://stackoverflow.com/questions/25097773/system-io-filestream-fileaccess-vs-fileshare\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/25097773/system-io-filestream-fileaccess-vs-fileshare</a></li>\n<li><a href=\"https://referencesource.microsoft.com/#q=FileStream\" target=\"_blank\" rel=\"noopener\">https://referencesource.microsoft.com/#q=FileStream</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>使用FileStream存取檔案是基本功,但是沒有了解底層細節,<br>在多執行緒同時存取與編輯檔案時,將會引爆咬檔地雷。</p>\n<h2 id=\"加碼-HttpContent-與-Stream\"><a href=\"#加碼-HttpContent-與-Stream\" class=\"headerlink\" title=\"加碼 HttpContent 與 Stream\"></a>加碼 HttpContent 與 Stream</h2><h2 id=\"測試工具-LinqPad\"><a href=\"#測試工具-LinqPad\" class=\"headerlink\" title=\"測試工具 LinqPad\"></a>測試工具 <code>LinqPad</code></h2><h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://stackoverflow.com/questions/25097773/system-io-filestream-fileaccess-vs-fileshare\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/25097773/system-io-filestream-fileaccess-vs-fileshare</a></li>\n<li><a href=\"https://referencesource.microsoft.com/#q=FileStream\" target=\"_blank\" rel=\"noopener\">https://referencesource.microsoft.com/#q=FileStream</a></li>\n</ul>\n"},{"title":"實戰 .Net 大量請求與多執行緒(一) 錯誤與原因","date":"2016-11-04T03:49:17.000Z","_content":"\n## 前情提要\n\n1. 實務上的專案遭受 DDos 攻擊  \n2. DB TimeOut  \n3. Redis TimeOut  \n4. 主程式沒有死,但是Elmah出現大量Exception  \n\n## 錯誤資訊\n\n![瞬發的流量](/images/workerthread_and_iothread/110416_102437_AM.jpg)\n\n### Redis的錯誤記錄\n\n錯誤1.\n\n```text\n    Timeout performing SETEX Cache:Key:06f305de-f163-4d49-8b98-d8bc51edf7d8, \n    inst: 1, mgr: ExecuteSelect, err: never, queue: 2, qu: 2, qs: 0, qc: 0, wr: 0, wq: 0, in: 0, ar: 0, \n    IOCP: (Busy=0,Free=1000,Min=4,Max=1000), WORKER: (Busy=165,Free=32602,Min=4,Max=32767), \n    clientName: TYO-HOST\n```\n\n錯誤2.\n\n```text\n    StackExchange.Redis.RedisConnectionException\n    SocketFailure on GET\n```\n\n錯誤3.\n\n```text\n    No connection is available to service this operation: \n    GET Cache:Key:06f305de-f163-4d49-8b98-d8bc51edf7d8\n```\n\n錯誤4.\n\n```text\n    UnableToResolvePhysicalConnection on GET\n```\n\n### SQL Server 錯誤記錄\n\n```text\n    A transport-level error has occurred when receiving results from the server. \n    (provider: Session Provider, error: 19 - Physical connection is not usable)\n```\n\n## 錯誤原因\n\n1. CLR 建立執行緒需要時間 , 一秒鐘最多只能建立兩條 Thread [註一](#comment1)\n2. 瞬間的 Request 量超過 ThreadPool 中的 Thread 數量\n3. ThreadPool 建立 Thread 中 , 仍持續有 Request 進來引發錯誤\n4. 因為我的[測試環境](#testEnvironment)有四核心,依文件所說\n\n## 實驗流程\n\n1. 建立監視器\n    參考 [How To: Monitor the ASP.NET Thread Pool Using Custom Counters](https://msdn.microsoft.com/zh-tw/library/ff650682.aspx)\n\n    1. 建立一個 console 專案, [MyAspNetThreadCounters](#MyAspNetThreadCounters)\n    2. 編譯並執行 console 專案\n    3. 開啟`Regedit.exe` 檢查 `HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services` 應包含以下值\n\n    ```\n    Available Worker Threads\n    Available IO Threads\n    Max Worker Threads\n    Max IO Threads\n    Min Worker Threads\n    Min IO Threads\n    ```\n\n2. 建立ASP.NET專案\n    1. 建立[Global.asax](#global)\n    2. 建立[StartWebApp.aspx](#startWebApp)\n    3. 建立[Sleep.aspx](#sleep)\n\n3. 開啟 `perfmon.exe` 新增計數器 , 選取我們自定義的 `MyAspNetThreadCounters`\n4. 連結網頁 `localhost\\StartWebApp.aspx` 以啟動網站,可以得到以下數據\n\n    ```\n    MaxWorkerThreads:32767.\n    MaxIOThreads:1000.\n    MinWorkerThreads:4.\n    MinIOThreads:4.\n    AvailableWorker:32766.\n    AvailableIO:1000.\n    ```\n5. 執行大量 redis 連線,觀察結果 AvailableWorker Threads 會往下掉,  \n故推斷 redis connection 是透過 Worker Threads 建立.\n\n6. 重現錯誤, 執行大量的 sleep 頁面,透過這種方式搶佔IIS的執行緒.\n![](/images/workerthread_and_iothread/110416_170101_PM.jpg)\n\n7. 再執行大量 redis 連線, 用以重現錯誤\n![](/images/workerthread_and_iothread/110416_170001_PM.jpg)\n\n## 程式碼\n\n### <span id=\"MyAspNetThreadCounters\">MyAspNetThreadCounters</span>\n\n```csharp\n  using System;\n  using System.Diagnostics;\n\n  class MyAspNetThreadCounters\n  {\n      [STAThread]\n      static void Main(string[] args)\n      {\n          CreateCounters();\n          Console.WriteLine(\"MyAspNetThreadCounters performance counter category \" +\n                            \"is created. [Press Enter]\");\n          Console.ReadLine();\n      }\n\n      public static void CreateCounters()\n      {\n          CounterCreationDataCollection col =\n            new CounterCreationDataCollection();\n\n          // Create custom counter objects\n          CounterCreationData counter1 = new CounterCreationData();\n          counter1.CounterName = \"Available Worker Threads\";\n          counter1.CounterHelp = \"The difference between the maximum number \" +\n                                \"of thread pool worker threads and the \" +\n                                \"number currently active.\";\n          counter1.CounterType = PerformanceCounterType.NumberOfItems32;\n\n          CounterCreationData counter2 = new CounterCreationData();\n          counter2.CounterName = \"Available IO Threads\";\n          counter2.CounterHelp = \"The difference between the maximum number of \" +\n                                \"thread pool IO threads and the number \" +\n                                \"currently active.\";\n          counter2.CounterType = PerformanceCounterType.NumberOfItems32;\n\n          CounterCreationData counter3 = new CounterCreationData();\n          counter3.CounterName = \"Max Worker Threads\";\n          counter3.CounterHelp = \"The number of requests to the thread pool \" +\n                                \"that can be active concurrently. All \" +\n                                \"requests above that number remain queued until \" +\n                                \"thread pool worker threads become available.\";\n          counter3.CounterType = PerformanceCounterType.NumberOfItems32;\n\n          CounterCreationData counter4 = new CounterCreationData();\n          counter4.CounterName = \"Max IO Threads\";\n          counter4.CounterHelp = \"The number of requests to the thread pool \" +\n                                \"that can be active concurrently. All \" +\n                                \"requests above that number remain queued until \" +\n                                \"thread pool IO threads become available.\";\n          counter4.CounterType = PerformanceCounterType.NumberOfItems32;\n\n          CounterCreationData counter5 = new CounterCreationData();\n          counter5.CounterName = \"Min Worker Threads\";\n          counter5.CounterHelp = \"The number of requests to the thread pool \" +\n                                \"that can be active concurrently. All \" +\n                                \"requests above that number remain queued until \" +\n                                \"thread pool worker threads become available.\";\n          counter5.CounterType = PerformanceCounterType.NumberOfItems32;\n\n          CounterCreationData counter6 = new CounterCreationData();\n          counter6.CounterName = \"Min IO Threads\";\n          counter6.CounterHelp = \"The number of requests to the thread pool \" +\n                                \"that can be active concurrently. All \" +\n                                \"requests above that number remain queued until \" +\n                                \"thread pool IO threads become available.\";\n          counter6.CounterType = PerformanceCounterType.NumberOfItems32;\n\n          // Add custom counter objects to CounterCreationDataCollection.\n          col.Add(counter1);\n          col.Add(counter2);\n          col.Add(counter3);\n          col.Add(counter4);\n          col.Add(counter5);\n          col.Add(counter6);\n\n          // delete the category if it already exists\n          if (PerformanceCounterCategory.Exists(\"MyAspNetThreadCounters\"))\n          {\n              PerformanceCounterCategory.Delete(\"MyAspNetThreadCounters\");\n          }\n          // bind the counters to the PerformanceCounterCategory\n          PerformanceCounterCategory category =\n                  PerformanceCounterCategory.Create(\"MyAspNetThreadCounters\",\"\", col);\n      }\n  }\n```\n\n### <span id=\"global\">Global.asax</span>\n\n```csharp\n  public class Global : System.Web\n  {\n      //BusyThreads =  TP.GetMaxThreads() –TP.GetAVailable();\n      //If BusyThreads >= TP.GetMinThreads(), then threadpool growth throttling is possible.\n\n      int maxIoThreads, maxWorkerThreads;\n      ThreadPool.GetMaxThreads(out maxWorkerThreads, out maxIoThreads);\n\n      int freeIoThreads, freeWorkerThreads;\n      ThreadPool.GetAvailableThreads(out freeWorkerThreads, out freeIoThreads);\n\n      int minIoThreads, minWorkerThreads;\n      ThreadPool.GetMinThreads(out minWorkerThreads, out minIoThreads);\n\n      int busyIoThreads = maxIoThreads - freeIoThreads;\n      int busyWorkerThreads = maxWorkerThreads - freeWorkerThreads;\n\n      iocp = $\"(Busy={busyIoThreads},Free={freeIoThreads},Min={minIoThreads},Max={maxIoThreads})\";\n      worker = $\"(Busy={busyWorkerThreads},Free={freeWorkerThreads},Min={minWorkerThreads},Max={maxWorkerThreads})\";\n      return busyWorkerThreads;\n  }\n```\n\n```csharp\n  using System;\n\n  public class Global : System.Web.HttpApplication\n  {\n      public bool MonitorThreadPoolEnabled = true;\n      protected void Application_Start(object sender, EventArgs e)\n      {\n          Thread t = new Thread(new ThreadStart(RefreshCounters));\n          t.Start();\n      }\n  \n      protected void Session_Start(object sender, EventArgs e)\n      {\n  \n      }\n  \n      protected void Application_BeginRequest(object sender, EventArgs e)\n      {\n  \n      }\n  \n      protected void Application_AuthenticateRequest(object sender, EventArgs e)\n      {\n  \n      }\n  \n      protected void Application_Error(object sender, EventArgs e)\n      {\n  \n      }\n  \n      protected void Session_End(object sender, EventArgs e)\n      {\n  \n      }\n  \n      protected void Application_End(object sender, EventArgs e)\n      {\n          MonitorThreadPoolEnabled = false;\n      }\n  \n      public void RefreshCounters()\n      {\n          while (MonitorThreadPoolEnabled)\n          {\n              ASPNETThreadInfo t = GetThreadInfo();\n              ShowPerfCounters(t);\n              System.Threading.Thread.Sleep(500);\n          }\n      }\n  \n      public struct ASPNETThreadInfo\n      {\n          public int MaxWorkerThreads;\n          public int MaxIOThreads;\n          public int MinFreeThreads;\n          public int MinLocalRequestFreeThreads;\n          public int AvailableWorkerThreads;\n          public int AvailableIOThreads;\n  \n          public bool Equals(ASPNETThreadInfo other)\n          {\n              return (\n              MaxWorkerThreads == other.MaxWorkerThreads &&\n              MaxIOThreads == other.MaxIOThreads &&\n              MinFreeThreads == other.MinFreeThreads &&\n              MinLocalRequestFreeThreads == other.MinLocalRequestFreeThreads &&\n              AvailableWorkerThreads == other.AvailableWorkerThreads &&\n              AvailableIOThreads == other.AvailableIOThreads\n              );\n          }\n      }\n  \n      public ASPNETThreadInfo GetThreadInfo()\n      {\n          // use ThreadPool to get the current status\n          int availableWorker, availableIO;\n          int maxWorker, maxIO;\n\n          ThreadPool.GetAvailableThreads(out availableWorker, out availableIO);\n          ThreadPool.GetMaxThreads(out maxWorker, out maxIO);\n          ASPNETThreadInfo threadInfo;\n          threadInfo.AvailableWorkerThreads = (Int16)availableWorker;\n          threadInfo.AvailableIOThreads = (Int16)availableIO;\n          threadInfo.MaxWorkerThreads = (Int16)maxWorker;\n          threadInfo.MaxIOThreads = (Int16)maxIO;\n          // hard code for now; could get this from  machine.config\n          threadInfo.MinFreeThreads = 8;\n          threadInfo.MinLocalRequestFreeThreads = 4;\n          return threadInfo;\n      }\n  \n      public void ShowPerfCounters(ASPNETThreadInfo t)\n      {\n  \n          // get an instance of our Available Worker Threads counter\n          PerformanceCounter counter1 = new PerformanceCounter();\n          counter1.CategoryName = \"MyAspNetThreadCounters\";\n          counter1.CounterName = \"Available Worker Threads\";\n          counter1.ReadOnly = false;\n  \n          // set the value of the counter\n          counter1.RawValue = t.AvailableWorkerThreads;\n          counter1.Close();\n  \n          // repeat for other counters\n  \n          PerformanceCounter counter2 = new PerformanceCounter();\n          counter2.CategoryName = \"MyAspNetThreadCounters\";\n          counter2.CounterName = \"Available IO Threads\";\n          counter2.ReadOnly = false;\n          counter2.RawValue = t.AvailableIOThreads;\n          counter2.Close();\n  \n          PerformanceCounter counter3 = new PerformanceCounter();\n          counter3.CategoryName = \"MyAspNetThreadCounters\";\n          counter3.CounterName = \"Max Worker Threads\";\n          counter3.ReadOnly = false;\n          counter3.RawValue = t.MaxWorkerThreads;\n          counter3.Close();\n  \n          PerformanceCounter counter4 = new PerformanceCounter();\n          counter4.CategoryName = \"MyAspNetThreadCounters\";\n          counter4.CounterName = \"Max IO Threads\";\n          counter4.ReadOnly = false;\n          counter4.RawValue = t.MaxIOThreads;\n          counter4.Close();\n  \n          int minWorker, minIO;\n          ThreadPool.GetMinThreads(out minWorker, out minIO);\n  \n          PerformanceCounter counter5 = new PerformanceCounter();\n          counter5.CategoryName = \"MyAspNetThreadCounters\";\n          counter5.CounterName = \"Min Worker Threads\";\n          counter5.ReadOnly = false;\n          counter5.RawValue = minWorker;\n          counter5.Close();\n  \n          PerformanceCounter counter6 = new PerformanceCounter();\n          counter6.CategoryName = \"MyAspNetThreadCounters\";\n          counter6.CounterName = \"Min IO Threads\";\n          counter6.ReadOnly = false;\n          counter6.RawValue = minIO;\n          counter6.Close();\n      }\n  }\n```\n\n### <span id=\"startWebApp\">StartWebApp.aspx</span>\n\n```csharp\n  protected void Page_Load(object sender, EventArgs e)\n  {\n      int availableWorker, availableIO;\n      int maxWorker, maxIO;\n      int minWorker, minIO;\n\n      ThreadPool.GetAvailableThreads(out availableWorker, out availableIO);\n      ThreadPool.GetMaxThreads(out maxWorker, out maxIO);\n      ThreadPool.GetMinThreads(out minWorker, out minIO);\n\n      Response.Write(\"This ASP.NET application has started.<br>\");\n      Response.Write(string.Format(\"MaxWorkerThreads:{0}.<br>\", maxWorker));\n      Response.Write(string.Format(\"MaxIOThreads:{0}.<br>\", maxIO));\n      Response.Write(string.Format(\"MinWorkerThreads:{0}.<br>\", minWorker));\n      Response.Write(string.Format(\"MinIOThreads:{0}.<br>\", minIO));\n      Response.Write(string.Format(\"AvailableWorker:{0}.<br>\", availableWorker));\n      Response.Write(string.Format(\"AvailableIO:{0}.<br>\", availableIO));\n      Response.Write(\"You can now close this page.\");\n  }\n```\n\n###  <span id=\"sleep\">Sleep.aspx</span>\n\n```csharp\n  void Page_Load(Object sender, EventArgs e)\n  {\n        int times = 0 ;\n        var max = int.Parse(Request.QueryString.Get(\"max\"));\n        var server = ConnectionMultiplexer.Connect(\"redisserver:6379,ssl=false,password=,allowAdmin=false,connectTimeout=200\");\n        var list = Enumerable.Range(1, max).ToList();\n        Parallel.ForEach(list, (i) =>\n        {\n\n            var database = server.GetDatabase();\n            database.StringGet(\"Cache:Key:06f305de-f163-4d49-8b98-d8bc51edf7d8\");\n            times++;\n        });\n\n        int availableWorker, availableIO;\n        int maxWorker, maxIO;\n        ThreadPool.SetMaxThreads(1, 1);\n        ThreadPool.GetAvailableThreads(out availableWorker, out availableIO);\n        ThreadPool.GetMaxThreads(out maxWorker, out maxIO);\n        Response.Write(String.Format(\"Connect Redis Busy:{0}<br /> {1}\",maxWorker - availableWorker, times));\n  }\n```\n\n### StackExchange.Redis 源碼\n\n```csharp\n  private static int GetThreadPoolStats(out string iocp, out string worker)\n  {\n      //BusyThreads =  TP.GetMaxThreads() –TP.GetAVailable();\n      //If BusyThreads >= TP.GetMinThreads(), then threadpool growth throttling is possible.\n\n      int maxIoThreads, maxWorkerThreads;\n      ThreadPool.GetMaxThreads(out maxWorkerThreads, out maxIoThreads);\n\n      int freeIoThreads, freeWorkerThreads;\n      ThreadPool.GetAvailableThreads(out freeWorkerThreads, out freeIoThreads);\n\n      int minIoThreads, minWorkerThreads;\n      ThreadPool.GetMinThreads(out minWorkerThreads, out minIoThreads);\n\n      int busyIoThreads = maxIoThreads - freeIoThreads;\n      int busyWorkerThreads = maxWorkerThreads - freeWorkerThreads;\n\n      iocp = $\"(Busy={busyIoThreads},Free={freeIoThreads},Min={minIoThreads},Max={maxIoThreads})\";\n      worker = $\"(Busy={busyWorkerThreads},Free={freeWorkerThreads},Min={minWorkerThreads},Max={maxWorkerThreads})\";\n      return busyWorkerThreads;\n  }\n```\n\n## <span id=\"testEnvironment\">環境與工具</span>\n\n- Visual Studio 2015 Professional UPDATE 3\n- Windows 10 \n- .NET Framework 4.5\n- StackExchange.Redis 1.0.481\n- CPU `Intel® Core™ i7-5500U` 四核心\n\n## 官方說明\n\n- [爭用、 效能不佳、 和死結 （deadlock） 當您從 ASP.NET 應用程式呼叫 Web 服務](https://support.microsoft.com/zh-tw/kb/821268)\n- machine.config\n\n```xml\n<system.web>\n    <processModel autoConfig=\"false\" maxWorkerThreads=\"xxx\" maxIoThreads=\"xxx\" minWorkerThreads=\"xxx\" minIoThreads=\"xxx\" requestQueueLimit=\"5000\" responseDeadlockInterval=\"00:03:00\"/>\n    <httpRuntime minFreeThreads=\"xxx\" minLocalRequestFreeThreads=\"xxx\"/>\n</system.web>\n```\n\n### 建議的設定值\n\n```xml\n<system.web>\n    <processModel autoConfig=\"false\" minWorkerThreads=\"1\" />\n</system.web>\n```\n\n.NET 官方文件的預設值與建議值\n\n|名稱|預設值|建議配置|\n|---|---|---|\n|maxWorkerThreads|20|32767 / #Cores |\n|maxIoThreads|20|32767 / #Cores|\n|minWorkerThreads|1|maxWorkerThreads/2|\n|minIoThreads|1|maxIoThreads / 2|\n|minFreeThreads| 8  |  88*#CPUs  |\n|minLocalRequestFreeThreads| 4 | 76*#CPUs  |\n|maxconnection| 2 | 12*CPUs |\n|executionTimeout| 90s  | 未建議 |\n\n* maxWorkerThreads,minWorkerThreads,maxIoThreads,minIoThreads 設定的數值需要乘上CPU的數量,  \n\n例: 4 核心設定 minWorkerThreads 值 20 ,實際上的值為 80\n\n## <span id=\"comment1\">註釋<span>\n\n1. ThreadPool 中會有一個 queue , 其中隱含一個半秒機制 , 當 queue 靜止超過半秒 , 就會在 ThreadPool 建立一個新的 Thread  \n\n## 記錄\n\n- ADO.NET 需要使用 Worker Thread\n- Redis 需要使用 Worker Thread\n\n## 參考\n\n- [Threading](https://msdn.microsoft.com/en-us/library/orm-9780596527570-03-19.aspx)\n- [Improving ASP.NET Performance](https://msdn.microsoft.com/en-us/library/ms998549.aspx)\n- [Programming the Thread Pool in the .NET Framework](https://msdn.microsoft.com/en-us/library/ms973903.aspx)\n- [StackExchange.Redis 源碼](https://github.com/StackExchange/StackExchange.Redis)\n- [雲計算之路-阿里雲上：從ASP.NET線程角度對「黑色30秒」問題的全新分析](https://read01.com/MenEP.html)\n- [How To: Monitor the ASP.NET Thread Pool Using Custom Counters](https://msdn.microsoft.com/zh-tw/library/ff650682.aspx)\n- <http://www.thejoyofcode.com/tuning_the_threadpool.aspx>\n- <https://gist.github.com/JonCole/e65411214030f0d823cb>\n- <https://blogs.msdn.microsoft.com/carloc/2009/02/19/minworkerthreads-and-autoconfig/>\n\n(fin)\n","source":"_drafts/workerthread_and_iothread_1.md","raw":"---\ntitle: 實戰 .Net 大量請求與多執行緒(一) 錯誤與原因\ndate: 2016/11/04 11:49:17\ntag:\n  - .Net Framework\n  - IO\n  - Thread\n---\n\n## 前情提要\n\n1. 實務上的專案遭受 DDos 攻擊  \n2. DB TimeOut  \n3. Redis TimeOut  \n4. 主程式沒有死,但是Elmah出現大量Exception  \n\n## 錯誤資訊\n\n![瞬發的流量](/images/workerthread_and_iothread/110416_102437_AM.jpg)\n\n### Redis的錯誤記錄\n\n錯誤1.\n\n```text\n    Timeout performing SETEX Cache:Key:06f305de-f163-4d49-8b98-d8bc51edf7d8, \n    inst: 1, mgr: ExecuteSelect, err: never, queue: 2, qu: 2, qs: 0, qc: 0, wr: 0, wq: 0, in: 0, ar: 0, \n    IOCP: (Busy=0,Free=1000,Min=4,Max=1000), WORKER: (Busy=165,Free=32602,Min=4,Max=32767), \n    clientName: TYO-HOST\n```\n\n錯誤2.\n\n```text\n    StackExchange.Redis.RedisConnectionException\n    SocketFailure on GET\n```\n\n錯誤3.\n\n```text\n    No connection is available to service this operation: \n    GET Cache:Key:06f305de-f163-4d49-8b98-d8bc51edf7d8\n```\n\n錯誤4.\n\n```text\n    UnableToResolvePhysicalConnection on GET\n```\n\n### SQL Server 錯誤記錄\n\n```text\n    A transport-level error has occurred when receiving results from the server. \n    (provider: Session Provider, error: 19 - Physical connection is not usable)\n```\n\n## 錯誤原因\n\n1. CLR 建立執行緒需要時間 , 一秒鐘最多只能建立兩條 Thread [註一](#comment1)\n2. 瞬間的 Request 量超過 ThreadPool 中的 Thread 數量\n3. ThreadPool 建立 Thread 中 , 仍持續有 Request 進來引發錯誤\n4. 因為我的[測試環境](#testEnvironment)有四核心,依文件所說\n\n## 實驗流程\n\n1. 建立監視器\n    參考 [How To: Monitor the ASP.NET Thread Pool Using Custom Counters](https://msdn.microsoft.com/zh-tw/library/ff650682.aspx)\n\n    1. 建立一個 console 專案, [MyAspNetThreadCounters](#MyAspNetThreadCounters)\n    2. 編譯並執行 console 專案\n    3. 開啟`Regedit.exe` 檢查 `HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services` 應包含以下值\n\n    ```\n    Available Worker Threads\n    Available IO Threads\n    Max Worker Threads\n    Max IO Threads\n    Min Worker Threads\n    Min IO Threads\n    ```\n\n2. 建立ASP.NET專案\n    1. 建立[Global.asax](#global)\n    2. 建立[StartWebApp.aspx](#startWebApp)\n    3. 建立[Sleep.aspx](#sleep)\n\n3. 開啟 `perfmon.exe` 新增計數器 , 選取我們自定義的 `MyAspNetThreadCounters`\n4. 連結網頁 `localhost\\StartWebApp.aspx` 以啟動網站,可以得到以下數據\n\n    ```\n    MaxWorkerThreads:32767.\n    MaxIOThreads:1000.\n    MinWorkerThreads:4.\n    MinIOThreads:4.\n    AvailableWorker:32766.\n    AvailableIO:1000.\n    ```\n5. 執行大量 redis 連線,觀察結果 AvailableWorker Threads 會往下掉,  \n故推斷 redis connection 是透過 Worker Threads 建立.\n\n6. 重現錯誤, 執行大量的 sleep 頁面,透過這種方式搶佔IIS的執行緒.\n![](/images/workerthread_and_iothread/110416_170101_PM.jpg)\n\n7. 再執行大量 redis 連線, 用以重現錯誤\n![](/images/workerthread_and_iothread/110416_170001_PM.jpg)\n\n## 程式碼\n\n### <span id=\"MyAspNetThreadCounters\">MyAspNetThreadCounters</span>\n\n```csharp\n  using System;\n  using System.Diagnostics;\n\n  class MyAspNetThreadCounters\n  {\n      [STAThread]\n      static void Main(string[] args)\n      {\n          CreateCounters();\n          Console.WriteLine(\"MyAspNetThreadCounters performance counter category \" +\n                            \"is created. [Press Enter]\");\n          Console.ReadLine();\n      }\n\n      public static void CreateCounters()\n      {\n          CounterCreationDataCollection col =\n            new CounterCreationDataCollection();\n\n          // Create custom counter objects\n          CounterCreationData counter1 = new CounterCreationData();\n          counter1.CounterName = \"Available Worker Threads\";\n          counter1.CounterHelp = \"The difference between the maximum number \" +\n                                \"of thread pool worker threads and the \" +\n                                \"number currently active.\";\n          counter1.CounterType = PerformanceCounterType.NumberOfItems32;\n\n          CounterCreationData counter2 = new CounterCreationData();\n          counter2.CounterName = \"Available IO Threads\";\n          counter2.CounterHelp = \"The difference between the maximum number of \" +\n                                \"thread pool IO threads and the number \" +\n                                \"currently active.\";\n          counter2.CounterType = PerformanceCounterType.NumberOfItems32;\n\n          CounterCreationData counter3 = new CounterCreationData();\n          counter3.CounterName = \"Max Worker Threads\";\n          counter3.CounterHelp = \"The number of requests to the thread pool \" +\n                                \"that can be active concurrently. All \" +\n                                \"requests above that number remain queued until \" +\n                                \"thread pool worker threads become available.\";\n          counter3.CounterType = PerformanceCounterType.NumberOfItems32;\n\n          CounterCreationData counter4 = new CounterCreationData();\n          counter4.CounterName = \"Max IO Threads\";\n          counter4.CounterHelp = \"The number of requests to the thread pool \" +\n                                \"that can be active concurrently. All \" +\n                                \"requests above that number remain queued until \" +\n                                \"thread pool IO threads become available.\";\n          counter4.CounterType = PerformanceCounterType.NumberOfItems32;\n\n          CounterCreationData counter5 = new CounterCreationData();\n          counter5.CounterName = \"Min Worker Threads\";\n          counter5.CounterHelp = \"The number of requests to the thread pool \" +\n                                \"that can be active concurrently. All \" +\n                                \"requests above that number remain queued until \" +\n                                \"thread pool worker threads become available.\";\n          counter5.CounterType = PerformanceCounterType.NumberOfItems32;\n\n          CounterCreationData counter6 = new CounterCreationData();\n          counter6.CounterName = \"Min IO Threads\";\n          counter6.CounterHelp = \"The number of requests to the thread pool \" +\n                                \"that can be active concurrently. All \" +\n                                \"requests above that number remain queued until \" +\n                                \"thread pool IO threads become available.\";\n          counter6.CounterType = PerformanceCounterType.NumberOfItems32;\n\n          // Add custom counter objects to CounterCreationDataCollection.\n          col.Add(counter1);\n          col.Add(counter2);\n          col.Add(counter3);\n          col.Add(counter4);\n          col.Add(counter5);\n          col.Add(counter6);\n\n          // delete the category if it already exists\n          if (PerformanceCounterCategory.Exists(\"MyAspNetThreadCounters\"))\n          {\n              PerformanceCounterCategory.Delete(\"MyAspNetThreadCounters\");\n          }\n          // bind the counters to the PerformanceCounterCategory\n          PerformanceCounterCategory category =\n                  PerformanceCounterCategory.Create(\"MyAspNetThreadCounters\",\"\", col);\n      }\n  }\n```\n\n### <span id=\"global\">Global.asax</span>\n\n```csharp\n  public class Global : System.Web\n  {\n      //BusyThreads =  TP.GetMaxThreads() –TP.GetAVailable();\n      //If BusyThreads >= TP.GetMinThreads(), then threadpool growth throttling is possible.\n\n      int maxIoThreads, maxWorkerThreads;\n      ThreadPool.GetMaxThreads(out maxWorkerThreads, out maxIoThreads);\n\n      int freeIoThreads, freeWorkerThreads;\n      ThreadPool.GetAvailableThreads(out freeWorkerThreads, out freeIoThreads);\n\n      int minIoThreads, minWorkerThreads;\n      ThreadPool.GetMinThreads(out minWorkerThreads, out minIoThreads);\n\n      int busyIoThreads = maxIoThreads - freeIoThreads;\n      int busyWorkerThreads = maxWorkerThreads - freeWorkerThreads;\n\n      iocp = $\"(Busy={busyIoThreads},Free={freeIoThreads},Min={minIoThreads},Max={maxIoThreads})\";\n      worker = $\"(Busy={busyWorkerThreads},Free={freeWorkerThreads},Min={minWorkerThreads},Max={maxWorkerThreads})\";\n      return busyWorkerThreads;\n  }\n```\n\n```csharp\n  using System;\n\n  public class Global : System.Web.HttpApplication\n  {\n      public bool MonitorThreadPoolEnabled = true;\n      protected void Application_Start(object sender, EventArgs e)\n      {\n          Thread t = new Thread(new ThreadStart(RefreshCounters));\n          t.Start();\n      }\n  \n      protected void Session_Start(object sender, EventArgs e)\n      {\n  \n      }\n  \n      protected void Application_BeginRequest(object sender, EventArgs e)\n      {\n  \n      }\n  \n      protected void Application_AuthenticateRequest(object sender, EventArgs e)\n      {\n  \n      }\n  \n      protected void Application_Error(object sender, EventArgs e)\n      {\n  \n      }\n  \n      protected void Session_End(object sender, EventArgs e)\n      {\n  \n      }\n  \n      protected void Application_End(object sender, EventArgs e)\n      {\n          MonitorThreadPoolEnabled = false;\n      }\n  \n      public void RefreshCounters()\n      {\n          while (MonitorThreadPoolEnabled)\n          {\n              ASPNETThreadInfo t = GetThreadInfo();\n              ShowPerfCounters(t);\n              System.Threading.Thread.Sleep(500);\n          }\n      }\n  \n      public struct ASPNETThreadInfo\n      {\n          public int MaxWorkerThreads;\n          public int MaxIOThreads;\n          public int MinFreeThreads;\n          public int MinLocalRequestFreeThreads;\n          public int AvailableWorkerThreads;\n          public int AvailableIOThreads;\n  \n          public bool Equals(ASPNETThreadInfo other)\n          {\n              return (\n              MaxWorkerThreads == other.MaxWorkerThreads &&\n              MaxIOThreads == other.MaxIOThreads &&\n              MinFreeThreads == other.MinFreeThreads &&\n              MinLocalRequestFreeThreads == other.MinLocalRequestFreeThreads &&\n              AvailableWorkerThreads == other.AvailableWorkerThreads &&\n              AvailableIOThreads == other.AvailableIOThreads\n              );\n          }\n      }\n  \n      public ASPNETThreadInfo GetThreadInfo()\n      {\n          // use ThreadPool to get the current status\n          int availableWorker, availableIO;\n          int maxWorker, maxIO;\n\n          ThreadPool.GetAvailableThreads(out availableWorker, out availableIO);\n          ThreadPool.GetMaxThreads(out maxWorker, out maxIO);\n          ASPNETThreadInfo threadInfo;\n          threadInfo.AvailableWorkerThreads = (Int16)availableWorker;\n          threadInfo.AvailableIOThreads = (Int16)availableIO;\n          threadInfo.MaxWorkerThreads = (Int16)maxWorker;\n          threadInfo.MaxIOThreads = (Int16)maxIO;\n          // hard code for now; could get this from  machine.config\n          threadInfo.MinFreeThreads = 8;\n          threadInfo.MinLocalRequestFreeThreads = 4;\n          return threadInfo;\n      }\n  \n      public void ShowPerfCounters(ASPNETThreadInfo t)\n      {\n  \n          // get an instance of our Available Worker Threads counter\n          PerformanceCounter counter1 = new PerformanceCounter();\n          counter1.CategoryName = \"MyAspNetThreadCounters\";\n          counter1.CounterName = \"Available Worker Threads\";\n          counter1.ReadOnly = false;\n  \n          // set the value of the counter\n          counter1.RawValue = t.AvailableWorkerThreads;\n          counter1.Close();\n  \n          // repeat for other counters\n  \n          PerformanceCounter counter2 = new PerformanceCounter();\n          counter2.CategoryName = \"MyAspNetThreadCounters\";\n          counter2.CounterName = \"Available IO Threads\";\n          counter2.ReadOnly = false;\n          counter2.RawValue = t.AvailableIOThreads;\n          counter2.Close();\n  \n          PerformanceCounter counter3 = new PerformanceCounter();\n          counter3.CategoryName = \"MyAspNetThreadCounters\";\n          counter3.CounterName = \"Max Worker Threads\";\n          counter3.ReadOnly = false;\n          counter3.RawValue = t.MaxWorkerThreads;\n          counter3.Close();\n  \n          PerformanceCounter counter4 = new PerformanceCounter();\n          counter4.CategoryName = \"MyAspNetThreadCounters\";\n          counter4.CounterName = \"Max IO Threads\";\n          counter4.ReadOnly = false;\n          counter4.RawValue = t.MaxIOThreads;\n          counter4.Close();\n  \n          int minWorker, minIO;\n          ThreadPool.GetMinThreads(out minWorker, out minIO);\n  \n          PerformanceCounter counter5 = new PerformanceCounter();\n          counter5.CategoryName = \"MyAspNetThreadCounters\";\n          counter5.CounterName = \"Min Worker Threads\";\n          counter5.ReadOnly = false;\n          counter5.RawValue = minWorker;\n          counter5.Close();\n  \n          PerformanceCounter counter6 = new PerformanceCounter();\n          counter6.CategoryName = \"MyAspNetThreadCounters\";\n          counter6.CounterName = \"Min IO Threads\";\n          counter6.ReadOnly = false;\n          counter6.RawValue = minIO;\n          counter6.Close();\n      }\n  }\n```\n\n### <span id=\"startWebApp\">StartWebApp.aspx</span>\n\n```csharp\n  protected void Page_Load(object sender, EventArgs e)\n  {\n      int availableWorker, availableIO;\n      int maxWorker, maxIO;\n      int minWorker, minIO;\n\n      ThreadPool.GetAvailableThreads(out availableWorker, out availableIO);\n      ThreadPool.GetMaxThreads(out maxWorker, out maxIO);\n      ThreadPool.GetMinThreads(out minWorker, out minIO);\n\n      Response.Write(\"This ASP.NET application has started.<br>\");\n      Response.Write(string.Format(\"MaxWorkerThreads:{0}.<br>\", maxWorker));\n      Response.Write(string.Format(\"MaxIOThreads:{0}.<br>\", maxIO));\n      Response.Write(string.Format(\"MinWorkerThreads:{0}.<br>\", minWorker));\n      Response.Write(string.Format(\"MinIOThreads:{0}.<br>\", minIO));\n      Response.Write(string.Format(\"AvailableWorker:{0}.<br>\", availableWorker));\n      Response.Write(string.Format(\"AvailableIO:{0}.<br>\", availableIO));\n      Response.Write(\"You can now close this page.\");\n  }\n```\n\n###  <span id=\"sleep\">Sleep.aspx</span>\n\n```csharp\n  void Page_Load(Object sender, EventArgs e)\n  {\n        int times = 0 ;\n        var max = int.Parse(Request.QueryString.Get(\"max\"));\n        var server = ConnectionMultiplexer.Connect(\"redisserver:6379,ssl=false,password=,allowAdmin=false,connectTimeout=200\");\n        var list = Enumerable.Range(1, max).ToList();\n        Parallel.ForEach(list, (i) =>\n        {\n\n            var database = server.GetDatabase();\n            database.StringGet(\"Cache:Key:06f305de-f163-4d49-8b98-d8bc51edf7d8\");\n            times++;\n        });\n\n        int availableWorker, availableIO;\n        int maxWorker, maxIO;\n        ThreadPool.SetMaxThreads(1, 1);\n        ThreadPool.GetAvailableThreads(out availableWorker, out availableIO);\n        ThreadPool.GetMaxThreads(out maxWorker, out maxIO);\n        Response.Write(String.Format(\"Connect Redis Busy:{0}<br /> {1}\",maxWorker - availableWorker, times));\n  }\n```\n\n### StackExchange.Redis 源碼\n\n```csharp\n  private static int GetThreadPoolStats(out string iocp, out string worker)\n  {\n      //BusyThreads =  TP.GetMaxThreads() –TP.GetAVailable();\n      //If BusyThreads >= TP.GetMinThreads(), then threadpool growth throttling is possible.\n\n      int maxIoThreads, maxWorkerThreads;\n      ThreadPool.GetMaxThreads(out maxWorkerThreads, out maxIoThreads);\n\n      int freeIoThreads, freeWorkerThreads;\n      ThreadPool.GetAvailableThreads(out freeWorkerThreads, out freeIoThreads);\n\n      int minIoThreads, minWorkerThreads;\n      ThreadPool.GetMinThreads(out minWorkerThreads, out minIoThreads);\n\n      int busyIoThreads = maxIoThreads - freeIoThreads;\n      int busyWorkerThreads = maxWorkerThreads - freeWorkerThreads;\n\n      iocp = $\"(Busy={busyIoThreads},Free={freeIoThreads},Min={minIoThreads},Max={maxIoThreads})\";\n      worker = $\"(Busy={busyWorkerThreads},Free={freeWorkerThreads},Min={minWorkerThreads},Max={maxWorkerThreads})\";\n      return busyWorkerThreads;\n  }\n```\n\n## <span id=\"testEnvironment\">環境與工具</span>\n\n- Visual Studio 2015 Professional UPDATE 3\n- Windows 10 \n- .NET Framework 4.5\n- StackExchange.Redis 1.0.481\n- CPU `Intel® Core™ i7-5500U` 四核心\n\n## 官方說明\n\n- [爭用、 效能不佳、 和死結 （deadlock） 當您從 ASP.NET 應用程式呼叫 Web 服務](https://support.microsoft.com/zh-tw/kb/821268)\n- machine.config\n\n```xml\n<system.web>\n    <processModel autoConfig=\"false\" maxWorkerThreads=\"xxx\" maxIoThreads=\"xxx\" minWorkerThreads=\"xxx\" minIoThreads=\"xxx\" requestQueueLimit=\"5000\" responseDeadlockInterval=\"00:03:00\"/>\n    <httpRuntime minFreeThreads=\"xxx\" minLocalRequestFreeThreads=\"xxx\"/>\n</system.web>\n```\n\n### 建議的設定值\n\n```xml\n<system.web>\n    <processModel autoConfig=\"false\" minWorkerThreads=\"1\" />\n</system.web>\n```\n\n.NET 官方文件的預設值與建議值\n\n|名稱|預設值|建議配置|\n|---|---|---|\n|maxWorkerThreads|20|32767 / #Cores |\n|maxIoThreads|20|32767 / #Cores|\n|minWorkerThreads|1|maxWorkerThreads/2|\n|minIoThreads|1|maxIoThreads / 2|\n|minFreeThreads| 8  |  88*#CPUs  |\n|minLocalRequestFreeThreads| 4 | 76*#CPUs  |\n|maxconnection| 2 | 12*CPUs |\n|executionTimeout| 90s  | 未建議 |\n\n* maxWorkerThreads,minWorkerThreads,maxIoThreads,minIoThreads 設定的數值需要乘上CPU的數量,  \n\n例: 4 核心設定 minWorkerThreads 值 20 ,實際上的值為 80\n\n## <span id=\"comment1\">註釋<span>\n\n1. ThreadPool 中會有一個 queue , 其中隱含一個半秒機制 , 當 queue 靜止超過半秒 , 就會在 ThreadPool 建立一個新的 Thread  \n\n## 記錄\n\n- ADO.NET 需要使用 Worker Thread\n- Redis 需要使用 Worker Thread\n\n## 參考\n\n- [Threading](https://msdn.microsoft.com/en-us/library/orm-9780596527570-03-19.aspx)\n- [Improving ASP.NET Performance](https://msdn.microsoft.com/en-us/library/ms998549.aspx)\n- [Programming the Thread Pool in the .NET Framework](https://msdn.microsoft.com/en-us/library/ms973903.aspx)\n- [StackExchange.Redis 源碼](https://github.com/StackExchange/StackExchange.Redis)\n- [雲計算之路-阿里雲上：從ASP.NET線程角度對「黑色30秒」問題的全新分析](https://read01.com/MenEP.html)\n- [How To: Monitor the ASP.NET Thread Pool Using Custom Counters](https://msdn.microsoft.com/zh-tw/library/ff650682.aspx)\n- <http://www.thejoyofcode.com/tuning_the_threadpool.aspx>\n- <https://gist.github.com/JonCole/e65411214030f0d823cb>\n- <https://blogs.msdn.microsoft.com/carloc/2009/02/19/minworkerthreads-and-autoconfig/>\n\n(fin)\n","slug":"workerthread_and_iothread_1","published":0,"updated":"2019-09-08T10:27:22.034Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wgs0004b0vx7jydhamq","content":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><ol>\n<li>實務上的專案遭受 DDos 攻擊  </li>\n<li>DB TimeOut  </li>\n<li>Redis TimeOut  </li>\n<li>主程式沒有死,但是Elmah出現大量Exception  </li>\n</ol>\n<h2 id=\"錯誤資訊\"><a href=\"#錯誤資訊\" class=\"headerlink\" title=\"錯誤資訊\"></a>錯誤資訊</h2><p><img src=\"/images/workerthread_and_iothread/110416_102437_AM.jpg\" alt=\"瞬發的流量\"></p>\n<h3 id=\"Redis的錯誤記錄\"><a href=\"#Redis的錯誤記錄\" class=\"headerlink\" title=\"Redis的錯誤記錄\"></a>Redis的錯誤記錄</h3><p>錯誤1.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Timeout performing SETEX Cache:Key:06f305de-f163-4d49-8b98-d8bc51edf7d8, </span><br><span class=\"line\">inst: 1, mgr: ExecuteSelect, err: never, queue: 2, qu: 2, qs: 0, qc: 0, wr: 0, wq: 0, in: 0, ar: 0, </span><br><span class=\"line\">IOCP: (Busy=0,Free=1000,Min=4,Max=1000), WORKER: (Busy=165,Free=32602,Min=4,Max=32767), </span><br><span class=\"line\">clientName: TYO-HOST</span><br></pre></td></tr></table></figure>\n\n<p>錯誤2.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">StackExchange.Redis.RedisConnectionException</span><br><span class=\"line\">SocketFailure on GET</span><br></pre></td></tr></table></figure>\n\n<p>錯誤3.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">No connection is available to service this operation: </span><br><span class=\"line\">GET Cache:Key:06f305de-f163-4d49-8b98-d8bc51edf7d8</span><br></pre></td></tr></table></figure>\n\n<p>錯誤4.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">UnableToResolvePhysicalConnection on GET</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"SQL-Server-錯誤記錄\"><a href=\"#SQL-Server-錯誤記錄\" class=\"headerlink\" title=\"SQL Server 錯誤記錄\"></a>SQL Server 錯誤記錄</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">A transport-level error has occurred when receiving results from the server. </span><br><span class=\"line\">(provider: Session Provider, error: 19 - Physical connection is not usable)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"錯誤原因\"><a href=\"#錯誤原因\" class=\"headerlink\" title=\"錯誤原因\"></a>錯誤原因</h2><ol>\n<li>CLR 建立執行緒需要時間 , 一秒鐘最多只能建立兩條 Thread <a href=\"#comment1\">註一</a></li>\n<li>瞬間的 Request 量超過 ThreadPool 中的 Thread 數量</li>\n<li>ThreadPool 建立 Thread 中 , 仍持續有 Request 進來引發錯誤</li>\n<li>因為我的<a href=\"#testEnvironment\">測試環境</a>有四核心,依文件所說</li>\n</ol>\n<h2 id=\"實驗流程\"><a href=\"#實驗流程\" class=\"headerlink\" title=\"實驗流程\"></a>實驗流程</h2><ol>\n<li><p>建立監視器<br> 參考 <a href=\"https://msdn.microsoft.com/zh-tw/library/ff650682.aspx\" target=\"_blank\" rel=\"noopener\">How To: Monitor the ASP.NET Thread Pool Using Custom Counters</a></p>\n<ol>\n<li><p>建立一個 console 專案, <a href=\"#MyAspNetThreadCounters\">MyAspNetThreadCounters</a></p>\n</li>\n<li><p>編譯並執行 console 專案</p>\n</li>\n<li><p>開啟<code>Regedit.exe</code> 檢查 <code>HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services</code> 應包含以下值</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Available Worker Threads</span><br><span class=\"line\">Available IO Threads</span><br><span class=\"line\">Max Worker Threads</span><br><span class=\"line\">Max IO Threads</span><br><span class=\"line\">Min Worker Threads</span><br><span class=\"line\">Min IO Threads</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>建立ASP.NET專案</p>\n<ol>\n<li>建立<a href=\"#global\">Global.asax</a></li>\n<li>建立<a href=\"#startWebApp\">StartWebApp.aspx</a></li>\n<li>建立<a href=\"#sleep\">Sleep.aspx</a></li>\n</ol>\n</li>\n<li><p>開啟 <code>perfmon.exe</code> 新增計數器 , 選取我們自定義的 <code>MyAspNetThreadCounters</code></p>\n</li>\n<li><p>連結網頁 <code>localhost\\StartWebApp.aspx</code> 以啟動網站,可以得到以下數據</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MaxWorkerThreads:32767.</span><br><span class=\"line\">MaxIOThreads:1000.</span><br><span class=\"line\">MinWorkerThreads:4.</span><br><span class=\"line\">MinIOThreads:4.</span><br><span class=\"line\">AvailableWorker:32766.</span><br><span class=\"line\">AvailableIO:1000.</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>執行大量 redis 連線,觀察結果 AvailableWorker Threads 會往下掉,<br>故推斷 redis connection 是透過 Worker Threads 建立.</p>\n</li>\n<li><p>重現錯誤, 執行大量的 sleep 頁面,透過這種方式搶佔IIS的執行緒.<br><img src=\"/images/workerthread_and_iothread/110416_170101_PM.jpg\" alt></p>\n</li>\n<li><p>再執行大量 redis 連線, 用以重現錯誤<br><img src=\"/images/workerthread_and_iothread/110416_170001_PM.jpg\" alt></p>\n</li>\n</ol>\n<h2 id=\"程式碼\"><a href=\"#程式碼\" class=\"headerlink\" title=\"程式碼\"></a>程式碼</h2><h3 id=\"MyAspNetThreadCounters\"><a href=\"#MyAspNetThreadCounters\" class=\"headerlink\" title=\"MyAspNetThreadCounters\"></a><span id=\"MyAspNetThreadCounters\">MyAspNetThreadCounters</span></h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Diagnostics;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">MyAspNetThreadCounters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    [<span class=\"meta\">STAThread</span>]</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"keyword\">string</span>[] args</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        CreateCounters();</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">\"MyAspNetThreadCounters performance counter category \"</span> +</span><br><span class=\"line\">                          <span class=\"string\">\"is created. [Press Enter]\"</span>);</span><br><span class=\"line\">        Console.ReadLine();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">CreateCounters</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        CounterCreationDataCollection col =</span><br><span class=\"line\">          <span class=\"keyword\">new</span> CounterCreationDataCollection();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Create custom counter objects</span></span><br><span class=\"line\">        CounterCreationData counter1 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">        counter1.CounterName = <span class=\"string\">\"Available Worker Threads\"</span>;</span><br><span class=\"line\">        counter1.CounterHelp = <span class=\"string\">\"The difference between the maximum number \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"of thread pool worker threads and the \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"number currently active.\"</span>;</span><br><span class=\"line\">        counter1.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">        CounterCreationData counter2 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">        counter2.CounterName = <span class=\"string\">\"Available IO Threads\"</span>;</span><br><span class=\"line\">        counter2.CounterHelp = <span class=\"string\">\"The difference between the maximum number of \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"thread pool IO threads and the number \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"currently active.\"</span>;</span><br><span class=\"line\">        counter2.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">        CounterCreationData counter3 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">        counter3.CounterName = <span class=\"string\">\"Max Worker Threads\"</span>;</span><br><span class=\"line\">        counter3.CounterHelp = <span class=\"string\">\"The number of requests to the thread pool \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"that can be active concurrently. All \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"requests above that number remain queued until \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"thread pool worker threads become available.\"</span>;</span><br><span class=\"line\">        counter3.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">        CounterCreationData counter4 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">        counter4.CounterName = <span class=\"string\">\"Max IO Threads\"</span>;</span><br><span class=\"line\">        counter4.CounterHelp = <span class=\"string\">\"The number of requests to the thread pool \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"that can be active concurrently. All \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"requests above that number remain queued until \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"thread pool IO threads become available.\"</span>;</span><br><span class=\"line\">        counter4.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">        CounterCreationData counter5 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">        counter5.CounterName = <span class=\"string\">\"Min Worker Threads\"</span>;</span><br><span class=\"line\">        counter5.CounterHelp = <span class=\"string\">\"The number of requests to the thread pool \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"that can be active concurrently. All \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"requests above that number remain queued until \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"thread pool worker threads become available.\"</span>;</span><br><span class=\"line\">        counter5.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">        CounterCreationData counter6 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">        counter6.CounterName = <span class=\"string\">\"Min IO Threads\"</span>;</span><br><span class=\"line\">        counter6.CounterHelp = <span class=\"string\">\"The number of requests to the thread pool \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"that can be active concurrently. All \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"requests above that number remain queued until \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"thread pool IO threads become available.\"</span>;</span><br><span class=\"line\">        counter6.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Add custom counter objects to CounterCreationDataCollection.</span></span><br><span class=\"line\">        col.Add(counter1);</span><br><span class=\"line\">        col.Add(counter2);</span><br><span class=\"line\">        col.Add(counter3);</span><br><span class=\"line\">        col.Add(counter4);</span><br><span class=\"line\">        col.Add(counter5);</span><br><span class=\"line\">        col.Add(counter6);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// delete the category if it already exists</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (PerformanceCounterCategory.Exists(<span class=\"string\">\"MyAspNetThreadCounters\"</span>))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            PerformanceCounterCategory.Delete(<span class=\"string\">\"MyAspNetThreadCounters\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// bind the counters to the PerformanceCounterCategory</span></span><br><span class=\"line\">        PerformanceCounterCategory category =</span><br><span class=\"line\">                PerformanceCounterCategory.Create(<span class=\"string\">\"MyAspNetThreadCounters\"</span>,<span class=\"string\">\"\"</span>, col);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Global-asax\"><a href=\"#Global-asax\" class=\"headerlink\" title=\"Global.asax\"></a><span id=\"global\">Global.asax</span></h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class Global : System.Web</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//BusyThreads =  TP.GetMaxThreads() –TP.GetAVailable();</span></span><br><span class=\"line\">    <span class=\"comment\">//If BusyThreads &gt;= TP.GetMinThreads(), then threadpool growth throttling is possible.</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> maxIoThreads, maxWorkerThreads;</span><br><span class=\"line\">    ThreadPool.GetMaxThreads(<span class=\"keyword\">out</span> maxWorkerThreads, <span class=\"keyword\">out</span> maxIoThreads);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> freeIoThreads, freeWorkerThreads;</span><br><span class=\"line\">    ThreadPool.GetAvailableThreads(<span class=\"keyword\">out</span> freeWorkerThreads, <span class=\"keyword\">out</span> freeIoThreads);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> minIoThreads, minWorkerThreads;</span><br><span class=\"line\">    ThreadPool.GetMinThreads(<span class=\"keyword\">out</span> minWorkerThreads, <span class=\"keyword\">out</span> minIoThreads);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> busyIoThreads = maxIoThreads - freeIoThreads;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> busyWorkerThreads = maxWorkerThreads - freeWorkerThreads;</span><br><span class=\"line\"></span><br><span class=\"line\">    iocp = <span class=\"string\">$\"(Busy=<span class=\"subst\">&#123;busyIoThreads&#125;</span>,Free=<span class=\"subst\">&#123;freeIoThreads&#125;</span>,Min=<span class=\"subst\">&#123;minIoThreads&#125;</span>,Max=<span class=\"subst\">&#123;maxIoThreads&#125;</span>)\"</span>;</span><br><span class=\"line\">    worker = <span class=\"string\">$\"(Busy=<span class=\"subst\">&#123;busyWorkerThreads&#125;</span>,Free=<span class=\"subst\">&#123;freeWorkerThreads&#125;</span>,Min=<span class=\"subst\">&#123;minWorkerThreads&#125;</span>,Max=<span class=\"subst\">&#123;maxWorkerThreads&#125;</span>)\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> busyWorkerThreads;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"></span><br><span class=\"line\">public class Global : System.Web.HttpApplication</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">bool</span> MonitorThreadPoolEnabled = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Application_Start</span>(<span class=\"params\"><span class=\"keyword\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        Thread t = <span class=\"keyword\">new</span> Thread(<span class=\"keyword\">new</span> ThreadStart(RefreshCounters));</span><br><span class=\"line\">        t.Start();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Session_Start</span>(<span class=\"params\"><span class=\"keyword\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Application_BeginRequest</span>(<span class=\"params\"><span class=\"keyword\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Application_AuthenticateRequest</span>(<span class=\"params\"><span class=\"keyword\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Application_Error</span>(<span class=\"params\"><span class=\"keyword\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Session_End</span>(<span class=\"params\"><span class=\"keyword\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Application_End</span>(<span class=\"params\"><span class=\"keyword\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        MonitorThreadPoolEnabled = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">RefreshCounters</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (MonitorThreadPoolEnabled)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            ASPNETThreadInfo t = GetThreadInfo();</span><br><span class=\"line\">            ShowPerfCounters(t);</span><br><span class=\"line\">            System.Threading.Thread.Sleep(<span class=\"number\">500</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">struct</span> ASPNETThreadInfo</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> MaxWorkerThreads;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> MaxIOThreads;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> MinFreeThreads;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> MinLocalRequestFreeThreads;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> AvailableWorkerThreads;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> AvailableIOThreads;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">bool</span> <span class=\"title\">Equals</span>(<span class=\"params\">ASPNETThreadInfo other</span>)</span></span><br><span class=\"line\"><span class=\"function\">        </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (</span><br><span class=\"line\">            MaxWorkerThreads == other.MaxWorkerThreads &amp;&amp;</span><br><span class=\"line\">            MaxIOThreads == other.MaxIOThreads &amp;&amp;</span><br><span class=\"line\">            MinFreeThreads == other.MinFreeThreads &amp;&amp;</span><br><span class=\"line\">            MinLocalRequestFreeThreads == other.MinLocalRequestFreeThreads &amp;&amp;</span><br><span class=\"line\">            AvailableWorkerThreads == other.AvailableWorkerThreads &amp;&amp;</span><br><span class=\"line\">            AvailableIOThreads == other.AvailableIOThreads</span><br><span class=\"line\">            );</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ASPNETThreadInfo <span class=\"title\">GetThreadInfo</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// use ThreadPool to get the current status</span></span><br><span class=\"line\">        <span class=\"keyword\">int</span> availableWorker, availableIO;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> maxWorker, maxIO;</span><br><span class=\"line\"></span><br><span class=\"line\">        ThreadPool.GetAvailableThreads(<span class=\"keyword\">out</span> availableWorker, <span class=\"keyword\">out</span> availableIO);</span><br><span class=\"line\">        ThreadPool.GetMaxThreads(<span class=\"keyword\">out</span> maxWorker, <span class=\"keyword\">out</span> maxIO);</span><br><span class=\"line\">        ASPNETThreadInfo threadInfo;</span><br><span class=\"line\">        threadInfo.AvailableWorkerThreads = (Int16)availableWorker;</span><br><span class=\"line\">        threadInfo.AvailableIOThreads = (Int16)availableIO;</span><br><span class=\"line\">        threadInfo.MaxWorkerThreads = (Int16)maxWorker;</span><br><span class=\"line\">        threadInfo.MaxIOThreads = (Int16)maxIO;</span><br><span class=\"line\">        <span class=\"comment\">// hard code for now; could get this from  machine.config</span></span><br><span class=\"line\">        threadInfo.MinFreeThreads = <span class=\"number\">8</span>;</span><br><span class=\"line\">        threadInfo.MinLocalRequestFreeThreads = <span class=\"number\">4</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> threadInfo;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ShowPerfCounters</span>(<span class=\"params\">ASPNETThreadInfo t</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// get an instance of our Available Worker Threads counter</span></span><br><span class=\"line\">        PerformanceCounter counter1 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">        counter1.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">        counter1.CounterName = <span class=\"string\">\"Available Worker Threads\"</span>;</span><br><span class=\"line\">        counter1.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// set the value of the counter</span></span><br><span class=\"line\">        counter1.RawValue = t.AvailableWorkerThreads;</span><br><span class=\"line\">        counter1.Close();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// repeat for other counters</span></span><br><span class=\"line\"></span><br><span class=\"line\">        PerformanceCounter counter2 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">        counter2.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">        counter2.CounterName = <span class=\"string\">\"Available IO Threads\"</span>;</span><br><span class=\"line\">        counter2.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        counter2.RawValue = t.AvailableIOThreads;</span><br><span class=\"line\">        counter2.Close();</span><br><span class=\"line\"></span><br><span class=\"line\">        PerformanceCounter counter3 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">        counter3.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">        counter3.CounterName = <span class=\"string\">\"Max Worker Threads\"</span>;</span><br><span class=\"line\">        counter3.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        counter3.RawValue = t.MaxWorkerThreads;</span><br><span class=\"line\">        counter3.Close();</span><br><span class=\"line\"></span><br><span class=\"line\">        PerformanceCounter counter4 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">        counter4.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">        counter4.CounterName = <span class=\"string\">\"Max IO Threads\"</span>;</span><br><span class=\"line\">        counter4.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        counter4.RawValue = t.MaxIOThreads;</span><br><span class=\"line\">        counter4.Close();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> minWorker, minIO;</span><br><span class=\"line\">        ThreadPool.GetMinThreads(<span class=\"keyword\">out</span> minWorker, <span class=\"keyword\">out</span> minIO);</span><br><span class=\"line\"></span><br><span class=\"line\">        PerformanceCounter counter5 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">        counter5.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">        counter5.CounterName = <span class=\"string\">\"Min Worker Threads\"</span>;</span><br><span class=\"line\">        counter5.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        counter5.RawValue = minWorker;</span><br><span class=\"line\">        counter5.Close();</span><br><span class=\"line\"></span><br><span class=\"line\">        PerformanceCounter counter6 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">        counter6.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">        counter6.CounterName = <span class=\"string\">\"Min IO Threads\"</span>;</span><br><span class=\"line\">        counter6.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        counter6.RawValue = minIO;</span><br><span class=\"line\">        counter6.Close();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"StartWebApp-aspx\"><a href=\"#StartWebApp-aspx\" class=\"headerlink\" title=\"StartWebApp.aspx\"></a><span id=\"startWebApp\">StartWebApp.aspx</span></h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Page_Load</span>(<span class=\"params\"><span class=\"keyword\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> availableWorker, availableIO;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> maxWorker, maxIO;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> minWorker, minIO;</span><br><span class=\"line\"></span><br><span class=\"line\">    ThreadPool.GetAvailableThreads(<span class=\"keyword\">out</span> availableWorker, <span class=\"keyword\">out</span> availableIO);</span><br><span class=\"line\">    ThreadPool.GetMaxThreads(<span class=\"keyword\">out</span> maxWorker, <span class=\"keyword\">out</span> maxIO);</span><br><span class=\"line\">    ThreadPool.GetMinThreads(<span class=\"keyword\">out</span> minWorker, <span class=\"keyword\">out</span> minIO);</span><br><span class=\"line\"></span><br><span class=\"line\">    Response.Write(<span class=\"string\">\"This ASP.NET application has started.&lt;br&gt;\"</span>);</span><br><span class=\"line\">    Response.Write(<span class=\"keyword\">string</span>.Format(<span class=\"string\">\"MaxWorkerThreads:&#123;0&#125;.&lt;br&gt;\"</span>, maxWorker));</span><br><span class=\"line\">    Response.Write(<span class=\"keyword\">string</span>.Format(<span class=\"string\">\"MaxIOThreads:&#123;0&#125;.&lt;br&gt;\"</span>, maxIO));</span><br><span class=\"line\">    Response.Write(<span class=\"keyword\">string</span>.Format(<span class=\"string\">\"MinWorkerThreads:&#123;0&#125;.&lt;br&gt;\"</span>, minWorker));</span><br><span class=\"line\">    Response.Write(<span class=\"keyword\">string</span>.Format(<span class=\"string\">\"MinIOThreads:&#123;0&#125;.&lt;br&gt;\"</span>, minIO));</span><br><span class=\"line\">    Response.Write(<span class=\"keyword\">string</span>.Format(<span class=\"string\">\"AvailableWorker:&#123;0&#125;.&lt;br&gt;\"</span>, availableWorker));</span><br><span class=\"line\">    Response.Write(<span class=\"keyword\">string</span>.Format(<span class=\"string\">\"AvailableIO:&#123;0&#125;.&lt;br&gt;\"</span>, availableIO));</span><br><span class=\"line\">    Response.Write(<span class=\"string\">\"You can now close this page.\"</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Sleep-aspx\"><a href=\"#Sleep-aspx\" class=\"headerlink\" title=\"Sleep.aspx\"></a><span id=\"sleep\">Sleep.aspx</span></h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Page_Load</span>(<span class=\"params\">Object sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">int</span> times = <span class=\"number\">0</span> ;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> max = <span class=\"keyword\">int</span>.Parse(Request.QueryString.Get(<span class=\"string\">\"max\"</span>));</span><br><span class=\"line\">      <span class=\"keyword\">var</span> server = ConnectionMultiplexer.Connect(<span class=\"string\">\"redisserver:6379,ssl=false,password=,allowAdmin=false,connectTimeout=200\"</span>);</span><br><span class=\"line\">      <span class=\"keyword\">var</span> list = Enumerable.Range(<span class=\"number\">1</span>, max).ToList();</span><br><span class=\"line\">      Parallel.ForEach(list, (i) =&gt;</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"keyword\">var</span> database = server.GetDatabase();</span><br><span class=\"line\">          database.StringGet(<span class=\"string\">\"Cache:Key:06f305de-f163-4d49-8b98-d8bc51edf7d8\"</span>);</span><br><span class=\"line\">          times++;</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">int</span> availableWorker, availableIO;</span><br><span class=\"line\">      <span class=\"keyword\">int</span> maxWorker, maxIO;</span><br><span class=\"line\">      ThreadPool.SetMaxThreads(<span class=\"number\">1</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">      ThreadPool.GetAvailableThreads(<span class=\"keyword\">out</span> availableWorker, <span class=\"keyword\">out</span> availableIO);</span><br><span class=\"line\">      ThreadPool.GetMaxThreads(<span class=\"keyword\">out</span> maxWorker, <span class=\"keyword\">out</span> maxIO);</span><br><span class=\"line\">      Response.Write(String.Format(<span class=\"string\">\"Connect Redis Busy:&#123;0&#125;&lt;br /&gt; &#123;1&#125;\"</span>,maxWorker - availableWorker, times));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"StackExchange-Redis-源碼\"><a href=\"#StackExchange-Redis-源碼\" class=\"headerlink\" title=\"StackExchange.Redis 源碼\"></a>StackExchange.Redis 源碼</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">int</span> <span class=\"title\">GetThreadPoolStats</span>(<span class=\"params\"><span class=\"keyword\">out</span> <span class=\"keyword\">string</span> iocp, <span class=\"keyword\">out</span> <span class=\"keyword\">string</span> worker</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//BusyThreads =  TP.GetMaxThreads() –TP.GetAVailable();</span></span><br><span class=\"line\">    <span class=\"comment\">//If BusyThreads &gt;= TP.GetMinThreads(), then threadpool growth throttling is possible.</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> maxIoThreads, maxWorkerThreads;</span><br><span class=\"line\">    ThreadPool.GetMaxThreads(<span class=\"keyword\">out</span> maxWorkerThreads, <span class=\"keyword\">out</span> maxIoThreads);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> freeIoThreads, freeWorkerThreads;</span><br><span class=\"line\">    ThreadPool.GetAvailableThreads(<span class=\"keyword\">out</span> freeWorkerThreads, <span class=\"keyword\">out</span> freeIoThreads);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> minIoThreads, minWorkerThreads;</span><br><span class=\"line\">    ThreadPool.GetMinThreads(<span class=\"keyword\">out</span> minWorkerThreads, <span class=\"keyword\">out</span> minIoThreads);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> busyIoThreads = maxIoThreads - freeIoThreads;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> busyWorkerThreads = maxWorkerThreads - freeWorkerThreads;</span><br><span class=\"line\"></span><br><span class=\"line\">    iocp = <span class=\"string\">$\"(Busy=<span class=\"subst\">&#123;busyIoThreads&#125;</span>,Free=<span class=\"subst\">&#123;freeIoThreads&#125;</span>,Min=<span class=\"subst\">&#123;minIoThreads&#125;</span>,Max=<span class=\"subst\">&#123;maxIoThreads&#125;</span>)\"</span>;</span><br><span class=\"line\">    worker = <span class=\"string\">$\"(Busy=<span class=\"subst\">&#123;busyWorkerThreads&#125;</span>,Free=<span class=\"subst\">&#123;freeWorkerThreads&#125;</span>,Min=<span class=\"subst\">&#123;minWorkerThreads&#125;</span>,Max=<span class=\"subst\">&#123;maxWorkerThreads&#125;</span>)\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> busyWorkerThreads;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"環境與工具\"><a href=\"#環境與工具\" class=\"headerlink\" title=\"環境與工具\"></a><span id=\"testEnvironment\">環境與工具</span></h2><ul>\n<li>Visual Studio 2015 Professional UPDATE 3</li>\n<li>Windows 10 </li>\n<li>.NET Framework 4.5</li>\n<li>StackExchange.Redis 1.0.481</li>\n<li>CPU <code>Intel® Core™ i7-5500U</code> 四核心</li>\n</ul>\n<h2 id=\"官方說明\"><a href=\"#官方說明\" class=\"headerlink\" title=\"官方說明\"></a>官方說明</h2><ul>\n<li><a href=\"https://support.microsoft.com/zh-tw/kb/821268\" target=\"_blank\" rel=\"noopener\">爭用、 效能不佳、 和死結 （deadlock） 當您從 ASP.NET 應用程式呼叫 Web 服務</a></li>\n<li>machine.config</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">system.web</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">processModel</span> <span class=\"attr\">autoConfig</span>=<span class=\"string\">\"false\"</span> <span class=\"attr\">maxWorkerThreads</span>=<span class=\"string\">\"xxx\"</span> <span class=\"attr\">maxIoThreads</span>=<span class=\"string\">\"xxx\"</span> <span class=\"attr\">minWorkerThreads</span>=<span class=\"string\">\"xxx\"</span> <span class=\"attr\">minIoThreads</span>=<span class=\"string\">\"xxx\"</span> <span class=\"attr\">requestQueueLimit</span>=<span class=\"string\">\"5000\"</span> <span class=\"attr\">responseDeadlockInterval</span>=<span class=\"string\">\"00:03:00\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">httpRuntime</span> <span class=\"attr\">minFreeThreads</span>=<span class=\"string\">\"xxx\"</span> <span class=\"attr\">minLocalRequestFreeThreads</span>=<span class=\"string\">\"xxx\"</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">system.web</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"建議的設定值\"><a href=\"#建議的設定值\" class=\"headerlink\" title=\"建議的設定值\"></a>建議的設定值</h3><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">system.web</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">processModel</span> <span class=\"attr\">autoConfig</span>=<span class=\"string\">\"false\"</span> <span class=\"attr\">minWorkerThreads</span>=<span class=\"string\">\"1\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">system.web</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>.NET 官方文件的預設值與建議值</p>\n<table>\n<thead>\n<tr>\n<th>名稱</th>\n<th>預設值</th>\n<th>建議配置</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>maxWorkerThreads</td>\n<td>20</td>\n<td>32767 / #Cores</td>\n</tr>\n<tr>\n<td>maxIoThreads</td>\n<td>20</td>\n<td>32767 / #Cores</td>\n</tr>\n<tr>\n<td>minWorkerThreads</td>\n<td>1</td>\n<td>maxWorkerThreads/2</td>\n</tr>\n<tr>\n<td>minIoThreads</td>\n<td>1</td>\n<td>maxIoThreads / 2</td>\n</tr>\n<tr>\n<td>minFreeThreads</td>\n<td>8</td>\n<td>88*#CPUs</td>\n</tr>\n<tr>\n<td>minLocalRequestFreeThreads</td>\n<td>4</td>\n<td>76*#CPUs</td>\n</tr>\n<tr>\n<td>maxconnection</td>\n<td>2</td>\n<td>12*CPUs</td>\n</tr>\n<tr>\n<td>executionTimeout</td>\n<td>90s</td>\n<td>未建議</td>\n</tr>\n</tbody></table>\n<ul>\n<li>maxWorkerThreads,minWorkerThreads,maxIoThreads,minIoThreads 設定的數值需要乘上CPU的數量,  </li>\n</ul>\n<p>例: 4 核心設定 minWorkerThreads 值 20 ,實際上的值為 80</p>\n<h2 id=\"註釋\"><a href=\"#註釋\" class=\"headerlink\" title=\"註釋\"></a><span id=\"comment1\">註釋<span></span></span></h2><ol>\n<li>ThreadPool 中會有一個 queue , 其中隱含一個半秒機制 , 當 queue 靜止超過半秒 , 就會在 ThreadPool 建立一個新的 Thread  </li>\n</ol>\n<h2 id=\"記錄\"><a href=\"#記錄\" class=\"headerlink\" title=\"記錄\"></a>記錄</h2><ul>\n<li>ADO.NET 需要使用 Worker Thread</li>\n<li>Redis 需要使用 Worker Thread</li>\n</ul>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/orm-9780596527570-03-19.aspx\" target=\"_blank\" rel=\"noopener\">Threading</a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/ms998549.aspx\" target=\"_blank\" rel=\"noopener\">Improving ASP.NET Performance</a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/ms973903.aspx\" target=\"_blank\" rel=\"noopener\">Programming the Thread Pool in the .NET Framework</a></li>\n<li><a href=\"https://github.com/StackExchange/StackExchange.Redis\" target=\"_blank\" rel=\"noopener\">StackExchange.Redis 源碼</a></li>\n<li><a href=\"https://read01.com/MenEP.html\" target=\"_blank\" rel=\"noopener\">雲計算之路-阿里雲上：從ASP.NET線程角度對「黑色30秒」問題的全新分析</a></li>\n<li><a href=\"https://msdn.microsoft.com/zh-tw/library/ff650682.aspx\" target=\"_blank\" rel=\"noopener\">How To: Monitor the ASP.NET Thread Pool Using Custom Counters</a></li>\n<li><a href=\"http://www.thejoyofcode.com/tuning_the_threadpool.aspx\" target=\"_blank\" rel=\"noopener\">http://www.thejoyofcode.com/tuning_the_threadpool.aspx</a></li>\n<li><a href=\"https://gist.github.com/JonCole/e65411214030f0d823cb\" target=\"_blank\" rel=\"noopener\">https://gist.github.com/JonCole/e65411214030f0d823cb</a></li>\n<li><a href=\"https://blogs.msdn.microsoft.com/carloc/2009/02/19/minworkerthreads-and-autoconfig/\" target=\"_blank\" rel=\"noopener\">https://blogs.msdn.microsoft.com/carloc/2009/02/19/minworkerthreads-and-autoconfig/</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><ol>\n<li>實務上的專案遭受 DDos 攻擊  </li>\n<li>DB TimeOut  </li>\n<li>Redis TimeOut  </li>\n<li>主程式沒有死,但是Elmah出現大量Exception  </li>\n</ol>\n<h2 id=\"錯誤資訊\"><a href=\"#錯誤資訊\" class=\"headerlink\" title=\"錯誤資訊\"></a>錯誤資訊</h2><p><img src=\"/images/workerthread_and_iothread/110416_102437_AM.jpg\" alt=\"瞬發的流量\"></p>\n<h3 id=\"Redis的錯誤記錄\"><a href=\"#Redis的錯誤記錄\" class=\"headerlink\" title=\"Redis的錯誤記錄\"></a>Redis的錯誤記錄</h3><p>錯誤1.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Timeout performing SETEX Cache:Key:06f305de-f163-4d49-8b98-d8bc51edf7d8, </span><br><span class=\"line\">inst: 1, mgr: ExecuteSelect, err: never, queue: 2, qu: 2, qs: 0, qc: 0, wr: 0, wq: 0, in: 0, ar: 0, </span><br><span class=\"line\">IOCP: (Busy=0,Free=1000,Min=4,Max=1000), WORKER: (Busy=165,Free=32602,Min=4,Max=32767), </span><br><span class=\"line\">clientName: TYO-HOST</span><br></pre></td></tr></table></figure>\n\n<p>錯誤2.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">StackExchange.Redis.RedisConnectionException</span><br><span class=\"line\">SocketFailure on GET</span><br></pre></td></tr></table></figure>\n\n<p>錯誤3.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">No connection is available to service this operation: </span><br><span class=\"line\">GET Cache:Key:06f305de-f163-4d49-8b98-d8bc51edf7d8</span><br></pre></td></tr></table></figure>\n\n<p>錯誤4.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">UnableToResolvePhysicalConnection on GET</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"SQL-Server-錯誤記錄\"><a href=\"#SQL-Server-錯誤記錄\" class=\"headerlink\" title=\"SQL Server 錯誤記錄\"></a>SQL Server 錯誤記錄</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">A transport-level error has occurred when receiving results from the server. </span><br><span class=\"line\">(provider: Session Provider, error: 19 - Physical connection is not usable)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"錯誤原因\"><a href=\"#錯誤原因\" class=\"headerlink\" title=\"錯誤原因\"></a>錯誤原因</h2><ol>\n<li>CLR 建立執行緒需要時間 , 一秒鐘最多只能建立兩條 Thread <a href=\"#comment1\">註一</a></li>\n<li>瞬間的 Request 量超過 ThreadPool 中的 Thread 數量</li>\n<li>ThreadPool 建立 Thread 中 , 仍持續有 Request 進來引發錯誤</li>\n<li>因為我的<a href=\"#testEnvironment\">測試環境</a>有四核心,依文件所說</li>\n</ol>\n<h2 id=\"實驗流程\"><a href=\"#實驗流程\" class=\"headerlink\" title=\"實驗流程\"></a>實驗流程</h2><ol>\n<li><p>建立監視器<br> 參考 <a href=\"https://msdn.microsoft.com/zh-tw/library/ff650682.aspx\" target=\"_blank\" rel=\"noopener\">How To: Monitor the ASP.NET Thread Pool Using Custom Counters</a></p>\n<ol>\n<li><p>建立一個 console 專案, <a href=\"#MyAspNetThreadCounters\">MyAspNetThreadCounters</a></p>\n</li>\n<li><p>編譯並執行 console 專案</p>\n</li>\n<li><p>開啟<code>Regedit.exe</code> 檢查 <code>HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services</code> 應包含以下值</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Available Worker Threads</span><br><span class=\"line\">Available IO Threads</span><br><span class=\"line\">Max Worker Threads</span><br><span class=\"line\">Max IO Threads</span><br><span class=\"line\">Min Worker Threads</span><br><span class=\"line\">Min IO Threads</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>建立ASP.NET專案</p>\n<ol>\n<li>建立<a href=\"#global\">Global.asax</a></li>\n<li>建立<a href=\"#startWebApp\">StartWebApp.aspx</a></li>\n<li>建立<a href=\"#sleep\">Sleep.aspx</a></li>\n</ol>\n</li>\n<li><p>開啟 <code>perfmon.exe</code> 新增計數器 , 選取我們自定義的 <code>MyAspNetThreadCounters</code></p>\n</li>\n<li><p>連結網頁 <code>localhost\\StartWebApp.aspx</code> 以啟動網站,可以得到以下數據</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MaxWorkerThreads:32767.</span><br><span class=\"line\">MaxIOThreads:1000.</span><br><span class=\"line\">MinWorkerThreads:4.</span><br><span class=\"line\">MinIOThreads:4.</span><br><span class=\"line\">AvailableWorker:32766.</span><br><span class=\"line\">AvailableIO:1000.</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>執行大量 redis 連線,觀察結果 AvailableWorker Threads 會往下掉,<br>故推斷 redis connection 是透過 Worker Threads 建立.</p>\n</li>\n<li><p>重現錯誤, 執行大量的 sleep 頁面,透過這種方式搶佔IIS的執行緒.<br><img src=\"/images/workerthread_and_iothread/110416_170101_PM.jpg\" alt></p>\n</li>\n<li><p>再執行大量 redis 連線, 用以重現錯誤<br><img src=\"/images/workerthread_and_iothread/110416_170001_PM.jpg\" alt></p>\n</li>\n</ol>\n<h2 id=\"程式碼\"><a href=\"#程式碼\" class=\"headerlink\" title=\"程式碼\"></a>程式碼</h2><h3 id=\"MyAspNetThreadCounters\"><a href=\"#MyAspNetThreadCounters\" class=\"headerlink\" title=\"MyAspNetThreadCounters\"></a><span id=\"MyAspNetThreadCounters\">MyAspNetThreadCounters</span></h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Diagnostics;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">MyAspNetThreadCounters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    [<span class=\"meta\">STAThread</span>]</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"keyword\">string</span>[] args</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        CreateCounters();</span><br><span class=\"line\">        Console.WriteLine(<span class=\"string\">\"MyAspNetThreadCounters performance counter category \"</span> +</span><br><span class=\"line\">                          <span class=\"string\">\"is created. [Press Enter]\"</span>);</span><br><span class=\"line\">        Console.ReadLine();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">CreateCounters</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        CounterCreationDataCollection col =</span><br><span class=\"line\">          <span class=\"keyword\">new</span> CounterCreationDataCollection();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Create custom counter objects</span></span><br><span class=\"line\">        CounterCreationData counter1 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">        counter1.CounterName = <span class=\"string\">\"Available Worker Threads\"</span>;</span><br><span class=\"line\">        counter1.CounterHelp = <span class=\"string\">\"The difference between the maximum number \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"of thread pool worker threads and the \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"number currently active.\"</span>;</span><br><span class=\"line\">        counter1.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">        CounterCreationData counter2 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">        counter2.CounterName = <span class=\"string\">\"Available IO Threads\"</span>;</span><br><span class=\"line\">        counter2.CounterHelp = <span class=\"string\">\"The difference between the maximum number of \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"thread pool IO threads and the number \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"currently active.\"</span>;</span><br><span class=\"line\">        counter2.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">        CounterCreationData counter3 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">        counter3.CounterName = <span class=\"string\">\"Max Worker Threads\"</span>;</span><br><span class=\"line\">        counter3.CounterHelp = <span class=\"string\">\"The number of requests to the thread pool \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"that can be active concurrently. All \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"requests above that number remain queued until \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"thread pool worker threads become available.\"</span>;</span><br><span class=\"line\">        counter3.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">        CounterCreationData counter4 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">        counter4.CounterName = <span class=\"string\">\"Max IO Threads\"</span>;</span><br><span class=\"line\">        counter4.CounterHelp = <span class=\"string\">\"The number of requests to the thread pool \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"that can be active concurrently. All \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"requests above that number remain queued until \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"thread pool IO threads become available.\"</span>;</span><br><span class=\"line\">        counter4.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">        CounterCreationData counter5 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">        counter5.CounterName = <span class=\"string\">\"Min Worker Threads\"</span>;</span><br><span class=\"line\">        counter5.CounterHelp = <span class=\"string\">\"The number of requests to the thread pool \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"that can be active concurrently. All \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"requests above that number remain queued until \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"thread pool worker threads become available.\"</span>;</span><br><span class=\"line\">        counter5.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">        CounterCreationData counter6 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">        counter6.CounterName = <span class=\"string\">\"Min IO Threads\"</span>;</span><br><span class=\"line\">        counter6.CounterHelp = <span class=\"string\">\"The number of requests to the thread pool \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"that can be active concurrently. All \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"requests above that number remain queued until \"</span> +</span><br><span class=\"line\">                              <span class=\"string\">\"thread pool IO threads become available.\"</span>;</span><br><span class=\"line\">        counter6.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Add custom counter objects to CounterCreationDataCollection.</span></span><br><span class=\"line\">        col.Add(counter1);</span><br><span class=\"line\">        col.Add(counter2);</span><br><span class=\"line\">        col.Add(counter3);</span><br><span class=\"line\">        col.Add(counter4);</span><br><span class=\"line\">        col.Add(counter5);</span><br><span class=\"line\">        col.Add(counter6);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// delete the category if it already exists</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (PerformanceCounterCategory.Exists(<span class=\"string\">\"MyAspNetThreadCounters\"</span>))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            PerformanceCounterCategory.Delete(<span class=\"string\">\"MyAspNetThreadCounters\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// bind the counters to the PerformanceCounterCategory</span></span><br><span class=\"line\">        PerformanceCounterCategory category =</span><br><span class=\"line\">                PerformanceCounterCategory.Create(<span class=\"string\">\"MyAspNetThreadCounters\"</span>,<span class=\"string\">\"\"</span>, col);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Global-asax\"><a href=\"#Global-asax\" class=\"headerlink\" title=\"Global.asax\"></a><span id=\"global\">Global.asax</span></h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class Global : System.Web</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//BusyThreads =  TP.GetMaxThreads() –TP.GetAVailable();</span></span><br><span class=\"line\">    <span class=\"comment\">//If BusyThreads &gt;= TP.GetMinThreads(), then threadpool growth throttling is possible.</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> maxIoThreads, maxWorkerThreads;</span><br><span class=\"line\">    ThreadPool.GetMaxThreads(<span class=\"keyword\">out</span> maxWorkerThreads, <span class=\"keyword\">out</span> maxIoThreads);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> freeIoThreads, freeWorkerThreads;</span><br><span class=\"line\">    ThreadPool.GetAvailableThreads(<span class=\"keyword\">out</span> freeWorkerThreads, <span class=\"keyword\">out</span> freeIoThreads);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> minIoThreads, minWorkerThreads;</span><br><span class=\"line\">    ThreadPool.GetMinThreads(<span class=\"keyword\">out</span> minWorkerThreads, <span class=\"keyword\">out</span> minIoThreads);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> busyIoThreads = maxIoThreads - freeIoThreads;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> busyWorkerThreads = maxWorkerThreads - freeWorkerThreads;</span><br><span class=\"line\"></span><br><span class=\"line\">    iocp = <span class=\"string\">$\"(Busy=<span class=\"subst\">&#123;busyIoThreads&#125;</span>,Free=<span class=\"subst\">&#123;freeIoThreads&#125;</span>,Min=<span class=\"subst\">&#123;minIoThreads&#125;</span>,Max=<span class=\"subst\">&#123;maxIoThreads&#125;</span>)\"</span>;</span><br><span class=\"line\">    worker = <span class=\"string\">$\"(Busy=<span class=\"subst\">&#123;busyWorkerThreads&#125;</span>,Free=<span class=\"subst\">&#123;freeWorkerThreads&#125;</span>,Min=<span class=\"subst\">&#123;minWorkerThreads&#125;</span>,Max=<span class=\"subst\">&#123;maxWorkerThreads&#125;</span>)\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> busyWorkerThreads;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"></span><br><span class=\"line\">public class Global : System.Web.HttpApplication</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">bool</span> MonitorThreadPoolEnabled = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Application_Start</span>(<span class=\"params\"><span class=\"keyword\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        Thread t = <span class=\"keyword\">new</span> Thread(<span class=\"keyword\">new</span> ThreadStart(RefreshCounters));</span><br><span class=\"line\">        t.Start();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Session_Start</span>(<span class=\"params\"><span class=\"keyword\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Application_BeginRequest</span>(<span class=\"params\"><span class=\"keyword\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Application_AuthenticateRequest</span>(<span class=\"params\"><span class=\"keyword\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Application_Error</span>(<span class=\"params\"><span class=\"keyword\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Session_End</span>(<span class=\"params\"><span class=\"keyword\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Application_End</span>(<span class=\"params\"><span class=\"keyword\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        MonitorThreadPoolEnabled = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">RefreshCounters</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (MonitorThreadPoolEnabled)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            ASPNETThreadInfo t = GetThreadInfo();</span><br><span class=\"line\">            ShowPerfCounters(t);</span><br><span class=\"line\">            System.Threading.Thread.Sleep(<span class=\"number\">500</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">struct</span> ASPNETThreadInfo</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> MaxWorkerThreads;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> MaxIOThreads;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> MinFreeThreads;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> MinLocalRequestFreeThreads;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> AvailableWorkerThreads;</span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> AvailableIOThreads;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">bool</span> <span class=\"title\">Equals</span>(<span class=\"params\">ASPNETThreadInfo other</span>)</span></span><br><span class=\"line\"><span class=\"function\">        </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (</span><br><span class=\"line\">            MaxWorkerThreads == other.MaxWorkerThreads &amp;&amp;</span><br><span class=\"line\">            MaxIOThreads == other.MaxIOThreads &amp;&amp;</span><br><span class=\"line\">            MinFreeThreads == other.MinFreeThreads &amp;&amp;</span><br><span class=\"line\">            MinLocalRequestFreeThreads == other.MinLocalRequestFreeThreads &amp;&amp;</span><br><span class=\"line\">            AvailableWorkerThreads == other.AvailableWorkerThreads &amp;&amp;</span><br><span class=\"line\">            AvailableIOThreads == other.AvailableIOThreads</span><br><span class=\"line\">            );</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ASPNETThreadInfo <span class=\"title\">GetThreadInfo</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// use ThreadPool to get the current status</span></span><br><span class=\"line\">        <span class=\"keyword\">int</span> availableWorker, availableIO;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> maxWorker, maxIO;</span><br><span class=\"line\"></span><br><span class=\"line\">        ThreadPool.GetAvailableThreads(<span class=\"keyword\">out</span> availableWorker, <span class=\"keyword\">out</span> availableIO);</span><br><span class=\"line\">        ThreadPool.GetMaxThreads(<span class=\"keyword\">out</span> maxWorker, <span class=\"keyword\">out</span> maxIO);</span><br><span class=\"line\">        ASPNETThreadInfo threadInfo;</span><br><span class=\"line\">        threadInfo.AvailableWorkerThreads = (Int16)availableWorker;</span><br><span class=\"line\">        threadInfo.AvailableIOThreads = (Int16)availableIO;</span><br><span class=\"line\">        threadInfo.MaxWorkerThreads = (Int16)maxWorker;</span><br><span class=\"line\">        threadInfo.MaxIOThreads = (Int16)maxIO;</span><br><span class=\"line\">        <span class=\"comment\">// hard code for now; could get this from  machine.config</span></span><br><span class=\"line\">        threadInfo.MinFreeThreads = <span class=\"number\">8</span>;</span><br><span class=\"line\">        threadInfo.MinLocalRequestFreeThreads = <span class=\"number\">4</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> threadInfo;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ShowPerfCounters</span>(<span class=\"params\">ASPNETThreadInfo t</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// get an instance of our Available Worker Threads counter</span></span><br><span class=\"line\">        PerformanceCounter counter1 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">        counter1.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">        counter1.CounterName = <span class=\"string\">\"Available Worker Threads\"</span>;</span><br><span class=\"line\">        counter1.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// set the value of the counter</span></span><br><span class=\"line\">        counter1.RawValue = t.AvailableWorkerThreads;</span><br><span class=\"line\">        counter1.Close();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// repeat for other counters</span></span><br><span class=\"line\"></span><br><span class=\"line\">        PerformanceCounter counter2 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">        counter2.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">        counter2.CounterName = <span class=\"string\">\"Available IO Threads\"</span>;</span><br><span class=\"line\">        counter2.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        counter2.RawValue = t.AvailableIOThreads;</span><br><span class=\"line\">        counter2.Close();</span><br><span class=\"line\"></span><br><span class=\"line\">        PerformanceCounter counter3 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">        counter3.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">        counter3.CounterName = <span class=\"string\">\"Max Worker Threads\"</span>;</span><br><span class=\"line\">        counter3.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        counter3.RawValue = t.MaxWorkerThreads;</span><br><span class=\"line\">        counter3.Close();</span><br><span class=\"line\"></span><br><span class=\"line\">        PerformanceCounter counter4 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">        counter4.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">        counter4.CounterName = <span class=\"string\">\"Max IO Threads\"</span>;</span><br><span class=\"line\">        counter4.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        counter4.RawValue = t.MaxIOThreads;</span><br><span class=\"line\">        counter4.Close();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> minWorker, minIO;</span><br><span class=\"line\">        ThreadPool.GetMinThreads(<span class=\"keyword\">out</span> minWorker, <span class=\"keyword\">out</span> minIO);</span><br><span class=\"line\"></span><br><span class=\"line\">        PerformanceCounter counter5 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">        counter5.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">        counter5.CounterName = <span class=\"string\">\"Min Worker Threads\"</span>;</span><br><span class=\"line\">        counter5.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        counter5.RawValue = minWorker;</span><br><span class=\"line\">        counter5.Close();</span><br><span class=\"line\"></span><br><span class=\"line\">        PerformanceCounter counter6 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">        counter6.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">        counter6.CounterName = <span class=\"string\">\"Min IO Threads\"</span>;</span><br><span class=\"line\">        counter6.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        counter6.RawValue = minIO;</span><br><span class=\"line\">        counter6.Close();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"StartWebApp-aspx\"><a href=\"#StartWebApp-aspx\" class=\"headerlink\" title=\"StartWebApp.aspx\"></a><span id=\"startWebApp\">StartWebApp.aspx</span></h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Page_Load</span>(<span class=\"params\"><span class=\"keyword\">object</span> sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> availableWorker, availableIO;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> maxWorker, maxIO;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> minWorker, minIO;</span><br><span class=\"line\"></span><br><span class=\"line\">    ThreadPool.GetAvailableThreads(<span class=\"keyword\">out</span> availableWorker, <span class=\"keyword\">out</span> availableIO);</span><br><span class=\"line\">    ThreadPool.GetMaxThreads(<span class=\"keyword\">out</span> maxWorker, <span class=\"keyword\">out</span> maxIO);</span><br><span class=\"line\">    ThreadPool.GetMinThreads(<span class=\"keyword\">out</span> minWorker, <span class=\"keyword\">out</span> minIO);</span><br><span class=\"line\"></span><br><span class=\"line\">    Response.Write(<span class=\"string\">\"This ASP.NET application has started.&lt;br&gt;\"</span>);</span><br><span class=\"line\">    Response.Write(<span class=\"keyword\">string</span>.Format(<span class=\"string\">\"MaxWorkerThreads:&#123;0&#125;.&lt;br&gt;\"</span>, maxWorker));</span><br><span class=\"line\">    Response.Write(<span class=\"keyword\">string</span>.Format(<span class=\"string\">\"MaxIOThreads:&#123;0&#125;.&lt;br&gt;\"</span>, maxIO));</span><br><span class=\"line\">    Response.Write(<span class=\"keyword\">string</span>.Format(<span class=\"string\">\"MinWorkerThreads:&#123;0&#125;.&lt;br&gt;\"</span>, minWorker));</span><br><span class=\"line\">    Response.Write(<span class=\"keyword\">string</span>.Format(<span class=\"string\">\"MinIOThreads:&#123;0&#125;.&lt;br&gt;\"</span>, minIO));</span><br><span class=\"line\">    Response.Write(<span class=\"keyword\">string</span>.Format(<span class=\"string\">\"AvailableWorker:&#123;0&#125;.&lt;br&gt;\"</span>, availableWorker));</span><br><span class=\"line\">    Response.Write(<span class=\"keyword\">string</span>.Format(<span class=\"string\">\"AvailableIO:&#123;0&#125;.&lt;br&gt;\"</span>, availableIO));</span><br><span class=\"line\">    Response.Write(<span class=\"string\">\"You can now close this page.\"</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Sleep-aspx\"><a href=\"#Sleep-aspx\" class=\"headerlink\" title=\"Sleep.aspx\"></a><span id=\"sleep\">Sleep.aspx</span></h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">Page_Load</span>(<span class=\"params\">Object sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">int</span> times = <span class=\"number\">0</span> ;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> max = <span class=\"keyword\">int</span>.Parse(Request.QueryString.Get(<span class=\"string\">\"max\"</span>));</span><br><span class=\"line\">      <span class=\"keyword\">var</span> server = ConnectionMultiplexer.Connect(<span class=\"string\">\"redisserver:6379,ssl=false,password=,allowAdmin=false,connectTimeout=200\"</span>);</span><br><span class=\"line\">      <span class=\"keyword\">var</span> list = Enumerable.Range(<span class=\"number\">1</span>, max).ToList();</span><br><span class=\"line\">      Parallel.ForEach(list, (i) =&gt;</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"keyword\">var</span> database = server.GetDatabase();</span><br><span class=\"line\">          database.StringGet(<span class=\"string\">\"Cache:Key:06f305de-f163-4d49-8b98-d8bc51edf7d8\"</span>);</span><br><span class=\"line\">          times++;</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">int</span> availableWorker, availableIO;</span><br><span class=\"line\">      <span class=\"keyword\">int</span> maxWorker, maxIO;</span><br><span class=\"line\">      ThreadPool.SetMaxThreads(<span class=\"number\">1</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">      ThreadPool.GetAvailableThreads(<span class=\"keyword\">out</span> availableWorker, <span class=\"keyword\">out</span> availableIO);</span><br><span class=\"line\">      ThreadPool.GetMaxThreads(<span class=\"keyword\">out</span> maxWorker, <span class=\"keyword\">out</span> maxIO);</span><br><span class=\"line\">      Response.Write(String.Format(<span class=\"string\">\"Connect Redis Busy:&#123;0&#125;&lt;br /&gt; &#123;1&#125;\"</span>,maxWorker - availableWorker, times));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"StackExchange-Redis-源碼\"><a href=\"#StackExchange-Redis-源碼\" class=\"headerlink\" title=\"StackExchange.Redis 源碼\"></a>StackExchange.Redis 源碼</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">int</span> <span class=\"title\">GetThreadPoolStats</span>(<span class=\"params\"><span class=\"keyword\">out</span> <span class=\"keyword\">string</span> iocp, <span class=\"keyword\">out</span> <span class=\"keyword\">string</span> worker</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//BusyThreads =  TP.GetMaxThreads() –TP.GetAVailable();</span></span><br><span class=\"line\">    <span class=\"comment\">//If BusyThreads &gt;= TP.GetMinThreads(), then threadpool growth throttling is possible.</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> maxIoThreads, maxWorkerThreads;</span><br><span class=\"line\">    ThreadPool.GetMaxThreads(<span class=\"keyword\">out</span> maxWorkerThreads, <span class=\"keyword\">out</span> maxIoThreads);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> freeIoThreads, freeWorkerThreads;</span><br><span class=\"line\">    ThreadPool.GetAvailableThreads(<span class=\"keyword\">out</span> freeWorkerThreads, <span class=\"keyword\">out</span> freeIoThreads);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> minIoThreads, minWorkerThreads;</span><br><span class=\"line\">    ThreadPool.GetMinThreads(<span class=\"keyword\">out</span> minWorkerThreads, <span class=\"keyword\">out</span> minIoThreads);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">int</span> busyIoThreads = maxIoThreads - freeIoThreads;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> busyWorkerThreads = maxWorkerThreads - freeWorkerThreads;</span><br><span class=\"line\"></span><br><span class=\"line\">    iocp = <span class=\"string\">$\"(Busy=<span class=\"subst\">&#123;busyIoThreads&#125;</span>,Free=<span class=\"subst\">&#123;freeIoThreads&#125;</span>,Min=<span class=\"subst\">&#123;minIoThreads&#125;</span>,Max=<span class=\"subst\">&#123;maxIoThreads&#125;</span>)\"</span>;</span><br><span class=\"line\">    worker = <span class=\"string\">$\"(Busy=<span class=\"subst\">&#123;busyWorkerThreads&#125;</span>,Free=<span class=\"subst\">&#123;freeWorkerThreads&#125;</span>,Min=<span class=\"subst\">&#123;minWorkerThreads&#125;</span>,Max=<span class=\"subst\">&#123;maxWorkerThreads&#125;</span>)\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> busyWorkerThreads;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"環境與工具\"><a href=\"#環境與工具\" class=\"headerlink\" title=\"環境與工具\"></a><span id=\"testEnvironment\">環境與工具</span></h2><ul>\n<li>Visual Studio 2015 Professional UPDATE 3</li>\n<li>Windows 10 </li>\n<li>.NET Framework 4.5</li>\n<li>StackExchange.Redis 1.0.481</li>\n<li>CPU <code>Intel® Core™ i7-5500U</code> 四核心</li>\n</ul>\n<h2 id=\"官方說明\"><a href=\"#官方說明\" class=\"headerlink\" title=\"官方說明\"></a>官方說明</h2><ul>\n<li><a href=\"https://support.microsoft.com/zh-tw/kb/821268\" target=\"_blank\" rel=\"noopener\">爭用、 效能不佳、 和死結 （deadlock） 當您從 ASP.NET 應用程式呼叫 Web 服務</a></li>\n<li>machine.config</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">system.web</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">processModel</span> <span class=\"attr\">autoConfig</span>=<span class=\"string\">\"false\"</span> <span class=\"attr\">maxWorkerThreads</span>=<span class=\"string\">\"xxx\"</span> <span class=\"attr\">maxIoThreads</span>=<span class=\"string\">\"xxx\"</span> <span class=\"attr\">minWorkerThreads</span>=<span class=\"string\">\"xxx\"</span> <span class=\"attr\">minIoThreads</span>=<span class=\"string\">\"xxx\"</span> <span class=\"attr\">requestQueueLimit</span>=<span class=\"string\">\"5000\"</span> <span class=\"attr\">responseDeadlockInterval</span>=<span class=\"string\">\"00:03:00\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">httpRuntime</span> <span class=\"attr\">minFreeThreads</span>=<span class=\"string\">\"xxx\"</span> <span class=\"attr\">minLocalRequestFreeThreads</span>=<span class=\"string\">\"xxx\"</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">system.web</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"建議的設定值\"><a href=\"#建議的設定值\" class=\"headerlink\" title=\"建議的設定值\"></a>建議的設定值</h3><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">system.web</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">processModel</span> <span class=\"attr\">autoConfig</span>=<span class=\"string\">\"false\"</span> <span class=\"attr\">minWorkerThreads</span>=<span class=\"string\">\"1\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">system.web</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>.NET 官方文件的預設值與建議值</p>\n<table>\n<thead>\n<tr>\n<th>名稱</th>\n<th>預設值</th>\n<th>建議配置</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>maxWorkerThreads</td>\n<td>20</td>\n<td>32767 / #Cores</td>\n</tr>\n<tr>\n<td>maxIoThreads</td>\n<td>20</td>\n<td>32767 / #Cores</td>\n</tr>\n<tr>\n<td>minWorkerThreads</td>\n<td>1</td>\n<td>maxWorkerThreads/2</td>\n</tr>\n<tr>\n<td>minIoThreads</td>\n<td>1</td>\n<td>maxIoThreads / 2</td>\n</tr>\n<tr>\n<td>minFreeThreads</td>\n<td>8</td>\n<td>88*#CPUs</td>\n</tr>\n<tr>\n<td>minLocalRequestFreeThreads</td>\n<td>4</td>\n<td>76*#CPUs</td>\n</tr>\n<tr>\n<td>maxconnection</td>\n<td>2</td>\n<td>12*CPUs</td>\n</tr>\n<tr>\n<td>executionTimeout</td>\n<td>90s</td>\n<td>未建議</td>\n</tr>\n</tbody></table>\n<ul>\n<li>maxWorkerThreads,minWorkerThreads,maxIoThreads,minIoThreads 設定的數值需要乘上CPU的數量,  </li>\n</ul>\n<p>例: 4 核心設定 minWorkerThreads 值 20 ,實際上的值為 80</p>\n<h2 id=\"註釋\"><a href=\"#註釋\" class=\"headerlink\" title=\"註釋\"></a><span id=\"comment1\">註釋<span></span></span></h2><ol>\n<li>ThreadPool 中會有一個 queue , 其中隱含一個半秒機制 , 當 queue 靜止超過半秒 , 就會在 ThreadPool 建立一個新的 Thread  </li>\n</ol>\n<h2 id=\"記錄\"><a href=\"#記錄\" class=\"headerlink\" title=\"記錄\"></a>記錄</h2><ul>\n<li>ADO.NET 需要使用 Worker Thread</li>\n<li>Redis 需要使用 Worker Thread</li>\n</ul>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/orm-9780596527570-03-19.aspx\" target=\"_blank\" rel=\"noopener\">Threading</a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/ms998549.aspx\" target=\"_blank\" rel=\"noopener\">Improving ASP.NET Performance</a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/ms973903.aspx\" target=\"_blank\" rel=\"noopener\">Programming the Thread Pool in the .NET Framework</a></li>\n<li><a href=\"https://github.com/StackExchange/StackExchange.Redis\" target=\"_blank\" rel=\"noopener\">StackExchange.Redis 源碼</a></li>\n<li><a href=\"https://read01.com/MenEP.html\" target=\"_blank\" rel=\"noopener\">雲計算之路-阿里雲上：從ASP.NET線程角度對「黑色30秒」問題的全新分析</a></li>\n<li><a href=\"https://msdn.microsoft.com/zh-tw/library/ff650682.aspx\" target=\"_blank\" rel=\"noopener\">How To: Monitor the ASP.NET Thread Pool Using Custom Counters</a></li>\n<li><a href=\"http://www.thejoyofcode.com/tuning_the_threadpool.aspx\" target=\"_blank\" rel=\"noopener\">http://www.thejoyofcode.com/tuning_the_threadpool.aspx</a></li>\n<li><a href=\"https://gist.github.com/JonCole/e65411214030f0d823cb\" target=\"_blank\" rel=\"noopener\">https://gist.github.com/JonCole/e65411214030f0d823cb</a></li>\n<li><a href=\"https://blogs.msdn.microsoft.com/carloc/2009/02/19/minworkerthreads-and-autoconfig/\" target=\"_blank\" rel=\"noopener\">https://blogs.msdn.microsoft.com/carloc/2009/02/19/minworkerthreads-and-autoconfig/</a></li>\n</ul>\n<p>(fin)</p>\n"},{"_content":"","source":"_drafts/2018/book_debugging_teams_ch3.md","raw":"","slug":"2018/book_debugging_teams_ch3","published":0,"date":"2019-06-10T14:43:28.834Z","updated":"2019-06-10T14:43:28.834Z","title":"","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wig0005b0vxavl03zjr","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"[實作筆記]Jenkins Pipeline 與 Groovy 初體驗","date":"2018-08-29T03:42:27.000Z","_content":"\n## 簡介\n- [Jenkins Pipeline](https://jenkins.io/doc/book/pipeline/)\n- Groovy\n\nJenkins Pipeline 是 Jenkins 的一個 Plugin,  \n實現了 Pipeline as Code . 什麼是 Pipeline as Code ?\n","source":"_drafts/2018/ci_use_jenkins_pipeline_groovy.md","raw":"---\ntitle: \"[實作筆記]Jenkins Pipeline 與 Groovy 初體驗\"\ndate: 2018/08/29 11:42:27\ntag:\n  - Jenkis\n  - CI/CD\n---\n\n## 簡介\n- [Jenkins Pipeline](https://jenkins.io/doc/book/pipeline/)\n- Groovy\n\nJenkins Pipeline 是 Jenkins 的一個 Plugin,  \n實現了 Pipeline as Code . 什麼是 Pipeline as Code ?\n","slug":"2018/ci_use_jenkins_pipeline_groovy","published":0,"updated":"2019-06-10T14:43:28.843Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wij0007b0vxvlruivoo","content":"<h2 id=\"簡介\"><a href=\"#簡介\" class=\"headerlink\" title=\"簡介\"></a>簡介</h2><ul>\n<li><a href=\"https://jenkins.io/doc/book/pipeline/\" target=\"_blank\" rel=\"noopener\">Jenkins Pipeline</a></li>\n<li>Groovy</li>\n</ul>\n<p>Jenkins Pipeline 是 Jenkins 的一個 Plugin,<br>實現了 Pipeline as Code . 什麼是 Pipeline as Code ?</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"簡介\"><a href=\"#簡介\" class=\"headerlink\" title=\"簡介\"></a>簡介</h2><ul>\n<li><a href=\"https://jenkins.io/doc/book/pipeline/\" target=\"_blank\" rel=\"noopener\">Jenkins Pipeline</a></li>\n<li>Groovy</li>\n</ul>\n<p>Jenkins Pipeline 是 Jenkins 的一個 Plugin,<br>實現了 Pipeline as Code . 什麼是 Pipeline as Code ?</p>\n"},{"title":"2017 年度回顧","date":"2017-11-28T17:30:08.000Z","_content":"\n## Q1\n今年年初的計劃很簡單 , 2016年沒有機會作到專案 ,  \n所以第一季的目標是希望把維運作好,  \n不論是ISSUE或BUG的掌握能力 , 或是看板與站立的導入 .  \n這部份給自已正面的評價 ,  \n與需求單位有作好溝通並完成交付 .  \n\n過完農曆年後,開始處理 Reverse Proxy  \n大約佔了Q1的大部份時間,期間看板有一再的改版,  \n以維運看板而言我覺得太過花俏與複雜,  \n開始有了發酵的味道, 過多的指示與標記,\n當每件事都變得重要,就沒有事情重要\n\n在RD與需求單位之間,中間的多了一個梳理需求的角色\n但是源頭的需求不斷的重新排序與插件,\n或許才是整體工作膠著的原因\n\n##Q2\nReverse Proxy 告一段落後,被告知要接手貨到付款專案\n同時這段時間,我也在計劃著出國與表弟結婚的事\n雖然與公司的專案上卡在一起 不過算是有驚無險的完成了\n\n最困擾的","source":"_drafts/2017/retrospect.md","raw":"---\ntitle: \"2017 年度回顧\"\ndate: 2017/11/29 01:30:08\n---\n\n## Q1\n今年年初的計劃很簡單 , 2016年沒有機會作到專案 ,  \n所以第一季的目標是希望把維運作好,  \n不論是ISSUE或BUG的掌握能力 , 或是看板與站立的導入 .  \n這部份給自已正面的評價 ,  \n與需求單位有作好溝通並完成交付 .  \n\n過完農曆年後,開始處理 Reverse Proxy  \n大約佔了Q1的大部份時間,期間看板有一再的改版,  \n以維運看板而言我覺得太過花俏與複雜,  \n開始有了發酵的味道, 過多的指示與標記,\n當每件事都變得重要,就沒有事情重要\n\n在RD與需求單位之間,中間的多了一個梳理需求的角色\n但是源頭的需求不斷的重新排序與插件,\n或許才是整體工作膠著的原因\n\n##Q2\nReverse Proxy 告一段落後,被告知要接手貨到付款專案\n同時這段時間,我也在計劃著出國與表弟結婚的事\n雖然與公司的專案上卡在一起 不過算是有驚無險的完成了\n\n最困擾的","slug":"2017/retrospect","published":0,"updated":"2018-04-17T03:12:39.573Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wil0008b0vxuvnbk7y2","content":"<h2 id=\"Q1\"><a href=\"#Q1\" class=\"headerlink\" title=\"Q1\"></a>Q1</h2><p>今年年初的計劃很簡單 , 2016年沒有機會作到專案 ,<br>所以第一季的目標是希望把維運作好,<br>不論是ISSUE或BUG的掌握能力 , 或是看板與站立的導入 .<br>這部份給自已正面的評價 ,<br>與需求單位有作好溝通並完成交付 .  </p>\n<p>過完農曆年後,開始處理 Reverse Proxy<br>大約佔了Q1的大部份時間,期間看板有一再的改版,<br>以維運看板而言我覺得太過花俏與複雜,<br>開始有了發酵的味道, 過多的指示與標記,<br>當每件事都變得重要,就沒有事情重要</p>\n<p>在RD與需求單位之間,中間的多了一個梳理需求的角色<br>但是源頭的需求不斷的重新排序與插件,<br>或許才是整體工作膠著的原因</p>\n<p>##Q2<br>Reverse Proxy 告一段落後,被告知要接手貨到付款專案<br>同時這段時間,我也在計劃著出國與表弟結婚的事<br>雖然與公司的專案上卡在一起 不過算是有驚無險的完成了</p>\n<p>最困擾的</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Q1\"><a href=\"#Q1\" class=\"headerlink\" title=\"Q1\"></a>Q1</h2><p>今年年初的計劃很簡單 , 2016年沒有機會作到專案 ,<br>所以第一季的目標是希望把維運作好,<br>不論是ISSUE或BUG的掌握能力 , 或是看板與站立的導入 .<br>這部份給自已正面的評價 ,<br>與需求單位有作好溝通並完成交付 .  </p>\n<p>過完農曆年後,開始處理 Reverse Proxy<br>大約佔了Q1的大部份時間,期間看板有一再的改版,<br>以維運看板而言我覺得太過花俏與複雜,<br>開始有了發酵的味道, 過多的指示與標記,<br>當每件事都變得重要,就沒有事情重要</p>\n<p>在RD與需求單位之間,中間的多了一個梳理需求的角色<br>但是源頭的需求不斷的重新排序與插件,<br>或許才是整體工作膠著的原因</p>\n<p>##Q2<br>Reverse Proxy 告一段落後,被告知要接手貨到付款專案<br>同時這段時間,我也在計劃著出國與表弟結婚的事<br>雖然與公司的專案上卡在一起 不過算是有驚無險的完成了</p>\n<p>最困擾的</p>\n"},{"title":"[內部分享]Cache 使用 Memory 與 Redis","date":"2018-09-26T05:43:45.000Z","_content":"\n## Memory \n  - 阻檔突波\n  - 記憶體碎\n  - 不同機器不同步\n    - 可能會導致只有某有一台有問題\n  - 吃主機資源(memory)\n  - Memory Leak (Cache 不要超過一小時 ?/Size要控制)\n  - Hit Rate  \n  - 可以透過 Memory Dump 找問題。\n  - 主動更新 Memory Cache\n    - .Net → Dependency SQL / File (不建議這樣作了，在大型的系統中反而會吃掉過多的主機資源)\n  - 被動, 時間到就過期\n  - 跟據不同商業邏輯要作更細緻的處理\n\n## OutputCache\n  - name \n  - varyByParam\n  - varyByCustom\n  - 前台 V1/V2 : memory\n  - 前台 webapi : redis\n\n## CDN\n  - Edge Location\n  - 存放靜態檔\n  - 要觀注 Hit Rate\n  - 怎麼算錢 ? n tb/month → Hit Rate & Requests Count\n\n## 更新機制\n    過期時 先回傳舊資料再更新","source":"_drafts/2018/cache_memory.md","raw":"---\ntitle: \"[內部分享]Cache 使用 Memory 與 Redis\"\ndate: 2018/09/26 13:43:45\ntag:\n  - Cache\n  - .Net\n---\n\n## Memory \n  - 阻檔突波\n  - 記憶體碎\n  - 不同機器不同步\n    - 可能會導致只有某有一台有問題\n  - 吃主機資源(memory)\n  - Memory Leak (Cache 不要超過一小時 ?/Size要控制)\n  - Hit Rate  \n  - 可以透過 Memory Dump 找問題。\n  - 主動更新 Memory Cache\n    - .Net → Dependency SQL / File (不建議這樣作了，在大型的系統中反而會吃掉過多的主機資源)\n  - 被動, 時間到就過期\n  - 跟據不同商業邏輯要作更細緻的處理\n\n## OutputCache\n  - name \n  - varyByParam\n  - varyByCustom\n  - 前台 V1/V2 : memory\n  - 前台 webapi : redis\n\n## CDN\n  - Edge Location\n  - 存放靜態檔\n  - 要觀注 Hit Rate\n  - 怎麼算錢 ? n tb/month → Hit Rate & Requests Count\n\n## 更新機制\n    過期時 先回傳舊資料再更新","slug":"2018/cache_memory","published":0,"updated":"2019-06-10T14:43:28.836Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wip000ab0vxw576whx3","content":"<h2 id=\"Memory\"><a href=\"#Memory\" class=\"headerlink\" title=\"Memory\"></a>Memory</h2><ul>\n<li>阻檔突波</li>\n<li>記憶體碎</li>\n<li>不同機器不同步<ul>\n<li>可能會導致只有某有一台有問題</li>\n</ul>\n</li>\n<li>吃主機資源(memory)</li>\n<li>Memory Leak (Cache 不要超過一小時 ?/Size要控制)</li>\n<li>Hit Rate  </li>\n<li>可以透過 Memory Dump 找問題。</li>\n<li>主動更新 Memory Cache<ul>\n<li>.Net → Dependency SQL / File (不建議這樣作了，在大型的系統中反而會吃掉過多的主機資源)</li>\n</ul>\n</li>\n<li>被動, 時間到就過期</li>\n<li>跟據不同商業邏輯要作更細緻的處理</li>\n</ul>\n<h2 id=\"OutputCache\"><a href=\"#OutputCache\" class=\"headerlink\" title=\"OutputCache\"></a>OutputCache</h2><ul>\n<li>name </li>\n<li>varyByParam</li>\n<li>varyByCustom</li>\n<li>前台 V1/V2 : memory</li>\n<li>前台 webapi : redis</li>\n</ul>\n<h2 id=\"CDN\"><a href=\"#CDN\" class=\"headerlink\" title=\"CDN\"></a>CDN</h2><ul>\n<li>Edge Location</li>\n<li>存放靜態檔</li>\n<li>要觀注 Hit Rate</li>\n<li>怎麼算錢 ? n tb/month → Hit Rate &amp; Requests Count</li>\n</ul>\n<h2 id=\"更新機制\"><a href=\"#更新機制\" class=\"headerlink\" title=\"更新機制\"></a>更新機制</h2><pre><code>過期時 先回傳舊資料再更新</code></pre>","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Memory\"><a href=\"#Memory\" class=\"headerlink\" title=\"Memory\"></a>Memory</h2><ul>\n<li>阻檔突波</li>\n<li>記憶體碎</li>\n<li>不同機器不同步<ul>\n<li>可能會導致只有某有一台有問題</li>\n</ul>\n</li>\n<li>吃主機資源(memory)</li>\n<li>Memory Leak (Cache 不要超過一小時 ?/Size要控制)</li>\n<li>Hit Rate  </li>\n<li>可以透過 Memory Dump 找問題。</li>\n<li>主動更新 Memory Cache<ul>\n<li>.Net → Dependency SQL / File (不建議這樣作了，在大型的系統中反而會吃掉過多的主機資源)</li>\n</ul>\n</li>\n<li>被動, 時間到就過期</li>\n<li>跟據不同商業邏輯要作更細緻的處理</li>\n</ul>\n<h2 id=\"OutputCache\"><a href=\"#OutputCache\" class=\"headerlink\" title=\"OutputCache\"></a>OutputCache</h2><ul>\n<li>name </li>\n<li>varyByParam</li>\n<li>varyByCustom</li>\n<li>前台 V1/V2 : memory</li>\n<li>前台 webapi : redis</li>\n</ul>\n<h2 id=\"CDN\"><a href=\"#CDN\" class=\"headerlink\" title=\"CDN\"></a>CDN</h2><ul>\n<li>Edge Location</li>\n<li>存放靜態檔</li>\n<li>要觀注 Hit Rate</li>\n<li>怎麼算錢 ? n tb/month → Hit Rate &amp; Requests Count</li>\n</ul>\n<h2 id=\"更新機制\"><a href=\"#更新機制\" class=\"headerlink\" title=\"更新機制\"></a>更新機制</h2><pre><code>過期時 先回傳舊資料再更新</code></pre>"},{"_content":"### CH2 為何重構？\n- 使用一系列手法，在不影響軟體行為前提下，重新整理程式碼\n  - 為了讓程式更易被理解與修改\n- 重構時不要添加功能\n- 重構可以改善軟體設計\n  - 沒有最好的設計只有最適合\n  - 以前適合現在不一定適合  \n- 重構可以讓程式更容易被理解\n  - 請好好學英文與命名\n- 重構可以幫你找到臭蟲\n- 重構可以提高速度\n  - 反正我是信了，沒有品質沒有速度\n  - 跑百米的速率一定比馬拉松速率快  \n  - 但是走得好才能走得遠(包含你的職涯)\n#### 重構時機\n- 三次法則，重複三次就是壞味道\n  - 系統過大時，常常有人都以為自已只是第二次\n  - 第三次剛好比較忙，那就下次吧\n  - 第四次前人都這樣作，那就照舊吧\n  - @$*!#...\n  - 創造了就業機會\n- 添加功能的時候\n  - 記住不要同時\n- 修補錯誤時\n  - 記得先加測試再重構\n- Code Review 時\n  - Pair Programming 也是一種 Code Review 喔\n  - N 社的 Code Review 只發生在 merge 時，又尬尷又無奈的時機…","source":"_drafts/2019/refacting_CH2.md","raw":"### CH2 為何重構？\n- 使用一系列手法，在不影響軟體行為前提下，重新整理程式碼\n  - 為了讓程式更易被理解與修改\n- 重構時不要添加功能\n- 重構可以改善軟體設計\n  - 沒有最好的設計只有最適合\n  - 以前適合現在不一定適合  \n- 重構可以讓程式更容易被理解\n  - 請好好學英文與命名\n- 重構可以幫你找到臭蟲\n- 重構可以提高速度\n  - 反正我是信了，沒有品質沒有速度\n  - 跑百米的速率一定比馬拉松速率快  \n  - 但是走得好才能走得遠(包含你的職涯)\n#### 重構時機\n- 三次法則，重複三次就是壞味道\n  - 系統過大時，常常有人都以為自已只是第二次\n  - 第三次剛好比較忙，那就下次吧\n  - 第四次前人都這樣作，那就照舊吧\n  - @$*!#...\n  - 創造了就業機會\n- 添加功能的時候\n  - 記住不要同時\n- 修補錯誤時\n  - 記得先加測試再重構\n- Code Review 時\n  - Pair Programming 也是一種 Code Review 喔\n  - N 社的 Code Review 只發生在 merge 時，又尬尷又無奈的時機…","slug":"2019/refacting_CH2","published":0,"date":"2019-06-10T14:43:28.852Z","updated":"2019-06-10T14:43:28.852Z","title":"","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wir000bb0vx9zzn6pen","content":"<h3 id=\"CH2-為何重構？\"><a href=\"#CH2-為何重構？\" class=\"headerlink\" title=\"CH2 為何重構？\"></a>CH2 為何重構？</h3><ul>\n<li>使用一系列手法，在不影響軟體行為前提下，重新整理程式碼<ul>\n<li>為了讓程式更易被理解與修改</li>\n</ul>\n</li>\n<li>重構時不要添加功能</li>\n<li>重構可以改善軟體設計<ul>\n<li>沒有最好的設計只有最適合</li>\n<li>以前適合現在不一定適合  </li>\n</ul>\n</li>\n<li>重構可以讓程式更容易被理解<ul>\n<li>請好好學英文與命名</li>\n</ul>\n</li>\n<li>重構可以幫你找到臭蟲</li>\n<li>重構可以提高速度<ul>\n<li>反正我是信了，沒有品質沒有速度</li>\n<li>跑百米的速率一定比馬拉松速率快  </li>\n<li>但是走得好才能走得遠(包含你的職涯)<h4 id=\"重構時機\"><a href=\"#重構時機\" class=\"headerlink\" title=\"重構時機\"></a>重構時機</h4></li>\n</ul>\n</li>\n<li>三次法則，重複三次就是壞味道<ul>\n<li>系統過大時，常常有人都以為自已只是第二次</li>\n<li>第三次剛好比較忙，那就下次吧</li>\n<li>第四次前人都這樣作，那就照舊吧</li>\n<li>@$*!#…</li>\n<li>創造了就業機會</li>\n</ul>\n</li>\n<li>添加功能的時候<ul>\n<li>記住不要同時</li>\n</ul>\n</li>\n<li>修補錯誤時<ul>\n<li>記得先加測試再重構</li>\n</ul>\n</li>\n<li>Code Review 時<ul>\n<li>Pair Programming 也是一種 Code Review 喔</li>\n<li>N 社的 Code Review 只發生在 merge 時，又尬尷又無奈的時機…</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"CH2-為何重構？\"><a href=\"#CH2-為何重構？\" class=\"headerlink\" title=\"CH2 為何重構？\"></a>CH2 為何重構？</h3><ul>\n<li>使用一系列手法，在不影響軟體行為前提下，重新整理程式碼<ul>\n<li>為了讓程式更易被理解與修改</li>\n</ul>\n</li>\n<li>重構時不要添加功能</li>\n<li>重構可以改善軟體設計<ul>\n<li>沒有最好的設計只有最適合</li>\n<li>以前適合現在不一定適合  </li>\n</ul>\n</li>\n<li>重構可以讓程式更容易被理解<ul>\n<li>請好好學英文與命名</li>\n</ul>\n</li>\n<li>重構可以幫你找到臭蟲</li>\n<li>重構可以提高速度<ul>\n<li>反正我是信了，沒有品質沒有速度</li>\n<li>跑百米的速率一定比馬拉松速率快  </li>\n<li>但是走得好才能走得遠(包含你的職涯)<h4 id=\"重構時機\"><a href=\"#重構時機\" class=\"headerlink\" title=\"重構時機\"></a>重構時機</h4></li>\n</ul>\n</li>\n<li>三次法則，重複三次就是壞味道<ul>\n<li>系統過大時，常常有人都以為自已只是第二次</li>\n<li>第三次剛好比較忙，那就下次吧</li>\n<li>第四次前人都這樣作，那就照舊吧</li>\n<li>@$*!#…</li>\n<li>創造了就業機會</li>\n</ul>\n</li>\n<li>添加功能的時候<ul>\n<li>記住不要同時</li>\n</ul>\n</li>\n<li>修補錯誤時<ul>\n<li>記得先加測試再重構</li>\n</ul>\n</li>\n<li>Code Review 時<ul>\n<li>Pair Programming 也是一種 Code Review 喔</li>\n<li>N 社的 Code Review 只發生在 merge 時，又尬尷又無奈的時機…</li>\n</ul>\n</li>\n</ul>\n"},{"title":"有關 HTTP Header Content-Type","date":"2016-10-28T04:54:55.000Z","_content":"## 引言\n當我們對 Server 發出 request 的時候  \n需要註明你 request 的 Content-Type   \n以下簡單介紹一下這些格式  \n\n### 測試工具\n\n[PostMan](https://www.getpostman.com/)這套工具\n可以模擬不同的格式資料發動 request 到你的 Server\n\n---\n\n## Content-Type\n\n### `application/x-www-form-urlencoded`\n常用的Content-Type,簡單說就是KEY-VALUE的方式  \n如下, KEY firstname 的值是 marsen  \nlastname 是由使用者輸入\n\n```html\n<form>\n  First name:<br>\n  <input type=\"text\" name=\"firstname\" value=\"marsen\"><br>\n  Last name:<br>\n  <input type=\"text\" name=\"lastname\">\n</form>\n```\n同時資料會作一次url encoded,  \n產生類似下列的資料\nfirstname=marsen&lastname=lin&key%5b1%5d=value%5b1%5d\n\n---\n\n### `multipart/form-data` \n\nPostMan中的選項 `binary` 其實就是包成這種格式   \n上傳檔案會使用這種Content-Type,  \n這通常表示你的html element包含有 `<input type=\"file\">` \n\n---\n\n###  其它\nPostMan中的選項 `raw`,可以用字串組合成任意Content-Type,  \n參考[Content-Type Table](http://www.freeformatter.com/mime-types-list.html)  \n- `application/json`  \n目前主流的API會用輕巧的JSON作為傳遞資訊的媒介  \n- `text/xml`、`application/xml`  \n早期標準的Web服務通常會透過xml作為交換資訊的媒介  \n- `text/plain` \n有些email或debug的情況會使用text/plain作為Content-Type,但是一般的Request情況不建議使用  \n- 更多請參考[Spec](https://www.w3.org/TR/html5/forms.html#text/plain-encoding-algorithm)   \n\n---\n\n## 參考\n- https://imququ.com/post/four-ways-to-post-data-in-http.html\n- https://codeforgeek.com/2014/09/handle-get-post-request-express-4/\n- https://scotch.io/tutorials/use-expressjs-to-get-url-and-post-parameters\n- https://stackoverflow.com/questions/4832357/whats-the-difference-between-text-xml-vs-application-xml-for-webservice-respons?ref=mythemeco&t=pack\n- https://stackoverflow.com/questions/4526273/what-does-enctype-multipart-form-data-mean\n\n(fin)","source":"_posts/2016/about_content_type.md","raw":"---\ntitle: 有關 HTTP Header Content-Type\ndate: 2016/10/28 12:54:55\ntag:\n  - post\n  - HTTP\n  - html\n  - Content-Type\n---\n## 引言\n當我們對 Server 發出 request 的時候  \n需要註明你 request 的 Content-Type   \n以下簡單介紹一下這些格式  \n\n### 測試工具\n\n[PostMan](https://www.getpostman.com/)這套工具\n可以模擬不同的格式資料發動 request 到你的 Server\n\n---\n\n## Content-Type\n\n### `application/x-www-form-urlencoded`\n常用的Content-Type,簡單說就是KEY-VALUE的方式  \n如下, KEY firstname 的值是 marsen  \nlastname 是由使用者輸入\n\n```html\n<form>\n  First name:<br>\n  <input type=\"text\" name=\"firstname\" value=\"marsen\"><br>\n  Last name:<br>\n  <input type=\"text\" name=\"lastname\">\n</form>\n```\n同時資料會作一次url encoded,  \n產生類似下列的資料\nfirstname=marsen&lastname=lin&key%5b1%5d=value%5b1%5d\n\n---\n\n### `multipart/form-data` \n\nPostMan中的選項 `binary` 其實就是包成這種格式   \n上傳檔案會使用這種Content-Type,  \n這通常表示你的html element包含有 `<input type=\"file\">` \n\n---\n\n###  其它\nPostMan中的選項 `raw`,可以用字串組合成任意Content-Type,  \n參考[Content-Type Table](http://www.freeformatter.com/mime-types-list.html)  \n- `application/json`  \n目前主流的API會用輕巧的JSON作為傳遞資訊的媒介  \n- `text/xml`、`application/xml`  \n早期標準的Web服務通常會透過xml作為交換資訊的媒介  \n- `text/plain` \n有些email或debug的情況會使用text/plain作為Content-Type,但是一般的Request情況不建議使用  \n- 更多請參考[Spec](https://www.w3.org/TR/html5/forms.html#text/plain-encoding-algorithm)   \n\n---\n\n## 參考\n- https://imququ.com/post/four-ways-to-post-data-in-http.html\n- https://codeforgeek.com/2014/09/handle-get-post-request-express-4/\n- https://scotch.io/tutorials/use-expressjs-to-get-url-and-post-parameters\n- https://stackoverflow.com/questions/4832357/whats-the-difference-between-text-xml-vs-application-xml-for-webservice-respons?ref=mythemeco&t=pack\n- https://stackoverflow.com/questions/4526273/what-does-enctype-multipart-form-data-mean\n\n(fin)","slug":"2016/about_content_type","published":1,"updated":"2019-06-10T14:43:28.862Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wiw000db0vx6qaz6c1j","content":"<h2 id=\"引言\"><a href=\"#引言\" class=\"headerlink\" title=\"引言\"></a>引言</h2><p>當我們對 Server 發出 request 的時候<br>需要註明你 request 的 Content-Type<br>以下簡單介紹一下這些格式  </p>\n<h3 id=\"測試工具\"><a href=\"#測試工具\" class=\"headerlink\" title=\"測試工具\"></a>測試工具</h3><p><a href=\"https://www.getpostman.com/\" target=\"_blank\" rel=\"noopener\">PostMan</a>這套工具<br>可以模擬不同的格式資料發動 request 到你的 Server</p>\n<hr>\n<h2 id=\"Content-Type\"><a href=\"#Content-Type\" class=\"headerlink\" title=\"Content-Type\"></a>Content-Type</h2><h3 id=\"application-x-www-form-urlencoded\"><a href=\"#application-x-www-form-urlencoded\" class=\"headerlink\" title=\"application/x-www-form-urlencoded\"></a><code>application/x-www-form-urlencoded</code></h3><p>常用的Content-Type,簡單說就是KEY-VALUE的方式<br>如下, KEY firstname 的值是 marsen<br>lastname 是由使用者輸入</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span>&gt;</span></span><br><span class=\"line\">  First name:<span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"firstname\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"marsen\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span></span><br><span class=\"line\">  Last name:<span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"lastname\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>同時資料會作一次url encoded,<br>產生類似下列的資料<br>firstname=marsen&amp;lastname=lin&amp;key%5b1%5d=value%5b1%5d</p>\n<hr>\n<h3 id=\"multipart-form-data\"><a href=\"#multipart-form-data\" class=\"headerlink\" title=\"multipart/form-data\"></a><code>multipart/form-data</code></h3><p>PostMan中的選項 <code>binary</code> 其實就是包成這種格式<br>上傳檔案會使用這種Content-Type,<br>這通常表示你的html element包含有 <code>&lt;input type=&quot;file&quot;&gt;</code> </p>\n<hr>\n<h3 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h3><p>PostMan中的選項 <code>raw</code>,可以用字串組合成任意Content-Type,<br>參考<a href=\"http://www.freeformatter.com/mime-types-list.html\" target=\"_blank\" rel=\"noopener\">Content-Type Table</a>  </p>\n<ul>\n<li><code>application/json</code><br>目前主流的API會用輕巧的JSON作為傳遞資訊的媒介  </li>\n<li><code>text/xml</code>、<code>application/xml</code><br>早期標準的Web服務通常會透過xml作為交換資訊的媒介  </li>\n<li><code>text/plain</code><br>有些email或debug的情況會使用text/plain作為Content-Type,但是一般的Request情況不建議使用  </li>\n<li>更多請參考<a href=\"https://www.w3.org/TR/html5/forms.html#text/plain-encoding-algorithm\" target=\"_blank\" rel=\"noopener\">Spec</a>   </li>\n</ul>\n<hr>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://imququ.com/post/four-ways-to-post-data-in-http.html\" target=\"_blank\" rel=\"noopener\">https://imququ.com/post/four-ways-to-post-data-in-http.html</a></li>\n<li><a href=\"https://codeforgeek.com/2014/09/handle-get-post-request-express-4/\" target=\"_blank\" rel=\"noopener\">https://codeforgeek.com/2014/09/handle-get-post-request-express-4/</a></li>\n<li><a href=\"https://scotch.io/tutorials/use-expressjs-to-get-url-and-post-parameters\" target=\"_blank\" rel=\"noopener\">https://scotch.io/tutorials/use-expressjs-to-get-url-and-post-parameters</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4832357/whats-the-difference-between-text-xml-vs-application-xml-for-webservice-respons?ref=mythemeco&amp;t=pack\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/4832357/whats-the-difference-between-text-xml-vs-application-xml-for-webservice-respons?ref=mythemeco&amp;t=pack</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4526273/what-does-enctype-multipart-form-data-mean\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/4526273/what-does-enctype-multipart-form-data-mean</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"引言\"><a href=\"#引言\" class=\"headerlink\" title=\"引言\"></a>引言</h2><p>當我們對 Server 發出 request 的時候<br>需要註明你 request 的 Content-Type<br>以下簡單介紹一下這些格式  </p>\n<h3 id=\"測試工具\"><a href=\"#測試工具\" class=\"headerlink\" title=\"測試工具\"></a>測試工具</h3><p><a href=\"https://www.getpostman.com/\" target=\"_blank\" rel=\"noopener\">PostMan</a>這套工具<br>可以模擬不同的格式資料發動 request 到你的 Server</p>\n<hr>\n<h2 id=\"Content-Type\"><a href=\"#Content-Type\" class=\"headerlink\" title=\"Content-Type\"></a>Content-Type</h2><h3 id=\"application-x-www-form-urlencoded\"><a href=\"#application-x-www-form-urlencoded\" class=\"headerlink\" title=\"application/x-www-form-urlencoded\"></a><code>application/x-www-form-urlencoded</code></h3><p>常用的Content-Type,簡單說就是KEY-VALUE的方式<br>如下, KEY firstname 的值是 marsen<br>lastname 是由使用者輸入</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span>&gt;</span></span><br><span class=\"line\">  First name:<span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"firstname\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"marsen\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span></span><br><span class=\"line\">  Last name:<span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"lastname\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>同時資料會作一次url encoded,<br>產生類似下列的資料<br>firstname=marsen&amp;lastname=lin&amp;key%5b1%5d=value%5b1%5d</p>\n<hr>\n<h3 id=\"multipart-form-data\"><a href=\"#multipart-form-data\" class=\"headerlink\" title=\"multipart/form-data\"></a><code>multipart/form-data</code></h3><p>PostMan中的選項 <code>binary</code> 其實就是包成這種格式<br>上傳檔案會使用這種Content-Type,<br>這通常表示你的html element包含有 <code>&lt;input type=&quot;file&quot;&gt;</code> </p>\n<hr>\n<h3 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h3><p>PostMan中的選項 <code>raw</code>,可以用字串組合成任意Content-Type,<br>參考<a href=\"http://www.freeformatter.com/mime-types-list.html\" target=\"_blank\" rel=\"noopener\">Content-Type Table</a>  </p>\n<ul>\n<li><code>application/json</code><br>目前主流的API會用輕巧的JSON作為傳遞資訊的媒介  </li>\n<li><code>text/xml</code>、<code>application/xml</code><br>早期標準的Web服務通常會透過xml作為交換資訊的媒介  </li>\n<li><code>text/plain</code><br>有些email或debug的情況會使用text/plain作為Content-Type,但是一般的Request情況不建議使用  </li>\n<li>更多請參考<a href=\"https://www.w3.org/TR/html5/forms.html#text/plain-encoding-algorithm\" target=\"_blank\" rel=\"noopener\">Spec</a>   </li>\n</ul>\n<hr>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://imququ.com/post/four-ways-to-post-data-in-http.html\" target=\"_blank\" rel=\"noopener\">https://imququ.com/post/four-ways-to-post-data-in-http.html</a></li>\n<li><a href=\"https://codeforgeek.com/2014/09/handle-get-post-request-express-4/\" target=\"_blank\" rel=\"noopener\">https://codeforgeek.com/2014/09/handle-get-post-request-express-4/</a></li>\n<li><a href=\"https://scotch.io/tutorials/use-expressjs-to-get-url-and-post-parameters\" target=\"_blank\" rel=\"noopener\">https://scotch.io/tutorials/use-expressjs-to-get-url-and-post-parameters</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4832357/whats-the-difference-between-text-xml-vs-application-xml-for-webservice-respons?ref=mythemeco&amp;t=pack\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/4832357/whats-the-difference-between-text-xml-vs-application-xml-for-webservice-respons?ref=mythemeco&amp;t=pack</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4526273/what-does-enctype-multipart-form-data-mean\" target=\"_blank\" rel=\"noopener\">https://stackoverflow.com/questions/4526273/what-does-enctype-multipart-form-data-mean</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[實作筆記] AWS DeepRacer","date":"2019-05-18T07:11:38.000Z","tag":null,"_content":"\n## 概念\n- [Introduction to Reinforcement Learning](https://d2k9g1efyej86q.cloudfront.net/)\n\n### Reinforcement Learning\n\n強化學習(Reinforcement Learning , 簡稱 RL),  \n就好像在訓練寵物坐下或握手一樣，  \n透過獎勵(Reward)特定的行為(Action)來達到訓練的目標，  \n\n### DeepRacer 的角色\n#### Agent\n在比賽中是真實的縮小迷你車(1:18)，車上帶有鏡頭可以拍攝路況， \n在訓練中則是使用模擬器,可以模\n\n- Enviroment\n- Action\n- Reward\n- State\n\n\n## 實作\n\n1. 建立資源\n\n2. 預設的 獎勵方程\n\n```py\ndef reward_function(params):\n    '''\n    Example of rewarding the agent to follow center line\n    '''\n    \n    # Read input parameters\n    track_width = params['track_width']\n    distance_from_center = params['distance_from_center']\n    \n    # Calculate 3 markers that are at varying distances away from the center line\n    marker_1 = 0.1 * track_width\n    marker_2 = 0.25 * track_width\n    marker_3 = 0.5 * track_width\n    \n    # Give higher reward if the car is closer to center line and vice versa\n    if distance_from_center <= marker_1:\n        reward = 1.0\n    elif distance_from_center <= marker_2:\n        reward = 0.5\n    elif distance_from_center <= marker_3:\n        reward = 0.1\n    else:\n        reward = 1e-3  # likely crashed/ close to off track\n    \n    return float(reward)\n```\n\n## 除錯\n\n錯誤訊息\n\n> Error in IAM role creation\n> Please try again after deleting the following roles: AWSDeepRacerServiceRole, \n> AWSDeepRacerSageMakerAccessRole, AWSDeepRacerRoboMakerAccessRole, \n> AWSDeepRacerLambdaAccessRole, AWSDeepRacerCloudFormationAccessRole.\n\n這是 IAM Roles 已經存在, 通常是你已經建立過了這些 Roles , 只要刪除了就可以了\n\n## 使用資源與服務\n- DeepRacer\n- Reinforcement learning >　Reinforcement learning\n- CloudWatch > Log Groups \n- IAM\n  - AWSDeepRacerServiceRole \n  - AWSDeepRacerSageMakerAccessRole \n  - AWSDeepRacerRoboMakerAccessRole\n  - AWSDeepRacerLambdaAccessRole\n  - AWSDeepRacerCloudFormationAccessRole.\n\n### 如何清除\n- DeepRacer > 按下 Reset\n\n## 參考\n- [AWS 機器學習戰鬥營](https://aws-workshop-tw-03.splashthat.com/)\n- [aws-samples/aws-deepracer-workshops](https://github.com/aws-samples/aws-deepracer-workshops/tree/master/Workshops/2019-AWSSummits-AWSDeepRacerService/Lab1)\n- [Introduction to Reinforcement Learning](https://d2k9g1efyej86q.cloudfront.net/)\n- [Train and Evaluate AWS DeepRacer Models Using the AWS DeepRacer Console - AWS DeepRacer](https://docs.aws.amazon.com/en_us/deepracer/latest/developerguide/deepracer-console-train-evaluate-models.html)\n\n(fin)","source":"_drafts/2019/aws_deepraceer.md","raw":"---\ntitle: \"[實作筆記] AWS DeepRacer\"\ndate: 2019/05/18 15:11:38\ntag:\n\n---\n\n## 概念\n- [Introduction to Reinforcement Learning](https://d2k9g1efyej86q.cloudfront.net/)\n\n### Reinforcement Learning\n\n強化學習(Reinforcement Learning , 簡稱 RL),  \n就好像在訓練寵物坐下或握手一樣，  \n透過獎勵(Reward)特定的行為(Action)來達到訓練的目標，  \n\n### DeepRacer 的角色\n#### Agent\n在比賽中是真實的縮小迷你車(1:18)，車上帶有鏡頭可以拍攝路況， \n在訓練中則是使用模擬器,可以模\n\n- Enviroment\n- Action\n- Reward\n- State\n\n\n## 實作\n\n1. 建立資源\n\n2. 預設的 獎勵方程\n\n```py\ndef reward_function(params):\n    '''\n    Example of rewarding the agent to follow center line\n    '''\n    \n    # Read input parameters\n    track_width = params['track_width']\n    distance_from_center = params['distance_from_center']\n    \n    # Calculate 3 markers that are at varying distances away from the center line\n    marker_1 = 0.1 * track_width\n    marker_2 = 0.25 * track_width\n    marker_3 = 0.5 * track_width\n    \n    # Give higher reward if the car is closer to center line and vice versa\n    if distance_from_center <= marker_1:\n        reward = 1.0\n    elif distance_from_center <= marker_2:\n        reward = 0.5\n    elif distance_from_center <= marker_3:\n        reward = 0.1\n    else:\n        reward = 1e-3  # likely crashed/ close to off track\n    \n    return float(reward)\n```\n\n## 除錯\n\n錯誤訊息\n\n> Error in IAM role creation\n> Please try again after deleting the following roles: AWSDeepRacerServiceRole, \n> AWSDeepRacerSageMakerAccessRole, AWSDeepRacerRoboMakerAccessRole, \n> AWSDeepRacerLambdaAccessRole, AWSDeepRacerCloudFormationAccessRole.\n\n這是 IAM Roles 已經存在, 通常是你已經建立過了這些 Roles , 只要刪除了就可以了\n\n## 使用資源與服務\n- DeepRacer\n- Reinforcement learning >　Reinforcement learning\n- CloudWatch > Log Groups \n- IAM\n  - AWSDeepRacerServiceRole \n  - AWSDeepRacerSageMakerAccessRole \n  - AWSDeepRacerRoboMakerAccessRole\n  - AWSDeepRacerLambdaAccessRole\n  - AWSDeepRacerCloudFormationAccessRole.\n\n### 如何清除\n- DeepRacer > 按下 Reset\n\n## 參考\n- [AWS 機器學習戰鬥營](https://aws-workshop-tw-03.splashthat.com/)\n- [aws-samples/aws-deepracer-workshops](https://github.com/aws-samples/aws-deepracer-workshops/tree/master/Workshops/2019-AWSSummits-AWSDeepRacerService/Lab1)\n- [Introduction to Reinforcement Learning](https://d2k9g1efyej86q.cloudfront.net/)\n- [Train and Evaluate AWS DeepRacer Models Using the AWS DeepRacer Console - AWS DeepRacer](https://docs.aws.amazon.com/en_us/deepracer/latest/developerguide/deepracer-console-train-evaluate-models.html)\n\n(fin)","slug":"2019/aws_deepraceer","published":0,"updated":"2019-06-10T14:43:28.853Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wiy000eb0vxku71lu8y","content":"<h2 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h2><ul>\n<li><a href=\"https://d2k9g1efyej86q.cloudfront.net/\" target=\"_blank\" rel=\"noopener\">Introduction to Reinforcement Learning</a></li>\n</ul>\n<h3 id=\"Reinforcement-Learning\"><a href=\"#Reinforcement-Learning\" class=\"headerlink\" title=\"Reinforcement Learning\"></a>Reinforcement Learning</h3><p>強化學習(Reinforcement Learning , 簡稱 RL),<br>就好像在訓練寵物坐下或握手一樣，<br>透過獎勵(Reward)特定的行為(Action)來達到訓練的目標，  </p>\n<h3 id=\"DeepRacer-的角色\"><a href=\"#DeepRacer-的角色\" class=\"headerlink\" title=\"DeepRacer 的角色\"></a>DeepRacer 的角色</h3><h4 id=\"Agent\"><a href=\"#Agent\" class=\"headerlink\" title=\"Agent\"></a>Agent</h4><p>在比賽中是真實的縮小迷你車(1:18)，車上帶有鏡頭可以拍攝路況，<br>在訓練中則是使用模擬器,可以模</p>\n<ul>\n<li>Enviroment</li>\n<li>Action</li>\n<li>Reward</li>\n<li>State</li>\n</ul>\n<h2 id=\"實作\"><a href=\"#實作\" class=\"headerlink\" title=\"實作\"></a>實作</h2><ol>\n<li><p>建立資源</p>\n</li>\n<li><p>預設的 獎勵方程</p>\n</li>\n</ol>\n<figure class=\"highlight py\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reward_function</span><span class=\"params\">(params)</span>:</span></span><br><span class=\"line\">    <span class=\"string\">'''</span></span><br><span class=\"line\"><span class=\"string\">    Example of rewarding the agent to follow center line</span></span><br><span class=\"line\"><span class=\"string\">    '''</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\"># Read input parameters</span></span><br><span class=\"line\">    track_width = params[<span class=\"string\">'track_width'</span>]</span><br><span class=\"line\">    distance_from_center = params[<span class=\"string\">'distance_from_center'</span>]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\"># Calculate 3 markers that are at varying distances away from the center line</span></span><br><span class=\"line\">    marker_1 = <span class=\"number\">0.1</span> * track_width</span><br><span class=\"line\">    marker_2 = <span class=\"number\">0.25</span> * track_width</span><br><span class=\"line\">    marker_3 = <span class=\"number\">0.5</span> * track_width</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\"># Give higher reward if the car is closer to center line and vice versa</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> distance_from_center &lt;= marker_1:</span><br><span class=\"line\">        reward = <span class=\"number\">1.0</span></span><br><span class=\"line\">    <span class=\"keyword\">elif</span> distance_from_center &lt;= marker_2:</span><br><span class=\"line\">        reward = <span class=\"number\">0.5</span></span><br><span class=\"line\">    <span class=\"keyword\">elif</span> distance_from_center &lt;= marker_3:</span><br><span class=\"line\">        reward = <span class=\"number\">0.1</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        reward = <span class=\"number\">1e-3</span>  <span class=\"comment\"># likely crashed/ close to off track</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> float(reward)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"除錯\"><a href=\"#除錯\" class=\"headerlink\" title=\"除錯\"></a>除錯</h2><p>錯誤訊息</p>\n<blockquote>\n<p>Error in IAM role creation<br>Please try again after deleting the following roles: AWSDeepRacerServiceRole,<br>AWSDeepRacerSageMakerAccessRole, AWSDeepRacerRoboMakerAccessRole,<br>AWSDeepRacerLambdaAccessRole, AWSDeepRacerCloudFormationAccessRole.</p>\n</blockquote>\n<p>這是 IAM Roles 已經存在, 通常是你已經建立過了這些 Roles , 只要刪除了就可以了</p>\n<h2 id=\"使用資源與服務\"><a href=\"#使用資源與服務\" class=\"headerlink\" title=\"使用資源與服務\"></a>使用資源與服務</h2><ul>\n<li>DeepRacer</li>\n<li>Reinforcement learning &gt;　Reinforcement learning</li>\n<li>CloudWatch &gt; Log Groups </li>\n<li>IAM<ul>\n<li>AWSDeepRacerServiceRole </li>\n<li>AWSDeepRacerSageMakerAccessRole </li>\n<li>AWSDeepRacerRoboMakerAccessRole</li>\n<li>AWSDeepRacerLambdaAccessRole</li>\n<li>AWSDeepRacerCloudFormationAccessRole.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"如何清除\"><a href=\"#如何清除\" class=\"headerlink\" title=\"如何清除\"></a>如何清除</h3><ul>\n<li>DeepRacer &gt; 按下 Reset</li>\n</ul>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://aws-workshop-tw-03.splashthat.com/\" target=\"_blank\" rel=\"noopener\">AWS 機器學習戰鬥營</a></li>\n<li><a href=\"https://github.com/aws-samples/aws-deepracer-workshops/tree/master/Workshops/2019-AWSSummits-AWSDeepRacerService/Lab1\" target=\"_blank\" rel=\"noopener\">aws-samples/aws-deepracer-workshops</a></li>\n<li><a href=\"https://d2k9g1efyej86q.cloudfront.net/\" target=\"_blank\" rel=\"noopener\">Introduction to Reinforcement Learning</a></li>\n<li><a href=\"https://docs.aws.amazon.com/en_us/deepracer/latest/developerguide/deepracer-console-train-evaluate-models.html\" target=\"_blank\" rel=\"noopener\">Train and Evaluate AWS DeepRacer Models Using the AWS DeepRacer Console - AWS DeepRacer</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h2><ul>\n<li><a href=\"https://d2k9g1efyej86q.cloudfront.net/\" target=\"_blank\" rel=\"noopener\">Introduction to Reinforcement Learning</a></li>\n</ul>\n<h3 id=\"Reinforcement-Learning\"><a href=\"#Reinforcement-Learning\" class=\"headerlink\" title=\"Reinforcement Learning\"></a>Reinforcement Learning</h3><p>強化學習(Reinforcement Learning , 簡稱 RL),<br>就好像在訓練寵物坐下或握手一樣，<br>透過獎勵(Reward)特定的行為(Action)來達到訓練的目標，  </p>\n<h3 id=\"DeepRacer-的角色\"><a href=\"#DeepRacer-的角色\" class=\"headerlink\" title=\"DeepRacer 的角色\"></a>DeepRacer 的角色</h3><h4 id=\"Agent\"><a href=\"#Agent\" class=\"headerlink\" title=\"Agent\"></a>Agent</h4><p>在比賽中是真實的縮小迷你車(1:18)，車上帶有鏡頭可以拍攝路況，<br>在訓練中則是使用模擬器,可以模</p>\n<ul>\n<li>Enviroment</li>\n<li>Action</li>\n<li>Reward</li>\n<li>State</li>\n</ul>\n<h2 id=\"實作\"><a href=\"#實作\" class=\"headerlink\" title=\"實作\"></a>實作</h2><ol>\n<li><p>建立資源</p>\n</li>\n<li><p>預設的 獎勵方程</p>\n</li>\n</ol>\n<figure class=\"highlight py\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">reward_function</span><span class=\"params\">(params)</span>:</span></span><br><span class=\"line\">    <span class=\"string\">'''</span></span><br><span class=\"line\"><span class=\"string\">    Example of rewarding the agent to follow center line</span></span><br><span class=\"line\"><span class=\"string\">    '''</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\"># Read input parameters</span></span><br><span class=\"line\">    track_width = params[<span class=\"string\">'track_width'</span>]</span><br><span class=\"line\">    distance_from_center = params[<span class=\"string\">'distance_from_center'</span>]</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\"># Calculate 3 markers that are at varying distances away from the center line</span></span><br><span class=\"line\">    marker_1 = <span class=\"number\">0.1</span> * track_width</span><br><span class=\"line\">    marker_2 = <span class=\"number\">0.25</span> * track_width</span><br><span class=\"line\">    marker_3 = <span class=\"number\">0.5</span> * track_width</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\"># Give higher reward if the car is closer to center line and vice versa</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> distance_from_center &lt;= marker_1:</span><br><span class=\"line\">        reward = <span class=\"number\">1.0</span></span><br><span class=\"line\">    <span class=\"keyword\">elif</span> distance_from_center &lt;= marker_2:</span><br><span class=\"line\">        reward = <span class=\"number\">0.5</span></span><br><span class=\"line\">    <span class=\"keyword\">elif</span> distance_from_center &lt;= marker_3:</span><br><span class=\"line\">        reward = <span class=\"number\">0.1</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        reward = <span class=\"number\">1e-3</span>  <span class=\"comment\"># likely crashed/ close to off track</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> float(reward)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"除錯\"><a href=\"#除錯\" class=\"headerlink\" title=\"除錯\"></a>除錯</h2><p>錯誤訊息</p>\n<blockquote>\n<p>Error in IAM role creation<br>Please try again after deleting the following roles: AWSDeepRacerServiceRole,<br>AWSDeepRacerSageMakerAccessRole, AWSDeepRacerRoboMakerAccessRole,<br>AWSDeepRacerLambdaAccessRole, AWSDeepRacerCloudFormationAccessRole.</p>\n</blockquote>\n<p>這是 IAM Roles 已經存在, 通常是你已經建立過了這些 Roles , 只要刪除了就可以了</p>\n<h2 id=\"使用資源與服務\"><a href=\"#使用資源與服務\" class=\"headerlink\" title=\"使用資源與服務\"></a>使用資源與服務</h2><ul>\n<li>DeepRacer</li>\n<li>Reinforcement learning &gt;　Reinforcement learning</li>\n<li>CloudWatch &gt; Log Groups </li>\n<li>IAM<ul>\n<li>AWSDeepRacerServiceRole </li>\n<li>AWSDeepRacerSageMakerAccessRole </li>\n<li>AWSDeepRacerRoboMakerAccessRole</li>\n<li>AWSDeepRacerLambdaAccessRole</li>\n<li>AWSDeepRacerCloudFormationAccessRole.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"如何清除\"><a href=\"#如何清除\" class=\"headerlink\" title=\"如何清除\"></a>如何清除</h3><ul>\n<li>DeepRacer &gt; 按下 Reset</li>\n</ul>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://aws-workshop-tw-03.splashthat.com/\" target=\"_blank\" rel=\"noopener\">AWS 機器學習戰鬥營</a></li>\n<li><a href=\"https://github.com/aws-samples/aws-deepracer-workshops/tree/master/Workshops/2019-AWSSummits-AWSDeepRacerService/Lab1\" target=\"_blank\" rel=\"noopener\">aws-samples/aws-deepracer-workshops</a></li>\n<li><a href=\"https://d2k9g1efyej86q.cloudfront.net/\" target=\"_blank\" rel=\"noopener\">Introduction to Reinforcement Learning</a></li>\n<li><a href=\"https://docs.aws.amazon.com/en_us/deepracer/latest/developerguide/deepracer-console-train-evaluate-models.html\" target=\"_blank\" rel=\"noopener\">Train and Evaluate AWS DeepRacer Models Using the AWS DeepRacer Console - AWS DeepRacer</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"如何讓google analytics追踪你的Hexo Blog","date":"2016-08-25T06:12:07.000Z","_content":"## 前置作業\n1. 你要有google帳號，並申請好你的google_analytics ID\n2. 這個記錄僅針對Hexo預設的Theme有作用，未來有改Theme的話，可能會需要手動加入，再寫文章補上\n\n## 開啟_config.yml\n1. 確定一下你是使用預設的theme `landscape`\n        ## Themes: https://hexo.io/themes/\n        theme: landscape\n2. 開啟 `root/themes/landscape/_config.yml`\n3. 找到以下的設定區段\n        # Miscellaneous\n        google_analytics:\n4. 填入步驟1. 中所取得 google_analytics ID\n5. 部署網站，完成!\n\n(fin)\n","source":"_posts/2016/add_google_analytics_to_hexo_blog_1.md","raw":"---\ntitle: 如何讓google analytics追踪你的Hexo Blog\ndate: 2016/08/25 14:12:07\ntag:\n  - Hexo\n  - Google\n---\n## 前置作業\n1. 你要有google帳號，並申請好你的google_analytics ID\n2. 這個記錄僅針對Hexo預設的Theme有作用，未來有改Theme的話，可能會需要手動加入，再寫文章補上\n\n## 開啟_config.yml\n1. 確定一下你是使用預設的theme `landscape`\n        ## Themes: https://hexo.io/themes/\n        theme: landscape\n2. 開啟 `root/themes/landscape/_config.yml`\n3. 找到以下的設定區段\n        # Miscellaneous\n        google_analytics:\n4. 填入步驟1. 中所取得 google_analytics ID\n5. 部署網站，完成!\n\n(fin)\n","slug":"2016/add_google_analytics_to_hexo_blog_1","published":1,"updated":"2019-06-10T14:43:28.863Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wj0000gb0vxs7d6nb9d","content":"<h2 id=\"前置作業\"><a href=\"#前置作業\" class=\"headerlink\" title=\"前置作業\"></a>前置作業</h2><ol>\n<li>你要有google帳號，並申請好你的google_analytics ID</li>\n<li>這個記錄僅針對Hexo預設的Theme有作用，未來有改Theme的話，可能會需要手動加入，再寫文章補上</li>\n</ol>\n<h2 id=\"開啟-config-yml\"><a href=\"#開啟-config-yml\" class=\"headerlink\" title=\"開啟_config.yml\"></a>開啟_config.yml</h2><ol>\n<li>確定一下你是使用預設的theme <code>landscape</code><pre><code>## Themes: https://hexo.io/themes/\ntheme: landscape</code></pre></li>\n<li>開啟 <code>root/themes/landscape/_config.yml</code></li>\n<li>找到以下的設定區段<pre><code># Miscellaneous\ngoogle_analytics:</code></pre></li>\n<li>填入步驟1. 中所取得 google_analytics ID</li>\n<li>部署網站，完成!</li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前置作業\"><a href=\"#前置作業\" class=\"headerlink\" title=\"前置作業\"></a>前置作業</h2><ol>\n<li>你要有google帳號，並申請好你的google_analytics ID</li>\n<li>這個記錄僅針對Hexo預設的Theme有作用，未來有改Theme的話，可能會需要手動加入，再寫文章補上</li>\n</ol>\n<h2 id=\"開啟-config-yml\"><a href=\"#開啟-config-yml\" class=\"headerlink\" title=\"開啟_config.yml\"></a>開啟_config.yml</h2><ol>\n<li>確定一下你是使用預設的theme <code>landscape</code><pre><code>## Themes: https://hexo.io/themes/\ntheme: landscape</code></pre></li>\n<li>開啟 <code>root/themes/landscape/_config.yml</code></li>\n<li>找到以下的設定區段<pre><code># Miscellaneous\ngoogle_analytics:</code></pre></li>\n<li>填入步驟1. 中所取得 google_analytics ID</li>\n<li>部署網站，完成!</li>\n</ol>\n<p>(fin)</p>\n"},{"title":"[記錄]PowerShell 初體驗","date":"2016-10-21T05:27:53.000Z","_content":"\n## 需求\n\n1. 將指定的Log記錄,匯入資料庫,產生row data\n2. 將row data 轉換成為需要的報表資料\n3. 產生報表\n\n## 規劃\n\n1. powershell 讀取檔案\n2. powershell 連接資料庫\n3. powershell 執行SQL\n4. powershell 作BulkInsert\n5. powershell 寫入檔案\n\n![PowerShell](/images/102216_095355_PM.jpg)\n\n### 簡記要點\n\n- ***powershell 可以直接取用 .Net Framework 或 COM 元件***\n- ***宣告變用要用`$`字號***\n- ***`#` 是註解***\n\n### 讀取檔案\n\n```powershell\n#用New-Object 建立.Net StreamrReader 物件\n$reader = New-Object System.io.streamreader(get-item $filePath)\n#使用`[]`建立靜態類別讀取檔案\n$file = [System.IO.File]::ReadAllLines($filePath)  \n#直接使用Get-Content讀取文檔\n$file = Get-Content  \"C:\\filepath\\file\"\n```\n\n### 連線資料庫與執行語法\n\n```powershell\n$connection = New-Object System.Data.SQLClient.SQLConnection\n$connection.ConnectionString = \"server='$server';database='$database';uid='$user'; pwd='$pwd';Integrated Security=False;\"\n$connection.Open()\n# do something\n$connection.Close()\n```\n\n### BulkInsert\n\n- 從檔案建立DataTable\n\n```powershell\n$table = New-Object System.Data.DataTable\n#建立欄位\n$col_title = New-Object system.Data.DataColumn \"Title\",([string])\n$table.Columns.Add($col_title);\n$col_content = New-Object system.Data.DataColumn \"Content\",([string])\n$table.Columns.Add($col_content);\n$col_author = New-Object system.Data.DataColumn \"Author\",([string])\n$table.Columns.Add($col_author);\n#建立資料\nforeach($file in $files){\n  $dr = $table.NewRow();\n  $dr[\"Title\"] = $file[\"title\"]\n  $dr[\"Content\"] = $file[\"content\"]\n  $dr[\"Author\"] = $file[\"author\"]\n}\n#寫入資料表\n$table.Rows.Add($dr);\n```\n\n- 透過BulkCopy將DataTable寫入資料庫\n\n```powershell\n$connection.Open()\n$bulkCopy = New-Object (“Data.SqlClient.SqlBulkCopy”) -ArgumentList $connection\n$bulkCopy.DestinationTableName = \"tablename\"\n$bulkCopy.WriteToServer($datatable)\n$connection.Close()\n```\n\n### 進度條\n\n```powershell\nWrite-Progress -Activity \"BulkInsert\" -Status \"載入百分比: 100 %\" -PercentComplete 100;\n```\n\n### 產生報表\n\n```powershell\n$datatable | export-csv C:\\Reports\\20161026.csv -Encoding UTF8\n```\n\n## 參考\n\n1. https://msdn.microsoft.com/en-us/powershell\n2. https://msdn.microsoft.com/en-us/powershell/scripting/getting-started/cookbooks/using-static-classes-and-methods\n3. https://cmatskas.com/execute-sql-query-with-powershell/\n4. https://blogs.technet.microsoft.com/heyscriptingguy/\n\n(fin)\n","source":"_posts/2016/1st_time_with_powershell.md","raw":"---\ntitle: \"[記錄]PowerShell 初體驗\"\ndate: 2016/10/21 13:27:53 \ntag:\n  - PowerShell\n  - Database\n  - MsSQL\n---\n\n## 需求\n\n1. 將指定的Log記錄,匯入資料庫,產生row data\n2. 將row data 轉換成為需要的報表資料\n3. 產生報表\n\n## 規劃\n\n1. powershell 讀取檔案\n2. powershell 連接資料庫\n3. powershell 執行SQL\n4. powershell 作BulkInsert\n5. powershell 寫入檔案\n\n![PowerShell](/images/102216_095355_PM.jpg)\n\n### 簡記要點\n\n- ***powershell 可以直接取用 .Net Framework 或 COM 元件***\n- ***宣告變用要用`$`字號***\n- ***`#` 是註解***\n\n### 讀取檔案\n\n```powershell\n#用New-Object 建立.Net StreamrReader 物件\n$reader = New-Object System.io.streamreader(get-item $filePath)\n#使用`[]`建立靜態類別讀取檔案\n$file = [System.IO.File]::ReadAllLines($filePath)  \n#直接使用Get-Content讀取文檔\n$file = Get-Content  \"C:\\filepath\\file\"\n```\n\n### 連線資料庫與執行語法\n\n```powershell\n$connection = New-Object System.Data.SQLClient.SQLConnection\n$connection.ConnectionString = \"server='$server';database='$database';uid='$user'; pwd='$pwd';Integrated Security=False;\"\n$connection.Open()\n# do something\n$connection.Close()\n```\n\n### BulkInsert\n\n- 從檔案建立DataTable\n\n```powershell\n$table = New-Object System.Data.DataTable\n#建立欄位\n$col_title = New-Object system.Data.DataColumn \"Title\",([string])\n$table.Columns.Add($col_title);\n$col_content = New-Object system.Data.DataColumn \"Content\",([string])\n$table.Columns.Add($col_content);\n$col_author = New-Object system.Data.DataColumn \"Author\",([string])\n$table.Columns.Add($col_author);\n#建立資料\nforeach($file in $files){\n  $dr = $table.NewRow();\n  $dr[\"Title\"] = $file[\"title\"]\n  $dr[\"Content\"] = $file[\"content\"]\n  $dr[\"Author\"] = $file[\"author\"]\n}\n#寫入資料表\n$table.Rows.Add($dr);\n```\n\n- 透過BulkCopy將DataTable寫入資料庫\n\n```powershell\n$connection.Open()\n$bulkCopy = New-Object (“Data.SqlClient.SqlBulkCopy”) -ArgumentList $connection\n$bulkCopy.DestinationTableName = \"tablename\"\n$bulkCopy.WriteToServer($datatable)\n$connection.Close()\n```\n\n### 進度條\n\n```powershell\nWrite-Progress -Activity \"BulkInsert\" -Status \"載入百分比: 100 %\" -PercentComplete 100;\n```\n\n### 產生報表\n\n```powershell\n$datatable | export-csv C:\\Reports\\20161026.csv -Encoding UTF8\n```\n\n## 參考\n\n1. https://msdn.microsoft.com/en-us/powershell\n2. https://msdn.microsoft.com/en-us/powershell/scripting/getting-started/cookbooks/using-static-classes-and-methods\n3. https://cmatskas.com/execute-sql-query-with-powershell/\n4. https://blogs.technet.microsoft.com/heyscriptingguy/\n\n(fin)\n","slug":"2016/1st_time_with_powershell","published":1,"updated":"2019-08-25T19:39:20.580Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wj1000hb0vxk6tp2kpu","content":"<h2 id=\"需求\"><a href=\"#需求\" class=\"headerlink\" title=\"需求\"></a>需求</h2><ol>\n<li>將指定的Log記錄,匯入資料庫,產生row data</li>\n<li>將row data 轉換成為需要的報表資料</li>\n<li>產生報表</li>\n</ol>\n<h2 id=\"規劃\"><a href=\"#規劃\" class=\"headerlink\" title=\"規劃\"></a>規劃</h2><ol>\n<li>powershell 讀取檔案</li>\n<li>powershell 連接資料庫</li>\n<li>powershell 執行SQL</li>\n<li>powershell 作BulkInsert</li>\n<li>powershell 寫入檔案</li>\n</ol>\n<p><img src=\"/images/102216_095355_PM.jpg\" alt=\"PowerShell\"></p>\n<h3 id=\"簡記要點\"><a href=\"#簡記要點\" class=\"headerlink\" title=\"簡記要點\"></a>簡記要點</h3><ul>\n<li><strong><em>powershell 可以直接取用 .Net Framework 或 COM 元件</em></strong></li>\n<li><strong><em>宣告變用要用<code>$</code>字號</em></strong></li>\n<li><strong><em><code>#</code> 是註解</em></strong></li>\n</ul>\n<h3 id=\"讀取檔案\"><a href=\"#讀取檔案\" class=\"headerlink\" title=\"讀取檔案\"></a>讀取檔案</h3><figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#用New-Object 建立.Net StreamrReader 物件</span></span><br><span class=\"line\"><span class=\"variable\">$reader</span> = <span class=\"built_in\">New-Object</span> System.io.streamreader(<span class=\"built_in\">get-item</span> <span class=\"variable\">$filePath</span>)</span><br><span class=\"line\"><span class=\"comment\">#使用`[]`建立靜態類別讀取檔案</span></span><br><span class=\"line\"><span class=\"variable\">$file</span> = [System.IO.File]::ReadAllLines(<span class=\"variable\">$filePath</span>)  </span><br><span class=\"line\"><span class=\"comment\">#直接使用Get-Content讀取文檔</span></span><br><span class=\"line\"><span class=\"variable\">$file</span> = <span class=\"built_in\">Get-Content</span>  <span class=\"string\">\"C:\\filepath\\file\"</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"連線資料庫與執行語法\"><a href=\"#連線資料庫與執行語法\" class=\"headerlink\" title=\"連線資料庫與執行語法\"></a>連線資料庫與執行語法</h3><figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$connection</span> = <span class=\"built_in\">New-Object</span> System.Data.SQLClient.SQLConnection</span><br><span class=\"line\"><span class=\"variable\">$connection</span>.ConnectionString = <span class=\"string\">\"server='<span class=\"variable\">$server</span>';database='<span class=\"variable\">$database</span>';uid='<span class=\"variable\">$user</span>'; pwd='<span class=\"variable\">$pwd</span>';Integrated Security=False;\"</span></span><br><span class=\"line\"><span class=\"variable\">$connection</span>.Open()</span><br><span class=\"line\"><span class=\"comment\"># do something</span></span><br><span class=\"line\"><span class=\"variable\">$connection</span>.Close()</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"BulkInsert\"><a href=\"#BulkInsert\" class=\"headerlink\" title=\"BulkInsert\"></a>BulkInsert</h3><ul>\n<li>從檔案建立DataTable</li>\n</ul>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$table</span> = <span class=\"built_in\">New-Object</span> System.Data.DataTable</span><br><span class=\"line\"><span class=\"comment\">#建立欄位</span></span><br><span class=\"line\"><span class=\"variable\">$col_title</span> = <span class=\"built_in\">New-Object</span> system.Data.DataColumn <span class=\"string\">\"Title\"</span>,([string])</span><br><span class=\"line\"><span class=\"variable\">$table</span>.Columns.Add(<span class=\"variable\">$col_title</span>);</span><br><span class=\"line\"><span class=\"variable\">$col_content</span> = <span class=\"built_in\">New-Object</span> system.Data.DataColumn <span class=\"string\">\"Content\"</span>,([string])</span><br><span class=\"line\"><span class=\"variable\">$table</span>.Columns.Add(<span class=\"variable\">$col_content</span>);</span><br><span class=\"line\"><span class=\"variable\">$col_author</span> = <span class=\"built_in\">New-Object</span> system.Data.DataColumn <span class=\"string\">\"Author\"</span>,([string])</span><br><span class=\"line\"><span class=\"variable\">$table</span>.Columns.Add(<span class=\"variable\">$col_author</span>);</span><br><span class=\"line\"><span class=\"comment\">#建立資料</span></span><br><span class=\"line\"><span class=\"keyword\">foreach</span>(<span class=\"variable\">$file</span> <span class=\"keyword\">in</span> <span class=\"variable\">$files</span>)&#123;</span><br><span class=\"line\">  <span class=\"variable\">$dr</span> = <span class=\"variable\">$table</span>.NewRow();</span><br><span class=\"line\">  <span class=\"variable\">$dr</span>[<span class=\"string\">\"Title\"</span>] = <span class=\"variable\">$file</span>[<span class=\"string\">\"title\"</span>]</span><br><span class=\"line\">  <span class=\"variable\">$dr</span>[<span class=\"string\">\"Content\"</span>] = <span class=\"variable\">$file</span>[<span class=\"string\">\"content\"</span>]</span><br><span class=\"line\">  <span class=\"variable\">$dr</span>[<span class=\"string\">\"Author\"</span>] = <span class=\"variable\">$file</span>[<span class=\"string\">\"author\"</span>]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">#寫入資料表</span></span><br><span class=\"line\"><span class=\"variable\">$table</span>.Rows.Add(<span class=\"variable\">$dr</span>);</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>透過BulkCopy將DataTable寫入資料庫</li>\n</ul>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$connection</span>.Open()</span><br><span class=\"line\"><span class=\"variable\">$bulkCopy</span> = <span class=\"built_in\">New-Object</span> (“Data.SqlClient.SqlBulkCopy”) -ArgumentList <span class=\"variable\">$connection</span></span><br><span class=\"line\"><span class=\"variable\">$bulkCopy</span>.DestinationTableName = <span class=\"string\">\"tablename\"</span></span><br><span class=\"line\"><span class=\"variable\">$bulkCopy</span>.WriteToServer(<span class=\"variable\">$datatable</span>)</span><br><span class=\"line\"><span class=\"variable\">$connection</span>.Close()</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"進度條\"><a href=\"#進度條\" class=\"headerlink\" title=\"進度條\"></a>進度條</h3><figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Write-Progress</span> -Activity <span class=\"string\">\"BulkInsert\"</span> -Status <span class=\"string\">\"載入百分比: 100 %\"</span> -PercentComplete <span class=\"number\">100</span>;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"產生報表\"><a href=\"#產生報表\" class=\"headerlink\" title=\"產生報表\"></a>產生報表</h3><figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$datatable</span> | <span class=\"built_in\">export-csv</span> C:\\Reports\\<span class=\"number\">20161026</span>.csv -Encoding UTF8</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ol>\n<li><a href=\"https://msdn.microsoft.com/en-us/powershell\" target=\"_blank\" rel=\"noopener\">https://msdn.microsoft.com/en-us/powershell</a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/powershell/scripting/getting-started/cookbooks/using-static-classes-and-methods\" target=\"_blank\" rel=\"noopener\">https://msdn.microsoft.com/en-us/powershell/scripting/getting-started/cookbooks/using-static-classes-and-methods</a></li>\n<li><a href=\"https://cmatskas.com/execute-sql-query-with-powershell/\" target=\"_blank\" rel=\"noopener\">https://cmatskas.com/execute-sql-query-with-powershell/</a></li>\n<li><a href=\"https://blogs.technet.microsoft.com/heyscriptingguy/\" target=\"_blank\" rel=\"noopener\">https://blogs.technet.microsoft.com/heyscriptingguy/</a></li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"需求\"><a href=\"#需求\" class=\"headerlink\" title=\"需求\"></a>需求</h2><ol>\n<li>將指定的Log記錄,匯入資料庫,產生row data</li>\n<li>將row data 轉換成為需要的報表資料</li>\n<li>產生報表</li>\n</ol>\n<h2 id=\"規劃\"><a href=\"#規劃\" class=\"headerlink\" title=\"規劃\"></a>規劃</h2><ol>\n<li>powershell 讀取檔案</li>\n<li>powershell 連接資料庫</li>\n<li>powershell 執行SQL</li>\n<li>powershell 作BulkInsert</li>\n<li>powershell 寫入檔案</li>\n</ol>\n<p><img src=\"/images/102216_095355_PM.jpg\" alt=\"PowerShell\"></p>\n<h3 id=\"簡記要點\"><a href=\"#簡記要點\" class=\"headerlink\" title=\"簡記要點\"></a>簡記要點</h3><ul>\n<li><strong><em>powershell 可以直接取用 .Net Framework 或 COM 元件</em></strong></li>\n<li><strong><em>宣告變用要用<code>$</code>字號</em></strong></li>\n<li><strong><em><code>#</code> 是註解</em></strong></li>\n</ul>\n<h3 id=\"讀取檔案\"><a href=\"#讀取檔案\" class=\"headerlink\" title=\"讀取檔案\"></a>讀取檔案</h3><figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#用New-Object 建立.Net StreamrReader 物件</span></span><br><span class=\"line\"><span class=\"variable\">$reader</span> = <span class=\"built_in\">New-Object</span> System.io.streamreader(<span class=\"built_in\">get-item</span> <span class=\"variable\">$filePath</span>)</span><br><span class=\"line\"><span class=\"comment\">#使用`[]`建立靜態類別讀取檔案</span></span><br><span class=\"line\"><span class=\"variable\">$file</span> = [System.IO.File]::ReadAllLines(<span class=\"variable\">$filePath</span>)  </span><br><span class=\"line\"><span class=\"comment\">#直接使用Get-Content讀取文檔</span></span><br><span class=\"line\"><span class=\"variable\">$file</span> = <span class=\"built_in\">Get-Content</span>  <span class=\"string\">\"C:\\filepath\\file\"</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"連線資料庫與執行語法\"><a href=\"#連線資料庫與執行語法\" class=\"headerlink\" title=\"連線資料庫與執行語法\"></a>連線資料庫與執行語法</h3><figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$connection</span> = <span class=\"built_in\">New-Object</span> System.Data.SQLClient.SQLConnection</span><br><span class=\"line\"><span class=\"variable\">$connection</span>.ConnectionString = <span class=\"string\">\"server='<span class=\"variable\">$server</span>';database='<span class=\"variable\">$database</span>';uid='<span class=\"variable\">$user</span>'; pwd='<span class=\"variable\">$pwd</span>';Integrated Security=False;\"</span></span><br><span class=\"line\"><span class=\"variable\">$connection</span>.Open()</span><br><span class=\"line\"><span class=\"comment\"># do something</span></span><br><span class=\"line\"><span class=\"variable\">$connection</span>.Close()</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"BulkInsert\"><a href=\"#BulkInsert\" class=\"headerlink\" title=\"BulkInsert\"></a>BulkInsert</h3><ul>\n<li>從檔案建立DataTable</li>\n</ul>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$table</span> = <span class=\"built_in\">New-Object</span> System.Data.DataTable</span><br><span class=\"line\"><span class=\"comment\">#建立欄位</span></span><br><span class=\"line\"><span class=\"variable\">$col_title</span> = <span class=\"built_in\">New-Object</span> system.Data.DataColumn <span class=\"string\">\"Title\"</span>,([string])</span><br><span class=\"line\"><span class=\"variable\">$table</span>.Columns.Add(<span class=\"variable\">$col_title</span>);</span><br><span class=\"line\"><span class=\"variable\">$col_content</span> = <span class=\"built_in\">New-Object</span> system.Data.DataColumn <span class=\"string\">\"Content\"</span>,([string])</span><br><span class=\"line\"><span class=\"variable\">$table</span>.Columns.Add(<span class=\"variable\">$col_content</span>);</span><br><span class=\"line\"><span class=\"variable\">$col_author</span> = <span class=\"built_in\">New-Object</span> system.Data.DataColumn <span class=\"string\">\"Author\"</span>,([string])</span><br><span class=\"line\"><span class=\"variable\">$table</span>.Columns.Add(<span class=\"variable\">$col_author</span>);</span><br><span class=\"line\"><span class=\"comment\">#建立資料</span></span><br><span class=\"line\"><span class=\"keyword\">foreach</span>(<span class=\"variable\">$file</span> <span class=\"keyword\">in</span> <span class=\"variable\">$files</span>)&#123;</span><br><span class=\"line\">  <span class=\"variable\">$dr</span> = <span class=\"variable\">$table</span>.NewRow();</span><br><span class=\"line\">  <span class=\"variable\">$dr</span>[<span class=\"string\">\"Title\"</span>] = <span class=\"variable\">$file</span>[<span class=\"string\">\"title\"</span>]</span><br><span class=\"line\">  <span class=\"variable\">$dr</span>[<span class=\"string\">\"Content\"</span>] = <span class=\"variable\">$file</span>[<span class=\"string\">\"content\"</span>]</span><br><span class=\"line\">  <span class=\"variable\">$dr</span>[<span class=\"string\">\"Author\"</span>] = <span class=\"variable\">$file</span>[<span class=\"string\">\"author\"</span>]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">#寫入資料表</span></span><br><span class=\"line\"><span class=\"variable\">$table</span>.Rows.Add(<span class=\"variable\">$dr</span>);</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>透過BulkCopy將DataTable寫入資料庫</li>\n</ul>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$connection</span>.Open()</span><br><span class=\"line\"><span class=\"variable\">$bulkCopy</span> = <span class=\"built_in\">New-Object</span> (“Data.SqlClient.SqlBulkCopy”) -ArgumentList <span class=\"variable\">$connection</span></span><br><span class=\"line\"><span class=\"variable\">$bulkCopy</span>.DestinationTableName = <span class=\"string\">\"tablename\"</span></span><br><span class=\"line\"><span class=\"variable\">$bulkCopy</span>.WriteToServer(<span class=\"variable\">$datatable</span>)</span><br><span class=\"line\"><span class=\"variable\">$connection</span>.Close()</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"進度條\"><a href=\"#進度條\" class=\"headerlink\" title=\"進度條\"></a>進度條</h3><figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Write-Progress</span> -Activity <span class=\"string\">\"BulkInsert\"</span> -Status <span class=\"string\">\"載入百分比: 100 %\"</span> -PercentComplete <span class=\"number\">100</span>;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"產生報表\"><a href=\"#產生報表\" class=\"headerlink\" title=\"產生報表\"></a>產生報表</h3><figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$datatable</span> | <span class=\"built_in\">export-csv</span> C:\\Reports\\<span class=\"number\">20161026</span>.csv -Encoding UTF8</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ol>\n<li><a href=\"https://msdn.microsoft.com/en-us/powershell\" target=\"_blank\" rel=\"noopener\">https://msdn.microsoft.com/en-us/powershell</a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/powershell/scripting/getting-started/cookbooks/using-static-classes-and-methods\" target=\"_blank\" rel=\"noopener\">https://msdn.microsoft.com/en-us/powershell/scripting/getting-started/cookbooks/using-static-classes-and-methods</a></li>\n<li><a href=\"https://cmatskas.com/execute-sql-query-with-powershell/\" target=\"_blank\" rel=\"noopener\">https://cmatskas.com/execute-sql-query-with-powershell/</a></li>\n<li><a href=\"https://blogs.technet.microsoft.com/heyscriptingguy/\" target=\"_blank\" rel=\"noopener\">https://blogs.technet.microsoft.com/heyscriptingguy/</a></li>\n</ol>\n<p>(fin)</p>\n"},{"title":"[閱讀筆記]把時間當作朋友","date":"2016-12-04T17:54:34.000Z","_content":"\n\n\n## 零、困境\n\n*✖ 時間無法管理 能管理的只有你自已。*\n\n## 一、醒悟\n\n- *✖ 用思考控制思考*\n- *✖ 心智:就是心靈的智慧，用理性處理感性，控制情緒與慾望。*\n- *✖ 人會在相同的情況下作出完全相反的結論*\n  \n> ...歷史上也常常出現這種情況——其實目的都是“為了人類更好的明天”，可偏偏出現了對立的兩派人，\n他們為了原本一模一樣的理想爭執不休，甚至“拋頭顱”、“撒熱血”，犧牲幾代人的福祉。  \n>> 比如，所謂“水火不相容”的“社會主義陣營”和“資本主義陣營”。\n> 看穿這一切，擺脫自己的局限，需要心智的力量。\n  \n## 二、現實\n\n- 速成絕無可能\n- 交換才是硬道理\n- 完美永不存在\n- 未知永遠存在\n\n> 未知分為兩種：一種是永遠不能解決的，另一種是在可預見的未來也許能夠解決的。\n*✖ 吾生也有涯，而知也無涯。以有涯隨無涯，殆已！已而為知者，殆而已矣！…指窮於為薪，火傳也，不知其盡也。--莊子。養生主*\n*✖ 站在巨人的肩膀上*\n\n- 現狀無法馬上擺脫\n\n{% blockquote %}\n接受現狀才是最優策略——有什麼做什麼，有什麼用什麼；做什麼都做好，用什麼都用好。\n不要常常覺得苦（這會讓人忍不住顧影自憐，浪費精力與時間），而要想辦法在任何情況下找到情趣——\n——**快樂是一種本事**。\n{% endblockquote %}\n\n{% blockquote %}\n心懷“夢想”的時間越長，它的沉沒成本就越高。\n{% endblockquote %}\n\n*✖ 積沙成塔，滴水穿石，時間可以累積，也可以消耗。*\n\n- 與時間做朋友\n\n{% blockquote %}\n與時間做朋友的方法很簡單：用正確的方法做正確的事情。\n{% endblockquote %}\n\n{% blockquote %}\n儘管現實總是如此難於接受，堅強的你卻應該坦然。以上提到的種種現實，包括“速成絕無可能”、“只有付出才有收穫”、“完美永不存在”、“未知永遠存在”、“現狀無法馬上擺脫”，都既清楚又簡單，你必須要接受——不僅要接受，還要牢記；不僅要牢記，還要堅信，不容半點動搖。最好時常把自己的一些念頭記下來，然後與這幾條現實對照，看看它們是否與這些現實相符。\n{% endblockquote %}\n\n{% blockquote %}\n時間是現實的人的朋友，是不現實的人的敵人。時間不是故意要這樣做，只不過事實如此。\n{% endblockquote %}\n\n*✖ 正確的事，正確的做 ; 首先要學會判斷什麼是正確的事。*\n\n## 三、管理\n\n- 估算時間\n\n{% blockquote %}\n分辨任務的屬性——它是熟悉的還是陌生的呢?\n{% endblockquote %}\n\n{% blockquote %}\n對學習來說，任務“陌生”的可能性更大，因為學習本身是一個探索未知的過程。完成學習任務常常需要花費比我們想像中多得多的時間。對工作來說，任務“熟悉”的可能性更大。因為工作本身是一個應用已知的過程。\n{% endblockquote %}\n\n*✖ 軟體工作的這個行業，很有可能是大多數是未知的情況。*\n\n- 及時行動\n\n{% blockquote %}\n接受任務之後，什麼時候開始執行才好呢？比“越早開始越好”更切實的答案是“現在就開始”。\n{% endblockquote %}\n\n*✖ ASAP 不是一個好答案 NOW 才是。*\n\n*✖ 不求有功，但求無過是種慢性自殺，滴水穿石---會消磨掉你的累積。*\n\n- 直面困難\n\n> 效率低下的根本原因是什麼？答案是：迴避困難。\n> ……\n> ……這些問題都源自同一個習慣：專做簡單的，迴避困難的。\n\n- 關注步驟\n\n{% blockquote %}\n所謂“三思而行”在我看來就是指做任何事情之前都要考慮相關的3個方面：內容（What）、原因（Why）、方法（How）。任何任務都起碼具備3個屬性：何事（What）、何因（Why）、何法（How）。\n{% endblockquote %}\n\n{% blockquote %}\n不停地細分、拆解任務，而且越具體越好，直至每個小任務都可以由一個人獨立完成。\n{% endblockquote %}\n\n例子\n> 擴充詞彙量→托福詞彙→托福核心詞彙→21個單元→每個單元大約100 個單詞→一個單元分2次完成……\n> ▷ 先嘗試做一兩個階段，測量一下完成一個階段需要多長時間。\n▷ 按照測量的結果製作一個時間表，把其餘若干個階段所需要的時間填寫完整（最終總是需要做一些調整的）。\n▷ 背單詞需要重複，所以，每3個階段過後要留出與完成1個階段相等的時間去複習。這就意味著一共需要花費完成56（42+14）個階段的時間。\n▷ 每完成總任務的1/3，就增加與完成1個階段相等的再复習時間。這就意味著一共需要花費完成59（56+3）個階段的時間。\n▷ 學習過程中可能需要多次快速重複記憶，每次可能相當於完成3～5個階段所需要的時間。由於熟悉程度的不斷增加，每次重複記憶所需要的時間會越來越短，所以，預計進行3次重複記憶需要相當於10個階段的時間。這就意味著一共需要花費完成69（59+10）個階段的時間。\n>\n>完成每個階段的具體步驟。\n>\n>▷ 每天早晨騰出一點時間。\n▷ 把前一天背過的單詞朗讀至少2 遍。\n▷ 聽錄音，跟讀當天要背的單詞3～5遍，主要關注發音、拼寫，順帶看看詞義，能記多少就記多少，不求速成。\n▷ 上午利用閒暇時間通讀詞彙列表，並反复閱讀例句。\n▷ 下午用專門的時間把當天要背的單詞集中背2～3遍。可以一邊讀，一邊抄，一邊背，不要只是坐在那里呆呆地盯著詞彙看。\n▷ 空閒的時候反复聽當天要背的單詞，重複次數越多越好。\n▷ 晚上睡覺前複習當天背的單詞。\n\n- 並行串行\n\n*✖ 拆分細項，尋找並行的可能。*\n\n>華羅庚先生曾經用燒水泡茶為例說明過這個問題。\n>>燒水泡茶：參見《統籌方法平話及補充》，華羅庚著，中國工業出版社，1966。\n▷ 辦法甲：洗好水壺，灌上涼水，放在火上。在等待水開的時候洗茶壺、洗茶杯、拿茶葉。等到水開，泡茶喝。\n▷ 辦法乙：先做好一些準備工作，包括洗水壺、洗壺杯、拿茶葉。一切就緒，灌水、燒水，坐待水開了泡茶喝。\n▷ 辦法丙：洗淨開壺，灌上涼水，放在火上，坐待水開。水開了之後急急忙忙找茶葉、洗茶壺、茶杯，泡茶喝。\n\n*✖ 分別為聖的**時間片***\n\n>一個處理器在一個時間段內其實只能做一件事，因為它只有一個個體、一個時空。而多任務操作系統把一個長時間段劃分成很多短小的時間片，每個時間片只讓處理器執行一個進程（Process）——儘管同時可能有多個進程需要處理。在第一個時間片裡，操作系統讓處理器處理A進程；時間片的時間用完之後，無論A進程處理到什麼程度，都要被“掛起”（即，A進程這時不能再佔用處理器資源——儘管它還是被允許使用計算機的其他資源，如內存、磁盤、屏幕輸出等）；在第二個時間片裡，處理器處理的是B進程，時間用完之後，B進程將與A進程一樣被中途“掛起”；\n\n- 感知時間\n\n> 逃避責任就會帶來輕鬆，可那恰恰就是“生命中不能承受之輕”啊！\n\n*有的時候「逃避雖可恥但有用」，學會判斷什麼是可以逃避的事，什麼是不可逃避的事。*\n\n> 學著做每天的“事件日誌”（Event Log）。除了自己經歷的事件之外，\n> 一概不記，而且盡量不記感想，不記感受，只記錄事件本身。\n> ...\n> ...記錄過程要比基於結果的記錄更為詳盡\n\n例子\n>>烏里揚諾夫斯克。一九六四年四月七日。分類昆蟲學（畫兩張無名袋蛾的圖）——三小時十五分。鑑定袋蛾——二十分（1.0）。\n>>\n>>附加工作：給斯拉瓦寫信——二小時四十五分（0.5）。\n>>\n>>社會工作：植物保護小組開會——二小時二十五分。休息：給伊戈爾寫信——十分；\n>>《烏里揚諾夫斯克真理報》——十分；列夫·托爾斯泰的《塞瓦斯托波爾紀事》——一小時二十五分。\n>>\n>>基本工作合計——六小時二十分。\n\n*✖ 簡單的分類 + 事件 + 費時，最後再合計起來。*\n*(其於事實)條列式的記錄法，與時間調色盤(預定)的方法不太一樣。*\n*你可以預定你要作的事，可是你無法正確的估時 ; 這是事實，請面對這個事實。*\n*輔助上分別為聖的時間切片或許可以有所幫助*\n\n- 記錄開銷\n*練習中*\n\n- 制訂預算\n\n*✖ 先養成記錄的習慣，再養成制定預算的習慣*\n*✖ 只列事情，重要/不重要*\n\n{% blockquote %}\n每個人都喜歡做有趣的事情，做的時候往往並不關心這件事到底有沒有用。可是，有趣的事不見得有用啊！\n{% endblockquote %}\n\n{% blockquote %}\n養成任何一個哪怕很小的習慣都需要掙扎。然而，貌似痛苦的掙扎過程，在將來的某個時刻終將變得其樂無窮。\n{% endblockquote %}\n\n- 計劃\n\n{% blockquote %}\n計劃成功的前提：目標現實可行\n{% endblockquote %}\n\n{% blockquote %}\n我們不是計劃著失敗，而是失敗地計劃(People don't plan to fail, they fail to plan)。\n{% endblockquote %}\n*✖ 簡單的判斷目標是不是現實可行*\n\n{% blockquote %}\n>證明我的目標現實可行的方法比較簡單：\n>\n> 1. 已經有人做到了。\n> 2. 我與那個人沒有太大的差距。\n{% endblockquote %}\n\n{% blockquote %}\n> 長期計劃是需要通過實踐才能習得的能力\n{% endblockquote %}\n\n{% blockquote %}\n>沒有人能給我做職業規劃。...生活本身充滿了意外，並且，總是意外到無以復加的地步。\n{% endblockquote %}\n\n*✖ 先從記錄開始，持續一周，繼續保持記錄下試著開始分配時間。*\n*✖ 再試著從周計劃開始作規劃，練習並且保持。*\n\n{% blockquote %}\n>計劃固然重要，行動更為重要。\n{% endblockquote %}\n\n{% blockquote %}\n>任何事情，都可能經歷相同的過程：逐步熟悉，小心摸索，失敗、失敗、再失敗，\n>認真反思，捲土重來，直至成功。而最初，在我們對任務連基本的認知都沒有的時候，\n>制定出來的計劃十有八九隻不過是空談。\n{% endblockquote %}\n\n- 列表\n\n- 流程\n\n*✖ 預想各種可能的情境，不用一次到位，持續整合的重點在持續。*\n\n範例:\n\n>▷ 確定對方最可能方便接電話的時間（難以確定的時候先發短信詢問）。\n▷ 在撥打電話甚至發短信詢問對方是否方便之前準備好一切計劃溝通的內容，作好檢查列表放在手邊，確保溝通過程中不會遺漏要點。\n▷ 通話前把重要信息整理成電子文本，在通話中做必要的更新，通話結束後，馬上通過電子郵件將備忘發送給對方。\n▷ 若對方沒有接電話，則給對方發署名短信告知詳細事由， 並做好記錄，防止自己遺忘此次溝通任務。\n▷ ……\n\n- 預演\n\n> 準備不足，所以害怕。\n\n*✖ 類似一種沙箱測試，讓錯誤發生在測試階段。*\n\n- 驗收\n\n> 向自己提出一個問題並要想辦法回答清楚：“怎樣才算'做好'？\n\n```text\n本篇心得: 這是需要實際操作的一篇，仍在實踐中。\n首先是記錄自已的時間花在哪裡？\n再來是制定時間的預算，分別出神聖的時間去累積一些東西(ex:學習英文、跑步);\n當習慣養成，就不再困難了，而是生活的一部份。\n同時注意工作的流程，\n1. 問自已What Why How ?\n2. 儘可能拆解工作流程的步驟到最小化，建立列表。\n3. 常常發生的工作要設想各種情境,建立SOP,以縮短時間。\n4. 陌生的工作可以透過預演來試錯。\n5. 一定要驗收。\n6. 面對困難與失敗。\n7. 及時行動!\n8. 及時行動!!\n9. 及時行動!!!\n```\n\n## 四、學習\n\n### 基本途徑\n\n- 體驗\n- 觀察\n- 學習\n\n*✖ 自由是可以被剝奪的。*\n\n### 經驗局限\n\n{% blockquote %}\n> 日常生活中主要的“溝通障礙”本質上幾乎都是由於溝通雙方無法讓對方理解與他們的經驗相悖的知識或信息造成的。\n{% endblockquote %}\n\n{% blockquote %}\n> 長期的進化使人類到達了今天這個高度，但是每個人在出生的那一剎那，居然與其他動物站在幾乎同樣的起點上，心智要從零開始進化。\n{% endblockquote %}\n\n{% blockquote %}\n> > 優秀的領導，能夠把人們帶到他們想去的地方；而卓越的領導，能夠把人們帶到他們應該去但是沒想過要去的地方\n> > A leader takes people where they want to go. A great leader takes people where they don't necessarily want to go, but ought to be.\n{% endblockquote %}\n\n{% blockquote %}\n> 牢記在這世界上確實存在“與現有經驗相悖的知識”，再把這句話變成經驗，用它去類比未知，而後投入大量的時間和精力去學習和掌握“科學方法論”，掙扎著進化成為真正意義上的“人”。\n{% endblockquote %}\n\n### 自學能力\n\n- 閱讀理解能力 ->檢索能力 -> 寫作能力 -> 實踐能力\n- 永遠保持開放的心態\n\n> 最好固定一段時間來把那些目前暫時無法理解的、支持的、反對的、無所謂的論點和觀點記錄下來。對無法理解的，寫下自己當時的疑惑何在；對支持的，記錄幾個理由或者實例；對反對的，同樣記錄幾個理由或者實例；甚至對那些無所謂的，也記錄其原因。一個有著這樣良好記錄習慣的人會獲得他人無法擁有的處理信息和知識的能力——“反芻”。這種“反芻”能力是我們避免成為“選擇性輸入”受害者的重要保障。\n> 在學習的時候，進展和時間的關係肯定不是線性的：所謂“一分耕耘，一分收穫”。這個關係曲線更可能是階梯狀的：學習過程中有很長時間一點進展都沒有，但從某一刻開始突飛猛進，而後又是長長的一段所謂的“平台期”。...只有經歷積累的過程，“量變到質變”的效果才會出現，才有可能突飛猛進。\n\n## 五、思考\n\n- [勤於思考](#c51)\n- [思維陷阱](#c52)\n- [因果關係](#c53)\n- [逆命題](#c54)\n- [舉證責任](#c55)\n- [案例局限](#c56)\n- [對立論證](#c57)\n- [張冠李戴](#c58)\n- [感悟與道理](#c59)\n- [克服恐懼](#c510)\n- [輔助工具](#c511)\n\n### <span id='c51'>勤於思考</span>\n\n> 人都有大腦，閒置還是使用，是個問題。\n\n1. 獨立思考\n2. 思考任務的目標、實質、意義\n\n>很多人就是這樣，堅持拒絕思考，然後用天下最累的方式生活而不自知。大哲學家羅素曾觀察到這個現象，他為之奇怪並慨嘆，“ 很多人寧願死也不願思考 ”，然後戲謔道，“ 實際上，他們確實死得很快。”\n>>Most people would die sooner than think — in fact they do so.\n— Bertrand Russell，In The ABC of Relativity，1925，P.166\n\n### <span id='c52'>思維陷阱</span>\n\n#### 概念不清和拒絕接受不確定性\n\n1. 概念不清\n\n{% blockquote %}\n> 學習任何知識最重要的一點，就是搞清楚它所有的基礎概念。\n{% endblockquote %}\n\n{% blockquote %}\n> 讀教科書，要先把所有概念都記下來，暫時不懂的就死記硬背。把概念牢記於心，就可以通過以後的學習和實踐反複審視它，並形成透徹理解。\n{% endblockquote %}\n\n{% blockquote %}\n> 本書強調“時間不可管理”、“我們只能管理自己”，並非咬文嚼字。“時間管理”和“自我管理”是完全不同的概念——焦點不同，方法不同，效果不同\n{% endblockquote %}\n\n2. 拒絕接受不確定性\n\n> 未知永遠存在。從本質上來看，不確定性和未知是一回事。\n\n### <span id='c53'>因果關係</span>\n\n#### 基礎\n\n>外因會影響內因，內因同樣會影響外因。它們相互影響，互為因果。\n>\n> 舉一個特別好玩的現象為例：在某種意義上，學生的水平決定教師的水平。\n>\n>這話並沒有說反。師生之間的有效溝通，肯定不僅是教師單方面的灌輸。越是用心的教師，越關注學生的反饋；越是用心的學生，越關注教師對他的反饋的反饋。顯然，這種溝通不僅是雙向的，還隨著雙方的用心程度而不斷增強。\n>\n>這和下棋是一樣的道理。據說，棋藝到了一定程度，棋手就會不由自主地挑選對手，因為跟高手下棋就會進步，但反過來，與“臭手”交手多了，自己的手也會變“臭”……優質的學生，對他們的教師來說，不僅是令人愉悅的教學對象（學生一點就透，老師沒有不開心的），更重要的，他們還是對教師的挑戰——這些學生有著長期而且優秀的學習經驗，也因此擁有相對良好的判斷能力，隨時可能提出一般教師無法回答的問題。經過一段時間的積累，雙方都會因為教學和溝通發生巨大的進步——只要雙方都足夠優秀，足夠用心。\n\n{% blockquote %}\n正在塑造我們的這個環境，也是我們自己（參與）塑造的\n{% endblockquote %}\n\n>#### 要做一個用心的人，要用心做事，因為這世界其實也是有“心”的\n\n#### 雙盲測試\n\n*註: 受測者不知道安慰劑的存在，測試者則不知道誰服用了安慰劑，單純以局外人的角度觀測記錄。*\n\n> 人群中也有差不多⅓的人更易受到（來自他人或來自自身的）心理暗示的影響。也就是說，他們更可能在服用安慰劑後病情真正好轉。\n\n#### 自證預言\n\n>莫頓教授用銀行擠兌的例子說明了自證預言的作用機理：\n>>一家銀行本來運作得很正常，但不知什麼原因，出現了“這家銀行要倒閉”的流言。流言越傳越廣，導致越來越多的人信以為真，有人為防意外而跑到銀行把自己的存款提走。恐慌情緒蔓延，並且變得愈加真實，更多的人衝進銀行提走自己的存款……最終，擠兌發生了，銀行真的倒閉了。\n\n\n>一個原本並不存在的原因竟然“無中生有”變成了真正的原因。\n\n#### 心中恐惧失敗，才是失敗的原因。\n\n### <span id='c54'>逆命題</span>\n\n>**原命題為真，它的逆命題不一定為真。**\n>P 則 Q 等於 ~Q 則 ~P\n>但是不一定存在 Q 則 P 的關係\n\n>有70%以上的人分不清楚原命題和逆命題之間的區別。\n>\n>>參見《認知心理學》（Cognitive Psychology: A Student's Handbook，2000），邁克爾·艾森克（Michael W. Eysenck）、馬克·基恩（Mark T. Keane）合著。\n\n*✖ 心得: 人很好騙，至少70%很好騙。*\n\n### <span id='c55'>舉證責任</span> \n\n> \"舉證責任\"是不對等的\n> 爭論雙方的境況常常處於這種狀態：\n▷其中一方肩負沉重的舉證責任（burden of proof）\n▷另外一方則享有來自假設的恩惠（benefit of assumption）\n\n{% blockquote %}\n既然你無法證明我是錯的，那麼我就是對的。這是一種典型的邏輯錯誤\n{% endblockquote %}\n\n*✖ 套用一下邏輯學:*\n*我是對的 則 你無法証明我是錯的，恒為真。*\n*你無法証明我是錯的 則 我是錯的，恒為真。*\n*你無法證明我是錯的 則 我是對的，不恒為真*\n\n### <span id='c56'>案例局限</span> \n\n\n>最為常見的邏輯錯誤就是“以偏概全”——某種經驗在某個人身上應驗了，並不意味著該經驗在所有人身上都會起作用。\n\n*✖ 常見的推銷話術，我作得到，你也作得到。努力就會成功。*\n*這類的話術可怕的地方在於它不完全是錯的，但是你必需客觀衡量各種條件，而非局限單一案例。*\n\n### <span id='c57'>對立論證</span> \n\n{% blockquote %}\n>人們可能基於一模一樣的原因做出截然相反的決定。換句話說，用同樣的論據證明截然相反的論點。\n{% endblockquote %}\n\n{% blockquote %}\n>抱怨上司“愚蠢”的人和能夠發覺“上司的愚蠢可能有另外的解釋”的人，得到的結論和採取的行動往往截然相反。**因此，時間在他們接下來的經歷中所產生的伴隨作用也截然相反。這裡，時間再一次選擇與心智強大的人做朋友**\n{% endblockquote %}\n\n{% blockquote %}\n>一旦意識到對立論證的存在，應該**“哪一個更合理、更現實就接受哪一個”**，而非“哪一個更積極就接受哪一個”，因為後者只是自我欺騙而已。積極的並不總是好的，哪一個極端理想主義者（以及他們的想法、理念）不是積極的呢？\n{% endblockquote %}\n\n*✖ 職場上不論是留下繼續努力，或是掛冠求去都無對錯之分，而是何者更為合理。這個道理在人生的選擇上也是，需要注意對立論證的存在，堅持或放棄本無對錯，合理的判斷即可。*\n\n### <span id='c58'>張冠李戴</span>\n\n{% blockquote %}\n>論點和論據之間儘管全無邏輯聯繫，卻可以用一種“顯然合理”的姿態綁在一起。\n{% endblockquote %}\n\n舉例:\n\n>將字母A到Z分別編上1到26的分數（A=1,B=2,…,Z=26），然後比較不同單詞的分值：\n▷Knowledge（知識）得到96分\n（11+14+15+23+12+5+4+7+5=96）；\n▷Hardwork（努力）也只得到98分\n（8+1+18+4+23+15+18+11=98）；\n▷Attitude（態度）才能左右你生命的全部，\n因為它能得到100分\n（1+20+20+9+20+21+4+5=100）——滿分。\n得出結論：“態度改變一切”。\nBullshit（胡說八道）\n(2+21+12+12+19+8+9+20=103)\n\n\n### <span id='c59'>感悟與道理</span>\n\n{% blockquote %}\n“道理”應該是普適的，而“感悟”只來自個體經驗。\n{% endblockquote %}\n\n{% blockquote %}\n並非只有專家級別的新聞工作者才要分清“看法與事實之間的區別”，其實每個人都需要清楚地認識“道理”和“感悟”之間的巨大差異。\n{% endblockquote %}\n\n{% blockquote %}\n如果某個人把他們說的當作全部，把他們沒說的當作沒有，那麼這個人的智商就跟寓言中那個掩耳盜鈴的傢伙屬於同一個水平了。\n{% endblockquote %}\n\n{% blockquote %}\n人類普遍擁有的一個認知偏差就是：把成功攬到自己身上，把失敗歸咎於別人或者壞運氣。（這在心理學上有個術語，叫做“自利性偏差(Self-servingBias)”。）從這裡我們就可以知道，那些“成功者”這麼做的時候，往往並不是有意欺騙——他們甚至出於好意。\n{% endblockquote %}\n\n{% blockquote %}\n一個很實用的建議：與其關注成功者，不妨反其道而行之——努力從失敗者身上汲取經驗。\n{% endblockquote %}\n\n\n*✖ 困難的點在於，感悟難以作\"雙盲測試\"，也深受\"案例局限\"與\"安慰劑效應\"影響*\n\n### <span id='c510'>克服恐懼</span>\n\n{% blockquote %}\n“道理都明白，可就做不到”\n{% endblockquote %}\n\n### <span id='c511'>輔助工具</span>\n#### 語言\n\n{% blockquote %}\n以下一些句式最好經常使用，因為它們特別有助於獨立思考習慣的養成，並且也有刺激思考的作用：\n▷……是一回事，而……是另外一回事。\n▷……和……其實根本不是一回事。\n▷……不一定……\n▷……。可是，這並不意味著……\n▷……也許還有另外一種可能性（解釋）。\n▷……看起來像……，可是……\n▷……。而事實卻可能遠比看起來的更為複雜（簡單）。\n▷……。然而，（這個論斷）反過來（陳述）卻不一定成立……\n▷……其實很可能與……根本就沒有任何關係。\n▷……和……之間不一定是單純的因果關係，它們也可能互為因果。\n▷……和……之間的比較也許沒有任何意義。\n▷……其實不過是表面現象，其背後的本質是……\n▷……有一個通常被忽略的前提。\n▷……儘管聽起來很有道理，然而卻完全不現實。\n▷……也許有人會說……，但是這種質疑卻……\n{% endblockquote %}\n\n{% blockquote %}\n要刻意迴避的句子\n▷……難道就沒有一點可取之處嗎？\n▷……要是……就好了！\n{% endblockquote %}\n\n\n## 六、交流\n###  學會傾聽\n\n{% blockquote %}\n為了真正做到有效傾聽，最需要克制的就是“過早質疑”。\n{% endblockquote %}\n\n{% blockquote %}\n就算需要質疑，也一定要等到對方把話說完。\n{% endblockquote %}\n\n### 說與不說\n\n{% blockquote %}\n“知無不言，言無不盡”在大部分情況下是最浪費時間和精力的做法。\n{% endblockquote %}\n\n{% blockquote %}\n...在分辨談話對象之前很可能要先分辨自己，所以，\n“可與言而不與言，失人。不可與言而與之言，失言。”這是說要分辨談話的對象。\n{% endblockquote %}\n\n### 共生狀態\n\n>見瓦茨拉夫·哈維爾先生製定的《對話守則》：\n1.對話的目的是尋求真理，不是為了鬥爭。\n2.不做人身攻擊。\n3.保持主題。\n4.辯論時要用證據。\n5.不要堅持錯誤不改。\n6.要分清對話與只准自己講話的區別。\n7.對話要有記錄。\n8.盡量理解對方。\n\n{% blockquote %}\n雙方想要進行有意義的討論，最基本的要求就是雙方必須共同遵守“理性討論基本原則”。\n{% endblockquote %}\n\n{% blockquote %}\n跨越“自以為是”\n{% endblockquote %}\n\n*✖ 「緣督以為經；因其故然」--- 莊子。養生主 ; 學習應順其自然，不然會把自已累死。「知知為知知，不知為不知，是知也」---論語* \n\n{% blockquote %}\n第一個原則：有意義的討論是競合\n第二個原則：真理是獨立存在的\n第三個原則：真理不變\n{% endblockquote %}\n\n### 正確複述\n\n> 為了保證溝通順利，往往需要添加一個驗證機制，或者說反饋機制。\n\n### 勤於反思\n- 深刻了解經驗的局限\n- 時時刻刻保持警惕 \n\n> 手裡只有一把錘子，看什麼問題都像釘子\t\n\n- 用記錄，使自己能夠記住更多的經驗 \n- 通過觀察和閱讀汲取他人的經驗\n- 經常試用類比來跨越未知與已知的障礙 \n- 耐心等待以獲得不能跨越時間的經驗  \n\n\n\n## 七、應用\n### 興趣\n\n>說來說去，是順序出了問題：往往並不是有興趣才能做好，而是做好了才有興趣。人們總是搞錯順序，並對這樣的錯誤毫不知曉。雖然並非絕對，但完成大多數事情，確實都需要熟能生巧。做得多了，自然就能擅長；擅長了，自然就做得比別人好；做得比別人好了，興趣就濃起來了，而後就更喜歡做、更擅長……進入良性循環。可同樣的，做得多，就需要大量的時間投入，所謂“沒興趣”，往往不過是結果，如果將它當作“不去做好”的理由，最終的懲罰就是大量時間白白流逝。\n\n### 方法\n\n>所有學習上的成功，都只依靠兩件事——策略和堅持，而堅持本身就是最重要的策略。堅持，其實就是重複；而重複，說到底就是時間的投入，準確地說，是大量時間的投入。\n\n*✖ 你沒有實際作之前，不會知道效果如何，再在找更好的方法之前，最好的策略是堅持*\n\n### 痛苦 -比較 - 運氣\n\n### 人脈\n{% blockquote %}\n> 當我們把時間花到一個人身上的時候，相當於在他身上傾注了自己生命的一段。\n{% endblockquote %}\n\n{% blockquote %}\n> ▷專心做可以提升自己的事情，學習並擁有更多、更好的技能，成為一個值得他人交往的人。\n▷學會獨善其身，以不給他人製造麻煩為美德，用自己的獨立贏得尊重。\n{% endblockquote %}\n\n*✖ 人必自重而後人重之---你值得人家交往，人家就會來跟你交往。*\n\n### 自卑\n\n*✖  保持謙卑，認識真正的自已。*\n\n### 靈感\n\n*✖ 靈感來自於累積，筆記是一個好工具*\n\n### 鼓勵\n\n### 效率\n\n### 節奏\n\n### 物極必反\n\n>- 絕對不要盲目地試圖減少睡眠時間\n- 盡量不要減少與家庭成員交流的時間\n- 最好不要放棄你的社交時間\n\n### 自我證明\n\n\n## 參考\n\n- [電子書](http://zhibimo.com/read/xiaolai/ba-shi-jian-dang-zuo-peng-you/index.html)\n- [奇特的一生](http://www.books.com.tw/products/CN11349756)\n","source":"_posts/2016/be_friend_with_time.md","raw":"---\ntitle: \"[閱讀筆記]把時間當作朋友\"\ndate: 2016/12/05 01:54:34\ntag:\n  - 閱讀筆記\n---\n\n\n\n## 零、困境\n\n*✖ 時間無法管理 能管理的只有你自已。*\n\n## 一、醒悟\n\n- *✖ 用思考控制思考*\n- *✖ 心智:就是心靈的智慧，用理性處理感性，控制情緒與慾望。*\n- *✖ 人會在相同的情況下作出完全相反的結論*\n  \n> ...歷史上也常常出現這種情況——其實目的都是“為了人類更好的明天”，可偏偏出現了對立的兩派人，\n他們為了原本一模一樣的理想爭執不休，甚至“拋頭顱”、“撒熱血”，犧牲幾代人的福祉。  \n>> 比如，所謂“水火不相容”的“社會主義陣營”和“資本主義陣營”。\n> 看穿這一切，擺脫自己的局限，需要心智的力量。\n  \n## 二、現實\n\n- 速成絕無可能\n- 交換才是硬道理\n- 完美永不存在\n- 未知永遠存在\n\n> 未知分為兩種：一種是永遠不能解決的，另一種是在可預見的未來也許能夠解決的。\n*✖ 吾生也有涯，而知也無涯。以有涯隨無涯，殆已！已而為知者，殆而已矣！…指窮於為薪，火傳也，不知其盡也。--莊子。養生主*\n*✖ 站在巨人的肩膀上*\n\n- 現狀無法馬上擺脫\n\n{% blockquote %}\n接受現狀才是最優策略——有什麼做什麼，有什麼用什麼；做什麼都做好，用什麼都用好。\n不要常常覺得苦（這會讓人忍不住顧影自憐，浪費精力與時間），而要想辦法在任何情況下找到情趣——\n——**快樂是一種本事**。\n{% endblockquote %}\n\n{% blockquote %}\n心懷“夢想”的時間越長，它的沉沒成本就越高。\n{% endblockquote %}\n\n*✖ 積沙成塔，滴水穿石，時間可以累積，也可以消耗。*\n\n- 與時間做朋友\n\n{% blockquote %}\n與時間做朋友的方法很簡單：用正確的方法做正確的事情。\n{% endblockquote %}\n\n{% blockquote %}\n儘管現實總是如此難於接受，堅強的你卻應該坦然。以上提到的種種現實，包括“速成絕無可能”、“只有付出才有收穫”、“完美永不存在”、“未知永遠存在”、“現狀無法馬上擺脫”，都既清楚又簡單，你必須要接受——不僅要接受，還要牢記；不僅要牢記，還要堅信，不容半點動搖。最好時常把自己的一些念頭記下來，然後與這幾條現實對照，看看它們是否與這些現實相符。\n{% endblockquote %}\n\n{% blockquote %}\n時間是現實的人的朋友，是不現實的人的敵人。時間不是故意要這樣做，只不過事實如此。\n{% endblockquote %}\n\n*✖ 正確的事，正確的做 ; 首先要學會判斷什麼是正確的事。*\n\n## 三、管理\n\n- 估算時間\n\n{% blockquote %}\n分辨任務的屬性——它是熟悉的還是陌生的呢?\n{% endblockquote %}\n\n{% blockquote %}\n對學習來說，任務“陌生”的可能性更大，因為學習本身是一個探索未知的過程。完成學習任務常常需要花費比我們想像中多得多的時間。對工作來說，任務“熟悉”的可能性更大。因為工作本身是一個應用已知的過程。\n{% endblockquote %}\n\n*✖ 軟體工作的這個行業，很有可能是大多數是未知的情況。*\n\n- 及時行動\n\n{% blockquote %}\n接受任務之後，什麼時候開始執行才好呢？比“越早開始越好”更切實的答案是“現在就開始”。\n{% endblockquote %}\n\n*✖ ASAP 不是一個好答案 NOW 才是。*\n\n*✖ 不求有功，但求無過是種慢性自殺，滴水穿石---會消磨掉你的累積。*\n\n- 直面困難\n\n> 效率低下的根本原因是什麼？答案是：迴避困難。\n> ……\n> ……這些問題都源自同一個習慣：專做簡單的，迴避困難的。\n\n- 關注步驟\n\n{% blockquote %}\n所謂“三思而行”在我看來就是指做任何事情之前都要考慮相關的3個方面：內容（What）、原因（Why）、方法（How）。任何任務都起碼具備3個屬性：何事（What）、何因（Why）、何法（How）。\n{% endblockquote %}\n\n{% blockquote %}\n不停地細分、拆解任務，而且越具體越好，直至每個小任務都可以由一個人獨立完成。\n{% endblockquote %}\n\n例子\n> 擴充詞彙量→托福詞彙→托福核心詞彙→21個單元→每個單元大約100 個單詞→一個單元分2次完成……\n> ▷ 先嘗試做一兩個階段，測量一下完成一個階段需要多長時間。\n▷ 按照測量的結果製作一個時間表，把其餘若干個階段所需要的時間填寫完整（最終總是需要做一些調整的）。\n▷ 背單詞需要重複，所以，每3個階段過後要留出與完成1個階段相等的時間去複習。這就意味著一共需要花費完成56（42+14）個階段的時間。\n▷ 每完成總任務的1/3，就增加與完成1個階段相等的再复習時間。這就意味著一共需要花費完成59（56+3）個階段的時間。\n▷ 學習過程中可能需要多次快速重複記憶，每次可能相當於完成3～5個階段所需要的時間。由於熟悉程度的不斷增加，每次重複記憶所需要的時間會越來越短，所以，預計進行3次重複記憶需要相當於10個階段的時間。這就意味著一共需要花費完成69（59+10）個階段的時間。\n>\n>完成每個階段的具體步驟。\n>\n>▷ 每天早晨騰出一點時間。\n▷ 把前一天背過的單詞朗讀至少2 遍。\n▷ 聽錄音，跟讀當天要背的單詞3～5遍，主要關注發音、拼寫，順帶看看詞義，能記多少就記多少，不求速成。\n▷ 上午利用閒暇時間通讀詞彙列表，並反复閱讀例句。\n▷ 下午用專門的時間把當天要背的單詞集中背2～3遍。可以一邊讀，一邊抄，一邊背，不要只是坐在那里呆呆地盯著詞彙看。\n▷ 空閒的時候反复聽當天要背的單詞，重複次數越多越好。\n▷ 晚上睡覺前複習當天背的單詞。\n\n- 並行串行\n\n*✖ 拆分細項，尋找並行的可能。*\n\n>華羅庚先生曾經用燒水泡茶為例說明過這個問題。\n>>燒水泡茶：參見《統籌方法平話及補充》，華羅庚著，中國工業出版社，1966。\n▷ 辦法甲：洗好水壺，灌上涼水，放在火上。在等待水開的時候洗茶壺、洗茶杯、拿茶葉。等到水開，泡茶喝。\n▷ 辦法乙：先做好一些準備工作，包括洗水壺、洗壺杯、拿茶葉。一切就緒，灌水、燒水，坐待水開了泡茶喝。\n▷ 辦法丙：洗淨開壺，灌上涼水，放在火上，坐待水開。水開了之後急急忙忙找茶葉、洗茶壺、茶杯，泡茶喝。\n\n*✖ 分別為聖的**時間片***\n\n>一個處理器在一個時間段內其實只能做一件事，因為它只有一個個體、一個時空。而多任務操作系統把一個長時間段劃分成很多短小的時間片，每個時間片只讓處理器執行一個進程（Process）——儘管同時可能有多個進程需要處理。在第一個時間片裡，操作系統讓處理器處理A進程；時間片的時間用完之後，無論A進程處理到什麼程度，都要被“掛起”（即，A進程這時不能再佔用處理器資源——儘管它還是被允許使用計算機的其他資源，如內存、磁盤、屏幕輸出等）；在第二個時間片裡，處理器處理的是B進程，時間用完之後，B進程將與A進程一樣被中途“掛起”；\n\n- 感知時間\n\n> 逃避責任就會帶來輕鬆，可那恰恰就是“生命中不能承受之輕”啊！\n\n*有的時候「逃避雖可恥但有用」，學會判斷什麼是可以逃避的事，什麼是不可逃避的事。*\n\n> 學著做每天的“事件日誌”（Event Log）。除了自己經歷的事件之外，\n> 一概不記，而且盡量不記感想，不記感受，只記錄事件本身。\n> ...\n> ...記錄過程要比基於結果的記錄更為詳盡\n\n例子\n>>烏里揚諾夫斯克。一九六四年四月七日。分類昆蟲學（畫兩張無名袋蛾的圖）——三小時十五分。鑑定袋蛾——二十分（1.0）。\n>>\n>>附加工作：給斯拉瓦寫信——二小時四十五分（0.5）。\n>>\n>>社會工作：植物保護小組開會——二小時二十五分。休息：給伊戈爾寫信——十分；\n>>《烏里揚諾夫斯克真理報》——十分；列夫·托爾斯泰的《塞瓦斯托波爾紀事》——一小時二十五分。\n>>\n>>基本工作合計——六小時二十分。\n\n*✖ 簡單的分類 + 事件 + 費時，最後再合計起來。*\n*(其於事實)條列式的記錄法，與時間調色盤(預定)的方法不太一樣。*\n*你可以預定你要作的事，可是你無法正確的估時 ; 這是事實，請面對這個事實。*\n*輔助上分別為聖的時間切片或許可以有所幫助*\n\n- 記錄開銷\n*練習中*\n\n- 制訂預算\n\n*✖ 先養成記錄的習慣，再養成制定預算的習慣*\n*✖ 只列事情，重要/不重要*\n\n{% blockquote %}\n每個人都喜歡做有趣的事情，做的時候往往並不關心這件事到底有沒有用。可是，有趣的事不見得有用啊！\n{% endblockquote %}\n\n{% blockquote %}\n養成任何一個哪怕很小的習慣都需要掙扎。然而，貌似痛苦的掙扎過程，在將來的某個時刻終將變得其樂無窮。\n{% endblockquote %}\n\n- 計劃\n\n{% blockquote %}\n計劃成功的前提：目標現實可行\n{% endblockquote %}\n\n{% blockquote %}\n我們不是計劃著失敗，而是失敗地計劃(People don't plan to fail, they fail to plan)。\n{% endblockquote %}\n*✖ 簡單的判斷目標是不是現實可行*\n\n{% blockquote %}\n>證明我的目標現實可行的方法比較簡單：\n>\n> 1. 已經有人做到了。\n> 2. 我與那個人沒有太大的差距。\n{% endblockquote %}\n\n{% blockquote %}\n> 長期計劃是需要通過實踐才能習得的能力\n{% endblockquote %}\n\n{% blockquote %}\n>沒有人能給我做職業規劃。...生活本身充滿了意外，並且，總是意外到無以復加的地步。\n{% endblockquote %}\n\n*✖ 先從記錄開始，持續一周，繼續保持記錄下試著開始分配時間。*\n*✖ 再試著從周計劃開始作規劃，練習並且保持。*\n\n{% blockquote %}\n>計劃固然重要，行動更為重要。\n{% endblockquote %}\n\n{% blockquote %}\n>任何事情，都可能經歷相同的過程：逐步熟悉，小心摸索，失敗、失敗、再失敗，\n>認真反思，捲土重來，直至成功。而最初，在我們對任務連基本的認知都沒有的時候，\n>制定出來的計劃十有八九隻不過是空談。\n{% endblockquote %}\n\n- 列表\n\n- 流程\n\n*✖ 預想各種可能的情境，不用一次到位，持續整合的重點在持續。*\n\n範例:\n\n>▷ 確定對方最可能方便接電話的時間（難以確定的時候先發短信詢問）。\n▷ 在撥打電話甚至發短信詢問對方是否方便之前準備好一切計劃溝通的內容，作好檢查列表放在手邊，確保溝通過程中不會遺漏要點。\n▷ 通話前把重要信息整理成電子文本，在通話中做必要的更新，通話結束後，馬上通過電子郵件將備忘發送給對方。\n▷ 若對方沒有接電話，則給對方發署名短信告知詳細事由， 並做好記錄，防止自己遺忘此次溝通任務。\n▷ ……\n\n- 預演\n\n> 準備不足，所以害怕。\n\n*✖ 類似一種沙箱測試，讓錯誤發生在測試階段。*\n\n- 驗收\n\n> 向自己提出一個問題並要想辦法回答清楚：“怎樣才算'做好'？\n\n```text\n本篇心得: 這是需要實際操作的一篇，仍在實踐中。\n首先是記錄自已的時間花在哪裡？\n再來是制定時間的預算，分別出神聖的時間去累積一些東西(ex:學習英文、跑步);\n當習慣養成，就不再困難了，而是生活的一部份。\n同時注意工作的流程，\n1. 問自已What Why How ?\n2. 儘可能拆解工作流程的步驟到最小化，建立列表。\n3. 常常發生的工作要設想各種情境,建立SOP,以縮短時間。\n4. 陌生的工作可以透過預演來試錯。\n5. 一定要驗收。\n6. 面對困難與失敗。\n7. 及時行動!\n8. 及時行動!!\n9. 及時行動!!!\n```\n\n## 四、學習\n\n### 基本途徑\n\n- 體驗\n- 觀察\n- 學習\n\n*✖ 自由是可以被剝奪的。*\n\n### 經驗局限\n\n{% blockquote %}\n> 日常生活中主要的“溝通障礙”本質上幾乎都是由於溝通雙方無法讓對方理解與他們的經驗相悖的知識或信息造成的。\n{% endblockquote %}\n\n{% blockquote %}\n> 長期的進化使人類到達了今天這個高度，但是每個人在出生的那一剎那，居然與其他動物站在幾乎同樣的起點上，心智要從零開始進化。\n{% endblockquote %}\n\n{% blockquote %}\n> > 優秀的領導，能夠把人們帶到他們想去的地方；而卓越的領導，能夠把人們帶到他們應該去但是沒想過要去的地方\n> > A leader takes people where they want to go. A great leader takes people where they don't necessarily want to go, but ought to be.\n{% endblockquote %}\n\n{% blockquote %}\n> 牢記在這世界上確實存在“與現有經驗相悖的知識”，再把這句話變成經驗，用它去類比未知，而後投入大量的時間和精力去學習和掌握“科學方法論”，掙扎著進化成為真正意義上的“人”。\n{% endblockquote %}\n\n### 自學能力\n\n- 閱讀理解能力 ->檢索能力 -> 寫作能力 -> 實踐能力\n- 永遠保持開放的心態\n\n> 最好固定一段時間來把那些目前暫時無法理解的、支持的、反對的、無所謂的論點和觀點記錄下來。對無法理解的，寫下自己當時的疑惑何在；對支持的，記錄幾個理由或者實例；對反對的，同樣記錄幾個理由或者實例；甚至對那些無所謂的，也記錄其原因。一個有著這樣良好記錄習慣的人會獲得他人無法擁有的處理信息和知識的能力——“反芻”。這種“反芻”能力是我們避免成為“選擇性輸入”受害者的重要保障。\n> 在學習的時候，進展和時間的關係肯定不是線性的：所謂“一分耕耘，一分收穫”。這個關係曲線更可能是階梯狀的：學習過程中有很長時間一點進展都沒有，但從某一刻開始突飛猛進，而後又是長長的一段所謂的“平台期”。...只有經歷積累的過程，“量變到質變”的效果才會出現，才有可能突飛猛進。\n\n## 五、思考\n\n- [勤於思考](#c51)\n- [思維陷阱](#c52)\n- [因果關係](#c53)\n- [逆命題](#c54)\n- [舉證責任](#c55)\n- [案例局限](#c56)\n- [對立論證](#c57)\n- [張冠李戴](#c58)\n- [感悟與道理](#c59)\n- [克服恐懼](#c510)\n- [輔助工具](#c511)\n\n### <span id='c51'>勤於思考</span>\n\n> 人都有大腦，閒置還是使用，是個問題。\n\n1. 獨立思考\n2. 思考任務的目標、實質、意義\n\n>很多人就是這樣，堅持拒絕思考，然後用天下最累的方式生活而不自知。大哲學家羅素曾觀察到這個現象，他為之奇怪並慨嘆，“ 很多人寧願死也不願思考 ”，然後戲謔道，“ 實際上，他們確實死得很快。”\n>>Most people would die sooner than think — in fact they do so.\n— Bertrand Russell，In The ABC of Relativity，1925，P.166\n\n### <span id='c52'>思維陷阱</span>\n\n#### 概念不清和拒絕接受不確定性\n\n1. 概念不清\n\n{% blockquote %}\n> 學習任何知識最重要的一點，就是搞清楚它所有的基礎概念。\n{% endblockquote %}\n\n{% blockquote %}\n> 讀教科書，要先把所有概念都記下來，暫時不懂的就死記硬背。把概念牢記於心，就可以通過以後的學習和實踐反複審視它，並形成透徹理解。\n{% endblockquote %}\n\n{% blockquote %}\n> 本書強調“時間不可管理”、“我們只能管理自己”，並非咬文嚼字。“時間管理”和“自我管理”是完全不同的概念——焦點不同，方法不同，效果不同\n{% endblockquote %}\n\n2. 拒絕接受不確定性\n\n> 未知永遠存在。從本質上來看，不確定性和未知是一回事。\n\n### <span id='c53'>因果關係</span>\n\n#### 基礎\n\n>外因會影響內因，內因同樣會影響外因。它們相互影響，互為因果。\n>\n> 舉一個特別好玩的現象為例：在某種意義上，學生的水平決定教師的水平。\n>\n>這話並沒有說反。師生之間的有效溝通，肯定不僅是教師單方面的灌輸。越是用心的教師，越關注學生的反饋；越是用心的學生，越關注教師對他的反饋的反饋。顯然，這種溝通不僅是雙向的，還隨著雙方的用心程度而不斷增強。\n>\n>這和下棋是一樣的道理。據說，棋藝到了一定程度，棋手就會不由自主地挑選對手，因為跟高手下棋就會進步，但反過來，與“臭手”交手多了，自己的手也會變“臭”……優質的學生，對他們的教師來說，不僅是令人愉悅的教學對象（學生一點就透，老師沒有不開心的），更重要的，他們還是對教師的挑戰——這些學生有著長期而且優秀的學習經驗，也因此擁有相對良好的判斷能力，隨時可能提出一般教師無法回答的問題。經過一段時間的積累，雙方都會因為教學和溝通發生巨大的進步——只要雙方都足夠優秀，足夠用心。\n\n{% blockquote %}\n正在塑造我們的這個環境，也是我們自己（參與）塑造的\n{% endblockquote %}\n\n>#### 要做一個用心的人，要用心做事，因為這世界其實也是有“心”的\n\n#### 雙盲測試\n\n*註: 受測者不知道安慰劑的存在，測試者則不知道誰服用了安慰劑，單純以局外人的角度觀測記錄。*\n\n> 人群中也有差不多⅓的人更易受到（來自他人或來自自身的）心理暗示的影響。也就是說，他們更可能在服用安慰劑後病情真正好轉。\n\n#### 自證預言\n\n>莫頓教授用銀行擠兌的例子說明了自證預言的作用機理：\n>>一家銀行本來運作得很正常，但不知什麼原因，出現了“這家銀行要倒閉”的流言。流言越傳越廣，導致越來越多的人信以為真，有人為防意外而跑到銀行把自己的存款提走。恐慌情緒蔓延，並且變得愈加真實，更多的人衝進銀行提走自己的存款……最終，擠兌發生了，銀行真的倒閉了。\n\n\n>一個原本並不存在的原因竟然“無中生有”變成了真正的原因。\n\n#### 心中恐惧失敗，才是失敗的原因。\n\n### <span id='c54'>逆命題</span>\n\n>**原命題為真，它的逆命題不一定為真。**\n>P 則 Q 等於 ~Q 則 ~P\n>但是不一定存在 Q 則 P 的關係\n\n>有70%以上的人分不清楚原命題和逆命題之間的區別。\n>\n>>參見《認知心理學》（Cognitive Psychology: A Student's Handbook，2000），邁克爾·艾森克（Michael W. Eysenck）、馬克·基恩（Mark T. Keane）合著。\n\n*✖ 心得: 人很好騙，至少70%很好騙。*\n\n### <span id='c55'>舉證責任</span> \n\n> \"舉證責任\"是不對等的\n> 爭論雙方的境況常常處於這種狀態：\n▷其中一方肩負沉重的舉證責任（burden of proof）\n▷另外一方則享有來自假設的恩惠（benefit of assumption）\n\n{% blockquote %}\n既然你無法證明我是錯的，那麼我就是對的。這是一種典型的邏輯錯誤\n{% endblockquote %}\n\n*✖ 套用一下邏輯學:*\n*我是對的 則 你無法証明我是錯的，恒為真。*\n*你無法証明我是錯的 則 我是錯的，恒為真。*\n*你無法證明我是錯的 則 我是對的，不恒為真*\n\n### <span id='c56'>案例局限</span> \n\n\n>最為常見的邏輯錯誤就是“以偏概全”——某種經驗在某個人身上應驗了，並不意味著該經驗在所有人身上都會起作用。\n\n*✖ 常見的推銷話術，我作得到，你也作得到。努力就會成功。*\n*這類的話術可怕的地方在於它不完全是錯的，但是你必需客觀衡量各種條件，而非局限單一案例。*\n\n### <span id='c57'>對立論證</span> \n\n{% blockquote %}\n>人們可能基於一模一樣的原因做出截然相反的決定。換句話說，用同樣的論據證明截然相反的論點。\n{% endblockquote %}\n\n{% blockquote %}\n>抱怨上司“愚蠢”的人和能夠發覺“上司的愚蠢可能有另外的解釋”的人，得到的結論和採取的行動往往截然相反。**因此，時間在他們接下來的經歷中所產生的伴隨作用也截然相反。這裡，時間再一次選擇與心智強大的人做朋友**\n{% endblockquote %}\n\n{% blockquote %}\n>一旦意識到對立論證的存在，應該**“哪一個更合理、更現實就接受哪一個”**，而非“哪一個更積極就接受哪一個”，因為後者只是自我欺騙而已。積極的並不總是好的，哪一個極端理想主義者（以及他們的想法、理念）不是積極的呢？\n{% endblockquote %}\n\n*✖ 職場上不論是留下繼續努力，或是掛冠求去都無對錯之分，而是何者更為合理。這個道理在人生的選擇上也是，需要注意對立論證的存在，堅持或放棄本無對錯，合理的判斷即可。*\n\n### <span id='c58'>張冠李戴</span>\n\n{% blockquote %}\n>論點和論據之間儘管全無邏輯聯繫，卻可以用一種“顯然合理”的姿態綁在一起。\n{% endblockquote %}\n\n舉例:\n\n>將字母A到Z分別編上1到26的分數（A=1,B=2,…,Z=26），然後比較不同單詞的分值：\n▷Knowledge（知識）得到96分\n（11+14+15+23+12+5+4+7+5=96）；\n▷Hardwork（努力）也只得到98分\n（8+1+18+4+23+15+18+11=98）；\n▷Attitude（態度）才能左右你生命的全部，\n因為它能得到100分\n（1+20+20+9+20+21+4+5=100）——滿分。\n得出結論：“態度改變一切”。\nBullshit（胡說八道）\n(2+21+12+12+19+8+9+20=103)\n\n\n### <span id='c59'>感悟與道理</span>\n\n{% blockquote %}\n“道理”應該是普適的，而“感悟”只來自個體經驗。\n{% endblockquote %}\n\n{% blockquote %}\n並非只有專家級別的新聞工作者才要分清“看法與事實之間的區別”，其實每個人都需要清楚地認識“道理”和“感悟”之間的巨大差異。\n{% endblockquote %}\n\n{% blockquote %}\n如果某個人把他們說的當作全部，把他們沒說的當作沒有，那麼這個人的智商就跟寓言中那個掩耳盜鈴的傢伙屬於同一個水平了。\n{% endblockquote %}\n\n{% blockquote %}\n人類普遍擁有的一個認知偏差就是：把成功攬到自己身上，把失敗歸咎於別人或者壞運氣。（這在心理學上有個術語，叫做“自利性偏差(Self-servingBias)”。）從這裡我們就可以知道，那些“成功者”這麼做的時候，往往並不是有意欺騙——他們甚至出於好意。\n{% endblockquote %}\n\n{% blockquote %}\n一個很實用的建議：與其關注成功者，不妨反其道而行之——努力從失敗者身上汲取經驗。\n{% endblockquote %}\n\n\n*✖ 困難的點在於，感悟難以作\"雙盲測試\"，也深受\"案例局限\"與\"安慰劑效應\"影響*\n\n### <span id='c510'>克服恐懼</span>\n\n{% blockquote %}\n“道理都明白，可就做不到”\n{% endblockquote %}\n\n### <span id='c511'>輔助工具</span>\n#### 語言\n\n{% blockquote %}\n以下一些句式最好經常使用，因為它們特別有助於獨立思考習慣的養成，並且也有刺激思考的作用：\n▷……是一回事，而……是另外一回事。\n▷……和……其實根本不是一回事。\n▷……不一定……\n▷……。可是，這並不意味著……\n▷……也許還有另外一種可能性（解釋）。\n▷……看起來像……，可是……\n▷……。而事實卻可能遠比看起來的更為複雜（簡單）。\n▷……。然而，（這個論斷）反過來（陳述）卻不一定成立……\n▷……其實很可能與……根本就沒有任何關係。\n▷……和……之間不一定是單純的因果關係，它們也可能互為因果。\n▷……和……之間的比較也許沒有任何意義。\n▷……其實不過是表面現象，其背後的本質是……\n▷……有一個通常被忽略的前提。\n▷……儘管聽起來很有道理，然而卻完全不現實。\n▷……也許有人會說……，但是這種質疑卻……\n{% endblockquote %}\n\n{% blockquote %}\n要刻意迴避的句子\n▷……難道就沒有一點可取之處嗎？\n▷……要是……就好了！\n{% endblockquote %}\n\n\n## 六、交流\n###  學會傾聽\n\n{% blockquote %}\n為了真正做到有效傾聽，最需要克制的就是“過早質疑”。\n{% endblockquote %}\n\n{% blockquote %}\n就算需要質疑，也一定要等到對方把話說完。\n{% endblockquote %}\n\n### 說與不說\n\n{% blockquote %}\n“知無不言，言無不盡”在大部分情況下是最浪費時間和精力的做法。\n{% endblockquote %}\n\n{% blockquote %}\n...在分辨談話對象之前很可能要先分辨自己，所以，\n“可與言而不與言，失人。不可與言而與之言，失言。”這是說要分辨談話的對象。\n{% endblockquote %}\n\n### 共生狀態\n\n>見瓦茨拉夫·哈維爾先生製定的《對話守則》：\n1.對話的目的是尋求真理，不是為了鬥爭。\n2.不做人身攻擊。\n3.保持主題。\n4.辯論時要用證據。\n5.不要堅持錯誤不改。\n6.要分清對話與只准自己講話的區別。\n7.對話要有記錄。\n8.盡量理解對方。\n\n{% blockquote %}\n雙方想要進行有意義的討論，最基本的要求就是雙方必須共同遵守“理性討論基本原則”。\n{% endblockquote %}\n\n{% blockquote %}\n跨越“自以為是”\n{% endblockquote %}\n\n*✖ 「緣督以為經；因其故然」--- 莊子。養生主 ; 學習應順其自然，不然會把自已累死。「知知為知知，不知為不知，是知也」---論語* \n\n{% blockquote %}\n第一個原則：有意義的討論是競合\n第二個原則：真理是獨立存在的\n第三個原則：真理不變\n{% endblockquote %}\n\n### 正確複述\n\n> 為了保證溝通順利，往往需要添加一個驗證機制，或者說反饋機制。\n\n### 勤於反思\n- 深刻了解經驗的局限\n- 時時刻刻保持警惕 \n\n> 手裡只有一把錘子，看什麼問題都像釘子\t\n\n- 用記錄，使自己能夠記住更多的經驗 \n- 通過觀察和閱讀汲取他人的經驗\n- 經常試用類比來跨越未知與已知的障礙 \n- 耐心等待以獲得不能跨越時間的經驗  \n\n\n\n## 七、應用\n### 興趣\n\n>說來說去，是順序出了問題：往往並不是有興趣才能做好，而是做好了才有興趣。人們總是搞錯順序，並對這樣的錯誤毫不知曉。雖然並非絕對，但完成大多數事情，確實都需要熟能生巧。做得多了，自然就能擅長；擅長了，自然就做得比別人好；做得比別人好了，興趣就濃起來了，而後就更喜歡做、更擅長……進入良性循環。可同樣的，做得多，就需要大量的時間投入，所謂“沒興趣”，往往不過是結果，如果將它當作“不去做好”的理由，最終的懲罰就是大量時間白白流逝。\n\n### 方法\n\n>所有學習上的成功，都只依靠兩件事——策略和堅持，而堅持本身就是最重要的策略。堅持，其實就是重複；而重複，說到底就是時間的投入，準確地說，是大量時間的投入。\n\n*✖ 你沒有實際作之前，不會知道效果如何，再在找更好的方法之前，最好的策略是堅持*\n\n### 痛苦 -比較 - 運氣\n\n### 人脈\n{% blockquote %}\n> 當我們把時間花到一個人身上的時候，相當於在他身上傾注了自己生命的一段。\n{% endblockquote %}\n\n{% blockquote %}\n> ▷專心做可以提升自己的事情，學習並擁有更多、更好的技能，成為一個值得他人交往的人。\n▷學會獨善其身，以不給他人製造麻煩為美德，用自己的獨立贏得尊重。\n{% endblockquote %}\n\n*✖ 人必自重而後人重之---你值得人家交往，人家就會來跟你交往。*\n\n### 自卑\n\n*✖  保持謙卑，認識真正的自已。*\n\n### 靈感\n\n*✖ 靈感來自於累積，筆記是一個好工具*\n\n### 鼓勵\n\n### 效率\n\n### 節奏\n\n### 物極必反\n\n>- 絕對不要盲目地試圖減少睡眠時間\n- 盡量不要減少與家庭成員交流的時間\n- 最好不要放棄你的社交時間\n\n### 自我證明\n\n\n## 參考\n\n- [電子書](http://zhibimo.com/read/xiaolai/ba-shi-jian-dang-zuo-peng-you/index.html)\n- [奇特的一生](http://www.books.com.tw/products/CN11349756)\n","slug":"2016/be_friend_with_time","published":1,"updated":"2019-09-26T09:57:05.880Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wj6000jb0vxav0lszhe","content":"<h2 id=\"零、困境\"><a href=\"#零、困境\" class=\"headerlink\" title=\"零、困境\"></a>零、困境</h2><p><em>✖ 時間無法管理 能管理的只有你自已。</em></p>\n<h2 id=\"一、醒悟\"><a href=\"#一、醒悟\" class=\"headerlink\" title=\"一、醒悟\"></a>一、醒悟</h2><ul>\n<li><em>✖ 用思考控制思考</em></li>\n<li><em>✖ 心智:就是心靈的智慧，用理性處理感性，控制情緒與慾望。</em></li>\n<li><em>✖ 人會在相同的情況下作出完全相反的結論</em></li>\n</ul>\n<blockquote>\n<p>…歷史上也常常出現這種情況——其實目的都是“為了人類更好的明天”，可偏偏出現了對立的兩派人，<br>他們為了原本一模一樣的理想爭執不休，甚至“拋頭顱”、“撒熱血”，犧牲幾代人的福祉。  </p>\n<blockquote>\n<p>比如，所謂“水火不相容”的“社會主義陣營”和“資本主義陣營”。<br>看穿這一切，擺脫自己的局限，需要心智的力量。</p>\n</blockquote>\n</blockquote>\n<h2 id=\"二、現實\"><a href=\"#二、現實\" class=\"headerlink\" title=\"二、現實\"></a>二、現實</h2><ul>\n<li>速成絕無可能</li>\n<li>交換才是硬道理</li>\n<li>完美永不存在</li>\n<li>未知永遠存在</li>\n</ul>\n<blockquote>\n<p>未知分為兩種：一種是永遠不能解決的，另一種是在可預見的未來也許能夠解決的。<br><em>✖ 吾生也有涯，而知也無涯。以有涯隨無涯，殆已！已而為知者，殆而已矣！…指窮於為薪，火傳也，不知其盡也。–莊子。養生主</em><br><em>✖ 站在巨人的肩膀上</em></p>\n</blockquote>\n<ul>\n<li>現狀無法馬上擺脫</li>\n</ul>\n<blockquote><p>接受現狀才是最優策略——有什麼做什麼，有什麼用什麼；做什麼都做好，用什麼都用好。<br>不要常常覺得苦（這會讓人忍不住顧影自憐，浪費精力與時間），而要想辦法在任何情況下找到情趣——<br>——<strong>快樂是一種本事</strong>。</p>\n</blockquote>\n\n<blockquote><p>心懷“夢想”的時間越長，它的沉沒成本就越高。</p>\n</blockquote>\n\n<p><em>✖ 積沙成塔，滴水穿石，時間可以累積，也可以消耗。</em></p>\n<ul>\n<li>與時間做朋友</li>\n</ul>\n<blockquote><p>與時間做朋友的方法很簡單：用正確的方法做正確的事情。</p>\n</blockquote>\n\n<blockquote><p>儘管現實總是如此難於接受，堅強的你卻應該坦然。以上提到的種種現實，包括“速成絕無可能”、“只有付出才有收穫”、“完美永不存在”、“未知永遠存在”、“現狀無法馬上擺脫”，都既清楚又簡單，你必須要接受——不僅要接受，還要牢記；不僅要牢記，還要堅信，不容半點動搖。最好時常把自己的一些念頭記下來，然後與這幾條現實對照，看看它們是否與這些現實相符。</p>\n</blockquote>\n\n<blockquote><p>時間是現實的人的朋友，是不現實的人的敵人。時間不是故意要這樣做，只不過事實如此。</p>\n</blockquote>\n\n<p><em>✖ 正確的事，正確的做 ; 首先要學會判斷什麼是正確的事。</em></p>\n<h2 id=\"三、管理\"><a href=\"#三、管理\" class=\"headerlink\" title=\"三、管理\"></a>三、管理</h2><ul>\n<li>估算時間</li>\n</ul>\n<blockquote><p>分辨任務的屬性——它是熟悉的還是陌生的呢?</p>\n</blockquote>\n\n<blockquote><p>對學習來說，任務“陌生”的可能性更大，因為學習本身是一個探索未知的過程。完成學習任務常常需要花費比我們想像中多得多的時間。對工作來說，任務“熟悉”的可能性更大。因為工作本身是一個應用已知的過程。</p>\n</blockquote>\n\n<p><em>✖ 軟體工作的這個行業，很有可能是大多數是未知的情況。</em></p>\n<ul>\n<li>及時行動</li>\n</ul>\n<blockquote><p>接受任務之後，什麼時候開始執行才好呢？比“越早開始越好”更切實的答案是“現在就開始”。</p>\n</blockquote>\n\n<p><em>✖ ASAP 不是一個好答案 NOW 才是。</em></p>\n<p><em>✖ 不求有功，但求無過是種慢性自殺，滴水穿石—會消磨掉你的累積。</em></p>\n<ul>\n<li>直面困難</li>\n</ul>\n<blockquote>\n<p>效率低下的根本原因是什麼？答案是：迴避困難。<br>……<br>……這些問題都源自同一個習慣：專做簡單的，迴避困難的。</p>\n</blockquote>\n<ul>\n<li>關注步驟</li>\n</ul>\n<blockquote><p>所謂“三思而行”在我看來就是指做任何事情之前都要考慮相關的3個方面：內容（What）、原因（Why）、方法（How）。任何任務都起碼具備3個屬性：何事（What）、何因（Why）、何法（How）。</p>\n</blockquote>\n\n<blockquote><p>不停地細分、拆解任務，而且越具體越好，直至每個小任務都可以由一個人獨立完成。</p>\n</blockquote>\n\n<p>例子</p>\n<blockquote>\n<p>擴充詞彙量→托福詞彙→托福核心詞彙→21個單元→每個單元大約100 個單詞→一個單元分2次完成……<br>▷ 先嘗試做一兩個階段，測量一下完成一個階段需要多長時間。<br>▷ 按照測量的結果製作一個時間表，把其餘若干個階段所需要的時間填寫完整（最終總是需要做一些調整的）。<br>▷ 背單詞需要重複，所以，每3個階段過後要留出與完成1個階段相等的時間去複習。這就意味著一共需要花費完成56（42+14）個階段的時間。<br>▷ 每完成總任務的1/3，就增加與完成1個階段相等的再复習時間。這就意味著一共需要花費完成59（56+3）個階段的時間。<br>▷ 學習過程中可能需要多次快速重複記憶，每次可能相當於完成3～5個階段所需要的時間。由於熟悉程度的不斷增加，每次重複記憶所需要的時間會越來越短，所以，預計進行3次重複記憶需要相當於10個階段的時間。這就意味著一共需要花費完成69（59+10）個階段的時間。</p>\n<p>完成每個階段的具體步驟。</p>\n<p>▷ 每天早晨騰出一點時間。<br>▷ 把前一天背過的單詞朗讀至少2 遍。<br>▷ 聽錄音，跟讀當天要背的單詞3～5遍，主要關注發音、拼寫，順帶看看詞義，能記多少就記多少，不求速成。<br>▷ 上午利用閒暇時間通讀詞彙列表，並反复閱讀例句。<br>▷ 下午用專門的時間把當天要背的單詞集中背2～3遍。可以一邊讀，一邊抄，一邊背，不要只是坐在那里呆呆地盯著詞彙看。<br>▷ 空閒的時候反复聽當天要背的單詞，重複次數越多越好。<br>▷ 晚上睡覺前複習當天背的單詞。</p>\n</blockquote>\n<ul>\n<li>並行串行</li>\n</ul>\n<p><em>✖ 拆分細項，尋找並行的可能。</em></p>\n<blockquote>\n<p>華羅庚先生曾經用燒水泡茶為例說明過這個問題。</p>\n<blockquote>\n<p>燒水泡茶：參見《統籌方法平話及補充》，華羅庚著，中國工業出版社，1966。<br>▷ 辦法甲：洗好水壺，灌上涼水，放在火上。在等待水開的時候洗茶壺、洗茶杯、拿茶葉。等到水開，泡茶喝。<br>▷ 辦法乙：先做好一些準備工作，包括洗水壺、洗壺杯、拿茶葉。一切就緒，灌水、燒水，坐待水開了泡茶喝。<br>▷ 辦法丙：洗淨開壺，灌上涼水，放在火上，坐待水開。水開了之後急急忙忙找茶葉、洗茶壺、茶杯，泡茶喝。</p>\n</blockquote>\n</blockquote>\n<p><em>✖ 分別為聖的*</em>時間片***</p>\n<blockquote>\n<p>一個處理器在一個時間段內其實只能做一件事，因為它只有一個個體、一個時空。而多任務操作系統把一個長時間段劃分成很多短小的時間片，每個時間片只讓處理器執行一個進程（Process）——儘管同時可能有多個進程需要處理。在第一個時間片裡，操作系統讓處理器處理A進程；時間片的時間用完之後，無論A進程處理到什麼程度，都要被“掛起”（即，A進程這時不能再佔用處理器資源——儘管它還是被允許使用計算機的其他資源，如內存、磁盤、屏幕輸出等）；在第二個時間片裡，處理器處理的是B進程，時間用完之後，B進程將與A進程一樣被中途“掛起”；</p>\n</blockquote>\n<ul>\n<li>感知時間</li>\n</ul>\n<blockquote>\n<p>逃避責任就會帶來輕鬆，可那恰恰就是“生命中不能承受之輕”啊！</p>\n</blockquote>\n<p><em>有的時候「逃避雖可恥但有用」，學會判斷什麼是可以逃避的事，什麼是不可逃避的事。</em></p>\n<blockquote>\n<p>學著做每天的“事件日誌”（Event Log）。除了自己經歷的事件之外，<br>一概不記，而且盡量不記感想，不記感受，只記錄事件本身。<br>…<br>…記錄過程要比基於結果的記錄更為詳盡</p>\n</blockquote>\n<p>例子</p>\n<blockquote>\n<blockquote>\n<p>烏里揚諾夫斯克。一九六四年四月七日。分類昆蟲學（畫兩張無名袋蛾的圖）——三小時十五分。鑑定袋蛾——二十分（1.0）。</p>\n<p>附加工作：給斯拉瓦寫信——二小時四十五分（0.5）。</p>\n<p>社會工作：植物保護小組開會——二小時二十五分。休息：給伊戈爾寫信——十分；<br>《烏里揚諾夫斯克真理報》——十分；列夫·托爾斯泰的《塞瓦斯托波爾紀事》——一小時二十五分。</p>\n<p>基本工作合計——六小時二十分。</p>\n</blockquote>\n</blockquote>\n<p><em>✖ 簡單的分類 + 事件 + 費時，最後再合計起來。</em><br><em>(其於事實)條列式的記錄法，與時間調色盤(預定)的方法不太一樣。</em><br><em>你可以預定你要作的事，可是你無法正確的估時 ; 這是事實，請面對這個事實。</em><br><em>輔助上分別為聖的時間切片或許可以有所幫助</em></p>\n<ul>\n<li>記錄開銷</li>\n</ul>\n<p><em>練習中</em></p>\n<ul>\n<li>制訂預算</li>\n</ul>\n<p><em>✖ 先養成記錄的習慣，再養成制定預算的習慣</em><br><em>✖ 只列事情，重要/不重要</em></p>\n<blockquote><p>每個人都喜歡做有趣的事情，做的時候往往並不關心這件事到底有沒有用。可是，有趣的事不見得有用啊！</p>\n</blockquote>\n\n<blockquote><p>養成任何一個哪怕很小的習慣都需要掙扎。然而，貌似痛苦的掙扎過程，在將來的某個時刻終將變得其樂無窮。</p>\n</blockquote>\n\n<ul>\n<li>計劃</li>\n</ul>\n<blockquote><p>計劃成功的前提：目標現實可行</p>\n</blockquote>\n\n<blockquote><p>我們不是計劃著失敗，而是失敗地計劃(People don’t plan to fail, they fail to plan)。</p>\n</blockquote>\n<p><em>✖ 簡單的判斷目標是不是現實可行</em></p>\n<blockquote><blockquote>\n<p>證明我的目標現實可行的方法比較簡單：</p>\n<ol>\n<li>已經有人做到了。</li>\n<li>我與那個人沒有太大的差距。</li>\n</ol>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>長期計劃是需要通過實踐才能習得的能力</p>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>沒有人能給我做職業規劃。…生活本身充滿了意外，並且，總是意外到無以復加的地步。</p>\n</blockquote>\n</blockquote>\n\n<p><em>✖ 先從記錄開始，持續一周，繼續保持記錄下試著開始分配時間。</em><br><em>✖ 再試著從周計劃開始作規劃，練習並且保持。</em></p>\n<blockquote><blockquote>\n<p>計劃固然重要，行動更為重要。</p>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>任何事情，都可能經歷相同的過程：逐步熟悉，小心摸索，失敗、失敗、再失敗，<br>認真反思，捲土重來，直至成功。而最初，在我們對任務連基本的認知都沒有的時候，<br>制定出來的計劃十有八九隻不過是空談。</p>\n</blockquote>\n</blockquote>\n\n<ul>\n<li><p>列表</p>\n</li>\n<li><p>流程</p>\n</li>\n</ul>\n<p><em>✖ 預想各種可能的情境，不用一次到位，持續整合的重點在持續。</em></p>\n<p>範例:</p>\n<blockquote>\n<p>▷ 確定對方最可能方便接電話的時間（難以確定的時候先發短信詢問）。<br>▷ 在撥打電話甚至發短信詢問對方是否方便之前準備好一切計劃溝通的內容，作好檢查列表放在手邊，確保溝通過程中不會遺漏要點。<br>▷ 通話前把重要信息整理成電子文本，在通話中做必要的更新，通話結束後，馬上通過電子郵件將備忘發送給對方。<br>▷ 若對方沒有接電話，則給對方發署名短信告知詳細事由， 並做好記錄，防止自己遺忘此次溝通任務。<br>▷ ……</p>\n</blockquote>\n<ul>\n<li>預演</li>\n</ul>\n<blockquote>\n<p>準備不足，所以害怕。</p>\n</blockquote>\n<p><em>✖ 類似一種沙箱測試，讓錯誤發生在測試階段。</em></p>\n<ul>\n<li>驗收</li>\n</ul>\n<blockquote>\n<p>向自己提出一個問題並要想辦法回答清楚：“怎樣才算’做好’？</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">本篇心得: 這是需要實際操作的一篇，仍在實踐中。</span><br><span class=\"line\">首先是記錄自已的時間花在哪裡？</span><br><span class=\"line\">再來是制定時間的預算，分別出神聖的時間去累積一些東西(ex:學習英文、跑步);</span><br><span class=\"line\">當習慣養成，就不再困難了，而是生活的一部份。</span><br><span class=\"line\">同時注意工作的流程，</span><br><span class=\"line\">1. 問自已What Why How ?</span><br><span class=\"line\">2. 儘可能拆解工作流程的步驟到最小化，建立列表。</span><br><span class=\"line\">3. 常常發生的工作要設想各種情境,建立SOP,以縮短時間。</span><br><span class=\"line\">4. 陌生的工作可以透過預演來試錯。</span><br><span class=\"line\">5. 一定要驗收。</span><br><span class=\"line\">6. 面對困難與失敗。</span><br><span class=\"line\">7. 及時行動!</span><br><span class=\"line\">8. 及時行動!!</span><br><span class=\"line\">9. 及時行動!!!</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"四、學習\"><a href=\"#四、學習\" class=\"headerlink\" title=\"四、學習\"></a>四、學習</h2><h3 id=\"基本途徑\"><a href=\"#基本途徑\" class=\"headerlink\" title=\"基本途徑\"></a>基本途徑</h3><ul>\n<li>體驗</li>\n<li>觀察</li>\n<li>學習</li>\n</ul>\n<p><em>✖ 自由是可以被剝奪的。</em></p>\n<h3 id=\"經驗局限\"><a href=\"#經驗局限\" class=\"headerlink\" title=\"經驗局限\"></a>經驗局限</h3><blockquote><blockquote>\n<p>日常生活中主要的“溝通障礙”本質上幾乎都是由於溝通雙方無法讓對方理解與他們的經驗相悖的知識或信息造成的。</p>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>長期的進化使人類到達了今天這個高度，但是每個人在出生的那一剎那，居然與其他動物站在幾乎同樣的起點上，心智要從零開始進化。</p>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<blockquote>\n<p>優秀的領導，能夠把人們帶到他們想去的地方；而卓越的領導，能夠把人們帶到他們應該去但是沒想過要去的地方<br>A leader takes people where they want to go. A great leader takes people where they don’t necessarily want to go, but ought to be.</p>\n</blockquote>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>牢記在這世界上確實存在“與現有經驗相悖的知識”，再把這句話變成經驗，用它去類比未知，而後投入大量的時間和精力去學習和掌握“科學方法論”，掙扎著進化成為真正意義上的“人”。</p>\n</blockquote>\n</blockquote>\n\n<h3 id=\"自學能力\"><a href=\"#自學能力\" class=\"headerlink\" title=\"自學能力\"></a>自學能力</h3><ul>\n<li>閱讀理解能力 -&gt;檢索能力 -&gt; 寫作能力 -&gt; 實踐能力</li>\n<li>永遠保持開放的心態</li>\n</ul>\n<blockquote>\n<p>最好固定一段時間來把那些目前暫時無法理解的、支持的、反對的、無所謂的論點和觀點記錄下來。對無法理解的，寫下自己當時的疑惑何在；對支持的，記錄幾個理由或者實例；對反對的，同樣記錄幾個理由或者實例；甚至對那些無所謂的，也記錄其原因。一個有著這樣良好記錄習慣的人會獲得他人無法擁有的處理信息和知識的能力——“反芻”。這種“反芻”能力是我們避免成為“選擇性輸入”受害者的重要保障。<br>在學習的時候，進展和時間的關係肯定不是線性的：所謂“一分耕耘，一分收穫”。這個關係曲線更可能是階梯狀的：學習過程中有很長時間一點進展都沒有，但從某一刻開始突飛猛進，而後又是長長的一段所謂的“平台期”。…只有經歷積累的過程，“量變到質變”的效果才會出現，才有可能突飛猛進。</p>\n</blockquote>\n<h2 id=\"五、思考\"><a href=\"#五、思考\" class=\"headerlink\" title=\"五、思考\"></a>五、思考</h2><ul>\n<li><a href=\"#c51\">勤於思考</a></li>\n<li><a href=\"#c52\">思維陷阱</a></li>\n<li><a href=\"#c53\">因果關係</a></li>\n<li><a href=\"#c54\">逆命題</a></li>\n<li><a href=\"#c55\">舉證責任</a></li>\n<li><a href=\"#c56\">案例局限</a></li>\n<li><a href=\"#c57\">對立論證</a></li>\n<li><a href=\"#c58\">張冠李戴</a></li>\n<li><a href=\"#c59\">感悟與道理</a></li>\n<li><a href=\"#c510\">克服恐懼</a></li>\n<li><a href=\"#c511\">輔助工具</a></li>\n</ul>\n<h3 id=\"勤於思考\"><a href=\"#勤於思考\" class=\"headerlink\" title=\"勤於思考\"></a><span id=\"c51\">勤於思考</span></h3><blockquote>\n<p>人都有大腦，閒置還是使用，是個問題。</p>\n</blockquote>\n<ol>\n<li>獨立思考</li>\n<li>思考任務的目標、實質、意義</li>\n</ol>\n<blockquote>\n<p>很多人就是這樣，堅持拒絕思考，然後用天下最累的方式生活而不自知。大哲學家羅素曾觀察到這個現象，他為之奇怪並慨嘆，“ 很多人寧願死也不願思考 ”，然後戲謔道，“ 實際上，他們確實死得很快。”</p>\n<blockquote>\n<p>Most people would die sooner than think — in fact they do so.<br>— Bertrand Russell，In The ABC of Relativity，1925，P.166</p>\n</blockquote>\n</blockquote>\n<h3 id=\"思維陷阱\"><a href=\"#思維陷阱\" class=\"headerlink\" title=\"思維陷阱\"></a><span id=\"c52\">思維陷阱</span></h3><h4 id=\"概念不清和拒絕接受不確定性\"><a href=\"#概念不清和拒絕接受不確定性\" class=\"headerlink\" title=\"概念不清和拒絕接受不確定性\"></a>概念不清和拒絕接受不確定性</h4><ol>\n<li>概念不清</li>\n</ol>\n<blockquote><blockquote>\n<p>學習任何知識最重要的一點，就是搞清楚它所有的基礎概念。</p>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>讀教科書，要先把所有概念都記下來，暫時不懂的就死記硬背。把概念牢記於心，就可以通過以後的學習和實踐反複審視它，並形成透徹理解。</p>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>本書強調“時間不可管理”、“我們只能管理自己”，並非咬文嚼字。“時間管理”和“自我管理”是完全不同的概念——焦點不同，方法不同，效果不同</p>\n</blockquote>\n</blockquote>\n\n<ol start=\"2\">\n<li>拒絕接受不確定性</li>\n</ol>\n<blockquote>\n<p>未知永遠存在。從本質上來看，不確定性和未知是一回事。</p>\n</blockquote>\n<h3 id=\"因果關係\"><a href=\"#因果關係\" class=\"headerlink\" title=\"因果關係\"></a><span id=\"c53\">因果關係</span></h3><h4 id=\"基礎\"><a href=\"#基礎\" class=\"headerlink\" title=\"基礎\"></a>基礎</h4><blockquote>\n<p>外因會影響內因，內因同樣會影響外因。它們相互影響，互為因果。</p>\n<p>舉一個特別好玩的現象為例：在某種意義上，學生的水平決定教師的水平。</p>\n<p>這話並沒有說反。師生之間的有效溝通，肯定不僅是教師單方面的灌輸。越是用心的教師，越關注學生的反饋；越是用心的學生，越關注教師對他的反饋的反饋。顯然，這種溝通不僅是雙向的，還隨著雙方的用心程度而不斷增強。</p>\n<p>這和下棋是一樣的道理。據說，棋藝到了一定程度，棋手就會不由自主地挑選對手，因為跟高手下棋就會進步，但反過來，與“臭手”交手多了，自己的手也會變“臭”……優質的學生，對他們的教師來說，不僅是令人愉悅的教學對象（學生一點就透，老師沒有不開心的），更重要的，他們還是對教師的挑戰——這些學生有著長期而且優秀的學習經驗，也因此擁有相對良好的判斷能力，隨時可能提出一般教師無法回答的問題。經過一段時間的積累，雙方都會因為教學和溝通發生巨大的進步——只要雙方都足夠優秀，足夠用心。</p>\n</blockquote>\n<blockquote><p>正在塑造我們的這個環境，也是我們自己（參與）塑造的</p>\n</blockquote>\n\n<blockquote>\n<h4 id=\"要做一個用心的人，要用心做事，因為這世界其實也是有“心”的\"><a href=\"#要做一個用心的人，要用心做事，因為這世界其實也是有“心”的\" class=\"headerlink\" title=\"要做一個用心的人，要用心做事，因為這世界其實也是有“心”的\"></a>要做一個用心的人，要用心做事，因為這世界其實也是有“心”的</h4></blockquote>\n<h4 id=\"雙盲測試\"><a href=\"#雙盲測試\" class=\"headerlink\" title=\"雙盲測試\"></a>雙盲測試</h4><p><em>註: 受測者不知道安慰劑的存在，測試者則不知道誰服用了安慰劑，單純以局外人的角度觀測記錄。</em></p>\n<blockquote>\n<p>人群中也有差不多⅓的人更易受到（來自他人或來自自身的）心理暗示的影響。也就是說，他們更可能在服用安慰劑後病情真正好轉。</p>\n</blockquote>\n<h4 id=\"自證預言\"><a href=\"#自證預言\" class=\"headerlink\" title=\"自證預言\"></a>自證預言</h4><blockquote>\n<p>莫頓教授用銀行擠兌的例子說明了自證預言的作用機理：</p>\n<blockquote>\n<p>一家銀行本來運作得很正常，但不知什麼原因，出現了“這家銀行要倒閉”的流言。流言越傳越廣，導致越來越多的人信以為真，有人為防意外而跑到銀行把自己的存款提走。恐慌情緒蔓延，並且變得愈加真實，更多的人衝進銀行提走自己的存款……最終，擠兌發生了，銀行真的倒閉了。</p>\n</blockquote>\n</blockquote>\n<blockquote>\n<p>一個原本並不存在的原因竟然“無中生有”變成了真正的原因。</p>\n</blockquote>\n<h4 id=\"心中恐惧失敗，才是失敗的原因。\"><a href=\"#心中恐惧失敗，才是失敗的原因。\" class=\"headerlink\" title=\"心中恐惧失敗，才是失敗的原因。\"></a>心中恐惧失敗，才是失敗的原因。</h4><h3 id=\"逆命題\"><a href=\"#逆命題\" class=\"headerlink\" title=\"逆命題\"></a><span id=\"c54\">逆命題</span></h3><blockquote>\n<p><strong>原命題為真，它的逆命題不一定為真。</strong><br>P 則 Q 等於 ~Q 則 ~P<br>但是不一定存在 Q 則 P 的關係</p>\n</blockquote>\n<blockquote>\n<p>有70%以上的人分不清楚原命題和逆命題之間的區別。</p>\n<blockquote>\n<p>參見《認知心理學》（Cognitive Psychology: A Student’s Handbook，2000），邁克爾·艾森克（Michael W. Eysenck）、馬克·基恩（Mark T. Keane）合著。</p>\n</blockquote>\n</blockquote>\n<p><em>✖ 心得: 人很好騙，至少70%很好騙。</em></p>\n<h3 id=\"舉證責任\"><a href=\"#舉證責任\" class=\"headerlink\" title=\"舉證責任\"></a><span id=\"c55\">舉證責任</span></h3><blockquote>\n<p>“舉證責任”是不對等的<br>爭論雙方的境況常常處於這種狀態：<br>▷其中一方肩負沉重的舉證責任（burden of proof）<br>▷另外一方則享有來自假設的恩惠（benefit of assumption）</p>\n</blockquote>\n<blockquote><p>既然你無法證明我是錯的，那麼我就是對的。這是一種典型的邏輯錯誤</p>\n</blockquote>\n\n<p><em>✖ 套用一下邏輯學:</em><br><em>我是對的 則 你無法証明我是錯的，恒為真。</em><br><em>你無法証明我是錯的 則 我是錯的，恒為真。</em><br><em>你無法證明我是錯的 則 我是對的，不恒為真</em></p>\n<h3 id=\"案例局限\"><a href=\"#案例局限\" class=\"headerlink\" title=\"案例局限\"></a><span id=\"c56\">案例局限</span></h3><blockquote>\n<p>最為常見的邏輯錯誤就是“以偏概全”——某種經驗在某個人身上應驗了，並不意味著該經驗在所有人身上都會起作用。</p>\n</blockquote>\n<p><em>✖ 常見的推銷話術，我作得到，你也作得到。努力就會成功。</em><br><em>這類的話術可怕的地方在於它不完全是錯的，但是你必需客觀衡量各種條件，而非局限單一案例。</em></p>\n<h3 id=\"對立論證\"><a href=\"#對立論證\" class=\"headerlink\" title=\"對立論證\"></a><span id=\"c57\">對立論證</span></h3><blockquote><blockquote>\n<p>人們可能基於一模一樣的原因做出截然相反的決定。換句話說，用同樣的論據證明截然相反的論點。</p>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>抱怨上司“愚蠢”的人和能夠發覺“上司的愚蠢可能有另外的解釋”的人，得到的結論和採取的行動往往截然相反。<strong>因此，時間在他們接下來的經歷中所產生的伴隨作用也截然相反。這裡，時間再一次選擇與心智強大的人做朋友</strong></p>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>一旦意識到對立論證的存在，應該<strong>“哪一個更合理、更現實就接受哪一個”</strong>，而非“哪一個更積極就接受哪一個”，因為後者只是自我欺騙而已。積極的並不總是好的，哪一個極端理想主義者（以及他們的想法、理念）不是積極的呢？</p>\n</blockquote>\n</blockquote>\n\n<p><em>✖ 職場上不論是留下繼續努力，或是掛冠求去都無對錯之分，而是何者更為合理。這個道理在人生的選擇上也是，需要注意對立論證的存在，堅持或放棄本無對錯，合理的判斷即可。</em></p>\n<h3 id=\"張冠李戴\"><a href=\"#張冠李戴\" class=\"headerlink\" title=\"張冠李戴\"></a><span id=\"c58\">張冠李戴</span></h3><blockquote><blockquote>\n<p>論點和論據之間儘管全無邏輯聯繫，卻可以用一種“顯然合理”的姿態綁在一起。</p>\n</blockquote>\n</blockquote>\n\n<p>舉例:</p>\n<blockquote>\n<p>將字母A到Z分別編上1到26的分數（A=1,B=2,…,Z=26），然後比較不同單詞的分值：<br>▷Knowledge（知識）得到96分<br>（11+14+15+23+12+5+4+7+5=96）；<br>▷Hardwork（努力）也只得到98分<br>（8+1+18+4+23+15+18+11=98）；<br>▷Attitude（態度）才能左右你生命的全部，<br>因為它能得到100分<br>（1+20+20+9+20+21+4+5=100）——滿分。<br>得出結論：“態度改變一切”。<br>Bullshit（胡說八道）<br>(2+21+12+12+19+8+9+20=103)</p>\n</blockquote>\n<h3 id=\"感悟與道理\"><a href=\"#感悟與道理\" class=\"headerlink\" title=\"感悟與道理\"></a><span id=\"c59\">感悟與道理</span></h3><blockquote><p>“道理”應該是普適的，而“感悟”只來自個體經驗。</p>\n</blockquote>\n\n<blockquote><p>並非只有專家級別的新聞工作者才要分清“看法與事實之間的區別”，其實每個人都需要清楚地認識“道理”和“感悟”之間的巨大差異。</p>\n</blockquote>\n\n<blockquote><p>如果某個人把他們說的當作全部，把他們沒說的當作沒有，那麼這個人的智商就跟寓言中那個掩耳盜鈴的傢伙屬於同一個水平了。</p>\n</blockquote>\n\n<blockquote><p>人類普遍擁有的一個認知偏差就是：把成功攬到自己身上，把失敗歸咎於別人或者壞運氣。（這在心理學上有個術語，叫做“自利性偏差(Self-servingBias)”。）從這裡我們就可以知道，那些“成功者”這麼做的時候，往往並不是有意欺騙——他們甚至出於好意。</p>\n</blockquote>\n\n<blockquote><p>一個很實用的建議：與其關注成功者，不妨反其道而行之——努力從失敗者身上汲取經驗。</p>\n</blockquote>\n\n\n<p><em>✖ 困難的點在於，感悟難以作”雙盲測試”，也深受”案例局限”與”安慰劑效應”影響</em></p>\n<h3 id=\"克服恐懼\"><a href=\"#克服恐懼\" class=\"headerlink\" title=\"克服恐懼\"></a><span id=\"c510\">克服恐懼</span></h3><blockquote><p>“道理都明白，可就做不到”</p>\n</blockquote>\n\n<h3 id=\"輔助工具\"><a href=\"#輔助工具\" class=\"headerlink\" title=\"輔助工具\"></a><span id=\"c511\">輔助工具</span></h3><h4 id=\"語言\"><a href=\"#語言\" class=\"headerlink\" title=\"語言\"></a>語言</h4><blockquote><p>以下一些句式最好經常使用，因為它們特別有助於獨立思考習慣的養成，並且也有刺激思考的作用：<br>▷……是一回事，而……是另外一回事。<br>▷……和……其實根本不是一回事。<br>▷……不一定……<br>▷……。可是，這並不意味著……<br>▷……也許還有另外一種可能性（解釋）。<br>▷……看起來像……，可是……<br>▷……。而事實卻可能遠比看起來的更為複雜（簡單）。<br>▷……。然而，（這個論斷）反過來（陳述）卻不一定成立……<br>▷……其實很可能與……根本就沒有任何關係。<br>▷……和……之間不一定是單純的因果關係，它們也可能互為因果。<br>▷……和……之間的比較也許沒有任何意義。<br>▷……其實不過是表面現象，其背後的本質是……<br>▷……有一個通常被忽略的前提。<br>▷……儘管聽起來很有道理，然而卻完全不現實。<br>▷……也許有人會說……，但是這種質疑卻……</p>\n</blockquote>\n\n<blockquote><p>要刻意迴避的句子<br>▷……難道就沒有一點可取之處嗎？<br>▷……要是……就好了！</p>\n</blockquote>\n\n\n<h2 id=\"六、交流\"><a href=\"#六、交流\" class=\"headerlink\" title=\"六、交流\"></a>六、交流</h2><h3 id=\"學會傾聽\"><a href=\"#學會傾聽\" class=\"headerlink\" title=\"學會傾聽\"></a>學會傾聽</h3><blockquote><p>為了真正做到有效傾聽，最需要克制的就是“過早質疑”。</p>\n</blockquote>\n\n<blockquote><p>就算需要質疑，也一定要等到對方把話說完。</p>\n</blockquote>\n\n<h3 id=\"說與不說\"><a href=\"#說與不說\" class=\"headerlink\" title=\"說與不說\"></a>說與不說</h3><blockquote><p>“知無不言，言無不盡”在大部分情況下是最浪費時間和精力的做法。</p>\n</blockquote>\n\n<blockquote><p>…在分辨談話對象之前很可能要先分辨自己，所以，<br>“可與言而不與言，失人。不可與言而與之言，失言。”這是說要分辨談話的對象。</p>\n</blockquote>\n\n<h3 id=\"共生狀態\"><a href=\"#共生狀態\" class=\"headerlink\" title=\"共生狀態\"></a>共生狀態</h3><blockquote>\n<p>見瓦茨拉夫·哈維爾先生製定的《對話守則》：<br>1.對話的目的是尋求真理，不是為了鬥爭。<br>2.不做人身攻擊。<br>3.保持主題。<br>4.辯論時要用證據。<br>5.不要堅持錯誤不改。<br>6.要分清對話與只准自己講話的區別。<br>7.對話要有記錄。<br>8.盡量理解對方。</p>\n</blockquote>\n<blockquote><p>雙方想要進行有意義的討論，最基本的要求就是雙方必須共同遵守“理性討論基本原則”。</p>\n</blockquote>\n\n<blockquote><p>跨越“自以為是”</p>\n</blockquote>\n\n<p><em>✖ 「緣督以為經；因其故然」— 莊子。養生主 ; 學習應順其自然，不然會把自已累死。「知知為知知，不知為不知，是知也」—論語</em> </p>\n<blockquote><p>第一個原則：有意義的討論是競合<br>第二個原則：真理是獨立存在的<br>第三個原則：真理不變</p>\n</blockquote>\n\n<h3 id=\"正確複述\"><a href=\"#正確複述\" class=\"headerlink\" title=\"正確複述\"></a>正確複述</h3><blockquote>\n<p>為了保證溝通順利，往往需要添加一個驗證機制，或者說反饋機制。</p>\n</blockquote>\n<h3 id=\"勤於反思\"><a href=\"#勤於反思\" class=\"headerlink\" title=\"勤於反思\"></a>勤於反思</h3><ul>\n<li>深刻了解經驗的局限</li>\n<li>時時刻刻保持警惕 </li>\n</ul>\n<blockquote>\n<p>手裡只有一把錘子，看什麼問題都像釘子    </p>\n</blockquote>\n<ul>\n<li>用記錄，使自己能夠記住更多的經驗 </li>\n<li>通過觀察和閱讀汲取他人的經驗</li>\n<li>經常試用類比來跨越未知與已知的障礙 </li>\n<li>耐心等待以獲得不能跨越時間的經驗  </li>\n</ul>\n<h2 id=\"七、應用\"><a href=\"#七、應用\" class=\"headerlink\" title=\"七、應用\"></a>七、應用</h2><h3 id=\"興趣\"><a href=\"#興趣\" class=\"headerlink\" title=\"興趣\"></a>興趣</h3><blockquote>\n<p>說來說去，是順序出了問題：往往並不是有興趣才能做好，而是做好了才有興趣。人們總是搞錯順序，並對這樣的錯誤毫不知曉。雖然並非絕對，但完成大多數事情，確實都需要熟能生巧。做得多了，自然就能擅長；擅長了，自然就做得比別人好；做得比別人好了，興趣就濃起來了，而後就更喜歡做、更擅長……進入良性循環。可同樣的，做得多，就需要大量的時間投入，所謂“沒興趣”，往往不過是結果，如果將它當作“不去做好”的理由，最終的懲罰就是大量時間白白流逝。</p>\n</blockquote>\n<h3 id=\"方法\"><a href=\"#方法\" class=\"headerlink\" title=\"方法\"></a>方法</h3><blockquote>\n<p>所有學習上的成功，都只依靠兩件事——策略和堅持，而堅持本身就是最重要的策略。堅持，其實就是重複；而重複，說到底就是時間的投入，準確地說，是大量時間的投入。</p>\n</blockquote>\n<p><em>✖ 你沒有實際作之前，不會知道效果如何，再在找更好的方法之前，最好的策略是堅持</em></p>\n<h3 id=\"痛苦-比較-運氣\"><a href=\"#痛苦-比較-運氣\" class=\"headerlink\" title=\"痛苦 -比較 - 運氣\"></a>痛苦 -比較 - 運氣</h3><h3 id=\"人脈\"><a href=\"#人脈\" class=\"headerlink\" title=\"人脈\"></a>人脈</h3><blockquote><blockquote>\n<p>當我們把時間花到一個人身上的時候，相當於在他身上傾注了自己生命的一段。</p>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>▷專心做可以提升自己的事情，學習並擁有更多、更好的技能，成為一個值得他人交往的人。<br>▷學會獨善其身，以不給他人製造麻煩為美德，用自己的獨立贏得尊重。</p>\n</blockquote>\n</blockquote>\n\n<p><em>✖ 人必自重而後人重之—你值得人家交往，人家就會來跟你交往。</em></p>\n<h3 id=\"自卑\"><a href=\"#自卑\" class=\"headerlink\" title=\"自卑\"></a>自卑</h3><p><em>✖  保持謙卑，認識真正的自已。</em></p>\n<h3 id=\"靈感\"><a href=\"#靈感\" class=\"headerlink\" title=\"靈感\"></a>靈感</h3><p><em>✖ 靈感來自於累積，筆記是一個好工具</em></p>\n<h3 id=\"鼓勵\"><a href=\"#鼓勵\" class=\"headerlink\" title=\"鼓勵\"></a>鼓勵</h3><h3 id=\"效率\"><a href=\"#效率\" class=\"headerlink\" title=\"效率\"></a>效率</h3><h3 id=\"節奏\"><a href=\"#節奏\" class=\"headerlink\" title=\"節奏\"></a>節奏</h3><h3 id=\"物極必反\"><a href=\"#物極必反\" class=\"headerlink\" title=\"物極必反\"></a>物極必反</h3><blockquote>\n<ul>\n<li>絕對不要盲目地試圖減少睡眠時間</li>\n<li>盡量不要減少與家庭成員交流的時間</li>\n<li>最好不要放棄你的社交時間</li>\n</ul>\n</blockquote>\n<h3 id=\"自我證明\"><a href=\"#自我證明\" class=\"headerlink\" title=\"自我證明\"></a>自我證明</h3><h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"http://zhibimo.com/read/xiaolai/ba-shi-jian-dang-zuo-peng-you/index.html\" target=\"_blank\" rel=\"noopener\">電子書</a></li>\n<li><a href=\"http://www.books.com.tw/products/CN11349756\" target=\"_blank\" rel=\"noopener\">奇特的一生</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"零、困境\"><a href=\"#零、困境\" class=\"headerlink\" title=\"零、困境\"></a>零、困境</h2><p><em>✖ 時間無法管理 能管理的只有你自已。</em></p>\n<h2 id=\"一、醒悟\"><a href=\"#一、醒悟\" class=\"headerlink\" title=\"一、醒悟\"></a>一、醒悟</h2><ul>\n<li><em>✖ 用思考控制思考</em></li>\n<li><em>✖ 心智:就是心靈的智慧，用理性處理感性，控制情緒與慾望。</em></li>\n<li><em>✖ 人會在相同的情況下作出完全相反的結論</em></li>\n</ul>\n<blockquote>\n<p>…歷史上也常常出現這種情況——其實目的都是“為了人類更好的明天”，可偏偏出現了對立的兩派人，<br>他們為了原本一模一樣的理想爭執不休，甚至“拋頭顱”、“撒熱血”，犧牲幾代人的福祉。  </p>\n<blockquote>\n<p>比如，所謂“水火不相容”的“社會主義陣營”和“資本主義陣營”。<br>看穿這一切，擺脫自己的局限，需要心智的力量。</p>\n</blockquote>\n</blockquote>\n<h2 id=\"二、現實\"><a href=\"#二、現實\" class=\"headerlink\" title=\"二、現實\"></a>二、現實</h2><ul>\n<li>速成絕無可能</li>\n<li>交換才是硬道理</li>\n<li>完美永不存在</li>\n<li>未知永遠存在</li>\n</ul>\n<blockquote>\n<p>未知分為兩種：一種是永遠不能解決的，另一種是在可預見的未來也許能夠解決的。<br><em>✖ 吾生也有涯，而知也無涯。以有涯隨無涯，殆已！已而為知者，殆而已矣！…指窮於為薪，火傳也，不知其盡也。–莊子。養生主</em><br><em>✖ 站在巨人的肩膀上</em></p>\n</blockquote>\n<ul>\n<li>現狀無法馬上擺脫</li>\n</ul>\n<blockquote><p>接受現狀才是最優策略——有什麼做什麼，有什麼用什麼；做什麼都做好，用什麼都用好。<br>不要常常覺得苦（這會讓人忍不住顧影自憐，浪費精力與時間），而要想辦法在任何情況下找到情趣——<br>——<strong>快樂是一種本事</strong>。</p>\n</blockquote>\n\n<blockquote><p>心懷“夢想”的時間越長，它的沉沒成本就越高。</p>\n</blockquote>\n\n<p><em>✖ 積沙成塔，滴水穿石，時間可以累積，也可以消耗。</em></p>\n<ul>\n<li>與時間做朋友</li>\n</ul>\n<blockquote><p>與時間做朋友的方法很簡單：用正確的方法做正確的事情。</p>\n</blockquote>\n\n<blockquote><p>儘管現實總是如此難於接受，堅強的你卻應該坦然。以上提到的種種現實，包括“速成絕無可能”、“只有付出才有收穫”、“完美永不存在”、“未知永遠存在”、“現狀無法馬上擺脫”，都既清楚又簡單，你必須要接受——不僅要接受，還要牢記；不僅要牢記，還要堅信，不容半點動搖。最好時常把自己的一些念頭記下來，然後與這幾條現實對照，看看它們是否與這些現實相符。</p>\n</blockquote>\n\n<blockquote><p>時間是現實的人的朋友，是不現實的人的敵人。時間不是故意要這樣做，只不過事實如此。</p>\n</blockquote>\n\n<p><em>✖ 正確的事，正確的做 ; 首先要學會判斷什麼是正確的事。</em></p>\n<h2 id=\"三、管理\"><a href=\"#三、管理\" class=\"headerlink\" title=\"三、管理\"></a>三、管理</h2><ul>\n<li>估算時間</li>\n</ul>\n<blockquote><p>分辨任務的屬性——它是熟悉的還是陌生的呢?</p>\n</blockquote>\n\n<blockquote><p>對學習來說，任務“陌生”的可能性更大，因為學習本身是一個探索未知的過程。完成學習任務常常需要花費比我們想像中多得多的時間。對工作來說，任務“熟悉”的可能性更大。因為工作本身是一個應用已知的過程。</p>\n</blockquote>\n\n<p><em>✖ 軟體工作的這個行業，很有可能是大多數是未知的情況。</em></p>\n<ul>\n<li>及時行動</li>\n</ul>\n<blockquote><p>接受任務之後，什麼時候開始執行才好呢？比“越早開始越好”更切實的答案是“現在就開始”。</p>\n</blockquote>\n\n<p><em>✖ ASAP 不是一個好答案 NOW 才是。</em></p>\n<p><em>✖ 不求有功，但求無過是種慢性自殺，滴水穿石—會消磨掉你的累積。</em></p>\n<ul>\n<li>直面困難</li>\n</ul>\n<blockquote>\n<p>效率低下的根本原因是什麼？答案是：迴避困難。<br>……<br>……這些問題都源自同一個習慣：專做簡單的，迴避困難的。</p>\n</blockquote>\n<ul>\n<li>關注步驟</li>\n</ul>\n<blockquote><p>所謂“三思而行”在我看來就是指做任何事情之前都要考慮相關的3個方面：內容（What）、原因（Why）、方法（How）。任何任務都起碼具備3個屬性：何事（What）、何因（Why）、何法（How）。</p>\n</blockquote>\n\n<blockquote><p>不停地細分、拆解任務，而且越具體越好，直至每個小任務都可以由一個人獨立完成。</p>\n</blockquote>\n\n<p>例子</p>\n<blockquote>\n<p>擴充詞彙量→托福詞彙→托福核心詞彙→21個單元→每個單元大約100 個單詞→一個單元分2次完成……<br>▷ 先嘗試做一兩個階段，測量一下完成一個階段需要多長時間。<br>▷ 按照測量的結果製作一個時間表，把其餘若干個階段所需要的時間填寫完整（最終總是需要做一些調整的）。<br>▷ 背單詞需要重複，所以，每3個階段過後要留出與完成1個階段相等的時間去複習。這就意味著一共需要花費完成56（42+14）個階段的時間。<br>▷ 每完成總任務的1/3，就增加與完成1個階段相等的再复習時間。這就意味著一共需要花費完成59（56+3）個階段的時間。<br>▷ 學習過程中可能需要多次快速重複記憶，每次可能相當於完成3～5個階段所需要的時間。由於熟悉程度的不斷增加，每次重複記憶所需要的時間會越來越短，所以，預計進行3次重複記憶需要相當於10個階段的時間。這就意味著一共需要花費完成69（59+10）個階段的時間。</p>\n<p>完成每個階段的具體步驟。</p>\n<p>▷ 每天早晨騰出一點時間。<br>▷ 把前一天背過的單詞朗讀至少2 遍。<br>▷ 聽錄音，跟讀當天要背的單詞3～5遍，主要關注發音、拼寫，順帶看看詞義，能記多少就記多少，不求速成。<br>▷ 上午利用閒暇時間通讀詞彙列表，並反复閱讀例句。<br>▷ 下午用專門的時間把當天要背的單詞集中背2～3遍。可以一邊讀，一邊抄，一邊背，不要只是坐在那里呆呆地盯著詞彙看。<br>▷ 空閒的時候反复聽當天要背的單詞，重複次數越多越好。<br>▷ 晚上睡覺前複習當天背的單詞。</p>\n</blockquote>\n<ul>\n<li>並行串行</li>\n</ul>\n<p><em>✖ 拆分細項，尋找並行的可能。</em></p>\n<blockquote>\n<p>華羅庚先生曾經用燒水泡茶為例說明過這個問題。</p>\n<blockquote>\n<p>燒水泡茶：參見《統籌方法平話及補充》，華羅庚著，中國工業出版社，1966。<br>▷ 辦法甲：洗好水壺，灌上涼水，放在火上。在等待水開的時候洗茶壺、洗茶杯、拿茶葉。等到水開，泡茶喝。<br>▷ 辦法乙：先做好一些準備工作，包括洗水壺、洗壺杯、拿茶葉。一切就緒，灌水、燒水，坐待水開了泡茶喝。<br>▷ 辦法丙：洗淨開壺，灌上涼水，放在火上，坐待水開。水開了之後急急忙忙找茶葉、洗茶壺、茶杯，泡茶喝。</p>\n</blockquote>\n</blockquote>\n<p><em>✖ 分別為聖的*</em>時間片***</p>\n<blockquote>\n<p>一個處理器在一個時間段內其實只能做一件事，因為它只有一個個體、一個時空。而多任務操作系統把一個長時間段劃分成很多短小的時間片，每個時間片只讓處理器執行一個進程（Process）——儘管同時可能有多個進程需要處理。在第一個時間片裡，操作系統讓處理器處理A進程；時間片的時間用完之後，無論A進程處理到什麼程度，都要被“掛起”（即，A進程這時不能再佔用處理器資源——儘管它還是被允許使用計算機的其他資源，如內存、磁盤、屏幕輸出等）；在第二個時間片裡，處理器處理的是B進程，時間用完之後，B進程將與A進程一樣被中途“掛起”；</p>\n</blockquote>\n<ul>\n<li>感知時間</li>\n</ul>\n<blockquote>\n<p>逃避責任就會帶來輕鬆，可那恰恰就是“生命中不能承受之輕”啊！</p>\n</blockquote>\n<p><em>有的時候「逃避雖可恥但有用」，學會判斷什麼是可以逃避的事，什麼是不可逃避的事。</em></p>\n<blockquote>\n<p>學著做每天的“事件日誌”（Event Log）。除了自己經歷的事件之外，<br>一概不記，而且盡量不記感想，不記感受，只記錄事件本身。<br>…<br>…記錄過程要比基於結果的記錄更為詳盡</p>\n</blockquote>\n<p>例子</p>\n<blockquote>\n<blockquote>\n<p>烏里揚諾夫斯克。一九六四年四月七日。分類昆蟲學（畫兩張無名袋蛾的圖）——三小時十五分。鑑定袋蛾——二十分（1.0）。</p>\n<p>附加工作：給斯拉瓦寫信——二小時四十五分（0.5）。</p>\n<p>社會工作：植物保護小組開會——二小時二十五分。休息：給伊戈爾寫信——十分；<br>《烏里揚諾夫斯克真理報》——十分；列夫·托爾斯泰的《塞瓦斯托波爾紀事》——一小時二十五分。</p>\n<p>基本工作合計——六小時二十分。</p>\n</blockquote>\n</blockquote>\n<p><em>✖ 簡單的分類 + 事件 + 費時，最後再合計起來。</em><br><em>(其於事實)條列式的記錄法，與時間調色盤(預定)的方法不太一樣。</em><br><em>你可以預定你要作的事，可是你無法正確的估時 ; 這是事實，請面對這個事實。</em><br><em>輔助上分別為聖的時間切片或許可以有所幫助</em></p>\n<ul>\n<li>記錄開銷</li>\n</ul>\n<p><em>練習中</em></p>\n<ul>\n<li>制訂預算</li>\n</ul>\n<p><em>✖ 先養成記錄的習慣，再養成制定預算的習慣</em><br><em>✖ 只列事情，重要/不重要</em></p>\n<blockquote><p>每個人都喜歡做有趣的事情，做的時候往往並不關心這件事到底有沒有用。可是，有趣的事不見得有用啊！</p>\n</blockquote>\n\n<blockquote><p>養成任何一個哪怕很小的習慣都需要掙扎。然而，貌似痛苦的掙扎過程，在將來的某個時刻終將變得其樂無窮。</p>\n</blockquote>\n\n<ul>\n<li>計劃</li>\n</ul>\n<blockquote><p>計劃成功的前提：目標現實可行</p>\n</blockquote>\n\n<blockquote><p>我們不是計劃著失敗，而是失敗地計劃(People don’t plan to fail, they fail to plan)。</p>\n</blockquote>\n<p><em>✖ 簡單的判斷目標是不是現實可行</em></p>\n<blockquote><blockquote>\n<p>證明我的目標現實可行的方法比較簡單：</p>\n<ol>\n<li>已經有人做到了。</li>\n<li>我與那個人沒有太大的差距。</li>\n</ol>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>長期計劃是需要通過實踐才能習得的能力</p>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>沒有人能給我做職業規劃。…生活本身充滿了意外，並且，總是意外到無以復加的地步。</p>\n</blockquote>\n</blockquote>\n\n<p><em>✖ 先從記錄開始，持續一周，繼續保持記錄下試著開始分配時間。</em><br><em>✖ 再試著從周計劃開始作規劃，練習並且保持。</em></p>\n<blockquote><blockquote>\n<p>計劃固然重要，行動更為重要。</p>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>任何事情，都可能經歷相同的過程：逐步熟悉，小心摸索，失敗、失敗、再失敗，<br>認真反思，捲土重來，直至成功。而最初，在我們對任務連基本的認知都沒有的時候，<br>制定出來的計劃十有八九隻不過是空談。</p>\n</blockquote>\n</blockquote>\n\n<ul>\n<li><p>列表</p>\n</li>\n<li><p>流程</p>\n</li>\n</ul>\n<p><em>✖ 預想各種可能的情境，不用一次到位，持續整合的重點在持續。</em></p>\n<p>範例:</p>\n<blockquote>\n<p>▷ 確定對方最可能方便接電話的時間（難以確定的時候先發短信詢問）。<br>▷ 在撥打電話甚至發短信詢問對方是否方便之前準備好一切計劃溝通的內容，作好檢查列表放在手邊，確保溝通過程中不會遺漏要點。<br>▷ 通話前把重要信息整理成電子文本，在通話中做必要的更新，通話結束後，馬上通過電子郵件將備忘發送給對方。<br>▷ 若對方沒有接電話，則給對方發署名短信告知詳細事由， 並做好記錄，防止自己遺忘此次溝通任務。<br>▷ ……</p>\n</blockquote>\n<ul>\n<li>預演</li>\n</ul>\n<blockquote>\n<p>準備不足，所以害怕。</p>\n</blockquote>\n<p><em>✖ 類似一種沙箱測試，讓錯誤發生在測試階段。</em></p>\n<ul>\n<li>驗收</li>\n</ul>\n<blockquote>\n<p>向自己提出一個問題並要想辦法回答清楚：“怎樣才算’做好’？</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">本篇心得: 這是需要實際操作的一篇，仍在實踐中。</span><br><span class=\"line\">首先是記錄自已的時間花在哪裡？</span><br><span class=\"line\">再來是制定時間的預算，分別出神聖的時間去累積一些東西(ex:學習英文、跑步);</span><br><span class=\"line\">當習慣養成，就不再困難了，而是生活的一部份。</span><br><span class=\"line\">同時注意工作的流程，</span><br><span class=\"line\">1. 問自已What Why How ?</span><br><span class=\"line\">2. 儘可能拆解工作流程的步驟到最小化，建立列表。</span><br><span class=\"line\">3. 常常發生的工作要設想各種情境,建立SOP,以縮短時間。</span><br><span class=\"line\">4. 陌生的工作可以透過預演來試錯。</span><br><span class=\"line\">5. 一定要驗收。</span><br><span class=\"line\">6. 面對困難與失敗。</span><br><span class=\"line\">7. 及時行動!</span><br><span class=\"line\">8. 及時行動!!</span><br><span class=\"line\">9. 及時行動!!!</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"四、學習\"><a href=\"#四、學習\" class=\"headerlink\" title=\"四、學習\"></a>四、學習</h2><h3 id=\"基本途徑\"><a href=\"#基本途徑\" class=\"headerlink\" title=\"基本途徑\"></a>基本途徑</h3><ul>\n<li>體驗</li>\n<li>觀察</li>\n<li>學習</li>\n</ul>\n<p><em>✖ 自由是可以被剝奪的。</em></p>\n<h3 id=\"經驗局限\"><a href=\"#經驗局限\" class=\"headerlink\" title=\"經驗局限\"></a>經驗局限</h3><blockquote><blockquote>\n<p>日常生活中主要的“溝通障礙”本質上幾乎都是由於溝通雙方無法讓對方理解與他們的經驗相悖的知識或信息造成的。</p>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>長期的進化使人類到達了今天這個高度，但是每個人在出生的那一剎那，居然與其他動物站在幾乎同樣的起點上，心智要從零開始進化。</p>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<blockquote>\n<p>優秀的領導，能夠把人們帶到他們想去的地方；而卓越的領導，能夠把人們帶到他們應該去但是沒想過要去的地方<br>A leader takes people where they want to go. A great leader takes people where they don’t necessarily want to go, but ought to be.</p>\n</blockquote>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>牢記在這世界上確實存在“與現有經驗相悖的知識”，再把這句話變成經驗，用它去類比未知，而後投入大量的時間和精力去學習和掌握“科學方法論”，掙扎著進化成為真正意義上的“人”。</p>\n</blockquote>\n</blockquote>\n\n<h3 id=\"自學能力\"><a href=\"#自學能力\" class=\"headerlink\" title=\"自學能力\"></a>自學能力</h3><ul>\n<li>閱讀理解能力 -&gt;檢索能力 -&gt; 寫作能力 -&gt; 實踐能力</li>\n<li>永遠保持開放的心態</li>\n</ul>\n<blockquote>\n<p>最好固定一段時間來把那些目前暫時無法理解的、支持的、反對的、無所謂的論點和觀點記錄下來。對無法理解的，寫下自己當時的疑惑何在；對支持的，記錄幾個理由或者實例；對反對的，同樣記錄幾個理由或者實例；甚至對那些無所謂的，也記錄其原因。一個有著這樣良好記錄習慣的人會獲得他人無法擁有的處理信息和知識的能力——“反芻”。這種“反芻”能力是我們避免成為“選擇性輸入”受害者的重要保障。<br>在學習的時候，進展和時間的關係肯定不是線性的：所謂“一分耕耘，一分收穫”。這個關係曲線更可能是階梯狀的：學習過程中有很長時間一點進展都沒有，但從某一刻開始突飛猛進，而後又是長長的一段所謂的“平台期”。…只有經歷積累的過程，“量變到質變”的效果才會出現，才有可能突飛猛進。</p>\n</blockquote>\n<h2 id=\"五、思考\"><a href=\"#五、思考\" class=\"headerlink\" title=\"五、思考\"></a>五、思考</h2><ul>\n<li><a href=\"#c51\">勤於思考</a></li>\n<li><a href=\"#c52\">思維陷阱</a></li>\n<li><a href=\"#c53\">因果關係</a></li>\n<li><a href=\"#c54\">逆命題</a></li>\n<li><a href=\"#c55\">舉證責任</a></li>\n<li><a href=\"#c56\">案例局限</a></li>\n<li><a href=\"#c57\">對立論證</a></li>\n<li><a href=\"#c58\">張冠李戴</a></li>\n<li><a href=\"#c59\">感悟與道理</a></li>\n<li><a href=\"#c510\">克服恐懼</a></li>\n<li><a href=\"#c511\">輔助工具</a></li>\n</ul>\n<h3 id=\"勤於思考\"><a href=\"#勤於思考\" class=\"headerlink\" title=\"勤於思考\"></a><span id=\"c51\">勤於思考</span></h3><blockquote>\n<p>人都有大腦，閒置還是使用，是個問題。</p>\n</blockquote>\n<ol>\n<li>獨立思考</li>\n<li>思考任務的目標、實質、意義</li>\n</ol>\n<blockquote>\n<p>很多人就是這樣，堅持拒絕思考，然後用天下最累的方式生活而不自知。大哲學家羅素曾觀察到這個現象，他為之奇怪並慨嘆，“ 很多人寧願死也不願思考 ”，然後戲謔道，“ 實際上，他們確實死得很快。”</p>\n<blockquote>\n<p>Most people would die sooner than think — in fact they do so.<br>— Bertrand Russell，In The ABC of Relativity，1925，P.166</p>\n</blockquote>\n</blockquote>\n<h3 id=\"思維陷阱\"><a href=\"#思維陷阱\" class=\"headerlink\" title=\"思維陷阱\"></a><span id=\"c52\">思維陷阱</span></h3><h4 id=\"概念不清和拒絕接受不確定性\"><a href=\"#概念不清和拒絕接受不確定性\" class=\"headerlink\" title=\"概念不清和拒絕接受不確定性\"></a>概念不清和拒絕接受不確定性</h4><ol>\n<li>概念不清</li>\n</ol>\n<blockquote><blockquote>\n<p>學習任何知識最重要的一點，就是搞清楚它所有的基礎概念。</p>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>讀教科書，要先把所有概念都記下來，暫時不懂的就死記硬背。把概念牢記於心，就可以通過以後的學習和實踐反複審視它，並形成透徹理解。</p>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>本書強調“時間不可管理”、“我們只能管理自己”，並非咬文嚼字。“時間管理”和“自我管理”是完全不同的概念——焦點不同，方法不同，效果不同</p>\n</blockquote>\n</blockquote>\n\n<ol start=\"2\">\n<li>拒絕接受不確定性</li>\n</ol>\n<blockquote>\n<p>未知永遠存在。從本質上來看，不確定性和未知是一回事。</p>\n</blockquote>\n<h3 id=\"因果關係\"><a href=\"#因果關係\" class=\"headerlink\" title=\"因果關係\"></a><span id=\"c53\">因果關係</span></h3><h4 id=\"基礎\"><a href=\"#基礎\" class=\"headerlink\" title=\"基礎\"></a>基礎</h4><blockquote>\n<p>外因會影響內因，內因同樣會影響外因。它們相互影響，互為因果。</p>\n<p>舉一個特別好玩的現象為例：在某種意義上，學生的水平決定教師的水平。</p>\n<p>這話並沒有說反。師生之間的有效溝通，肯定不僅是教師單方面的灌輸。越是用心的教師，越關注學生的反饋；越是用心的學生，越關注教師對他的反饋的反饋。顯然，這種溝通不僅是雙向的，還隨著雙方的用心程度而不斷增強。</p>\n<p>這和下棋是一樣的道理。據說，棋藝到了一定程度，棋手就會不由自主地挑選對手，因為跟高手下棋就會進步，但反過來，與“臭手”交手多了，自己的手也會變“臭”……優質的學生，對他們的教師來說，不僅是令人愉悅的教學對象（學生一點就透，老師沒有不開心的），更重要的，他們還是對教師的挑戰——這些學生有著長期而且優秀的學習經驗，也因此擁有相對良好的判斷能力，隨時可能提出一般教師無法回答的問題。經過一段時間的積累，雙方都會因為教學和溝通發生巨大的進步——只要雙方都足夠優秀，足夠用心。</p>\n</blockquote>\n<blockquote><p>正在塑造我們的這個環境，也是我們自己（參與）塑造的</p>\n</blockquote>\n\n<blockquote>\n<h4 id=\"要做一個用心的人，要用心做事，因為這世界其實也是有“心”的\"><a href=\"#要做一個用心的人，要用心做事，因為這世界其實也是有“心”的\" class=\"headerlink\" title=\"要做一個用心的人，要用心做事，因為這世界其實也是有“心”的\"></a>要做一個用心的人，要用心做事，因為這世界其實也是有“心”的</h4></blockquote>\n<h4 id=\"雙盲測試\"><a href=\"#雙盲測試\" class=\"headerlink\" title=\"雙盲測試\"></a>雙盲測試</h4><p><em>註: 受測者不知道安慰劑的存在，測試者則不知道誰服用了安慰劑，單純以局外人的角度觀測記錄。</em></p>\n<blockquote>\n<p>人群中也有差不多⅓的人更易受到（來自他人或來自自身的）心理暗示的影響。也就是說，他們更可能在服用安慰劑後病情真正好轉。</p>\n</blockquote>\n<h4 id=\"自證預言\"><a href=\"#自證預言\" class=\"headerlink\" title=\"自證預言\"></a>自證預言</h4><blockquote>\n<p>莫頓教授用銀行擠兌的例子說明了自證預言的作用機理：</p>\n<blockquote>\n<p>一家銀行本來運作得很正常，但不知什麼原因，出現了“這家銀行要倒閉”的流言。流言越傳越廣，導致越來越多的人信以為真，有人為防意外而跑到銀行把自己的存款提走。恐慌情緒蔓延，並且變得愈加真實，更多的人衝進銀行提走自己的存款……最終，擠兌發生了，銀行真的倒閉了。</p>\n</blockquote>\n</blockquote>\n<blockquote>\n<p>一個原本並不存在的原因竟然“無中生有”變成了真正的原因。</p>\n</blockquote>\n<h4 id=\"心中恐惧失敗，才是失敗的原因。\"><a href=\"#心中恐惧失敗，才是失敗的原因。\" class=\"headerlink\" title=\"心中恐惧失敗，才是失敗的原因。\"></a>心中恐惧失敗，才是失敗的原因。</h4><h3 id=\"逆命題\"><a href=\"#逆命題\" class=\"headerlink\" title=\"逆命題\"></a><span id=\"c54\">逆命題</span></h3><blockquote>\n<p><strong>原命題為真，它的逆命題不一定為真。</strong><br>P 則 Q 等於 ~Q 則 ~P<br>但是不一定存在 Q 則 P 的關係</p>\n</blockquote>\n<blockquote>\n<p>有70%以上的人分不清楚原命題和逆命題之間的區別。</p>\n<blockquote>\n<p>參見《認知心理學》（Cognitive Psychology: A Student’s Handbook，2000），邁克爾·艾森克（Michael W. Eysenck）、馬克·基恩（Mark T. Keane）合著。</p>\n</blockquote>\n</blockquote>\n<p><em>✖ 心得: 人很好騙，至少70%很好騙。</em></p>\n<h3 id=\"舉證責任\"><a href=\"#舉證責任\" class=\"headerlink\" title=\"舉證責任\"></a><span id=\"c55\">舉證責任</span></h3><blockquote>\n<p>“舉證責任”是不對等的<br>爭論雙方的境況常常處於這種狀態：<br>▷其中一方肩負沉重的舉證責任（burden of proof）<br>▷另外一方則享有來自假設的恩惠（benefit of assumption）</p>\n</blockquote>\n<blockquote><p>既然你無法證明我是錯的，那麼我就是對的。這是一種典型的邏輯錯誤</p>\n</blockquote>\n\n<p><em>✖ 套用一下邏輯學:</em><br><em>我是對的 則 你無法証明我是錯的，恒為真。</em><br><em>你無法証明我是錯的 則 我是錯的，恒為真。</em><br><em>你無法證明我是錯的 則 我是對的，不恒為真</em></p>\n<h3 id=\"案例局限\"><a href=\"#案例局限\" class=\"headerlink\" title=\"案例局限\"></a><span id=\"c56\">案例局限</span></h3><blockquote>\n<p>最為常見的邏輯錯誤就是“以偏概全”——某種經驗在某個人身上應驗了，並不意味著該經驗在所有人身上都會起作用。</p>\n</blockquote>\n<p><em>✖ 常見的推銷話術，我作得到，你也作得到。努力就會成功。</em><br><em>這類的話術可怕的地方在於它不完全是錯的，但是你必需客觀衡量各種條件，而非局限單一案例。</em></p>\n<h3 id=\"對立論證\"><a href=\"#對立論證\" class=\"headerlink\" title=\"對立論證\"></a><span id=\"c57\">對立論證</span></h3><blockquote><blockquote>\n<p>人們可能基於一模一樣的原因做出截然相反的決定。換句話說，用同樣的論據證明截然相反的論點。</p>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>抱怨上司“愚蠢”的人和能夠發覺“上司的愚蠢可能有另外的解釋”的人，得到的結論和採取的行動往往截然相反。<strong>因此，時間在他們接下來的經歷中所產生的伴隨作用也截然相反。這裡，時間再一次選擇與心智強大的人做朋友</strong></p>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>一旦意識到對立論證的存在，應該<strong>“哪一個更合理、更現實就接受哪一個”</strong>，而非“哪一個更積極就接受哪一個”，因為後者只是自我欺騙而已。積極的並不總是好的，哪一個極端理想主義者（以及他們的想法、理念）不是積極的呢？</p>\n</blockquote>\n</blockquote>\n\n<p><em>✖ 職場上不論是留下繼續努力，或是掛冠求去都無對錯之分，而是何者更為合理。這個道理在人生的選擇上也是，需要注意對立論證的存在，堅持或放棄本無對錯，合理的判斷即可。</em></p>\n<h3 id=\"張冠李戴\"><a href=\"#張冠李戴\" class=\"headerlink\" title=\"張冠李戴\"></a><span id=\"c58\">張冠李戴</span></h3><blockquote><blockquote>\n<p>論點和論據之間儘管全無邏輯聯繫，卻可以用一種“顯然合理”的姿態綁在一起。</p>\n</blockquote>\n</blockquote>\n\n<p>舉例:</p>\n<blockquote>\n<p>將字母A到Z分別編上1到26的分數（A=1,B=2,…,Z=26），然後比較不同單詞的分值：<br>▷Knowledge（知識）得到96分<br>（11+14+15+23+12+5+4+7+5=96）；<br>▷Hardwork（努力）也只得到98分<br>（8+1+18+4+23+15+18+11=98）；<br>▷Attitude（態度）才能左右你生命的全部，<br>因為它能得到100分<br>（1+20+20+9+20+21+4+5=100）——滿分。<br>得出結論：“態度改變一切”。<br>Bullshit（胡說八道）<br>(2+21+12+12+19+8+9+20=103)</p>\n</blockquote>\n<h3 id=\"感悟與道理\"><a href=\"#感悟與道理\" class=\"headerlink\" title=\"感悟與道理\"></a><span id=\"c59\">感悟與道理</span></h3><blockquote><p>“道理”應該是普適的，而“感悟”只來自個體經驗。</p>\n</blockquote>\n\n<blockquote><p>並非只有專家級別的新聞工作者才要分清“看法與事實之間的區別”，其實每個人都需要清楚地認識“道理”和“感悟”之間的巨大差異。</p>\n</blockquote>\n\n<blockquote><p>如果某個人把他們說的當作全部，把他們沒說的當作沒有，那麼這個人的智商就跟寓言中那個掩耳盜鈴的傢伙屬於同一個水平了。</p>\n</blockquote>\n\n<blockquote><p>人類普遍擁有的一個認知偏差就是：把成功攬到自己身上，把失敗歸咎於別人或者壞運氣。（這在心理學上有個術語，叫做“自利性偏差(Self-servingBias)”。）從這裡我們就可以知道，那些“成功者”這麼做的時候，往往並不是有意欺騙——他們甚至出於好意。</p>\n</blockquote>\n\n<blockquote><p>一個很實用的建議：與其關注成功者，不妨反其道而行之——努力從失敗者身上汲取經驗。</p>\n</blockquote>\n\n\n<p><em>✖ 困難的點在於，感悟難以作”雙盲測試”，也深受”案例局限”與”安慰劑效應”影響</em></p>\n<h3 id=\"克服恐懼\"><a href=\"#克服恐懼\" class=\"headerlink\" title=\"克服恐懼\"></a><span id=\"c510\">克服恐懼</span></h3><blockquote><p>“道理都明白，可就做不到”</p>\n</blockquote>\n\n<h3 id=\"輔助工具\"><a href=\"#輔助工具\" class=\"headerlink\" title=\"輔助工具\"></a><span id=\"c511\">輔助工具</span></h3><h4 id=\"語言\"><a href=\"#語言\" class=\"headerlink\" title=\"語言\"></a>語言</h4><blockquote><p>以下一些句式最好經常使用，因為它們特別有助於獨立思考習慣的養成，並且也有刺激思考的作用：<br>▷……是一回事，而……是另外一回事。<br>▷……和……其實根本不是一回事。<br>▷……不一定……<br>▷……。可是，這並不意味著……<br>▷……也許還有另外一種可能性（解釋）。<br>▷……看起來像……，可是……<br>▷……。而事實卻可能遠比看起來的更為複雜（簡單）。<br>▷……。然而，（這個論斷）反過來（陳述）卻不一定成立……<br>▷……其實很可能與……根本就沒有任何關係。<br>▷……和……之間不一定是單純的因果關係，它們也可能互為因果。<br>▷……和……之間的比較也許沒有任何意義。<br>▷……其實不過是表面現象，其背後的本質是……<br>▷……有一個通常被忽略的前提。<br>▷……儘管聽起來很有道理，然而卻完全不現實。<br>▷……也許有人會說……，但是這種質疑卻……</p>\n</blockquote>\n\n<blockquote><p>要刻意迴避的句子<br>▷……難道就沒有一點可取之處嗎？<br>▷……要是……就好了！</p>\n</blockquote>\n\n\n<h2 id=\"六、交流\"><a href=\"#六、交流\" class=\"headerlink\" title=\"六、交流\"></a>六、交流</h2><h3 id=\"學會傾聽\"><a href=\"#學會傾聽\" class=\"headerlink\" title=\"學會傾聽\"></a>學會傾聽</h3><blockquote><p>為了真正做到有效傾聽，最需要克制的就是“過早質疑”。</p>\n</blockquote>\n\n<blockquote><p>就算需要質疑，也一定要等到對方把話說完。</p>\n</blockquote>\n\n<h3 id=\"說與不說\"><a href=\"#說與不說\" class=\"headerlink\" title=\"說與不說\"></a>說與不說</h3><blockquote><p>“知無不言，言無不盡”在大部分情況下是最浪費時間和精力的做法。</p>\n</blockquote>\n\n<blockquote><p>…在分辨談話對象之前很可能要先分辨自己，所以，<br>“可與言而不與言，失人。不可與言而與之言，失言。”這是說要分辨談話的對象。</p>\n</blockquote>\n\n<h3 id=\"共生狀態\"><a href=\"#共生狀態\" class=\"headerlink\" title=\"共生狀態\"></a>共生狀態</h3><blockquote>\n<p>見瓦茨拉夫·哈維爾先生製定的《對話守則》：<br>1.對話的目的是尋求真理，不是為了鬥爭。<br>2.不做人身攻擊。<br>3.保持主題。<br>4.辯論時要用證據。<br>5.不要堅持錯誤不改。<br>6.要分清對話與只准自己講話的區別。<br>7.對話要有記錄。<br>8.盡量理解對方。</p>\n</blockquote>\n<blockquote><p>雙方想要進行有意義的討論，最基本的要求就是雙方必須共同遵守“理性討論基本原則”。</p>\n</blockquote>\n\n<blockquote><p>跨越“自以為是”</p>\n</blockquote>\n\n<p><em>✖ 「緣督以為經；因其故然」— 莊子。養生主 ; 學習應順其自然，不然會把自已累死。「知知為知知，不知為不知，是知也」—論語</em> </p>\n<blockquote><p>第一個原則：有意義的討論是競合<br>第二個原則：真理是獨立存在的<br>第三個原則：真理不變</p>\n</blockquote>\n\n<h3 id=\"正確複述\"><a href=\"#正確複述\" class=\"headerlink\" title=\"正確複述\"></a>正確複述</h3><blockquote>\n<p>為了保證溝通順利，往往需要添加一個驗證機制，或者說反饋機制。</p>\n</blockquote>\n<h3 id=\"勤於反思\"><a href=\"#勤於反思\" class=\"headerlink\" title=\"勤於反思\"></a>勤於反思</h3><ul>\n<li>深刻了解經驗的局限</li>\n<li>時時刻刻保持警惕 </li>\n</ul>\n<blockquote>\n<p>手裡只有一把錘子，看什麼問題都像釘子    </p>\n</blockquote>\n<ul>\n<li>用記錄，使自己能夠記住更多的經驗 </li>\n<li>通過觀察和閱讀汲取他人的經驗</li>\n<li>經常試用類比來跨越未知與已知的障礙 </li>\n<li>耐心等待以獲得不能跨越時間的經驗  </li>\n</ul>\n<h2 id=\"七、應用\"><a href=\"#七、應用\" class=\"headerlink\" title=\"七、應用\"></a>七、應用</h2><h3 id=\"興趣\"><a href=\"#興趣\" class=\"headerlink\" title=\"興趣\"></a>興趣</h3><blockquote>\n<p>說來說去，是順序出了問題：往往並不是有興趣才能做好，而是做好了才有興趣。人們總是搞錯順序，並對這樣的錯誤毫不知曉。雖然並非絕對，但完成大多數事情，確實都需要熟能生巧。做得多了，自然就能擅長；擅長了，自然就做得比別人好；做得比別人好了，興趣就濃起來了，而後就更喜歡做、更擅長……進入良性循環。可同樣的，做得多，就需要大量的時間投入，所謂“沒興趣”，往往不過是結果，如果將它當作“不去做好”的理由，最終的懲罰就是大量時間白白流逝。</p>\n</blockquote>\n<h3 id=\"方法\"><a href=\"#方法\" class=\"headerlink\" title=\"方法\"></a>方法</h3><blockquote>\n<p>所有學習上的成功，都只依靠兩件事——策略和堅持，而堅持本身就是最重要的策略。堅持，其實就是重複；而重複，說到底就是時間的投入，準確地說，是大量時間的投入。</p>\n</blockquote>\n<p><em>✖ 你沒有實際作之前，不會知道效果如何，再在找更好的方法之前，最好的策略是堅持</em></p>\n<h3 id=\"痛苦-比較-運氣\"><a href=\"#痛苦-比較-運氣\" class=\"headerlink\" title=\"痛苦 -比較 - 運氣\"></a>痛苦 -比較 - 運氣</h3><h3 id=\"人脈\"><a href=\"#人脈\" class=\"headerlink\" title=\"人脈\"></a>人脈</h3><blockquote><blockquote>\n<p>當我們把時間花到一個人身上的時候，相當於在他身上傾注了自己生命的一段。</p>\n</blockquote>\n</blockquote>\n\n<blockquote><blockquote>\n<p>▷專心做可以提升自己的事情，學習並擁有更多、更好的技能，成為一個值得他人交往的人。<br>▷學會獨善其身，以不給他人製造麻煩為美德，用自己的獨立贏得尊重。</p>\n</blockquote>\n</blockquote>\n\n<p><em>✖ 人必自重而後人重之—你值得人家交往，人家就會來跟你交往。</em></p>\n<h3 id=\"自卑\"><a href=\"#自卑\" class=\"headerlink\" title=\"自卑\"></a>自卑</h3><p><em>✖  保持謙卑，認識真正的自已。</em></p>\n<h3 id=\"靈感\"><a href=\"#靈感\" class=\"headerlink\" title=\"靈感\"></a>靈感</h3><p><em>✖ 靈感來自於累積，筆記是一個好工具</em></p>\n<h3 id=\"鼓勵\"><a href=\"#鼓勵\" class=\"headerlink\" title=\"鼓勵\"></a>鼓勵</h3><h3 id=\"效率\"><a href=\"#效率\" class=\"headerlink\" title=\"效率\"></a>效率</h3><h3 id=\"節奏\"><a href=\"#節奏\" class=\"headerlink\" title=\"節奏\"></a>節奏</h3><h3 id=\"物極必反\"><a href=\"#物極必反\" class=\"headerlink\" title=\"物極必反\"></a>物極必反</h3><blockquote>\n<ul>\n<li>絕對不要盲目地試圖減少睡眠時間</li>\n<li>盡量不要減少與家庭成員交流的時間</li>\n<li>最好不要放棄你的社交時間</li>\n</ul>\n</blockquote>\n<h3 id=\"自我證明\"><a href=\"#自我證明\" class=\"headerlink\" title=\"自我證明\"></a>自我證明</h3><h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"http://zhibimo.com/read/xiaolai/ba-shi-jian-dang-zuo-peng-you/index.html\" target=\"_blank\" rel=\"noopener\">電子書</a></li>\n<li><a href=\"http://www.books.com.tw/products/CN11349756\" target=\"_blank\" rel=\"noopener\">奇特的一生</a></li>\n</ul>\n"},{"title":"ASP.NET Thread Pool 與 Redis Timeout Exception","date":"2016-11-21T08:49:17.000Z","_content":"\n\n## 概述\n\nASP.NET Thread Pool 的機制如何影響 Redis\n\n## 案例\n\n線上維護的系統偶爾會發生 Redis Timeout Exception ,\n並在 elmah 發現以下的錯誤記錄\n\n```csharp\nTimeout performing SETEX Cache:Prod:WebAPI:Key:20161121152607, inst: 18, mgr: ExecuteSelect, err: never,  \nqueue: 0, qu: 0, qs: 0, qc: 0, wr: 0, wq: 0, in: 0, ar: 1,  \nIOCP: (Busy=0,Free=1000,Min=8,Max=1000), WORKER: (Busy=13,Free=32754,Min=8,Max=32767), clientName: TYO-MWEB \n```\n\n## 解析\n\n這時當 StackExchange.Redis 在進行同步作業的時候,  \n如果超過 `synctimeout` 的設定值(預設是1000ms), \nRedis 會佔用.NET的 workerthread \n而在 .NET 底層隱含著一個機制,\n會導致錯誤。\n\n### Thread Pool 500ms 的機制\n\n*一種簡化的說法「 ASP.NET Thread Pool 一秒能建立2個Thread。」*\n\n設定值 `minworkerthread` 就像是遊樂場*已經開啟*的閘門,\n每當有一個遊客(Task)進來時,立即提供給它使用。\n但是當遊客(Task)變多的時候,就會開始排隊(Queue),\nASP.NET Thread Pool 隱含著一個機制,\n當它的隊伍(Queue)長達500豪秒沒有移動的話,\n就會開啟新的閘門(建立新的Thread)。\n而我的情境屬於[Burst of traffic](#burst_of_traffic),\n突然大量 Task 湧入 Queue ,  \nThreadPool 需要大量的 Thread  \n每個新的 Thread 都需要 500ms 的反應時間 ,  \n而累積的時間超過 Task 的 Timeout 設定值時 ,  \n就會拋出Exception.\n\n![ASP.NET Thread Pool](/images/workerthread_and_iothread/110416_103521_AM.jpg)\n\nASP.NET Thread Pool 的排隊機制與`minworkerthread` 設定值相關。  \n可以透過調整 `machine.config` 來修正。  \n參考([爭用、 效能不佳、 和死結 （deadlock） 當您從 ASP.NET 應用程式呼叫 Web 服務](https://support.microsoft.com/zh-tw/kb/821268))。  \n\n`minworkerthread` 的預設值是 1 。  \n但是會與執行環境的CPU個數有關,  \n假設你是四核的主機,那就要乘上 4。\n\n```xml\n<system.web>\n    <processModel autoConfig=\"false\" minWorkerThreads=\"1\" />\n</system.web>\n```\n\n### 範例\n\n當 Redis 發生 Timeout 時,\n可以透過錯誤訊息判斷其背後的原因是否與 workerthread 有關。\n在以下的例子可以看到 IOCP 與 WORKER 兩個值。\n這兩值表示 .Net ThreadPool 內的兩種執行緒,\n如果 Busy 值很高, 就有可能是 ThreadPool 來不及建立造成的錯誤。\n\n```csharp\nSystem.TimeoutException: Timeout performing MGET 2728cc84-58ae-406b-8ec8-3f962419f641,  \ninst: 1,mgr: Inactive, queue: 73, qu=6, qs=67, qc=0, wr=1/1, in=0/0  \nIOCP: (Busy=0, Free=999, Min=2,Max=1000), WORKER (Busy=7,Free=8184,Min=2,Max=8191) \n```\n\n### Error Code 說明\n\n|Error code|Details|範例|說明|\n|---|---|---|---|\n|inst|in the last time slice: 0 commands have been issued|在最後時脈：已發出0個命令|最後的時脈發出的命令個數|\n|mgr|the socket manager is performing \"socket.select\", <br />which means it is asking the OS to indicate a socket <br />that has something to do; <br /> basically: the reader is not actively reading from <br />the network because it doesn't think there<br /> is anything to do||最後的操作命令|\n|queue|  there are 73 total in-progress operations|73個正在排隊中的操作|正在排隊中的操作|\n|qu|6 of those are in unsent queue: they have not yet been written to the outbound network|6個未發送的queue|未發送的queue|\n|qs|67 of those have been sent to the server but a response is not yet available.  The response could be: Not yet sent by the server sent by the server but not yet processed by the client. |67個已發送的queue|已發送的queue|\n|qc|0 of those have seen replies but have not yet been marked as complete due to waiting on the completion loop|0個已發送未標記完成的queue|已發送未標記完成的queue|\n|wr|there is an active writer (meaning - those 6 unsent are not being ignored) bytes/activewriters |有 1 個啟用的writer,(意味著qu的工作並沒有被忽略) bytes/activewriters|bytes/activewriters|\n|in|there are no active readers and zero bytes are available to be read on the NIC bytes/activereaders|0個reader|bytes/activereaders|\n\n## 參考\n- [Threading](https://msdn.microsoft.com/en-us/library/orm-9780596527570-03-19.aspx)\n- [Improving ASP.NET Performance](https://msdn.microsoft.com/en-us/library/ms998549.aspx)\n- [Programming the Thread Pool in the .NET Framework](https://msdn.microsoft.com/en-us/library/ms973903.aspx)\n- [DiagnoseRedisErrors-ClientSide](https://gist.github.com/JonCole/db0e90bedeb3fc4823c2)\n- [ThreadPool](https://gist.github.com/JonCole/e65411214030f0d823cb)\n\n(fin)\n\n---\n\n## 其它的 Redis Error 情境 \n只作摘要式的翻譯。\n\n### Memory pressure (記憶體壓力)\n\n`Problem:`  \n記憶體不足而開始讀取虛擬記憶體(磁碟)而導致特能低落。\nMemory pressure on the client machine leads to all kinds of performance problems that can   \ndelay processing of data that was sent by the Redis instance without any delay.   \nWhen memory pressure hits, the system typically has to page data from physical memory to   \nvirtual memory which is on disk. This page faulting causes the system to slow down significantly.  \n\n`Measurement:`  \nMonitory memory usage on machine to make sure that it does not exceed available memory.\nMonitor the Page Faults/Sec perf counter. Most systems will have some page faults even during   \nnormal operation, so watch for spikes in this page faults perf counter which correspond with timeouts.  \n\n`Resolution:`   \n增加記憶體或是減少記憶體使用量\nUpgrade to a larger client VM size with more memory or dig into your memory usage patterns   \nto reduce memory consuption.  \n\n---\n\n### <span style=\"color:red;\" id=\"burst_of_traffic\">Burst of traffic</span>\n\n`Problem:`  \nThreadPool突然大量的工作湧入queue導致執行緒來不及建立。\n Bursts of traffic combined with poor ThreadPool settings can result in delays in processing   \n data already sent by the Redis Server but not yet consumed on the client side.  \n\n`測量:`   \n可以用[程式](https://github.com/JonCole/SampleCode/blob/master/ThreadPoolMonitor/ThreadPoolLogger.cs)監控 ThreadPool .  \n或是單純透過 TimeoutException 的訊息,觀察IOCP與WORKER的Busy值來判斷.   \n`Measurement:`  \nMonitor how your ThreadPool statistics change over time using code like [this](https://github.com/JonCole/SampleCode/blob/master/ThreadPoolMonitor/ThreadPoolLogger.cs).   \nYou can also look at the TimeoutException message from StackExchange.Redis.    \nHere is an example :  \n\n```csharp\nSystem.TimeoutException: Timeout performing EVAL, inst: 8, mgr: Inactive, queue: 0, qu: 0, qs: 0, qc: 0, wr: 0, wq: 0, in: 64221, ar: 0, \nIOCP: (Busy=6,Free=999,Min=2,Max=1000), WORKER: (Busy=7,Free=8184,Min=2,Max=8191)\n```\n\nIn the above message, there are several issues that are interesting:  \nNotice that in the \"IOCP\" section and the \"WORKER\" section you have a \"Busy\" value that is  \ngreater than the \"Min\" value. This means that your threadpool settings need adjusting.  \nYou can also see \"in: 64221\". This indicates that 64211 bytes have been received at the kernel   \nsocket layer but haven't yet been read by the application (e.g. StackExchange.Redis).   \nThis typically means that your application isn't reading data from the network as quickly as   \nthe server is sending it to you.  \n\n`Resolution:` \n調整ThreadPool設定  \nConfigure your ThreadPool Settings to make sure that your threadpool will scale up quickly under burst scenarios.\n\n---\n\n### High CPU usage (CPU 過載)\n\n`Problem:` \nHigh CPU usage on the client is an indication that the system cannot keep up with the work that it has been asked to perform. High CPU is a problem because the CPU is busy and it can't keep up with the work the application is asking it to do. The response from Redis can come very quickly, but because the CPU isn't keeping up with the workload, the response sits in the socket's kernel buffer waiting to be processed. If the delay is long enough, a timeout occurs in spite of the requested data having already arrived from the server.\n\n`Measurement:` \nMonitor the System Wide CPU usage through the azure portal or through the associated perf counter. \nBe careful not to monitor process CPU because a single process can have low CPU usage at the same time that overall system CPU can be high. \nWatch for spikes in CPU usage that correspond with timeouts. As a result of high CPU, \nyou may also see high \"in: XXX\" values in TimeoutException error messages as described above in the \"Burst of traffic\" section. \nNote that in newer builds of StackExchange.Redis, the client-side CPU will be printed out in the timeout error message as long as the environment doesn't block access to the CPU perf counter.\n\n`Note:` \nStackExchange.Redis version 1.1.603 or later now prints out \"local-cpu\" usage when a timeout occurs to help understand when client-side CPU usage may be affecting performance.\n\n`Resolution:` \n增加CPU或是找出CPU產生過載的原因  \nUpgrade to a larger VM size with more CPU capacity or investigate what is causing CPU spikes.\n\n---\n\n### Client Side Bandwidth Exceeded (頻寬不足)\n\n`Problem:` \nDifferent sized client machines have limitations on how much network bandwidth they have available. \nIf the client exceeds the available bandwidth, then data will not be processed on the client side as quickly as the server is sending it. This can lead to timeouts.\n\n`Measurement:` \nMonitor how your Bandwidth usage change over time using code like this. Note that this code may not run successfully in some environments with restricted permissions (like Azure WebSites).\n\n`Resolution:` \n加大頻寬或減少使用量\nIncrease Client VM size or reduce network bandwidth consumption.\n\n----\n\n### Large Request/Response Size (過大的請求/回應量)\n\n`Problem:` \n如圖所示,A與B兩個Request都太過龐大,當同時發動請求時,  \nA 回應的時間過長, 導致 B 的Timeout\nA large request/response can cause timeouts. As an example, suppose your timeout value configured is 1 second. \nYour application requests two keys (e.g. 'A' and 'B') at the same time using the same physical network connection. \nMost clients support \"Pipelining\" of requests, such that both requests 'A' and 'B' are sent on the wire to the server one after the other without waiting for the responses. \nThe server will send the responses back in the same order. If response 'A' is large enough it can eat up most of the timeout for subsequent requests.\n\nBelow, I will try to demonstrate this. In this scenario, Request 'A' and 'B' are sent quickly, \nthe server starts sending responses 'A' and 'B' quickly, but because of data transfer times, \n'B' get stuck behind the other request and times out even though the server responded quickly.\n\n```\n|-------- 1 Second Timeout (A)----------|\n|-Request A-|\n     |-------- 1 Second Timeout (B) ----------|\n     |-Request B-|\n            |- Read Response A --------|\n                                       |- Read Response B-| (**TIMEOUT**)\n```\n\n`Measurement:` \nThis is a difficult one to measure. You basically have to instrument your client code to track large requests and responses.\n\n`Resolution:`\n將所需要的資料分割成數個小片段 再分別取回\nRedis is optimized for a large number of small values, rather than a few large values. \nThe preferred solution is to break up your data into related smaller values. See here for details around why smaller values are recommended.\nIncrease the size of your VM (for client and Redis Cache Server), to get higher bandwidth capabilities, reducing data transfer times for larger responses. \nNote that getting more bandwidth on just the server or just on the client may not be enough. \nMeasure your bandwidth usage and compare it to the capabilities of the size of VM you currently have.\nIncrease the number of ConnectionMultiplexer objects you use and round-robin requests over different connections (e.g. use a connection pool). \nIf you go this route, make sure that you don't create a brand new ConnectionMultiplexer for each request as the overhead of creating the new connection will kill your performance.","source":"_posts/2016/aspdotnet_threadpool_and_redis.md","raw":"---\ntitle: ASP.NET Thread Pool 與 Redis Timeout Exception\ndate: 2016/11/21 16:49:17\ntag:\n  - .Net Framework\n  - IO\n  - Thread  \n  - Redis\n---\n\n\n## 概述\n\nASP.NET Thread Pool 的機制如何影響 Redis\n\n## 案例\n\n線上維護的系統偶爾會發生 Redis Timeout Exception ,\n並在 elmah 發現以下的錯誤記錄\n\n```csharp\nTimeout performing SETEX Cache:Prod:WebAPI:Key:20161121152607, inst: 18, mgr: ExecuteSelect, err: never,  \nqueue: 0, qu: 0, qs: 0, qc: 0, wr: 0, wq: 0, in: 0, ar: 1,  \nIOCP: (Busy=0,Free=1000,Min=8,Max=1000), WORKER: (Busy=13,Free=32754,Min=8,Max=32767), clientName: TYO-MWEB \n```\n\n## 解析\n\n這時當 StackExchange.Redis 在進行同步作業的時候,  \n如果超過 `synctimeout` 的設定值(預設是1000ms), \nRedis 會佔用.NET的 workerthread \n而在 .NET 底層隱含著一個機制,\n會導致錯誤。\n\n### Thread Pool 500ms 的機制\n\n*一種簡化的說法「 ASP.NET Thread Pool 一秒能建立2個Thread。」*\n\n設定值 `minworkerthread` 就像是遊樂場*已經開啟*的閘門,\n每當有一個遊客(Task)進來時,立即提供給它使用。\n但是當遊客(Task)變多的時候,就會開始排隊(Queue),\nASP.NET Thread Pool 隱含著一個機制,\n當它的隊伍(Queue)長達500豪秒沒有移動的話,\n就會開啟新的閘門(建立新的Thread)。\n而我的情境屬於[Burst of traffic](#burst_of_traffic),\n突然大量 Task 湧入 Queue ,  \nThreadPool 需要大量的 Thread  \n每個新的 Thread 都需要 500ms 的反應時間 ,  \n而累積的時間超過 Task 的 Timeout 設定值時 ,  \n就會拋出Exception.\n\n![ASP.NET Thread Pool](/images/workerthread_and_iothread/110416_103521_AM.jpg)\n\nASP.NET Thread Pool 的排隊機制與`minworkerthread` 設定值相關。  \n可以透過調整 `machine.config` 來修正。  \n參考([爭用、 效能不佳、 和死結 （deadlock） 當您從 ASP.NET 應用程式呼叫 Web 服務](https://support.microsoft.com/zh-tw/kb/821268))。  \n\n`minworkerthread` 的預設值是 1 。  \n但是會與執行環境的CPU個數有關,  \n假設你是四核的主機,那就要乘上 4。\n\n```xml\n<system.web>\n    <processModel autoConfig=\"false\" minWorkerThreads=\"1\" />\n</system.web>\n```\n\n### 範例\n\n當 Redis 發生 Timeout 時,\n可以透過錯誤訊息判斷其背後的原因是否與 workerthread 有關。\n在以下的例子可以看到 IOCP 與 WORKER 兩個值。\n這兩值表示 .Net ThreadPool 內的兩種執行緒,\n如果 Busy 值很高, 就有可能是 ThreadPool 來不及建立造成的錯誤。\n\n```csharp\nSystem.TimeoutException: Timeout performing MGET 2728cc84-58ae-406b-8ec8-3f962419f641,  \ninst: 1,mgr: Inactive, queue: 73, qu=6, qs=67, qc=0, wr=1/1, in=0/0  \nIOCP: (Busy=0, Free=999, Min=2,Max=1000), WORKER (Busy=7,Free=8184,Min=2,Max=8191) \n```\n\n### Error Code 說明\n\n|Error code|Details|範例|說明|\n|---|---|---|---|\n|inst|in the last time slice: 0 commands have been issued|在最後時脈：已發出0個命令|最後的時脈發出的命令個數|\n|mgr|the socket manager is performing \"socket.select\", <br />which means it is asking the OS to indicate a socket <br />that has something to do; <br /> basically: the reader is not actively reading from <br />the network because it doesn't think there<br /> is anything to do||最後的操作命令|\n|queue|  there are 73 total in-progress operations|73個正在排隊中的操作|正在排隊中的操作|\n|qu|6 of those are in unsent queue: they have not yet been written to the outbound network|6個未發送的queue|未發送的queue|\n|qs|67 of those have been sent to the server but a response is not yet available.  The response could be: Not yet sent by the server sent by the server but not yet processed by the client. |67個已發送的queue|已發送的queue|\n|qc|0 of those have seen replies but have not yet been marked as complete due to waiting on the completion loop|0個已發送未標記完成的queue|已發送未標記完成的queue|\n|wr|there is an active writer (meaning - those 6 unsent are not being ignored) bytes/activewriters |有 1 個啟用的writer,(意味著qu的工作並沒有被忽略) bytes/activewriters|bytes/activewriters|\n|in|there are no active readers and zero bytes are available to be read on the NIC bytes/activereaders|0個reader|bytes/activereaders|\n\n## 參考\n- [Threading](https://msdn.microsoft.com/en-us/library/orm-9780596527570-03-19.aspx)\n- [Improving ASP.NET Performance](https://msdn.microsoft.com/en-us/library/ms998549.aspx)\n- [Programming the Thread Pool in the .NET Framework](https://msdn.microsoft.com/en-us/library/ms973903.aspx)\n- [DiagnoseRedisErrors-ClientSide](https://gist.github.com/JonCole/db0e90bedeb3fc4823c2)\n- [ThreadPool](https://gist.github.com/JonCole/e65411214030f0d823cb)\n\n(fin)\n\n---\n\n## 其它的 Redis Error 情境 \n只作摘要式的翻譯。\n\n### Memory pressure (記憶體壓力)\n\n`Problem:`  \n記憶體不足而開始讀取虛擬記憶體(磁碟)而導致特能低落。\nMemory pressure on the client machine leads to all kinds of performance problems that can   \ndelay processing of data that was sent by the Redis instance without any delay.   \nWhen memory pressure hits, the system typically has to page data from physical memory to   \nvirtual memory which is on disk. This page faulting causes the system to slow down significantly.  \n\n`Measurement:`  \nMonitory memory usage on machine to make sure that it does not exceed available memory.\nMonitor the Page Faults/Sec perf counter. Most systems will have some page faults even during   \nnormal operation, so watch for spikes in this page faults perf counter which correspond with timeouts.  \n\n`Resolution:`   \n增加記憶體或是減少記憶體使用量\nUpgrade to a larger client VM size with more memory or dig into your memory usage patterns   \nto reduce memory consuption.  \n\n---\n\n### <span style=\"color:red;\" id=\"burst_of_traffic\">Burst of traffic</span>\n\n`Problem:`  \nThreadPool突然大量的工作湧入queue導致執行緒來不及建立。\n Bursts of traffic combined with poor ThreadPool settings can result in delays in processing   \n data already sent by the Redis Server but not yet consumed on the client side.  \n\n`測量:`   \n可以用[程式](https://github.com/JonCole/SampleCode/blob/master/ThreadPoolMonitor/ThreadPoolLogger.cs)監控 ThreadPool .  \n或是單純透過 TimeoutException 的訊息,觀察IOCP與WORKER的Busy值來判斷.   \n`Measurement:`  \nMonitor how your ThreadPool statistics change over time using code like [this](https://github.com/JonCole/SampleCode/blob/master/ThreadPoolMonitor/ThreadPoolLogger.cs).   \nYou can also look at the TimeoutException message from StackExchange.Redis.    \nHere is an example :  \n\n```csharp\nSystem.TimeoutException: Timeout performing EVAL, inst: 8, mgr: Inactive, queue: 0, qu: 0, qs: 0, qc: 0, wr: 0, wq: 0, in: 64221, ar: 0, \nIOCP: (Busy=6,Free=999,Min=2,Max=1000), WORKER: (Busy=7,Free=8184,Min=2,Max=8191)\n```\n\nIn the above message, there are several issues that are interesting:  \nNotice that in the \"IOCP\" section and the \"WORKER\" section you have a \"Busy\" value that is  \ngreater than the \"Min\" value. This means that your threadpool settings need adjusting.  \nYou can also see \"in: 64221\". This indicates that 64211 bytes have been received at the kernel   \nsocket layer but haven't yet been read by the application (e.g. StackExchange.Redis).   \nThis typically means that your application isn't reading data from the network as quickly as   \nthe server is sending it to you.  \n\n`Resolution:` \n調整ThreadPool設定  \nConfigure your ThreadPool Settings to make sure that your threadpool will scale up quickly under burst scenarios.\n\n---\n\n### High CPU usage (CPU 過載)\n\n`Problem:` \nHigh CPU usage on the client is an indication that the system cannot keep up with the work that it has been asked to perform. High CPU is a problem because the CPU is busy and it can't keep up with the work the application is asking it to do. The response from Redis can come very quickly, but because the CPU isn't keeping up with the workload, the response sits in the socket's kernel buffer waiting to be processed. If the delay is long enough, a timeout occurs in spite of the requested data having already arrived from the server.\n\n`Measurement:` \nMonitor the System Wide CPU usage through the azure portal or through the associated perf counter. \nBe careful not to monitor process CPU because a single process can have low CPU usage at the same time that overall system CPU can be high. \nWatch for spikes in CPU usage that correspond with timeouts. As a result of high CPU, \nyou may also see high \"in: XXX\" values in TimeoutException error messages as described above in the \"Burst of traffic\" section. \nNote that in newer builds of StackExchange.Redis, the client-side CPU will be printed out in the timeout error message as long as the environment doesn't block access to the CPU perf counter.\n\n`Note:` \nStackExchange.Redis version 1.1.603 or later now prints out \"local-cpu\" usage when a timeout occurs to help understand when client-side CPU usage may be affecting performance.\n\n`Resolution:` \n增加CPU或是找出CPU產生過載的原因  \nUpgrade to a larger VM size with more CPU capacity or investigate what is causing CPU spikes.\n\n---\n\n### Client Side Bandwidth Exceeded (頻寬不足)\n\n`Problem:` \nDifferent sized client machines have limitations on how much network bandwidth they have available. \nIf the client exceeds the available bandwidth, then data will not be processed on the client side as quickly as the server is sending it. This can lead to timeouts.\n\n`Measurement:` \nMonitor how your Bandwidth usage change over time using code like this. Note that this code may not run successfully in some environments with restricted permissions (like Azure WebSites).\n\n`Resolution:` \n加大頻寬或減少使用量\nIncrease Client VM size or reduce network bandwidth consumption.\n\n----\n\n### Large Request/Response Size (過大的請求/回應量)\n\n`Problem:` \n如圖所示,A與B兩個Request都太過龐大,當同時發動請求時,  \nA 回應的時間過長, 導致 B 的Timeout\nA large request/response can cause timeouts. As an example, suppose your timeout value configured is 1 second. \nYour application requests two keys (e.g. 'A' and 'B') at the same time using the same physical network connection. \nMost clients support \"Pipelining\" of requests, such that both requests 'A' and 'B' are sent on the wire to the server one after the other without waiting for the responses. \nThe server will send the responses back in the same order. If response 'A' is large enough it can eat up most of the timeout for subsequent requests.\n\nBelow, I will try to demonstrate this. In this scenario, Request 'A' and 'B' are sent quickly, \nthe server starts sending responses 'A' and 'B' quickly, but because of data transfer times, \n'B' get stuck behind the other request and times out even though the server responded quickly.\n\n```\n|-------- 1 Second Timeout (A)----------|\n|-Request A-|\n     |-------- 1 Second Timeout (B) ----------|\n     |-Request B-|\n            |- Read Response A --------|\n                                       |- Read Response B-| (**TIMEOUT**)\n```\n\n`Measurement:` \nThis is a difficult one to measure. You basically have to instrument your client code to track large requests and responses.\n\n`Resolution:`\n將所需要的資料分割成數個小片段 再分別取回\nRedis is optimized for a large number of small values, rather than a few large values. \nThe preferred solution is to break up your data into related smaller values. See here for details around why smaller values are recommended.\nIncrease the size of your VM (for client and Redis Cache Server), to get higher bandwidth capabilities, reducing data transfer times for larger responses. \nNote that getting more bandwidth on just the server or just on the client may not be enough. \nMeasure your bandwidth usage and compare it to the capabilities of the size of VM you currently have.\nIncrease the number of ConnectionMultiplexer objects you use and round-robin requests over different connections (e.g. use a connection pool). \nIf you go this route, make sure that you don't create a brand new ConnectionMultiplexer for each request as the overhead of creating the new connection will kill your performance.","slug":"2016/aspdotnet_threadpool_and_redis","published":1,"updated":"2019-09-08T10:28:25.750Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wj8000kb0vxjw3at2da","content":"<h2 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h2><p>ASP.NET Thread Pool 的機制如何影響 Redis</p>\n<h2 id=\"案例\"><a href=\"#案例\" class=\"headerlink\" title=\"案例\"></a>案例</h2><p>線上維護的系統偶爾會發生 Redis Timeout Exception ,<br>並在 elmah 發現以下的錯誤記錄</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Timeout performing SETEX Cache:Prod:WebAPI:Key:<span class=\"number\">20161121152607</span>, inst: <span class=\"number\">18</span>, mgr: ExecuteSelect, err: never,  </span><br><span class=\"line\">queue: <span class=\"number\">0</span>, qu: <span class=\"number\">0</span>, qs: <span class=\"number\">0</span>, qc: <span class=\"number\">0</span>, wr: <span class=\"number\">0</span>, wq: <span class=\"number\">0</span>, <span class=\"keyword\">in</span>: <span class=\"number\">0</span>, ar: <span class=\"number\">1</span>,  </span><br><span class=\"line\">IOCP: (Busy=<span class=\"number\">0</span>,Free=<span class=\"number\">1000</span>,Min=<span class=\"number\">8</span>,Max=<span class=\"number\">1000</span>), WORKER: (Busy=<span class=\"number\">13</span>,Free=<span class=\"number\">32754</span>,Min=<span class=\"number\">8</span>,Max=<span class=\"number\">32767</span>), clientName: TYO-MWEB</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"解析\"><a href=\"#解析\" class=\"headerlink\" title=\"解析\"></a>解析</h2><p>這時當 StackExchange.Redis 在進行同步作業的時候,<br>如果超過 <code>synctimeout</code> 的設定值(預設是1000ms),<br>Redis 會佔用.NET的 workerthread<br>而在 .NET 底層隱含著一個機制,<br>會導致錯誤。</p>\n<h3 id=\"Thread-Pool-500ms-的機制\"><a href=\"#Thread-Pool-500ms-的機制\" class=\"headerlink\" title=\"Thread Pool 500ms 的機制\"></a>Thread Pool 500ms 的機制</h3><p><em>一種簡化的說法「 ASP.NET Thread Pool 一秒能建立2個Thread。」</em></p>\n<p>設定值 <code>minworkerthread</code> 就像是遊樂場<em>已經開啟</em>的閘門,<br>每當有一個遊客(Task)進來時,立即提供給它使用。<br>但是當遊客(Task)變多的時候,就會開始排隊(Queue),<br>ASP.NET Thread Pool 隱含著一個機制,<br>當它的隊伍(Queue)長達500豪秒沒有移動的話,<br>就會開啟新的閘門(建立新的Thread)。<br>而我的情境屬於<a href=\"#burst_of_traffic\">Burst of traffic</a>,\n突然大量 Task 湧入 Queue ,<br>ThreadPool 需要大量的 Thread<br>每個新的 Thread 都需要 500ms 的反應時間 ,<br>而累積的時間超過 Task 的 Timeout 設定值時 ,<br>就會拋出Exception.</p>\n<p><img src=\"/images/workerthread_and_iothread/110416_103521_AM.jpg\" alt=\"ASP.NET Thread Pool\"></p>\n<p>ASP.NET Thread Pool 的排隊機制與<code>minworkerthread</code> 設定值相關。<br>可以透過調整 <code>machine.config</code> 來修正。<br>參考(<a href=\"https://support.microsoft.com/zh-tw/kb/821268\" target=\"_blank\" rel=\"noopener\">爭用、 效能不佳、 和死結 （deadlock） 當您從 ASP.NET 應用程式呼叫 Web 服務</a>)。  </p>\n<p><code>minworkerthread</code> 的預設值是 1 。<br>但是會與執行環境的CPU個數有關,<br>假設你是四核的主機,那就要乘上 4。</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">system.web</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">processModel</span> <span class=\"attr\">autoConfig</span>=<span class=\"string\">\"false\"</span> <span class=\"attr\">minWorkerThreads</span>=<span class=\"string\">\"1\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">system.web</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"範例\"><a href=\"#範例\" class=\"headerlink\" title=\"範例\"></a>範例</h3><p>當 Redis 發生 Timeout 時,<br>可以透過錯誤訊息判斷其背後的原因是否與 workerthread 有關。<br>在以下的例子可以看到 IOCP 與 WORKER 兩個值。<br>這兩值表示 .Net ThreadPool 內的兩種執行緒,<br>如果 Busy 值很高, 就有可能是 ThreadPool 來不及建立造成的錯誤。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">System.TimeoutException: Timeout performing MGET <span class=\"number\">2728</span>cc84<span class=\"number\">-58</span>ae<span class=\"number\">-406</span>b<span class=\"number\">-8</span>ec8<span class=\"number\">-3</span>f962419f641,  </span><br><span class=\"line\">inst: <span class=\"number\">1</span>,mgr: Inactive, queue: <span class=\"number\">73</span>, qu=<span class=\"number\">6</span>, qs=<span class=\"number\">67</span>, qc=<span class=\"number\">0</span>, wr=<span class=\"number\">1</span>/<span class=\"number\">1</span>, <span class=\"keyword\">in</span>=<span class=\"number\">0</span>/<span class=\"number\">0</span>  </span><br><span class=\"line\">IOCP: (Busy=<span class=\"number\">0</span>, Free=<span class=\"number\">999</span>, Min=<span class=\"number\">2</span>,Max=<span class=\"number\">1000</span>), WORKER (Busy=<span class=\"number\">7</span>,Free=<span class=\"number\">8184</span>,Min=<span class=\"number\">2</span>,Max=<span class=\"number\">8191</span>)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Error-Code-說明\"><a href=\"#Error-Code-說明\" class=\"headerlink\" title=\"Error Code 說明\"></a>Error Code 說明</h3><table>\n<thead>\n<tr>\n<th>Error code</th>\n<th>Details</th>\n<th>範例</th>\n<th>說明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>inst</td>\n<td>in the last time slice: 0 commands have been issued</td>\n<td>在最後時脈：已發出0個命令</td>\n<td>最後的時脈發出的命令個數</td>\n</tr>\n<tr>\n<td>mgr</td>\n<td>the socket manager is performing “socket.select”, <br>which means it is asking the OS to indicate a socket <br>that has something to do; <br> basically: the reader is not actively reading from <br>the network because it doesn’t think there<br> is anything to do</td>\n<td></td>\n<td>最後的操作命令</td>\n</tr>\n<tr>\n<td>queue</td>\n<td>there are 73 total in-progress operations</td>\n<td>73個正在排隊中的操作</td>\n<td>正在排隊中的操作</td>\n</tr>\n<tr>\n<td>qu</td>\n<td>6 of those are in unsent queue: they have not yet been written to the outbound network</td>\n<td>6個未發送的queue</td>\n<td>未發送的queue</td>\n</tr>\n<tr>\n<td>qs</td>\n<td>67 of those have been sent to the server but a response is not yet available.  The response could be: Not yet sent by the server sent by the server but not yet processed by the client.</td>\n<td>67個已發送的queue</td>\n<td>已發送的queue</td>\n</tr>\n<tr>\n<td>qc</td>\n<td>0 of those have seen replies but have not yet been marked as complete due to waiting on the completion loop</td>\n<td>0個已發送未標記完成的queue</td>\n<td>已發送未標記完成的queue</td>\n</tr>\n<tr>\n<td>wr</td>\n<td>there is an active writer (meaning - those 6 unsent are not being ignored) bytes/activewriters</td>\n<td>有 1 個啟用的writer,(意味著qu的工作並沒有被忽略) bytes/activewriters</td>\n<td>bytes/activewriters</td>\n</tr>\n<tr>\n<td>in</td>\n<td>there are no active readers and zero bytes are available to be read on the NIC bytes/activereaders</td>\n<td>0個reader</td>\n<td>bytes/activereaders</td>\n</tr>\n</tbody></table>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/orm-9780596527570-03-19.aspx\" target=\"_blank\" rel=\"noopener\">Threading</a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/ms998549.aspx\" target=\"_blank\" rel=\"noopener\">Improving ASP.NET Performance</a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/ms973903.aspx\" target=\"_blank\" rel=\"noopener\">Programming the Thread Pool in the .NET Framework</a></li>\n<li><a href=\"https://gist.github.com/JonCole/db0e90bedeb3fc4823c2\" target=\"_blank\" rel=\"noopener\">DiagnoseRedisErrors-ClientSide</a></li>\n<li><a href=\"https://gist.github.com/JonCole/e65411214030f0d823cb\" target=\"_blank\" rel=\"noopener\">ThreadPool</a></li>\n</ul>\n<p>(fin)</p>\n<hr>\n<h2 id=\"其它的-Redis-Error-情境\"><a href=\"#其它的-Redis-Error-情境\" class=\"headerlink\" title=\"其它的 Redis Error 情境\"></a>其它的 Redis Error 情境</h2><p>只作摘要式的翻譯。</p>\n<h3 id=\"Memory-pressure-記憶體壓力\"><a href=\"#Memory-pressure-記憶體壓力\" class=\"headerlink\" title=\"Memory pressure (記憶體壓力)\"></a>Memory pressure (記憶體壓力)</h3><p><code>Problem:</code><br>記憶體不足而開始讀取虛擬記憶體(磁碟)而導致特能低落。<br>Memory pressure on the client machine leads to all kinds of performance problems that can<br>delay processing of data that was sent by the Redis instance without any delay.<br>When memory pressure hits, the system typically has to page data from physical memory to<br>virtual memory which is on disk. This page faulting causes the system to slow down significantly.  </p>\n<p><code>Measurement:</code><br>Monitory memory usage on machine to make sure that it does not exceed available memory.<br>Monitor the Page Faults/Sec perf counter. Most systems will have some page faults even during<br>normal operation, so watch for spikes in this page faults perf counter which correspond with timeouts.  </p>\n<p><code>Resolution:</code><br>增加記憶體或是減少記憶體使用量<br>Upgrade to a larger client VM size with more memory or dig into your memory usage patterns<br>to reduce memory consuption.  </p>\n<hr>\n<h3 id=\"Burst-of-traffic\"><a href=\"#Burst-of-traffic\" class=\"headerlink\" title=\"Burst of traffic\"></a><span style=\"color:red;\" id=\"burst_of_traffic\">Burst of traffic</span></h3><p><code>Problem:</code><br>ThreadPool突然大量的工作湧入queue導致執行緒來不及建立。<br> Bursts of traffic combined with poor ThreadPool settings can result in delays in processing<br> data already sent by the Redis Server but not yet consumed on the client side.  </p>\n<p><code>測量:</code><br>可以用<a href=\"https://github.com/JonCole/SampleCode/blob/master/ThreadPoolMonitor/ThreadPoolLogger.cs\" target=\"_blank\" rel=\"noopener\">程式</a>監控 ThreadPool .<br>或是單純透過 TimeoutException 的訊息,觀察IOCP與WORKER的Busy值來判斷.<br><code>Measurement:</code><br>Monitor how your ThreadPool statistics change over time using code like <a href=\"https://github.com/JonCole/SampleCode/blob/master/ThreadPoolMonitor/ThreadPoolLogger.cs\" target=\"_blank\" rel=\"noopener\">this</a>.   \nYou can also look at the TimeoutException message from StackExchange.Redis.<br>Here is an example :  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">System.TimeoutException: Timeout performing EVAL, inst: <span class=\"number\">8</span>, mgr: Inactive, queue: <span class=\"number\">0</span>, qu: <span class=\"number\">0</span>, qs: <span class=\"number\">0</span>, qc: <span class=\"number\">0</span>, wr: <span class=\"number\">0</span>, wq: <span class=\"number\">0</span>, <span class=\"keyword\">in</span>: <span class=\"number\">64221</span>, ar: <span class=\"number\">0</span>, </span><br><span class=\"line\">IOCP: (Busy=<span class=\"number\">6</span>,Free=<span class=\"number\">999</span>,Min=<span class=\"number\">2</span>,Max=<span class=\"number\">1000</span>), WORKER: (Busy=<span class=\"number\">7</span>,Free=<span class=\"number\">8184</span>,Min=<span class=\"number\">2</span>,Max=<span class=\"number\">8191</span>)</span><br></pre></td></tr></table></figure>\n\n<p>In the above message, there are several issues that are interesting:<br>Notice that in the “IOCP” section and the “WORKER” section you have a “Busy” value that is<br>greater than the “Min” value. This means that your threadpool settings need adjusting.<br>You can also see “in: 64221”. This indicates that 64211 bytes have been received at the kernel<br>socket layer but haven’t yet been read by the application (e.g. StackExchange.Redis).<br>This typically means that your application isn’t reading data from the network as quickly as<br>the server is sending it to you.  </p>\n<p><code>Resolution:</code><br>調整ThreadPool設定<br>Configure your ThreadPool Settings to make sure that your threadpool will scale up quickly under burst scenarios.</p>\n<hr>\n<h3 id=\"High-CPU-usage-CPU-過載\"><a href=\"#High-CPU-usage-CPU-過載\" class=\"headerlink\" title=\"High CPU usage (CPU 過載)\"></a>High CPU usage (CPU 過載)</h3><p><code>Problem:</code><br>High CPU usage on the client is an indication that the system cannot keep up with the work that it has been asked to perform. High CPU is a problem because the CPU is busy and it can’t keep up with the work the application is asking it to do. The response from Redis can come very quickly, but because the CPU isn’t keeping up with the workload, the response sits in the socket’s kernel buffer waiting to be processed. If the delay is long enough, a timeout occurs in spite of the requested data having already arrived from the server.</p>\n<p><code>Measurement:</code><br>Monitor the System Wide CPU usage through the azure portal or through the associated perf counter.<br>Be careful not to monitor process CPU because a single process can have low CPU usage at the same time that overall system CPU can be high.<br>Watch for spikes in CPU usage that correspond with timeouts. As a result of high CPU,<br>you may also see high “in: XXX” values in TimeoutException error messages as described above in the “Burst of traffic” section.<br>Note that in newer builds of StackExchange.Redis, the client-side CPU will be printed out in the timeout error message as long as the environment doesn’t block access to the CPU perf counter.</p>\n<p><code>Note:</code><br>StackExchange.Redis version 1.1.603 or later now prints out “local-cpu” usage when a timeout occurs to help understand when client-side CPU usage may be affecting performance.</p>\n<p><code>Resolution:</code><br>增加CPU或是找出CPU產生過載的原因<br>Upgrade to a larger VM size with more CPU capacity or investigate what is causing CPU spikes.</p>\n<hr>\n<h3 id=\"Client-Side-Bandwidth-Exceeded-頻寬不足\"><a href=\"#Client-Side-Bandwidth-Exceeded-頻寬不足\" class=\"headerlink\" title=\"Client Side Bandwidth Exceeded (頻寬不足)\"></a>Client Side Bandwidth Exceeded (頻寬不足)</h3><p><code>Problem:</code><br>Different sized client machines have limitations on how much network bandwidth they have available.<br>If the client exceeds the available bandwidth, then data will not be processed on the client side as quickly as the server is sending it. This can lead to timeouts.</p>\n<p><code>Measurement:</code><br>Monitor how your Bandwidth usage change over time using code like this. Note that this code may not run successfully in some environments with restricted permissions (like Azure WebSites).</p>\n<p><code>Resolution:</code><br>加大頻寬或減少使用量<br>Increase Client VM size or reduce network bandwidth consumption.</p>\n<hr>\n<h3 id=\"Large-Request-Response-Size-過大的請求-回應量\"><a href=\"#Large-Request-Response-Size-過大的請求-回應量\" class=\"headerlink\" title=\"Large Request/Response Size (過大的請求/回應量)\"></a>Large Request/Response Size (過大的請求/回應量)</h3><p><code>Problem:</code><br>如圖所示,A與B兩個Request都太過龐大,當同時發動請求時,<br>A 回應的時間過長, 導致 B 的Timeout<br>A large request/response can cause timeouts. As an example, suppose your timeout value configured is 1 second.<br>Your application requests two keys (e.g. ‘A’ and ‘B’) at the same time using the same physical network connection.<br>Most clients support “Pipelining” of requests, such that both requests ‘A’ and ‘B’ are sent on the wire to the server one after the other without waiting for the responses.<br>The server will send the responses back in the same order. If response ‘A’ is large enough it can eat up most of the timeout for subsequent requests.</p>\n<p>Below, I will try to demonstrate this. In this scenario, Request ‘A’ and ‘B’ are sent quickly,<br>the server starts sending responses ‘A’ and ‘B’ quickly, but because of data transfer times,<br>‘B’ get stuck behind the other request and times out even though the server responded quickly.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">|-------- 1 Second Timeout (A)----------|</span><br><span class=\"line\">|-Request A-|</span><br><span class=\"line\">     |-------- 1 Second Timeout (B) ----------|</span><br><span class=\"line\">     |-Request B-|</span><br><span class=\"line\">            |- Read Response A --------|</span><br><span class=\"line\">                                       |- Read Response B-| (**TIMEOUT**)</span><br></pre></td></tr></table></figure>\n\n<p><code>Measurement:</code><br>This is a difficult one to measure. You basically have to instrument your client code to track large requests and responses.</p>\n<p><code>Resolution:</code><br>將所需要的資料分割成數個小片段 再分別取回<br>Redis is optimized for a large number of small values, rather than a few large values.<br>The preferred solution is to break up your data into related smaller values. See here for details around why smaller values are recommended.<br>Increase the size of your VM (for client and Redis Cache Server), to get higher bandwidth capabilities, reducing data transfer times for larger responses.<br>Note that getting more bandwidth on just the server or just on the client may not be enough.<br>Measure your bandwidth usage and compare it to the capabilities of the size of VM you currently have.<br>Increase the number of ConnectionMultiplexer objects you use and round-robin requests over different connections (e.g. use a connection pool).<br>If you go this route, make sure that you don’t create a brand new ConnectionMultiplexer for each request as the overhead of creating the new connection will kill your performance.</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h2><p>ASP.NET Thread Pool 的機制如何影響 Redis</p>\n<h2 id=\"案例\"><a href=\"#案例\" class=\"headerlink\" title=\"案例\"></a>案例</h2><p>線上維護的系統偶爾會發生 Redis Timeout Exception ,<br>並在 elmah 發現以下的錯誤記錄</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Timeout performing SETEX Cache:Prod:WebAPI:Key:<span class=\"number\">20161121152607</span>, inst: <span class=\"number\">18</span>, mgr: ExecuteSelect, err: never,  </span><br><span class=\"line\">queue: <span class=\"number\">0</span>, qu: <span class=\"number\">0</span>, qs: <span class=\"number\">0</span>, qc: <span class=\"number\">0</span>, wr: <span class=\"number\">0</span>, wq: <span class=\"number\">0</span>, <span class=\"keyword\">in</span>: <span class=\"number\">0</span>, ar: <span class=\"number\">1</span>,  </span><br><span class=\"line\">IOCP: (Busy=<span class=\"number\">0</span>,Free=<span class=\"number\">1000</span>,Min=<span class=\"number\">8</span>,Max=<span class=\"number\">1000</span>), WORKER: (Busy=<span class=\"number\">13</span>,Free=<span class=\"number\">32754</span>,Min=<span class=\"number\">8</span>,Max=<span class=\"number\">32767</span>), clientName: TYO-MWEB</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"解析\"><a href=\"#解析\" class=\"headerlink\" title=\"解析\"></a>解析</h2><p>這時當 StackExchange.Redis 在進行同步作業的時候,<br>如果超過 <code>synctimeout</code> 的設定值(預設是1000ms),<br>Redis 會佔用.NET的 workerthread<br>而在 .NET 底層隱含著一個機制,<br>會導致錯誤。</p>\n<h3 id=\"Thread-Pool-500ms-的機制\"><a href=\"#Thread-Pool-500ms-的機制\" class=\"headerlink\" title=\"Thread Pool 500ms 的機制\"></a>Thread Pool 500ms 的機制</h3><p><em>一種簡化的說法「 ASP.NET Thread Pool 一秒能建立2個Thread。」</em></p>\n<p>設定值 <code>minworkerthread</code> 就像是遊樂場<em>已經開啟</em>的閘門,<br>每當有一個遊客(Task)進來時,立即提供給它使用。<br>但是當遊客(Task)變多的時候,就會開始排隊(Queue),<br>ASP.NET Thread Pool 隱含著一個機制,<br>當它的隊伍(Queue)長達500豪秒沒有移動的話,<br>就會開啟新的閘門(建立新的Thread)。<br>而我的情境屬於<a href=\"#burst_of_traffic\">Burst of traffic</a>,\n突然大量 Task 湧入 Queue ,<br>ThreadPool 需要大量的 Thread<br>每個新的 Thread 都需要 500ms 的反應時間 ,<br>而累積的時間超過 Task 的 Timeout 設定值時 ,<br>就會拋出Exception.</p>\n<p><img src=\"/images/workerthread_and_iothread/110416_103521_AM.jpg\" alt=\"ASP.NET Thread Pool\"></p>\n<p>ASP.NET Thread Pool 的排隊機制與<code>minworkerthread</code> 設定值相關。<br>可以透過調整 <code>machine.config</code> 來修正。<br>參考(<a href=\"https://support.microsoft.com/zh-tw/kb/821268\" target=\"_blank\" rel=\"noopener\">爭用、 效能不佳、 和死結 （deadlock） 當您從 ASP.NET 應用程式呼叫 Web 服務</a>)。  </p>\n<p><code>minworkerthread</code> 的預設值是 1 。<br>但是會與執行環境的CPU個數有關,<br>假設你是四核的主機,那就要乘上 4。</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">system.web</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">processModel</span> <span class=\"attr\">autoConfig</span>=<span class=\"string\">\"false\"</span> <span class=\"attr\">minWorkerThreads</span>=<span class=\"string\">\"1\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">system.web</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"範例\"><a href=\"#範例\" class=\"headerlink\" title=\"範例\"></a>範例</h3><p>當 Redis 發生 Timeout 時,<br>可以透過錯誤訊息判斷其背後的原因是否與 workerthread 有關。<br>在以下的例子可以看到 IOCP 與 WORKER 兩個值。<br>這兩值表示 .Net ThreadPool 內的兩種執行緒,<br>如果 Busy 值很高, 就有可能是 ThreadPool 來不及建立造成的錯誤。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">System.TimeoutException: Timeout performing MGET <span class=\"number\">2728</span>cc84<span class=\"number\">-58</span>ae<span class=\"number\">-406</span>b<span class=\"number\">-8</span>ec8<span class=\"number\">-3</span>f962419f641,  </span><br><span class=\"line\">inst: <span class=\"number\">1</span>,mgr: Inactive, queue: <span class=\"number\">73</span>, qu=<span class=\"number\">6</span>, qs=<span class=\"number\">67</span>, qc=<span class=\"number\">0</span>, wr=<span class=\"number\">1</span>/<span class=\"number\">1</span>, <span class=\"keyword\">in</span>=<span class=\"number\">0</span>/<span class=\"number\">0</span>  </span><br><span class=\"line\">IOCP: (Busy=<span class=\"number\">0</span>, Free=<span class=\"number\">999</span>, Min=<span class=\"number\">2</span>,Max=<span class=\"number\">1000</span>), WORKER (Busy=<span class=\"number\">7</span>,Free=<span class=\"number\">8184</span>,Min=<span class=\"number\">2</span>,Max=<span class=\"number\">8191</span>)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Error-Code-說明\"><a href=\"#Error-Code-說明\" class=\"headerlink\" title=\"Error Code 說明\"></a>Error Code 說明</h3><table>\n<thead>\n<tr>\n<th>Error code</th>\n<th>Details</th>\n<th>範例</th>\n<th>說明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>inst</td>\n<td>in the last time slice: 0 commands have been issued</td>\n<td>在最後時脈：已發出0個命令</td>\n<td>最後的時脈發出的命令個數</td>\n</tr>\n<tr>\n<td>mgr</td>\n<td>the socket manager is performing “socket.select”, <br>which means it is asking the OS to indicate a socket <br>that has something to do; <br> basically: the reader is not actively reading from <br>the network because it doesn’t think there<br> is anything to do</td>\n<td></td>\n<td>最後的操作命令</td>\n</tr>\n<tr>\n<td>queue</td>\n<td>there are 73 total in-progress operations</td>\n<td>73個正在排隊中的操作</td>\n<td>正在排隊中的操作</td>\n</tr>\n<tr>\n<td>qu</td>\n<td>6 of those are in unsent queue: they have not yet been written to the outbound network</td>\n<td>6個未發送的queue</td>\n<td>未發送的queue</td>\n</tr>\n<tr>\n<td>qs</td>\n<td>67 of those have been sent to the server but a response is not yet available.  The response could be: Not yet sent by the server sent by the server but not yet processed by the client.</td>\n<td>67個已發送的queue</td>\n<td>已發送的queue</td>\n</tr>\n<tr>\n<td>qc</td>\n<td>0 of those have seen replies but have not yet been marked as complete due to waiting on the completion loop</td>\n<td>0個已發送未標記完成的queue</td>\n<td>已發送未標記完成的queue</td>\n</tr>\n<tr>\n<td>wr</td>\n<td>there is an active writer (meaning - those 6 unsent are not being ignored) bytes/activewriters</td>\n<td>有 1 個啟用的writer,(意味著qu的工作並沒有被忽略) bytes/activewriters</td>\n<td>bytes/activewriters</td>\n</tr>\n<tr>\n<td>in</td>\n<td>there are no active readers and zero bytes are available to be read on the NIC bytes/activereaders</td>\n<td>0個reader</td>\n<td>bytes/activereaders</td>\n</tr>\n</tbody></table>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/orm-9780596527570-03-19.aspx\" target=\"_blank\" rel=\"noopener\">Threading</a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/ms998549.aspx\" target=\"_blank\" rel=\"noopener\">Improving ASP.NET Performance</a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/ms973903.aspx\" target=\"_blank\" rel=\"noopener\">Programming the Thread Pool in the .NET Framework</a></li>\n<li><a href=\"https://gist.github.com/JonCole/db0e90bedeb3fc4823c2\" target=\"_blank\" rel=\"noopener\">DiagnoseRedisErrors-ClientSide</a></li>\n<li><a href=\"https://gist.github.com/JonCole/e65411214030f0d823cb\" target=\"_blank\" rel=\"noopener\">ThreadPool</a></li>\n</ul>\n<p>(fin)</p>\n<hr>\n<h2 id=\"其它的-Redis-Error-情境\"><a href=\"#其它的-Redis-Error-情境\" class=\"headerlink\" title=\"其它的 Redis Error 情境\"></a>其它的 Redis Error 情境</h2><p>只作摘要式的翻譯。</p>\n<h3 id=\"Memory-pressure-記憶體壓力\"><a href=\"#Memory-pressure-記憶體壓力\" class=\"headerlink\" title=\"Memory pressure (記憶體壓力)\"></a>Memory pressure (記憶體壓力)</h3><p><code>Problem:</code><br>記憶體不足而開始讀取虛擬記憶體(磁碟)而導致特能低落。<br>Memory pressure on the client machine leads to all kinds of performance problems that can<br>delay processing of data that was sent by the Redis instance without any delay.<br>When memory pressure hits, the system typically has to page data from physical memory to<br>virtual memory which is on disk. This page faulting causes the system to slow down significantly.  </p>\n<p><code>Measurement:</code><br>Monitory memory usage on machine to make sure that it does not exceed available memory.<br>Monitor the Page Faults/Sec perf counter. Most systems will have some page faults even during<br>normal operation, so watch for spikes in this page faults perf counter which correspond with timeouts.  </p>\n<p><code>Resolution:</code><br>增加記憶體或是減少記憶體使用量<br>Upgrade to a larger client VM size with more memory or dig into your memory usage patterns<br>to reduce memory consuption.  </p>\n<hr>\n<h3 id=\"Burst-of-traffic\"><a href=\"#Burst-of-traffic\" class=\"headerlink\" title=\"Burst of traffic\"></a><span style=\"color:red;\" id=\"burst_of_traffic\">Burst of traffic</span></h3><p><code>Problem:</code><br>ThreadPool突然大量的工作湧入queue導致執行緒來不及建立。<br> Bursts of traffic combined with poor ThreadPool settings can result in delays in processing<br> data already sent by the Redis Server but not yet consumed on the client side.  </p>\n<p><code>測量:</code><br>可以用<a href=\"https://github.com/JonCole/SampleCode/blob/master/ThreadPoolMonitor/ThreadPoolLogger.cs\" target=\"_blank\" rel=\"noopener\">程式</a>監控 ThreadPool .<br>或是單純透過 TimeoutException 的訊息,觀察IOCP與WORKER的Busy值來判斷.<br><code>Measurement:</code><br>Monitor how your ThreadPool statistics change over time using code like <a href=\"https://github.com/JonCole/SampleCode/blob/master/ThreadPoolMonitor/ThreadPoolLogger.cs\" target=\"_blank\" rel=\"noopener\">this</a>.   \nYou can also look at the TimeoutException message from StackExchange.Redis.<br>Here is an example :  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">System.TimeoutException: Timeout performing EVAL, inst: <span class=\"number\">8</span>, mgr: Inactive, queue: <span class=\"number\">0</span>, qu: <span class=\"number\">0</span>, qs: <span class=\"number\">0</span>, qc: <span class=\"number\">0</span>, wr: <span class=\"number\">0</span>, wq: <span class=\"number\">0</span>, <span class=\"keyword\">in</span>: <span class=\"number\">64221</span>, ar: <span class=\"number\">0</span>, </span><br><span class=\"line\">IOCP: (Busy=<span class=\"number\">6</span>,Free=<span class=\"number\">999</span>,Min=<span class=\"number\">2</span>,Max=<span class=\"number\">1000</span>), WORKER: (Busy=<span class=\"number\">7</span>,Free=<span class=\"number\">8184</span>,Min=<span class=\"number\">2</span>,Max=<span class=\"number\">8191</span>)</span><br></pre></td></tr></table></figure>\n\n<p>In the above message, there are several issues that are interesting:<br>Notice that in the “IOCP” section and the “WORKER” section you have a “Busy” value that is<br>greater than the “Min” value. This means that your threadpool settings need adjusting.<br>You can also see “in: 64221”. This indicates that 64211 bytes have been received at the kernel<br>socket layer but haven’t yet been read by the application (e.g. StackExchange.Redis).<br>This typically means that your application isn’t reading data from the network as quickly as<br>the server is sending it to you.  </p>\n<p><code>Resolution:</code><br>調整ThreadPool設定<br>Configure your ThreadPool Settings to make sure that your threadpool will scale up quickly under burst scenarios.</p>\n<hr>\n<h3 id=\"High-CPU-usage-CPU-過載\"><a href=\"#High-CPU-usage-CPU-過載\" class=\"headerlink\" title=\"High CPU usage (CPU 過載)\"></a>High CPU usage (CPU 過載)</h3><p><code>Problem:</code><br>High CPU usage on the client is an indication that the system cannot keep up with the work that it has been asked to perform. High CPU is a problem because the CPU is busy and it can’t keep up with the work the application is asking it to do. The response from Redis can come very quickly, but because the CPU isn’t keeping up with the workload, the response sits in the socket’s kernel buffer waiting to be processed. If the delay is long enough, a timeout occurs in spite of the requested data having already arrived from the server.</p>\n<p><code>Measurement:</code><br>Monitor the System Wide CPU usage through the azure portal or through the associated perf counter.<br>Be careful not to monitor process CPU because a single process can have low CPU usage at the same time that overall system CPU can be high.<br>Watch for spikes in CPU usage that correspond with timeouts. As a result of high CPU,<br>you may also see high “in: XXX” values in TimeoutException error messages as described above in the “Burst of traffic” section.<br>Note that in newer builds of StackExchange.Redis, the client-side CPU will be printed out in the timeout error message as long as the environment doesn’t block access to the CPU perf counter.</p>\n<p><code>Note:</code><br>StackExchange.Redis version 1.1.603 or later now prints out “local-cpu” usage when a timeout occurs to help understand when client-side CPU usage may be affecting performance.</p>\n<p><code>Resolution:</code><br>增加CPU或是找出CPU產生過載的原因<br>Upgrade to a larger VM size with more CPU capacity or investigate what is causing CPU spikes.</p>\n<hr>\n<h3 id=\"Client-Side-Bandwidth-Exceeded-頻寬不足\"><a href=\"#Client-Side-Bandwidth-Exceeded-頻寬不足\" class=\"headerlink\" title=\"Client Side Bandwidth Exceeded (頻寬不足)\"></a>Client Side Bandwidth Exceeded (頻寬不足)</h3><p><code>Problem:</code><br>Different sized client machines have limitations on how much network bandwidth they have available.<br>If the client exceeds the available bandwidth, then data will not be processed on the client side as quickly as the server is sending it. This can lead to timeouts.</p>\n<p><code>Measurement:</code><br>Monitor how your Bandwidth usage change over time using code like this. Note that this code may not run successfully in some environments with restricted permissions (like Azure WebSites).</p>\n<p><code>Resolution:</code><br>加大頻寬或減少使用量<br>Increase Client VM size or reduce network bandwidth consumption.</p>\n<hr>\n<h3 id=\"Large-Request-Response-Size-過大的請求-回應量\"><a href=\"#Large-Request-Response-Size-過大的請求-回應量\" class=\"headerlink\" title=\"Large Request/Response Size (過大的請求/回應量)\"></a>Large Request/Response Size (過大的請求/回應量)</h3><p><code>Problem:</code><br>如圖所示,A與B兩個Request都太過龐大,當同時發動請求時,<br>A 回應的時間過長, 導致 B 的Timeout<br>A large request/response can cause timeouts. As an example, suppose your timeout value configured is 1 second.<br>Your application requests two keys (e.g. ‘A’ and ‘B’) at the same time using the same physical network connection.<br>Most clients support “Pipelining” of requests, such that both requests ‘A’ and ‘B’ are sent on the wire to the server one after the other without waiting for the responses.<br>The server will send the responses back in the same order. If response ‘A’ is large enough it can eat up most of the timeout for subsequent requests.</p>\n<p>Below, I will try to demonstrate this. In this scenario, Request ‘A’ and ‘B’ are sent quickly,<br>the server starts sending responses ‘A’ and ‘B’ quickly, but because of data transfer times,<br>‘B’ get stuck behind the other request and times out even though the server responded quickly.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">|-------- 1 Second Timeout (A)----------|</span><br><span class=\"line\">|-Request A-|</span><br><span class=\"line\">     |-------- 1 Second Timeout (B) ----------|</span><br><span class=\"line\">     |-Request B-|</span><br><span class=\"line\">            |- Read Response A --------|</span><br><span class=\"line\">                                       |- Read Response B-| (**TIMEOUT**)</span><br></pre></td></tr></table></figure>\n\n<p><code>Measurement:</code><br>This is a difficult one to measure. You basically have to instrument your client code to track large requests and responses.</p>\n<p><code>Resolution:</code><br>將所需要的資料分割成數個小片段 再分別取回<br>Redis is optimized for a large number of small values, rather than a few large values.<br>The preferred solution is to break up your data into related smaller values. See here for details around why smaller values are recommended.<br>Increase the size of your VM (for client and Redis Cache Server), to get higher bandwidth capabilities, reducing data transfer times for larger responses.<br>Note that getting more bandwidth on just the server or just on the client may not be enough.<br>Measure your bandwidth usage and compare it to the capabilities of the size of VM you currently have.<br>Increase the number of ConnectionMultiplexer objects you use and round-robin requests over different connections (e.g. use a connection pool).<br>If you go this route, make sure that you don’t create a brand new ConnectionMultiplexer for each request as the overhead of creating the new connection will kill your performance.</p>\n"},{"title":".NET PDB File 介紹","date":"2016-11-28T15:54:55.000Z","_content":"\n\n### PDB(Program Database Files )\n\n\n\n**.Net原始碼在Debug mode建置後，將產生.pdb檔案，  \n其中記錄了.dll、.exe與原始碼之間的對應關係。**\n\n\n\n#### MSDN 這樣說\n\n程式資料庫 (.pdb) 檔案也稱為符號檔，可將您在原始程式檔中為類別、  \n方法和其他程式碼建立的識別項對應至專案之編譯的可執行檔中使用的識別項。\n\n\n\n原文: \n\n>_A program database (.pdb) file, also called a symbol file,_   \n_maps the identifiers that you create in source files for classes,_  \n_methods, and other code to the identifiers that are used in the_   \n_compiled executables of your project._\n\n\n### PDB 記什麼\n\n- 原始碼的檔案名稱 (source code file name)\n- 變數與行號 (lines and the local variable names.)\n\n\n\n### 偵錯工具搜尋 .pdb 檔案的順序？\n\n1. DLL 或可執行檔內部指定的位置\n2. 可能和 DLL 或可執行檔存在相同資料夾中的 .pdb 檔案。\n3. 任何本機符號快取資料夾。\n4. 任何在像是 Microsoft 符號伺服器 (如果啟用) 等位置指定的網路、網際網路或本機符號伺服器和位置。\n\n\n\n### .pdb 檔案與.dll(或可執行檔)需要完全符合\n\n偵錯工具只會載入與可執行檔建置時所建立的 .pdb 檔案完全相同之可執行檔的 .pdb 檔案  \n*相同原始碼在不同機器建置的執行檔與PDB，偵錯工具將無法進行偵錯\n\n\n\n### 看看.pdb檔的內容\n\n1. 開啟 %ProgramFiles(x86)%\\Microsoft Visual Studio 14.0\\DIA SDK\\Samples\\DIA2Dump\\dia2dump.sln\n\n\n\n2. 執行以下命令 \n`Dia2Dump pdbfilepath >> dumpfileName.txt`\nex:\n`Dia2Dump C:\\myproj\\bin\\debug\\myproj.pdb >> myproj_dump.txt`\n\n\n\n3. 輸出的結果大致如下 \n\n\n\tFunction       : In MetaData, [00001F16][0001:00001F16], len = 000000ED, GetBookList\n\tFunction attribute:\n\tFunction info:\n\t\t\t\t \n\t\n\t//中略\n\t\n\tFunction: [0001F71A][0001:0001F71A] GetSalePage b_231\n\tFunction: [00001F16][0001:00001F16] GetBookList\n\tFunction: [0001F4F0][0001:0001F4F0] GetLayoutByAd b_0\n\t\n\t//中略\n\n\t** GetBookList\n\n\tline 46 at [00001F16][0001:00001F16], len = 0x1\tD:\\Repo\\Mark_Lin\\MYPROJ\\WebAPI\\Controllers\\BookController.cs\n\tline 47 at [00001F17][0001:00001F17], len = 0x6\n\tline 48 at [00001F1D][0001:00001F1D], len = 0x1C\t\t\t\t \n\n\n\n\n\n##### 參考\n- http://anferneehardaway.pixnet.net/blog/post/6273453\n- https://msdn.microsoft.com/zh-tw/library/ms241903(v=vs.100).aspx\n- http://www.wintellect.com/devcenter/jrobbins/pdb-files-what-every-developer-must-know\n- https://blogs.msdn.microsoft.com/jimgries/2007/07/06/why-does-visual-studio-require-debugger-symbol-files-to-exactly-match-the-binary-files-that-they-were-built-with/\n\n(fin)","source":"_posts/2016/dotnet_pdb_file.md","raw":"---\ntitle: .NET PDB File 介紹\ndate: 2016/11/28 23:54:55\ntag:\n  - .Net Framework\n---\n\n\n### PDB(Program Database Files )\n\n\n\n**.Net原始碼在Debug mode建置後，將產生.pdb檔案，  \n其中記錄了.dll、.exe與原始碼之間的對應關係。**\n\n\n\n#### MSDN 這樣說\n\n程式資料庫 (.pdb) 檔案也稱為符號檔，可將您在原始程式檔中為類別、  \n方法和其他程式碼建立的識別項對應至專案之編譯的可執行檔中使用的識別項。\n\n\n\n原文: \n\n>_A program database (.pdb) file, also called a symbol file,_   \n_maps the identifiers that you create in source files for classes,_  \n_methods, and other code to the identifiers that are used in the_   \n_compiled executables of your project._\n\n\n### PDB 記什麼\n\n- 原始碼的檔案名稱 (source code file name)\n- 變數與行號 (lines and the local variable names.)\n\n\n\n### 偵錯工具搜尋 .pdb 檔案的順序？\n\n1. DLL 或可執行檔內部指定的位置\n2. 可能和 DLL 或可執行檔存在相同資料夾中的 .pdb 檔案。\n3. 任何本機符號快取資料夾。\n4. 任何在像是 Microsoft 符號伺服器 (如果啟用) 等位置指定的網路、網際網路或本機符號伺服器和位置。\n\n\n\n### .pdb 檔案與.dll(或可執行檔)需要完全符合\n\n偵錯工具只會載入與可執行檔建置時所建立的 .pdb 檔案完全相同之可執行檔的 .pdb 檔案  \n*相同原始碼在不同機器建置的執行檔與PDB，偵錯工具將無法進行偵錯\n\n\n\n### 看看.pdb檔的內容\n\n1. 開啟 %ProgramFiles(x86)%\\Microsoft Visual Studio 14.0\\DIA SDK\\Samples\\DIA2Dump\\dia2dump.sln\n\n\n\n2. 執行以下命令 \n`Dia2Dump pdbfilepath >> dumpfileName.txt`\nex:\n`Dia2Dump C:\\myproj\\bin\\debug\\myproj.pdb >> myproj_dump.txt`\n\n\n\n3. 輸出的結果大致如下 \n\n\n\tFunction       : In MetaData, [00001F16][0001:00001F16], len = 000000ED, GetBookList\n\tFunction attribute:\n\tFunction info:\n\t\t\t\t \n\t\n\t//中略\n\t\n\tFunction: [0001F71A][0001:0001F71A] GetSalePage b_231\n\tFunction: [00001F16][0001:00001F16] GetBookList\n\tFunction: [0001F4F0][0001:0001F4F0] GetLayoutByAd b_0\n\t\n\t//中略\n\n\t** GetBookList\n\n\tline 46 at [00001F16][0001:00001F16], len = 0x1\tD:\\Repo\\Mark_Lin\\MYPROJ\\WebAPI\\Controllers\\BookController.cs\n\tline 47 at [00001F17][0001:00001F17], len = 0x6\n\tline 48 at [00001F1D][0001:00001F1D], len = 0x1C\t\t\t\t \n\n\n\n\n\n##### 參考\n- http://anferneehardaway.pixnet.net/blog/post/6273453\n- https://msdn.microsoft.com/zh-tw/library/ms241903(v=vs.100).aspx\n- http://www.wintellect.com/devcenter/jrobbins/pdb-files-what-every-developer-must-know\n- https://blogs.msdn.microsoft.com/jimgries/2007/07/06/why-does-visual-studio-require-debugger-symbol-files-to-exactly-match-the-binary-files-that-they-were-built-with/\n\n(fin)","slug":"2016/dotnet_pdb_file","published":1,"updated":"2019-06-10T14:43:28.864Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wjb000lb0vx1x4vzi4t","content":"<h3 id=\"PDB-Program-Database-Files\"><a href=\"#PDB-Program-Database-Files\" class=\"headerlink\" title=\"PDB(Program Database Files )\"></a>PDB(Program Database Files )</h3><p><strong>.Net原始碼在Debug mode建置後，將產生.pdb檔案，<br>其中記錄了.dll、.exe與原始碼之間的對應關係。</strong></p>\n<h4 id=\"MSDN-這樣說\"><a href=\"#MSDN-這樣說\" class=\"headerlink\" title=\"MSDN 這樣說\"></a>MSDN 這樣說</h4><p>程式資料庫 (.pdb) 檔案也稱為符號檔，可將您在原始程式檔中為類別、<br>方法和其他程式碼建立的識別項對應至專案之編譯的可執行檔中使用的識別項。</p>\n<p>原文: </p>\n<blockquote>\n<p><em>A program database (.pdb) file, also called a symbol file,</em><br><em>maps the identifiers that you create in source files for classes,</em><br><em>methods, and other code to the identifiers that are used in the</em><br><em>compiled executables of your project.</em></p>\n</blockquote>\n<h3 id=\"PDB-記什麼\"><a href=\"#PDB-記什麼\" class=\"headerlink\" title=\"PDB 記什麼\"></a>PDB 記什麼</h3><ul>\n<li>原始碼的檔案名稱 (source code file name)</li>\n<li>變數與行號 (lines and the local variable names.)</li>\n</ul>\n<h3 id=\"偵錯工具搜尋-pdb-檔案的順序？\"><a href=\"#偵錯工具搜尋-pdb-檔案的順序？\" class=\"headerlink\" title=\"偵錯工具搜尋 .pdb 檔案的順序？\"></a>偵錯工具搜尋 .pdb 檔案的順序？</h3><ol>\n<li>DLL 或可執行檔內部指定的位置</li>\n<li>可能和 DLL 或可執行檔存在相同資料夾中的 .pdb 檔案。</li>\n<li>任何本機符號快取資料夾。</li>\n<li>任何在像是 Microsoft 符號伺服器 (如果啟用) 等位置指定的網路、網際網路或本機符號伺服器和位置。</li>\n</ol>\n<h3 id=\"pdb-檔案與-dll-或可執行檔-需要完全符合\"><a href=\"#pdb-檔案與-dll-或可執行檔-需要完全符合\" class=\"headerlink\" title=\".pdb 檔案與.dll(或可執行檔)需要完全符合\"></a>.pdb 檔案與.dll(或可執行檔)需要完全符合</h3><p>偵錯工具只會載入與可執行檔建置時所建立的 .pdb 檔案完全相同之可執行檔的 .pdb 檔案<br>*相同原始碼在不同機器建置的執行檔與PDB，偵錯工具將無法進行偵錯</p>\n<h3 id=\"看看-pdb檔的內容\"><a href=\"#看看-pdb檔的內容\" class=\"headerlink\" title=\"看看.pdb檔的內容\"></a>看看.pdb檔的內容</h3><ol>\n<li>開啟 %ProgramFiles(x86)%\\Microsoft Visual Studio 14.0\\DIA SDK\\Samples\\DIA2Dump\\dia2dump.sln</li>\n</ol>\n<ol start=\"2\">\n<li>執行以下命令<br><code>Dia2Dump pdbfilepath &gt;&gt; dumpfileName.txt</code><br>ex:<br><code>Dia2Dump C:\\myproj\\bin\\debug\\myproj.pdb &gt;&gt; myproj_dump.txt</code></li>\n</ol>\n<ol start=\"3\">\n<li>輸出的結果大致如下 </li>\n</ol>\n<pre><code>Function       : In MetaData, [00001F16][0001:00001F16], len = 000000ED, GetBookList\nFunction attribute:\nFunction info:\n\n\n//中略\n\nFunction: [0001F71A][0001:0001F71A] GetSalePage b_231\nFunction: [00001F16][0001:00001F16] GetBookList\nFunction: [0001F4F0][0001:0001F4F0] GetLayoutByAd b_0\n\n//中略\n\n** GetBookList\n\nline 46 at [00001F16][0001:00001F16], len = 0x1    D:\\Repo\\Mark_Lin\\MYPROJ\\WebAPI\\Controllers\\BookController.cs\nline 47 at [00001F17][0001:00001F17], len = 0x6\nline 48 at [00001F1D][0001:00001F1D], len = 0x1C                 </code></pre><h5 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h5><ul>\n<li><a href=\"http://anferneehardaway.pixnet.net/blog/post/6273453\" target=\"_blank\" rel=\"noopener\">http://anferneehardaway.pixnet.net/blog/post/6273453</a></li>\n<li><a href=\"https://msdn.microsoft.com/zh-tw/library/ms241903(v=vs.100).aspx\" target=\"_blank\" rel=\"noopener\">https://msdn.microsoft.com/zh-tw/library/ms241903(v=vs.100).aspx</a></li>\n<li><a href=\"http://www.wintellect.com/devcenter/jrobbins/pdb-files-what-every-developer-must-know\" target=\"_blank\" rel=\"noopener\">http://www.wintellect.com/devcenter/jrobbins/pdb-files-what-every-developer-must-know</a></li>\n<li><a href=\"https://blogs.msdn.microsoft.com/jimgries/2007/07/06/why-does-visual-studio-require-debugger-symbol-files-to-exactly-match-the-binary-files-that-they-were-built-with/\" target=\"_blank\" rel=\"noopener\">https://blogs.msdn.microsoft.com/jimgries/2007/07/06/why-does-visual-studio-require-debugger-symbol-files-to-exactly-match-the-binary-files-that-they-were-built-with/</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"PDB-Program-Database-Files\"><a href=\"#PDB-Program-Database-Files\" class=\"headerlink\" title=\"PDB(Program Database Files )\"></a>PDB(Program Database Files )</h3><p><strong>.Net原始碼在Debug mode建置後，將產生.pdb檔案，<br>其中記錄了.dll、.exe與原始碼之間的對應關係。</strong></p>\n<h4 id=\"MSDN-這樣說\"><a href=\"#MSDN-這樣說\" class=\"headerlink\" title=\"MSDN 這樣說\"></a>MSDN 這樣說</h4><p>程式資料庫 (.pdb) 檔案也稱為符號檔，可將您在原始程式檔中為類別、<br>方法和其他程式碼建立的識別項對應至專案之編譯的可執行檔中使用的識別項。</p>\n<p>原文: </p>\n<blockquote>\n<p><em>A program database (.pdb) file, also called a symbol file,</em><br><em>maps the identifiers that you create in source files for classes,</em><br><em>methods, and other code to the identifiers that are used in the</em><br><em>compiled executables of your project.</em></p>\n</blockquote>\n<h3 id=\"PDB-記什麼\"><a href=\"#PDB-記什麼\" class=\"headerlink\" title=\"PDB 記什麼\"></a>PDB 記什麼</h3><ul>\n<li>原始碼的檔案名稱 (source code file name)</li>\n<li>變數與行號 (lines and the local variable names.)</li>\n</ul>\n<h3 id=\"偵錯工具搜尋-pdb-檔案的順序？\"><a href=\"#偵錯工具搜尋-pdb-檔案的順序？\" class=\"headerlink\" title=\"偵錯工具搜尋 .pdb 檔案的順序？\"></a>偵錯工具搜尋 .pdb 檔案的順序？</h3><ol>\n<li>DLL 或可執行檔內部指定的位置</li>\n<li>可能和 DLL 或可執行檔存在相同資料夾中的 .pdb 檔案。</li>\n<li>任何本機符號快取資料夾。</li>\n<li>任何在像是 Microsoft 符號伺服器 (如果啟用) 等位置指定的網路、網際網路或本機符號伺服器和位置。</li>\n</ol>\n<h3 id=\"pdb-檔案與-dll-或可執行檔-需要完全符合\"><a href=\"#pdb-檔案與-dll-或可執行檔-需要完全符合\" class=\"headerlink\" title=\".pdb 檔案與.dll(或可執行檔)需要完全符合\"></a>.pdb 檔案與.dll(或可執行檔)需要完全符合</h3><p>偵錯工具只會載入與可執行檔建置時所建立的 .pdb 檔案完全相同之可執行檔的 .pdb 檔案<br>*相同原始碼在不同機器建置的執行檔與PDB，偵錯工具將無法進行偵錯</p>\n<h3 id=\"看看-pdb檔的內容\"><a href=\"#看看-pdb檔的內容\" class=\"headerlink\" title=\"看看.pdb檔的內容\"></a>看看.pdb檔的內容</h3><ol>\n<li>開啟 %ProgramFiles(x86)%\\Microsoft Visual Studio 14.0\\DIA SDK\\Samples\\DIA2Dump\\dia2dump.sln</li>\n</ol>\n<ol start=\"2\">\n<li>執行以下命令<br><code>Dia2Dump pdbfilepath &gt;&gt; dumpfileName.txt</code><br>ex:<br><code>Dia2Dump C:\\myproj\\bin\\debug\\myproj.pdb &gt;&gt; myproj_dump.txt</code></li>\n</ol>\n<ol start=\"3\">\n<li>輸出的結果大致如下 </li>\n</ol>\n<pre><code>Function       : In MetaData, [00001F16][0001:00001F16], len = 000000ED, GetBookList\nFunction attribute:\nFunction info:\n\n\n//中略\n\nFunction: [0001F71A][0001:0001F71A] GetSalePage b_231\nFunction: [00001F16][0001:00001F16] GetBookList\nFunction: [0001F4F0][0001:0001F4F0] GetLayoutByAd b_0\n\n//中略\n\n** GetBookList\n\nline 46 at [00001F16][0001:00001F16], len = 0x1    D:\\Repo\\Mark_Lin\\MYPROJ\\WebAPI\\Controllers\\BookController.cs\nline 47 at [00001F17][0001:00001F17], len = 0x6\nline 48 at [00001F1D][0001:00001F1D], len = 0x1C                 </code></pre><h5 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h5><ul>\n<li><a href=\"http://anferneehardaway.pixnet.net/blog/post/6273453\" target=\"_blank\" rel=\"noopener\">http://anferneehardaway.pixnet.net/blog/post/6273453</a></li>\n<li><a href=\"https://msdn.microsoft.com/zh-tw/library/ms241903(v=vs.100).aspx\" target=\"_blank\" rel=\"noopener\">https://msdn.microsoft.com/zh-tw/library/ms241903(v=vs.100).aspx</a></li>\n<li><a href=\"http://www.wintellect.com/devcenter/jrobbins/pdb-files-what-every-developer-must-know\" target=\"_blank\" rel=\"noopener\">http://www.wintellect.com/devcenter/jrobbins/pdb-files-what-every-developer-must-know</a></li>\n<li><a href=\"https://blogs.msdn.microsoft.com/jimgries/2007/07/06/why-does-visual-studio-require-debugger-symbol-files-to-exactly-match-the-binary-files-that-they-were-built-with/\" target=\"_blank\" rel=\"noopener\">https://blogs.msdn.microsoft.com/jimgries/2007/07/06/why-does-visual-studio-require-debugger-symbol-files-to-exactly-match-the-binary-files-that-they-were-built-with/</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"將 Express 網站整合 Typescirpt 開發","date":"2017-08-16T08:26:14.000Z","_content":"## 原因與目的\n\n- 目前我使用 express 作為網站開發\n- 我是個 .NET 工程師,習慣用強型別語言作開發 (C#)\n- 網路上找的文章\n  - [TypeScript 2 + Express + Node.js](http://brianflove.com/2016/11/08/typescript-2-express-node/)\n  - [TypeScript + Express + Node.js](http://brianflove.com/2016/03/29/typescript-express-node-js/)\n- 這件事情理論上是可行的,而且又有人作過,又能讓我以自已比較習慣的方式作開發\n\n## 技術問題\n\n- grunt/gulp/webpack\n  - 選擇 gulp希望能切換到webpack\n- typescript\n\n## 初期目標\n\n- 把所有js 改成 ts\n- 相同指令即可完成編譯與開啟站台\n- 可部署到正式環境\n\n## 構想\n\n~~原本我是想把整個專案重新編譯至另外一個資料夾中,~~  \n~~再由該資料夾設為起始專案執行~~\n在建立typescript資料夾，只編譯相關的ts檔;\n至於哪些是**相關的ts檔**?\n\n1. `app.ts`(編譯為`app.js`)\n  在根目錄作為所有request入口的起始檔案,用來解析request需要對應的router\n  這裡可能會有一些共用的商務/系統邏輯或是錯誤處理\n2. 所有的router\n  這是最接近使用者的 business logic code,影響返回的頁面與呈現的資料,\n  通常這裡主要的目的是組合來自不同的service的資訊,再返回給view層,\n  不過有時候也會處理一些顯示邏輯.\n3. 所有的service\n  這層擁最主要的商務邏輯,大多會依功能性作區分(ex:授權、會員、購物車等...)\n  也有專門的service提供共用的方法及模組,\n  並透過repository取得/更新資料\n\n4. 所有的repository\n  這層最主要的功能是直接與資料庫作存取\n5. 其它\n  例如:Interface, Class, Enum 或是一些框架所需要額外的方法.\n\n## 實作\n\n定義好需要修改的範圍後,我建立了一個typescript資料夾\n裡面會建立相對應的`router`,`service`與`repository`資料夾\n與一個`app.ts`檔案.\n\n一開始將所有js檔案依照相對的位置,照抄複製放入對應位置,並將副檔名改為`.ts`\n接下我將利用gulp幫執行相關的編譯行為.\n我們可以預期編譯產生的`.js`檔可以執行,因為Typescript是Javascript的Super Set\n\n### gulp\n\n- 安裝gulp\n`npm install gulp -g`\n`npm install gulp --save`\n`npm install gulp-typescript --save`\n\n- 安裝相關模組\n`npm install @types/node --save-dev`\n`npm install --save @types/express`\n`npm install --save @types/morgan`\n`npm install --save @types/cookie-parser`\n`npm install --save @types/httperr`\n實際安裝哪些模組與專案所需要的有關,通常只要在npm搜尋`npm @types module_name`\n就可以找得到,不過有時候也會有找不到情況\n這個時候很苦惱了,我們想要ts的強型別即時除錯,但是自已刻又太自虐,\n我的想法是只有自已寫的`router`,`service`與`repository`有需要即時除錯.\n之後實務上有遇到再回來補充.\n\n- 設定gulp file\n\n```bash\nvar gulp = require('gulp');\nvar tsc = require('gulp-typescript');\n\ngulp.task('app', function() {\n        return gulp.src(['typescript/app.ts','typescript/**/*.ts'])\n        .pipe(tsc({\n                target: \"es2017\",                          /* Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017', or 'ESNEXT'. */\n                module: \"es2015\",                     /* Specify module code generation: 'commonjs', 'amd', 'system', 'umd', 'es2015', or 'ESNext'. */\n                lib: [\"es2015\",\"dom\"],\n                noImplicitAny: false,\n            }))\n        .pipe(gulp.dest('./'));\n});\n```\n\n我們不需要`tsconfig.json`這個檔案,直接可以寫成json物件\n另外記得設定src(ts所在的位置)與dest(輸出ts的位置)\n\n- 設定package.json\n\n```json\n  \"scripts\": {\n    \"start\": \"node ./bin/www\",\n    \"dev\": \"supervisor ./bin/www\",\n    \"test\": \"node_modules/.bin/nightwatch\",\n    \"e2e\": \"npm-run-all --parallel start test\",\n    \"run\": \"node ./bin/www\",\n    \"ts\": \"gulp app\"\n  }\n```\n\n- 執行 `npm run ts`\n- 檢查輸出的js,再說一次因為Typescript是Javascript的Super Set\n  所以可以預期會產生相同的檔案內容(副檔名變成.js)\n- 運行網站確定功能正常\n\n### 修改ts檔\n\n雖然js檔已正常產生,但是其實這一切都是假的!\n原因是我們的ts檔其實仍然在寫js\n![修改ts檔](https://i.imgur.com/5aCuXSy.jpg)\n在執行gulp的過程當中,應該可以看到一些提示訊息.\n由於有各種情況,就不一一說明了.\n我在這此改版的疑難就附在下面,如果有遇到相同的問題,可以作為參考.\n如果有不同問題,也可以留言討論喔(雖然我覺得是自行google會快一些) XD\n\n### 疑難\n\n- [typescript getting error TS2304: cannot find name 'require'](https://stackoverflow.com/questions/31173738/typescript-getting-error-ts2304-cannot-find-name-require)\n- [Express and Typescript - Error.stack and Error.status properties do not exist](https://stackoverflow.com/questions/28793098/express-and-typescript-error-stack-and-error-status-properties-do-not-exist)\n- [Error TS2693: 'Promise' only refers to a type, but is being used as a value here.](https://github.com/Microsoft/vscode/issues/21968)\n\n## 參考\n\n1. [npm scripts 使用指南](http://www.ruanyifeng.com/blog/2016/10/npm_scripts.html)\n2. [typescript getting error TS2304: cannot find name ' require'\n](https://stackoverflow.com/questions/31173738/typescript-getting-error-ts2304-cannot-find-name-require)\n3. [Express and Typescript - Error.stack and Error.status properties do not exist](https://stackoverflow.com/questions/28793098/express-and-typescript-error-stack-and-error-status-properties-do-not-exist)\n4. [gulp-typescript](https://github.com/ivogabe/gulp-typescript)\n5. [Promise static method give error](https://github.com/Microsoft/vscode/issues/21968)\n\n(fin)\n","source":"_posts/2016/express_with_typescript.md","raw":"---\ntitle: \"將 Express 網站整合 Typescirpt 開發\"\ndate: 2017/08/16 16:26:14\ntag:\n  - Expressjs\n  - TypeScript\n  - Gulpjs\n  - Node.js\n---\n## 原因與目的\n\n- 目前我使用 express 作為網站開發\n- 我是個 .NET 工程師,習慣用強型別語言作開發 (C#)\n- 網路上找的文章\n  - [TypeScript 2 + Express + Node.js](http://brianflove.com/2016/11/08/typescript-2-express-node/)\n  - [TypeScript + Express + Node.js](http://brianflove.com/2016/03/29/typescript-express-node-js/)\n- 這件事情理論上是可行的,而且又有人作過,又能讓我以自已比較習慣的方式作開發\n\n## 技術問題\n\n- grunt/gulp/webpack\n  - 選擇 gulp希望能切換到webpack\n- typescript\n\n## 初期目標\n\n- 把所有js 改成 ts\n- 相同指令即可完成編譯與開啟站台\n- 可部署到正式環境\n\n## 構想\n\n~~原本我是想把整個專案重新編譯至另外一個資料夾中,~~  \n~~再由該資料夾設為起始專案執行~~\n在建立typescript資料夾，只編譯相關的ts檔;\n至於哪些是**相關的ts檔**?\n\n1. `app.ts`(編譯為`app.js`)\n  在根目錄作為所有request入口的起始檔案,用來解析request需要對應的router\n  這裡可能會有一些共用的商務/系統邏輯或是錯誤處理\n2. 所有的router\n  這是最接近使用者的 business logic code,影響返回的頁面與呈現的資料,\n  通常這裡主要的目的是組合來自不同的service的資訊,再返回給view層,\n  不過有時候也會處理一些顯示邏輯.\n3. 所有的service\n  這層擁最主要的商務邏輯,大多會依功能性作區分(ex:授權、會員、購物車等...)\n  也有專門的service提供共用的方法及模組,\n  並透過repository取得/更新資料\n\n4. 所有的repository\n  這層最主要的功能是直接與資料庫作存取\n5. 其它\n  例如:Interface, Class, Enum 或是一些框架所需要額外的方法.\n\n## 實作\n\n定義好需要修改的範圍後,我建立了一個typescript資料夾\n裡面會建立相對應的`router`,`service`與`repository`資料夾\n與一個`app.ts`檔案.\n\n一開始將所有js檔案依照相對的位置,照抄複製放入對應位置,並將副檔名改為`.ts`\n接下我將利用gulp幫執行相關的編譯行為.\n我們可以預期編譯產生的`.js`檔可以執行,因為Typescript是Javascript的Super Set\n\n### gulp\n\n- 安裝gulp\n`npm install gulp -g`\n`npm install gulp --save`\n`npm install gulp-typescript --save`\n\n- 安裝相關模組\n`npm install @types/node --save-dev`\n`npm install --save @types/express`\n`npm install --save @types/morgan`\n`npm install --save @types/cookie-parser`\n`npm install --save @types/httperr`\n實際安裝哪些模組與專案所需要的有關,通常只要在npm搜尋`npm @types module_name`\n就可以找得到,不過有時候也會有找不到情況\n這個時候很苦惱了,我們想要ts的強型別即時除錯,但是自已刻又太自虐,\n我的想法是只有自已寫的`router`,`service`與`repository`有需要即時除錯.\n之後實務上有遇到再回來補充.\n\n- 設定gulp file\n\n```bash\nvar gulp = require('gulp');\nvar tsc = require('gulp-typescript');\n\ngulp.task('app', function() {\n        return gulp.src(['typescript/app.ts','typescript/**/*.ts'])\n        .pipe(tsc({\n                target: \"es2017\",                          /* Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017', or 'ESNEXT'. */\n                module: \"es2015\",                     /* Specify module code generation: 'commonjs', 'amd', 'system', 'umd', 'es2015', or 'ESNext'. */\n                lib: [\"es2015\",\"dom\"],\n                noImplicitAny: false,\n            }))\n        .pipe(gulp.dest('./'));\n});\n```\n\n我們不需要`tsconfig.json`這個檔案,直接可以寫成json物件\n另外記得設定src(ts所在的位置)與dest(輸出ts的位置)\n\n- 設定package.json\n\n```json\n  \"scripts\": {\n    \"start\": \"node ./bin/www\",\n    \"dev\": \"supervisor ./bin/www\",\n    \"test\": \"node_modules/.bin/nightwatch\",\n    \"e2e\": \"npm-run-all --parallel start test\",\n    \"run\": \"node ./bin/www\",\n    \"ts\": \"gulp app\"\n  }\n```\n\n- 執行 `npm run ts`\n- 檢查輸出的js,再說一次因為Typescript是Javascript的Super Set\n  所以可以預期會產生相同的檔案內容(副檔名變成.js)\n- 運行網站確定功能正常\n\n### 修改ts檔\n\n雖然js檔已正常產生,但是其實這一切都是假的!\n原因是我們的ts檔其實仍然在寫js\n![修改ts檔](https://i.imgur.com/5aCuXSy.jpg)\n在執行gulp的過程當中,應該可以看到一些提示訊息.\n由於有各種情況,就不一一說明了.\n我在這此改版的疑難就附在下面,如果有遇到相同的問題,可以作為參考.\n如果有不同問題,也可以留言討論喔(雖然我覺得是自行google會快一些) XD\n\n### 疑難\n\n- [typescript getting error TS2304: cannot find name 'require'](https://stackoverflow.com/questions/31173738/typescript-getting-error-ts2304-cannot-find-name-require)\n- [Express and Typescript - Error.stack and Error.status properties do not exist](https://stackoverflow.com/questions/28793098/express-and-typescript-error-stack-and-error-status-properties-do-not-exist)\n- [Error TS2693: 'Promise' only refers to a type, but is being used as a value here.](https://github.com/Microsoft/vscode/issues/21968)\n\n## 參考\n\n1. [npm scripts 使用指南](http://www.ruanyifeng.com/blog/2016/10/npm_scripts.html)\n2. [typescript getting error TS2304: cannot find name ' require'\n](https://stackoverflow.com/questions/31173738/typescript-getting-error-ts2304-cannot-find-name-require)\n3. [Express and Typescript - Error.stack and Error.status properties do not exist](https://stackoverflow.com/questions/28793098/express-and-typescript-error-stack-and-error-status-properties-do-not-exist)\n4. [gulp-typescript](https://github.com/ivogabe/gulp-typescript)\n5. [Promise static method give error](https://github.com/Microsoft/vscode/issues/21968)\n\n(fin)\n","slug":"2016/express_with_typescript","published":1,"updated":"2019-09-08T10:01:05.160Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wjf000nb0vx5ephiv5w","content":"<h2 id=\"原因與目的\"><a href=\"#原因與目的\" class=\"headerlink\" title=\"原因與目的\"></a>原因與目的</h2><ul>\n<li>目前我使用 express 作為網站開發</li>\n<li>我是個 .NET 工程師,習慣用強型別語言作開發 (C#)</li>\n<li>網路上找的文章<ul>\n<li><a href=\"http://brianflove.com/2016/11/08/typescript-2-express-node/\" target=\"_blank\" rel=\"noopener\">TypeScript 2 + Express + Node.js</a></li>\n<li><a href=\"http://brianflove.com/2016/03/29/typescript-express-node-js/\" target=\"_blank\" rel=\"noopener\">TypeScript + Express + Node.js</a></li>\n</ul>\n</li>\n<li>這件事情理論上是可行的,而且又有人作過,又能讓我以自已比較習慣的方式作開發</li>\n</ul>\n<h2 id=\"技術問題\"><a href=\"#技術問題\" class=\"headerlink\" title=\"技術問題\"></a>技術問題</h2><ul>\n<li>grunt/gulp/webpack<ul>\n<li>選擇 gulp希望能切換到webpack</li>\n</ul>\n</li>\n<li>typescript</li>\n</ul>\n<h2 id=\"初期目標\"><a href=\"#初期目標\" class=\"headerlink\" title=\"初期目標\"></a>初期目標</h2><ul>\n<li>把所有js 改成 ts</li>\n<li>相同指令即可完成編譯與開啟站台</li>\n<li>可部署到正式環境</li>\n</ul>\n<h2 id=\"構想\"><a href=\"#構想\" class=\"headerlink\" title=\"構想\"></a>構想</h2><p><del>原本我是想把整個專案重新編譯至另外一個資料夾中,</del><br><del>再由該資料夾設為起始專案執行</del><br>在建立typescript資料夾，只編譯相關的ts檔;<br>至於哪些是<strong>相關的ts檔</strong>?</p>\n<ol>\n<li><p><code>app.ts</code>(編譯為<code>app.js</code>)\n在根目錄作為所有request入口的起始檔案,用來解析request需要對應的router<br>這裡可能會有一些共用的商務/系統邏輯或是錯誤處理</p>\n</li>\n<li><p>所有的router<br>這是最接近使用者的 business logic code,影響返回的頁面與呈現的資料,<br>通常這裡主要的目的是組合來自不同的service的資訊,再返回給view層,<br>不過有時候也會處理一些顯示邏輯.</p>\n</li>\n<li><p>所有的service<br>這層擁最主要的商務邏輯,大多會依功能性作區分(ex:授權、會員、購物車等…)<br>也有專門的service提供共用的方法及模組,<br>並透過repository取得/更新資料</p>\n</li>\n<li><p>所有的repository<br>這層最主要的功能是直接與資料庫作存取</p>\n</li>\n<li><p>其它<br>例如:Interface, Class, Enum 或是一些框架所需要額外的方法.</p>\n</li>\n</ol>\n<h2 id=\"實作\"><a href=\"#實作\" class=\"headerlink\" title=\"實作\"></a>實作</h2><p>定義好需要修改的範圍後,我建立了一個typescript資料夾<br>裡面會建立相對應的<code>router</code>,<code>service</code>與<code>repository</code>資料夾<br>與一個<code>app.ts</code>檔案.</p>\n<p>一開始將所有js檔案依照相對的位置,照抄複製放入對應位置,並將副檔名改為<code>.ts</code><br>接下我將利用gulp幫執行相關的編譯行為.<br>我們可以預期編譯產生的<code>.js</code>檔可以執行,因為Typescript是Javascript的Super Set</p>\n<h3 id=\"gulp\"><a href=\"#gulp\" class=\"headerlink\" title=\"gulp\"></a>gulp</h3><ul>\n<li><p>安裝gulp<br><code>npm install gulp -g</code><br><code>npm install gulp --save</code><br><code>npm install gulp-typescript --save</code></p>\n</li>\n<li><p>安裝相關模組<br><code>npm install @types/node --save-dev</code><br><code>npm install --save @types/express</code><br><code>npm install --save @types/morgan</code><br><code>npm install --save @types/cookie-parser</code><br><code>npm install --save @types/httperr</code><br>實際安裝哪些模組與專案所需要的有關,通常只要在npm搜尋<code>npm @types module_name</code><br>就可以找得到,不過有時候也會有找不到情況<br>這個時候很苦惱了,我們想要ts的強型別即時除錯,但是自已刻又太自虐,<br>我的想法是只有自已寫的<code>router</code>,<code>service</code>與<code>repository</code>有需要即時除錯.<br>之後實務上有遇到再回來補充.</p>\n</li>\n<li><p>設定gulp file</p>\n</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var gulp = require(<span class=\"string\">'gulp'</span>);</span><br><span class=\"line\">var tsc = require(<span class=\"string\">'gulp-typescript'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">gulp.task(<span class=\"string\">'app'</span>, <span class=\"function\"><span class=\"title\">function</span></span>() &#123;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> gulp.src([<span class=\"string\">'typescript/app.ts'</span>,<span class=\"string\">'typescript/**/*.ts'</span>])</span><br><span class=\"line\">        .pipe(tsc(&#123;</span><br><span class=\"line\">                target: <span class=\"string\">\"es2017\"</span>,                          /* Specify ECMAScript target version: <span class=\"string\">'ES3'</span> (default), <span class=\"string\">'ES5'</span>, <span class=\"string\">'ES2015'</span>, <span class=\"string\">'ES2016'</span>, <span class=\"string\">'ES2017'</span>, or <span class=\"string\">'ESNEXT'</span>. */</span><br><span class=\"line\">                module: <span class=\"string\">\"es2015\"</span>,                     /* Specify module code generation: <span class=\"string\">'commonjs'</span>, <span class=\"string\">'amd'</span>, <span class=\"string\">'system'</span>, <span class=\"string\">'umd'</span>, <span class=\"string\">'es2015'</span>, or <span class=\"string\">'ESNext'</span>. */</span><br><span class=\"line\">                lib: [<span class=\"string\">\"es2015\"</span>,<span class=\"string\">\"dom\"</span>],</span><br><span class=\"line\">                noImplicitAny: <span class=\"literal\">false</span>,</span><br><span class=\"line\">            &#125;))</span><br><span class=\"line\">        .pipe(gulp.dest(<span class=\"string\">'./'</span>));</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>我們不需要<code>tsconfig.json</code>這個檔案,直接可以寫成json物件<br>另外記得設定src(ts所在的位置)與dest(輸出ts的位置)</p>\n<ul>\n<li>設定package.json</li>\n</ul>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"scripts\": &#123;</span><br><span class=\"line\">  \"start\": \"node ./bin/www\",</span><br><span class=\"line\">  \"dev\": \"supervisor ./bin/www\",</span><br><span class=\"line\">  \"test\": \"node_modules/.bin/nightwatch\",</span><br><span class=\"line\">  \"e2e\": \"npm-run-all --parallel start test\",</span><br><span class=\"line\">  \"run\": \"node ./bin/www\",</span><br><span class=\"line\">  \"ts\": \"gulp app\"</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>執行 <code>npm run ts</code></li>\n<li>檢查輸出的js,再說一次因為Typescript是Javascript的Super Set<br>所以可以預期會產生相同的檔案內容(副檔名變成.js)</li>\n<li>運行網站確定功能正常</li>\n</ul>\n<h3 id=\"修改ts檔\"><a href=\"#修改ts檔\" class=\"headerlink\" title=\"修改ts檔\"></a>修改ts檔</h3><p>雖然js檔已正常產生,但是其實這一切都是假的!\n原因是我們的ts檔其實仍然在寫js<br><img src=\"https://i.imgur.com/5aCuXSy.jpg\" alt=\"修改ts檔\"><br>在執行gulp的過程當中,應該可以看到一些提示訊息.<br>由於有各種情況,就不一一說明了.<br>我在這此改版的疑難就附在下面,如果有遇到相同的問題,可以作為參考.<br>如果有不同問題,也可以留言討論喔(雖然我覺得是自行google會快一些) XD</p>\n<h3 id=\"疑難\"><a href=\"#疑難\" class=\"headerlink\" title=\"疑難\"></a>疑難</h3><ul>\n<li><a href=\"https://stackoverflow.com/questions/31173738/typescript-getting-error-ts2304-cannot-find-name-require\" target=\"_blank\" rel=\"noopener\">typescript getting error TS2304: cannot find name ‘require’</a></li>\n<li><a href=\"https://stackoverflow.com/questions/28793098/express-and-typescript-error-stack-and-error-status-properties-do-not-exist\" target=\"_blank\" rel=\"noopener\">Express and Typescript - Error.stack and Error.status properties do not exist</a></li>\n<li><a href=\"https://github.com/Microsoft/vscode/issues/21968\" target=\"_blank\" rel=\"noopener\">Error TS2693: ‘Promise’ only refers to a type, but is being used as a value here.</a></li>\n</ul>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ol>\n<li><a href=\"http://www.ruanyifeng.com/blog/2016/10/npm_scripts.html\" target=\"_blank\" rel=\"noopener\">npm scripts 使用指南</a></li>\n<li><a href=\"https://stackoverflow.com/questions/31173738/typescript-getting-error-ts2304-cannot-find-name-require\" target=\"_blank\" rel=\"noopener\">typescript getting error TS2304: cannot find name ‘ require’\n</a></li>\n<li><a href=\"https://stackoverflow.com/questions/28793098/express-and-typescript-error-stack-and-error-status-properties-do-not-exist\" target=\"_blank\" rel=\"noopener\">Express and Typescript - Error.stack and Error.status properties do not exist</a></li>\n<li><a href=\"https://github.com/ivogabe/gulp-typescript\" target=\"_blank\" rel=\"noopener\">gulp-typescript</a></li>\n<li><a href=\"https://github.com/Microsoft/vscode/issues/21968\" target=\"_blank\" rel=\"noopener\">Promise static method give error</a></li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"原因與目的\"><a href=\"#原因與目的\" class=\"headerlink\" title=\"原因與目的\"></a>原因與目的</h2><ul>\n<li>目前我使用 express 作為網站開發</li>\n<li>我是個 .NET 工程師,習慣用強型別語言作開發 (C#)</li>\n<li>網路上找的文章<ul>\n<li><a href=\"http://brianflove.com/2016/11/08/typescript-2-express-node/\" target=\"_blank\" rel=\"noopener\">TypeScript 2 + Express + Node.js</a></li>\n<li><a href=\"http://brianflove.com/2016/03/29/typescript-express-node-js/\" target=\"_blank\" rel=\"noopener\">TypeScript + Express + Node.js</a></li>\n</ul>\n</li>\n<li>這件事情理論上是可行的,而且又有人作過,又能讓我以自已比較習慣的方式作開發</li>\n</ul>\n<h2 id=\"技術問題\"><a href=\"#技術問題\" class=\"headerlink\" title=\"技術問題\"></a>技術問題</h2><ul>\n<li>grunt/gulp/webpack<ul>\n<li>選擇 gulp希望能切換到webpack</li>\n</ul>\n</li>\n<li>typescript</li>\n</ul>\n<h2 id=\"初期目標\"><a href=\"#初期目標\" class=\"headerlink\" title=\"初期目標\"></a>初期目標</h2><ul>\n<li>把所有js 改成 ts</li>\n<li>相同指令即可完成編譯與開啟站台</li>\n<li>可部署到正式環境</li>\n</ul>\n<h2 id=\"構想\"><a href=\"#構想\" class=\"headerlink\" title=\"構想\"></a>構想</h2><p><del>原本我是想把整個專案重新編譯至另外一個資料夾中,</del><br><del>再由該資料夾設為起始專案執行</del><br>在建立typescript資料夾，只編譯相關的ts檔;<br>至於哪些是<strong>相關的ts檔</strong>?</p>\n<ol>\n<li><p><code>app.ts</code>(編譯為<code>app.js</code>)\n在根目錄作為所有request入口的起始檔案,用來解析request需要對應的router<br>這裡可能會有一些共用的商務/系統邏輯或是錯誤處理</p>\n</li>\n<li><p>所有的router<br>這是最接近使用者的 business logic code,影響返回的頁面與呈現的資料,<br>通常這裡主要的目的是組合來自不同的service的資訊,再返回給view層,<br>不過有時候也會處理一些顯示邏輯.</p>\n</li>\n<li><p>所有的service<br>這層擁最主要的商務邏輯,大多會依功能性作區分(ex:授權、會員、購物車等…)<br>也有專門的service提供共用的方法及模組,<br>並透過repository取得/更新資料</p>\n</li>\n<li><p>所有的repository<br>這層最主要的功能是直接與資料庫作存取</p>\n</li>\n<li><p>其它<br>例如:Interface, Class, Enum 或是一些框架所需要額外的方法.</p>\n</li>\n</ol>\n<h2 id=\"實作\"><a href=\"#實作\" class=\"headerlink\" title=\"實作\"></a>實作</h2><p>定義好需要修改的範圍後,我建立了一個typescript資料夾<br>裡面會建立相對應的<code>router</code>,<code>service</code>與<code>repository</code>資料夾<br>與一個<code>app.ts</code>檔案.</p>\n<p>一開始將所有js檔案依照相對的位置,照抄複製放入對應位置,並將副檔名改為<code>.ts</code><br>接下我將利用gulp幫執行相關的編譯行為.<br>我們可以預期編譯產生的<code>.js</code>檔可以執行,因為Typescript是Javascript的Super Set</p>\n<h3 id=\"gulp\"><a href=\"#gulp\" class=\"headerlink\" title=\"gulp\"></a>gulp</h3><ul>\n<li><p>安裝gulp<br><code>npm install gulp -g</code><br><code>npm install gulp --save</code><br><code>npm install gulp-typescript --save</code></p>\n</li>\n<li><p>安裝相關模組<br><code>npm install @types/node --save-dev</code><br><code>npm install --save @types/express</code><br><code>npm install --save @types/morgan</code><br><code>npm install --save @types/cookie-parser</code><br><code>npm install --save @types/httperr</code><br>實際安裝哪些模組與專案所需要的有關,通常只要在npm搜尋<code>npm @types module_name</code><br>就可以找得到,不過有時候也會有找不到情況<br>這個時候很苦惱了,我們想要ts的強型別即時除錯,但是自已刻又太自虐,<br>我的想法是只有自已寫的<code>router</code>,<code>service</code>與<code>repository</code>有需要即時除錯.<br>之後實務上有遇到再回來補充.</p>\n</li>\n<li><p>設定gulp file</p>\n</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var gulp = require(<span class=\"string\">'gulp'</span>);</span><br><span class=\"line\">var tsc = require(<span class=\"string\">'gulp-typescript'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">gulp.task(<span class=\"string\">'app'</span>, <span class=\"function\"><span class=\"title\">function</span></span>() &#123;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> gulp.src([<span class=\"string\">'typescript/app.ts'</span>,<span class=\"string\">'typescript/**/*.ts'</span>])</span><br><span class=\"line\">        .pipe(tsc(&#123;</span><br><span class=\"line\">                target: <span class=\"string\">\"es2017\"</span>,                          /* Specify ECMAScript target version: <span class=\"string\">'ES3'</span> (default), <span class=\"string\">'ES5'</span>, <span class=\"string\">'ES2015'</span>, <span class=\"string\">'ES2016'</span>, <span class=\"string\">'ES2017'</span>, or <span class=\"string\">'ESNEXT'</span>. */</span><br><span class=\"line\">                module: <span class=\"string\">\"es2015\"</span>,                     /* Specify module code generation: <span class=\"string\">'commonjs'</span>, <span class=\"string\">'amd'</span>, <span class=\"string\">'system'</span>, <span class=\"string\">'umd'</span>, <span class=\"string\">'es2015'</span>, or <span class=\"string\">'ESNext'</span>. */</span><br><span class=\"line\">                lib: [<span class=\"string\">\"es2015\"</span>,<span class=\"string\">\"dom\"</span>],</span><br><span class=\"line\">                noImplicitAny: <span class=\"literal\">false</span>,</span><br><span class=\"line\">            &#125;))</span><br><span class=\"line\">        .pipe(gulp.dest(<span class=\"string\">'./'</span>));</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>我們不需要<code>tsconfig.json</code>這個檔案,直接可以寫成json物件<br>另外記得設定src(ts所在的位置)與dest(輸出ts的位置)</p>\n<ul>\n<li>設定package.json</li>\n</ul>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"scripts\": &#123;</span><br><span class=\"line\">  \"start\": \"node ./bin/www\",</span><br><span class=\"line\">  \"dev\": \"supervisor ./bin/www\",</span><br><span class=\"line\">  \"test\": \"node_modules/.bin/nightwatch\",</span><br><span class=\"line\">  \"e2e\": \"npm-run-all --parallel start test\",</span><br><span class=\"line\">  \"run\": \"node ./bin/www\",</span><br><span class=\"line\">  \"ts\": \"gulp app\"</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>執行 <code>npm run ts</code></li>\n<li>檢查輸出的js,再說一次因為Typescript是Javascript的Super Set<br>所以可以預期會產生相同的檔案內容(副檔名變成.js)</li>\n<li>運行網站確定功能正常</li>\n</ul>\n<h3 id=\"修改ts檔\"><a href=\"#修改ts檔\" class=\"headerlink\" title=\"修改ts檔\"></a>修改ts檔</h3><p>雖然js檔已正常產生,但是其實這一切都是假的!\n原因是我們的ts檔其實仍然在寫js<br><img src=\"https://i.imgur.com/5aCuXSy.jpg\" alt=\"修改ts檔\"><br>在執行gulp的過程當中,應該可以看到一些提示訊息.<br>由於有各種情況,就不一一說明了.<br>我在這此改版的疑難就附在下面,如果有遇到相同的問題,可以作為參考.<br>如果有不同問題,也可以留言討論喔(雖然我覺得是自行google會快一些) XD</p>\n<h3 id=\"疑難\"><a href=\"#疑難\" class=\"headerlink\" title=\"疑難\"></a>疑難</h3><ul>\n<li><a href=\"https://stackoverflow.com/questions/31173738/typescript-getting-error-ts2304-cannot-find-name-require\" target=\"_blank\" rel=\"noopener\">typescript getting error TS2304: cannot find name ‘require’</a></li>\n<li><a href=\"https://stackoverflow.com/questions/28793098/express-and-typescript-error-stack-and-error-status-properties-do-not-exist\" target=\"_blank\" rel=\"noopener\">Express and Typescript - Error.stack and Error.status properties do not exist</a></li>\n<li><a href=\"https://github.com/Microsoft/vscode/issues/21968\" target=\"_blank\" rel=\"noopener\">Error TS2693: ‘Promise’ only refers to a type, but is being used as a value here.</a></li>\n</ul>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ol>\n<li><a href=\"http://www.ruanyifeng.com/blog/2016/10/npm_scripts.html\" target=\"_blank\" rel=\"noopener\">npm scripts 使用指南</a></li>\n<li><a href=\"https://stackoverflow.com/questions/31173738/typescript-getting-error-ts2304-cannot-find-name-require\" target=\"_blank\" rel=\"noopener\">typescript getting error TS2304: cannot find name ‘ require’\n</a></li>\n<li><a href=\"https://stackoverflow.com/questions/28793098/express-and-typescript-error-stack-and-error-status-properties-do-not-exist\" target=\"_blank\" rel=\"noopener\">Express and Typescript - Error.stack and Error.status properties do not exist</a></li>\n<li><a href=\"https://github.com/ivogabe/gulp-typescript\" target=\"_blank\" rel=\"noopener\">gulp-typescript</a></li>\n<li><a href=\"https://github.com/Microsoft/vscode/issues/21968\" target=\"_blank\" rel=\"noopener\">Promise static method give error</a></li>\n</ol>\n<p>(fin)</p>\n"},{"title":"匯入文字資料到MSSQL","date":"2016-08-29T09:24:55.000Z","_content":"## 前置作業\n1. 一個有權限寫入的MSSQLServer與SSMS管理工具\n2. 準備好你的檔案資料(Row Data)\n3. 這份記錄僅供參考(DB版本使用Microsoft SQL Server 2014)\n\n## 步驟記錄\n1. 開啟SSMS，連線測試SQL Server\n2. 對測試資料庫右鍵>工作>匯入資料，開啟「SQL Server匯入匯出精靈」\n3. 「開始畫面」> 下一步\n4. 「資料來源」選擇一般檔案來源，「檔案名稱」選取Row Data的檔案路徑\n5. 請依實際狀況選擇下列欄位\n     - 「略過的標頭資料列數」: 預設為0，可透過設定此欄位略過 Row Data內含註解，標頭等資料\n     - 「第一個資料列的資料行名稱」:若Row Data第一行為標頭，請勾選此欄位\n     - 左側選單選擇「資料行」>「資料列分隔符號」選擇「{CR}{LF}」、「資料行分隔符號」選擇「Tab鍵{t}」\n6. 左側選單選擇「預覽」確認匯入的資料無誤後，點擊下一步\n7. 「目的地」請選擇「SqlServer」，設定ConnectionString\n     - Data Source=1**.***.***.***;Initial Catalog=TestDB;Persist Security Info=True;User ID=tester;Password=********;\n8. 「選取來源資料表和檢視畫面」確認無誤後，點擊下一步。\n9. 「檢閱資料類型對應畫面」請忽略資料類型的警告，點擊下一步。\n10. 「執行封裝畫面」勾選「立即執行」，點擊下一步。\n11. 「完成精靈畫面」點選完成。\n12.  執行時間長短，依Row Data大小而有所差異。\n\n(fin)\n","source":"_posts/2016/file_rowdata_import_mssql.md","raw":"---\ntitle: 匯入文字資料到MSSQL\ndate: 2016/08/29 17:24:55 \ntag:\n- Database\n- SQL Server\n---\n## 前置作業\n1. 一個有權限寫入的MSSQLServer與SSMS管理工具\n2. 準備好你的檔案資料(Row Data)\n3. 這份記錄僅供參考(DB版本使用Microsoft SQL Server 2014)\n\n## 步驟記錄\n1. 開啟SSMS，連線測試SQL Server\n2. 對測試資料庫右鍵>工作>匯入資料，開啟「SQL Server匯入匯出精靈」\n3. 「開始畫面」> 下一步\n4. 「資料來源」選擇一般檔案來源，「檔案名稱」選取Row Data的檔案路徑\n5. 請依實際狀況選擇下列欄位\n     - 「略過的標頭資料列數」: 預設為0，可透過設定此欄位略過 Row Data內含註解，標頭等資料\n     - 「第一個資料列的資料行名稱」:若Row Data第一行為標頭，請勾選此欄位\n     - 左側選單選擇「資料行」>「資料列分隔符號」選擇「{CR}{LF}」、「資料行分隔符號」選擇「Tab鍵{t}」\n6. 左側選單選擇「預覽」確認匯入的資料無誤後，點擊下一步\n7. 「目的地」請選擇「SqlServer」，設定ConnectionString\n     - Data Source=1**.***.***.***;Initial Catalog=TestDB;Persist Security Info=True;User ID=tester;Password=********;\n8. 「選取來源資料表和檢視畫面」確認無誤後，點擊下一步。\n9. 「檢閱資料類型對應畫面」請忽略資料類型的警告，點擊下一步。\n10. 「執行封裝畫面」勾選「立即執行」，點擊下一步。\n11. 「完成精靈畫面」點選完成。\n12.  執行時間長短，依Row Data大小而有所差異。\n\n(fin)\n","slug":"2016/file_rowdata_import_mssql","published":1,"updated":"2019-06-10T14:43:28.868Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wjh000ob0vxtcampbx6","content":"<h2 id=\"前置作業\"><a href=\"#前置作業\" class=\"headerlink\" title=\"前置作業\"></a>前置作業</h2><ol>\n<li>一個有權限寫入的MSSQLServer與SSMS管理工具</li>\n<li>準備好你的檔案資料(Row Data)</li>\n<li>這份記錄僅供參考(DB版本使用Microsoft SQL Server 2014)</li>\n</ol>\n<h2 id=\"步驟記錄\"><a href=\"#步驟記錄\" class=\"headerlink\" title=\"步驟記錄\"></a>步驟記錄</h2><ol>\n<li>開啟SSMS，連線測試SQL Server</li>\n<li>對測試資料庫右鍵&gt;工作&gt;匯入資料，開啟「SQL Server匯入匯出精靈」</li>\n<li>「開始畫面」&gt; 下一步</li>\n<li>「資料來源」選擇一般檔案來源，「檔案名稱」選取Row Data的檔案路徑</li>\n<li>請依實際狀況選擇下列欄位<ul>\n<li>「略過的標頭資料列數」: 預設為0，可透過設定此欄位略過 Row Data內含註解，標頭等資料</li>\n<li>「第一個資料列的資料行名稱」:若Row Data第一行為標頭，請勾選此欄位</li>\n<li>左側選單選擇「資料行」&gt;「資料列分隔符號」選擇「{CR}{LF}」、「資料行分隔符號」選擇「Tab鍵{t}」</li>\n</ul>\n</li>\n<li>左側選單選擇「預覽」確認匯入的資料無誤後，點擊下一步</li>\n<li>「目的地」請選擇「SqlServer」，設定ConnectionString<ul>\n<li>Data Source=1<strong>.*</strong>.<strong><em>.</em></strong>;Initial Catalog=TestDB;Persist Security Info=True;User ID=tester;Password=<strong>****</strong>;</li>\n</ul>\n</li>\n<li>「選取來源資料表和檢視畫面」確認無誤後，點擊下一步。</li>\n<li>「檢閱資料類型對應畫面」請忽略資料類型的警告，點擊下一步。</li>\n<li>「執行封裝畫面」勾選「立即執行」，點擊下一步。</li>\n<li>「完成精靈畫面」點選完成。</li>\n<li>執行時間長短，依Row Data大小而有所差異。</li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前置作業\"><a href=\"#前置作業\" class=\"headerlink\" title=\"前置作業\"></a>前置作業</h2><ol>\n<li>一個有權限寫入的MSSQLServer與SSMS管理工具</li>\n<li>準備好你的檔案資料(Row Data)</li>\n<li>這份記錄僅供參考(DB版本使用Microsoft SQL Server 2014)</li>\n</ol>\n<h2 id=\"步驟記錄\"><a href=\"#步驟記錄\" class=\"headerlink\" title=\"步驟記錄\"></a>步驟記錄</h2><ol>\n<li>開啟SSMS，連線測試SQL Server</li>\n<li>對測試資料庫右鍵&gt;工作&gt;匯入資料，開啟「SQL Server匯入匯出精靈」</li>\n<li>「開始畫面」&gt; 下一步</li>\n<li>「資料來源」選擇一般檔案來源，「檔案名稱」選取Row Data的檔案路徑</li>\n<li>請依實際狀況選擇下列欄位<ul>\n<li>「略過的標頭資料列數」: 預設為0，可透過設定此欄位略過 Row Data內含註解，標頭等資料</li>\n<li>「第一個資料列的資料行名稱」:若Row Data第一行為標頭，請勾選此欄位</li>\n<li>左側選單選擇「資料行」&gt;「資料列分隔符號」選擇「{CR}{LF}」、「資料行分隔符號」選擇「Tab鍵{t}」</li>\n</ul>\n</li>\n<li>左側選單選擇「預覽」確認匯入的資料無誤後，點擊下一步</li>\n<li>「目的地」請選擇「SqlServer」，設定ConnectionString<ul>\n<li>Data Source=1<strong>.*</strong>.<strong><em>.</em></strong>;Initial Catalog=TestDB;Persist Security Info=True;User ID=tester;Password=<strong>****</strong>;</li>\n</ul>\n</li>\n<li>「選取來源資料表和檢視畫面」確認無誤後，點擊下一步。</li>\n<li>「檢閱資料類型對應畫面」請忽略資料類型的警告，點擊下一步。</li>\n<li>「執行封裝畫面」勾選「立即執行」，點擊下一步。</li>\n<li>「完成精靈畫面」點選完成。</li>\n<li>執行時間長短，依Row Data大小而有所差異。</li>\n</ol>\n<p>(fin)</p>\n"},{"title":"[記錄]串接 GOOGLE API 取得資料(二)","date":"2017-07-19T17:04:14.000Z","_content":"## 前情提要\n\n在[前篇](https://blog.marsen.me/2017/07/14/google_api_auth_1/)說明為什麼我要作「精神力評鑑」 \n\n原因是為了記錄自已的精力,能更有效率使用時間,進而提昇個人的生產力.\n\n## 應用\n\n有了數據後, 就要看怎麼運用.  \nGoogle 的表單,可以自動產生回應結果試算表,  \n持之以恒的每天記錄,很快就有上百千筆的資料.\n\n我打算取得這些資料後,繪制成分佈圖\n這樣就可以知道,我的黃金時間是在每一天的什麼時段.\n\n### 如何透過 [GOOGLE Sheets API](https://developers.google.com/sheets/api/reference/rest/) 可以取得資料.\n\n在[Google Cloud Platform](https://cloud.google.com/?hl=zh-tw),建立起 Google API 的服務。\n\n1. 前往[Google API Wizard](https://console.developers.google.com/start/api?id=sheets.googleapis.com),建立或選擇專案。\n2. 建立憑証,選擇OAuth Client ID\n\t- 在這裡我會一次性的建立起所有環境(開發、測試、正式)的憑証 。\n3. 下載JSON放置專案的指定位置.\n4. 如何取得授權與取得資料，請參考[QuickStart](https://developers.google.com/sheets/api/quickstart/nodejs)\n\t- 安全考量,我不會將client_secret.json與取回的token 加入版本控制\n\t- 以Google 試算表為例，如何取得[spreadsheetId](https://developers.google.com/sheets/api/guides/concepts)? 很簡單，網址上就可以取得。\n\t```\n\tex:\n\thttps://docs.google.com/spreadsheets/d/1qpyC0XzvTcKT6EISywvqESX3A0MwQoFDE8p-Bll4hps/edit#gid=0\n\t的spreadsheetId就是1qpyC0XzvTcKT6EISywvqESX3A0MwQoFDE8p-Bll4hps\n\t```\n### 說明  \n以 QuickStart 的程式為例 ,  \n下載回來的檔案 `client_secret.json`  \n可以提供 `clientSecret`、`clientId` 與授權後轉導的 url ,  \n當程式執行時, 便會透 `googleAuth` 去取得授權 ,  \n過程之中會需要使用者作驗証, 驗証完成即取得授權 , \n授權有一定的效期, 故一段時間之後需要重新取得授權 \n\n### 其它\n1. `client_secret.json` 是機敏資料, 不可以放入版本控制, 需要特殊的流程步驟上傳到你的 Web Server 的位置\n    - Openshift可以透過SSH或是SFTP登入來上傳`client_secret.json`\n    - CI 以 JENKINS 為例 ; 可以使用 Publish over SSH 上傳檔案\n![](https://i.imgur.com/Fo4Ml5M.jpg)\n\t  - 需要注意 CI Server 要有 Web Server 的 SSH Key\n\t  - LINUX 複製資料夾語法 `cp -rf src/folder/. target/folder`\n\n2. 在正式公開的環境上可能會發生`Error: invalid_scope`的錯誤 ，可以[參考](https://support.google.com/code/contact/oauth_app_verification?id=705847791246&client=705847791246-l20jeqj1ncv2vffaki70ing4c8cda2r1.apps.googleusercontent.com&query=https://www.googleapis.com/auth/spreadsheets.readonly)。\n\t- 填寫表單作驗証\n\t- 個人測試可以加入[Risky Access Permissions By Unreviewed Apps](https://groups.google.com/forum/#!forum/risky-access-by-unreviewed-apps) 論壇\n\n3. 我最後是使用[d3.js](https://d3js.org/)作為繪圖的library , 因為網路上的資源相當的多 , 而且這次的著墨並不多 , 所以不在這裡介紹. \n\n## Demo\n\n![](https://i.imgur.com/8FYzhdg.gif)\n\n## 參考\n1. [Openshift SFPT](https://blog.openshift.com/using-filezilla-and-sftp-on-windows-with-openshift/)\n2. [Linux CP](https://www.phpini.com/linux/cp-force-copy)\n\n(fin)","source":"_posts/2016/google_api_auth_2.md","raw":"---\ntitle: \"[記錄]串接 GOOGLE API 取得資料(二)\"\ndate: 2017/07/20 01:04:14\ntag:\n  - Google \n  - API\n  - OAuth \n---\n## 前情提要\n\n在[前篇](https://blog.marsen.me/2017/07/14/google_api_auth_1/)說明為什麼我要作「精神力評鑑」 \n\n原因是為了記錄自已的精力,能更有效率使用時間,進而提昇個人的生產力.\n\n## 應用\n\n有了數據後, 就要看怎麼運用.  \nGoogle 的表單,可以自動產生回應結果試算表,  \n持之以恒的每天記錄,很快就有上百千筆的資料.\n\n我打算取得這些資料後,繪制成分佈圖\n這樣就可以知道,我的黃金時間是在每一天的什麼時段.\n\n### 如何透過 [GOOGLE Sheets API](https://developers.google.com/sheets/api/reference/rest/) 可以取得資料.\n\n在[Google Cloud Platform](https://cloud.google.com/?hl=zh-tw),建立起 Google API 的服務。\n\n1. 前往[Google API Wizard](https://console.developers.google.com/start/api?id=sheets.googleapis.com),建立或選擇專案。\n2. 建立憑証,選擇OAuth Client ID\n\t- 在這裡我會一次性的建立起所有環境(開發、測試、正式)的憑証 。\n3. 下載JSON放置專案的指定位置.\n4. 如何取得授權與取得資料，請參考[QuickStart](https://developers.google.com/sheets/api/quickstart/nodejs)\n\t- 安全考量,我不會將client_secret.json與取回的token 加入版本控制\n\t- 以Google 試算表為例，如何取得[spreadsheetId](https://developers.google.com/sheets/api/guides/concepts)? 很簡單，網址上就可以取得。\n\t```\n\tex:\n\thttps://docs.google.com/spreadsheets/d/1qpyC0XzvTcKT6EISywvqESX3A0MwQoFDE8p-Bll4hps/edit#gid=0\n\t的spreadsheetId就是1qpyC0XzvTcKT6EISywvqESX3A0MwQoFDE8p-Bll4hps\n\t```\n### 說明  \n以 QuickStart 的程式為例 ,  \n下載回來的檔案 `client_secret.json`  \n可以提供 `clientSecret`、`clientId` 與授權後轉導的 url ,  \n當程式執行時, 便會透 `googleAuth` 去取得授權 ,  \n過程之中會需要使用者作驗証, 驗証完成即取得授權 , \n授權有一定的效期, 故一段時間之後需要重新取得授權 \n\n### 其它\n1. `client_secret.json` 是機敏資料, 不可以放入版本控制, 需要特殊的流程步驟上傳到你的 Web Server 的位置\n    - Openshift可以透過SSH或是SFTP登入來上傳`client_secret.json`\n    - CI 以 JENKINS 為例 ; 可以使用 Publish over SSH 上傳檔案\n![](https://i.imgur.com/Fo4Ml5M.jpg)\n\t  - 需要注意 CI Server 要有 Web Server 的 SSH Key\n\t  - LINUX 複製資料夾語法 `cp -rf src/folder/. target/folder`\n\n2. 在正式公開的環境上可能會發生`Error: invalid_scope`的錯誤 ，可以[參考](https://support.google.com/code/contact/oauth_app_verification?id=705847791246&client=705847791246-l20jeqj1ncv2vffaki70ing4c8cda2r1.apps.googleusercontent.com&query=https://www.googleapis.com/auth/spreadsheets.readonly)。\n\t- 填寫表單作驗証\n\t- 個人測試可以加入[Risky Access Permissions By Unreviewed Apps](https://groups.google.com/forum/#!forum/risky-access-by-unreviewed-apps) 論壇\n\n3. 我最後是使用[d3.js](https://d3js.org/)作為繪圖的library , 因為網路上的資源相當的多 , 而且這次的著墨並不多 , 所以不在這裡介紹. \n\n## Demo\n\n![](https://i.imgur.com/8FYzhdg.gif)\n\n## 參考\n1. [Openshift SFPT](https://blog.openshift.com/using-filezilla-and-sftp-on-windows-with-openshift/)\n2. [Linux CP](https://www.phpini.com/linux/cp-force-copy)\n\n(fin)","slug":"2016/google_api_auth_2","published":1,"updated":"2019-06-10T14:43:28.870Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wjn000qb0vx65kniavg","content":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>在<a href=\"https://blog.marsen.me/2017/07/14/google_api_auth_1/\">前篇</a>說明為什麼我要作「精神力評鑑」 </p>\n<p>原因是為了記錄自已的精力,能更有效率使用時間,進而提昇個人的生產力.</p>\n<h2 id=\"應用\"><a href=\"#應用\" class=\"headerlink\" title=\"應用\"></a>應用</h2><p>有了數據後, 就要看怎麼運用.<br>Google 的表單,可以自動產生回應結果試算表,<br>持之以恒的每天記錄,很快就有上百千筆的資料.</p>\n<p>我打算取得這些資料後,繪制成分佈圖<br>這樣就可以知道,我的黃金時間是在每一天的什麼時段.</p>\n<h3 id=\"如何透過-GOOGLE-Sheets-API-可以取得資料\"><a href=\"#如何透過-GOOGLE-Sheets-API-可以取得資料\" class=\"headerlink\" title=\"如何透過 GOOGLE Sheets API 可以取得資料.\"></a>如何透過 <a href=\"https://developers.google.com/sheets/api/reference/rest/\" target=\"_blank\" rel=\"noopener\">GOOGLE Sheets API</a> 可以取得資料.</h3><p>在<a href=\"https://cloud.google.com/?hl=zh-tw\" target=\"_blank\" rel=\"noopener\">Google Cloud Platform</a>,建立起 Google API 的服務。</p>\n<ol>\n<li>前往<a href=\"https://console.developers.google.com/start/api?id=sheets.googleapis.com\" target=\"_blank\" rel=\"noopener\">Google API Wizard</a>,建立或選擇專案。</li>\n<li>建立憑証,選擇OAuth Client ID<ul>\n<li>在這裡我會一次性的建立起所有環境(開發、測試、正式)的憑証 。</li>\n</ul>\n</li>\n<li>下載JSON放置專案的指定位置.</li>\n<li>如何取得授權與取得資料，請參考<a href=\"https://developers.google.com/sheets/api/quickstart/nodejs\" target=\"_blank\" rel=\"noopener\">QuickStart</a><ul>\n<li>安全考量,我不會將client_secret.json與取回的token 加入版本控制</li>\n<li>以Google 試算表為例，如何取得<a href=\"https://developers.google.com/sheets/api/guides/concepts\" target=\"_blank\" rel=\"noopener\">spreadsheetId</a>? 很簡單，網址上就可以取得。<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ex:</span><br><span class=\"line\">https://docs.google.com/spreadsheets/d/1qpyC0XzvTcKT6EISywvqESX3A0MwQoFDE8p-Bll4hps/edit#gid=0</span><br><span class=\"line\">的spreadsheetId就是1qpyC0XzvTcKT6EISywvqESX3A0MwQoFDE8p-Bll4hps</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"說明\"><a href=\"#說明\" class=\"headerlink\" title=\"說明\"></a>說明</h3><p>以 QuickStart 的程式為例 ,<br>下載回來的檔案 <code>client_secret.json</code><br>可以提供 <code>clientSecret</code>、<code>clientId</code> 與授權後轉導的 url ,<br>當程式執行時, 便會透 <code>googleAuth</code> 去取得授權 ,<br>過程之中會需要使用者作驗証, 驗証完成即取得授權 ,<br>授權有一定的效期, 故一段時間之後需要重新取得授權 </p>\n<h3 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h3><ol>\n<li><p><code>client_secret.json</code> 是機敏資料, 不可以放入版本控制, 需要特殊的流程步驟上傳到你的 Web Server 的位置</p>\n<ul>\n<li>Openshift可以透過SSH或是SFTP登入來上傳<code>client_secret.json</code></li>\n<li>CI 以 JENKINS 為例 ; 可以使用 Publish over SSH 上傳檔案<br><img src=\"https://i.imgur.com/Fo4Ml5M.jpg\" alt><ul>\n<li>需要注意 CI Server 要有 Web Server 的 SSH Key</li>\n<li>LINUX 複製資料夾語法 <code>cp -rf src/folder/. target/folder</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>在正式公開的環境上可能會發生<code>Error: invalid_scope</code>的錯誤 ，可以<a href=\"https://support.google.com/code/contact/oauth_app_verification?id=705847791246&client=705847791246-l20jeqj1ncv2vffaki70ing4c8cda2r1.apps.googleusercontent.com&query=https://www.googleapis.com/auth/spreadsheets.readonly\" target=\"_blank\" rel=\"noopener\">參考</a>。</p>\n<ul>\n<li>填寫表單作驗証</li>\n<li>個人測試可以加入<a href=\"https://groups.google.com/forum/#!forum/risky-access-by-unreviewed-apps\" target=\"_blank\" rel=\"noopener\">Risky Access Permissions By Unreviewed Apps</a> 論壇</li>\n</ul>\n</li>\n<li><p>我最後是使用<a href=\"https://d3js.org/\" target=\"_blank\" rel=\"noopener\">d3.js</a>作為繪圖的library , 因為網路上的資源相當的多 , 而且這次的著墨並不多 , 所以不在這裡介紹. </p>\n</li>\n</ol>\n<h2 id=\"Demo\"><a href=\"#Demo\" class=\"headerlink\" title=\"Demo\"></a>Demo</h2><p><img src=\"https://i.imgur.com/8FYzhdg.gif\" alt></p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ol>\n<li><a href=\"https://blog.openshift.com/using-filezilla-and-sftp-on-windows-with-openshift/\" target=\"_blank\" rel=\"noopener\">Openshift SFPT</a></li>\n<li><a href=\"https://www.phpini.com/linux/cp-force-copy\" target=\"_blank\" rel=\"noopener\">Linux CP</a></li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>在<a href=\"https://blog.marsen.me/2017/07/14/google_api_auth_1/\">前篇</a>說明為什麼我要作「精神力評鑑」 </p>\n<p>原因是為了記錄自已的精力,能更有效率使用時間,進而提昇個人的生產力.</p>\n<h2 id=\"應用\"><a href=\"#應用\" class=\"headerlink\" title=\"應用\"></a>應用</h2><p>有了數據後, 就要看怎麼運用.<br>Google 的表單,可以自動產生回應結果試算表,<br>持之以恒的每天記錄,很快就有上百千筆的資料.</p>\n<p>我打算取得這些資料後,繪制成分佈圖<br>這樣就可以知道,我的黃金時間是在每一天的什麼時段.</p>\n<h3 id=\"如何透過-GOOGLE-Sheets-API-可以取得資料\"><a href=\"#如何透過-GOOGLE-Sheets-API-可以取得資料\" class=\"headerlink\" title=\"如何透過 GOOGLE Sheets API 可以取得資料.\"></a>如何透過 <a href=\"https://developers.google.com/sheets/api/reference/rest/\" target=\"_blank\" rel=\"noopener\">GOOGLE Sheets API</a> 可以取得資料.</h3><p>在<a href=\"https://cloud.google.com/?hl=zh-tw\" target=\"_blank\" rel=\"noopener\">Google Cloud Platform</a>,建立起 Google API 的服務。</p>\n<ol>\n<li>前往<a href=\"https://console.developers.google.com/start/api?id=sheets.googleapis.com\" target=\"_blank\" rel=\"noopener\">Google API Wizard</a>,建立或選擇專案。</li>\n<li>建立憑証,選擇OAuth Client ID<ul>\n<li>在這裡我會一次性的建立起所有環境(開發、測試、正式)的憑証 。</li>\n</ul>\n</li>\n<li>下載JSON放置專案的指定位置.</li>\n<li>如何取得授權與取得資料，請參考<a href=\"https://developers.google.com/sheets/api/quickstart/nodejs\" target=\"_blank\" rel=\"noopener\">QuickStart</a><ul>\n<li>安全考量,我不會將client_secret.json與取回的token 加入版本控制</li>\n<li>以Google 試算表為例，如何取得<a href=\"https://developers.google.com/sheets/api/guides/concepts\" target=\"_blank\" rel=\"noopener\">spreadsheetId</a>? 很簡單，網址上就可以取得。<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ex:</span><br><span class=\"line\">https://docs.google.com/spreadsheets/d/1qpyC0XzvTcKT6EISywvqESX3A0MwQoFDE8p-Bll4hps/edit#gid=0</span><br><span class=\"line\">的spreadsheetId就是1qpyC0XzvTcKT6EISywvqESX3A0MwQoFDE8p-Bll4hps</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"說明\"><a href=\"#說明\" class=\"headerlink\" title=\"說明\"></a>說明</h3><p>以 QuickStart 的程式為例 ,<br>下載回來的檔案 <code>client_secret.json</code><br>可以提供 <code>clientSecret</code>、<code>clientId</code> 與授權後轉導的 url ,<br>當程式執行時, 便會透 <code>googleAuth</code> 去取得授權 ,<br>過程之中會需要使用者作驗証, 驗証完成即取得授權 ,<br>授權有一定的效期, 故一段時間之後需要重新取得授權 </p>\n<h3 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h3><ol>\n<li><p><code>client_secret.json</code> 是機敏資料, 不可以放入版本控制, 需要特殊的流程步驟上傳到你的 Web Server 的位置</p>\n<ul>\n<li>Openshift可以透過SSH或是SFTP登入來上傳<code>client_secret.json</code></li>\n<li>CI 以 JENKINS 為例 ; 可以使用 Publish over SSH 上傳檔案<br><img src=\"https://i.imgur.com/Fo4Ml5M.jpg\" alt><ul>\n<li>需要注意 CI Server 要有 Web Server 的 SSH Key</li>\n<li>LINUX 複製資料夾語法 <code>cp -rf src/folder/. target/folder</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>在正式公開的環境上可能會發生<code>Error: invalid_scope</code>的錯誤 ，可以<a href=\"https://support.google.com/code/contact/oauth_app_verification?id=705847791246&client=705847791246-l20jeqj1ncv2vffaki70ing4c8cda2r1.apps.googleusercontent.com&query=https://www.googleapis.com/auth/spreadsheets.readonly\" target=\"_blank\" rel=\"noopener\">參考</a>。</p>\n<ul>\n<li>填寫表單作驗証</li>\n<li>個人測試可以加入<a href=\"https://groups.google.com/forum/#!forum/risky-access-by-unreviewed-apps\" target=\"_blank\" rel=\"noopener\">Risky Access Permissions By Unreviewed Apps</a> 論壇</li>\n</ul>\n</li>\n<li><p>我最後是使用<a href=\"https://d3js.org/\" target=\"_blank\" rel=\"noopener\">d3.js</a>作為繪圖的library , 因為網路上的資源相當的多 , 而且這次的著墨並不多 , 所以不在這裡介紹. </p>\n</li>\n</ol>\n<h2 id=\"Demo\"><a href=\"#Demo\" class=\"headerlink\" title=\"Demo\"></a>Demo</h2><p><img src=\"https://i.imgur.com/8FYzhdg.gif\" alt></p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ol>\n<li><a href=\"https://blog.openshift.com/using-filezilla-and-sftp-on-windows-with-openshift/\" target=\"_blank\" rel=\"noopener\">Openshift SFPT</a></li>\n<li><a href=\"https://www.phpini.com/linux/cp-force-copy\" target=\"_blank\" rel=\"noopener\">Linux CP</a></li>\n</ol>\n<p>(fin)</p>\n"},{"title":"[記錄]串接 GOOGLE API 取得資料(一)","date":"2017-07-14T07:14:27.000Z","_content":"## 原由\n\n最近看了一本書,「最有生產力的一年」. 書如其名,是一本有關生產力的書,作者用了一年的時間, \n\n以自已作實驗,測試各種方法並檢驗是否有效. \n\n作者認為,時間 x 專注力 x 精力 = 生產力, 在他眾多的方法之中, \n\n「黃金時間」與「精神力評鑑」是一組相關的方法. \n\n簡單的說,一個人的精力狀況,會隨著一天的生理、心理等客觀或主觀因素起起伏伏,\n\n就像潮汐一樣,而作者認為人應該在精力最好的時段,作最有價值的事.\n\n這個時段就被稱作「黃金時間」.\n\n有些人黃金時間在早上,有些人在晚上,每個人都不相同,\n\n因此需要記錄精神狀態來判斷.\n\n## 規劃\n\n於是我設計一組簡單的方法來記錄精神狀態\n\n透過google表單用來作記錄,\n\n![](https://i.imgur.com/XjfNTZR.jpg)\n\n狀態我以10分制來作為評選, 再兩兩一組, 共分為五組「優、良、佳、可、劣」\n\n在評鑑時先以五分法判斷精力狀況, 再以感覺是好一點或差一點來選取分數. \n\n### 行動化\n\n以我個人的習慣, 手機其實是不離身的, 如果每次記錄都要在個人電腦上作業, 其實是很不方便的.\n\n所以我參考了電腦玩物的「[Excel 記帳雲端進化！ Google 表單比記帳 App 還好用](http://www.playpcesor.com/2015/09/excel-google-sheet-form-account-book.html)」\n\n將我的表單(偽)APP化\n\n![](https://i.imgur.com/FW0VvjY.jpg)\n\n如此一來便完成了方便記錄的工具, 至於記錄下來的數據如何應用\n\n又是後話了. 不過順帶一提,我會透過整點報時的工具來提醒自已作記錄,\n\n另外我不像「最有生產力的一年」的作者特別準時睡覺,或是不喝咖啡,\n\n因為不準時睡覺跟嗜飲咖啡是我目前的習慣,我認為抱持平常的狀態去記錄才有意義.\n\n又或者當我戒掉咖啡或是開始早睡早起的習慣時,我就可以用記錄來評量這樣的行為是否有所改善.\n\n\n(fin)","source":"_posts/2016/google_api_auth_1.md","raw":"---\ntitle: \"[記錄]串接 GOOGLE API 取得資料(一)\"\ndate: 2017/07/14 15:14:27\ntag:\n  - Google \n  - API\n  - 時間管理\n---\n## 原由\n\n最近看了一本書,「最有生產力的一年」. 書如其名,是一本有關生產力的書,作者用了一年的時間, \n\n以自已作實驗,測試各種方法並檢驗是否有效. \n\n作者認為,時間 x 專注力 x 精力 = 生產力, 在他眾多的方法之中, \n\n「黃金時間」與「精神力評鑑」是一組相關的方法. \n\n簡單的說,一個人的精力狀況,會隨著一天的生理、心理等客觀或主觀因素起起伏伏,\n\n就像潮汐一樣,而作者認為人應該在精力最好的時段,作最有價值的事.\n\n這個時段就被稱作「黃金時間」.\n\n有些人黃金時間在早上,有些人在晚上,每個人都不相同,\n\n因此需要記錄精神狀態來判斷.\n\n## 規劃\n\n於是我設計一組簡單的方法來記錄精神狀態\n\n透過google表單用來作記錄,\n\n![](https://i.imgur.com/XjfNTZR.jpg)\n\n狀態我以10分制來作為評選, 再兩兩一組, 共分為五組「優、良、佳、可、劣」\n\n在評鑑時先以五分法判斷精力狀況, 再以感覺是好一點或差一點來選取分數. \n\n### 行動化\n\n以我個人的習慣, 手機其實是不離身的, 如果每次記錄都要在個人電腦上作業, 其實是很不方便的.\n\n所以我參考了電腦玩物的「[Excel 記帳雲端進化！ Google 表單比記帳 App 還好用](http://www.playpcesor.com/2015/09/excel-google-sheet-form-account-book.html)」\n\n將我的表單(偽)APP化\n\n![](https://i.imgur.com/FW0VvjY.jpg)\n\n如此一來便完成了方便記錄的工具, 至於記錄下來的數據如何應用\n\n又是後話了. 不過順帶一提,我會透過整點報時的工具來提醒自已作記錄,\n\n另外我不像「最有生產力的一年」的作者特別準時睡覺,或是不喝咖啡,\n\n因為不準時睡覺跟嗜飲咖啡是我目前的習慣,我認為抱持平常的狀態去記錄才有意義.\n\n又或者當我戒掉咖啡或是開始早睡早起的習慣時,我就可以用記錄來評量這樣的行為是否有所改善.\n\n\n(fin)","slug":"2016/google_api_auth_1","published":1,"updated":"2019-06-10T14:43:28.868Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wjp000rb0vxsamgne8c","content":"<h2 id=\"原由\"><a href=\"#原由\" class=\"headerlink\" title=\"原由\"></a>原由</h2><p>最近看了一本書,「最有生產力的一年」. 書如其名,是一本有關生產力的書,作者用了一年的時間, </p>\n<p>以自已作實驗,測試各種方法並檢驗是否有效. </p>\n<p>作者認為,時間 x 專注力 x 精力 = 生產力, 在他眾多的方法之中, </p>\n<p>「黃金時間」與「精神力評鑑」是一組相關的方法. </p>\n<p>簡單的說,一個人的精力狀況,會隨著一天的生理、心理等客觀或主觀因素起起伏伏,</p>\n<p>就像潮汐一樣,而作者認為人應該在精力最好的時段,作最有價值的事.</p>\n<p>這個時段就被稱作「黃金時間」.</p>\n<p>有些人黃金時間在早上,有些人在晚上,每個人都不相同,</p>\n<p>因此需要記錄精神狀態來判斷.</p>\n<h2 id=\"規劃\"><a href=\"#規劃\" class=\"headerlink\" title=\"規劃\"></a>規劃</h2><p>於是我設計一組簡單的方法來記錄精神狀態</p>\n<p>透過google表單用來作記錄,</p>\n<p><img src=\"https://i.imgur.com/XjfNTZR.jpg\" alt></p>\n<p>狀態我以10分制來作為評選, 再兩兩一組, 共分為五組「優、良、佳、可、劣」</p>\n<p>在評鑑時先以五分法判斷精力狀況, 再以感覺是好一點或差一點來選取分數. </p>\n<h3 id=\"行動化\"><a href=\"#行動化\" class=\"headerlink\" title=\"行動化\"></a>行動化</h3><p>以我個人的習慣, 手機其實是不離身的, 如果每次記錄都要在個人電腦上作業, 其實是很不方便的.</p>\n<p>所以我參考了電腦玩物的「<a href=\"http://www.playpcesor.com/2015/09/excel-google-sheet-form-account-book.html\" target=\"_blank\" rel=\"noopener\">Excel 記帳雲端進化！ Google 表單比記帳 App 還好用</a>」</p>\n<p>將我的表單(偽)APP化</p>\n<p><img src=\"https://i.imgur.com/FW0VvjY.jpg\" alt></p>\n<p>如此一來便完成了方便記錄的工具, 至於記錄下來的數據如何應用</p>\n<p>又是後話了. 不過順帶一提,我會透過整點報時的工具來提醒自已作記錄,</p>\n<p>另外我不像「最有生產力的一年」的作者特別準時睡覺,或是不喝咖啡,</p>\n<p>因為不準時睡覺跟嗜飲咖啡是我目前的習慣,我認為抱持平常的狀態去記錄才有意義.</p>\n<p>又或者當我戒掉咖啡或是開始早睡早起的習慣時,我就可以用記錄來評量這樣的行為是否有所改善.</p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"原由\"><a href=\"#原由\" class=\"headerlink\" title=\"原由\"></a>原由</h2><p>最近看了一本書,「最有生產力的一年」. 書如其名,是一本有關生產力的書,作者用了一年的時間, </p>\n<p>以自已作實驗,測試各種方法並檢驗是否有效. </p>\n<p>作者認為,時間 x 專注力 x 精力 = 生產力, 在他眾多的方法之中, </p>\n<p>「黃金時間」與「精神力評鑑」是一組相關的方法. </p>\n<p>簡單的說,一個人的精力狀況,會隨著一天的生理、心理等客觀或主觀因素起起伏伏,</p>\n<p>就像潮汐一樣,而作者認為人應該在精力最好的時段,作最有價值的事.</p>\n<p>這個時段就被稱作「黃金時間」.</p>\n<p>有些人黃金時間在早上,有些人在晚上,每個人都不相同,</p>\n<p>因此需要記錄精神狀態來判斷.</p>\n<h2 id=\"規劃\"><a href=\"#規劃\" class=\"headerlink\" title=\"規劃\"></a>規劃</h2><p>於是我設計一組簡單的方法來記錄精神狀態</p>\n<p>透過google表單用來作記錄,</p>\n<p><img src=\"https://i.imgur.com/XjfNTZR.jpg\" alt></p>\n<p>狀態我以10分制來作為評選, 再兩兩一組, 共分為五組「優、良、佳、可、劣」</p>\n<p>在評鑑時先以五分法判斷精力狀況, 再以感覺是好一點或差一點來選取分數. </p>\n<h3 id=\"行動化\"><a href=\"#行動化\" class=\"headerlink\" title=\"行動化\"></a>行動化</h3><p>以我個人的習慣, 手機其實是不離身的, 如果每次記錄都要在個人電腦上作業, 其實是很不方便的.</p>\n<p>所以我參考了電腦玩物的「<a href=\"http://www.playpcesor.com/2015/09/excel-google-sheet-form-account-book.html\" target=\"_blank\" rel=\"noopener\">Excel 記帳雲端進化！ Google 表單比記帳 App 還好用</a>」</p>\n<p>將我的表單(偽)APP化</p>\n<p><img src=\"https://i.imgur.com/FW0VvjY.jpg\" alt></p>\n<p>如此一來便完成了方便記錄的工具, 至於記錄下來的數據如何應用</p>\n<p>又是後話了. 不過順帶一提,我會透過整點報時的工具來提醒自已作記錄,</p>\n<p>另外我不像「最有生產力的一年」的作者特別準時睡覺,或是不喝咖啡,</p>\n<p>因為不準時睡覺跟嗜飲咖啡是我目前的習慣,我認為抱持平常的狀態去記錄才有意義.</p>\n<p>又或者當我戒掉咖啡或是開始早睡早起的習慣時,我就可以用記錄來評量這樣的行為是否有所改善.</p>\n<p>(fin)</p>\n"},{"title":"Hello World","date":"2016-08-13T03:32:15.000Z","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\nhexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\nhexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\nhexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\nhexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n\n(fin)\n","source":"_posts/2016/hello-world.md","raw":"---\ntitle: Hello World\ndate: 2016/08/13 11:32:15 \n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\nhexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\nhexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\nhexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\nhexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n\n(fin)\n","slug":"2016/hello-world","published":1,"updated":"2019-07-09T12:09:59.599Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wjq000tb0vxjecd7jsh","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n<p>(fin)</p>\n"},{"title":"怎麼建立一個網站？(三) - 簡單讓網站升級使用HTTP/2","date":"2016-09-03T17:12:15.000Z","_content":"## 應該知道的事\n- HTTP/1.1是目前被應用得最廣泛的通訊協定，也可以說是最成功的一個\n  - HTTP/1.1 基於TCP，需要三方交握。\n  - HTTP/1.1本身存在得需多問題，安全性、效率等…。\n- HTTP/2 可以有效改善HTTP/1.1的缺點，而且可以向下相容\n  - 主流的瀏覽器都開始支援了。  \n  - 只要設定好Web Server，Client 端看使用的[瀏覽器支不支援](http://caniuse.com/#feat=http2)。\n- 一流公司制定標準，二流作品牌，三流賣技術，四流作產品\n  - HTTP/2 是源自Google的SPDY。\n  - Google下一代 QUIC推動中。\n- HTTP/2 並不強制加密(HTTPS)\n  - 在主流瀏覽器為了向下相容，保留了80 port的HTTP/1.1通訊協定，用443 port 實作HTTP/2。\n  - 所以還是要走HTTPS，所以需要安全性憑証。\n  - 安全性憑証要錢(現在也有免費的)。\n  - [cloudflare](https://www.cloudflare.com/)提供免費的安全性憑証。\n\n## 前置作業\n1. 你要有[cloudflare](https://www.cloudflare.com/)帳號。\n2. 看過我之網站的設定，簡單說就是一個github page 與 透過OpenShift 這個 PaaS服務建立的網站。\n    - [怎麼建立一個網站？(一)](https://blog.marsen.me/2016/08/21/setting_DNS_with_google/)\n    - [怎麼建立一個網站？(二)](https://blog.marsen.me/2016/08/28/how_to_use_github_page/)\n\n## 配置\n1. [cloudflare](https://www.cloudflare.com/) 設定DNS，在指定的domain下，設定為「DNS and HTTP Proxy(CDN)」。\n![設定為「DNS and HTTP Proxy(CDN)」](/images/090516_021242_AM.jpg)\n2. 設定Page-Rules，這個是為了開啟SSL\n    1. 設定`SSL`為`Flexible`,輸入`*.username.com/*`。  \n這個時候你就可以瀏覽`https://blog.username.com/`,但同時也可以瀏覽`http://blog.username.com/` 。  \n我希望HTTP能自動跳轉HTTPS，這部份如果是Node建立的網站，我可以用程式作轉導，  \n但是如果是github page建立網站，就要再仰賴 [cloudflare](https://www.cloudflare.com/) 了。\n3. 設定Page-Rules，這個是為了開啟SSL\n    1. 設定`ALWAYS USE HTTPS`,輸入`http://*.username.com/*`。  \n![設定為「DNS and HTTP Proxy(CDN)」](/images/090516_023252_AM.jpg)\n\n設定完大致如下，順利的話幾分鐘就生效了。  \n![](/images/090516_023554_AM.jpg)\n\n這時候瀏覽`http://blog.username.com/`就會轉導到`https://blog.username.com/`了 。\n\n## 檢驗\n使用support HTTP/2的瀏覽器，瀏覽網頁，觀察其protocol 。\n![](/images/090516_024550_AM.jpg)\n\n(fin)\n\n## 參考\n- [了解 HTTP/2 的特色與 HTTP/1.1 的差異](https://simular.co/knowledge/site-build/68-about-http2-and-http11.html)\n- [你的網站升級到 HTTP/2 了嗎？](https://blog.alphacamp.co/2016/07/12/http2/)\n- [為什麼我們需要HTTP/2？](http://www.ithome.com.tw/voice/94371)\n- [HTTP/2登場，邁向新的紀元](http://www.ithome.com.tw/voice/94520)\n- [Google：將推動QUIC成為網路標準](http://www.ithome.com.tw/news/95353)\n","source":"_posts/2016/http2 by cloudflare.md","raw":"---\ntitle: 怎麼建立一個網站？(三) - 簡單讓網站升級使用HTTP/2\ndate: 2016/09/04 01:12:15 \ntag:\n  - HTTP\n  - TCP/IP\n---\n## 應該知道的事\n- HTTP/1.1是目前被應用得最廣泛的通訊協定，也可以說是最成功的一個\n  - HTTP/1.1 基於TCP，需要三方交握。\n  - HTTP/1.1本身存在得需多問題，安全性、效率等…。\n- HTTP/2 可以有效改善HTTP/1.1的缺點，而且可以向下相容\n  - 主流的瀏覽器都開始支援了。  \n  - 只要設定好Web Server，Client 端看使用的[瀏覽器支不支援](http://caniuse.com/#feat=http2)。\n- 一流公司制定標準，二流作品牌，三流賣技術，四流作產品\n  - HTTP/2 是源自Google的SPDY。\n  - Google下一代 QUIC推動中。\n- HTTP/2 並不強制加密(HTTPS)\n  - 在主流瀏覽器為了向下相容，保留了80 port的HTTP/1.1通訊協定，用443 port 實作HTTP/2。\n  - 所以還是要走HTTPS，所以需要安全性憑証。\n  - 安全性憑証要錢(現在也有免費的)。\n  - [cloudflare](https://www.cloudflare.com/)提供免費的安全性憑証。\n\n## 前置作業\n1. 你要有[cloudflare](https://www.cloudflare.com/)帳號。\n2. 看過我之網站的設定，簡單說就是一個github page 與 透過OpenShift 這個 PaaS服務建立的網站。\n    - [怎麼建立一個網站？(一)](https://blog.marsen.me/2016/08/21/setting_DNS_with_google/)\n    - [怎麼建立一個網站？(二)](https://blog.marsen.me/2016/08/28/how_to_use_github_page/)\n\n## 配置\n1. [cloudflare](https://www.cloudflare.com/) 設定DNS，在指定的domain下，設定為「DNS and HTTP Proxy(CDN)」。\n![設定為「DNS and HTTP Proxy(CDN)」](/images/090516_021242_AM.jpg)\n2. 設定Page-Rules，這個是為了開啟SSL\n    1. 設定`SSL`為`Flexible`,輸入`*.username.com/*`。  \n這個時候你就可以瀏覽`https://blog.username.com/`,但同時也可以瀏覽`http://blog.username.com/` 。  \n我希望HTTP能自動跳轉HTTPS，這部份如果是Node建立的網站，我可以用程式作轉導，  \n但是如果是github page建立網站，就要再仰賴 [cloudflare](https://www.cloudflare.com/) 了。\n3. 設定Page-Rules，這個是為了開啟SSL\n    1. 設定`ALWAYS USE HTTPS`,輸入`http://*.username.com/*`。  \n![設定為「DNS and HTTP Proxy(CDN)」](/images/090516_023252_AM.jpg)\n\n設定完大致如下，順利的話幾分鐘就生效了。  \n![](/images/090516_023554_AM.jpg)\n\n這時候瀏覽`http://blog.username.com/`就會轉導到`https://blog.username.com/`了 。\n\n## 檢驗\n使用support HTTP/2的瀏覽器，瀏覽網頁，觀察其protocol 。\n![](/images/090516_024550_AM.jpg)\n\n(fin)\n\n## 參考\n- [了解 HTTP/2 的特色與 HTTP/1.1 的差異](https://simular.co/knowledge/site-build/68-about-http2-and-http11.html)\n- [你的網站升級到 HTTP/2 了嗎？](https://blog.alphacamp.co/2016/07/12/http2/)\n- [為什麼我們需要HTTP/2？](http://www.ithome.com.tw/voice/94371)\n- [HTTP/2登場，邁向新的紀元](http://www.ithome.com.tw/voice/94520)\n- [Google：將推動QUIC成為網路標準](http://www.ithome.com.tw/news/95353)\n","slug":"2016/http2 by cloudflare","published":1,"updated":"2019-06-10T14:43:28.874Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wjq000ub0vxewdjrr55","content":"<h2 id=\"應該知道的事\"><a href=\"#應該知道的事\" class=\"headerlink\" title=\"應該知道的事\"></a>應該知道的事</h2><ul>\n<li>HTTP/1.1是目前被應用得最廣泛的通訊協定，也可以說是最成功的一個<ul>\n<li>HTTP/1.1 基於TCP，需要三方交握。</li>\n<li>HTTP/1.1本身存在得需多問題，安全性、效率等…。</li>\n</ul>\n</li>\n<li>HTTP/2 可以有效改善HTTP/1.1的缺點，而且可以向下相容<ul>\n<li>主流的瀏覽器都開始支援了。  </li>\n<li>只要設定好Web Server，Client 端看使用的<a href=\"http://caniuse.com/#feat=http2\" target=\"_blank\" rel=\"noopener\">瀏覽器支不支援</a>。</li>\n</ul>\n</li>\n<li>一流公司制定標準，二流作品牌，三流賣技術，四流作產品<ul>\n<li>HTTP/2 是源自Google的SPDY。</li>\n<li>Google下一代 QUIC推動中。</li>\n</ul>\n</li>\n<li>HTTP/2 並不強制加密(HTTPS)<ul>\n<li>在主流瀏覽器為了向下相容，保留了80 port的HTTP/1.1通訊協定，用443 port 實作HTTP/2。</li>\n<li>所以還是要走HTTPS，所以需要安全性憑証。</li>\n<li>安全性憑証要錢(現在也有免費的)。</li>\n<li><a href=\"https://www.cloudflare.com/\" target=\"_blank\" rel=\"noopener\">cloudflare</a>提供免費的安全性憑証。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"前置作業\"><a href=\"#前置作業\" class=\"headerlink\" title=\"前置作業\"></a>前置作業</h2><ol>\n<li>你要有<a href=\"https://www.cloudflare.com/\" target=\"_blank\" rel=\"noopener\">cloudflare</a>帳號。</li>\n<li>看過我之網站的設定，簡單說就是一個github page 與 透過OpenShift 這個 PaaS服務建立的網站。<ul>\n<li><a href=\"https://blog.marsen.me/2016/08/21/setting_DNS_with_google/\">怎麼建立一個網站？(一)</a></li>\n<li><a href=\"https://blog.marsen.me/2016/08/28/how_to_use_github_page/\">怎麼建立一個網站？(二)</a></li>\n</ul>\n</li>\n</ol>\n<h2 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h2><ol>\n<li><a href=\"https://www.cloudflare.com/\" target=\"_blank\" rel=\"noopener\">cloudflare</a> 設定DNS，在指定的domain下，設定為「DNS and HTTP Proxy(CDN)」。<br><img src=\"/images/090516_021242_AM.jpg\" alt=\"設定為「DNS and HTTP Proxy(CDN)」\"></li>\n<li>設定Page-Rules，這個是為了開啟SSL<ol>\n<li>設定<code>SSL</code>為<code>Flexible</code>,輸入<code>*.username.com/*</code>。  \n這個時候你就可以瀏覽<code>https://blog.username.com/</code>,但同時也可以瀏覽<code>http://blog.username.com/</code> 。<br>我希望HTTP能自動跳轉HTTPS，這部份如果是Node建立的網站，我可以用程式作轉導，<br>但是如果是github page建立網站，就要再仰賴 <a href=\"https://www.cloudflare.com/\" target=\"_blank\" rel=\"noopener\">cloudflare</a> 了。</li>\n</ol>\n</li>\n<li>設定Page-Rules，這個是為了開啟SSL<ol>\n<li>設定<code>ALWAYS USE HTTPS</code>,輸入<code>http://*.username.com/*</code>。  \n<img src=\"/images/090516_023252_AM.jpg\" alt=\"設定為「DNS and HTTP Proxy(CDN)」\"></li>\n</ol>\n</li>\n</ol>\n<p>設定完大致如下，順利的話幾分鐘就生效了。<br><img src=\"/images/090516_023554_AM.jpg\" alt></p>\n<p>這時候瀏覽<code>http://blog.username.com/</code>就會轉導到<code>https://blog.username.com/</code>了 。</p>\n<h2 id=\"檢驗\"><a href=\"#檢驗\" class=\"headerlink\" title=\"檢驗\"></a>檢驗</h2><p>使用support HTTP/2的瀏覽器，瀏覽網頁，觀察其protocol 。<br><img src=\"/images/090516_024550_AM.jpg\" alt></p>\n<p>(fin)</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://simular.co/knowledge/site-build/68-about-http2-and-http11.html\" target=\"_blank\" rel=\"noopener\">了解 HTTP/2 的特色與 HTTP/1.1 的差異</a></li>\n<li><a href=\"https://blog.alphacamp.co/2016/07/12/http2/\" target=\"_blank\" rel=\"noopener\">你的網站升級到 HTTP/2 了嗎？</a></li>\n<li><a href=\"http://www.ithome.com.tw/voice/94371\" target=\"_blank\" rel=\"noopener\">為什麼我們需要HTTP/2？</a></li>\n<li><a href=\"http://www.ithome.com.tw/voice/94520\" target=\"_blank\" rel=\"noopener\">HTTP/2登場，邁向新的紀元</a></li>\n<li><a href=\"http://www.ithome.com.tw/news/95353\" target=\"_blank\" rel=\"noopener\">Google：將推動QUIC成為網路標準</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"應該知道的事\"><a href=\"#應該知道的事\" class=\"headerlink\" title=\"應該知道的事\"></a>應該知道的事</h2><ul>\n<li>HTTP/1.1是目前被應用得最廣泛的通訊協定，也可以說是最成功的一個<ul>\n<li>HTTP/1.1 基於TCP，需要三方交握。</li>\n<li>HTTP/1.1本身存在得需多問題，安全性、效率等…。</li>\n</ul>\n</li>\n<li>HTTP/2 可以有效改善HTTP/1.1的缺點，而且可以向下相容<ul>\n<li>主流的瀏覽器都開始支援了。  </li>\n<li>只要設定好Web Server，Client 端看使用的<a href=\"http://caniuse.com/#feat=http2\" target=\"_blank\" rel=\"noopener\">瀏覽器支不支援</a>。</li>\n</ul>\n</li>\n<li>一流公司制定標準，二流作品牌，三流賣技術，四流作產品<ul>\n<li>HTTP/2 是源自Google的SPDY。</li>\n<li>Google下一代 QUIC推動中。</li>\n</ul>\n</li>\n<li>HTTP/2 並不強制加密(HTTPS)<ul>\n<li>在主流瀏覽器為了向下相容，保留了80 port的HTTP/1.1通訊協定，用443 port 實作HTTP/2。</li>\n<li>所以還是要走HTTPS，所以需要安全性憑証。</li>\n<li>安全性憑証要錢(現在也有免費的)。</li>\n<li><a href=\"https://www.cloudflare.com/\" target=\"_blank\" rel=\"noopener\">cloudflare</a>提供免費的安全性憑証。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"前置作業\"><a href=\"#前置作業\" class=\"headerlink\" title=\"前置作業\"></a>前置作業</h2><ol>\n<li>你要有<a href=\"https://www.cloudflare.com/\" target=\"_blank\" rel=\"noopener\">cloudflare</a>帳號。</li>\n<li>看過我之網站的設定，簡單說就是一個github page 與 透過OpenShift 這個 PaaS服務建立的網站。<ul>\n<li><a href=\"https://blog.marsen.me/2016/08/21/setting_DNS_with_google/\">怎麼建立一個網站？(一)</a></li>\n<li><a href=\"https://blog.marsen.me/2016/08/28/how_to_use_github_page/\">怎麼建立一個網站？(二)</a></li>\n</ul>\n</li>\n</ol>\n<h2 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h2><ol>\n<li><a href=\"https://www.cloudflare.com/\" target=\"_blank\" rel=\"noopener\">cloudflare</a> 設定DNS，在指定的domain下，設定為「DNS and HTTP Proxy(CDN)」。<br><img src=\"/images/090516_021242_AM.jpg\" alt=\"設定為「DNS and HTTP Proxy(CDN)」\"></li>\n<li>設定Page-Rules，這個是為了開啟SSL<ol>\n<li>設定<code>SSL</code>為<code>Flexible</code>,輸入<code>*.username.com/*</code>。  \n這個時候你就可以瀏覽<code>https://blog.username.com/</code>,但同時也可以瀏覽<code>http://blog.username.com/</code> 。<br>我希望HTTP能自動跳轉HTTPS，這部份如果是Node建立的網站，我可以用程式作轉導，<br>但是如果是github page建立網站，就要再仰賴 <a href=\"https://www.cloudflare.com/\" target=\"_blank\" rel=\"noopener\">cloudflare</a> 了。</li>\n</ol>\n</li>\n<li>設定Page-Rules，這個是為了開啟SSL<ol>\n<li>設定<code>ALWAYS USE HTTPS</code>,輸入<code>http://*.username.com/*</code>。  \n<img src=\"/images/090516_023252_AM.jpg\" alt=\"設定為「DNS and HTTP Proxy(CDN)」\"></li>\n</ol>\n</li>\n</ol>\n<p>設定完大致如下，順利的話幾分鐘就生效了。<br><img src=\"/images/090516_023554_AM.jpg\" alt></p>\n<p>這時候瀏覽<code>http://blog.username.com/</code>就會轉導到<code>https://blog.username.com/</code>了 。</p>\n<h2 id=\"檢驗\"><a href=\"#檢驗\" class=\"headerlink\" title=\"檢驗\"></a>檢驗</h2><p>使用support HTTP/2的瀏覽器，瀏覽網頁，觀察其protocol 。<br><img src=\"/images/090516_024550_AM.jpg\" alt></p>\n<p>(fin)</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://simular.co/knowledge/site-build/68-about-http2-and-http11.html\" target=\"_blank\" rel=\"noopener\">了解 HTTP/2 的特色與 HTTP/1.1 的差異</a></li>\n<li><a href=\"https://blog.alphacamp.co/2016/07/12/http2/\" target=\"_blank\" rel=\"noopener\">你的網站升級到 HTTP/2 了嗎？</a></li>\n<li><a href=\"http://www.ithome.com.tw/voice/94371\" target=\"_blank\" rel=\"noopener\">為什麼我們需要HTTP/2？</a></li>\n<li><a href=\"http://www.ithome.com.tw/voice/94520\" target=\"_blank\" rel=\"noopener\">HTTP/2登場，邁向新的紀元</a></li>\n<li><a href=\"http://www.ithome.com.tw/news/95353\" target=\"_blank\" rel=\"noopener\">Google：將推動QUIC成為網路標準</a></li>\n</ul>\n"},{"title":"這個網站的待辦事項","date":"2016-08-19T18:09:07.000Z","_content":"1. ~~github page & hexo~~\n2. ~~nodejs express & Openshift~~\n3. DNS 原理簡介\n4. gulp學習筆記\n","source":"_posts/2016/sites_todo_list.md","raw":"---\ntitle: 這個網站的待辦事項\ndate: 2016/08/20 02:09:07\n---\n1. ~~github page & hexo~~\n2. ~~nodejs express & Openshift~~\n3. DNS 原理簡介\n4. gulp學習筆記\n","slug":"2016/sites_todo_list","published":1,"updated":"2019-06-10T14:43:28.874Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wjr000vb0vxfjgdbfnf","content":"<ol>\n<li><del>github page &amp; hexo</del></li>\n<li><del>nodejs express &amp; Openshift</del></li>\n<li>DNS 原理簡介</li>\n<li>gulp學習筆記</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<ol>\n<li><del>github page &amp; hexo</del></li>\n<li><del>nodejs express &amp; Openshift</del></li>\n<li>DNS 原理簡介</li>\n<li>gulp學習筆記</li>\n</ol>\n"},{"title":"怎麼建立一個網站？(二) - 簡單用github page 建立靜態網站","date":"2016-08-27T20:56:27.000Z","_content":"## 前置作業\n- 你要有一個github帳號\n\n## 建立github page\n如果不排斥看原文，可以直接[參考](https://pages.github.com/)  \n1. 建立一個repository,並且命名為`username.github.io`,這裡的username請使用你的Github帳號的username.  \n2. clone `username.github.io` 到你的本機上.\n        > git clone https://github.com/username/username.github.io\n3. 建立一個靜態網頁 `index.html` , 隨便打點什麼。  \n        <!DOCTYPE html PUBLIC \"-//IETF//DTD HTML 2.0//EN\">\n        <HTML>\n           <HEAD>\n              <TITLE>\n                 Hello world\n              </TITLE>\n           </HEAD>\n        <BODY>\n           <H1>Hello world</H1>\n           <P>This is my github page</P>\n        </BODY>\n        </HTML>\n4. commit之後,push 到github上\n        > git add --all\n        > git commit -m \"Initial commit\"\n        > git push -u origin master\n5. 瀏覽  http://username.github.io 即完成\n\n## 使用自訂的domain      \n\n1. 首先準備好一個domain ex: username.xyz\n2. 需要在根目錄底下，放入一個 CNAME file\n檔案的內容只需要你的domain即可  \nex:\n        blog.username.xyz  \n        username.xyz\n3. 在Name Servers (例如[cloudflare](https://www.cloudflare.com/))上設定`CNAME`到github page,   \n將`blog.username.xyz` 綁定到 `username.github.io`\nex:\n\n| TYPE | NAME | VALUE | TTL |\n|---|---|---|---|---|\n| CNAME  | * | username.xyz | auto |\n| CNAME  | blog | username.github.io | auto |\n更多請參考「[購買網域到設定DNS](http://blog.marsen.me/2016/08/21/setting_DNS_with_google/)」.\n\n## 透過Hexo部署\nHexo基本概念可以參考[官方中文文件](https://hexo.io/zh-tw/docs/index.html) .\n1. 重點在於`_config.yml`的設定\n        deploy:\n          type: git\n          repository: https://github.com/username/username.github.io\n          branche: master\n2. 執行`hexo d`進行部署，這個動作會將hexo 建立出來的靜態網站(html+css+javascript+圖片等…)部署到github page上。\n\n\n(fin)\n","source":"_posts/2016/how_to_use_github_page.md","raw":"---\ntitle: 怎麼建立一個網站？(二) - 簡單用github page 建立靜態網站\ndate: 2016/08/28 4:56:27 \ntag:\n- github\n- 記錄\n---\n## 前置作業\n- 你要有一個github帳號\n\n## 建立github page\n如果不排斥看原文，可以直接[參考](https://pages.github.com/)  \n1. 建立一個repository,並且命名為`username.github.io`,這裡的username請使用你的Github帳號的username.  \n2. clone `username.github.io` 到你的本機上.\n        > git clone https://github.com/username/username.github.io\n3. 建立一個靜態網頁 `index.html` , 隨便打點什麼。  \n        <!DOCTYPE html PUBLIC \"-//IETF//DTD HTML 2.0//EN\">\n        <HTML>\n           <HEAD>\n              <TITLE>\n                 Hello world\n              </TITLE>\n           </HEAD>\n        <BODY>\n           <H1>Hello world</H1>\n           <P>This is my github page</P>\n        </BODY>\n        </HTML>\n4. commit之後,push 到github上\n        > git add --all\n        > git commit -m \"Initial commit\"\n        > git push -u origin master\n5. 瀏覽  http://username.github.io 即完成\n\n## 使用自訂的domain      \n\n1. 首先準備好一個domain ex: username.xyz\n2. 需要在根目錄底下，放入一個 CNAME file\n檔案的內容只需要你的domain即可  \nex:\n        blog.username.xyz  \n        username.xyz\n3. 在Name Servers (例如[cloudflare](https://www.cloudflare.com/))上設定`CNAME`到github page,   \n將`blog.username.xyz` 綁定到 `username.github.io`\nex:\n\n| TYPE | NAME | VALUE | TTL |\n|---|---|---|---|---|\n| CNAME  | * | username.xyz | auto |\n| CNAME  | blog | username.github.io | auto |\n更多請參考「[購買網域到設定DNS](http://blog.marsen.me/2016/08/21/setting_DNS_with_google/)」.\n\n## 透過Hexo部署\nHexo基本概念可以參考[官方中文文件](https://hexo.io/zh-tw/docs/index.html) .\n1. 重點在於`_config.yml`的設定\n        deploy:\n          type: git\n          repository: https://github.com/username/username.github.io\n          branche: master\n2. 執行`hexo d`進行部署，這個動作會將hexo 建立出來的靜態網站(html+css+javascript+圖片等…)部署到github page上。\n\n\n(fin)\n","slug":"2016/how_to_use_github_page","published":1,"updated":"2019-06-10T14:43:28.871Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wjr000wb0vxzzwxjtjp","content":"<h2 id=\"前置作業\"><a href=\"#前置作業\" class=\"headerlink\" title=\"前置作業\"></a>前置作業</h2><ul>\n<li>你要有一個github帳號</li>\n</ul>\n<h2 id=\"建立github-page\"><a href=\"#建立github-page\" class=\"headerlink\" title=\"建立github page\"></a>建立github page</h2><p>如果不排斥看原文，可以直接<a href=\"https://pages.github.com/\" target=\"_blank\" rel=\"noopener\">參考</a>  </p>\n<ol>\n<li>建立一個repository,並且命名為<code>username.github.io</code>,這裡的username請使用你的Github帳號的username.  </li>\n<li>clone <code>username.github.io</code> 到你的本機上.<pre><code>&gt; git clone https://github.com/username/username.github.io</code></pre></li>\n<li>建立一個靜態網頁 <code>index.html</code> , 隨便打點什麼。  <pre><code>&lt;!DOCTYPE html PUBLIC &quot;-//IETF//DTD HTML 2.0//EN&quot;&gt;\n&lt;HTML&gt;\n   &lt;HEAD&gt;\n      &lt;TITLE&gt;\n         Hello world\n      &lt;/TITLE&gt;\n   &lt;/HEAD&gt;\n&lt;BODY&gt;\n   &lt;H1&gt;Hello world&lt;/H1&gt;\n   &lt;P&gt;This is my github page&lt;/P&gt;\n&lt;/BODY&gt;\n&lt;/HTML&gt;</code></pre></li>\n<li>commit之後,push 到github上<pre><code>&gt; git add --all\n&gt; git commit -m &quot;Initial commit&quot;\n&gt; git push -u origin master</code></pre></li>\n<li>瀏覽  <a href=\"http://username.github.io\" target=\"_blank\" rel=\"noopener\">http://username.github.io</a> 即完成</li>\n</ol>\n<h2 id=\"使用自訂的domain\"><a href=\"#使用自訂的domain\" class=\"headerlink\" title=\"使用自訂的domain\"></a>使用自訂的domain</h2><ol>\n<li>首先準備好一個domain ex: username.xyz</li>\n<li>需要在根目錄底下，放入一個 CNAME file<br>檔案的內容只需要你的domain即可<br>ex:<pre><code>blog.username.xyz  \nusername.xyz</code></pre></li>\n<li>在Name Servers (例如<a href=\"https://www.cloudflare.com/\" target=\"_blank\" rel=\"noopener\">cloudflare</a>)上設定<code>CNAME</code>到github page,<br>將<code>blog.username.xyz</code> 綁定到 <code>username.github.io</code><br>ex:</li>\n</ol>\n<p>| TYPE | NAME | VALUE | TTL |<br>|—|—|—|—|—|<br>| CNAME  | * | username.xyz | auto |<br>| CNAME  | blog | username.github.io | auto |<br>更多請參考「<a href=\"http://blog.marsen.me/2016/08/21/setting_DNS_with_google/\">購買網域到設定DNS</a>」.</p>\n<h2 id=\"透過Hexo部署\"><a href=\"#透過Hexo部署\" class=\"headerlink\" title=\"透過Hexo部署\"></a>透過Hexo部署</h2><p>Hexo基本概念可以參考<a href=\"https://hexo.io/zh-tw/docs/index.html\" target=\"_blank\" rel=\"noopener\">官方中文文件</a> .</p>\n<ol>\n<li>重點在於<code>_config.yml</code>的設定<pre><code>deploy:\n  type: git\n  repository: https://github.com/username/username.github.io\n  branche: master</code></pre></li>\n<li>執行<code>hexo d</code>進行部署，這個動作會將hexo 建立出來的靜態網站(html+css+javascript+圖片等…)部署到github page上。</li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前置作業\"><a href=\"#前置作業\" class=\"headerlink\" title=\"前置作業\"></a>前置作業</h2><ul>\n<li>你要有一個github帳號</li>\n</ul>\n<h2 id=\"建立github-page\"><a href=\"#建立github-page\" class=\"headerlink\" title=\"建立github page\"></a>建立github page</h2><p>如果不排斥看原文，可以直接<a href=\"https://pages.github.com/\" target=\"_blank\" rel=\"noopener\">參考</a>  </p>\n<ol>\n<li>建立一個repository,並且命名為<code>username.github.io</code>,這裡的username請使用你的Github帳號的username.  </li>\n<li>clone <code>username.github.io</code> 到你的本機上.<pre><code>&gt; git clone https://github.com/username/username.github.io</code></pre></li>\n<li>建立一個靜態網頁 <code>index.html</code> , 隨便打點什麼。  <pre><code>&lt;!DOCTYPE html PUBLIC &quot;-//IETF//DTD HTML 2.0//EN&quot;&gt;\n&lt;HTML&gt;\n   &lt;HEAD&gt;\n      &lt;TITLE&gt;\n         Hello world\n      &lt;/TITLE&gt;\n   &lt;/HEAD&gt;\n&lt;BODY&gt;\n   &lt;H1&gt;Hello world&lt;/H1&gt;\n   &lt;P&gt;This is my github page&lt;/P&gt;\n&lt;/BODY&gt;\n&lt;/HTML&gt;</code></pre></li>\n<li>commit之後,push 到github上<pre><code>&gt; git add --all\n&gt; git commit -m &quot;Initial commit&quot;\n&gt; git push -u origin master</code></pre></li>\n<li>瀏覽  <a href=\"http://username.github.io\" target=\"_blank\" rel=\"noopener\">http://username.github.io</a> 即完成</li>\n</ol>\n<h2 id=\"使用自訂的domain\"><a href=\"#使用自訂的domain\" class=\"headerlink\" title=\"使用自訂的domain\"></a>使用自訂的domain</h2><ol>\n<li>首先準備好一個domain ex: username.xyz</li>\n<li>需要在根目錄底下，放入一個 CNAME file<br>檔案的內容只需要你的domain即可<br>ex:<pre><code>blog.username.xyz  \nusername.xyz</code></pre></li>\n<li>在Name Servers (例如<a href=\"https://www.cloudflare.com/\" target=\"_blank\" rel=\"noopener\">cloudflare</a>)上設定<code>CNAME</code>到github page,<br>將<code>blog.username.xyz</code> 綁定到 <code>username.github.io</code><br>ex:</li>\n</ol>\n<p>| TYPE | NAME | VALUE | TTL |<br>|—|—|—|—|—|<br>| CNAME  | * | username.xyz | auto |<br>| CNAME  | blog | username.github.io | auto |<br>更多請參考「<a href=\"http://blog.marsen.me/2016/08/21/setting_DNS_with_google/\">購買網域到設定DNS</a>」.</p>\n<h2 id=\"透過Hexo部署\"><a href=\"#透過Hexo部署\" class=\"headerlink\" title=\"透過Hexo部署\"></a>透過Hexo部署</h2><p>Hexo基本概念可以參考<a href=\"https://hexo.io/zh-tw/docs/index.html\" target=\"_blank\" rel=\"noopener\">官方中文文件</a> .</p>\n<ol>\n<li>重點在於<code>_config.yml</code>的設定<pre><code>deploy:\n  type: git\n  repository: https://github.com/username/username.github.io\n  branche: master</code></pre></li>\n<li>執行<code>hexo d</code>進行部署，這個動作會將hexo 建立出來的靜態網站(html+css+javascript+圖片等…)部署到github page上。</li>\n</ol>\n<p>(fin)</p>\n"},{"title":"[KATA]用typescript作一個簡易的todolist(一) - 前置作業","date":"2016-10-08T02:34:27.000Z","_content":"## 目標\n1. 使用 typescript 開發\n2. 顯示/新增/刪除 todolist \n\n## 功能分析\n1. 只是練習,故不開發server side的程式\n2. 暫時存在 cookie 上\n3. 用 bootstrap 作簡單的樣式\n\n## 實作記錄\n\n### UI : 使用 Bootstrap _沒有必要重新打造輪子,能用的就拿來用_\n- 找到一個TODOLIST的[樣版](http://bootsnipp.com/index.php/snippets/featured/todo-example),內含 HTML 、 CSS 與 JS ,功能完整.\n- 取用[樣版](http://bootsnipp.com/index.php/snippets/featured/todo-example)的HTML .     \n- 引用 bootstrap 3.3.5 CDN上的 css .\n- 建立一個 todo.css 直接引用[樣版](http://bootsnipp.com/index.php/snippets/featured/todo-example)的 css 並加入頁面參考.\n\n\n### 開發環境 \n1. 安裝 typescript  \n`npm install typescript --save`\n2. 安裝 gulp  \n`npm install gulp`\n`npm install --global gulp` \n3. 安裝 gulp-typescript  \n`npm install gulp-typescript`\n4. 建立gulpfile.js \n\n```javascript\nvar gulp = require('gulp');\nvar tsc = require('gulp-typescript');\ngulp.task('default', function() {     \n        return gulp.src('public/javascripts/**/*.ts')\n        .pipe(tsc())\n        .pipe(gulp.dest('public/javascripts/'));\n});\n```\n\n### Typescript\n\n1. 關於 typescript 的定義檔, 以前有 tsd 與 typings兩種管理工具,現在可以更簡便的合併到 npm 作管理 .\n\n2. 透過 [TypeSearch](http://microsoft.github.io/TypeSearch/) 可以找到 [bootstrap](https://www.npmjs.com/package/@types/bootstrap) 的 typescript 定義檔.\n\n3. 執行 `npm install --save @types/bootstrap` 安裝 bootstrap (目前的版本是 Bootstrap 3.3.5) , 因為相依於 jquery 所以也會一併安裝\n\n4. 安裝 jquery-ui 的定義檔  \n`npm install --save @types/jqueryui`\n\n5. 新增檔案 `todo.ts` ,將 [樣版](http://bootsnipp.com/index.php/snippets/featured/todo-example) 的 javascript 複製貼上 .   \n   _*註:因為 typescript 是 javascript 的 superset , 完全可以相容原生 javascript, 如果有任何錯誤, TypeScript將會提示你_\n\n6. todo.ts 引用 jquery 、jquery-ui 與 bootstrap 的 typescript 定義檔.  \n        \n        /// <reference path=\"../../../node_modules/@types/jquery/index.d.ts\"/>  \n        /// <reference path=\"../../../node_modules/@types/bootstrap/index.d.ts\"/>  \n        /// <reference path=\"../../../node_modules/@types/jqueryui/index.d.ts\"/>\n\n7. 頁面載入對應的js檔,記得放置順序 jquery 要在最前面,並將放在`<\\body>`之後  \n        \n        <script src=\"http://code.jquery.com/jquery-2.2.4.min.js\"   integrity=\"sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=\"   crossorigin=\"anonymous\"></script>\n        <script src=\"//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js\"></script>\n        <script src=\"http://code.jquery.com/ui/1.12.1/jquery-ui.min.js\"   integrity=\"sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=\"   crossorigin=\"anonymous\"></script>\n\n8. 執行 `gulp` ,會產生todo.js\n\n7. 頁面載入js檔,記得要放在相依的js( jquery 、 bootstap 、 jqueryui)之後.\n        \n        <script type=\"text/javascript\" src=\"/javascripts/kata/todo.js\"></script>\n\n\n#### 截至目前為止,僅僅是在作複製樣版,同時一併處理一些基本 gulp 與 typescript 相關的配置\n#### 接下來才要開始寫 typescript \n\n(待續)\n\n#### 參考\n\n1. [關於 TypeScript 2.0 之後的模組定義檔 ( Declaration Files ) ( *.d.ts )](http://blog.miniasp.com/post/2016/08/22/TypeScript-Future-Declaration-Files.aspx)\n2. [bootsnipp](http://bootsnipp.com/)\n3. [TYPESCRIPT + EXPRESS + NODE.JS](http://com-brianflove.appspot.com/2016/03/29/typescript-express-node-js/)","source":"_posts/2016/todolist_by_typescript_1.md","raw":"---\ntitle: '[KATA]用typescript作一個簡易的todolist(一) - 前置作業'\ndate: 2016/10/08 10:34:27\ntag: \n- TypeScript\n- BootStrap\n- NPM\n- JQuery\n---\n## 目標\n1. 使用 typescript 開發\n2. 顯示/新增/刪除 todolist \n\n## 功能分析\n1. 只是練習,故不開發server side的程式\n2. 暫時存在 cookie 上\n3. 用 bootstrap 作簡單的樣式\n\n## 實作記錄\n\n### UI : 使用 Bootstrap _沒有必要重新打造輪子,能用的就拿來用_\n- 找到一個TODOLIST的[樣版](http://bootsnipp.com/index.php/snippets/featured/todo-example),內含 HTML 、 CSS 與 JS ,功能完整.\n- 取用[樣版](http://bootsnipp.com/index.php/snippets/featured/todo-example)的HTML .     \n- 引用 bootstrap 3.3.5 CDN上的 css .\n- 建立一個 todo.css 直接引用[樣版](http://bootsnipp.com/index.php/snippets/featured/todo-example)的 css 並加入頁面參考.\n\n\n### 開發環境 \n1. 安裝 typescript  \n`npm install typescript --save`\n2. 安裝 gulp  \n`npm install gulp`\n`npm install --global gulp` \n3. 安裝 gulp-typescript  \n`npm install gulp-typescript`\n4. 建立gulpfile.js \n\n```javascript\nvar gulp = require('gulp');\nvar tsc = require('gulp-typescript');\ngulp.task('default', function() {     \n        return gulp.src('public/javascripts/**/*.ts')\n        .pipe(tsc())\n        .pipe(gulp.dest('public/javascripts/'));\n});\n```\n\n### Typescript\n\n1. 關於 typescript 的定義檔, 以前有 tsd 與 typings兩種管理工具,現在可以更簡便的合併到 npm 作管理 .\n\n2. 透過 [TypeSearch](http://microsoft.github.io/TypeSearch/) 可以找到 [bootstrap](https://www.npmjs.com/package/@types/bootstrap) 的 typescript 定義檔.\n\n3. 執行 `npm install --save @types/bootstrap` 安裝 bootstrap (目前的版本是 Bootstrap 3.3.5) , 因為相依於 jquery 所以也會一併安裝\n\n4. 安裝 jquery-ui 的定義檔  \n`npm install --save @types/jqueryui`\n\n5. 新增檔案 `todo.ts` ,將 [樣版](http://bootsnipp.com/index.php/snippets/featured/todo-example) 的 javascript 複製貼上 .   \n   _*註:因為 typescript 是 javascript 的 superset , 完全可以相容原生 javascript, 如果有任何錯誤, TypeScript將會提示你_\n\n6. todo.ts 引用 jquery 、jquery-ui 與 bootstrap 的 typescript 定義檔.  \n        \n        /// <reference path=\"../../../node_modules/@types/jquery/index.d.ts\"/>  \n        /// <reference path=\"../../../node_modules/@types/bootstrap/index.d.ts\"/>  \n        /// <reference path=\"../../../node_modules/@types/jqueryui/index.d.ts\"/>\n\n7. 頁面載入對應的js檔,記得放置順序 jquery 要在最前面,並將放在`<\\body>`之後  \n        \n        <script src=\"http://code.jquery.com/jquery-2.2.4.min.js\"   integrity=\"sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=\"   crossorigin=\"anonymous\"></script>\n        <script src=\"//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js\"></script>\n        <script src=\"http://code.jquery.com/ui/1.12.1/jquery-ui.min.js\"   integrity=\"sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=\"   crossorigin=\"anonymous\"></script>\n\n8. 執行 `gulp` ,會產生todo.js\n\n7. 頁面載入js檔,記得要放在相依的js( jquery 、 bootstap 、 jqueryui)之後.\n        \n        <script type=\"text/javascript\" src=\"/javascripts/kata/todo.js\"></script>\n\n\n#### 截至目前為止,僅僅是在作複製樣版,同時一併處理一些基本 gulp 與 typescript 相關的配置\n#### 接下來才要開始寫 typescript \n\n(待續)\n\n#### 參考\n\n1. [關於 TypeScript 2.0 之後的模組定義檔 ( Declaration Files ) ( *.d.ts )](http://blog.miniasp.com/post/2016/08/22/TypeScript-Future-Declaration-Files.aspx)\n2. [bootsnipp](http://bootsnipp.com/)\n3. [TYPESCRIPT + EXPRESS + NODE.JS](http://com-brianflove.appspot.com/2016/03/29/typescript-express-node-js/)","slug":"2016/todolist_by_typescript_1","published":1,"updated":"2019-06-10T14:43:28.875Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wjs000xb0vxrdmb0mzs","content":"<h2 id=\"目標\"><a href=\"#目標\" class=\"headerlink\" title=\"目標\"></a>目標</h2><ol>\n<li>使用 typescript 開發</li>\n<li>顯示/新增/刪除 todolist </li>\n</ol>\n<h2 id=\"功能分析\"><a href=\"#功能分析\" class=\"headerlink\" title=\"功能分析\"></a>功能分析</h2><ol>\n<li>只是練習,故不開發server side的程式</li>\n<li>暫時存在 cookie 上</li>\n<li>用 bootstrap 作簡單的樣式</li>\n</ol>\n<h2 id=\"實作記錄\"><a href=\"#實作記錄\" class=\"headerlink\" title=\"實作記錄\"></a>實作記錄</h2><h3 id=\"UI-使用-Bootstrap-沒有必要重新打造輪子-能用的就拿來用\"><a href=\"#UI-使用-Bootstrap-沒有必要重新打造輪子-能用的就拿來用\" class=\"headerlink\" title=\"UI : 使用 Bootstrap 沒有必要重新打造輪子,能用的就拿來用\"></a>UI : 使用 Bootstrap <em>沒有必要重新打造輪子,能用的就拿來用</em></h3><ul>\n<li>找到一個TODOLIST的<a href=\"http://bootsnipp.com/index.php/snippets/featured/todo-example\" target=\"_blank\" rel=\"noopener\">樣版</a>,內含 HTML 、 CSS 與 JS ,功能完整.</li>\n<li>取用<a href=\"http://bootsnipp.com/index.php/snippets/featured/todo-example\" target=\"_blank\" rel=\"noopener\">樣版</a>的HTML .     </li>\n<li>引用 bootstrap 3.3.5 CDN上的 css .</li>\n<li>建立一個 todo.css 直接引用<a href=\"http://bootsnipp.com/index.php/snippets/featured/todo-example\" target=\"_blank\" rel=\"noopener\">樣版</a>的 css 並加入頁面參考.</li>\n</ul>\n<h3 id=\"開發環境\"><a href=\"#開發環境\" class=\"headerlink\" title=\"開發環境\"></a>開發環境</h3><ol>\n<li>安裝 typescript<br><code>npm install typescript --save</code></li>\n<li>安裝 gulp<br><code>npm install gulp</code><br><code>npm install --global gulp</code> </li>\n<li>安裝 gulp-typescript<br><code>npm install gulp-typescript</code></li>\n<li>建立gulpfile.js </li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp'</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> tsc = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-typescript'</span>);</span><br><span class=\"line\">gulp.task(<span class=\"string\">'default'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;     </span><br><span class=\"line\">        <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">'public/javascripts/**/*.ts'</span>)</span><br><span class=\"line\">        .pipe(tsc())</span><br><span class=\"line\">        .pipe(gulp.dest(<span class=\"string\">'public/javascripts/'</span>));</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Typescript\"><a href=\"#Typescript\" class=\"headerlink\" title=\"Typescript\"></a>Typescript</h3><ol>\n<li><p>關於 typescript 的定義檔, 以前有 tsd 與 typings兩種管理工具,現在可以更簡便的合併到 npm 作管理 .</p>\n</li>\n<li><p>透過 <a href=\"http://microsoft.github.io/TypeSearch/\" target=\"_blank\" rel=\"noopener\">TypeSearch</a> 可以找到 <a href=\"https://www.npmjs.com/package/@types/bootstrap\" target=\"_blank\" rel=\"noopener\">bootstrap</a> 的 typescript 定義檔.</p>\n</li>\n<li><p>執行 <code>npm install --save @types/bootstrap</code> 安裝 bootstrap (目前的版本是 Bootstrap 3.3.5) , 因為相依於 jquery 所以也會一併安裝</p>\n</li>\n<li><p>安裝 jquery-ui 的定義檔<br><code>npm install --save @types/jqueryui</code></p>\n</li>\n<li><p>新增檔案 <code>todo.ts</code> ,將 <a href=\"http://bootsnipp.com/index.php/snippets/featured/todo-example\" target=\"_blank\" rel=\"noopener\">樣版</a> 的 javascript 複製貼上 .<br><em>*註:因為 typescript 是 javascript 的 superset , 完全可以相容原生 javascript, 如果有任何錯誤, TypeScript將會提示你</em></p>\n</li>\n<li><p>todo.ts 引用 jquery 、jquery-ui 與 bootstrap 的 typescript 定義檔.  </p>\n<pre><code>/// &lt;reference path=&quot;../../../node_modules/@types/jquery/index.d.ts&quot;/&gt;  \n/// &lt;reference path=&quot;../../../node_modules/@types/bootstrap/index.d.ts&quot;/&gt;  \n/// &lt;reference path=&quot;../../../node_modules/@types/jqueryui/index.d.ts&quot;/&gt;</code></pre></li>\n<li><p>頁面載入對應的js檔,記得放置順序 jquery 要在最前面,並將放在<code>&lt;\\body&gt;</code>之後  </p>\n<pre><code>&lt;script src=&quot;http://code.jquery.com/jquery-2.2.4.min.js&quot;   integrity=&quot;sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=&quot;   crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;http://code.jquery.com/ui/1.12.1/jquery-ui.min.js&quot;   integrity=&quot;sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=&quot;   crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;</code></pre></li>\n<li><p>執行 <code>gulp</code> ,會產生todo.js</p>\n</li>\n<li><p>頁面載入js檔,記得要放在相依的js( jquery 、 bootstap 、 jqueryui)之後.</p>\n<pre><code>&lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/kata/todo.js&quot;&gt;&lt;/script&gt;</code></pre></li>\n</ol>\n<h4 id=\"截至目前為止-僅僅是在作複製樣版-同時一併處理一些基本-gulp-與-typescript-相關的配置\"><a href=\"#截至目前為止-僅僅是在作複製樣版-同時一併處理一些基本-gulp-與-typescript-相關的配置\" class=\"headerlink\" title=\"截至目前為止,僅僅是在作複製樣版,同時一併處理一些基本 gulp 與 typescript 相關的配置\"></a>截至目前為止,僅僅是在作複製樣版,同時一併處理一些基本 gulp 與 typescript 相關的配置</h4><h4 id=\"接下來才要開始寫-typescript\"><a href=\"#接下來才要開始寫-typescript\" class=\"headerlink\" title=\"接下來才要開始寫 typescript\"></a>接下來才要開始寫 typescript</h4><p>(待續)</p>\n<h4 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h4><ol>\n<li><a href=\"http://blog.miniasp.com/post/2016/08/22/TypeScript-Future-Declaration-Files.aspx\" target=\"_blank\" rel=\"noopener\">關於 TypeScript 2.0 之後的模組定義檔 ( Declaration Files ) ( *.d.ts )</a></li>\n<li><a href=\"http://bootsnipp.com/\" target=\"_blank\" rel=\"noopener\">bootsnipp</a></li>\n<li><a href=\"http://com-brianflove.appspot.com/2016/03/29/typescript-express-node-js/\" target=\"_blank\" rel=\"noopener\">TYPESCRIPT + EXPRESS + NODE.JS</a></li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"目標\"><a href=\"#目標\" class=\"headerlink\" title=\"目標\"></a>目標</h2><ol>\n<li>使用 typescript 開發</li>\n<li>顯示/新增/刪除 todolist </li>\n</ol>\n<h2 id=\"功能分析\"><a href=\"#功能分析\" class=\"headerlink\" title=\"功能分析\"></a>功能分析</h2><ol>\n<li>只是練習,故不開發server side的程式</li>\n<li>暫時存在 cookie 上</li>\n<li>用 bootstrap 作簡單的樣式</li>\n</ol>\n<h2 id=\"實作記錄\"><a href=\"#實作記錄\" class=\"headerlink\" title=\"實作記錄\"></a>實作記錄</h2><h3 id=\"UI-使用-Bootstrap-沒有必要重新打造輪子-能用的就拿來用\"><a href=\"#UI-使用-Bootstrap-沒有必要重新打造輪子-能用的就拿來用\" class=\"headerlink\" title=\"UI : 使用 Bootstrap 沒有必要重新打造輪子,能用的就拿來用\"></a>UI : 使用 Bootstrap <em>沒有必要重新打造輪子,能用的就拿來用</em></h3><ul>\n<li>找到一個TODOLIST的<a href=\"http://bootsnipp.com/index.php/snippets/featured/todo-example\" target=\"_blank\" rel=\"noopener\">樣版</a>,內含 HTML 、 CSS 與 JS ,功能完整.</li>\n<li>取用<a href=\"http://bootsnipp.com/index.php/snippets/featured/todo-example\" target=\"_blank\" rel=\"noopener\">樣版</a>的HTML .     </li>\n<li>引用 bootstrap 3.3.5 CDN上的 css .</li>\n<li>建立一個 todo.css 直接引用<a href=\"http://bootsnipp.com/index.php/snippets/featured/todo-example\" target=\"_blank\" rel=\"noopener\">樣版</a>的 css 並加入頁面參考.</li>\n</ul>\n<h3 id=\"開發環境\"><a href=\"#開發環境\" class=\"headerlink\" title=\"開發環境\"></a>開發環境</h3><ol>\n<li>安裝 typescript<br><code>npm install typescript --save</code></li>\n<li>安裝 gulp<br><code>npm install gulp</code><br><code>npm install --global gulp</code> </li>\n<li>安裝 gulp-typescript<br><code>npm install gulp-typescript</code></li>\n<li>建立gulpfile.js </li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp'</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> tsc = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-typescript'</span>);</span><br><span class=\"line\">gulp.task(<span class=\"string\">'default'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;     </span><br><span class=\"line\">        <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">'public/javascripts/**/*.ts'</span>)</span><br><span class=\"line\">        .pipe(tsc())</span><br><span class=\"line\">        .pipe(gulp.dest(<span class=\"string\">'public/javascripts/'</span>));</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Typescript\"><a href=\"#Typescript\" class=\"headerlink\" title=\"Typescript\"></a>Typescript</h3><ol>\n<li><p>關於 typescript 的定義檔, 以前有 tsd 與 typings兩種管理工具,現在可以更簡便的合併到 npm 作管理 .</p>\n</li>\n<li><p>透過 <a href=\"http://microsoft.github.io/TypeSearch/\" target=\"_blank\" rel=\"noopener\">TypeSearch</a> 可以找到 <a href=\"https://www.npmjs.com/package/@types/bootstrap\" target=\"_blank\" rel=\"noopener\">bootstrap</a> 的 typescript 定義檔.</p>\n</li>\n<li><p>執行 <code>npm install --save @types/bootstrap</code> 安裝 bootstrap (目前的版本是 Bootstrap 3.3.5) , 因為相依於 jquery 所以也會一併安裝</p>\n</li>\n<li><p>安裝 jquery-ui 的定義檔<br><code>npm install --save @types/jqueryui</code></p>\n</li>\n<li><p>新增檔案 <code>todo.ts</code> ,將 <a href=\"http://bootsnipp.com/index.php/snippets/featured/todo-example\" target=\"_blank\" rel=\"noopener\">樣版</a> 的 javascript 複製貼上 .<br><em>*註:因為 typescript 是 javascript 的 superset , 完全可以相容原生 javascript, 如果有任何錯誤, TypeScript將會提示你</em></p>\n</li>\n<li><p>todo.ts 引用 jquery 、jquery-ui 與 bootstrap 的 typescript 定義檔.  </p>\n<pre><code>/// &lt;reference path=&quot;../../../node_modules/@types/jquery/index.d.ts&quot;/&gt;  \n/// &lt;reference path=&quot;../../../node_modules/@types/bootstrap/index.d.ts&quot;/&gt;  \n/// &lt;reference path=&quot;../../../node_modules/@types/jqueryui/index.d.ts&quot;/&gt;</code></pre></li>\n<li><p>頁面載入對應的js檔,記得放置順序 jquery 要在最前面,並將放在<code>&lt;\\body&gt;</code>之後  </p>\n<pre><code>&lt;script src=&quot;http://code.jquery.com/jquery-2.2.4.min.js&quot;   integrity=&quot;sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=&quot;   crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;http://code.jquery.com/ui/1.12.1/jquery-ui.min.js&quot;   integrity=&quot;sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=&quot;   crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;</code></pre></li>\n<li><p>執行 <code>gulp</code> ,會產生todo.js</p>\n</li>\n<li><p>頁面載入js檔,記得要放在相依的js( jquery 、 bootstap 、 jqueryui)之後.</p>\n<pre><code>&lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/kata/todo.js&quot;&gt;&lt;/script&gt;</code></pre></li>\n</ol>\n<h4 id=\"截至目前為止-僅僅是在作複製樣版-同時一併處理一些基本-gulp-與-typescript-相關的配置\"><a href=\"#截至目前為止-僅僅是在作複製樣版-同時一併處理一些基本-gulp-與-typescript-相關的配置\" class=\"headerlink\" title=\"截至目前為止,僅僅是在作複製樣版,同時一併處理一些基本 gulp 與 typescript 相關的配置\"></a>截至目前為止,僅僅是在作複製樣版,同時一併處理一些基本 gulp 與 typescript 相關的配置</h4><h4 id=\"接下來才要開始寫-typescript\"><a href=\"#接下來才要開始寫-typescript\" class=\"headerlink\" title=\"接下來才要開始寫 typescript\"></a>接下來才要開始寫 typescript</h4><p>(待續)</p>\n<h4 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h4><ol>\n<li><a href=\"http://blog.miniasp.com/post/2016/08/22/TypeScript-Future-Declaration-Files.aspx\" target=\"_blank\" rel=\"noopener\">關於 TypeScript 2.0 之後的模組定義檔 ( Declaration Files ) ( *.d.ts )</a></li>\n<li><a href=\"http://bootsnipp.com/\" target=\"_blank\" rel=\"noopener\">bootsnipp</a></li>\n<li><a href=\"http://com-brianflove.appspot.com/2016/03/29/typescript-express-node-js/\" target=\"_blank\" rel=\"noopener\">TYPESCRIPT + EXPRESS + NODE.JS</a></li>\n</ol>\n"},{"title":"自動化 Trello 操作","date":"2017-02-08T15:52:27.000Z","_content":"\nTrello 是一個非常方便的工作管理工具, \n最主要的功能只有 Boards 、 Lists 與 Cards,\n確可以發揮相當大的綜效功能,  \n用來當作敏捷開發的白板、安排工作項目與進度,\n作為協作的平台與工具。\n也有相當多元的外掛可以供不同的情境使用,\n開發人員也可以自行串接API與系統作整合。\n簡單記錄自動化產生 Cards 的兩種方法。\n\n## 第一種方法,使用mail\n\n1. 開啟 Menu > More\n2. 點選 Email-to-board Settings\n3. 選擇你要產生卡片的 List 與 位置(頂部或底部)\n\n![](https://i.imgur.com/PqDLtdO.gif)\n\n4. 寄信，信件格式如下\n\t- email 的 subject 會成為卡片的標題\n\t- email 的內容會成為卡片的描述\n\t- 如果有附加檔案在郵件中，會附加到卡片中\n\t- 在 subject 加入 `#label` 可以在卡片加入標籤(Labels)\n\t- 在 subject 加入 `@member` 可以在卡片加入成員(Members)\n\n\n更多請[參考](http://help.trello.com/article/809-creating-cards-by-email). \n\n## 第二種方法,使用API\n1. 登入 Trello\n2. 連線 https://developers.trello.com\n點選`Get your Application Key`. 連線到 https://trello.com/app-key\n\n### 取得Key\n![](https://i.imgur.com/bBoiUCr.jpg)\n\n### 生成Token\n\n![](https://i.imgur.com/gHsdYv8.jpg)\n\n\n![](https://i.imgur.com/bSXkChk.jpg)\n點選allow後，就會顯示你的token，特別注意登入的身份權限，\n並且千萬不要外洩你的token與key值。\n\n試打API,建立一張 Card 到指定的 List 中.\n並且設定期限(due)與標籤(labels),\n更多的API設定請[參考](https://developers.trello.com/advanced-reference).\n![](https://i.imgur.com/yk6SZYm.jpg)\n\n## 分析\n- Email:\n\t- 優點:簡單、方便、可以結合mail system 、附加檔案簡單\n\t- 缺點:部份功能無法實現(ex: 設定due date)\n- API:\n\t- 優點:靈活、Resful的API可以實現大部份的功能\n\t- 缺點:實作比較麻煩\n\n(fin)\t\n\n","source":"_posts/2017/auto_add_trello_card.md","raw":"---\ntitle: 自動化 Trello 操作\ndate: 2017/02/08 23:52:27 \ntag:\n  - Trello\n---\n\nTrello 是一個非常方便的工作管理工具, \n最主要的功能只有 Boards 、 Lists 與 Cards,\n確可以發揮相當大的綜效功能,  \n用來當作敏捷開發的白板、安排工作項目與進度,\n作為協作的平台與工具。\n也有相當多元的外掛可以供不同的情境使用,\n開發人員也可以自行串接API與系統作整合。\n簡單記錄自動化產生 Cards 的兩種方法。\n\n## 第一種方法,使用mail\n\n1. 開啟 Menu > More\n2. 點選 Email-to-board Settings\n3. 選擇你要產生卡片的 List 與 位置(頂部或底部)\n\n![](https://i.imgur.com/PqDLtdO.gif)\n\n4. 寄信，信件格式如下\n\t- email 的 subject 會成為卡片的標題\n\t- email 的內容會成為卡片的描述\n\t- 如果有附加檔案在郵件中，會附加到卡片中\n\t- 在 subject 加入 `#label` 可以在卡片加入標籤(Labels)\n\t- 在 subject 加入 `@member` 可以在卡片加入成員(Members)\n\n\n更多請[參考](http://help.trello.com/article/809-creating-cards-by-email). \n\n## 第二種方法,使用API\n1. 登入 Trello\n2. 連線 https://developers.trello.com\n點選`Get your Application Key`. 連線到 https://trello.com/app-key\n\n### 取得Key\n![](https://i.imgur.com/bBoiUCr.jpg)\n\n### 生成Token\n\n![](https://i.imgur.com/gHsdYv8.jpg)\n\n\n![](https://i.imgur.com/bSXkChk.jpg)\n點選allow後，就會顯示你的token，特別注意登入的身份權限，\n並且千萬不要外洩你的token與key值。\n\n試打API,建立一張 Card 到指定的 List 中.\n並且設定期限(due)與標籤(labels),\n更多的API設定請[參考](https://developers.trello.com/advanced-reference).\n![](https://i.imgur.com/yk6SZYm.jpg)\n\n## 分析\n- Email:\n\t- 優點:簡單、方便、可以結合mail system 、附加檔案簡單\n\t- 缺點:部份功能無法實現(ex: 設定due date)\n- API:\n\t- 優點:靈活、Resful的API可以實現大部份的功能\n\t- 缺點:實作比較麻煩\n\n(fin)\t\n\n","slug":"2017/auto_add_trello_card","published":1,"updated":"2019-06-10T14:43:28.879Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wjt000yb0vxrddxe1h8","content":"<p>Trello 是一個非常方便的工作管理工具,<br>最主要的功能只有 Boards 、 Lists 與 Cards,<br>確可以發揮相當大的綜效功能,<br>用來當作敏捷開發的白板、安排工作項目與進度,<br>作為協作的平台與工具。<br>也有相當多元的外掛可以供不同的情境使用,<br>開發人員也可以自行串接API與系統作整合。<br>簡單記錄自動化產生 Cards 的兩種方法。</p>\n<h2 id=\"第一種方法-使用mail\"><a href=\"#第一種方法-使用mail\" class=\"headerlink\" title=\"第一種方法,使用mail\"></a>第一種方法,使用mail</h2><ol>\n<li>開啟 Menu &gt; More</li>\n<li>點選 Email-to-board Settings</li>\n<li>選擇你要產生卡片的 List 與 位置(頂部或底部)</li>\n</ol>\n<p><img src=\"https://i.imgur.com/PqDLtdO.gif\" alt></p>\n<ol start=\"4\">\n<li>寄信，信件格式如下<ul>\n<li>email 的 subject 會成為卡片的標題</li>\n<li>email 的內容會成為卡片的描述</li>\n<li>如果有附加檔案在郵件中，會附加到卡片中</li>\n<li>在 subject 加入 <code>#label</code> 可以在卡片加入標籤(Labels)</li>\n<li>在 subject 加入 <code>@member</code> 可以在卡片加入成員(Members)</li>\n</ul>\n</li>\n</ol>\n<p>更多請<a href=\"http://help.trello.com/article/809-creating-cards-by-email\" target=\"_blank\" rel=\"noopener\">參考</a>. </p>\n<h2 id=\"第二種方法-使用API\"><a href=\"#第二種方法-使用API\" class=\"headerlink\" title=\"第二種方法,使用API\"></a>第二種方法,使用API</h2><ol>\n<li>登入 Trello</li>\n<li>連線 <a href=\"https://developers.trello.com\" target=\"_blank\" rel=\"noopener\">https://developers.trello.com</a><br>點選<code>Get your Application Key</code>. 連線到 <a href=\"https://trello.com/app-key\" target=\"_blank\" rel=\"noopener\">https://trello.com/app-key</a></li>\n</ol>\n<h3 id=\"取得Key\"><a href=\"#取得Key\" class=\"headerlink\" title=\"取得Key\"></a>取得Key</h3><p><img src=\"https://i.imgur.com/bBoiUCr.jpg\" alt></p>\n<h3 id=\"生成Token\"><a href=\"#生成Token\" class=\"headerlink\" title=\"生成Token\"></a>生成Token</h3><p><img src=\"https://i.imgur.com/gHsdYv8.jpg\" alt></p>\n<p><img src=\"https://i.imgur.com/bSXkChk.jpg\" alt><br>點選allow後，就會顯示你的token，特別注意登入的身份權限，<br>並且千萬不要外洩你的token與key值。</p>\n<p>試打API,建立一張 Card 到指定的 List 中.<br>並且設定期限(due)與標籤(labels),<br>更多的API設定請<a href=\"https://developers.trello.com/advanced-reference\" target=\"_blank\" rel=\"noopener\">參考</a>.\n<img src=\"https://i.imgur.com/yk6SZYm.jpg\" alt></p>\n<h2 id=\"分析\"><a href=\"#分析\" class=\"headerlink\" title=\"分析\"></a>分析</h2><ul>\n<li>Email:<ul>\n<li>優點:簡單、方便、可以結合mail system 、附加檔案簡單</li>\n<li>缺點:部份功能無法實現(ex: 設定due date)</li>\n</ul>\n</li>\n<li>API:<ul>\n<li>優點:靈活、Resful的API可以實現大部份的功能</li>\n<li>缺點:實作比較麻煩</li>\n</ul>\n</li>\n</ul>\n<p>(fin)    </p>\n","site":{"data":{}},"excerpt":"","more":"<p>Trello 是一個非常方便的工作管理工具,<br>最主要的功能只有 Boards 、 Lists 與 Cards,<br>確可以發揮相當大的綜效功能,<br>用來當作敏捷開發的白板、安排工作項目與進度,<br>作為協作的平台與工具。<br>也有相當多元的外掛可以供不同的情境使用,<br>開發人員也可以自行串接API與系統作整合。<br>簡單記錄自動化產生 Cards 的兩種方法。</p>\n<h2 id=\"第一種方法-使用mail\"><a href=\"#第一種方法-使用mail\" class=\"headerlink\" title=\"第一種方法,使用mail\"></a>第一種方法,使用mail</h2><ol>\n<li>開啟 Menu &gt; More</li>\n<li>點選 Email-to-board Settings</li>\n<li>選擇你要產生卡片的 List 與 位置(頂部或底部)</li>\n</ol>\n<p><img src=\"https://i.imgur.com/PqDLtdO.gif\" alt></p>\n<ol start=\"4\">\n<li>寄信，信件格式如下<ul>\n<li>email 的 subject 會成為卡片的標題</li>\n<li>email 的內容會成為卡片的描述</li>\n<li>如果有附加檔案在郵件中，會附加到卡片中</li>\n<li>在 subject 加入 <code>#label</code> 可以在卡片加入標籤(Labels)</li>\n<li>在 subject 加入 <code>@member</code> 可以在卡片加入成員(Members)</li>\n</ul>\n</li>\n</ol>\n<p>更多請<a href=\"http://help.trello.com/article/809-creating-cards-by-email\" target=\"_blank\" rel=\"noopener\">參考</a>. </p>\n<h2 id=\"第二種方法-使用API\"><a href=\"#第二種方法-使用API\" class=\"headerlink\" title=\"第二種方法,使用API\"></a>第二種方法,使用API</h2><ol>\n<li>登入 Trello</li>\n<li>連線 <a href=\"https://developers.trello.com\" target=\"_blank\" rel=\"noopener\">https://developers.trello.com</a><br>點選<code>Get your Application Key</code>. 連線到 <a href=\"https://trello.com/app-key\" target=\"_blank\" rel=\"noopener\">https://trello.com/app-key</a></li>\n</ol>\n<h3 id=\"取得Key\"><a href=\"#取得Key\" class=\"headerlink\" title=\"取得Key\"></a>取得Key</h3><p><img src=\"https://i.imgur.com/bBoiUCr.jpg\" alt></p>\n<h3 id=\"生成Token\"><a href=\"#生成Token\" class=\"headerlink\" title=\"生成Token\"></a>生成Token</h3><p><img src=\"https://i.imgur.com/gHsdYv8.jpg\" alt></p>\n<p><img src=\"https://i.imgur.com/bSXkChk.jpg\" alt><br>點選allow後，就會顯示你的token，特別注意登入的身份權限，<br>並且千萬不要外洩你的token與key值。</p>\n<p>試打API,建立一張 Card 到指定的 List 中.<br>並且設定期限(due)與標籤(labels),<br>更多的API設定請<a href=\"https://developers.trello.com/advanced-reference\" target=\"_blank\" rel=\"noopener\">參考</a>.\n<img src=\"https://i.imgur.com/yk6SZYm.jpg\" alt></p>\n<h2 id=\"分析\"><a href=\"#分析\" class=\"headerlink\" title=\"分析\"></a>分析</h2><ul>\n<li>Email:<ul>\n<li>優點:簡單、方便、可以結合mail system 、附加檔案簡單</li>\n<li>缺點:部份功能無法實現(ex: 設定due date)</li>\n</ul>\n</li>\n<li>API:<ul>\n<li>優點:靈活、Resful的API可以實現大部份的功能</li>\n<li>缺點:實作比較麻煩</li>\n</ul>\n</li>\n</ul>\n<p>(fin)    </p>\n"},{"title":"ASP.NET Thread Pool 監控","date":"2017-01-28T12:46:49.000Z","_content":"\n## 前情提要\n\n[上一次](/2016/11/21/aspdotnet_threadpool_and_redis/)說明了 .NET Thread Pool 的機制如何影響 Redis,  \n.NET Thread Pool 的機制會貫穿任何與它互動的系統或服務,  \n所以這篇會簡單描述如何對 .NET Thread Pool [建立監控](https://msdn.microsoft.com/zh-tw/library/ff650682.aspx)。\n\n## 步驟\n\n1. 建立監控記數器\n2. 在系統寫入監控數值\n3. 開啟效能計數器\n\n## 建立監控記數器\n\n|記數器|說明|\n|---|---|\n|Available Worker Threads|目前在 thread-pool 可以使用的 worker threads |\n|Available IO Threads|目前在 thread-pool 可以使用的 I/O threads |\n|Max Worker Threads| 最大可以建立的 worker threads 數量 |\n|Max IO Threads| 最大可以建立的 I/O threads 數量 |\n\n### 建立一個 Console 應用程式\n\n``` csharp\nusing System;\nusing System.Diagnostics;\n\nclass MyAspNetThreadCounters\n{\n  [STAThread]\n  static void Main(string[] args)\n  {\n    CreateCounters();\n    Console.WriteLine(\"MyAspNetThreadCounters performance counter category \" +\n                      \"is created. [Press Enter]\");\n    Console.ReadLine();\n  }\n\n  public static void CreateCounters()\n  {\n    CounterCreationDataCollection col =  \n      new CounterCreationDataCollection();\n\n    // Create custom counter objects\n    CounterCreationData counter1 = new CounterCreationData();\n    counter1.CounterName = \"Available Worker Threads\";\n    counter1.CounterHelp = \"The difference between the maximum number \" +\n                           \"of thread pool worker threads and the \" +\n                           \"number currently active.\";\n    counter1.CounterType = PerformanceCounterType.NumberOfItems32;\n\n    CounterCreationData counter2 = new CounterCreationData();\n    counter2.CounterName = \"Available IO Threads\";\n    counter2.CounterHelp = \"The difference between the maximum number of \" +\n                           \"thread pool IO threads and the number \"+\n                           \"currently active.\";\n    counter2.CounterType = PerformanceCounterType.NumberOfItems32;\n\n    CounterCreationData counter3 = new CounterCreationData();\n    counter3.CounterName = \"Max Worker Threads\";\n    counter3.CounterHelp = \"The number of requests to the thread pool \"+\n                           \"that can be active concurrently. All \"+  \n                           \"requests above that number remain queued until \" +\n                           \"thread pool worker threads become available.\";\n    counter3.CounterType = PerformanceCounterType.NumberOfItems32;\n\n    CounterCreationData counter4 = new CounterCreationData();\n    counter4.CounterName = \"Max IO Threads\";\n    counter4.CounterHelp = \"The number of requests to the thread pool \" +\n                           \"that can be active concurrently. All \"+  \n                           \"requests above that number remain queued until \" +\n                           \"thread pool IO threads become available.\";\n    counter4.CounterType = PerformanceCounterType.NumberOfItems32;\n\n    // Add custom counter objects to CounterCreationDataCollection.\n    col.Add(counter1);\n    col.Add(counter2);\n    col.Add(counter3);\n    col.Add(counter4);\n    // delete the category if it already exists\n    if(PerformanceCounterCategory.Exists(\"MyAspNetThreadCounters\"))\n    {\n      PerformanceCounterCategory.Delete(\"MyAspNetThreadCounters\");\n    }\n    // bind the counters to the PerformanceCounterCategory\n    PerformanceCounterCategory category =\n            PerformanceCounterCategory.Create(\"MyAspNetThreadCounters\",\n                                              \"\", col);\n  }\n}\n```\n\n編譯後並執行即可,  \n執行 `regedit` 開啟登錄編輯程式,  \n輸入機碼 `HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services`  \n將可以找到剛剛建立的 `MyAspNetThreadCounters` 記數器\n\n## 在系統寫入監控數值\n\n在站台的 `Global.asax` 加入以下的程式碼\n\n```csharp\npublic bool MonitorThreadPoolEnabled = true;\n\nprotected void Application_Start(Object sender, EventArgs e)\n{\n  Thread t = new Thread(new ThreadStart(RefreshCounters));\n  t.Start();\n}\n\npublic void RefreshCounters()\n{\n  while (MonitorThreadPoolEnabled)\n  {\n    ASPNETThreadInfo t = GetThreadInfo();\n    ShowPerfCounters(t);\n    System.Threading.Thread.Sleep(500);\n  }\n}\n\nprotected void Application_End(Object sender, EventArgs e)\n{\n  MonitorThreadPoolEnabled = false;\n}\n\npublic struct ASPNETThreadInfo\n{\n  public int MaxWorkerThreads;\n  public int MaxIOThreads;\n  public int MinFreeThreads;\n  public int MinLocalRequestFreeThreads;\n  public int AvailableWorkerThreads;\n  public int AvailableIOThreads;\n\n  public bool Equals(ASPNETThreadInfo other)\n  {\n    return (\n      MaxWorkerThreads == other.MaxWorkerThreads &&\n      MaxIOThreads == other.MaxIOThreads &&\n      MinFreeThreads == other.MinFreeThreads &&\n      MinLocalRequestFreeThreads == other.MinLocalRequestFreeThreads &&\n      AvailableWorkerThreads == other.AvailableWorkerThreads &&\n      AvailableIOThreads == other.AvailableIOThreads\n    );\n  }\n}\n\npublic ASPNETThreadInfo GetThreadInfo()\n{\n  // use ThreadPool to get the current status\n  int availableWorker, availableIO;\n  int maxWorker, maxIO;\n\n  ThreadPool.GetAvailableThreads( out availableWorker, out availableIO);\n  ThreadPool.GetMaxThreads(out maxWorker, out maxIO);\n\n  ASPNETThreadInfo threadInfo;\n  threadInfo.AvailableWorkerThreads = (Int16)availableWorker;\n  threadInfo.AvailableIOThreads = (Int16)availableIO;\n  threadInfo.MaxWorkerThreads = (Int16)maxWorker;\n  threadInfo.MaxIOThreads = (Int16)maxIO;\n // hard code for now; could get this from  machine.config\n  threadInfo.MinFreeThreads = 8;\n  threadInfo.MinLocalRequestFreeThreads = 4;\n  return threadInfo;\n}\n\npublic void ShowPerfCounters(ASPNETThreadInfo t)\n{\n\n  // get an instance of our Available Worker Threads counter\n  PerformanceCounter counter1 = new PerformanceCounter();\n  counter1.CategoryName = \"MyAspNetThreadCounters\";\n  counter1.CounterName = \"Available Worker Threads\";\n  counter1.ReadOnly = false;\n\n  // set the value of the counter\n  counter1.RawValue = t.AvailableWorkerThreads;\n  counter1.Close();\n\n  // repeat for other counters\n\n  PerformanceCounter counter2 = new PerformanceCounter();\n  counter2.CategoryName = \"MyAspNetThreadCounters\";\n  counter2.CounterName = \"Available IO Threads\";\n  counter2.ReadOnly = false;\n  counter2.RawValue = t.AvailableIOThreads;\n  counter2.Close();\n\n  PerformanceCounter counter3 = new PerformanceCounter();\n  counter3.CategoryName = \"MyAspNetThreadCounters\";\n  counter3.CounterName = \"Max Worker Threads\";\n  counter3.ReadOnly = false;\n  counter3.RawValue = t.MaxWorkerThreads;\n  counter3.Close();\n\n  PerformanceCounter counter4 = new PerformanceCounter();\n  counter4.CategoryName = \"MyAspNetThreadCounters\";\n  counter4.CounterName = \"Max IO Threads\";\n  counter4.ReadOnly = false;\n  counter4.RawValue = t.MaxIOThreads;\n  counter4.Close();\n}\n```\n\n當你的站台重新啟動後,  \n就會定期將 Worker Thread 與  I/O Threads 的監控數值傳遞給系統。  \n\n### 開啟效能計數器\n\n1. 執行 `perfmon.exe` 開啟效能計數器\n2. 新增效能計數器(點選綠色加符號)\n3. 選取前面所建立監控記數器就能看到當前 ThreadPool 的使用狀況。\n![開啟效能計數器](https://i.imgur.com/HhlbNH2.jpg)\n\n(fin)\n","source":"_posts/2017/aspdotnet_threadpool_monitor.md","raw":"---\ntitle: ASP.NET Thread Pool 監控\ndate: 2017/01/28 20:46:49\ntag:\n  - .Net Framework\n  - Thread\n---\n\n## 前情提要\n\n[上一次](/2016/11/21/aspdotnet_threadpool_and_redis/)說明了 .NET Thread Pool 的機制如何影響 Redis,  \n.NET Thread Pool 的機制會貫穿任何與它互動的系統或服務,  \n所以這篇會簡單描述如何對 .NET Thread Pool [建立監控](https://msdn.microsoft.com/zh-tw/library/ff650682.aspx)。\n\n## 步驟\n\n1. 建立監控記數器\n2. 在系統寫入監控數值\n3. 開啟效能計數器\n\n## 建立監控記數器\n\n|記數器|說明|\n|---|---|\n|Available Worker Threads|目前在 thread-pool 可以使用的 worker threads |\n|Available IO Threads|目前在 thread-pool 可以使用的 I/O threads |\n|Max Worker Threads| 最大可以建立的 worker threads 數量 |\n|Max IO Threads| 最大可以建立的 I/O threads 數量 |\n\n### 建立一個 Console 應用程式\n\n``` csharp\nusing System;\nusing System.Diagnostics;\n\nclass MyAspNetThreadCounters\n{\n  [STAThread]\n  static void Main(string[] args)\n  {\n    CreateCounters();\n    Console.WriteLine(\"MyAspNetThreadCounters performance counter category \" +\n                      \"is created. [Press Enter]\");\n    Console.ReadLine();\n  }\n\n  public static void CreateCounters()\n  {\n    CounterCreationDataCollection col =  \n      new CounterCreationDataCollection();\n\n    // Create custom counter objects\n    CounterCreationData counter1 = new CounterCreationData();\n    counter1.CounterName = \"Available Worker Threads\";\n    counter1.CounterHelp = \"The difference between the maximum number \" +\n                           \"of thread pool worker threads and the \" +\n                           \"number currently active.\";\n    counter1.CounterType = PerformanceCounterType.NumberOfItems32;\n\n    CounterCreationData counter2 = new CounterCreationData();\n    counter2.CounterName = \"Available IO Threads\";\n    counter2.CounterHelp = \"The difference between the maximum number of \" +\n                           \"thread pool IO threads and the number \"+\n                           \"currently active.\";\n    counter2.CounterType = PerformanceCounterType.NumberOfItems32;\n\n    CounterCreationData counter3 = new CounterCreationData();\n    counter3.CounterName = \"Max Worker Threads\";\n    counter3.CounterHelp = \"The number of requests to the thread pool \"+\n                           \"that can be active concurrently. All \"+  \n                           \"requests above that number remain queued until \" +\n                           \"thread pool worker threads become available.\";\n    counter3.CounterType = PerformanceCounterType.NumberOfItems32;\n\n    CounterCreationData counter4 = new CounterCreationData();\n    counter4.CounterName = \"Max IO Threads\";\n    counter4.CounterHelp = \"The number of requests to the thread pool \" +\n                           \"that can be active concurrently. All \"+  \n                           \"requests above that number remain queued until \" +\n                           \"thread pool IO threads become available.\";\n    counter4.CounterType = PerformanceCounterType.NumberOfItems32;\n\n    // Add custom counter objects to CounterCreationDataCollection.\n    col.Add(counter1);\n    col.Add(counter2);\n    col.Add(counter3);\n    col.Add(counter4);\n    // delete the category if it already exists\n    if(PerformanceCounterCategory.Exists(\"MyAspNetThreadCounters\"))\n    {\n      PerformanceCounterCategory.Delete(\"MyAspNetThreadCounters\");\n    }\n    // bind the counters to the PerformanceCounterCategory\n    PerformanceCounterCategory category =\n            PerformanceCounterCategory.Create(\"MyAspNetThreadCounters\",\n                                              \"\", col);\n  }\n}\n```\n\n編譯後並執行即可,  \n執行 `regedit` 開啟登錄編輯程式,  \n輸入機碼 `HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services`  \n將可以找到剛剛建立的 `MyAspNetThreadCounters` 記數器\n\n## 在系統寫入監控數值\n\n在站台的 `Global.asax` 加入以下的程式碼\n\n```csharp\npublic bool MonitorThreadPoolEnabled = true;\n\nprotected void Application_Start(Object sender, EventArgs e)\n{\n  Thread t = new Thread(new ThreadStart(RefreshCounters));\n  t.Start();\n}\n\npublic void RefreshCounters()\n{\n  while (MonitorThreadPoolEnabled)\n  {\n    ASPNETThreadInfo t = GetThreadInfo();\n    ShowPerfCounters(t);\n    System.Threading.Thread.Sleep(500);\n  }\n}\n\nprotected void Application_End(Object sender, EventArgs e)\n{\n  MonitorThreadPoolEnabled = false;\n}\n\npublic struct ASPNETThreadInfo\n{\n  public int MaxWorkerThreads;\n  public int MaxIOThreads;\n  public int MinFreeThreads;\n  public int MinLocalRequestFreeThreads;\n  public int AvailableWorkerThreads;\n  public int AvailableIOThreads;\n\n  public bool Equals(ASPNETThreadInfo other)\n  {\n    return (\n      MaxWorkerThreads == other.MaxWorkerThreads &&\n      MaxIOThreads == other.MaxIOThreads &&\n      MinFreeThreads == other.MinFreeThreads &&\n      MinLocalRequestFreeThreads == other.MinLocalRequestFreeThreads &&\n      AvailableWorkerThreads == other.AvailableWorkerThreads &&\n      AvailableIOThreads == other.AvailableIOThreads\n    );\n  }\n}\n\npublic ASPNETThreadInfo GetThreadInfo()\n{\n  // use ThreadPool to get the current status\n  int availableWorker, availableIO;\n  int maxWorker, maxIO;\n\n  ThreadPool.GetAvailableThreads( out availableWorker, out availableIO);\n  ThreadPool.GetMaxThreads(out maxWorker, out maxIO);\n\n  ASPNETThreadInfo threadInfo;\n  threadInfo.AvailableWorkerThreads = (Int16)availableWorker;\n  threadInfo.AvailableIOThreads = (Int16)availableIO;\n  threadInfo.MaxWorkerThreads = (Int16)maxWorker;\n  threadInfo.MaxIOThreads = (Int16)maxIO;\n // hard code for now; could get this from  machine.config\n  threadInfo.MinFreeThreads = 8;\n  threadInfo.MinLocalRequestFreeThreads = 4;\n  return threadInfo;\n}\n\npublic void ShowPerfCounters(ASPNETThreadInfo t)\n{\n\n  // get an instance of our Available Worker Threads counter\n  PerformanceCounter counter1 = new PerformanceCounter();\n  counter1.CategoryName = \"MyAspNetThreadCounters\";\n  counter1.CounterName = \"Available Worker Threads\";\n  counter1.ReadOnly = false;\n\n  // set the value of the counter\n  counter1.RawValue = t.AvailableWorkerThreads;\n  counter1.Close();\n\n  // repeat for other counters\n\n  PerformanceCounter counter2 = new PerformanceCounter();\n  counter2.CategoryName = \"MyAspNetThreadCounters\";\n  counter2.CounterName = \"Available IO Threads\";\n  counter2.ReadOnly = false;\n  counter2.RawValue = t.AvailableIOThreads;\n  counter2.Close();\n\n  PerformanceCounter counter3 = new PerformanceCounter();\n  counter3.CategoryName = \"MyAspNetThreadCounters\";\n  counter3.CounterName = \"Max Worker Threads\";\n  counter3.ReadOnly = false;\n  counter3.RawValue = t.MaxWorkerThreads;\n  counter3.Close();\n\n  PerformanceCounter counter4 = new PerformanceCounter();\n  counter4.CategoryName = \"MyAspNetThreadCounters\";\n  counter4.CounterName = \"Max IO Threads\";\n  counter4.ReadOnly = false;\n  counter4.RawValue = t.MaxIOThreads;\n  counter4.Close();\n}\n```\n\n當你的站台重新啟動後,  \n就會定期將 Worker Thread 與  I/O Threads 的監控數值傳遞給系統。  \n\n### 開啟效能計數器\n\n1. 執行 `perfmon.exe` 開啟效能計數器\n2. 新增效能計數器(點選綠色加符號)\n3. 選取前面所建立監控記數器就能看到當前 ThreadPool 的使用狀況。\n![開啟效能計數器](https://i.imgur.com/HhlbNH2.jpg)\n\n(fin)\n","slug":"2017/aspdotnet_threadpool_monitor","published":1,"updated":"2019-09-08T10:31:30.554Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wju000zb0vx45ywpz3s","content":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p><a href=\"/2016/11/21/aspdotnet_threadpool_and_redis/\">上一次</a>說明了 .NET Thread Pool 的機制如何影響 Redis,<br>.NET Thread Pool 的機制會貫穿任何與它互動的系統或服務,<br>所以這篇會簡單描述如何對 .NET Thread Pool <a href=\"https://msdn.microsoft.com/zh-tw/library/ff650682.aspx\" target=\"_blank\" rel=\"noopener\">建立監控</a>。</p>\n<h2 id=\"步驟\"><a href=\"#步驟\" class=\"headerlink\" title=\"步驟\"></a>步驟</h2><ol>\n<li>建立監控記數器</li>\n<li>在系統寫入監控數值</li>\n<li>開啟效能計數器</li>\n</ol>\n<h2 id=\"建立監控記數器\"><a href=\"#建立監控記數器\" class=\"headerlink\" title=\"建立監控記數器\"></a>建立監控記數器</h2><table>\n<thead>\n<tr>\n<th>記數器</th>\n<th>說明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Available Worker Threads</td>\n<td>目前在 thread-pool 可以使用的 worker threads</td>\n</tr>\n<tr>\n<td>Available IO Threads</td>\n<td>目前在 thread-pool 可以使用的 I/O threads</td>\n</tr>\n<tr>\n<td>Max Worker Threads</td>\n<td>最大可以建立的 worker threads 數量</td>\n</tr>\n<tr>\n<td>Max IO Threads</td>\n<td>最大可以建立的 I/O threads 數量</td>\n</tr>\n</tbody></table>\n<h3 id=\"建立一個-Console-應用程式\"><a href=\"#建立一個-Console-應用程式\" class=\"headerlink\" title=\"建立一個 Console 應用程式\"></a>建立一個 Console 應用程式</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Diagnostics;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">MyAspNetThreadCounters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  [<span class=\"meta\">STAThread</span>]</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"keyword\">string</span>[] args</span>)</span></span><br><span class=\"line\"><span class=\"function\">  </span>&#123;</span><br><span class=\"line\">    CreateCounters();</span><br><span class=\"line\">    Console.WriteLine(<span class=\"string\">\"MyAspNetThreadCounters performance counter category \"</span> +</span><br><span class=\"line\">                      <span class=\"string\">\"is created. [Press Enter]\"</span>);</span><br><span class=\"line\">    Console.ReadLine();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">CreateCounters</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">  </span>&#123;</span><br><span class=\"line\">    CounterCreationDataCollection col =  </span><br><span class=\"line\">      <span class=\"keyword\">new</span> CounterCreationDataCollection();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Create custom counter objects</span></span><br><span class=\"line\">    CounterCreationData counter1 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">    counter1.CounterName = <span class=\"string\">\"Available Worker Threads\"</span>;</span><br><span class=\"line\">    counter1.CounterHelp = <span class=\"string\">\"The difference between the maximum number \"</span> +</span><br><span class=\"line\">                           <span class=\"string\">\"of thread pool worker threads and the \"</span> +</span><br><span class=\"line\">                           <span class=\"string\">\"number currently active.\"</span>;</span><br><span class=\"line\">    counter1.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">    CounterCreationData counter2 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">    counter2.CounterName = <span class=\"string\">\"Available IO Threads\"</span>;</span><br><span class=\"line\">    counter2.CounterHelp = <span class=\"string\">\"The difference between the maximum number of \"</span> +</span><br><span class=\"line\">                           <span class=\"string\">\"thread pool IO threads and the number \"</span>+</span><br><span class=\"line\">                           <span class=\"string\">\"currently active.\"</span>;</span><br><span class=\"line\">    counter2.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">    CounterCreationData counter3 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">    counter3.CounterName = <span class=\"string\">\"Max Worker Threads\"</span>;</span><br><span class=\"line\">    counter3.CounterHelp = <span class=\"string\">\"The number of requests to the thread pool \"</span>+</span><br><span class=\"line\">                           <span class=\"string\">\"that can be active concurrently. All \"</span>+  </span><br><span class=\"line\">                           <span class=\"string\">\"requests above that number remain queued until \"</span> +</span><br><span class=\"line\">                           <span class=\"string\">\"thread pool worker threads become available.\"</span>;</span><br><span class=\"line\">    counter3.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">    CounterCreationData counter4 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">    counter4.CounterName = <span class=\"string\">\"Max IO Threads\"</span>;</span><br><span class=\"line\">    counter4.CounterHelp = <span class=\"string\">\"The number of requests to the thread pool \"</span> +</span><br><span class=\"line\">                           <span class=\"string\">\"that can be active concurrently. All \"</span>+  </span><br><span class=\"line\">                           <span class=\"string\">\"requests above that number remain queued until \"</span> +</span><br><span class=\"line\">                           <span class=\"string\">\"thread pool IO threads become available.\"</span>;</span><br><span class=\"line\">    counter4.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Add custom counter objects to CounterCreationDataCollection.</span></span><br><span class=\"line\">    col.Add(counter1);</span><br><span class=\"line\">    col.Add(counter2);</span><br><span class=\"line\">    col.Add(counter3);</span><br><span class=\"line\">    col.Add(counter4);</span><br><span class=\"line\">    <span class=\"comment\">// delete the category if it already exists</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(PerformanceCounterCategory.Exists(<span class=\"string\">\"MyAspNetThreadCounters\"</span>))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      PerformanceCounterCategory.Delete(<span class=\"string\">\"MyAspNetThreadCounters\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// bind the counters to the PerformanceCounterCategory</span></span><br><span class=\"line\">    PerformanceCounterCategory category =</span><br><span class=\"line\">            PerformanceCounterCategory.Create(<span class=\"string\">\"MyAspNetThreadCounters\"</span>,</span><br><span class=\"line\">                                              <span class=\"string\">\"\"</span>, col);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>編譯後並執行即可,<br>執行 <code>regedit</code> 開啟登錄編輯程式,<br>輸入機碼 <code>HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services</code><br>將可以找到剛剛建立的 <code>MyAspNetThreadCounters</code> 記數器</p>\n<h2 id=\"在系統寫入監控數值\"><a href=\"#在系統寫入監控數值\" class=\"headerlink\" title=\"在系統寫入監控數值\"></a>在系統寫入監控數值</h2><p>在站台的 <code>Global.asax</code> 加入以下的程式碼</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">bool</span> MonitorThreadPoolEnabled = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Application_Start</span>(<span class=\"params\">Object sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  Thread t = <span class=\"keyword\">new</span> Thread(<span class=\"keyword\">new</span> ThreadStart(RefreshCounters));</span><br><span class=\"line\">  t.Start();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">RefreshCounters</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (MonitorThreadPoolEnabled)</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    ASPNETThreadInfo t = GetThreadInfo();</span><br><span class=\"line\">    ShowPerfCounters(t);</span><br><span class=\"line\">    System.Threading.Thread.Sleep(<span class=\"number\">500</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Application_End</span>(<span class=\"params\">Object sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  MonitorThreadPoolEnabled = <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">struct</span> ASPNETThreadInfo</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> MaxWorkerThreads;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> MaxIOThreads;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> MinFreeThreads;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> MinLocalRequestFreeThreads;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> AvailableWorkerThreads;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> AvailableIOThreads;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">bool</span> <span class=\"title\">Equals</span>(<span class=\"params\">ASPNETThreadInfo other</span>)</span></span><br><span class=\"line\"><span class=\"function\">  </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      MaxWorkerThreads == other.MaxWorkerThreads &amp;&amp;</span><br><span class=\"line\">      MaxIOThreads == other.MaxIOThreads &amp;&amp;</span><br><span class=\"line\">      MinFreeThreads == other.MinFreeThreads &amp;&amp;</span><br><span class=\"line\">      MinLocalRequestFreeThreads == other.MinLocalRequestFreeThreads &amp;&amp;</span><br><span class=\"line\">      AvailableWorkerThreads == other.AvailableWorkerThreads &amp;&amp;</span><br><span class=\"line\">      AvailableIOThreads == other.AvailableIOThreads</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> ASPNETThreadInfo <span class=\"title\">GetThreadInfo</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// use ThreadPool to get the current status</span></span><br><span class=\"line\">  <span class=\"keyword\">int</span> availableWorker, availableIO;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> maxWorker, maxIO;</span><br><span class=\"line\"></span><br><span class=\"line\">  ThreadPool.GetAvailableThreads( <span class=\"keyword\">out</span> availableWorker, <span class=\"keyword\">out</span> availableIO);</span><br><span class=\"line\">  ThreadPool.GetMaxThreads(<span class=\"keyword\">out</span> maxWorker, <span class=\"keyword\">out</span> maxIO);</span><br><span class=\"line\"></span><br><span class=\"line\">  ASPNETThreadInfo threadInfo;</span><br><span class=\"line\">  threadInfo.AvailableWorkerThreads = (Int16)availableWorker;</span><br><span class=\"line\">  threadInfo.AvailableIOThreads = (Int16)availableIO;</span><br><span class=\"line\">  threadInfo.MaxWorkerThreads = (Int16)maxWorker;</span><br><span class=\"line\">  threadInfo.MaxIOThreads = (Int16)maxIO;</span><br><span class=\"line\"> <span class=\"comment\">// hard code for now; could get this from  machine.config</span></span><br><span class=\"line\">  threadInfo.MinFreeThreads = <span class=\"number\">8</span>;</span><br><span class=\"line\">  threadInfo.MinLocalRequestFreeThreads = <span class=\"number\">4</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> threadInfo;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ShowPerfCounters</span>(<span class=\"params\">ASPNETThreadInfo t</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// get an instance of our Available Worker Threads counter</span></span><br><span class=\"line\">  PerformanceCounter counter1 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">  counter1.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">  counter1.CounterName = <span class=\"string\">\"Available Worker Threads\"</span>;</span><br><span class=\"line\">  counter1.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// set the value of the counter</span></span><br><span class=\"line\">  counter1.RawValue = t.AvailableWorkerThreads;</span><br><span class=\"line\">  counter1.Close();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// repeat for other counters</span></span><br><span class=\"line\"></span><br><span class=\"line\">  PerformanceCounter counter2 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">  counter2.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">  counter2.CounterName = <span class=\"string\">\"Available IO Threads\"</span>;</span><br><span class=\"line\">  counter2.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  counter2.RawValue = t.AvailableIOThreads;</span><br><span class=\"line\">  counter2.Close();</span><br><span class=\"line\"></span><br><span class=\"line\">  PerformanceCounter counter3 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">  counter3.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">  counter3.CounterName = <span class=\"string\">\"Max Worker Threads\"</span>;</span><br><span class=\"line\">  counter3.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  counter3.RawValue = t.MaxWorkerThreads;</span><br><span class=\"line\">  counter3.Close();</span><br><span class=\"line\"></span><br><span class=\"line\">  PerformanceCounter counter4 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">  counter4.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">  counter4.CounterName = <span class=\"string\">\"Max IO Threads\"</span>;</span><br><span class=\"line\">  counter4.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  counter4.RawValue = t.MaxIOThreads;</span><br><span class=\"line\">  counter4.Close();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>當你的站台重新啟動後,<br>就會定期將 Worker Thread 與  I/O Threads 的監控數值傳遞給系統。  </p>\n<h3 id=\"開啟效能計數器\"><a href=\"#開啟效能計數器\" class=\"headerlink\" title=\"開啟效能計數器\"></a>開啟效能計數器</h3><ol>\n<li>執行 <code>perfmon.exe</code> 開啟效能計數器</li>\n<li>新增效能計數器(點選綠色加符號)</li>\n<li>選取前面所建立監控記數器就能看到當前 ThreadPool 的使用狀況。<br><img src=\"https://i.imgur.com/HhlbNH2.jpg\" alt=\"開啟效能計數器\"></li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p><a href=\"/2016/11/21/aspdotnet_threadpool_and_redis/\">上一次</a>說明了 .NET Thread Pool 的機制如何影響 Redis,<br>.NET Thread Pool 的機制會貫穿任何與它互動的系統或服務,<br>所以這篇會簡單描述如何對 .NET Thread Pool <a href=\"https://msdn.microsoft.com/zh-tw/library/ff650682.aspx\" target=\"_blank\" rel=\"noopener\">建立監控</a>。</p>\n<h2 id=\"步驟\"><a href=\"#步驟\" class=\"headerlink\" title=\"步驟\"></a>步驟</h2><ol>\n<li>建立監控記數器</li>\n<li>在系統寫入監控數值</li>\n<li>開啟效能計數器</li>\n</ol>\n<h2 id=\"建立監控記數器\"><a href=\"#建立監控記數器\" class=\"headerlink\" title=\"建立監控記數器\"></a>建立監控記數器</h2><table>\n<thead>\n<tr>\n<th>記數器</th>\n<th>說明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Available Worker Threads</td>\n<td>目前在 thread-pool 可以使用的 worker threads</td>\n</tr>\n<tr>\n<td>Available IO Threads</td>\n<td>目前在 thread-pool 可以使用的 I/O threads</td>\n</tr>\n<tr>\n<td>Max Worker Threads</td>\n<td>最大可以建立的 worker threads 數量</td>\n</tr>\n<tr>\n<td>Max IO Threads</td>\n<td>最大可以建立的 I/O threads 數量</td>\n</tr>\n</tbody></table>\n<h3 id=\"建立一個-Console-應用程式\"><a href=\"#建立一個-Console-應用程式\" class=\"headerlink\" title=\"建立一個 Console 應用程式\"></a>建立一個 Console 應用程式</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Diagnostics;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">MyAspNetThreadCounters</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  [<span class=\"meta\">STAThread</span>]</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"keyword\">string</span>[] args</span>)</span></span><br><span class=\"line\"><span class=\"function\">  </span>&#123;</span><br><span class=\"line\">    CreateCounters();</span><br><span class=\"line\">    Console.WriteLine(<span class=\"string\">\"MyAspNetThreadCounters performance counter category \"</span> +</span><br><span class=\"line\">                      <span class=\"string\">\"is created. [Press Enter]\"</span>);</span><br><span class=\"line\">    Console.ReadLine();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">CreateCounters</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">  </span>&#123;</span><br><span class=\"line\">    CounterCreationDataCollection col =  </span><br><span class=\"line\">      <span class=\"keyword\">new</span> CounterCreationDataCollection();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Create custom counter objects</span></span><br><span class=\"line\">    CounterCreationData counter1 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">    counter1.CounterName = <span class=\"string\">\"Available Worker Threads\"</span>;</span><br><span class=\"line\">    counter1.CounterHelp = <span class=\"string\">\"The difference between the maximum number \"</span> +</span><br><span class=\"line\">                           <span class=\"string\">\"of thread pool worker threads and the \"</span> +</span><br><span class=\"line\">                           <span class=\"string\">\"number currently active.\"</span>;</span><br><span class=\"line\">    counter1.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">    CounterCreationData counter2 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">    counter2.CounterName = <span class=\"string\">\"Available IO Threads\"</span>;</span><br><span class=\"line\">    counter2.CounterHelp = <span class=\"string\">\"The difference between the maximum number of \"</span> +</span><br><span class=\"line\">                           <span class=\"string\">\"thread pool IO threads and the number \"</span>+</span><br><span class=\"line\">                           <span class=\"string\">\"currently active.\"</span>;</span><br><span class=\"line\">    counter2.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">    CounterCreationData counter3 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">    counter3.CounterName = <span class=\"string\">\"Max Worker Threads\"</span>;</span><br><span class=\"line\">    counter3.CounterHelp = <span class=\"string\">\"The number of requests to the thread pool \"</span>+</span><br><span class=\"line\">                           <span class=\"string\">\"that can be active concurrently. All \"</span>+  </span><br><span class=\"line\">                           <span class=\"string\">\"requests above that number remain queued until \"</span> +</span><br><span class=\"line\">                           <span class=\"string\">\"thread pool worker threads become available.\"</span>;</span><br><span class=\"line\">    counter3.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">    CounterCreationData counter4 = <span class=\"keyword\">new</span> CounterCreationData();</span><br><span class=\"line\">    counter4.CounterName = <span class=\"string\">\"Max IO Threads\"</span>;</span><br><span class=\"line\">    counter4.CounterHelp = <span class=\"string\">\"The number of requests to the thread pool \"</span> +</span><br><span class=\"line\">                           <span class=\"string\">\"that can be active concurrently. All \"</span>+  </span><br><span class=\"line\">                           <span class=\"string\">\"requests above that number remain queued until \"</span> +</span><br><span class=\"line\">                           <span class=\"string\">\"thread pool IO threads become available.\"</span>;</span><br><span class=\"line\">    counter4.CounterType = PerformanceCounterType.NumberOfItems32;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Add custom counter objects to CounterCreationDataCollection.</span></span><br><span class=\"line\">    col.Add(counter1);</span><br><span class=\"line\">    col.Add(counter2);</span><br><span class=\"line\">    col.Add(counter3);</span><br><span class=\"line\">    col.Add(counter4);</span><br><span class=\"line\">    <span class=\"comment\">// delete the category if it already exists</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(PerformanceCounterCategory.Exists(<span class=\"string\">\"MyAspNetThreadCounters\"</span>))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      PerformanceCounterCategory.Delete(<span class=\"string\">\"MyAspNetThreadCounters\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// bind the counters to the PerformanceCounterCategory</span></span><br><span class=\"line\">    PerformanceCounterCategory category =</span><br><span class=\"line\">            PerformanceCounterCategory.Create(<span class=\"string\">\"MyAspNetThreadCounters\"</span>,</span><br><span class=\"line\">                                              <span class=\"string\">\"\"</span>, col);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>編譯後並執行即可,<br>執行 <code>regedit</code> 開啟登錄編輯程式,<br>輸入機碼 <code>HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services</code><br>將可以找到剛剛建立的 <code>MyAspNetThreadCounters</code> 記數器</p>\n<h2 id=\"在系統寫入監控數值\"><a href=\"#在系統寫入監控數值\" class=\"headerlink\" title=\"在系統寫入監控數值\"></a>在系統寫入監控數值</h2><p>在站台的 <code>Global.asax</code> 加入以下的程式碼</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">bool</span> MonitorThreadPoolEnabled = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Application_Start</span>(<span class=\"params\">Object sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  Thread t = <span class=\"keyword\">new</span> Thread(<span class=\"keyword\">new</span> ThreadStart(RefreshCounters));</span><br><span class=\"line\">  t.Start();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">RefreshCounters</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (MonitorThreadPoolEnabled)</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    ASPNETThreadInfo t = GetThreadInfo();</span><br><span class=\"line\">    ShowPerfCounters(t);</span><br><span class=\"line\">    System.Threading.Thread.Sleep(<span class=\"number\">500</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">Application_End</span>(<span class=\"params\">Object sender, EventArgs e</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  MonitorThreadPoolEnabled = <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">struct</span> ASPNETThreadInfo</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> MaxWorkerThreads;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> MaxIOThreads;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> MinFreeThreads;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> MinLocalRequestFreeThreads;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> AvailableWorkerThreads;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">int</span> AvailableIOThreads;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">bool</span> <span class=\"title\">Equals</span>(<span class=\"params\">ASPNETThreadInfo other</span>)</span></span><br><span class=\"line\"><span class=\"function\">  </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      MaxWorkerThreads == other.MaxWorkerThreads &amp;&amp;</span><br><span class=\"line\">      MaxIOThreads == other.MaxIOThreads &amp;&amp;</span><br><span class=\"line\">      MinFreeThreads == other.MinFreeThreads &amp;&amp;</span><br><span class=\"line\">      MinLocalRequestFreeThreads == other.MinLocalRequestFreeThreads &amp;&amp;</span><br><span class=\"line\">      AvailableWorkerThreads == other.AvailableWorkerThreads &amp;&amp;</span><br><span class=\"line\">      AvailableIOThreads == other.AvailableIOThreads</span><br><span class=\"line\">    );</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> ASPNETThreadInfo <span class=\"title\">GetThreadInfo</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// use ThreadPool to get the current status</span></span><br><span class=\"line\">  <span class=\"keyword\">int</span> availableWorker, availableIO;</span><br><span class=\"line\">  <span class=\"keyword\">int</span> maxWorker, maxIO;</span><br><span class=\"line\"></span><br><span class=\"line\">  ThreadPool.GetAvailableThreads( <span class=\"keyword\">out</span> availableWorker, <span class=\"keyword\">out</span> availableIO);</span><br><span class=\"line\">  ThreadPool.GetMaxThreads(<span class=\"keyword\">out</span> maxWorker, <span class=\"keyword\">out</span> maxIO);</span><br><span class=\"line\"></span><br><span class=\"line\">  ASPNETThreadInfo threadInfo;</span><br><span class=\"line\">  threadInfo.AvailableWorkerThreads = (Int16)availableWorker;</span><br><span class=\"line\">  threadInfo.AvailableIOThreads = (Int16)availableIO;</span><br><span class=\"line\">  threadInfo.MaxWorkerThreads = (Int16)maxWorker;</span><br><span class=\"line\">  threadInfo.MaxIOThreads = (Int16)maxIO;</span><br><span class=\"line\"> <span class=\"comment\">// hard code for now; could get this from  machine.config</span></span><br><span class=\"line\">  threadInfo.MinFreeThreads = <span class=\"number\">8</span>;</span><br><span class=\"line\">  threadInfo.MinLocalRequestFreeThreads = <span class=\"number\">4</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> threadInfo;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ShowPerfCounters</span>(<span class=\"params\">ASPNETThreadInfo t</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// get an instance of our Available Worker Threads counter</span></span><br><span class=\"line\">  PerformanceCounter counter1 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">  counter1.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">  counter1.CounterName = <span class=\"string\">\"Available Worker Threads\"</span>;</span><br><span class=\"line\">  counter1.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// set the value of the counter</span></span><br><span class=\"line\">  counter1.RawValue = t.AvailableWorkerThreads;</span><br><span class=\"line\">  counter1.Close();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// repeat for other counters</span></span><br><span class=\"line\"></span><br><span class=\"line\">  PerformanceCounter counter2 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">  counter2.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">  counter2.CounterName = <span class=\"string\">\"Available IO Threads\"</span>;</span><br><span class=\"line\">  counter2.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  counter2.RawValue = t.AvailableIOThreads;</span><br><span class=\"line\">  counter2.Close();</span><br><span class=\"line\"></span><br><span class=\"line\">  PerformanceCounter counter3 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">  counter3.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">  counter3.CounterName = <span class=\"string\">\"Max Worker Threads\"</span>;</span><br><span class=\"line\">  counter3.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  counter3.RawValue = t.MaxWorkerThreads;</span><br><span class=\"line\">  counter3.Close();</span><br><span class=\"line\"></span><br><span class=\"line\">  PerformanceCounter counter4 = <span class=\"keyword\">new</span> PerformanceCounter();</span><br><span class=\"line\">  counter4.CategoryName = <span class=\"string\">\"MyAspNetThreadCounters\"</span>;</span><br><span class=\"line\">  counter4.CounterName = <span class=\"string\">\"Max IO Threads\"</span>;</span><br><span class=\"line\">  counter4.ReadOnly = <span class=\"literal\">false</span>;</span><br><span class=\"line\">  counter4.RawValue = t.MaxIOThreads;</span><br><span class=\"line\">  counter4.Close();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>當你的站台重新啟動後,<br>就會定期將 Worker Thread 與  I/O Threads 的監控數值傳遞給系統。  </p>\n<h3 id=\"開啟效能計數器\"><a href=\"#開啟效能計數器\" class=\"headerlink\" title=\"開啟效能計數器\"></a>開啟效能計數器</h3><ol>\n<li>執行 <code>perfmon.exe</code> 開啟效能計數器</li>\n<li>新增效能計數器(點選綠色加符號)</li>\n<li>選取前面所建立監控記數器就能看到當前 ThreadPool 的使用狀況。<br><img src=\"https://i.imgur.com/HhlbNH2.jpg\" alt=\"開啟效能計數器\"></li>\n</ol>\n<p>(fin)</p>\n"},{"title":"[KATA]用typescript作一個簡易的todolist(二) - 用JQuery實作","date":"2016-10-14T02:34:27.000Z","_content":"## 設計理念\n1. 顯示/新增/刪除 todolist \n2. todolist 會是一堆todoItem的集合,所以要定義todoItem的形別\n    - Content : todoItem 的內容\n    - Status : todoItem 的狀態,完成(done)、未完成(undo) ,設計成列舉\n3. 主要的功能\n    -  建立todoItem\n    -  完成todoItem\n    -  繪製todoList到前端的畫面上\n\n## 自我分析\n跟 UI 耦合太高,Render 應該與 TodoService 分離 ,\nDOM 註冊事件相依在 Service 裡面要抽離也不好抽 。\n沒有先寫測試 , 要想一想怎麼與 UI 層作隔離。\n\n\n\n## 程式碼\n\n  \n\n### 建立 BaseService\n\n```typescript\n    class BaseService<T>{\n        constructor(private type: string) {}\n        \n        List:Array<T> ;\n\n        Create(data: T) {\n            this.List.push(data);\n        }\n\n        Delete(data: T){\n            var index = this.List.indexOf(data);\n            this.List.splice(index,1) ;\n        }\n\n        Render(){\n\n        }\n    }\n\n```\n\n### 建立 todoItem interface\n\n```typescript\ninterface todoItem {\n    Content: string;\n    Status: todoStatus;\n}\n\n```\n\n### 建立 todoItem Status 列舉\n\n```typescript\nenum todoStatus{\n    undo,\n    done,    \n}\n\n```\n\n### 建立 TodoService\n\n```typescript\nclass TodoService extends BaseService<todoItem>{\n    constructor(){\n        super(\"todoItem\");        \n    }\n\n    public Render() : void {\n        let doneHtml = '';\n        let undoHtml = '';\n        \n        this.List.forEach((item)=>{\n            if(item.Status == todoStatus.done){\n                doneHtml += `<li>${item.Content}<button class=\"recover-item btn btn-default btn-xs pull-right\"><span class=\"glyphicon glyphicon-share-alt\"></span></button><button class=\"remove-item btn btn-default btn-xs pull-right\"><span class=\"glyphicon glyphicon-remove\"></span></button></li>`;\n            } else if (item.Status == todoStatus.undo){\n                undoHtml += `<li class=\"ui-state-default\"><div class=\"checkbox\"><label><input type=\"checkbox\" value=\"\" />${item.Content}</label></div></li>` ;\n            }\n        });\n        $(\"#done-items\").html(doneHtml);\n        $('#sortable').html(undoHtml);\n        $('.add-todo').val('');\n    }\n\n    Delete(data: todoItem){\n        data.Status = todoStatus.done ;\n    }\n\n\n\n    Init(){\n        //// todoList in localStorage         \n        var list = window.localStorage.getItem(\"todoList\");        \n        if(!list){\n            this.List = new Array<todoItem>();\n        }else{\n            this.List = JSON.parse(list);\n        }\n        window.onbeforeunload = (evt) => {\n            window.localStorage.setItem(\"todoList\",JSON.stringify(this.List));\n        };\n\n        // mark task as done\n        $('.todolist').on('change','#sortable li input[type=\"checkbox\"]',(evt)=>{\n            var self = evt.target;\n            var text = $(self).parent().text();\n            if($(self).prop('checked')){\n                var doneItem = this.List.filter((i)=>{return text == i.Content;})[0];\n                this.Delete(doneItem);\n                this.Render();\n            }\n        });\n\n        $('.add-todo').on('keypress',(evt) => {\n            evt.preventDefault\n            if (evt.which == 13) {\n                if($(evt.target).val() != ''){\n                    var todo = $(evt.target).val();\n                    this.Create(  {\n                        Content : $(evt.target).val() ,\n                        Status : todoStatus.undo \n                    });\n                    this.Render();                 \n                }else{\n                    // some validation\n                }\n            }\n        });\n        \n        $('.todolist').on('click', '#done-items li button.recover-item',(evt)=>{\n            var text = $(evt.target).parent().parent().text();\n            var recoverItem = this.List.filter((i)=>{return text == i.Content;})[0];\n            recoverItem.Status = todoStatus.undo ;\n            this.Render();\n        });\n\n        $('.todolist').on('click','#done-items li button.remove-item' ,(evt)=>{\n            var text = $(evt.target).parent().parent().text();\n            var removeItem = this.List.filter((i)=>{return text == i.Content;})[0];\n            var index = this.List.indexOf(removeItem);\n            this.List.splice(index,1) ;\n            this.Render();\n        });\n\n        $('#checkAll').on('click',(evt)=>{\n            this.List.forEach((item)=>{\n                item.Status = todoStatus.done;\n            });\n            this.Render();\n        });\n\n        //// Render\n        this.Render();\n    }\n}\n\n```\n\n### 使用建立好的 TodoService\n\n```typescript\nvar todoService = new TodoService();\ntodoService.Init();\n \n```\n\n(fin)","source":"_posts/2016/todolist_by_typescript_2.md","raw":"---\ntitle: '[KATA]用typescript作一個簡易的todolist(二) - 用JQuery實作'\ndate: 2016/10/14 10:34:27\ntag: \n- TypeScript\n- BootStrap\n- NPM\n- JQuery\n---\n## 設計理念\n1. 顯示/新增/刪除 todolist \n2. todolist 會是一堆todoItem的集合,所以要定義todoItem的形別\n    - Content : todoItem 的內容\n    - Status : todoItem 的狀態,完成(done)、未完成(undo) ,設計成列舉\n3. 主要的功能\n    -  建立todoItem\n    -  完成todoItem\n    -  繪製todoList到前端的畫面上\n\n## 自我分析\n跟 UI 耦合太高,Render 應該與 TodoService 分離 ,\nDOM 註冊事件相依在 Service 裡面要抽離也不好抽 。\n沒有先寫測試 , 要想一想怎麼與 UI 層作隔離。\n\n\n\n## 程式碼\n\n  \n\n### 建立 BaseService\n\n```typescript\n    class BaseService<T>{\n        constructor(private type: string) {}\n        \n        List:Array<T> ;\n\n        Create(data: T) {\n            this.List.push(data);\n        }\n\n        Delete(data: T){\n            var index = this.List.indexOf(data);\n            this.List.splice(index,1) ;\n        }\n\n        Render(){\n\n        }\n    }\n\n```\n\n### 建立 todoItem interface\n\n```typescript\ninterface todoItem {\n    Content: string;\n    Status: todoStatus;\n}\n\n```\n\n### 建立 todoItem Status 列舉\n\n```typescript\nenum todoStatus{\n    undo,\n    done,    \n}\n\n```\n\n### 建立 TodoService\n\n```typescript\nclass TodoService extends BaseService<todoItem>{\n    constructor(){\n        super(\"todoItem\");        \n    }\n\n    public Render() : void {\n        let doneHtml = '';\n        let undoHtml = '';\n        \n        this.List.forEach((item)=>{\n            if(item.Status == todoStatus.done){\n                doneHtml += `<li>${item.Content}<button class=\"recover-item btn btn-default btn-xs pull-right\"><span class=\"glyphicon glyphicon-share-alt\"></span></button><button class=\"remove-item btn btn-default btn-xs pull-right\"><span class=\"glyphicon glyphicon-remove\"></span></button></li>`;\n            } else if (item.Status == todoStatus.undo){\n                undoHtml += `<li class=\"ui-state-default\"><div class=\"checkbox\"><label><input type=\"checkbox\" value=\"\" />${item.Content}</label></div></li>` ;\n            }\n        });\n        $(\"#done-items\").html(doneHtml);\n        $('#sortable').html(undoHtml);\n        $('.add-todo').val('');\n    }\n\n    Delete(data: todoItem){\n        data.Status = todoStatus.done ;\n    }\n\n\n\n    Init(){\n        //// todoList in localStorage         \n        var list = window.localStorage.getItem(\"todoList\");        \n        if(!list){\n            this.List = new Array<todoItem>();\n        }else{\n            this.List = JSON.parse(list);\n        }\n        window.onbeforeunload = (evt) => {\n            window.localStorage.setItem(\"todoList\",JSON.stringify(this.List));\n        };\n\n        // mark task as done\n        $('.todolist').on('change','#sortable li input[type=\"checkbox\"]',(evt)=>{\n            var self = evt.target;\n            var text = $(self).parent().text();\n            if($(self).prop('checked')){\n                var doneItem = this.List.filter((i)=>{return text == i.Content;})[0];\n                this.Delete(doneItem);\n                this.Render();\n            }\n        });\n\n        $('.add-todo').on('keypress',(evt) => {\n            evt.preventDefault\n            if (evt.which == 13) {\n                if($(evt.target).val() != ''){\n                    var todo = $(evt.target).val();\n                    this.Create(  {\n                        Content : $(evt.target).val() ,\n                        Status : todoStatus.undo \n                    });\n                    this.Render();                 \n                }else{\n                    // some validation\n                }\n            }\n        });\n        \n        $('.todolist').on('click', '#done-items li button.recover-item',(evt)=>{\n            var text = $(evt.target).parent().parent().text();\n            var recoverItem = this.List.filter((i)=>{return text == i.Content;})[0];\n            recoverItem.Status = todoStatus.undo ;\n            this.Render();\n        });\n\n        $('.todolist').on('click','#done-items li button.remove-item' ,(evt)=>{\n            var text = $(evt.target).parent().parent().text();\n            var removeItem = this.List.filter((i)=>{return text == i.Content;})[0];\n            var index = this.List.indexOf(removeItem);\n            this.List.splice(index,1) ;\n            this.Render();\n        });\n\n        $('#checkAll').on('click',(evt)=>{\n            this.List.forEach((item)=>{\n                item.Status = todoStatus.done;\n            });\n            this.Render();\n        });\n\n        //// Render\n        this.Render();\n    }\n}\n\n```\n\n### 使用建立好的 TodoService\n\n```typescript\nvar todoService = new TodoService();\ntodoService.Init();\n \n```\n\n(fin)","slug":"2016/todolist_by_typescript_2","published":1,"updated":"2019-06-10T14:43:28.875Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wjw0010b0vx921w5kjy","content":"<h2 id=\"設計理念\"><a href=\"#設計理念\" class=\"headerlink\" title=\"設計理念\"></a>設計理念</h2><ol>\n<li>顯示/新增/刪除 todolist </li>\n<li>todolist 會是一堆todoItem的集合,所以要定義todoItem的形別<ul>\n<li>Content : todoItem 的內容</li>\n<li>Status : todoItem 的狀態,完成(done)、未完成(undo) ,設計成列舉</li>\n</ul>\n</li>\n<li>主要的功能<ul>\n<li>建立todoItem</li>\n<li>完成todoItem</li>\n<li>繪製todoList到前端的畫面上</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"自我分析\"><a href=\"#自我分析\" class=\"headerlink\" title=\"自我分析\"></a>自我分析</h2><p>跟 UI 耦合太高,Render 應該與 TodoService 分離 ,<br>DOM 註冊事件相依在 Service 裡面要抽離也不好抽 。<br>沒有先寫測試 , 要想一想怎麼與 UI 層作隔離。</p>\n<h2 id=\"程式碼\"><a href=\"#程式碼\" class=\"headerlink\" title=\"程式碼\"></a>程式碼</h2><h3 id=\"建立-BaseService\"><a href=\"#建立-BaseService\" class=\"headerlink\" title=\"建立 BaseService\"></a>建立 BaseService</h3><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> BaseService&lt;T&gt;&#123;</span><br><span class=\"line\">    <span class=\"keyword\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> <span class=\"keyword\">type</span>: <span class=\"built_in\">string</span></span>) &#123;&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    List:<span class=\"built_in\">Array</span>&lt;T&gt; ;</span><br><span class=\"line\"></span><br><span class=\"line\">    Create(data: T) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.List.push(data);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    Delete(data: T)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> index = <span class=\"keyword\">this</span>.List.indexOf(data);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.List.splice(index,<span class=\"number\">1</span>) ;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    Render()&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"建立-todoItem-interface\"><a href=\"#建立-todoItem-interface\" class=\"headerlink\" title=\"建立 todoItem interface\"></a>建立 todoItem interface</h3><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">interface</span> todoItem &#123;</span><br><span class=\"line\">    Content: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">    Status: todoStatus;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"建立-todoItem-Status-列舉\"><a href=\"#建立-todoItem-Status-列舉\" class=\"headerlink\" title=\"建立 todoItem Status 列舉\"></a>建立 todoItem Status 列舉</h3><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">enum</span> todoStatus&#123;</span><br><span class=\"line\">    undo,</span><br><span class=\"line\">    done,    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"建立-TodoService\"><a href=\"#建立-TodoService\" class=\"headerlink\" title=\"建立 TodoService\"></a>建立 TodoService</h3><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> TodoService <span class=\"keyword\">extends</span> BaseService&lt;todoItem&gt;&#123;</span><br><span class=\"line\">    <span class=\"keyword\">constructor</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>(<span class=\"string\">\"todoItem\"</span>);        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Render() : <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> doneHtml = <span class=\"string\">''</span>;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> undoHtml = <span class=\"string\">''</span>;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">this</span>.List.forEach(<span class=\"function\">(<span class=\"params\">item</span>)=&gt;</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(item.Status == todoStatus.done)&#123;</span><br><span class=\"line\">                doneHtml += <span class=\"string\">`&lt;li&gt;<span class=\"subst\">$&#123;item.Content&#125;</span>&lt;button class=\"recover-item btn btn-default btn-xs pull-right\"&gt;&lt;span class=\"glyphicon glyphicon-share-alt\"&gt;&lt;/span&gt;&lt;/button&gt;&lt;button class=\"remove-item btn btn-default btn-xs pull-right\"&gt;&lt;span class=\"glyphicon glyphicon-remove\"&gt;&lt;/span&gt;&lt;/button&gt;&lt;/li&gt;`</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (item.Status == todoStatus.undo)&#123;</span><br><span class=\"line\">                undoHtml += <span class=\"string\">`&lt;li class=\"ui-state-default\"&gt;&lt;div class=\"checkbox\"&gt;&lt;label&gt;&lt;input type=\"checkbox\" value=\"\" /&gt;<span class=\"subst\">$&#123;item.Content&#125;</span>&lt;/label&gt;&lt;/div&gt;&lt;/li&gt;`</span> ;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        $(<span class=\"string\">\"#done-items\"</span>).html(doneHtml);</span><br><span class=\"line\">        $(<span class=\"string\">'#sortable'</span>).html(undoHtml);</span><br><span class=\"line\">        $(<span class=\"string\">'.add-todo'</span>).val(<span class=\"string\">''</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    Delete(data: todoItem)&#123;</span><br><span class=\"line\">        data.Status = todoStatus.done ;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    Init()&#123;</span><br><span class=\"line\">        <span class=\"comment\">//// todoList in localStorage         </span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> list = <span class=\"built_in\">window</span>.localStorage.getItem(<span class=\"string\">\"todoList\"</span>);        </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!list)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.List = <span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>&lt;todoItem&gt;();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.List = <span class=\"built_in\">JSON</span>.parse(list);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">window</span>.onbeforeunload = <span class=\"function\">(<span class=\"params\">evt</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"built_in\">window</span>.localStorage.setItem(<span class=\"string\">\"todoList\"</span>,<span class=\"built_in\">JSON</span>.stringify(<span class=\"keyword\">this</span>.List));</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// mark task as done</span></span><br><span class=\"line\">        $(<span class=\"string\">'.todolist'</span>).on(<span class=\"string\">'change'</span>,<span class=\"string\">'#sortable li input[type=\"checkbox\"]'</span>,<span class=\"function\">(<span class=\"params\">evt</span>)=&gt;</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> self = evt.target;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> text = $(self).parent().text();</span><br><span class=\"line\">            <span class=\"keyword\">if</span>($(self).prop(<span class=\"string\">'checked'</span>))&#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> doneItem = <span class=\"keyword\">this</span>.List.filter(<span class=\"function\">(<span class=\"params\">i</span>)=&gt;</span>&#123;<span class=\"keyword\">return</span> text == i.Content;&#125;)[<span class=\"number\">0</span>];</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.Delete(doneItem);</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.Render();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        $(<span class=\"string\">'.add-todo'</span>).on(<span class=\"string\">'keypress'</span>,<span class=\"function\">(<span class=\"params\">evt</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            evt.preventDefault</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (evt.which == <span class=\"number\">13</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>($(evt.target).val() != <span class=\"string\">''</span>)&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> todo = $(evt.target).val();</span><br><span class=\"line\">                    <span class=\"keyword\">this</span>.Create(  &#123;</span><br><span class=\"line\">                        Content : $(evt.target).val() ,</span><br><span class=\"line\">                        Status : todoStatus.undo </span><br><span class=\"line\">                    &#125;);</span><br><span class=\"line\">                    <span class=\"keyword\">this</span>.Render();                 </span><br><span class=\"line\">                &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                    <span class=\"comment\">// some validation</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        </span><br><span class=\"line\">        $(<span class=\"string\">'.todolist'</span>).on(<span class=\"string\">'click'</span>, <span class=\"string\">'#done-items li button.recover-item'</span>,<span class=\"function\">(<span class=\"params\">evt</span>)=&gt;</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> text = $(evt.target).parent().parent().text();</span><br><span class=\"line\">            <span class=\"keyword\">var</span> recoverItem = <span class=\"keyword\">this</span>.List.filter(<span class=\"function\">(<span class=\"params\">i</span>)=&gt;</span>&#123;<span class=\"keyword\">return</span> text == i.Content;&#125;)[<span class=\"number\">0</span>];</span><br><span class=\"line\">            recoverItem.Status = todoStatus.undo ;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.Render();</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        $(<span class=\"string\">'.todolist'</span>).on(<span class=\"string\">'click'</span>,<span class=\"string\">'#done-items li button.remove-item'</span> ,<span class=\"function\">(<span class=\"params\">evt</span>)=&gt;</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> text = $(evt.target).parent().parent().text();</span><br><span class=\"line\">            <span class=\"keyword\">var</span> removeItem = <span class=\"keyword\">this</span>.List.filter(<span class=\"function\">(<span class=\"params\">i</span>)=&gt;</span>&#123;<span class=\"keyword\">return</span> text == i.Content;&#125;)[<span class=\"number\">0</span>];</span><br><span class=\"line\">            <span class=\"keyword\">var</span> index = <span class=\"keyword\">this</span>.List.indexOf(removeItem);</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.List.splice(index,<span class=\"number\">1</span>) ;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.Render();</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        $(<span class=\"string\">'#checkAll'</span>).on(<span class=\"string\">'click'</span>,<span class=\"function\">(<span class=\"params\">evt</span>)=&gt;</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.List.forEach(<span class=\"function\">(<span class=\"params\">item</span>)=&gt;</span>&#123;</span><br><span class=\"line\">                item.Status = todoStatus.done;</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.Render();</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//// Render</span></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.Render();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"使用建立好的-TodoService\"><a href=\"#使用建立好的-TodoService\" class=\"headerlink\" title=\"使用建立好的 TodoService\"></a>使用建立好的 TodoService</h3><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> todoService = <span class=\"keyword\">new</span> TodoService();</span><br><span class=\"line\">todoService.Init();</span><br></pre></td></tr></table></figure>\n\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"設計理念\"><a href=\"#設計理念\" class=\"headerlink\" title=\"設計理念\"></a>設計理念</h2><ol>\n<li>顯示/新增/刪除 todolist </li>\n<li>todolist 會是一堆todoItem的集合,所以要定義todoItem的形別<ul>\n<li>Content : todoItem 的內容</li>\n<li>Status : todoItem 的狀態,完成(done)、未完成(undo) ,設計成列舉</li>\n</ul>\n</li>\n<li>主要的功能<ul>\n<li>建立todoItem</li>\n<li>完成todoItem</li>\n<li>繪製todoList到前端的畫面上</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"自我分析\"><a href=\"#自我分析\" class=\"headerlink\" title=\"自我分析\"></a>自我分析</h2><p>跟 UI 耦合太高,Render 應該與 TodoService 分離 ,<br>DOM 註冊事件相依在 Service 裡面要抽離也不好抽 。<br>沒有先寫測試 , 要想一想怎麼與 UI 層作隔離。</p>\n<h2 id=\"程式碼\"><a href=\"#程式碼\" class=\"headerlink\" title=\"程式碼\"></a>程式碼</h2><h3 id=\"建立-BaseService\"><a href=\"#建立-BaseService\" class=\"headerlink\" title=\"建立 BaseService\"></a>建立 BaseService</h3><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> BaseService&lt;T&gt;&#123;</span><br><span class=\"line\">    <span class=\"keyword\">constructor</span>(<span class=\"params\"><span class=\"keyword\">private</span> <span class=\"keyword\">type</span>: <span class=\"built_in\">string</span></span>) &#123;&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    List:<span class=\"built_in\">Array</span>&lt;T&gt; ;</span><br><span class=\"line\"></span><br><span class=\"line\">    Create(data: T) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.List.push(data);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    Delete(data: T)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> index = <span class=\"keyword\">this</span>.List.indexOf(data);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.List.splice(index,<span class=\"number\">1</span>) ;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    Render()&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"建立-todoItem-interface\"><a href=\"#建立-todoItem-interface\" class=\"headerlink\" title=\"建立 todoItem interface\"></a>建立 todoItem interface</h3><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">interface</span> todoItem &#123;</span><br><span class=\"line\">    Content: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">    Status: todoStatus;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"建立-todoItem-Status-列舉\"><a href=\"#建立-todoItem-Status-列舉\" class=\"headerlink\" title=\"建立 todoItem Status 列舉\"></a>建立 todoItem Status 列舉</h3><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">enum</span> todoStatus&#123;</span><br><span class=\"line\">    undo,</span><br><span class=\"line\">    done,    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"建立-TodoService\"><a href=\"#建立-TodoService\" class=\"headerlink\" title=\"建立 TodoService\"></a>建立 TodoService</h3><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> TodoService <span class=\"keyword\">extends</span> BaseService&lt;todoItem&gt;&#123;</span><br><span class=\"line\">    <span class=\"keyword\">constructor</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>(<span class=\"string\">\"todoItem\"</span>);        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Render() : <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> doneHtml = <span class=\"string\">''</span>;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> undoHtml = <span class=\"string\">''</span>;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">this</span>.List.forEach(<span class=\"function\">(<span class=\"params\">item</span>)=&gt;</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(item.Status == todoStatus.done)&#123;</span><br><span class=\"line\">                doneHtml += <span class=\"string\">`&lt;li&gt;<span class=\"subst\">$&#123;item.Content&#125;</span>&lt;button class=\"recover-item btn btn-default btn-xs pull-right\"&gt;&lt;span class=\"glyphicon glyphicon-share-alt\"&gt;&lt;/span&gt;&lt;/button&gt;&lt;button class=\"remove-item btn btn-default btn-xs pull-right\"&gt;&lt;span class=\"glyphicon glyphicon-remove\"&gt;&lt;/span&gt;&lt;/button&gt;&lt;/li&gt;`</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (item.Status == todoStatus.undo)&#123;</span><br><span class=\"line\">                undoHtml += <span class=\"string\">`&lt;li class=\"ui-state-default\"&gt;&lt;div class=\"checkbox\"&gt;&lt;label&gt;&lt;input type=\"checkbox\" value=\"\" /&gt;<span class=\"subst\">$&#123;item.Content&#125;</span>&lt;/label&gt;&lt;/div&gt;&lt;/li&gt;`</span> ;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        $(<span class=\"string\">\"#done-items\"</span>).html(doneHtml);</span><br><span class=\"line\">        $(<span class=\"string\">'#sortable'</span>).html(undoHtml);</span><br><span class=\"line\">        $(<span class=\"string\">'.add-todo'</span>).val(<span class=\"string\">''</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    Delete(data: todoItem)&#123;</span><br><span class=\"line\">        data.Status = todoStatus.done ;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    Init()&#123;</span><br><span class=\"line\">        <span class=\"comment\">//// todoList in localStorage         </span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> list = <span class=\"built_in\">window</span>.localStorage.getItem(<span class=\"string\">\"todoList\"</span>);        </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!list)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.List = <span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>&lt;todoItem&gt;();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.List = <span class=\"built_in\">JSON</span>.parse(list);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">window</span>.onbeforeunload = <span class=\"function\">(<span class=\"params\">evt</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"built_in\">window</span>.localStorage.setItem(<span class=\"string\">\"todoList\"</span>,<span class=\"built_in\">JSON</span>.stringify(<span class=\"keyword\">this</span>.List));</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// mark task as done</span></span><br><span class=\"line\">        $(<span class=\"string\">'.todolist'</span>).on(<span class=\"string\">'change'</span>,<span class=\"string\">'#sortable li input[type=\"checkbox\"]'</span>,<span class=\"function\">(<span class=\"params\">evt</span>)=&gt;</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> self = evt.target;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> text = $(self).parent().text();</span><br><span class=\"line\">            <span class=\"keyword\">if</span>($(self).prop(<span class=\"string\">'checked'</span>))&#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> doneItem = <span class=\"keyword\">this</span>.List.filter(<span class=\"function\">(<span class=\"params\">i</span>)=&gt;</span>&#123;<span class=\"keyword\">return</span> text == i.Content;&#125;)[<span class=\"number\">0</span>];</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.Delete(doneItem);</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.Render();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        $(<span class=\"string\">'.add-todo'</span>).on(<span class=\"string\">'keypress'</span>,<span class=\"function\">(<span class=\"params\">evt</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            evt.preventDefault</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (evt.which == <span class=\"number\">13</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>($(evt.target).val() != <span class=\"string\">''</span>)&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> todo = $(evt.target).val();</span><br><span class=\"line\">                    <span class=\"keyword\">this</span>.Create(  &#123;</span><br><span class=\"line\">                        Content : $(evt.target).val() ,</span><br><span class=\"line\">                        Status : todoStatus.undo </span><br><span class=\"line\">                    &#125;);</span><br><span class=\"line\">                    <span class=\"keyword\">this</span>.Render();                 </span><br><span class=\"line\">                &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                    <span class=\"comment\">// some validation</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        </span><br><span class=\"line\">        $(<span class=\"string\">'.todolist'</span>).on(<span class=\"string\">'click'</span>, <span class=\"string\">'#done-items li button.recover-item'</span>,<span class=\"function\">(<span class=\"params\">evt</span>)=&gt;</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> text = $(evt.target).parent().parent().text();</span><br><span class=\"line\">            <span class=\"keyword\">var</span> recoverItem = <span class=\"keyword\">this</span>.List.filter(<span class=\"function\">(<span class=\"params\">i</span>)=&gt;</span>&#123;<span class=\"keyword\">return</span> text == i.Content;&#125;)[<span class=\"number\">0</span>];</span><br><span class=\"line\">            recoverItem.Status = todoStatus.undo ;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.Render();</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        $(<span class=\"string\">'.todolist'</span>).on(<span class=\"string\">'click'</span>,<span class=\"string\">'#done-items li button.remove-item'</span> ,<span class=\"function\">(<span class=\"params\">evt</span>)=&gt;</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> text = $(evt.target).parent().parent().text();</span><br><span class=\"line\">            <span class=\"keyword\">var</span> removeItem = <span class=\"keyword\">this</span>.List.filter(<span class=\"function\">(<span class=\"params\">i</span>)=&gt;</span>&#123;<span class=\"keyword\">return</span> text == i.Content;&#125;)[<span class=\"number\">0</span>];</span><br><span class=\"line\">            <span class=\"keyword\">var</span> index = <span class=\"keyword\">this</span>.List.indexOf(removeItem);</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.List.splice(index,<span class=\"number\">1</span>) ;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.Render();</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        $(<span class=\"string\">'#checkAll'</span>).on(<span class=\"string\">'click'</span>,<span class=\"function\">(<span class=\"params\">evt</span>)=&gt;</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.List.forEach(<span class=\"function\">(<span class=\"params\">item</span>)=&gt;</span>&#123;</span><br><span class=\"line\">                item.Status = todoStatus.done;</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            <span class=\"keyword\">this</span>.Render();</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//// Render</span></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.Render();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"使用建立好的-TodoService\"><a href=\"#使用建立好的-TodoService\" class=\"headerlink\" title=\"使用建立好的 TodoService\"></a>使用建立好的 TodoService</h3><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> todoService = <span class=\"keyword\">new</span> TodoService();</span><br><span class=\"line\">todoService.Init();</span><br></pre></td></tr></table></figure>\n\n<p>(fin)</p>\n"},{"title":"CI/CD 環境建置筆記 - 前言<目的>","date":"2017-01-15T13:54:00.000Z","_content":"\n## 現有架構\n![](https://i.imgur.com/QLzPTrp.jpg)\n### 版本控制\n1. Github\n2. Openshift\nOpenshift 是實際線上服務所在,也可以稱作是我的產品(Product),\nGithub 則是單純的負責版本控制。\n### 開發流程\n作為獨立開發的專案,這個網站只是我很單純的自我介紹、練習(KATA)、學習與分享的集散地。\n原本的開發流程很單純,如上圖。完成的CODE同步到 GITHUB 後也同步上 Openshift ,\n這樣的流程雖然簡單,但是每次都要人工執行,因為其執行順序,其實都隱含著風險,\n例如:上錯版本或是產品未進版控等等…,\n而當進一步想要執行建置、編譯 、套件管理、測試、分析與產生報表時,\n產品與源碼將會產生差異(ex:產品會包含壓縮的檔案而源碼則是未壓縮的檔案)\n\n\n#### 缺點:\n1. 在這樣的架構上容易不小心發佈還在開發中的功能。\n2. Prod的來源就是程式碼,無法確保與版控一致,如此就喪失版控的用意。\n3. 難以擴展其他功能,如:建置、編譯 、套件管理、測試、分析與產生報表\n\n#### 目標:\n![](https://i.imgur.com/dHYRJKr.jpg)\n如圖所示, \n第一步 Jenkins要將原始碼自Github pull下來\n第二到第N步 Jenkins要執行建置、測試、coding style的檢查、壓縮…等等。\n最後一步 Jenkins 將會將程式碼發佈到Openshift 上面。\n中間的步驟先跳過,之後再一一補上。\n所以第一目標很簡單,\n從Github Pull再Push到Openshift。\n","source":"_posts/2017/ci_use_jenkins.md","raw":"---\ntitle: CI/CD 環境建置筆記 - 前言<目的>\ndate: 2017/01/15 21:54:00\ntag:\n  - CI/CD\n  - Jenkins\n---\n\n## 現有架構\n![](https://i.imgur.com/QLzPTrp.jpg)\n### 版本控制\n1. Github\n2. Openshift\nOpenshift 是實際線上服務所在,也可以稱作是我的產品(Product),\nGithub 則是單純的負責版本控制。\n### 開發流程\n作為獨立開發的專案,這個網站只是我很單純的自我介紹、練習(KATA)、學習與分享的集散地。\n原本的開發流程很單純,如上圖。完成的CODE同步到 GITHUB 後也同步上 Openshift ,\n這樣的流程雖然簡單,但是每次都要人工執行,因為其執行順序,其實都隱含著風險,\n例如:上錯版本或是產品未進版控等等…,\n而當進一步想要執行建置、編譯 、套件管理、測試、分析與產生報表時,\n產品與源碼將會產生差異(ex:產品會包含壓縮的檔案而源碼則是未壓縮的檔案)\n\n\n#### 缺點:\n1. 在這樣的架構上容易不小心發佈還在開發中的功能。\n2. Prod的來源就是程式碼,無法確保與版控一致,如此就喪失版控的用意。\n3. 難以擴展其他功能,如:建置、編譯 、套件管理、測試、分析與產生報表\n\n#### 目標:\n![](https://i.imgur.com/dHYRJKr.jpg)\n如圖所示, \n第一步 Jenkins要將原始碼自Github pull下來\n第二到第N步 Jenkins要執行建置、測試、coding style的檢查、壓縮…等等。\n最後一步 Jenkins 將會將程式碼發佈到Openshift 上面。\n中間的步驟先跳過,之後再一一補上。\n所以第一目標很簡單,\n從Github Pull再Push到Openshift。\n","slug":"2017/ci_use_jenkins","published":1,"updated":"2019-06-10T14:43:28.884Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wjx0011b0vxyh7xx5l1","content":"<h2 id=\"現有架構\"><a href=\"#現有架構\" class=\"headerlink\" title=\"現有架構\"></a>現有架構</h2><p><img src=\"https://i.imgur.com/QLzPTrp.jpg\" alt></p>\n<h3 id=\"版本控制\"><a href=\"#版本控制\" class=\"headerlink\" title=\"版本控制\"></a>版本控制</h3><ol>\n<li>Github</li>\n<li>Openshift<br>Openshift 是實際線上服務所在,也可以稱作是我的產品(Product),<br>Github 則是單純的負責版本控制。<h3 id=\"開發流程\"><a href=\"#開發流程\" class=\"headerlink\" title=\"開發流程\"></a>開發流程</h3>作為獨立開發的專案,這個網站只是我很單純的自我介紹、練習(KATA)、學習與分享的集散地。<br>原本的開發流程很單純,如上圖。完成的CODE同步到 GITHUB 後也同步上 Openshift ,<br>這樣的流程雖然簡單,但是每次都要人工執行,因為其執行順序,其實都隱含著風險,<br>例如:上錯版本或是產品未進版控等等…,<br>而當進一步想要執行建置、編譯 、套件管理、測試、分析與產生報表時,<br>產品與源碼將會產生差異(ex:產品會包含壓縮的檔案而源碼則是未壓縮的檔案)</li>\n</ol>\n<h4 id=\"缺點\"><a href=\"#缺點\" class=\"headerlink\" title=\"缺點:\"></a>缺點:</h4><ol>\n<li>在這樣的架構上容易不小心發佈還在開發中的功能。</li>\n<li>Prod的來源就是程式碼,無法確保與版控一致,如此就喪失版控的用意。</li>\n<li>難以擴展其他功能,如:建置、編譯 、套件管理、測試、分析與產生報表</li>\n</ol>\n<h4 id=\"目標\"><a href=\"#目標\" class=\"headerlink\" title=\"目標:\"></a>目標:</h4><p><img src=\"https://i.imgur.com/dHYRJKr.jpg\" alt><br>如圖所示,<br>第一步 Jenkins要將原始碼自Github pull下來<br>第二到第N步 Jenkins要執行建置、測試、coding style的檢查、壓縮…等等。<br>最後一步 Jenkins 將會將程式碼發佈到Openshift 上面。<br>中間的步驟先跳過,之後再一一補上。<br>所以第一目標很簡單,<br>從Github Pull再Push到Openshift。</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"現有架構\"><a href=\"#現有架構\" class=\"headerlink\" title=\"現有架構\"></a>現有架構</h2><p><img src=\"https://i.imgur.com/QLzPTrp.jpg\" alt></p>\n<h3 id=\"版本控制\"><a href=\"#版本控制\" class=\"headerlink\" title=\"版本控制\"></a>版本控制</h3><ol>\n<li>Github</li>\n<li>Openshift<br>Openshift 是實際線上服務所在,也可以稱作是我的產品(Product),<br>Github 則是單純的負責版本控制。<h3 id=\"開發流程\"><a href=\"#開發流程\" class=\"headerlink\" title=\"開發流程\"></a>開發流程</h3>作為獨立開發的專案,這個網站只是我很單純的自我介紹、練習(KATA)、學習與分享的集散地。<br>原本的開發流程很單純,如上圖。完成的CODE同步到 GITHUB 後也同步上 Openshift ,<br>這樣的流程雖然簡單,但是每次都要人工執行,因為其執行順序,其實都隱含著風險,<br>例如:上錯版本或是產品未進版控等等…,<br>而當進一步想要執行建置、編譯 、套件管理、測試、分析與產生報表時,<br>產品與源碼將會產生差異(ex:產品會包含壓縮的檔案而源碼則是未壓縮的檔案)</li>\n</ol>\n<h4 id=\"缺點\"><a href=\"#缺點\" class=\"headerlink\" title=\"缺點:\"></a>缺點:</h4><ol>\n<li>在這樣的架構上容易不小心發佈還在開發中的功能。</li>\n<li>Prod的來源就是程式碼,無法確保與版控一致,如此就喪失版控的用意。</li>\n<li>難以擴展其他功能,如:建置、編譯 、套件管理、測試、分析與產生報表</li>\n</ol>\n<h4 id=\"目標\"><a href=\"#目標\" class=\"headerlink\" title=\"目標:\"></a>目標:</h4><p><img src=\"https://i.imgur.com/dHYRJKr.jpg\" alt><br>如圖所示,<br>第一步 Jenkins要將原始碼自Github pull下來<br>第二到第N步 Jenkins要執行建置、測試、coding style的檢查、壓縮…等等。<br>最後一步 Jenkins 將會將程式碼發佈到Openshift 上面。<br>中間的步驟先跳過,之後再一一補上。<br>所以第一目標很簡單,<br>從Github Pull再Push到Openshift。</p>\n"},{"title":"[記錄]VS2015 StyleCop 誤判SA0102","date":"2017-01-11T06:51:25.000Z","_content":"## 環境\n\n- 作業系統:Windows 10\n- 開發工具:Visual Studio 2015 (Professional ver14.0.25431.01 Update 3)\n- StyleCop 4.7.50.0\n\n## 情境\n\n當使用C# 6 的`INTERPOLATION STRING`組合字串時，在StyleCop 4.7會誤判並回報SA0102的警告。\n\n```csharp\nreturn new ExcelResult\n{\n  Data = exportData,\n  FileName = $\"{shopId}_Code_{DateTime.Now.ToString(\"yyyyMMddHHmm\")}\",\n  SheetName = \"ECouponCode\"\n};\n```\n\n## 修正目標\n\n1. 將 StyleCop 4.7 更新至 StyleCop 5.0\n2. 編輯客製化的StyleCop Rules(直接將4.7的設定檔覆蓋VS會報錯)\n\n## 修正記錄\n1. 移除 StyleCop \n控制台 > 新增移除程式\n![](https://i.imgur.com/PCYZxIK.png)\n\n2. 移除 Visual Studio 上的 StyleCop \n工具 > 擴充功能和更新\n![](https://i.imgur.com/1HdVoko.png)\n\n3. 自你的程式碼移除所有對StyleCop的參考 \n`我的程式碼中並不包含對StyleCop的參考，故略過此步驟`\n\n4. 搜尋`StyleCop*.dll` 並且移除(非必要)\n\n5. 重新安裝 [StyleCop Visual Studio Extension](https://marketplace.visualstudio.com/items?itemName=ChristopheHEISER.VisualStyleCop)\n\t1.  安裝完成檢視安裝記錄檔\n![](https://i.imgur.com/Kny5aU9.png)\n\n\t2.  可以透過安裝記錄檔取得安裝路徑\n![](https://i.imgur.com/edSDREN.png)\n\n\n6. 客製修改StyleCop設定檔\n\t5-2的步驟可以找到`Settings`子資料夾，內含預設StyleCop設定檔， \n\t複制這個檔案到上一層，重新命名為`Settings.StyleCop`,\n\t透過`StyleCop.SettingsEditor`開啟`Settings.StyleCop`調整設定值。\n\t![](https://i.imgur.com/DJjoEYJ.gif)\n\n\n## 參考\n- [Github StyleCop](https://github.com/StyleCop)\n- [Github Visual-StyleCop](https://github.com/Visual-Stylecop/Visual-StyleCop/wiki)\n- [Marketplace Visual StyleCop ](https://marketplace.visualstudio.com/items?itemName=ChristopheHEISER.VisualStyleCop)\n\n(fin)\n","source":"_posts/2017/c_sharp_6_interpolation_string_stylecop_sa0102.md","raw":"---\ntitle: \"[記錄]VS2015 StyleCop 誤判SA0102\"\ndate: 2017/01/11 14:51:25\ntag:\n  - .Net Framework\n  - StyleCop\n---\n## 環境\n\n- 作業系統:Windows 10\n- 開發工具:Visual Studio 2015 (Professional ver14.0.25431.01 Update 3)\n- StyleCop 4.7.50.0\n\n## 情境\n\n當使用C# 6 的`INTERPOLATION STRING`組合字串時，在StyleCop 4.7會誤判並回報SA0102的警告。\n\n```csharp\nreturn new ExcelResult\n{\n  Data = exportData,\n  FileName = $\"{shopId}_Code_{DateTime.Now.ToString(\"yyyyMMddHHmm\")}\",\n  SheetName = \"ECouponCode\"\n};\n```\n\n## 修正目標\n\n1. 將 StyleCop 4.7 更新至 StyleCop 5.0\n2. 編輯客製化的StyleCop Rules(直接將4.7的設定檔覆蓋VS會報錯)\n\n## 修正記錄\n1. 移除 StyleCop \n控制台 > 新增移除程式\n![](https://i.imgur.com/PCYZxIK.png)\n\n2. 移除 Visual Studio 上的 StyleCop \n工具 > 擴充功能和更新\n![](https://i.imgur.com/1HdVoko.png)\n\n3. 自你的程式碼移除所有對StyleCop的參考 \n`我的程式碼中並不包含對StyleCop的參考，故略過此步驟`\n\n4. 搜尋`StyleCop*.dll` 並且移除(非必要)\n\n5. 重新安裝 [StyleCop Visual Studio Extension](https://marketplace.visualstudio.com/items?itemName=ChristopheHEISER.VisualStyleCop)\n\t1.  安裝完成檢視安裝記錄檔\n![](https://i.imgur.com/Kny5aU9.png)\n\n\t2.  可以透過安裝記錄檔取得安裝路徑\n![](https://i.imgur.com/edSDREN.png)\n\n\n6. 客製修改StyleCop設定檔\n\t5-2的步驟可以找到`Settings`子資料夾，內含預設StyleCop設定檔， \n\t複制這個檔案到上一層，重新命名為`Settings.StyleCop`,\n\t透過`StyleCop.SettingsEditor`開啟`Settings.StyleCop`調整設定值。\n\t![](https://i.imgur.com/DJjoEYJ.gif)\n\n\n## 參考\n- [Github StyleCop](https://github.com/StyleCop)\n- [Github Visual-StyleCop](https://github.com/Visual-Stylecop/Visual-StyleCop/wiki)\n- [Marketplace Visual StyleCop ](https://marketplace.visualstudio.com/items?itemName=ChristopheHEISER.VisualStyleCop)\n\n(fin)\n","slug":"2017/c_sharp_6_interpolation_string_stylecop_sa0102","published":1,"updated":"2019-09-08T10:02:15.905Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wjx0012b0vxhaslw16x","content":"<h2 id=\"環境\"><a href=\"#環境\" class=\"headerlink\" title=\"環境\"></a>環境</h2><ul>\n<li>作業系統:Windows 10</li>\n<li>開發工具:Visual Studio 2015 (Professional ver14.0.25431.01 Update 3)</li>\n<li>StyleCop 4.7.50.0</li>\n</ul>\n<h2 id=\"情境\"><a href=\"#情境\" class=\"headerlink\" title=\"情境\"></a>情境</h2><p>當使用C# 6 的<code>INTERPOLATION STRING</code>組合字串時，在StyleCop 4.7會誤判並回報SA0102的警告。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ExcelResult</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  Data = exportData,</span><br><span class=\"line\">  FileName = <span class=\"string\">$\"<span class=\"subst\">&#123;shopId&#125;</span>_Code_<span class=\"subst\">&#123;DateTime.Now.ToString(<span class=\"string\">\"yyyyMMddHHmm\"</span>)&#125;</span>\"</span>,</span><br><span class=\"line\">  SheetName = <span class=\"string\">\"ECouponCode\"</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"修正目標\"><a href=\"#修正目標\" class=\"headerlink\" title=\"修正目標\"></a>修正目標</h2><ol>\n<li>將 StyleCop 4.7 更新至 StyleCop 5.0</li>\n<li>編輯客製化的StyleCop Rules(直接將4.7的設定檔覆蓋VS會報錯)</li>\n</ol>\n<h2 id=\"修正記錄\"><a href=\"#修正記錄\" class=\"headerlink\" title=\"修正記錄\"></a>修正記錄</h2><ol>\n<li><p>移除 StyleCop<br>控制台 &gt; 新增移除程式<br><img src=\"https://i.imgur.com/PCYZxIK.png\" alt></p>\n</li>\n<li><p>移除 Visual Studio 上的 StyleCop<br>工具 &gt; 擴充功能和更新<br><img src=\"https://i.imgur.com/1HdVoko.png\" alt></p>\n</li>\n<li><p>自你的程式碼移除所有對StyleCop的參考<br><code>我的程式碼中並不包含對StyleCop的參考，故略過此步驟</code></p>\n</li>\n<li><p>搜尋<code>StyleCop*.dll</code> 並且移除(非必要)</p>\n</li>\n<li><p>重新安裝 <a href=\"https://marketplace.visualstudio.com/items?itemName=ChristopheHEISER.VisualStyleCop\" target=\"_blank\" rel=\"noopener\">StyleCop Visual Studio Extension</a></p>\n<ol>\n<li><p>安裝完成檢視安裝記錄檔<br><img src=\"https://i.imgur.com/Kny5aU9.png\" alt></p>\n</li>\n<li><p>可以透過安裝記錄檔取得安裝路徑<br><img src=\"https://i.imgur.com/edSDREN.png\" alt></p>\n</li>\n</ol>\n</li>\n</ol>\n<ol start=\"6\">\n<li>客製修改StyleCop設定檔<br> 5-2的步驟可以找到<code>Settings</code>子資料夾，內含預設StyleCop設定檔，<br> 複制這個檔案到上一層，重新命名為<code>Settings.StyleCop</code>,\n 透過<code>StyleCop.SettingsEditor</code>開啟<code>Settings.StyleCop</code>調整設定值。<br> <img src=\"https://i.imgur.com/DJjoEYJ.gif\" alt></li>\n</ol>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://github.com/StyleCop\" target=\"_blank\" rel=\"noopener\">Github StyleCop</a></li>\n<li><a href=\"https://github.com/Visual-Stylecop/Visual-StyleCop/wiki\" target=\"_blank\" rel=\"noopener\">Github Visual-StyleCop</a></li>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=ChristopheHEISER.VisualStyleCop\" target=\"_blank\" rel=\"noopener\">Marketplace Visual StyleCop </a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"環境\"><a href=\"#環境\" class=\"headerlink\" title=\"環境\"></a>環境</h2><ul>\n<li>作業系統:Windows 10</li>\n<li>開發工具:Visual Studio 2015 (Professional ver14.0.25431.01 Update 3)</li>\n<li>StyleCop 4.7.50.0</li>\n</ul>\n<h2 id=\"情境\"><a href=\"#情境\" class=\"headerlink\" title=\"情境\"></a>情境</h2><p>當使用C# 6 的<code>INTERPOLATION STRING</code>組合字串時，在StyleCop 4.7會誤判並回報SA0102的警告。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ExcelResult</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  Data = exportData,</span><br><span class=\"line\">  FileName = <span class=\"string\">$\"<span class=\"subst\">&#123;shopId&#125;</span>_Code_<span class=\"subst\">&#123;DateTime.Now.ToString(<span class=\"string\">\"yyyyMMddHHmm\"</span>)&#125;</span>\"</span>,</span><br><span class=\"line\">  SheetName = <span class=\"string\">\"ECouponCode\"</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"修正目標\"><a href=\"#修正目標\" class=\"headerlink\" title=\"修正目標\"></a>修正目標</h2><ol>\n<li>將 StyleCop 4.7 更新至 StyleCop 5.0</li>\n<li>編輯客製化的StyleCop Rules(直接將4.7的設定檔覆蓋VS會報錯)</li>\n</ol>\n<h2 id=\"修正記錄\"><a href=\"#修正記錄\" class=\"headerlink\" title=\"修正記錄\"></a>修正記錄</h2><ol>\n<li><p>移除 StyleCop<br>控制台 &gt; 新增移除程式<br><img src=\"https://i.imgur.com/PCYZxIK.png\" alt></p>\n</li>\n<li><p>移除 Visual Studio 上的 StyleCop<br>工具 &gt; 擴充功能和更新<br><img src=\"https://i.imgur.com/1HdVoko.png\" alt></p>\n</li>\n<li><p>自你的程式碼移除所有對StyleCop的參考<br><code>我的程式碼中並不包含對StyleCop的參考，故略過此步驟</code></p>\n</li>\n<li><p>搜尋<code>StyleCop*.dll</code> 並且移除(非必要)</p>\n</li>\n<li><p>重新安裝 <a href=\"https://marketplace.visualstudio.com/items?itemName=ChristopheHEISER.VisualStyleCop\" target=\"_blank\" rel=\"noopener\">StyleCop Visual Studio Extension</a></p>\n<ol>\n<li><p>安裝完成檢視安裝記錄檔<br><img src=\"https://i.imgur.com/Kny5aU9.png\" alt></p>\n</li>\n<li><p>可以透過安裝記錄檔取得安裝路徑<br><img src=\"https://i.imgur.com/edSDREN.png\" alt></p>\n</li>\n</ol>\n</li>\n</ol>\n<ol start=\"6\">\n<li>客製修改StyleCop設定檔<br> 5-2的步驟可以找到<code>Settings</code>子資料夾，內含預設StyleCop設定檔，<br> 複制這個檔案到上一層，重新命名為<code>Settings.StyleCop</code>,\n 透過<code>StyleCop.SettingsEditor</code>開啟<code>Settings.StyleCop</code>調整設定值。<br> <img src=\"https://i.imgur.com/DJjoEYJ.gif\" alt></li>\n</ol>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://github.com/StyleCop\" target=\"_blank\" rel=\"noopener\">Github StyleCop</a></li>\n<li><a href=\"https://github.com/Visual-Stylecop/Visual-StyleCop/wiki\" target=\"_blank\" rel=\"noopener\">Github Visual-StyleCop</a></li>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=ChristopheHEISER.VisualStyleCop\" target=\"_blank\" rel=\"noopener\">Marketplace Visual StyleCop </a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"CI/CD 環境建置筆記 - 使用Openshift 的 Jenkins (失敗)","date":"2017-01-15T14:16:42.000Z","_content":"\n## 前情提要\n\n- [CI/CD 環境建置筆記 - 前言<目的>](/2017/01/15/ci_use_jenkins/)\n\n## 操作記錄(失敗)\n\n### 目標: \n\n- 在 Openshift 新增一個 Jenkins Server\n\n### 失敗原因: \n\n- 我找不到方法在 Openshift 上建置的 Jenkins Server \n\n### 記錄:\n\n1. 登入OpenShift的[web console](https://openshift.redhat.com/app/console/applications)\n2. Add Application 選擇 `Jenkins Server`，使用預設設定Create Application.  \nPublic URL 設定為 http://jenkins-youraccount.rhcloud.com\n3. 連線進 http://jenkins-youraccount.rhcloud.com 會發現需要帳密登入\n4. 取得帳號密碼\n\t1. 使用 SSH 連線 Openshift 的 Jenkins Server (可以在web console 查到連結)\n\t\t`> ssh 4263*****************@jenkins-youraccount.rhcloud.com`\n\t2. 查看以下兩個檔案可以取得帳號密碼\n\t`JENKINS_USERNAME`\n\t`JENKINS_PASSWORD` \n\t\n\t \n5. 登入後，管理 Jenkins > 設定系統\n\t1. 將執行程式數量設定為 1 \n6. 選擇新增作業\n\t1. 第一步要將原始碼自Github pull下來;在原始碼管理選擇`Git` , 設定好`Repositories`、`Branches to build`\n\t\n7. **執行一次建置**，這個步驟是為了產生work space 。 \n8.  SSH 連線 Openshift，切換目錄到你的專案的work space \n\t`> ssh 4263*****************@jenkins-youraccount.rhcloud.com`\n\t`> cd app-root/data/workspace/your_project_name`\n9.  檢查一下目前Git的遠端Repo有哪些\n\t`> git remote -v`\n10. 將Openshift上的nodejs應用程式repo設為remote\n\t`>git remote add openshift ssh://5**********************@nodejs-youraccount.rhcloud.com/~/git/nodejs.git/`\n11. 推送到`openshift remote`\n失敗!!原因是權限問題，Openshift remote 是透過 SSH 連線，\n在認証公鑰的過程中，需要寫入 `~/.ssh/known_hosts` 檔案。\n但是 Openshift 建立的 Jenkins Server 登入帳號，權限並不足以寫入而造成失敗\n\n(fin)\n","source":"_posts/2017/ci_use_jenkins_on_openshfit.md","raw":"---\ntitle: CI/CD 環境建置筆記 - 使用Openshift 的 Jenkins (失敗)\ndate: 2017/01/15 22:16:42\ntag:\n  - CI/CD\n  - Jenkins\n  - Openshift\n---\n\n## 前情提要\n\n- [CI/CD 環境建置筆記 - 前言<目的>](/2017/01/15/ci_use_jenkins/)\n\n## 操作記錄(失敗)\n\n### 目標: \n\n- 在 Openshift 新增一個 Jenkins Server\n\n### 失敗原因: \n\n- 我找不到方法在 Openshift 上建置的 Jenkins Server \n\n### 記錄:\n\n1. 登入OpenShift的[web console](https://openshift.redhat.com/app/console/applications)\n2. Add Application 選擇 `Jenkins Server`，使用預設設定Create Application.  \nPublic URL 設定為 http://jenkins-youraccount.rhcloud.com\n3. 連線進 http://jenkins-youraccount.rhcloud.com 會發現需要帳密登入\n4. 取得帳號密碼\n\t1. 使用 SSH 連線 Openshift 的 Jenkins Server (可以在web console 查到連結)\n\t\t`> ssh 4263*****************@jenkins-youraccount.rhcloud.com`\n\t2. 查看以下兩個檔案可以取得帳號密碼\n\t`JENKINS_USERNAME`\n\t`JENKINS_PASSWORD` \n\t\n\t \n5. 登入後，管理 Jenkins > 設定系統\n\t1. 將執行程式數量設定為 1 \n6. 選擇新增作業\n\t1. 第一步要將原始碼自Github pull下來;在原始碼管理選擇`Git` , 設定好`Repositories`、`Branches to build`\n\t\n7. **執行一次建置**，這個步驟是為了產生work space 。 \n8.  SSH 連線 Openshift，切換目錄到你的專案的work space \n\t`> ssh 4263*****************@jenkins-youraccount.rhcloud.com`\n\t`> cd app-root/data/workspace/your_project_name`\n9.  檢查一下目前Git的遠端Repo有哪些\n\t`> git remote -v`\n10. 將Openshift上的nodejs應用程式repo設為remote\n\t`>git remote add openshift ssh://5**********************@nodejs-youraccount.rhcloud.com/~/git/nodejs.git/`\n11. 推送到`openshift remote`\n失敗!!原因是權限問題，Openshift remote 是透過 SSH 連線，\n在認証公鑰的過程中，需要寫入 `~/.ssh/known_hosts` 檔案。\n但是 Openshift 建立的 Jenkins Server 登入帳號，權限並不足以寫入而造成失敗\n\n(fin)\n","slug":"2017/ci_use_jenkins_on_openshfit","published":1,"updated":"2019-07-09T12:09:56.286Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wjx0013b0vx8vojvrwi","content":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><ul>\n<li><a href=\"/2017/01/15/ci_use_jenkins/\">CI/CD 環境建置筆記 - 前言&lt;目的&gt;</a></li>\n</ul>\n<h2 id=\"操作記錄-失敗\"><a href=\"#操作記錄-失敗\" class=\"headerlink\" title=\"操作記錄(失敗)\"></a>操作記錄(失敗)</h2><h3 id=\"目標\"><a href=\"#目標\" class=\"headerlink\" title=\"目標:\"></a>目標:</h3><ul>\n<li>在 Openshift 新增一個 Jenkins Server</li>\n</ul>\n<h3 id=\"失敗原因\"><a href=\"#失敗原因\" class=\"headerlink\" title=\"失敗原因:\"></a>失敗原因:</h3><ul>\n<li>我找不到方法在 Openshift 上建置的 Jenkins Server </li>\n</ul>\n<h3 id=\"記錄\"><a href=\"#記錄\" class=\"headerlink\" title=\"記錄:\"></a>記錄:</h3><ol>\n<li>登入OpenShift的<a href=\"https://openshift.redhat.com/app/console/applications\" target=\"_blank\" rel=\"noopener\">web console</a></li>\n<li>Add Application 選擇 <code>Jenkins Server</code>，使用預設設定Create Application.<br>Public URL 設定為 <a href=\"http://jenkins-youraccount.rhcloud.com\" target=\"_blank\" rel=\"noopener\">http://jenkins-youraccount.rhcloud.com</a></li>\n<li>連線進 <a href=\"http://jenkins-youraccount.rhcloud.com\" target=\"_blank\" rel=\"noopener\">http://jenkins-youraccount.rhcloud.com</a> 會發現需要帳密登入</li>\n<li>取得帳號密碼<ol>\n<li>使用 SSH 連線 Openshift 的 Jenkins Server (可以在web console 查到連結)<br> <code>&gt; ssh 4263*****************@jenkins-youraccount.rhcloud.com</code></li>\n<li>查看以下兩個檔案可以取得帳號密碼<br><code>JENKINS_USERNAME</code><br><code>JENKINS_PASSWORD</code> </li>\n</ol>\n</li>\n</ol>\n<ol start=\"5\">\n<li><p>登入後，管理 Jenkins &gt; 設定系統</p>\n<ol>\n<li>將執行程式數量設定為 1 </li>\n</ol>\n</li>\n<li><p>選擇新增作業</p>\n<ol>\n<li>第一步要將原始碼自Github pull下來;在原始碼管理選擇<code>Git</code> , 設定好<code>Repositories</code>、<code>Branches to build</code></li>\n</ol>\n</li>\n<li><p><strong>執行一次建置</strong>，這個步驟是為了產生work space 。 </p>\n</li>\n<li><p>SSH 連線 Openshift，切換目錄到你的專案的work space<br><code>&gt; ssh 4263*****************@jenkins-youraccount.rhcloud.com</code><br><code>&gt; cd app-root/data/workspace/your_project_name</code></p>\n</li>\n<li><p>檢查一下目前Git的遠端Repo有哪些<br><code>&gt; git remote -v</code></p>\n</li>\n<li><p>將Openshift上的nodejs應用程式repo設為remote<br><code>&gt;git remote add openshift ssh://5**********************@nodejs-youraccount.rhcloud.com/~/git/nodejs.git/</code></p>\n</li>\n<li><p>推送到<code>openshift remote</code><br>失敗!!原因是權限問題，Openshift remote 是透過 SSH 連線，<br>在認証公鑰的過程中，需要寫入 <code>~/.ssh/known_hosts</code> 檔案。<br>但是 Openshift 建立的 Jenkins Server 登入帳號，權限並不足以寫入而造成失敗</p>\n</li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><ul>\n<li><a href=\"/2017/01/15/ci_use_jenkins/\">CI/CD 環境建置筆記 - 前言&lt;目的&gt;</a></li>\n</ul>\n<h2 id=\"操作記錄-失敗\"><a href=\"#操作記錄-失敗\" class=\"headerlink\" title=\"操作記錄(失敗)\"></a>操作記錄(失敗)</h2><h3 id=\"目標\"><a href=\"#目標\" class=\"headerlink\" title=\"目標:\"></a>目標:</h3><ul>\n<li>在 Openshift 新增一個 Jenkins Server</li>\n</ul>\n<h3 id=\"失敗原因\"><a href=\"#失敗原因\" class=\"headerlink\" title=\"失敗原因:\"></a>失敗原因:</h3><ul>\n<li>我找不到方法在 Openshift 上建置的 Jenkins Server </li>\n</ul>\n<h3 id=\"記錄\"><a href=\"#記錄\" class=\"headerlink\" title=\"記錄:\"></a>記錄:</h3><ol>\n<li>登入OpenShift的<a href=\"https://openshift.redhat.com/app/console/applications\" target=\"_blank\" rel=\"noopener\">web console</a></li>\n<li>Add Application 選擇 <code>Jenkins Server</code>，使用預設設定Create Application.<br>Public URL 設定為 <a href=\"http://jenkins-youraccount.rhcloud.com\" target=\"_blank\" rel=\"noopener\">http://jenkins-youraccount.rhcloud.com</a></li>\n<li>連線進 <a href=\"http://jenkins-youraccount.rhcloud.com\" target=\"_blank\" rel=\"noopener\">http://jenkins-youraccount.rhcloud.com</a> 會發現需要帳密登入</li>\n<li>取得帳號密碼<ol>\n<li>使用 SSH 連線 Openshift 的 Jenkins Server (可以在web console 查到連結)<br> <code>&gt; ssh 4263*****************@jenkins-youraccount.rhcloud.com</code></li>\n<li>查看以下兩個檔案可以取得帳號密碼<br><code>JENKINS_USERNAME</code><br><code>JENKINS_PASSWORD</code> </li>\n</ol>\n</li>\n</ol>\n<ol start=\"5\">\n<li><p>登入後，管理 Jenkins &gt; 設定系統</p>\n<ol>\n<li>將執行程式數量設定為 1 </li>\n</ol>\n</li>\n<li><p>選擇新增作業</p>\n<ol>\n<li>第一步要將原始碼自Github pull下來;在原始碼管理選擇<code>Git</code> , 設定好<code>Repositories</code>、<code>Branches to build</code></li>\n</ol>\n</li>\n<li><p><strong>執行一次建置</strong>，這個步驟是為了產生work space 。 </p>\n</li>\n<li><p>SSH 連線 Openshift，切換目錄到你的專案的work space<br><code>&gt; ssh 4263*****************@jenkins-youraccount.rhcloud.com</code><br><code>&gt; cd app-root/data/workspace/your_project_name</code></p>\n</li>\n<li><p>檢查一下目前Git的遠端Repo有哪些<br><code>&gt; git remote -v</code></p>\n</li>\n<li><p>將Openshift上的nodejs應用程式repo設為remote<br><code>&gt;git remote add openshift ssh://5**********************@nodejs-youraccount.rhcloud.com/~/git/nodejs.git/</code></p>\n</li>\n<li><p>推送到<code>openshift remote</code><br>失敗!!原因是權限問題，Openshift remote 是透過 SSH 連線，<br>在認証公鑰的過程中，需要寫入 <code>~/.ssh/known_hosts</code> 檔案。<br>但是 Openshift 建立的 Jenkins Server 登入帳號，權限並不足以寫入而造成失敗</p>\n</li>\n</ol>\n<p>(fin)</p>\n"},{"title":"IIS Tracing Log 設定","date":"2017-01-24T06:27:12.000Z","_content":"## 緣由\n當你需要Trace送到IIS的每個Request的細節(包含在pipe line各個模組之間的input/output 與 傳入的參數、header等…), \n可以透過開啟tracing log來作追蹤\n\n## 環境\n1. Windows Server 2012 R2\n2. IIS 8.5.9600.16384\n\n## 開啟 tracing log\n\n1. 新增 Tracing Rules \n![](https://i.imgur.com/4llAgOa.jpg)\n![](https://i.imgur.com/BavVoWy.gif)\n\n\n2. 開啟網站 Tracing 功能\n![](https://i.imgur.com/LUgbESR.jpg)\n![](https://i.imgur.com/aKtgj5m.jpg)\n\n## 調整 IE Security 層級\n\n1. 使用 IE 開啟 Log，因 Security 設定無法套用版型\n![](https://i.imgur.com/4VsuQWp.jpg)\n\n2. 調整ie enhanced security\n\n![](https://i.imgur.com/Lvnygqr.jpg)\n\n3. 開啟IE > 點選小齒輪，選擇  Internet Options > 點選 Security 頁籤 > 將 Internet 的 Security Level 調整為 Medium-high\n![](https://i.imgur.com/H2F06OU.jpg)\n\n4. 完成\n![](https://i.imgur.com/biiX6w8.jpg)\n\n\n\n(fin)","source":"_posts/2017/iis_tracing_log_setting.md","raw":"---\ntitle: IIS Tracing Log 設定\ndate: 2017/01/24 14:27:12 \ntag:\n  - IIS\n  - 記錄\n---\n## 緣由\n當你需要Trace送到IIS的每個Request的細節(包含在pipe line各個模組之間的input/output 與 傳入的參數、header等…), \n可以透過開啟tracing log來作追蹤\n\n## 環境\n1. Windows Server 2012 R2\n2. IIS 8.5.9600.16384\n\n## 開啟 tracing log\n\n1. 新增 Tracing Rules \n![](https://i.imgur.com/4llAgOa.jpg)\n![](https://i.imgur.com/BavVoWy.gif)\n\n\n2. 開啟網站 Tracing 功能\n![](https://i.imgur.com/LUgbESR.jpg)\n![](https://i.imgur.com/aKtgj5m.jpg)\n\n## 調整 IE Security 層級\n\n1. 使用 IE 開啟 Log，因 Security 設定無法套用版型\n![](https://i.imgur.com/4VsuQWp.jpg)\n\n2. 調整ie enhanced security\n\n![](https://i.imgur.com/Lvnygqr.jpg)\n\n3. 開啟IE > 點選小齒輪，選擇  Internet Options > 點選 Security 頁籤 > 將 Internet 的 Security Level 調整為 Medium-high\n![](https://i.imgur.com/H2F06OU.jpg)\n\n4. 完成\n![](https://i.imgur.com/biiX6w8.jpg)\n\n\n\n(fin)","slug":"2017/iis_tracing_log_setting","published":1,"updated":"2019-06-10T14:43:28.886Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wjz0014b0vxb1xgghp4","content":"<h2 id=\"緣由\"><a href=\"#緣由\" class=\"headerlink\" title=\"緣由\"></a>緣由</h2><p>當你需要Trace送到IIS的每個Request的細節(包含在pipe line各個模組之間的input/output 與 傳入的參數、header等…),<br>可以透過開啟tracing log來作追蹤</p>\n<h2 id=\"環境\"><a href=\"#環境\" class=\"headerlink\" title=\"環境\"></a>環境</h2><ol>\n<li>Windows Server 2012 R2</li>\n<li>IIS 8.5.9600.16384</li>\n</ol>\n<h2 id=\"開啟-tracing-log\"><a href=\"#開啟-tracing-log\" class=\"headerlink\" title=\"開啟 tracing log\"></a>開啟 tracing log</h2><ol>\n<li>新增 Tracing Rules<br><img src=\"https://i.imgur.com/4llAgOa.jpg\" alt><br><img src=\"https://i.imgur.com/BavVoWy.gif\" alt></li>\n</ol>\n<ol start=\"2\">\n<li>開啟網站 Tracing 功能<br><img src=\"https://i.imgur.com/LUgbESR.jpg\" alt><br><img src=\"https://i.imgur.com/aKtgj5m.jpg\" alt></li>\n</ol>\n<h2 id=\"調整-IE-Security-層級\"><a href=\"#調整-IE-Security-層級\" class=\"headerlink\" title=\"調整 IE Security 層級\"></a>調整 IE Security 層級</h2><ol>\n<li><p>使用 IE 開啟 Log，因 Security 設定無法套用版型<br><img src=\"https://i.imgur.com/4VsuQWp.jpg\" alt></p>\n</li>\n<li><p>調整ie enhanced security</p>\n</li>\n</ol>\n<p><img src=\"https://i.imgur.com/Lvnygqr.jpg\" alt></p>\n<ol start=\"3\">\n<li><p>開啟IE &gt; 點選小齒輪，選擇  Internet Options &gt; 點選 Security 頁籤 &gt; 將 Internet 的 Security Level 調整為 Medium-high<br><img src=\"https://i.imgur.com/H2F06OU.jpg\" alt></p>\n</li>\n<li><p>完成<br><img src=\"https://i.imgur.com/biiX6w8.jpg\" alt></p>\n</li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"緣由\"><a href=\"#緣由\" class=\"headerlink\" title=\"緣由\"></a>緣由</h2><p>當你需要Trace送到IIS的每個Request的細節(包含在pipe line各個模組之間的input/output 與 傳入的參數、header等…),<br>可以透過開啟tracing log來作追蹤</p>\n<h2 id=\"環境\"><a href=\"#環境\" class=\"headerlink\" title=\"環境\"></a>環境</h2><ol>\n<li>Windows Server 2012 R2</li>\n<li>IIS 8.5.9600.16384</li>\n</ol>\n<h2 id=\"開啟-tracing-log\"><a href=\"#開啟-tracing-log\" class=\"headerlink\" title=\"開啟 tracing log\"></a>開啟 tracing log</h2><ol>\n<li>新增 Tracing Rules<br><img src=\"https://i.imgur.com/4llAgOa.jpg\" alt><br><img src=\"https://i.imgur.com/BavVoWy.gif\" alt></li>\n</ol>\n<ol start=\"2\">\n<li>開啟網站 Tracing 功能<br><img src=\"https://i.imgur.com/LUgbESR.jpg\" alt><br><img src=\"https://i.imgur.com/aKtgj5m.jpg\" alt></li>\n</ol>\n<h2 id=\"調整-IE-Security-層級\"><a href=\"#調整-IE-Security-層級\" class=\"headerlink\" title=\"調整 IE Security 層級\"></a>調整 IE Security 層級</h2><ol>\n<li><p>使用 IE 開啟 Log，因 Security 設定無法套用版型<br><img src=\"https://i.imgur.com/4VsuQWp.jpg\" alt></p>\n</li>\n<li><p>調整ie enhanced security</p>\n</li>\n</ol>\n<p><img src=\"https://i.imgur.com/Lvnygqr.jpg\" alt></p>\n<ol start=\"3\">\n<li><p>開啟IE &gt; 點選小齒輪，選擇  Internet Options &gt; 點選 Security 頁籤 &gt; 將 Internet 的 Security Level 調整為 Medium-high<br><img src=\"https://i.imgur.com/H2F06OU.jpg\" alt></p>\n</li>\n<li><p>完成<br><img src=\"https://i.imgur.com/biiX6w8.jpg\" alt></p>\n</li>\n</ol>\n<p>(fin)</p>\n"},{"title":"CI/CD 環境建置筆記(二) - 在 windows 安裝 Jenkins 之旁門左道私有雲","date":"2017-04-29T03:55:16.000Z","_content":"\n## 應該要知道的事\n\n- Dropbox\n- Windows Service\n- [CI/CD 環境建置筆記(一) - 在 windows 安裝 Jenkins ](/2017/01/15/ci_use_jenkins/)\n\n## 問題\n\n在 windows 上安裝了Jenkins , 也建立了一個新的作業 ,\n讓程式可以透過 Jenkins 執行自動化部署。\n不過實務上仍有缺點，那就是只有這台機器可以執行部署 ,\n最理想的狀況是擁有一個在雲端的 CI Server ,\n隨時隨地想部署只需要能連上網 , 登入執行就好\n這部份可以試試看 `Travis-CI`、`CircleCI`之類的服務 ;\n不過對於只熟悉 Jenkins 的我來說 ,\n我想了另一套解決辦法(旁門左道) ,\n不過至少解決了我目前的需求 ,\n在公司與家中隨時都能透過本機Jenkins Server 進行部署 , \n並且不用花時間同步設定值. \n在花時間研究`Travis-CI`、`CircleCI`的部署方式之前 ,\n算是一個折衷的方式 .\n\n## 方案\n1. 首先你要有 Dropbox \n2. 下載 Windows 版的 Jenkins\n3. 安裝在 Dropbox 資料夾內\n4. 在另外一台電腦 , 進行相同的安裝\n\n想法很簡單 , 透過 Dropbox 與 Jenkins Service\n在兩台電腦安裝 Jenkins\n只要將 Jenkins Service 的啟動路徑\n設定在 Dropbox 中 , \n就可以達成我們的目標 .\n![](https://i.imgur.com/DyrNMJD.jpg)\n\n## 問題 \n1. Windows 要如何修改 Jenkins Service 的啟動路徑 ?\n\n`HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Services\\Jenkins`\n\n修改路徑以符合你本機的檔案位置即可。\n\n![](https://i.imgur.com/KGemCSe.jpg)\n\n(fin)","source":"_posts/2017/ci_use_jenkins_on_two_windows.md","raw":"---\ntitle: CI/CD 環境建置筆記(二) - 在 windows 安裝 Jenkins 之旁門左道私有雲\ndate: 2017/04/29 11:55:16\ntag:\n  - CI/CD\n  - Jenkins\n---\n\n## 應該要知道的事\n\n- Dropbox\n- Windows Service\n- [CI/CD 環境建置筆記(一) - 在 windows 安裝 Jenkins ](/2017/01/15/ci_use_jenkins/)\n\n## 問題\n\n在 windows 上安裝了Jenkins , 也建立了一個新的作業 ,\n讓程式可以透過 Jenkins 執行自動化部署。\n不過實務上仍有缺點，那就是只有這台機器可以執行部署 ,\n最理想的狀況是擁有一個在雲端的 CI Server ,\n隨時隨地想部署只需要能連上網 , 登入執行就好\n這部份可以試試看 `Travis-CI`、`CircleCI`之類的服務 ;\n不過對於只熟悉 Jenkins 的我來說 ,\n我想了另一套解決辦法(旁門左道) ,\n不過至少解決了我目前的需求 ,\n在公司與家中隨時都能透過本機Jenkins Server 進行部署 , \n並且不用花時間同步設定值. \n在花時間研究`Travis-CI`、`CircleCI`的部署方式之前 ,\n算是一個折衷的方式 .\n\n## 方案\n1. 首先你要有 Dropbox \n2. 下載 Windows 版的 Jenkins\n3. 安裝在 Dropbox 資料夾內\n4. 在另外一台電腦 , 進行相同的安裝\n\n想法很簡單 , 透過 Dropbox 與 Jenkins Service\n在兩台電腦安裝 Jenkins\n只要將 Jenkins Service 的啟動路徑\n設定在 Dropbox 中 , \n就可以達成我們的目標 .\n![](https://i.imgur.com/DyrNMJD.jpg)\n\n## 問題 \n1. Windows 要如何修改 Jenkins Service 的啟動路徑 ?\n\n`HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Services\\Jenkins`\n\n修改路徑以符合你本機的檔案位置即可。\n\n![](https://i.imgur.com/KGemCSe.jpg)\n\n(fin)","slug":"2017/ci_use_jenkins_on_two_windows","published":1,"updated":"2019-06-10T14:43:28.885Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wk00015b0vx3ze9j8v8","content":"<h2 id=\"應該要知道的事\"><a href=\"#應該要知道的事\" class=\"headerlink\" title=\"應該要知道的事\"></a>應該要知道的事</h2><ul>\n<li>Dropbox</li>\n<li>Windows Service</li>\n<li><a href=\"/2017/01/15/ci_use_jenkins/\">CI/CD 環境建置筆記(一) - 在 windows 安裝 Jenkins </a></li>\n</ul>\n<h2 id=\"問題\"><a href=\"#問題\" class=\"headerlink\" title=\"問題\"></a>問題</h2><p>在 windows 上安裝了Jenkins , 也建立了一個新的作業 ,<br>讓程式可以透過 Jenkins 執行自動化部署。<br>不過實務上仍有缺點，那就是只有這台機器可以執行部署 ,<br>最理想的狀況是擁有一個在雲端的 CI Server ,<br>隨時隨地想部署只需要能連上網 , 登入執行就好<br>這部份可以試試看 <code>Travis-CI</code>、<code>CircleCI</code>之類的服務 ;<br>不過對於只熟悉 Jenkins 的我來說 ,<br>我想了另一套解決辦法(旁門左道) ,<br>不過至少解決了我目前的需求 ,<br>在公司與家中隨時都能透過本機Jenkins Server 進行部署 ,<br>並且不用花時間同步設定值.<br>在花時間研究<code>Travis-CI</code>、<code>CircleCI</code>的部署方式之前 ,<br>算是一個折衷的方式 .</p>\n<h2 id=\"方案\"><a href=\"#方案\" class=\"headerlink\" title=\"方案\"></a>方案</h2><ol>\n<li>首先你要有 Dropbox </li>\n<li>下載 Windows 版的 Jenkins</li>\n<li>安裝在 Dropbox 資料夾內</li>\n<li>在另外一台電腦 , 進行相同的安裝</li>\n</ol>\n<p>想法很簡單 , 透過 Dropbox 與 Jenkins Service<br>在兩台電腦安裝 Jenkins<br>只要將 Jenkins Service 的啟動路徑<br>設定在 Dropbox 中 ,<br>就可以達成我們的目標 .<br><img src=\"https://i.imgur.com/DyrNMJD.jpg\" alt></p>\n<h2 id=\"問題-1\"><a href=\"#問題-1\" class=\"headerlink\" title=\"問題\"></a>問題</h2><ol>\n<li>Windows 要如何修改 Jenkins Service 的啟動路徑 ?</li>\n</ol>\n<p><code>HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Services\\Jenkins</code></p>\n<p>修改路徑以符合你本機的檔案位置即可。</p>\n<p><img src=\"https://i.imgur.com/KGemCSe.jpg\" alt></p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"應該要知道的事\"><a href=\"#應該要知道的事\" class=\"headerlink\" title=\"應該要知道的事\"></a>應該要知道的事</h2><ul>\n<li>Dropbox</li>\n<li>Windows Service</li>\n<li><a href=\"/2017/01/15/ci_use_jenkins/\">CI/CD 環境建置筆記(一) - 在 windows 安裝 Jenkins </a></li>\n</ul>\n<h2 id=\"問題\"><a href=\"#問題\" class=\"headerlink\" title=\"問題\"></a>問題</h2><p>在 windows 上安裝了Jenkins , 也建立了一個新的作業 ,<br>讓程式可以透過 Jenkins 執行自動化部署。<br>不過實務上仍有缺點，那就是只有這台機器可以執行部署 ,<br>最理想的狀況是擁有一個在雲端的 CI Server ,<br>隨時隨地想部署只需要能連上網 , 登入執行就好<br>這部份可以試試看 <code>Travis-CI</code>、<code>CircleCI</code>之類的服務 ;<br>不過對於只熟悉 Jenkins 的我來說 ,<br>我想了另一套解決辦法(旁門左道) ,<br>不過至少解決了我目前的需求 ,<br>在公司與家中隨時都能透過本機Jenkins Server 進行部署 ,<br>並且不用花時間同步設定值.<br>在花時間研究<code>Travis-CI</code>、<code>CircleCI</code>的部署方式之前 ,<br>算是一個折衷的方式 .</p>\n<h2 id=\"方案\"><a href=\"#方案\" class=\"headerlink\" title=\"方案\"></a>方案</h2><ol>\n<li>首先你要有 Dropbox </li>\n<li>下載 Windows 版的 Jenkins</li>\n<li>安裝在 Dropbox 資料夾內</li>\n<li>在另外一台電腦 , 進行相同的安裝</li>\n</ol>\n<p>想法很簡單 , 透過 Dropbox 與 Jenkins Service<br>在兩台電腦安裝 Jenkins<br>只要將 Jenkins Service 的啟動路徑<br>設定在 Dropbox 中 ,<br>就可以達成我們的目標 .<br><img src=\"https://i.imgur.com/DyrNMJD.jpg\" alt></p>\n<h2 id=\"問題-1\"><a href=\"#問題-1\" class=\"headerlink\" title=\"問題\"></a>問題</h2><ol>\n<li>Windows 要如何修改 Jenkins Service 的啟動路徑 ?</li>\n</ol>\n<p><code>HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Services\\Jenkins</code></p>\n<p>修改路徑以符合你本機的檔案位置即可。</p>\n<p><img src=\"https://i.imgur.com/KGemCSe.jpg\" alt></p>\n<p>(fin)</p>\n"},{"title":"單元測試與重構記錄(一)","date":"2017-10-30T16:42:10.000Z","_content":"\n## 前情提要\n有幸參與了一個跨國的專案,  \n為了快速上線，決定將整套原本在台灣程式碼搬移到跨國專案上,  \n上線後再依使用者的需求調整開發功能, \n而在搬移的過程中,有需多模組並未開啟。\n…\n\n## 現況\n遺留代碼 → 跨國 遇到的問題\n1. Copy Paste 最快卻不一定最適合\n2. Copy Paste 最快卻不一定改得動\n3. Copy Paste 最快但是有的地方沒Copy完\n\n`用明朝的劍，斬清朝的官`\n\n## 實務需求\n將本來跨國未開啟的**折扣活動**模組打開,  \n簡單的流程大致如下:\n購物車 → 取得購物車資料 → 折扣活動 → 計算\n\n實務上,整個流程作了許多事\n![](https://i.imgur.com/pM36Joo.jpg)\n\n應該說作了太多事. \n![](https://i.imgur.com/NU0PqCh.jpg)\n\n程式碼有壞味道,卻不能修改(重構). \n因為沒有測試保護. \n\n單一的Process，複雜度過高的方法(12)\n\n`CalculateShoppingCartPromotionDiscountV2Processor.Process()`\n\n![](https://i.imgur.com/qleqGPb.jpg)\n\n### 目標與執行順序\n1. 由 PM 或 QA 補足整合測試情境到足夠\n    - 由實務上的需求來認定\n2. 刪除台灣的測試\n3. 解析 `CalculateShoppingCartPromotionDiscountV2Processor` \n4. 補上單元測試\n    - Code Coverage(測試覆蓋率)\n5. 重構\n\n## 最終的目標是重構\n\n- 心態:[沒有時間，完美的借口](http://www.danielteng.com/2012/09/25/no-time-to-learn-perfect-excuse/)\n- 重構前要先作整合測試\n- 現有的整合測試的缺陷\n    1. 測試項目不符合馬來西亞現狀\n    2. 測試項目未處理多語系\n    3. 測試項目未處理小數點\n    4. 測試項目難以閱讀\n    5. 測試項目有重覆的覆蓋範圍\n- RD與PM與QA合作\n\n### UAT 讓「人」讀得懂\n\n#### 原本的 UAT (RD)\n```gherkin\n場景: case37：商品活動+全店活動(有排除)；宅配，運費50元，滿350免運\n\t．全店活動 / 有排除商品；滿額打折，多階(滿第1階)，跨溫層\n\t．折扣條件：滿199元，打95折 / 滿299元，打89折 / 滿399元，打84折\n\t．商品活動；滿件折現，單階，跨溫層\n\t．折扣條件：滿2件，折45元\n\t假設 購物車中溫層\"Freezer\"商品為\n\t\t| SalePageId | SaleProductSKUId | Price | Qty |\n\t\t| 50         | 50               | 75    | 1   |\n\t\t| 27         | 27               | 66    | 2   |\n\t並且 購物車中溫層\"Refrigerator\"商品為\n\t\t| SalePageId | SaleProductSKUId | Price | Qty |\n\t\t| 26         | 26               | 55    | 2   |\n\t並且 購物車中溫層\"Normal\"商品為\n\t\t| SalePageId | SaleProductSKUId | Price | Qty |\n\t\t| 25         | 25               | 2     | 2   |\n\t並且 活動\"1\"範圍設定為\n\t\t| TargetType | TargetIdList |\n\t\t| Shop       | 1            |\n\t並且 活動目標排除商品頁為\n\t\t| PromotionId | TargetExcludeSalePageList |\n\t\t| 1           | 50          |\n\t並且  現折活動\"1\"的折扣為\n\t\t| Id | TypeDef      | TotalPrice | DiscountTypeDef | DiscountRate |\n\t\t| 1  | TotalPriceV2 | 199        | DiscountRate    | 0.95         |\n\t\t| 2  | TotalPriceV2 | 299        | DiscountRate    | 0.89         |\n\t\t| 3  | TotalPriceV2 | 399        | DiscountRate    | 0.84         |\n\t並且 活動\"2\"範圍設定為\n\t\t| TargetType        | TargetIdList |\n\t\t| PromotionSalePage | 0            |\n\t並且 活動目標商品頁為\n\t\t| PromotionId | TargetSalePageList |\n\t\t| 2           | 50,25,26,27        |\n\t並且  現折活動\"2\"的折扣為\n\t\t| Id | TypeDef    | TotalQty | DiscountTypeDef | DiscountPrice |\n\t\t| 4  | TotalQtyV2 | 2        | DiscountPrice   | 45            |\n\t當 計算活動折扣\n\t那麼 購物車商品折扣後為\n\t\t| SalePageId | SaleProductSKUId | PromotionDiscount |\n\t\t| 50         | 50               | -12               |\n\t\t| 27         | 27               | -25               |\n\t\t| 26         | 26               | -19               |\n\t\t| 25         | 25               | 0                 |\n```\n\n #### 「人」寫的UAT \n\n\n\n\n\n\n```gherkin\n場景: 商品有兩檔活動，全店活動與商品活動；\n\t．第一檔是全店活動 / 排除商品B；滿額打折，\n\t．折扣條件：滿10元，打95折 / 滿20元，打89折 / 滿30元，打84折\n\t．第二檔是指定商品；滿件折現，單階，指定商品A 、商品B\n\t．折扣條件：滿2件，折3元\n\n當 購物車中的商品為\"商品A 與商品B\"\n\t\t| Title | SalePageId | SaleProductSKUId | Price | Qty |\n\t\t| 商品A   | 25         | 25               | 7.45  | 2   |\n\t\t| 商品B   | 26         | 26               | 4.45  | 2   |\n\t\n並且 第\"1\"檔是全店活動 ,排除以下商品\n\t    | Title | SalePageId |\n\t    | 商品A   | 26         |\n\n而且 第\"1\"檔折扣條件是\"滿額打折,滿10元，打95折 / 滿20元，打89折 / 滿30元，打84折\",如下\n    | Id | TypeDef      | TotalPrice | DiscountTypeDef | DiscountRate |\n    | 1  | TotalPriceV2 | 10         | DiscountRate    | 0.95         |\n    | 2  | TotalPriceV2 | 20         | DiscountRate    | 0.89         |\n    | 3  | TotalPriceV2 | 30         | DiscountRate    | 0.84         |\n\n並且 第\"2\"檔是指定商品,指定商品如下\n    | Title | SalePageId |\n    | 商品A   | 25         |\n    | 商品B   | 26         |\n    | 商品C   | 27         |\n    | 商品D   | 50         |\n\n而且 第\"2\"檔折扣條件是\"滿件折現,滿2件，折3元\",如下\n    | Id | TypeDef    | TotalQty | DiscountTypeDef | DiscountPrice |\n    | 4  | TotalQtyV2 | 2        | DiscountPrice   | 3             |\n\n當 計算活動折扣\n\n那麼 購物車商品折扣金額及折扣後小計為 \n    | Title | SalePageId | Price | Qty | PromotionDiscount | TotalPayment |\n    | 商品A   | 25         | 7.45  | 2   | -2.55             | 12.35        |\n    | 商品B   | 26         | 4.45  | 2   | -1.11             | 7.79         |\n```\n\n與 PM 及 QA 討論後 , 寫的 UAT 可閱讀性提高了  \n這裡用到了一些小技巧 , 讓 Cucumber 文件的可讀性更高  \n而不會有太多的重複方法 , 比如說把描述性的文字當作參數傳遞  \n實際上測試不會使用到這些變數 ,但是可以增加可讀性 .\n\n### 刪除台灣測試\n因為已經有了跨國所需要的測試 , \n台灣的測試便可以退場了.\n實際上也不符合現況, 如多語系、時差與小數點等問題\n\n### 解析 `CalculateShoppingCartPromotionDiscountV2Processor` \n\n![](https://i.imgur.com/FioG5NG.jpg)\n1. 無折扣的情境\n2. 新舊相容的情境\n3. 排序\n4. 計算折扣金額\n5. 看見相依\n    1. 程式碼中有 new 別的 class 的部份\n    2. 程式碼中有使用靜態方法的部份\n\n### 補上單元測試\n\n最簡單的重構,就是將整個方法內的四個邏輯  \n拆成四塊個子方法,並為他們加上單元測試.  \n修改的過程,如果有紅燈就要修改成綠燈,  \n而整個成品要保證整合測試與單元測試都是綠燈. \n\n此外,重構的過程中如果過到靜態方法,  \n或是 new 新物件, 都很有可能是種相依,  \n可以透過一些方法作解耦,  \n參考之前的文章[單元測試這樣玩就對了](/2017/04/23/unitestwriting/) \n\n### 重構\n最後一步就是大膽的重構了,  \n有了測試作保護,  \n可以作更大範圍的重構,  \n如下圖示,這裡揭露了在台灣原有的繼承結構, \n而紅色的部份是在跨國用不到的類別.\n![](https://i.imgur.com/VQ10wY6.jpg)\n\n下一步，待續…\n\n(fin)","source":"_posts/2017/integrated_testing_partice.md","raw":"---\ntitle: \"單元測試與重構記錄(一)\"\ndate: 2017/10/31 00:42:10\ntag:\n  - Unit Testing\n  - Integrated Testing\n---\n\n## 前情提要\n有幸參與了一個跨國的專案,  \n為了快速上線，決定將整套原本在台灣程式碼搬移到跨國專案上,  \n上線後再依使用者的需求調整開發功能, \n而在搬移的過程中,有需多模組並未開啟。\n…\n\n## 現況\n遺留代碼 → 跨國 遇到的問題\n1. Copy Paste 最快卻不一定最適合\n2. Copy Paste 最快卻不一定改得動\n3. Copy Paste 最快但是有的地方沒Copy完\n\n`用明朝的劍，斬清朝的官`\n\n## 實務需求\n將本來跨國未開啟的**折扣活動**模組打開,  \n簡單的流程大致如下:\n購物車 → 取得購物車資料 → 折扣活動 → 計算\n\n實務上,整個流程作了許多事\n![](https://i.imgur.com/pM36Joo.jpg)\n\n應該說作了太多事. \n![](https://i.imgur.com/NU0PqCh.jpg)\n\n程式碼有壞味道,卻不能修改(重構). \n因為沒有測試保護. \n\n單一的Process，複雜度過高的方法(12)\n\n`CalculateShoppingCartPromotionDiscountV2Processor.Process()`\n\n![](https://i.imgur.com/qleqGPb.jpg)\n\n### 目標與執行順序\n1. 由 PM 或 QA 補足整合測試情境到足夠\n    - 由實務上的需求來認定\n2. 刪除台灣的測試\n3. 解析 `CalculateShoppingCartPromotionDiscountV2Processor` \n4. 補上單元測試\n    - Code Coverage(測試覆蓋率)\n5. 重構\n\n## 最終的目標是重構\n\n- 心態:[沒有時間，完美的借口](http://www.danielteng.com/2012/09/25/no-time-to-learn-perfect-excuse/)\n- 重構前要先作整合測試\n- 現有的整合測試的缺陷\n    1. 測試項目不符合馬來西亞現狀\n    2. 測試項目未處理多語系\n    3. 測試項目未處理小數點\n    4. 測試項目難以閱讀\n    5. 測試項目有重覆的覆蓋範圍\n- RD與PM與QA合作\n\n### UAT 讓「人」讀得懂\n\n#### 原本的 UAT (RD)\n```gherkin\n場景: case37：商品活動+全店活動(有排除)；宅配，運費50元，滿350免運\n\t．全店活動 / 有排除商品；滿額打折，多階(滿第1階)，跨溫層\n\t．折扣條件：滿199元，打95折 / 滿299元，打89折 / 滿399元，打84折\n\t．商品活動；滿件折現，單階，跨溫層\n\t．折扣條件：滿2件，折45元\n\t假設 購物車中溫層\"Freezer\"商品為\n\t\t| SalePageId | SaleProductSKUId | Price | Qty |\n\t\t| 50         | 50               | 75    | 1   |\n\t\t| 27         | 27               | 66    | 2   |\n\t並且 購物車中溫層\"Refrigerator\"商品為\n\t\t| SalePageId | SaleProductSKUId | Price | Qty |\n\t\t| 26         | 26               | 55    | 2   |\n\t並且 購物車中溫層\"Normal\"商品為\n\t\t| SalePageId | SaleProductSKUId | Price | Qty |\n\t\t| 25         | 25               | 2     | 2   |\n\t並且 活動\"1\"範圍設定為\n\t\t| TargetType | TargetIdList |\n\t\t| Shop       | 1            |\n\t並且 活動目標排除商品頁為\n\t\t| PromotionId | TargetExcludeSalePageList |\n\t\t| 1           | 50          |\n\t並且  現折活動\"1\"的折扣為\n\t\t| Id | TypeDef      | TotalPrice | DiscountTypeDef | DiscountRate |\n\t\t| 1  | TotalPriceV2 | 199        | DiscountRate    | 0.95         |\n\t\t| 2  | TotalPriceV2 | 299        | DiscountRate    | 0.89         |\n\t\t| 3  | TotalPriceV2 | 399        | DiscountRate    | 0.84         |\n\t並且 活動\"2\"範圍設定為\n\t\t| TargetType        | TargetIdList |\n\t\t| PromotionSalePage | 0            |\n\t並且 活動目標商品頁為\n\t\t| PromotionId | TargetSalePageList |\n\t\t| 2           | 50,25,26,27        |\n\t並且  現折活動\"2\"的折扣為\n\t\t| Id | TypeDef    | TotalQty | DiscountTypeDef | DiscountPrice |\n\t\t| 4  | TotalQtyV2 | 2        | DiscountPrice   | 45            |\n\t當 計算活動折扣\n\t那麼 購物車商品折扣後為\n\t\t| SalePageId | SaleProductSKUId | PromotionDiscount |\n\t\t| 50         | 50               | -12               |\n\t\t| 27         | 27               | -25               |\n\t\t| 26         | 26               | -19               |\n\t\t| 25         | 25               | 0                 |\n```\n\n #### 「人」寫的UAT \n\n\n\n\n\n\n```gherkin\n場景: 商品有兩檔活動，全店活動與商品活動；\n\t．第一檔是全店活動 / 排除商品B；滿額打折，\n\t．折扣條件：滿10元，打95折 / 滿20元，打89折 / 滿30元，打84折\n\t．第二檔是指定商品；滿件折現，單階，指定商品A 、商品B\n\t．折扣條件：滿2件，折3元\n\n當 購物車中的商品為\"商品A 與商品B\"\n\t\t| Title | SalePageId | SaleProductSKUId | Price | Qty |\n\t\t| 商品A   | 25         | 25               | 7.45  | 2   |\n\t\t| 商品B   | 26         | 26               | 4.45  | 2   |\n\t\n並且 第\"1\"檔是全店活動 ,排除以下商品\n\t    | Title | SalePageId |\n\t    | 商品A   | 26         |\n\n而且 第\"1\"檔折扣條件是\"滿額打折,滿10元，打95折 / 滿20元，打89折 / 滿30元，打84折\",如下\n    | Id | TypeDef      | TotalPrice | DiscountTypeDef | DiscountRate |\n    | 1  | TotalPriceV2 | 10         | DiscountRate    | 0.95         |\n    | 2  | TotalPriceV2 | 20         | DiscountRate    | 0.89         |\n    | 3  | TotalPriceV2 | 30         | DiscountRate    | 0.84         |\n\n並且 第\"2\"檔是指定商品,指定商品如下\n    | Title | SalePageId |\n    | 商品A   | 25         |\n    | 商品B   | 26         |\n    | 商品C   | 27         |\n    | 商品D   | 50         |\n\n而且 第\"2\"檔折扣條件是\"滿件折現,滿2件，折3元\",如下\n    | Id | TypeDef    | TotalQty | DiscountTypeDef | DiscountPrice |\n    | 4  | TotalQtyV2 | 2        | DiscountPrice   | 3             |\n\n當 計算活動折扣\n\n那麼 購物車商品折扣金額及折扣後小計為 \n    | Title | SalePageId | Price | Qty | PromotionDiscount | TotalPayment |\n    | 商品A   | 25         | 7.45  | 2   | -2.55             | 12.35        |\n    | 商品B   | 26         | 4.45  | 2   | -1.11             | 7.79         |\n```\n\n與 PM 及 QA 討論後 , 寫的 UAT 可閱讀性提高了  \n這裡用到了一些小技巧 , 讓 Cucumber 文件的可讀性更高  \n而不會有太多的重複方法 , 比如說把描述性的文字當作參數傳遞  \n實際上測試不會使用到這些變數 ,但是可以增加可讀性 .\n\n### 刪除台灣測試\n因為已經有了跨國所需要的測試 , \n台灣的測試便可以退場了.\n實際上也不符合現況, 如多語系、時差與小數點等問題\n\n### 解析 `CalculateShoppingCartPromotionDiscountV2Processor` \n\n![](https://i.imgur.com/FioG5NG.jpg)\n1. 無折扣的情境\n2. 新舊相容的情境\n3. 排序\n4. 計算折扣金額\n5. 看見相依\n    1. 程式碼中有 new 別的 class 的部份\n    2. 程式碼中有使用靜態方法的部份\n\n### 補上單元測試\n\n最簡單的重構,就是將整個方法內的四個邏輯  \n拆成四塊個子方法,並為他們加上單元測試.  \n修改的過程,如果有紅燈就要修改成綠燈,  \n而整個成品要保證整合測試與單元測試都是綠燈. \n\n此外,重構的過程中如果過到靜態方法,  \n或是 new 新物件, 都很有可能是種相依,  \n可以透過一些方法作解耦,  \n參考之前的文章[單元測試這樣玩就對了](/2017/04/23/unitestwriting/) \n\n### 重構\n最後一步就是大膽的重構了,  \n有了測試作保護,  \n可以作更大範圍的重構,  \n如下圖示,這裡揭露了在台灣原有的繼承結構, \n而紅色的部份是在跨國用不到的類別.\n![](https://i.imgur.com/VQ10wY6.jpg)\n\n下一步，待續…\n\n(fin)","slug":"2017/integrated_testing_partice","published":1,"updated":"2019-06-10T14:43:28.887Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wk30016b0vxrs1pfz6i","content":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>有幸參與了一個跨國的專案,<br>為了快速上線，決定將整套原本在台灣程式碼搬移到跨國專案上,<br>上線後再依使用者的需求調整開發功能,<br>而在搬移的過程中,有需多模組並未開啟。<br>…</p>\n<h2 id=\"現況\"><a href=\"#現況\" class=\"headerlink\" title=\"現況\"></a>現況</h2><p>遺留代碼 → 跨國 遇到的問題</p>\n<ol>\n<li>Copy Paste 最快卻不一定最適合</li>\n<li>Copy Paste 最快卻不一定改得動</li>\n<li>Copy Paste 最快但是有的地方沒Copy完</li>\n</ol>\n<p><code>用明朝的劍，斬清朝的官</code></p>\n<h2 id=\"實務需求\"><a href=\"#實務需求\" class=\"headerlink\" title=\"實務需求\"></a>實務需求</h2><p>將本來跨國未開啟的<strong>折扣活動</strong>模組打開,<br>簡單的流程大致如下:<br>購物車 → 取得購物車資料 → 折扣活動 → 計算</p>\n<p>實務上,整個流程作了許多事<br><img src=\"https://i.imgur.com/pM36Joo.jpg\" alt></p>\n<p>應該說作了太多事.<br><img src=\"https://i.imgur.com/NU0PqCh.jpg\" alt></p>\n<p>程式碼有壞味道,卻不能修改(重構).<br>因為沒有測試保護. </p>\n<p>單一的Process，複雜度過高的方法(12)</p>\n<p><code>CalculateShoppingCartPromotionDiscountV2Processor.Process()</code></p>\n<p><img src=\"https://i.imgur.com/qleqGPb.jpg\" alt></p>\n<h3 id=\"目標與執行順序\"><a href=\"#目標與執行順序\" class=\"headerlink\" title=\"目標與執行順序\"></a>目標與執行順序</h3><ol>\n<li>由 PM 或 QA 補足整合測試情境到足夠<ul>\n<li>由實務上的需求來認定</li>\n</ul>\n</li>\n<li>刪除台灣的測試</li>\n<li>解析 <code>CalculateShoppingCartPromotionDiscountV2Processor</code> </li>\n<li>補上單元測試<ul>\n<li>Code Coverage(測試覆蓋率)</li>\n</ul>\n</li>\n<li>重構</li>\n</ol>\n<h2 id=\"最終的目標是重構\"><a href=\"#最終的目標是重構\" class=\"headerlink\" title=\"最終的目標是重構\"></a>最終的目標是重構</h2><ul>\n<li>心態:<a href=\"http://www.danielteng.com/2012/09/25/no-time-to-learn-perfect-excuse/\" target=\"_blank\" rel=\"noopener\">沒有時間，完美的借口</a></li>\n<li>重構前要先作整合測試</li>\n<li>現有的整合測試的缺陷<ol>\n<li>測試項目不符合馬來西亞現狀</li>\n<li>測試項目未處理多語系</li>\n<li>測試項目未處理小數點</li>\n<li>測試項目難以閱讀</li>\n<li>測試項目有重覆的覆蓋範圍</li>\n</ol>\n</li>\n<li>RD與PM與QA合作</li>\n</ul>\n<h3 id=\"UAT-讓「人」讀得懂\"><a href=\"#UAT-讓「人」讀得懂\" class=\"headerlink\" title=\"UAT 讓「人」讀得懂\"></a>UAT 讓「人」讀得懂</h3><h4 id=\"原本的-UAT-RD\"><a href=\"#原本的-UAT-RD\" class=\"headerlink\" title=\"原本的 UAT (RD)\"></a>原本的 UAT (RD)</h4><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">場景: case37：商品活動+全店活動(有排除)；宅配，運費50元，滿350免運</span><br><span class=\"line\">\t．全店活動 / 有排除商品；滿額打折，多階(滿第1階)，跨溫層</span><br><span class=\"line\">\t．折扣條件：滿199元，打95折 / 滿299元，打89折 / 滿399元，打84折</span><br><span class=\"line\">\t．商品活動；滿件折現，單階，跨溫層</span><br><span class=\"line\">\t．折扣條件：滿2件，折45元</span><br><span class=\"line\">\t假設 購物車中溫層<span class=\"string\">\"Freezer\"</span>商品為</span><br><span class=\"line\">\t\t|<span class=\"string\"> SalePageId </span>|<span class=\"string\"> SaleProductSKUId </span>|<span class=\"string\"> Price </span>|<span class=\"string\"> Qty </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 50         </span>|<span class=\"string\"> 50               </span>|<span class=\"string\"> 75    </span>|<span class=\"string\"> 1   </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 27         </span>|<span class=\"string\"> 27               </span>|<span class=\"string\"> 66    </span>|<span class=\"string\"> 2   </span>|</span><br><span class=\"line\">\t並且 購物車中溫層<span class=\"string\">\"Refrigerator\"</span>商品為</span><br><span class=\"line\">\t\t|<span class=\"string\"> SalePageId </span>|<span class=\"string\"> SaleProductSKUId </span>|<span class=\"string\"> Price </span>|<span class=\"string\"> Qty </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 26         </span>|<span class=\"string\"> 26               </span>|<span class=\"string\"> 55    </span>|<span class=\"string\"> 2   </span>|</span><br><span class=\"line\">\t並且 購物車中溫層<span class=\"string\">\"Normal\"</span>商品為</span><br><span class=\"line\">\t\t|<span class=\"string\"> SalePageId </span>|<span class=\"string\"> SaleProductSKUId </span>|<span class=\"string\"> Price </span>|<span class=\"string\"> Qty </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 25         </span>|<span class=\"string\"> 25               </span>|<span class=\"string\"> 2     </span>|<span class=\"string\"> 2   </span>|</span><br><span class=\"line\">\t並且 活動<span class=\"string\">\"1\"</span>範圍設定為</span><br><span class=\"line\">\t\t|<span class=\"string\"> TargetType </span>|<span class=\"string\"> TargetIdList </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> Shop       </span>|<span class=\"string\"> 1            </span>|</span><br><span class=\"line\">\t並且 活動目標排除商品頁為</span><br><span class=\"line\">\t\t|<span class=\"string\"> PromotionId </span>|<span class=\"string\"> TargetExcludeSalePageList </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 1           </span>|<span class=\"string\"> 50          </span>|</span><br><span class=\"line\">\t並且  現折活動<span class=\"string\">\"1\"</span>的折扣為</span><br><span class=\"line\">\t\t|<span class=\"string\"> Id </span>|<span class=\"string\"> TypeDef      </span>|<span class=\"string\"> TotalPrice </span>|<span class=\"string\"> DiscountTypeDef </span>|<span class=\"string\"> DiscountRate </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 1  </span>|<span class=\"string\"> TotalPriceV2 </span>|<span class=\"string\"> 199        </span>|<span class=\"string\"> DiscountRate    </span>|<span class=\"string\"> 0.95         </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 2  </span>|<span class=\"string\"> TotalPriceV2 </span>|<span class=\"string\"> 299        </span>|<span class=\"string\"> DiscountRate    </span>|<span class=\"string\"> 0.89         </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 3  </span>|<span class=\"string\"> TotalPriceV2 </span>|<span class=\"string\"> 399        </span>|<span class=\"string\"> DiscountRate    </span>|<span class=\"string\"> 0.84         </span>|</span><br><span class=\"line\">\t並且 活動<span class=\"string\">\"2\"</span>範圍設定為</span><br><span class=\"line\">\t\t|<span class=\"string\"> TargetType        </span>|<span class=\"string\"> TargetIdList </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> PromotionSalePage </span>|<span class=\"string\"> 0            </span>|</span><br><span class=\"line\">\t並且 活動目標商品頁為</span><br><span class=\"line\">\t\t|<span class=\"string\"> PromotionId </span>|<span class=\"string\"> TargetSalePageList </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 2           </span>|<span class=\"string\"> 50,25,26,27        </span>|</span><br><span class=\"line\">\t並且  現折活動<span class=\"string\">\"2\"</span>的折扣為</span><br><span class=\"line\">\t\t|<span class=\"string\"> Id </span>|<span class=\"string\"> TypeDef    </span>|<span class=\"string\"> TotalQty </span>|<span class=\"string\"> DiscountTypeDef </span>|<span class=\"string\"> DiscountPrice </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 4  </span>|<span class=\"string\"> TotalQtyV2 </span>|<span class=\"string\"> 2        </span>|<span class=\"string\"> DiscountPrice   </span>|<span class=\"string\"> 45            </span>|</span><br><span class=\"line\">\t當 計算活動折扣</span><br><span class=\"line\">\t那麼 購物車商品折扣後為</span><br><span class=\"line\">\t\t|<span class=\"string\"> SalePageId </span>|<span class=\"string\"> SaleProductSKUId </span>|<span class=\"string\"> PromotionDiscount </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 50         </span>|<span class=\"string\"> 50               </span>|<span class=\"string\"> -12               </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 27         </span>|<span class=\"string\"> 27               </span>|<span class=\"string\"> -25               </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 26         </span>|<span class=\"string\"> 26               </span>|<span class=\"string\"> -19               </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 25         </span>|<span class=\"string\"> 25               </span>|<span class=\"string\"> 0                 </span>|</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"「人」寫的UAT\"><a href=\"#「人」寫的UAT\" class=\"headerlink\" title=\"「人」寫的UAT\"></a>「人」寫的UAT</h4><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">場景: 商品有兩檔活動，全店活動與商品活動；</span><br><span class=\"line\">\t．第一檔是全店活動 / 排除商品B；滿額打折，</span><br><span class=\"line\">\t．折扣條件：滿10元，打95折 / 滿20元，打89折 / 滿30元，打84折</span><br><span class=\"line\">\t．第二檔是指定商品；滿件折現，單階，指定商品A 、商品B</span><br><span class=\"line\">\t．折扣條件：滿2件，折3元</span><br><span class=\"line\"></span><br><span class=\"line\">當 購物車中的商品為<span class=\"string\">\"商品A 與商品B\"</span></span><br><span class=\"line\">\t\t|<span class=\"string\"> Title </span>|<span class=\"string\"> SalePageId </span>|<span class=\"string\"> SaleProductSKUId </span>|<span class=\"string\"> Price </span>|<span class=\"string\"> Qty </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 商品A   </span>|<span class=\"string\"> 25         </span>|<span class=\"string\"> 25               </span>|<span class=\"string\"> 7.45  </span>|<span class=\"string\"> 2   </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 商品B   </span>|<span class=\"string\"> 26         </span>|<span class=\"string\"> 26               </span>|<span class=\"string\"> 4.45  </span>|<span class=\"string\"> 2   </span>|</span><br><span class=\"line\">\t</span><br><span class=\"line\">並且 第<span class=\"string\">\"1\"</span>檔是全店活動 ,排除以下商品</span><br><span class=\"line\">\t    |<span class=\"string\"> Title </span>|<span class=\"string\"> SalePageId </span>|</span><br><span class=\"line\">\t    |<span class=\"string\"> 商品A   </span>|<span class=\"string\"> 26         </span>|</span><br><span class=\"line\"></span><br><span class=\"line\">而且 第<span class=\"string\">\"1\"</span>檔折扣條件是<span class=\"string\">\"滿額打折,滿10元，打95折 / 滿20元，打89折 / 滿30元，打84折\"</span>,如下</span><br><span class=\"line\">    |<span class=\"string\"> Id </span>|<span class=\"string\"> TypeDef      </span>|<span class=\"string\"> TotalPrice </span>|<span class=\"string\"> DiscountTypeDef </span>|<span class=\"string\"> DiscountRate </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 1  </span>|<span class=\"string\"> TotalPriceV2 </span>|<span class=\"string\"> 10         </span>|<span class=\"string\"> DiscountRate    </span>|<span class=\"string\"> 0.95         </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 2  </span>|<span class=\"string\"> TotalPriceV2 </span>|<span class=\"string\"> 20         </span>|<span class=\"string\"> DiscountRate    </span>|<span class=\"string\"> 0.89         </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 3  </span>|<span class=\"string\"> TotalPriceV2 </span>|<span class=\"string\"> 30         </span>|<span class=\"string\"> DiscountRate    </span>|<span class=\"string\"> 0.84         </span>|</span><br><span class=\"line\"></span><br><span class=\"line\">並且 第<span class=\"string\">\"2\"</span>檔是指定商品,指定商品如下</span><br><span class=\"line\">    |<span class=\"string\"> Title </span>|<span class=\"string\"> SalePageId </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 商品A   </span>|<span class=\"string\"> 25         </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 商品B   </span>|<span class=\"string\"> 26         </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 商品C   </span>|<span class=\"string\"> 27         </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 商品D   </span>|<span class=\"string\"> 50         </span>|</span><br><span class=\"line\"></span><br><span class=\"line\">而且 第<span class=\"string\">\"2\"</span>檔折扣條件是<span class=\"string\">\"滿件折現,滿2件，折3元\"</span>,如下</span><br><span class=\"line\">    |<span class=\"string\"> Id </span>|<span class=\"string\"> TypeDef    </span>|<span class=\"string\"> TotalQty </span>|<span class=\"string\"> DiscountTypeDef </span>|<span class=\"string\"> DiscountPrice </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 4  </span>|<span class=\"string\"> TotalQtyV2 </span>|<span class=\"string\"> 2        </span>|<span class=\"string\"> DiscountPrice   </span>|<span class=\"string\"> 3             </span>|</span><br><span class=\"line\"></span><br><span class=\"line\">當 計算活動折扣</span><br><span class=\"line\"></span><br><span class=\"line\">那麼 購物車商品折扣金額及折扣後小計為 </span><br><span class=\"line\">    |<span class=\"string\"> Title </span>|<span class=\"string\"> SalePageId </span>|<span class=\"string\"> Price </span>|<span class=\"string\"> Qty </span>|<span class=\"string\"> PromotionDiscount </span>|<span class=\"string\"> TotalPayment </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 商品A   </span>|<span class=\"string\"> 25         </span>|<span class=\"string\"> 7.45  </span>|<span class=\"string\"> 2   </span>|<span class=\"string\"> -2.55             </span>|<span class=\"string\"> 12.35        </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 商品B   </span>|<span class=\"string\"> 26         </span>|<span class=\"string\"> 4.45  </span>|<span class=\"string\"> 2   </span>|<span class=\"string\"> -1.11             </span>|<span class=\"string\"> 7.79         </span>|</span><br></pre></td></tr></table></figure>\n\n<p>與 PM 及 QA 討論後 , 寫的 UAT 可閱讀性提高了<br>這裡用到了一些小技巧 , 讓 Cucumber 文件的可讀性更高<br>而不會有太多的重複方法 , 比如說把描述性的文字當作參數傳遞<br>實際上測試不會使用到這些變數 ,但是可以增加可讀性 .</p>\n<h3 id=\"刪除台灣測試\"><a href=\"#刪除台灣測試\" class=\"headerlink\" title=\"刪除台灣測試\"></a>刪除台灣測試</h3><p>因為已經有了跨國所需要的測試 ,<br>台灣的測試便可以退場了.<br>實際上也不符合現況, 如多語系、時差與小數點等問題</p>\n<h3 id=\"解析-CalculateShoppingCartPromotionDiscountV2Processor\"><a href=\"#解析-CalculateShoppingCartPromotionDiscountV2Processor\" class=\"headerlink\" title=\"解析 CalculateShoppingCartPromotionDiscountV2Processor\"></a>解析 <code>CalculateShoppingCartPromotionDiscountV2Processor</code></h3><p><img src=\"https://i.imgur.com/FioG5NG.jpg\" alt></p>\n<ol>\n<li>無折扣的情境</li>\n<li>新舊相容的情境</li>\n<li>排序</li>\n<li>計算折扣金額</li>\n<li>看見相依<ol>\n<li>程式碼中有 new 別的 class 的部份</li>\n<li>程式碼中有使用靜態方法的部份</li>\n</ol>\n</li>\n</ol>\n<h3 id=\"補上單元測試\"><a href=\"#補上單元測試\" class=\"headerlink\" title=\"補上單元測試\"></a>補上單元測試</h3><p>最簡單的重構,就是將整個方法內的四個邏輯<br>拆成四塊個子方法,並為他們加上單元測試.<br>修改的過程,如果有紅燈就要修改成綠燈,<br>而整個成品要保證整合測試與單元測試都是綠燈. </p>\n<p>此外,重構的過程中如果過到靜態方法,<br>或是 new 新物件, 都很有可能是種相依,<br>可以透過一些方法作解耦,<br>參考之前的文章<a href=\"/2017/04/23/unitestwriting/\">單元測試這樣玩就對了</a> </p>\n<h3 id=\"重構\"><a href=\"#重構\" class=\"headerlink\" title=\"重構\"></a>重構</h3><p>最後一步就是大膽的重構了,<br>有了測試作保護,<br>可以作更大範圍的重構,<br>如下圖示,這裡揭露了在台灣原有的繼承結構,<br>而紅色的部份是在跨國用不到的類別.<br><img src=\"https://i.imgur.com/VQ10wY6.jpg\" alt></p>\n<p>下一步，待續…</p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>有幸參與了一個跨國的專案,<br>為了快速上線，決定將整套原本在台灣程式碼搬移到跨國專案上,<br>上線後再依使用者的需求調整開發功能,<br>而在搬移的過程中,有需多模組並未開啟。<br>…</p>\n<h2 id=\"現況\"><a href=\"#現況\" class=\"headerlink\" title=\"現況\"></a>現況</h2><p>遺留代碼 → 跨國 遇到的問題</p>\n<ol>\n<li>Copy Paste 最快卻不一定最適合</li>\n<li>Copy Paste 最快卻不一定改得動</li>\n<li>Copy Paste 最快但是有的地方沒Copy完</li>\n</ol>\n<p><code>用明朝的劍，斬清朝的官</code></p>\n<h2 id=\"實務需求\"><a href=\"#實務需求\" class=\"headerlink\" title=\"實務需求\"></a>實務需求</h2><p>將本來跨國未開啟的<strong>折扣活動</strong>模組打開,<br>簡單的流程大致如下:<br>購物車 → 取得購物車資料 → 折扣活動 → 計算</p>\n<p>實務上,整個流程作了許多事<br><img src=\"https://i.imgur.com/pM36Joo.jpg\" alt></p>\n<p>應該說作了太多事.<br><img src=\"https://i.imgur.com/NU0PqCh.jpg\" alt></p>\n<p>程式碼有壞味道,卻不能修改(重構).<br>因為沒有測試保護. </p>\n<p>單一的Process，複雜度過高的方法(12)</p>\n<p><code>CalculateShoppingCartPromotionDiscountV2Processor.Process()</code></p>\n<p><img src=\"https://i.imgur.com/qleqGPb.jpg\" alt></p>\n<h3 id=\"目標與執行順序\"><a href=\"#目標與執行順序\" class=\"headerlink\" title=\"目標與執行順序\"></a>目標與執行順序</h3><ol>\n<li>由 PM 或 QA 補足整合測試情境到足夠<ul>\n<li>由實務上的需求來認定</li>\n</ul>\n</li>\n<li>刪除台灣的測試</li>\n<li>解析 <code>CalculateShoppingCartPromotionDiscountV2Processor</code> </li>\n<li>補上單元測試<ul>\n<li>Code Coverage(測試覆蓋率)</li>\n</ul>\n</li>\n<li>重構</li>\n</ol>\n<h2 id=\"最終的目標是重構\"><a href=\"#最終的目標是重構\" class=\"headerlink\" title=\"最終的目標是重構\"></a>最終的目標是重構</h2><ul>\n<li>心態:<a href=\"http://www.danielteng.com/2012/09/25/no-time-to-learn-perfect-excuse/\" target=\"_blank\" rel=\"noopener\">沒有時間，完美的借口</a></li>\n<li>重構前要先作整合測試</li>\n<li>現有的整合測試的缺陷<ol>\n<li>測試項目不符合馬來西亞現狀</li>\n<li>測試項目未處理多語系</li>\n<li>測試項目未處理小數點</li>\n<li>測試項目難以閱讀</li>\n<li>測試項目有重覆的覆蓋範圍</li>\n</ol>\n</li>\n<li>RD與PM與QA合作</li>\n</ul>\n<h3 id=\"UAT-讓「人」讀得懂\"><a href=\"#UAT-讓「人」讀得懂\" class=\"headerlink\" title=\"UAT 讓「人」讀得懂\"></a>UAT 讓「人」讀得懂</h3><h4 id=\"原本的-UAT-RD\"><a href=\"#原本的-UAT-RD\" class=\"headerlink\" title=\"原本的 UAT (RD)\"></a>原本的 UAT (RD)</h4><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">場景: case37：商品活動+全店活動(有排除)；宅配，運費50元，滿350免運</span><br><span class=\"line\">\t．全店活動 / 有排除商品；滿額打折，多階(滿第1階)，跨溫層</span><br><span class=\"line\">\t．折扣條件：滿199元，打95折 / 滿299元，打89折 / 滿399元，打84折</span><br><span class=\"line\">\t．商品活動；滿件折現，單階，跨溫層</span><br><span class=\"line\">\t．折扣條件：滿2件，折45元</span><br><span class=\"line\">\t假設 購物車中溫層<span class=\"string\">\"Freezer\"</span>商品為</span><br><span class=\"line\">\t\t|<span class=\"string\"> SalePageId </span>|<span class=\"string\"> SaleProductSKUId </span>|<span class=\"string\"> Price </span>|<span class=\"string\"> Qty </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 50         </span>|<span class=\"string\"> 50               </span>|<span class=\"string\"> 75    </span>|<span class=\"string\"> 1   </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 27         </span>|<span class=\"string\"> 27               </span>|<span class=\"string\"> 66    </span>|<span class=\"string\"> 2   </span>|</span><br><span class=\"line\">\t並且 購物車中溫層<span class=\"string\">\"Refrigerator\"</span>商品為</span><br><span class=\"line\">\t\t|<span class=\"string\"> SalePageId </span>|<span class=\"string\"> SaleProductSKUId </span>|<span class=\"string\"> Price </span>|<span class=\"string\"> Qty </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 26         </span>|<span class=\"string\"> 26               </span>|<span class=\"string\"> 55    </span>|<span class=\"string\"> 2   </span>|</span><br><span class=\"line\">\t並且 購物車中溫層<span class=\"string\">\"Normal\"</span>商品為</span><br><span class=\"line\">\t\t|<span class=\"string\"> SalePageId </span>|<span class=\"string\"> SaleProductSKUId </span>|<span class=\"string\"> Price </span>|<span class=\"string\"> Qty </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 25         </span>|<span class=\"string\"> 25               </span>|<span class=\"string\"> 2     </span>|<span class=\"string\"> 2   </span>|</span><br><span class=\"line\">\t並且 活動<span class=\"string\">\"1\"</span>範圍設定為</span><br><span class=\"line\">\t\t|<span class=\"string\"> TargetType </span>|<span class=\"string\"> TargetIdList </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> Shop       </span>|<span class=\"string\"> 1            </span>|</span><br><span class=\"line\">\t並且 活動目標排除商品頁為</span><br><span class=\"line\">\t\t|<span class=\"string\"> PromotionId </span>|<span class=\"string\"> TargetExcludeSalePageList </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 1           </span>|<span class=\"string\"> 50          </span>|</span><br><span class=\"line\">\t並且  現折活動<span class=\"string\">\"1\"</span>的折扣為</span><br><span class=\"line\">\t\t|<span class=\"string\"> Id </span>|<span class=\"string\"> TypeDef      </span>|<span class=\"string\"> TotalPrice </span>|<span class=\"string\"> DiscountTypeDef </span>|<span class=\"string\"> DiscountRate </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 1  </span>|<span class=\"string\"> TotalPriceV2 </span>|<span class=\"string\"> 199        </span>|<span class=\"string\"> DiscountRate    </span>|<span class=\"string\"> 0.95         </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 2  </span>|<span class=\"string\"> TotalPriceV2 </span>|<span class=\"string\"> 299        </span>|<span class=\"string\"> DiscountRate    </span>|<span class=\"string\"> 0.89         </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 3  </span>|<span class=\"string\"> TotalPriceV2 </span>|<span class=\"string\"> 399        </span>|<span class=\"string\"> DiscountRate    </span>|<span class=\"string\"> 0.84         </span>|</span><br><span class=\"line\">\t並且 活動<span class=\"string\">\"2\"</span>範圍設定為</span><br><span class=\"line\">\t\t|<span class=\"string\"> TargetType        </span>|<span class=\"string\"> TargetIdList </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> PromotionSalePage </span>|<span class=\"string\"> 0            </span>|</span><br><span class=\"line\">\t並且 活動目標商品頁為</span><br><span class=\"line\">\t\t|<span class=\"string\"> PromotionId </span>|<span class=\"string\"> TargetSalePageList </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 2           </span>|<span class=\"string\"> 50,25,26,27        </span>|</span><br><span class=\"line\">\t並且  現折活動<span class=\"string\">\"2\"</span>的折扣為</span><br><span class=\"line\">\t\t|<span class=\"string\"> Id </span>|<span class=\"string\"> TypeDef    </span>|<span class=\"string\"> TotalQty </span>|<span class=\"string\"> DiscountTypeDef </span>|<span class=\"string\"> DiscountPrice </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 4  </span>|<span class=\"string\"> TotalQtyV2 </span>|<span class=\"string\"> 2        </span>|<span class=\"string\"> DiscountPrice   </span>|<span class=\"string\"> 45            </span>|</span><br><span class=\"line\">\t當 計算活動折扣</span><br><span class=\"line\">\t那麼 購物車商品折扣後為</span><br><span class=\"line\">\t\t|<span class=\"string\"> SalePageId </span>|<span class=\"string\"> SaleProductSKUId </span>|<span class=\"string\"> PromotionDiscount </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 50         </span>|<span class=\"string\"> 50               </span>|<span class=\"string\"> -12               </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 27         </span>|<span class=\"string\"> 27               </span>|<span class=\"string\"> -25               </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 26         </span>|<span class=\"string\"> 26               </span>|<span class=\"string\"> -19               </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 25         </span>|<span class=\"string\"> 25               </span>|<span class=\"string\"> 0                 </span>|</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"「人」寫的UAT\"><a href=\"#「人」寫的UAT\" class=\"headerlink\" title=\"「人」寫的UAT\"></a>「人」寫的UAT</h4><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">場景: 商品有兩檔活動，全店活動與商品活動；</span><br><span class=\"line\">\t．第一檔是全店活動 / 排除商品B；滿額打折，</span><br><span class=\"line\">\t．折扣條件：滿10元，打95折 / 滿20元，打89折 / 滿30元，打84折</span><br><span class=\"line\">\t．第二檔是指定商品；滿件折現，單階，指定商品A 、商品B</span><br><span class=\"line\">\t．折扣條件：滿2件，折3元</span><br><span class=\"line\"></span><br><span class=\"line\">當 購物車中的商品為<span class=\"string\">\"商品A 與商品B\"</span></span><br><span class=\"line\">\t\t|<span class=\"string\"> Title </span>|<span class=\"string\"> SalePageId </span>|<span class=\"string\"> SaleProductSKUId </span>|<span class=\"string\"> Price </span>|<span class=\"string\"> Qty </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 商品A   </span>|<span class=\"string\"> 25         </span>|<span class=\"string\"> 25               </span>|<span class=\"string\"> 7.45  </span>|<span class=\"string\"> 2   </span>|</span><br><span class=\"line\">\t\t|<span class=\"string\"> 商品B   </span>|<span class=\"string\"> 26         </span>|<span class=\"string\"> 26               </span>|<span class=\"string\"> 4.45  </span>|<span class=\"string\"> 2   </span>|</span><br><span class=\"line\">\t</span><br><span class=\"line\">並且 第<span class=\"string\">\"1\"</span>檔是全店活動 ,排除以下商品</span><br><span class=\"line\">\t    |<span class=\"string\"> Title </span>|<span class=\"string\"> SalePageId </span>|</span><br><span class=\"line\">\t    |<span class=\"string\"> 商品A   </span>|<span class=\"string\"> 26         </span>|</span><br><span class=\"line\"></span><br><span class=\"line\">而且 第<span class=\"string\">\"1\"</span>檔折扣條件是<span class=\"string\">\"滿額打折,滿10元，打95折 / 滿20元，打89折 / 滿30元，打84折\"</span>,如下</span><br><span class=\"line\">    |<span class=\"string\"> Id </span>|<span class=\"string\"> TypeDef      </span>|<span class=\"string\"> TotalPrice </span>|<span class=\"string\"> DiscountTypeDef </span>|<span class=\"string\"> DiscountRate </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 1  </span>|<span class=\"string\"> TotalPriceV2 </span>|<span class=\"string\"> 10         </span>|<span class=\"string\"> DiscountRate    </span>|<span class=\"string\"> 0.95         </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 2  </span>|<span class=\"string\"> TotalPriceV2 </span>|<span class=\"string\"> 20         </span>|<span class=\"string\"> DiscountRate    </span>|<span class=\"string\"> 0.89         </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 3  </span>|<span class=\"string\"> TotalPriceV2 </span>|<span class=\"string\"> 30         </span>|<span class=\"string\"> DiscountRate    </span>|<span class=\"string\"> 0.84         </span>|</span><br><span class=\"line\"></span><br><span class=\"line\">並且 第<span class=\"string\">\"2\"</span>檔是指定商品,指定商品如下</span><br><span class=\"line\">    |<span class=\"string\"> Title </span>|<span class=\"string\"> SalePageId </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 商品A   </span>|<span class=\"string\"> 25         </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 商品B   </span>|<span class=\"string\"> 26         </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 商品C   </span>|<span class=\"string\"> 27         </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 商品D   </span>|<span class=\"string\"> 50         </span>|</span><br><span class=\"line\"></span><br><span class=\"line\">而且 第<span class=\"string\">\"2\"</span>檔折扣條件是<span class=\"string\">\"滿件折現,滿2件，折3元\"</span>,如下</span><br><span class=\"line\">    |<span class=\"string\"> Id </span>|<span class=\"string\"> TypeDef    </span>|<span class=\"string\"> TotalQty </span>|<span class=\"string\"> DiscountTypeDef </span>|<span class=\"string\"> DiscountPrice </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 4  </span>|<span class=\"string\"> TotalQtyV2 </span>|<span class=\"string\"> 2        </span>|<span class=\"string\"> DiscountPrice   </span>|<span class=\"string\"> 3             </span>|</span><br><span class=\"line\"></span><br><span class=\"line\">當 計算活動折扣</span><br><span class=\"line\"></span><br><span class=\"line\">那麼 購物車商品折扣金額及折扣後小計為 </span><br><span class=\"line\">    |<span class=\"string\"> Title </span>|<span class=\"string\"> SalePageId </span>|<span class=\"string\"> Price </span>|<span class=\"string\"> Qty </span>|<span class=\"string\"> PromotionDiscount </span>|<span class=\"string\"> TotalPayment </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 商品A   </span>|<span class=\"string\"> 25         </span>|<span class=\"string\"> 7.45  </span>|<span class=\"string\"> 2   </span>|<span class=\"string\"> -2.55             </span>|<span class=\"string\"> 12.35        </span>|</span><br><span class=\"line\">    |<span class=\"string\"> 商品B   </span>|<span class=\"string\"> 26         </span>|<span class=\"string\"> 4.45  </span>|<span class=\"string\"> 2   </span>|<span class=\"string\"> -1.11             </span>|<span class=\"string\"> 7.79         </span>|</span><br></pre></td></tr></table></figure>\n\n<p>與 PM 及 QA 討論後 , 寫的 UAT 可閱讀性提高了<br>這裡用到了一些小技巧 , 讓 Cucumber 文件的可讀性更高<br>而不會有太多的重複方法 , 比如說把描述性的文字當作參數傳遞<br>實際上測試不會使用到這些變數 ,但是可以增加可讀性 .</p>\n<h3 id=\"刪除台灣測試\"><a href=\"#刪除台灣測試\" class=\"headerlink\" title=\"刪除台灣測試\"></a>刪除台灣測試</h3><p>因為已經有了跨國所需要的測試 ,<br>台灣的測試便可以退場了.<br>實際上也不符合現況, 如多語系、時差與小數點等問題</p>\n<h3 id=\"解析-CalculateShoppingCartPromotionDiscountV2Processor\"><a href=\"#解析-CalculateShoppingCartPromotionDiscountV2Processor\" class=\"headerlink\" title=\"解析 CalculateShoppingCartPromotionDiscountV2Processor\"></a>解析 <code>CalculateShoppingCartPromotionDiscountV2Processor</code></h3><p><img src=\"https://i.imgur.com/FioG5NG.jpg\" alt></p>\n<ol>\n<li>無折扣的情境</li>\n<li>新舊相容的情境</li>\n<li>排序</li>\n<li>計算折扣金額</li>\n<li>看見相依<ol>\n<li>程式碼中有 new 別的 class 的部份</li>\n<li>程式碼中有使用靜態方法的部份</li>\n</ol>\n</li>\n</ol>\n<h3 id=\"補上單元測試\"><a href=\"#補上單元測試\" class=\"headerlink\" title=\"補上單元測試\"></a>補上單元測試</h3><p>最簡單的重構,就是將整個方法內的四個邏輯<br>拆成四塊個子方法,並為他們加上單元測試.<br>修改的過程,如果有紅燈就要修改成綠燈,<br>而整個成品要保證整合測試與單元測試都是綠燈. </p>\n<p>此外,重構的過程中如果過到靜態方法,<br>或是 new 新物件, 都很有可能是種相依,<br>可以透過一些方法作解耦,<br>參考之前的文章<a href=\"/2017/04/23/unitestwriting/\">單元測試這樣玩就對了</a> </p>\n<h3 id=\"重構\"><a href=\"#重構\" class=\"headerlink\" title=\"重構\"></a>重構</h3><p>最後一步就是大膽的重構了,<br>有了測試作保護,<br>可以作更大範圍的重構,<br>如下圖示,這裡揭露了在台灣原有的繼承結構,<br>而紅色的部份是在跨國用不到的類別.<br><img src=\"https://i.imgur.com/VQ10wY6.jpg\" alt></p>\n<p>下一步，待續…</p>\n<p>(fin)</p>\n"},{"title":"怎麼建立一個網站？(一) - 購買網域到設定DNS","date":"2016-08-21T14:12:53.000Z","_content":"\n## 前置作業\n1. 準備好你的google帳號。\n2. 可以連到美國的VPN。[google domain beta](https://atom.io/packages/atom-beautify) 台灣尚未開放\n3. 準備一張信用卡，狠狠的刷下去(挑對domain其實很便宜啦)\n4. 你的網站，什麼語言都可以，靜態的網頁也可以。  \n  *這裡我事先準備好了兩個網站,  \n  分別是用[github page](https://pages.github.com/) 與 [nodejs](https://nodejs.org) 的 [express](http://expressjs.com/),實作有機會再作記錄。\n\n\n## 設定domain\n1. github page 所建立的網站,會提供一組domain給你  \nex:`mydomain.github.io`\n2. openshift 建立的網站,一樣會提供一組domain給你  \nex:`mydomain.rhcloud.com`\n3. google domain 本身有提供 Name servers , 但是由於type`A`的domian,  \n必須指定公用ip(家中有裝hinet ADSL可以申請一組);但實際上我的兩個網站,並不需要我準備實體ip,  \n只需要使用 type `CNAME` 將我的subdomain指向原本服務的domain即可。  \nex:  \n  - blog.mydomain.me → mydomain.github.io\n  - www.mydomain.me → mydomain.rhcloud.com\n4. github page 要注意的事情，  \n你需要在你的github page 的repo root 加入一個名叫`CNAME`的檔案,\n檔案的內容很簡單, 只需要你的domain即可  \nex:\n        blog.mydomain.me  \n        mydomain.me\n\n## Bare CNAME\n大多數的時候, `CNAME` 的設定就夠了;不過對於我來說,  \n我會希望可以直接使用我的頂級domain,畢竟這樣網址可以更短一些,  \n`mydomain.me` 比 `www.mydomain.me` 更有感覺。\n\n這裡受限於google 的 Name servers , 頂級domain 必為Type`A`須綁定ip  \n這裡我們可以使用一個免費的服務[cloudflare](https://www.cloudflare.com/),來達成目的\n1. 註冊[cloudflare](https://www.cloudflare.com/)\n2. 登入後[add site](https://www.cloudflare.com/a/add-site),輸入你註冊的domain\nex:`mydomain`\n3. [cloudflare](https://www.cloudflare.com/) 會提供你至少兩組Name servers  \nex:  \n`carter.ns.cloudflare.com`  \n`tina.ns.cloudflare.com`\n4. 請先登入[google domain beta](https://atom.io/packages/atom-beautify)設定Name servers到[cloudflare](https://www.cloudflare.com/)\n5. 請依以下步驟設定\n  - \\*  → mydomain.me\n  - blog.mydomain.me → mydomain.github.io\n  - www.mydomain.me → mydomain.rhcloud.com\n6. 等待約數分鐘就ok啦\n\n## 結語\n前前後後查資料弄了一個禮拜，但是實際上設定大概1~2小時就搞定了。  \n對domain跟ip的相對關係與實務結合後更有體會了。\n\n歡迎指教討論。  \n(fin)\n","source":"_posts/2017/setting_DNS_with_google.md","raw":"---\ntitle: 怎麼建立一個網站？(一) - 購買網域到設定DNS\ndate: 2016/08/21 22:12:53 \ntag:\n- website\n- domain\n- 記錄\n- DNS\n---\n\n## 前置作業\n1. 準備好你的google帳號。\n2. 可以連到美國的VPN。[google domain beta](https://atom.io/packages/atom-beautify) 台灣尚未開放\n3. 準備一張信用卡，狠狠的刷下去(挑對domain其實很便宜啦)\n4. 你的網站，什麼語言都可以，靜態的網頁也可以。  \n  *這裡我事先準備好了兩個網站,  \n  分別是用[github page](https://pages.github.com/) 與 [nodejs](https://nodejs.org) 的 [express](http://expressjs.com/),實作有機會再作記錄。\n\n\n## 設定domain\n1. github page 所建立的網站,會提供一組domain給你  \nex:`mydomain.github.io`\n2. openshift 建立的網站,一樣會提供一組domain給你  \nex:`mydomain.rhcloud.com`\n3. google domain 本身有提供 Name servers , 但是由於type`A`的domian,  \n必須指定公用ip(家中有裝hinet ADSL可以申請一組);但實際上我的兩個網站,並不需要我準備實體ip,  \n只需要使用 type `CNAME` 將我的subdomain指向原本服務的domain即可。  \nex:  \n  - blog.mydomain.me → mydomain.github.io\n  - www.mydomain.me → mydomain.rhcloud.com\n4. github page 要注意的事情，  \n你需要在你的github page 的repo root 加入一個名叫`CNAME`的檔案,\n檔案的內容很簡單, 只需要你的domain即可  \nex:\n        blog.mydomain.me  \n        mydomain.me\n\n## Bare CNAME\n大多數的時候, `CNAME` 的設定就夠了;不過對於我來說,  \n我會希望可以直接使用我的頂級domain,畢竟這樣網址可以更短一些,  \n`mydomain.me` 比 `www.mydomain.me` 更有感覺。\n\n這裡受限於google 的 Name servers , 頂級domain 必為Type`A`須綁定ip  \n這裡我們可以使用一個免費的服務[cloudflare](https://www.cloudflare.com/),來達成目的\n1. 註冊[cloudflare](https://www.cloudflare.com/)\n2. 登入後[add site](https://www.cloudflare.com/a/add-site),輸入你註冊的domain\nex:`mydomain`\n3. [cloudflare](https://www.cloudflare.com/) 會提供你至少兩組Name servers  \nex:  \n`carter.ns.cloudflare.com`  \n`tina.ns.cloudflare.com`\n4. 請先登入[google domain beta](https://atom.io/packages/atom-beautify)設定Name servers到[cloudflare](https://www.cloudflare.com/)\n5. 請依以下步驟設定\n  - \\*  → mydomain.me\n  - blog.mydomain.me → mydomain.github.io\n  - www.mydomain.me → mydomain.rhcloud.com\n6. 等待約數分鐘就ok啦\n\n## 結語\n前前後後查資料弄了一個禮拜，但是實際上設定大概1~2小時就搞定了。  \n對domain跟ip的相對關係與實務結合後更有體會了。\n\n歡迎指教討論。  \n(fin)\n","slug":"2017/setting_DNS_with_google","published":1,"updated":"2019-06-10T14:43:28.887Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wk50017b0vxxw7swz1p","content":"<h2 id=\"前置作業\"><a href=\"#前置作業\" class=\"headerlink\" title=\"前置作業\"></a>前置作業</h2><ol>\n<li>準備好你的google帳號。</li>\n<li>可以連到美國的VPN。<a href=\"https://atom.io/packages/atom-beautify\" target=\"_blank\" rel=\"noopener\">google domain beta</a> 台灣尚未開放</li>\n<li>準備一張信用卡，狠狠的刷下去(挑對domain其實很便宜啦)</li>\n<li>你的網站，什麼語言都可以，靜態的網頁也可以。<br>*這裡我事先準備好了兩個網站,<br>分別是用<a href=\"https://pages.github.com/\" target=\"_blank\" rel=\"noopener\">github page</a> 與 <a href=\"https://nodejs.org\" target=\"_blank\" rel=\"noopener\">nodejs</a> 的 <a href=\"http://expressjs.com/\" target=\"_blank\" rel=\"noopener\">express</a>,實作有機會再作記錄。</li>\n</ol>\n<h2 id=\"設定domain\"><a href=\"#設定domain\" class=\"headerlink\" title=\"設定domain\"></a>設定domain</h2><ol>\n<li>github page 所建立的網站,會提供一組domain給你<br>ex:<code>mydomain.github.io</code></li>\n<li>openshift 建立的網站,一樣會提供一組domain給你<br>ex:<code>mydomain.rhcloud.com</code></li>\n<li>google domain 本身有提供 Name servers , 但是由於type<code>A</code>的domian,<br>必須指定公用ip(家中有裝hinet ADSL可以申請一組);但實際上我的兩個網站,並不需要我準備實體ip,<br>只需要使用 type <code>CNAME</code> 將我的subdomain指向原本服務的domain即可。<br>ex:  <ul>\n<li>blog.mydomain.me → mydomain.github.io</li>\n<li><a href=\"http://www.mydomain.me\" target=\"_blank\" rel=\"noopener\">www.mydomain.me</a> → mydomain.rhcloud.com</li>\n</ul>\n</li>\n<li>github page 要注意的事情，<br>你需要在你的github page 的repo root 加入一個名叫<code>CNAME</code>的檔案,<br>檔案的內容很簡單, 只需要你的domain即可<br>ex:<pre><code>blog.mydomain.me  \nmydomain.me</code></pre></li>\n</ol>\n<h2 id=\"Bare-CNAME\"><a href=\"#Bare-CNAME\" class=\"headerlink\" title=\"Bare CNAME\"></a>Bare CNAME</h2><p>大多數的時候, <code>CNAME</code> 的設定就夠了;不過對於我來說,<br>我會希望可以直接使用我的頂級domain,畢竟這樣網址可以更短一些,<br><code>mydomain.me</code> 比 <code>www.mydomain.me</code> 更有感覺。</p>\n<p>這裡受限於google 的 Name servers , 頂級domain 必為Type<code>A</code>須綁定ip<br>這裡我們可以使用一個免費的服務<a href=\"https://www.cloudflare.com/\" target=\"_blank\" rel=\"noopener\">cloudflare</a>,來達成目的</p>\n<ol>\n<li>註冊<a href=\"https://www.cloudflare.com/\" target=\"_blank\" rel=\"noopener\">cloudflare</a></li>\n<li>登入後<a href=\"https://www.cloudflare.com/a/add-site\" target=\"_blank\" rel=\"noopener\">add site</a>,輸入你註冊的domain<br>ex:<code>mydomain</code></li>\n<li><a href=\"https://www.cloudflare.com/\" target=\"_blank\" rel=\"noopener\">cloudflare</a> 會提供你至少兩組Name servers<br>ex:<br><code>carter.ns.cloudflare.com</code><br><code>tina.ns.cloudflare.com</code></li>\n<li>請先登入<a href=\"https://atom.io/packages/atom-beautify\" target=\"_blank\" rel=\"noopener\">google domain beta</a>設定Name servers到<a href=\"https://www.cloudflare.com/\" target=\"_blank\" rel=\"noopener\">cloudflare</a></li>\n<li>請依以下步驟設定<ul>\n<li>*  → mydomain.me</li>\n<li>blog.mydomain.me → mydomain.github.io</li>\n<li><a href=\"http://www.mydomain.me\" target=\"_blank\" rel=\"noopener\">www.mydomain.me</a> → mydomain.rhcloud.com</li>\n</ul>\n</li>\n<li>等待約數分鐘就ok啦</li>\n</ol>\n<h2 id=\"結語\"><a href=\"#結語\" class=\"headerlink\" title=\"結語\"></a>結語</h2><p>前前後後查資料弄了一個禮拜，但是實際上設定大概1~2小時就搞定了。<br>對domain跟ip的相對關係與實務結合後更有體會了。</p>\n<p>歡迎指教討論。<br>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前置作業\"><a href=\"#前置作業\" class=\"headerlink\" title=\"前置作業\"></a>前置作業</h2><ol>\n<li>準備好你的google帳號。</li>\n<li>可以連到美國的VPN。<a href=\"https://atom.io/packages/atom-beautify\" target=\"_blank\" rel=\"noopener\">google domain beta</a> 台灣尚未開放</li>\n<li>準備一張信用卡，狠狠的刷下去(挑對domain其實很便宜啦)</li>\n<li>你的網站，什麼語言都可以，靜態的網頁也可以。<br>*這裡我事先準備好了兩個網站,<br>分別是用<a href=\"https://pages.github.com/\" target=\"_blank\" rel=\"noopener\">github page</a> 與 <a href=\"https://nodejs.org\" target=\"_blank\" rel=\"noopener\">nodejs</a> 的 <a href=\"http://expressjs.com/\" target=\"_blank\" rel=\"noopener\">express</a>,實作有機會再作記錄。</li>\n</ol>\n<h2 id=\"設定domain\"><a href=\"#設定domain\" class=\"headerlink\" title=\"設定domain\"></a>設定domain</h2><ol>\n<li>github page 所建立的網站,會提供一組domain給你<br>ex:<code>mydomain.github.io</code></li>\n<li>openshift 建立的網站,一樣會提供一組domain給你<br>ex:<code>mydomain.rhcloud.com</code></li>\n<li>google domain 本身有提供 Name servers , 但是由於type<code>A</code>的domian,<br>必須指定公用ip(家中有裝hinet ADSL可以申請一組);但實際上我的兩個網站,並不需要我準備實體ip,<br>只需要使用 type <code>CNAME</code> 將我的subdomain指向原本服務的domain即可。<br>ex:  <ul>\n<li>blog.mydomain.me → mydomain.github.io</li>\n<li><a href=\"http://www.mydomain.me\" target=\"_blank\" rel=\"noopener\">www.mydomain.me</a> → mydomain.rhcloud.com</li>\n</ul>\n</li>\n<li>github page 要注意的事情，<br>你需要在你的github page 的repo root 加入一個名叫<code>CNAME</code>的檔案,<br>檔案的內容很簡單, 只需要你的domain即可<br>ex:<pre><code>blog.mydomain.me  \nmydomain.me</code></pre></li>\n</ol>\n<h2 id=\"Bare-CNAME\"><a href=\"#Bare-CNAME\" class=\"headerlink\" title=\"Bare CNAME\"></a>Bare CNAME</h2><p>大多數的時候, <code>CNAME</code> 的設定就夠了;不過對於我來說,<br>我會希望可以直接使用我的頂級domain,畢竟這樣網址可以更短一些,<br><code>mydomain.me</code> 比 <code>www.mydomain.me</code> 更有感覺。</p>\n<p>這裡受限於google 的 Name servers , 頂級domain 必為Type<code>A</code>須綁定ip<br>這裡我們可以使用一個免費的服務<a href=\"https://www.cloudflare.com/\" target=\"_blank\" rel=\"noopener\">cloudflare</a>,來達成目的</p>\n<ol>\n<li>註冊<a href=\"https://www.cloudflare.com/\" target=\"_blank\" rel=\"noopener\">cloudflare</a></li>\n<li>登入後<a href=\"https://www.cloudflare.com/a/add-site\" target=\"_blank\" rel=\"noopener\">add site</a>,輸入你註冊的domain<br>ex:<code>mydomain</code></li>\n<li><a href=\"https://www.cloudflare.com/\" target=\"_blank\" rel=\"noopener\">cloudflare</a> 會提供你至少兩組Name servers<br>ex:<br><code>carter.ns.cloudflare.com</code><br><code>tina.ns.cloudflare.com</code></li>\n<li>請先登入<a href=\"https://atom.io/packages/atom-beautify\" target=\"_blank\" rel=\"noopener\">google domain beta</a>設定Name servers到<a href=\"https://www.cloudflare.com/\" target=\"_blank\" rel=\"noopener\">cloudflare</a></li>\n<li>請依以下步驟設定<ul>\n<li>*  → mydomain.me</li>\n<li>blog.mydomain.me → mydomain.github.io</li>\n<li><a href=\"http://www.mydomain.me\" target=\"_blank\" rel=\"noopener\">www.mydomain.me</a> → mydomain.rhcloud.com</li>\n</ul>\n</li>\n<li>等待約數分鐘就ok啦</li>\n</ol>\n<h2 id=\"結語\"><a href=\"#結語\" class=\"headerlink\" title=\"結語\"></a>結語</h2><p>前前後後查資料弄了一個禮拜，但是實際上設定大概1~2小時就搞定了。<br>對domain跟ip的相對關係與實務結合後更有體會了。</p>\n<p>歡迎指教討論。<br>(fin)</p>\n"},{"title":"SQL Compatibility Level 對MsSQL時間查詢的影響","date":"2017-09-18T03:30:13.000Z","_content":"\n## 大綱\n\n這次透過Entity Framework(EF5)作了一個簡單的資料庫更新,  \n恰巧的是這次更新的Table因為某些需求,使用 datetime 作為 Key 值.  \n進而引發一連串的錯誤, 最後才找到 SQL Compatibility Level 對 MsSQL 時間查詢影響. \n\n\n### 正式環境 SQL 版本 13.0.4422.0\n\n### 程式碼\n```csharp\npublic void UpdateBatchUploadData(BatchUploadDataEntity batchUploadDataEntity)\n{\n    using (WebStoreDBEntitiesV2 context = this.LifetimeScope.Resolve<WebStoreDBEntitiesV2>())\n    {\n        var item = (from batchUploadData in context.BatchUploadData.Valids()\n                    where batchUploadData.BatchUploadData_Id == batchUploadDataEntity.BatchUploadData_Id\n                    select batchUploadData).FirstOrDefault();\n\n        this.MapBatchUploadData(batchUploadDataEntity, item);\n\n        context.SaveChanges();\n    }\n}\n```\n\n如上面程式所示, `item` 是透過 Key 值 `BatchUploadData_Id` 取回來的物件.  \n而 `MapBatchUploadData` 是一段簡單的程式碼,  \n單純的將 `batchUploadDataEntity` 的值 mapping 到 item  \n再呼叫 SaveChanges , 卻引發了 [dbupdateconcurrencyexception](https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.dbupdateconcurrencyexception(v=vs.103).aspx)\n\n\n### 錯誤畫面\n![](https://i.imgur.com/8kBIYRr.jpg)\n\n### 錯誤訊息\n```\n存放區更新、插入或刪除陳述式影響到非預期數目的資料列 (0)。\n這些實體載入之後可能被修改或刪除了。請重新整理 ObjectStateManager 實體。\n```\n\n\n這一段訊息的意思就是: Entity Framework 預期更新了`0`筆資料，與它所預期的不符, 所以拋出錯誤。\n\n\n### 原因\n\n透過用**Sql Profiler**我們錄製到了以下的SQL\n```sql\nexec sp_executesql N'update [dbo].[BatchUploadData]\nset [BatchUploadData_StatusDef] = @0, [BatchUploadData_UpdatedTimes] = @1, [BatchUploadData_UpdatedDateTime] = @2\nwhere (([BatchUploadData_Id] = @3) and ([BatchUploadData_CreatedDateTime] = @4))\nselect [BatchUploadData_Rowversion]\nfrom [dbo].[BatchUploadData]\nwhere @@ROWCOUNT > 0 and [BatchUploadData_Id] = @3 and [BatchUploadData_CreatedDateTime] = @4',N'@0 varchar(30),@1 tinyint,@2 datetime2(7),@3 bigint,@4 datetime2(7)',@0='ProcessFailed',@1=1,@2='2017-09-16 11:29:35.3720061',@3=52,@4='2017-09-05 18:53:36.3530000'\n```\n\n請注意到 **@4 datetime2(7) ... @4='2017-09-05 18:53:36.3530000'**  \n如果將 `datetime2(7)` 改為 `datetime`或是將查詢語句改為 `@4='2017-09-05 18:53:36.353` 就能正確更新資料.  \n\n![](https://i.imgur.com/8pGTYL4.gif)\n\n### 本機實測 (SQL 版本 12.0.4459.0)\n透過本機寫了一小段的SQL作測試,  \n![](https://i.imgur.com/iJntV1i.gif)  \n**竟然不會有問題!!!**  \n\n這跟 SQL Compatibility Level 有關,  \nmssql 2014 預設是 120, 2016 預設是130,  \nDatetime2 在 120 跟 130 的結果會不一樣.  \n\n### 解決方法\n\n主要的查詢與更新 SQL 是 Entity Framework 產生的,  \n所以我無法透過修改 SQL 的方式解決這個問題,  \n而正式環境的 SQL Compatibility Level 調整將會牽一髮動全身  \n且基於版本演進, 往新的版本靠攏是合理的選擇  \n暫時的解法是透過修改 edmx ,  \n不讓 datetime 作為整個 table 的 Key值.  \n較好的解法是升級 Entity Framework  \n透過 Entity Framework 的機制, 指定查詢時間的精準度.  \n實作的部份未來再補上. \n\n\n## 參考資料\n- [ALTER DATABASE (Transact-SQL) Compatibility](https://docs.microsoft.com/en-us/sql/t-sql/statements/alter-database-transact-sql-compatibility-level)\n- [Change in datetime2 implementation in SQL Server 2016](https://social.msdn.microsoft.com/Forums/silverlight/en-US/de5dbf3e-8c95-40f4-9e31-b71f1f31983d/change-in-datetime2-implementation-in-sql-server-2016?forum=transactsql)\n- [檢視或變更資料庫的相容性層級](https://docs.microsoft.com/zh-tw/sql/relational-databases/databases/view-or-change-the-compatibility-level-of-a-database)\n\n(fin)","source":"_posts/2017/sql_compatibility_level_with_datetime2.md","raw":"---\ntitle: \"SQL Compatibility Level 對MsSQL時間查詢的影響\"\ndate: 2017/09/18 11:30:13\ntag:\n  - Entity Framework\n  - Database\n  - MsSQL\n  - 記錄\n---\n\n## 大綱\n\n這次透過Entity Framework(EF5)作了一個簡單的資料庫更新,  \n恰巧的是這次更新的Table因為某些需求,使用 datetime 作為 Key 值.  \n進而引發一連串的錯誤, 最後才找到 SQL Compatibility Level 對 MsSQL 時間查詢影響. \n\n\n### 正式環境 SQL 版本 13.0.4422.0\n\n### 程式碼\n```csharp\npublic void UpdateBatchUploadData(BatchUploadDataEntity batchUploadDataEntity)\n{\n    using (WebStoreDBEntitiesV2 context = this.LifetimeScope.Resolve<WebStoreDBEntitiesV2>())\n    {\n        var item = (from batchUploadData in context.BatchUploadData.Valids()\n                    where batchUploadData.BatchUploadData_Id == batchUploadDataEntity.BatchUploadData_Id\n                    select batchUploadData).FirstOrDefault();\n\n        this.MapBatchUploadData(batchUploadDataEntity, item);\n\n        context.SaveChanges();\n    }\n}\n```\n\n如上面程式所示, `item` 是透過 Key 值 `BatchUploadData_Id` 取回來的物件.  \n而 `MapBatchUploadData` 是一段簡單的程式碼,  \n單純的將 `batchUploadDataEntity` 的值 mapping 到 item  \n再呼叫 SaveChanges , 卻引發了 [dbupdateconcurrencyexception](https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.dbupdateconcurrencyexception(v=vs.103).aspx)\n\n\n### 錯誤畫面\n![](https://i.imgur.com/8kBIYRr.jpg)\n\n### 錯誤訊息\n```\n存放區更新、插入或刪除陳述式影響到非預期數目的資料列 (0)。\n這些實體載入之後可能被修改或刪除了。請重新整理 ObjectStateManager 實體。\n```\n\n\n這一段訊息的意思就是: Entity Framework 預期更新了`0`筆資料，與它所預期的不符, 所以拋出錯誤。\n\n\n### 原因\n\n透過用**Sql Profiler**我們錄製到了以下的SQL\n```sql\nexec sp_executesql N'update [dbo].[BatchUploadData]\nset [BatchUploadData_StatusDef] = @0, [BatchUploadData_UpdatedTimes] = @1, [BatchUploadData_UpdatedDateTime] = @2\nwhere (([BatchUploadData_Id] = @3) and ([BatchUploadData_CreatedDateTime] = @4))\nselect [BatchUploadData_Rowversion]\nfrom [dbo].[BatchUploadData]\nwhere @@ROWCOUNT > 0 and [BatchUploadData_Id] = @3 and [BatchUploadData_CreatedDateTime] = @4',N'@0 varchar(30),@1 tinyint,@2 datetime2(7),@3 bigint,@4 datetime2(7)',@0='ProcessFailed',@1=1,@2='2017-09-16 11:29:35.3720061',@3=52,@4='2017-09-05 18:53:36.3530000'\n```\n\n請注意到 **@4 datetime2(7) ... @4='2017-09-05 18:53:36.3530000'**  \n如果將 `datetime2(7)` 改為 `datetime`或是將查詢語句改為 `@4='2017-09-05 18:53:36.353` 就能正確更新資料.  \n\n![](https://i.imgur.com/8pGTYL4.gif)\n\n### 本機實測 (SQL 版本 12.0.4459.0)\n透過本機寫了一小段的SQL作測試,  \n![](https://i.imgur.com/iJntV1i.gif)  \n**竟然不會有問題!!!**  \n\n這跟 SQL Compatibility Level 有關,  \nmssql 2014 預設是 120, 2016 預設是130,  \nDatetime2 在 120 跟 130 的結果會不一樣.  \n\n### 解決方法\n\n主要的查詢與更新 SQL 是 Entity Framework 產生的,  \n所以我無法透過修改 SQL 的方式解決這個問題,  \n而正式環境的 SQL Compatibility Level 調整將會牽一髮動全身  \n且基於版本演進, 往新的版本靠攏是合理的選擇  \n暫時的解法是透過修改 edmx ,  \n不讓 datetime 作為整個 table 的 Key值.  \n較好的解法是升級 Entity Framework  \n透過 Entity Framework 的機制, 指定查詢時間的精準度.  \n實作的部份未來再補上. \n\n\n## 參考資料\n- [ALTER DATABASE (Transact-SQL) Compatibility](https://docs.microsoft.com/en-us/sql/t-sql/statements/alter-database-transact-sql-compatibility-level)\n- [Change in datetime2 implementation in SQL Server 2016](https://social.msdn.microsoft.com/Forums/silverlight/en-US/de5dbf3e-8c95-40f4-9e31-b71f1f31983d/change-in-datetime2-implementation-in-sql-server-2016?forum=transactsql)\n- [檢視或變更資料庫的相容性層級](https://docs.microsoft.com/zh-tw/sql/relational-databases/databases/view-or-change-the-compatibility-level-of-a-database)\n\n(fin)","slug":"2017/sql_compatibility_level_with_datetime2","published":1,"updated":"2019-06-10T14:43:28.889Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wk50018b0vxiodqkmol","content":"<h2 id=\"大綱\"><a href=\"#大綱\" class=\"headerlink\" title=\"大綱\"></a>大綱</h2><p>這次透過Entity Framework(EF5)作了一個簡單的資料庫更新,<br>恰巧的是這次更新的Table因為某些需求,使用 datetime 作為 Key 值.<br>進而引發一連串的錯誤, 最後才找到 SQL Compatibility Level 對 MsSQL 時間查詢影響. </p>\n<h3 id=\"正式環境-SQL-版本-13-0-4422-0\"><a href=\"#正式環境-SQL-版本-13-0-4422-0\" class=\"headerlink\" title=\"正式環境 SQL 版本 13.0.4422.0\"></a>正式環境 SQL 版本 13.0.4422.0</h3><h3 id=\"程式碼\"><a href=\"#程式碼\" class=\"headerlink\" title=\"程式碼\"></a>程式碼</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">UpdateBatchUploadData</span>(<span class=\"params\">BatchUploadDataEntity batchUploadDataEntity</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">using</span> (WebStoreDBEntitiesV2 context = <span class=\"keyword\">this</span>.LifetimeScope.Resolve&lt;WebStoreDBEntitiesV2&gt;())</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> item = (<span class=\"keyword\">from</span> batchUploadData <span class=\"keyword\">in</span> context.BatchUploadData.Valids()</span><br><span class=\"line\">                    <span class=\"keyword\">where</span> batchUploadData.BatchUploadData_Id == batchUploadDataEntity.BatchUploadData_Id</span><br><span class=\"line\">                    <span class=\"keyword\">select</span> batchUploadData).FirstOrDefault();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.MapBatchUploadData(batchUploadDataEntity, item);</span><br><span class=\"line\"></span><br><span class=\"line\">        context.SaveChanges();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>如上面程式所示, <code>item</code> 是透過 Key 值 <code>BatchUploadData_Id</code> 取回來的物件.<br>而 <code>MapBatchUploadData</code> 是一段簡單的程式碼,<br>單純的將 <code>batchUploadDataEntity</code> 的值 mapping 到 item<br>再呼叫 SaveChanges , 卻引發了 <a href=\"https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.dbupdateconcurrencyexception(v=vs.103).aspx\" target=\"_blank\" rel=\"noopener\">dbupdateconcurrencyexception</a></p>\n<h3 id=\"錯誤畫面\"><a href=\"#錯誤畫面\" class=\"headerlink\" title=\"錯誤畫面\"></a>錯誤畫面</h3><p><img src=\"https://i.imgur.com/8kBIYRr.jpg\" alt></p>\n<h3 id=\"錯誤訊息\"><a href=\"#錯誤訊息\" class=\"headerlink\" title=\"錯誤訊息\"></a>錯誤訊息</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">存放區更新、插入或刪除陳述式影響到非預期數目的資料列 (0)。</span><br><span class=\"line\">這些實體載入之後可能被修改或刪除了。請重新整理 ObjectStateManager 實體。</span><br></pre></td></tr></table></figure>\n\n<p>這一段訊息的意思就是: Entity Framework 預期更新了<code>0</code>筆資料，與它所預期的不符, 所以拋出錯誤。</p>\n<h3 id=\"原因\"><a href=\"#原因\" class=\"headerlink\" title=\"原因\"></a>原因</h3><p>透過用<strong>Sql Profiler</strong>我們錄製到了以下的SQL</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">exec sp_executesql N'<span class=\"keyword\">update</span> [dbo].[BatchUploadData]</span><br><span class=\"line\"><span class=\"keyword\">set</span> [BatchUploadData_StatusDef] = @<span class=\"number\">0</span>, [BatchUploadData_UpdatedTimes] = @<span class=\"number\">1</span>, [BatchUploadData_UpdatedDateTime] = @<span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"keyword\">where</span> (([BatchUploadData_Id] = @<span class=\"number\">3</span>) <span class=\"keyword\">and</span> ([BatchUploadData_CreatedDateTime] = @<span class=\"number\">4</span>))</span><br><span class=\"line\"><span class=\"keyword\">select</span> [BatchUploadData_Rowversion]</span><br><span class=\"line\"><span class=\"keyword\">from</span> [dbo].[BatchUploadData]</span><br><span class=\"line\"><span class=\"keyword\">where</span> @@ROWCOUNT &gt; <span class=\"number\">0</span> <span class=\"keyword\">and</span> [BatchUploadData_Id] = @<span class=\"number\">3</span> <span class=\"keyword\">and</span> [BatchUploadData_CreatedDateTime] = @<span class=\"number\">4</span><span class=\"string\">',N'</span>@<span class=\"number\">0</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">30</span>),@<span class=\"number\">1</span> tinyint,@<span class=\"number\">2</span> datetime2(<span class=\"number\">7</span>),@<span class=\"number\">3</span> <span class=\"built_in\">bigint</span>,@<span class=\"number\">4</span> datetime2(<span class=\"number\">7</span>)<span class=\"string\">',@0='</span>ProcessFailed<span class=\"string\">',@1=1,@2='</span><span class=\"number\">2017</span><span class=\"number\">-09</span><span class=\"number\">-16</span> <span class=\"number\">11</span>:<span class=\"number\">29</span>:<span class=\"number\">35.3720061</span><span class=\"string\">',@3=52,@4='</span><span class=\"number\">2017</span><span class=\"number\">-09</span><span class=\"number\">-05</span> <span class=\"number\">18</span>:<span class=\"number\">53</span>:<span class=\"number\">36.3530000</span><span class=\"string\">'</span></span><br></pre></td></tr></table></figure>\n\n<p>請注意到 <strong>@4 datetime2(7) … @4=’2017-09-05 18:53:36.3530000’</strong><br>如果將 <code>datetime2(7)</code> 改為 <code>datetime</code>或是將查詢語句改為 <code>@4=&#39;2017-09-05 18:53:36.353</code> 就能正確更新資料.  </p>\n<p><img src=\"https://i.imgur.com/8pGTYL4.gif\" alt></p>\n<h3 id=\"本機實測-SQL-版本-12-0-4459-0\"><a href=\"#本機實測-SQL-版本-12-0-4459-0\" class=\"headerlink\" title=\"本機實測 (SQL 版本 12.0.4459.0)\"></a>本機實測 (SQL 版本 12.0.4459.0)</h3><p>透過本機寫了一小段的SQL作測試,<br><img src=\"https://i.imgur.com/iJntV1i.gif\" alt><br><strong>竟然不會有問題!!!</strong>  </p>\n<p>這跟 SQL Compatibility Level 有關,<br>mssql 2014 預設是 120, 2016 預設是130,<br>Datetime2 在 120 跟 130 的結果會不一樣.  </p>\n<h3 id=\"解決方法\"><a href=\"#解決方法\" class=\"headerlink\" title=\"解決方法\"></a>解決方法</h3><p>主要的查詢與更新 SQL 是 Entity Framework 產生的,<br>所以我無法透過修改 SQL 的方式解決這個問題,<br>而正式環境的 SQL Compatibility Level 調整將會牽一髮動全身<br>且基於版本演進, 往新的版本靠攏是合理的選擇<br>暫時的解法是透過修改 edmx ,<br>不讓 datetime 作為整個 table 的 Key值.<br>較好的解法是升級 Entity Framework<br>透過 Entity Framework 的機制, 指定查詢時間的精準度.<br>實作的部份未來再補上. </p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://docs.microsoft.com/en-us/sql/t-sql/statements/alter-database-transact-sql-compatibility-level\" target=\"_blank\" rel=\"noopener\">ALTER DATABASE (Transact-SQL) Compatibility</a></li>\n<li><a href=\"https://social.msdn.microsoft.com/Forums/silverlight/en-US/de5dbf3e-8c95-40f4-9e31-b71f1f31983d/change-in-datetime2-implementation-in-sql-server-2016?forum=transactsql\" target=\"_blank\" rel=\"noopener\">Change in datetime2 implementation in SQL Server 2016</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/sql/relational-databases/databases/view-or-change-the-compatibility-level-of-a-database\" target=\"_blank\" rel=\"noopener\">檢視或變更資料庫的相容性層級</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"大綱\"><a href=\"#大綱\" class=\"headerlink\" title=\"大綱\"></a>大綱</h2><p>這次透過Entity Framework(EF5)作了一個簡單的資料庫更新,<br>恰巧的是這次更新的Table因為某些需求,使用 datetime 作為 Key 值.<br>進而引發一連串的錯誤, 最後才找到 SQL Compatibility Level 對 MsSQL 時間查詢影響. </p>\n<h3 id=\"正式環境-SQL-版本-13-0-4422-0\"><a href=\"#正式環境-SQL-版本-13-0-4422-0\" class=\"headerlink\" title=\"正式環境 SQL 版本 13.0.4422.0\"></a>正式環境 SQL 版本 13.0.4422.0</h3><h3 id=\"程式碼\"><a href=\"#程式碼\" class=\"headerlink\" title=\"程式碼\"></a>程式碼</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">UpdateBatchUploadData</span>(<span class=\"params\">BatchUploadDataEntity batchUploadDataEntity</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">using</span> (WebStoreDBEntitiesV2 context = <span class=\"keyword\">this</span>.LifetimeScope.Resolve&lt;WebStoreDBEntitiesV2&gt;())</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> item = (<span class=\"keyword\">from</span> batchUploadData <span class=\"keyword\">in</span> context.BatchUploadData.Valids()</span><br><span class=\"line\">                    <span class=\"keyword\">where</span> batchUploadData.BatchUploadData_Id == batchUploadDataEntity.BatchUploadData_Id</span><br><span class=\"line\">                    <span class=\"keyword\">select</span> batchUploadData).FirstOrDefault();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.MapBatchUploadData(batchUploadDataEntity, item);</span><br><span class=\"line\"></span><br><span class=\"line\">        context.SaveChanges();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>如上面程式所示, <code>item</code> 是透過 Key 值 <code>BatchUploadData_Id</code> 取回來的物件.<br>而 <code>MapBatchUploadData</code> 是一段簡單的程式碼,<br>單純的將 <code>batchUploadDataEntity</code> 的值 mapping 到 item<br>再呼叫 SaveChanges , 卻引發了 <a href=\"https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.dbupdateconcurrencyexception(v=vs.103).aspx\" target=\"_blank\" rel=\"noopener\">dbupdateconcurrencyexception</a></p>\n<h3 id=\"錯誤畫面\"><a href=\"#錯誤畫面\" class=\"headerlink\" title=\"錯誤畫面\"></a>錯誤畫面</h3><p><img src=\"https://i.imgur.com/8kBIYRr.jpg\" alt></p>\n<h3 id=\"錯誤訊息\"><a href=\"#錯誤訊息\" class=\"headerlink\" title=\"錯誤訊息\"></a>錯誤訊息</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">存放區更新、插入或刪除陳述式影響到非預期數目的資料列 (0)。</span><br><span class=\"line\">這些實體載入之後可能被修改或刪除了。請重新整理 ObjectStateManager 實體。</span><br></pre></td></tr></table></figure>\n\n<p>這一段訊息的意思就是: Entity Framework 預期更新了<code>0</code>筆資料，與它所預期的不符, 所以拋出錯誤。</p>\n<h3 id=\"原因\"><a href=\"#原因\" class=\"headerlink\" title=\"原因\"></a>原因</h3><p>透過用<strong>Sql Profiler</strong>我們錄製到了以下的SQL</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">exec sp_executesql N'<span class=\"keyword\">update</span> [dbo].[BatchUploadData]</span><br><span class=\"line\"><span class=\"keyword\">set</span> [BatchUploadData_StatusDef] = @<span class=\"number\">0</span>, [BatchUploadData_UpdatedTimes] = @<span class=\"number\">1</span>, [BatchUploadData_UpdatedDateTime] = @<span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"keyword\">where</span> (([BatchUploadData_Id] = @<span class=\"number\">3</span>) <span class=\"keyword\">and</span> ([BatchUploadData_CreatedDateTime] = @<span class=\"number\">4</span>))</span><br><span class=\"line\"><span class=\"keyword\">select</span> [BatchUploadData_Rowversion]</span><br><span class=\"line\"><span class=\"keyword\">from</span> [dbo].[BatchUploadData]</span><br><span class=\"line\"><span class=\"keyword\">where</span> @@ROWCOUNT &gt; <span class=\"number\">0</span> <span class=\"keyword\">and</span> [BatchUploadData_Id] = @<span class=\"number\">3</span> <span class=\"keyword\">and</span> [BatchUploadData_CreatedDateTime] = @<span class=\"number\">4</span><span class=\"string\">',N'</span>@<span class=\"number\">0</span> <span class=\"built_in\">varchar</span>(<span class=\"number\">30</span>),@<span class=\"number\">1</span> tinyint,@<span class=\"number\">2</span> datetime2(<span class=\"number\">7</span>),@<span class=\"number\">3</span> <span class=\"built_in\">bigint</span>,@<span class=\"number\">4</span> datetime2(<span class=\"number\">7</span>)<span class=\"string\">',@0='</span>ProcessFailed<span class=\"string\">',@1=1,@2='</span><span class=\"number\">2017</span><span class=\"number\">-09</span><span class=\"number\">-16</span> <span class=\"number\">11</span>:<span class=\"number\">29</span>:<span class=\"number\">35.3720061</span><span class=\"string\">',@3=52,@4='</span><span class=\"number\">2017</span><span class=\"number\">-09</span><span class=\"number\">-05</span> <span class=\"number\">18</span>:<span class=\"number\">53</span>:<span class=\"number\">36.3530000</span><span class=\"string\">'</span></span><br></pre></td></tr></table></figure>\n\n<p>請注意到 <strong>@4 datetime2(7) … @4=’2017-09-05 18:53:36.3530000’</strong><br>如果將 <code>datetime2(7)</code> 改為 <code>datetime</code>或是將查詢語句改為 <code>@4=&#39;2017-09-05 18:53:36.353</code> 就能正確更新資料.  </p>\n<p><img src=\"https://i.imgur.com/8pGTYL4.gif\" alt></p>\n<h3 id=\"本機實測-SQL-版本-12-0-4459-0\"><a href=\"#本機實測-SQL-版本-12-0-4459-0\" class=\"headerlink\" title=\"本機實測 (SQL 版本 12.0.4459.0)\"></a>本機實測 (SQL 版本 12.0.4459.0)</h3><p>透過本機寫了一小段的SQL作測試,<br><img src=\"https://i.imgur.com/iJntV1i.gif\" alt><br><strong>竟然不會有問題!!!</strong>  </p>\n<p>這跟 SQL Compatibility Level 有關,<br>mssql 2014 預設是 120, 2016 預設是130,<br>Datetime2 在 120 跟 130 的結果會不一樣.  </p>\n<h3 id=\"解決方法\"><a href=\"#解決方法\" class=\"headerlink\" title=\"解決方法\"></a>解決方法</h3><p>主要的查詢與更新 SQL 是 Entity Framework 產生的,<br>所以我無法透過修改 SQL 的方式解決這個問題,<br>而正式環境的 SQL Compatibility Level 調整將會牽一髮動全身<br>且基於版本演進, 往新的版本靠攏是合理的選擇<br>暫時的解法是透過修改 edmx ,<br>不讓 datetime 作為整個 table 的 Key值.<br>較好的解法是升級 Entity Framework<br>透過 Entity Framework 的機制, 指定查詢時間的精準度.<br>實作的部份未來再補上. </p>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://docs.microsoft.com/en-us/sql/t-sql/statements/alter-database-transact-sql-compatibility-level\" target=\"_blank\" rel=\"noopener\">ALTER DATABASE (Transact-SQL) Compatibility</a></li>\n<li><a href=\"https://social.msdn.microsoft.com/Forums/silverlight/en-US/de5dbf3e-8c95-40f4-9e31-b71f1f31983d/change-in-datetime2-implementation-in-sql-server-2016?forum=transactsql\" target=\"_blank\" rel=\"noopener\">Change in datetime2 implementation in SQL Server 2016</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/sql/relational-databases/databases/view-or-change-the-compatibility-level-of-a-database\" target=\"_blank\" rel=\"noopener\">檢視或變更資料庫的相容性層級</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"使用 DateInterceptor 攔截SQL 語法","date":"2017-09-24T02:55:30.000Z","_content":"\n## 前言\n在[SQL Compatibility Level 對MsSQL時間查詢的影響](https://blog.marsen.me/2017/09/18/sql_compatibility_level_with_datetime2/)這篇文章裡,  \n遇到了一個令難以處理的問題, 簡單的複述一下,  \n\n1. 我的資料表以一個 datetime 欄位當作 PK\n2. 我的SQL DB版本為 2016 以上 (Compatibility Level預設值為130)\n\n這個時候我所有的 Entity Context 更新語法在呼叫 SaveChange 時會拋出錯誤;  \n原因在於 EF 所產生的 SQL Query 語法 , 會以 PK 值作為查詢條件,   \n而在這個時候 查詢時間的條件會精準到微秒(μs=1/1000000秒),  \n但是 datetime 欄位只會記錄到豪秒(ms=1/1000秒),  \n於是精準不足的部份就會補 0 ,  \nEX:  \n`2017-09-24 11:55:35.3720000` 與 `2017-09-24 11:55:35.372`  \n這會導致查無資料進而引發 [dbupdateconcurrencyexception](https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.dbupdateconcurrencyexception(v=vs.103).aspx)\n\n## 解決方針\n### 修改資料欄位\n 將資料庫的欄位datatype datetime 改成 datetime2 ,  \n 這或許是最理想的解法了, 你不需要更動程式碼,  \n 而且會提昇你資料的時間精準度.  \n 不過實務上,你必須考慮到你是否有dba的權限與即有的資料量,  \n 當產品的核心功能依賴著這張表的時候且有巨量資料存在時,  \n 更新欄位的資料型態的衝擊與風險或許是難以承受的.   \n 更不用說還要考慮到整個 DB Server Cluster 的架構之類的問題.\n\n### 修改 SQL Server Compatibility Level 從 130 至 120 \n非常不建議的作法, 除了要考慮上述權限、衝擊與風險的問題外,  \n如果降轉 Compatibility Level \n或許會使得其他有使用到 datetime2 型態的資料欄位發生異常,  \n或是是失去原本精度的意義. \n\n### 使用 DateInterceptor 攔截SQL 語法\n在考量上述兩種情況, 為了不增加~~DBA的工作量~~無謂的風險與權責問題, \n(其實是實務上我沒有DB Server的異動權限),  \n我們可以透過 [IDbInterceptor](https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.interception.idbcommandinterceptor(v=vs.113).aspx) 來欄截 Entity Framework 對DB 存取時執行的 Query\n\n以下是個簡單的範例,\n\n```csharp\n    public class DateInterceptor : IDbInterceptor\n    {\n        public void ReaderExecuting(DbCommand command,\n            DbCommandInterceptionContext<DbDataReader> interceptionContext)\n        {\n            var dateParameters = command.Parameters.OfType<DbParameter>()\n                .Where(p => p.DbType == DbType.DateTime2);\n            foreach (var parameter in dateParameters)\n            {\n                parameter.DbType = DbType.DateTime;\n            }\n        }\n    }\n```\n \n我們實作了一個 IDbInterceptor 的類別, \n用來將 datetime2 的資料型別轉型成 datetime,     \n接下要將它掛載在 Entity Context之中 \n\n```csharp\n    public partial class EF6Entities : DbContext\n    {\n        public EF6Entities()\n            : base(\"name=EF6Entities\")\n        {\n            DbInterception.Add(new DateInterceptor());\n        }\n    \n        protected override void OnModelCreating(DbModelBuilder modelBuilder)\n        {\n            throw new UnintentionalCodeFirstException();\n        }\n    \n        public virtual DbSet<BatchUploadData> BatchUploadData { get; set; }\n    }\n ```\n如此一來就會以 datetime 的精準度產生 SQL Query\n\n\n ## 參考   \n- [程式碼](https://github.com/marsen/EFDemo)\n- [IDbInterceptor](https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.interception.idbcommandinterceptor.aspx)\n- [IDbCommandInterceptor](https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.interception.idbcommandinterceptor.aspx)\n- [How to change how Entity Framework generates SQL precision for Datetime](https://stackoverflow.com/questions/46387565/how-to-change-how-entity-framework-generates-sql-precision-for-datetime)\n\n(fin)","source":"_posts/2017/sql_ef6_dateInterceptor.md","raw":"---\ntitle: \"使用 DateInterceptor 攔截SQL 語法\"\ndate: 2017/09/24 10:55:30\ntag:\n  - Entity Framework\n  - Database\n  - MsSQL\n---\n\n## 前言\n在[SQL Compatibility Level 對MsSQL時間查詢的影響](https://blog.marsen.me/2017/09/18/sql_compatibility_level_with_datetime2/)這篇文章裡,  \n遇到了一個令難以處理的問題, 簡單的複述一下,  \n\n1. 我的資料表以一個 datetime 欄位當作 PK\n2. 我的SQL DB版本為 2016 以上 (Compatibility Level預設值為130)\n\n這個時候我所有的 Entity Context 更新語法在呼叫 SaveChange 時會拋出錯誤;  \n原因在於 EF 所產生的 SQL Query 語法 , 會以 PK 值作為查詢條件,   \n而在這個時候 查詢時間的條件會精準到微秒(μs=1/1000000秒),  \n但是 datetime 欄位只會記錄到豪秒(ms=1/1000秒),  \n於是精準不足的部份就會補 0 ,  \nEX:  \n`2017-09-24 11:55:35.3720000` 與 `2017-09-24 11:55:35.372`  \n這會導致查無資料進而引發 [dbupdateconcurrencyexception](https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.dbupdateconcurrencyexception(v=vs.103).aspx)\n\n## 解決方針\n### 修改資料欄位\n 將資料庫的欄位datatype datetime 改成 datetime2 ,  \n 這或許是最理想的解法了, 你不需要更動程式碼,  \n 而且會提昇你資料的時間精準度.  \n 不過實務上,你必須考慮到你是否有dba的權限與即有的資料量,  \n 當產品的核心功能依賴著這張表的時候且有巨量資料存在時,  \n 更新欄位的資料型態的衝擊與風險或許是難以承受的.   \n 更不用說還要考慮到整個 DB Server Cluster 的架構之類的問題.\n\n### 修改 SQL Server Compatibility Level 從 130 至 120 \n非常不建議的作法, 除了要考慮上述權限、衝擊與風險的問題外,  \n如果降轉 Compatibility Level \n或許會使得其他有使用到 datetime2 型態的資料欄位發生異常,  \n或是是失去原本精度的意義. \n\n### 使用 DateInterceptor 攔截SQL 語法\n在考量上述兩種情況, 為了不增加~~DBA的工作量~~無謂的風險與權責問題, \n(其實是實務上我沒有DB Server的異動權限),  \n我們可以透過 [IDbInterceptor](https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.interception.idbcommandinterceptor(v=vs.113).aspx) 來欄截 Entity Framework 對DB 存取時執行的 Query\n\n以下是個簡單的範例,\n\n```csharp\n    public class DateInterceptor : IDbInterceptor\n    {\n        public void ReaderExecuting(DbCommand command,\n            DbCommandInterceptionContext<DbDataReader> interceptionContext)\n        {\n            var dateParameters = command.Parameters.OfType<DbParameter>()\n                .Where(p => p.DbType == DbType.DateTime2);\n            foreach (var parameter in dateParameters)\n            {\n                parameter.DbType = DbType.DateTime;\n            }\n        }\n    }\n```\n \n我們實作了一個 IDbInterceptor 的類別, \n用來將 datetime2 的資料型別轉型成 datetime,     \n接下要將它掛載在 Entity Context之中 \n\n```csharp\n    public partial class EF6Entities : DbContext\n    {\n        public EF6Entities()\n            : base(\"name=EF6Entities\")\n        {\n            DbInterception.Add(new DateInterceptor());\n        }\n    \n        protected override void OnModelCreating(DbModelBuilder modelBuilder)\n        {\n            throw new UnintentionalCodeFirstException();\n        }\n    \n        public virtual DbSet<BatchUploadData> BatchUploadData { get; set; }\n    }\n ```\n如此一來就會以 datetime 的精準度產生 SQL Query\n\n\n ## 參考   \n- [程式碼](https://github.com/marsen/EFDemo)\n- [IDbInterceptor](https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.interception.idbcommandinterceptor.aspx)\n- [IDbCommandInterceptor](https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.interception.idbcommandinterceptor.aspx)\n- [How to change how Entity Framework generates SQL precision for Datetime](https://stackoverflow.com/questions/46387565/how-to-change-how-entity-framework-generates-sql-precision-for-datetime)\n\n(fin)","slug":"2017/sql_ef6_dateInterceptor","published":1,"updated":"2019-06-10T14:43:28.889Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wk70019b0vx6qhe2xrf","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>在<a href=\"https://blog.marsen.me/2017/09/18/sql_compatibility_level_with_datetime2/\">SQL Compatibility Level 對MsSQL時間查詢的影響</a>這篇文章裡,<br>遇到了一個令難以處理的問題, 簡單的複述一下,  </p>\n<ol>\n<li>我的資料表以一個 datetime 欄位當作 PK</li>\n<li>我的SQL DB版本為 2016 以上 (Compatibility Level預設值為130)</li>\n</ol>\n<p>這個時候我所有的 Entity Context 更新語法在呼叫 SaveChange 時會拋出錯誤;<br>原因在於 EF 所產生的 SQL Query 語法 , 會以 PK 值作為查詢條件,<br>而在這個時候 查詢時間的條件會精準到微秒(μs=1/1000000秒),<br>但是 datetime 欄位只會記錄到豪秒(ms=1/1000秒),<br>於是精準不足的部份就會補 0 ,<br>EX:<br><code>2017-09-24 11:55:35.3720000</code> 與 <code>2017-09-24 11:55:35.372</code><br>這會導致查無資料進而引發 <a href=\"https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.dbupdateconcurrencyexception(v=vs.103).aspx\" target=\"_blank\" rel=\"noopener\">dbupdateconcurrencyexception</a></p>\n<h2 id=\"解決方針\"><a href=\"#解決方針\" class=\"headerlink\" title=\"解決方針\"></a>解決方針</h2><h3 id=\"修改資料欄位\"><a href=\"#修改資料欄位\" class=\"headerlink\" title=\"修改資料欄位\"></a>修改資料欄位</h3><p> 將資料庫的欄位datatype datetime 改成 datetime2 ,<br> 這或許是最理想的解法了, 你不需要更動程式碼,<br> 而且會提昇你資料的時間精準度.<br> 不過實務上,你必須考慮到你是否有dba的權限與即有的資料量,<br> 當產品的核心功能依賴著這張表的時候且有巨量資料存在時,<br> 更新欄位的資料型態的衝擊與風險或許是難以承受的.<br> 更不用說還要考慮到整個 DB Server Cluster 的架構之類的問題.</p>\n<h3 id=\"修改-SQL-Server-Compatibility-Level-從-130-至-120\"><a href=\"#修改-SQL-Server-Compatibility-Level-從-130-至-120\" class=\"headerlink\" title=\"修改 SQL Server Compatibility Level 從 130 至 120\"></a>修改 SQL Server Compatibility Level 從 130 至 120</h3><p>非常不建議的作法, 除了要考慮上述權限、衝擊與風險的問題外,<br>如果降轉 Compatibility Level<br>或許會使得其他有使用到 datetime2 型態的資料欄位發生異常,<br>或是是失去原本精度的意義. </p>\n<h3 id=\"使用-DateInterceptor-攔截SQL-語法\"><a href=\"#使用-DateInterceptor-攔截SQL-語法\" class=\"headerlink\" title=\"使用 DateInterceptor 攔截SQL 語法\"></a>使用 DateInterceptor 攔截SQL 語法</h3><p>在考量上述兩種情況, 為了不增加<del>DBA的工作量</del>無謂的風險與權責問題,<br>(其實是實務上我沒有DB Server的異動權限),<br>我們可以透過 <a href=\"https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.interception.idbcommandinterceptor(v=vs.113).aspx\" target=\"_blank\" rel=\"noopener\">IDbInterceptor</a> 來欄截 Entity Framework 對DB 存取時執行的 Query</p>\n<p>以下是個簡單的範例,</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DateInterceptor</span> : <span class=\"title\">IDbInterceptor</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ReaderExecuting</span>(<span class=\"params\">DbCommand command,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">        DbCommandInterceptionContext&lt;DbDataReader&gt; interceptionContext</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> dateParameters = command.Parameters.OfType&lt;DbParameter&gt;()</span><br><span class=\"line\">            .Where(p =&gt; p.DbType == DbType.DateTime2);</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> parameter <span class=\"keyword\">in</span> dateParameters)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            parameter.DbType = DbType.DateTime;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<p>我們實作了一個 IDbInterceptor 的類別,<br>用來將 datetime2 的資料型別轉型成 datetime,<br>接下要將它掛載在 Entity Context之中 </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">partial</span> <span class=\"keyword\">class</span> <span class=\"title\">EF6Entities</span> : <span class=\"title\">DbContext</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">EF6Entities</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">        : <span class=\"title\">base</span>(<span class=\"params\"><span class=\"string\">\"name=EF6Entities\"</span></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        DbInterception.Add(<span class=\"keyword\">new</span> DateInterceptor());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">OnModelCreating</span>(<span class=\"params\">DbModelBuilder modelBuilder</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> UnintentionalCodeFirstException();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">virtual</span> DbSet&lt;BatchUploadData&gt; BatchUploadData &#123; <span class=\"keyword\">get</span>; <span class=\"keyword\">set</span>; &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>如此一來就會以 datetime 的精準度產生 SQL Query</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://github.com/marsen/EFDemo\" target=\"_blank\" rel=\"noopener\">程式碼</a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.interception.idbcommandinterceptor.aspx\" target=\"_blank\" rel=\"noopener\">IDbInterceptor</a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.interception.idbcommandinterceptor.aspx\" target=\"_blank\" rel=\"noopener\">IDbCommandInterceptor</a></li>\n<li><a href=\"https://stackoverflow.com/questions/46387565/how-to-change-how-entity-framework-generates-sql-precision-for-datetime\" target=\"_blank\" rel=\"noopener\">How to change how Entity Framework generates SQL precision for Datetime</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>在<a href=\"https://blog.marsen.me/2017/09/18/sql_compatibility_level_with_datetime2/\">SQL Compatibility Level 對MsSQL時間查詢的影響</a>這篇文章裡,<br>遇到了一個令難以處理的問題, 簡單的複述一下,  </p>\n<ol>\n<li>我的資料表以一個 datetime 欄位當作 PK</li>\n<li>我的SQL DB版本為 2016 以上 (Compatibility Level預設值為130)</li>\n</ol>\n<p>這個時候我所有的 Entity Context 更新語法在呼叫 SaveChange 時會拋出錯誤;<br>原因在於 EF 所產生的 SQL Query 語法 , 會以 PK 值作為查詢條件,<br>而在這個時候 查詢時間的條件會精準到微秒(μs=1/1000000秒),<br>但是 datetime 欄位只會記錄到豪秒(ms=1/1000秒),<br>於是精準不足的部份就會補 0 ,<br>EX:<br><code>2017-09-24 11:55:35.3720000</code> 與 <code>2017-09-24 11:55:35.372</code><br>這會導致查無資料進而引發 <a href=\"https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.dbupdateconcurrencyexception(v=vs.103).aspx\" target=\"_blank\" rel=\"noopener\">dbupdateconcurrencyexception</a></p>\n<h2 id=\"解決方針\"><a href=\"#解決方針\" class=\"headerlink\" title=\"解決方針\"></a>解決方針</h2><h3 id=\"修改資料欄位\"><a href=\"#修改資料欄位\" class=\"headerlink\" title=\"修改資料欄位\"></a>修改資料欄位</h3><p> 將資料庫的欄位datatype datetime 改成 datetime2 ,<br> 這或許是最理想的解法了, 你不需要更動程式碼,<br> 而且會提昇你資料的時間精準度.<br> 不過實務上,你必須考慮到你是否有dba的權限與即有的資料量,<br> 當產品的核心功能依賴著這張表的時候且有巨量資料存在時,<br> 更新欄位的資料型態的衝擊與風險或許是難以承受的.<br> 更不用說還要考慮到整個 DB Server Cluster 的架構之類的問題.</p>\n<h3 id=\"修改-SQL-Server-Compatibility-Level-從-130-至-120\"><a href=\"#修改-SQL-Server-Compatibility-Level-從-130-至-120\" class=\"headerlink\" title=\"修改 SQL Server Compatibility Level 從 130 至 120\"></a>修改 SQL Server Compatibility Level 從 130 至 120</h3><p>非常不建議的作法, 除了要考慮上述權限、衝擊與風險的問題外,<br>如果降轉 Compatibility Level<br>或許會使得其他有使用到 datetime2 型態的資料欄位發生異常,<br>或是是失去原本精度的意義. </p>\n<h3 id=\"使用-DateInterceptor-攔截SQL-語法\"><a href=\"#使用-DateInterceptor-攔截SQL-語法\" class=\"headerlink\" title=\"使用 DateInterceptor 攔截SQL 語法\"></a>使用 DateInterceptor 攔截SQL 語法</h3><p>在考量上述兩種情況, 為了不增加<del>DBA的工作量</del>無謂的風險與權責問題,<br>(其實是實務上我沒有DB Server的異動權限),<br>我們可以透過 <a href=\"https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.interception.idbcommandinterceptor(v=vs.113).aspx\" target=\"_blank\" rel=\"noopener\">IDbInterceptor</a> 來欄截 Entity Framework 對DB 存取時執行的 Query</p>\n<p>以下是個簡單的範例,</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DateInterceptor</span> : <span class=\"title\">IDbInterceptor</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ReaderExecuting</span>(<span class=\"params\">DbCommand command,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">        DbCommandInterceptionContext&lt;DbDataReader&gt; interceptionContext</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> dateParameters = command.Parameters.OfType&lt;DbParameter&gt;()</span><br><span class=\"line\">            .Where(p =&gt; p.DbType == DbType.DateTime2);</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> parameter <span class=\"keyword\">in</span> dateParameters)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            parameter.DbType = DbType.DateTime;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<p>我們實作了一個 IDbInterceptor 的類別,<br>用來將 datetime2 的資料型別轉型成 datetime,<br>接下要將它掛載在 Entity Context之中 </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">partial</span> <span class=\"keyword\">class</span> <span class=\"title\">EF6Entities</span> : <span class=\"title\">DbContext</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">EF6Entities</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">        : <span class=\"title\">base</span>(<span class=\"params\"><span class=\"string\">\"name=EF6Entities\"</span></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        DbInterception.Add(<span class=\"keyword\">new</span> DateInterceptor());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">OnModelCreating</span>(<span class=\"params\">DbModelBuilder modelBuilder</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> UnintentionalCodeFirstException();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">virtual</span> DbSet&lt;BatchUploadData&gt; BatchUploadData &#123; <span class=\"keyword\">get</span>; <span class=\"keyword\">set</span>; &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>如此一來就會以 datetime 的精準度產生 SQL Query</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://github.com/marsen/EFDemo\" target=\"_blank\" rel=\"noopener\">程式碼</a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.interception.idbcommandinterceptor.aspx\" target=\"_blank\" rel=\"noopener\">IDbInterceptor</a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.interception.idbcommandinterceptor.aspx\" target=\"_blank\" rel=\"noopener\">IDbCommandInterceptor</a></li>\n<li><a href=\"https://stackoverflow.com/questions/46387565/how-to-change-how-entity-framework-generates-sql-precision-for-datetime\" target=\"_blank\" rel=\"noopener\">How to change how Entity Framework generates SQL precision for Datetime</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[踩雷筆記] BDD 跑3個失敗就停止","date":"2018-11-19T03:40:45.000Z","_content":"\n## 原文描述\n\n> Visual Studio 的 Test Explorer 在跑測試，\n如果遇到失敗，會直接中斷，\n比如說有 2000 個測試案例 跑到第 1300 個時測試失敗就會中斷\n剩下的 700 個案例會不執行直接略過。\n\n## 情境\n\n### 實際狀況\n並不是一跑到錯誤就會中斷測試，而是跑了 3 個失敗後中斷測試，\n另外執行的測試專案，是使用 SpecRun.Runner 撰寫 Cucumber 語法跑 BDD 測試。\n\n### 原因\n\n當使用測試專案使用 SpecRun.Runner，預設 stopAfterFailures 是 3，\n所以3個失敗就會略過。\n\n### 更多\n\n正常的測試都是會全跑完的。因為 Test Framework 標示 Test Method 的部份，  \n都是幫你內建 Try/Catch 攔下所有 Exception 的。\n\nMsTest 的 [TestMethod] 或是 NUnit 的[Test](XUnit 是 [Fact])，其實就是層 Wrapper  \n你在方法裡面寫的內容，只要有引發 Exception 的例外，\n都會被這層 Wrapper 攔下來，轉成測試結果的內容。\n\n## 解決方案\n測試專案根目錄應該有一份 `Default.srprofile` 檔，如下\n將 `stopAfterFailures` 調整至適當的值(ex:500)，將會顯示所有失敗測試。\n本案例開啟後，實際失敗的測試有 37 個\n\n```xml\n  <Execution stopAfterFailures=\"3\" testThreadCount=\"1\" testSchedulingMode=\"Sequential\" />\n``` \n\n\n## 參考資料\n- [SpecRun skipping testing rather than running them when executing more than 16](https://groups.google.com/forum/#!topic/specrun/yR6VVH8bDKg)\n- [SpecFlow+ Runner Profiles](https://specflow.org/plus/documentation/SpecFlowPlus-Runner-Profiles/)\n\n特別感謝 91、Green、余小章的協助\n\n(fin)\n","source":"_posts/2018/bdd_stopAfterfaliues.md","raw":"---\ntitle: \"[踩雷筆記] BDD 跑3個失敗就停止\"\ndate: 2018/11/19 11:40:45\ntag:\n  - Testing\n  -  \n---\n\n## 原文描述\n\n> Visual Studio 的 Test Explorer 在跑測試，\n如果遇到失敗，會直接中斷，\n比如說有 2000 個測試案例 跑到第 1300 個時測試失敗就會中斷\n剩下的 700 個案例會不執行直接略過。\n\n## 情境\n\n### 實際狀況\n並不是一跑到錯誤就會中斷測試，而是跑了 3 個失敗後中斷測試，\n另外執行的測試專案，是使用 SpecRun.Runner 撰寫 Cucumber 語法跑 BDD 測試。\n\n### 原因\n\n當使用測試專案使用 SpecRun.Runner，預設 stopAfterFailures 是 3，\n所以3個失敗就會略過。\n\n### 更多\n\n正常的測試都是會全跑完的。因為 Test Framework 標示 Test Method 的部份，  \n都是幫你內建 Try/Catch 攔下所有 Exception 的。\n\nMsTest 的 [TestMethod] 或是 NUnit 的[Test](XUnit 是 [Fact])，其實就是層 Wrapper  \n你在方法裡面寫的內容，只要有引發 Exception 的例外，\n都會被這層 Wrapper 攔下來，轉成測試結果的內容。\n\n## 解決方案\n測試專案根目錄應該有一份 `Default.srprofile` 檔，如下\n將 `stopAfterFailures` 調整至適當的值(ex:500)，將會顯示所有失敗測試。\n本案例開啟後，實際失敗的測試有 37 個\n\n```xml\n  <Execution stopAfterFailures=\"3\" testThreadCount=\"1\" testSchedulingMode=\"Sequential\" />\n``` \n\n\n## 參考資料\n- [SpecRun skipping testing rather than running them when executing more than 16](https://groups.google.com/forum/#!topic/specrun/yR6VVH8bDKg)\n- [SpecFlow+ Runner Profiles](https://specflow.org/plus/documentation/SpecFlowPlus-Runner-Profiles/)\n\n特別感謝 91、Green、余小章的協助\n\n(fin)\n","slug":"2018/bdd_stopAfterfaliues","published":1,"updated":"2019-06-10T14:43:28.896Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wk7001ab0vxqjle75g4","content":"<h2 id=\"原文描述\"><a href=\"#原文描述\" class=\"headerlink\" title=\"原文描述\"></a>原文描述</h2><blockquote>\n<p>Visual Studio 的 Test Explorer 在跑測試，<br>如果遇到失敗，會直接中斷，<br>比如說有 2000 個測試案例 跑到第 1300 個時測試失敗就會中斷<br>剩下的 700 個案例會不執行直接略過。</p>\n</blockquote>\n<h2 id=\"情境\"><a href=\"#情境\" class=\"headerlink\" title=\"情境\"></a>情境</h2><h3 id=\"實際狀況\"><a href=\"#實際狀況\" class=\"headerlink\" title=\"實際狀況\"></a>實際狀況</h3><p>並不是一跑到錯誤就會中斷測試，而是跑了 3 個失敗後中斷測試，<br>另外執行的測試專案，是使用 SpecRun.Runner 撰寫 Cucumber 語法跑 BDD 測試。</p>\n<h3 id=\"原因\"><a href=\"#原因\" class=\"headerlink\" title=\"原因\"></a>原因</h3><p>當使用測試專案使用 SpecRun.Runner，預設 stopAfterFailures 是 3，<br>所以3個失敗就會略過。</p>\n<h3 id=\"更多\"><a href=\"#更多\" class=\"headerlink\" title=\"更多\"></a>更多</h3><p>正常的測試都是會全跑完的。因為 Test Framework 標示 Test Method 的部份，<br>都是幫你內建 Try/Catch 攔下所有 Exception 的。</p>\n<p>MsTest 的 [TestMethod] 或是 NUnit 的[Test](XUnit 是 [Fact])，其實就是層 Wrapper<br>你在方法裡面寫的內容，只要有引發 Exception 的例外，<br>都會被這層 Wrapper 攔下來，轉成測試結果的內容。</p>\n<h2 id=\"解決方案\"><a href=\"#解決方案\" class=\"headerlink\" title=\"解決方案\"></a>解決方案</h2><p>測試專案根目錄應該有一份 <code>Default.srprofile</code> 檔，如下<br>將 <code>stopAfterFailures</code> 調整至適當的值(ex:500)，將會顯示所有失敗測試。<br>本案例開啟後，實際失敗的測試有 37 個</p>\n<pre><code class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Execution</span> <span class=\"attr\">stopAfterFailures</span>=<span class=\"string\">\"3\"</span> <span class=\"attr\">testThreadCount</span>=<span class=\"string\">\"1\"</span> <span class=\"attr\">testSchedulingMode</span>=<span class=\"string\">\"Sequential\"</span> /&gt;</span></code></pre>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://groups.google.com/forum/#!topic/specrun/yR6VVH8bDKg\" target=\"_blank\" rel=\"noopener\">SpecRun skipping testing rather than running them when executing more than 16</a></li>\n<li><a href=\"https://specflow.org/plus/documentation/SpecFlowPlus-Runner-Profiles/\" target=\"_blank\" rel=\"noopener\">SpecFlow+ Runner Profiles</a></li>\n</ul>\n<p>特別感謝 91、Green、余小章的協助</p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"原文描述\"><a href=\"#原文描述\" class=\"headerlink\" title=\"原文描述\"></a>原文描述</h2><blockquote>\n<p>Visual Studio 的 Test Explorer 在跑測試，<br>如果遇到失敗，會直接中斷，<br>比如說有 2000 個測試案例 跑到第 1300 個時測試失敗就會中斷<br>剩下的 700 個案例會不執行直接略過。</p>\n</blockquote>\n<h2 id=\"情境\"><a href=\"#情境\" class=\"headerlink\" title=\"情境\"></a>情境</h2><h3 id=\"實際狀況\"><a href=\"#實際狀況\" class=\"headerlink\" title=\"實際狀況\"></a>實際狀況</h3><p>並不是一跑到錯誤就會中斷測試，而是跑了 3 個失敗後中斷測試，<br>另外執行的測試專案，是使用 SpecRun.Runner 撰寫 Cucumber 語法跑 BDD 測試。</p>\n<h3 id=\"原因\"><a href=\"#原因\" class=\"headerlink\" title=\"原因\"></a>原因</h3><p>當使用測試專案使用 SpecRun.Runner，預設 stopAfterFailures 是 3，<br>所以3個失敗就會略過。</p>\n<h3 id=\"更多\"><a href=\"#更多\" class=\"headerlink\" title=\"更多\"></a>更多</h3><p>正常的測試都是會全跑完的。因為 Test Framework 標示 Test Method 的部份，<br>都是幫你內建 Try/Catch 攔下所有 Exception 的。</p>\n<p>MsTest 的 [TestMethod] 或是 NUnit 的[Test](XUnit 是 [Fact])，其實就是層 Wrapper<br>你在方法裡面寫的內容，只要有引發 Exception 的例外，<br>都會被這層 Wrapper 攔下來，轉成測試結果的內容。</p>\n<h2 id=\"解決方案\"><a href=\"#解決方案\" class=\"headerlink\" title=\"解決方案\"></a>解決方案</h2><p>測試專案根目錄應該有一份 <code>Default.srprofile</code> 檔，如下<br>將 <code>stopAfterFailures</code> 調整至適當的值(ex:500)，將會顯示所有失敗測試。<br>本案例開啟後，實際失敗的測試有 37 個</p>\n<pre><code class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Execution</span> <span class=\"attr\">stopAfterFailures</span>=<span class=\"string\">\"3\"</span> <span class=\"attr\">testThreadCount</span>=<span class=\"string\">\"1\"</span> <span class=\"attr\">testSchedulingMode</span>=<span class=\"string\">\"Sequential\"</span> /&gt;</span></code></pre>\n<h2 id=\"參考資料\"><a href=\"#參考資料\" class=\"headerlink\" title=\"參考資料\"></a>參考資料</h2><ul>\n<li><a href=\"https://groups.google.com/forum/#!topic/specrun/yR6VVH8bDKg\" target=\"_blank\" rel=\"noopener\">SpecRun skipping testing rather than running them when executing more than 16</a></li>\n<li><a href=\"https://specflow.org/plus/documentation/SpecFlowPlus-Runner-Profiles/\" target=\"_blank\" rel=\"noopener\">SpecFlow+ Runner Profiles</a></li>\n</ul>\n<p>特別感謝 91、Green、余小章的協助</p>\n<p>(fin)</p>\n"},{"title":"CI/CD 環境建置筆記(一) - 在 windows 安裝 Jenkins","date":"2017-01-15T14:16:42.000Z","_content":"\n## 前情提要\n\n- [CI/CD 環境建置筆記 - 前言<目的>](/2017/01/15/ci_use_jenkins/)\n\n## 操作記錄\n\n1. 下載並安裝Jenkins（記錄版本為2.32.1）\n2. 連線localhost:8080,會要求輸入`Administrator password`\n![](https://i.imgur.com/ik5l0sq.jpg)\n\n3. 安裝Plugins(這裡選擇預設)\n![](https://i.imgur.com/dOad35P.jpg)\n\n\n4. 安裝畫面\n![](https://i.imgur.com/6FyGHPm.jpg)\n\n5. 建立管理者帳號密碼\n![](https://i.imgur.com/AzHrJdu.jpg)\n![](https://i.imgur.com/2ct8GiO.jpg)\n\n6. 登入後,管理 Jenkins > 設定系統\n\t1. 將執行程式數量設定為 1  (安裝完預設為2,其實可以不用修改)\n\t2. `Shell` 設定為 `C:\\Windows\\system32\\cmd.exe` \n\n7. 建立第一個作業,選擇新增作業 > 輸入作業名稱 ,選擇「建立多重設定專案」\n![](https://i.imgur.com/0xkci16.jpg)\n8.  **執行一次建置**,這個步驟是為了產生work space 。\nwork space 路徑大致如下 `.\\Jenkins\\workspace\\Project name`\n\n9. 執行 console 並切換路徑至 work space \n10. 將 Openshift 上的 nodejs 應用程式 repo 設為 remote\n\t`>git remote add prod ssh://5**********************@nodejs-youraccount.rhcloud.com/~/git/nodejs.git/`\n\t\n11. 回到Jenkins,作業 > 組態 > 建置 > 新增「執行Windows批次指令」\n\t\n\t``` bat\n\tREM 測試\n\twhoami\n\tgit push prod HEAD^:master\n\t```\n\n\t1. 額外處理事項:\n\t直接在 Jenkins server 發 pr 給 openshift 時,發生 503 錯誤。\n\t使用 ssh 登入 openshift 看 log ,發現 \n\t`Node Sass does not yet support your current environment` 錯誤\n\t必須登入執行以下語法修正模組問題 `npm rebuild node-sass` \n\t\n12. 建置作業,會得到錯誤訊息\n```\n上略...\n19:44:46 Host key verification failed.\n19:44:46 fatal: Could not read from remote repository.\n下略...\n```\n\t\n原因:主機密鑰驗證失敗,這個錯誤的意思是我的 Jenkins Server 主機並不認得遠端的 Openshift Server 的 host key,主要的原因是 Jenkins Service 在執行的身份是 `NT AUTHORITY\\SYSTEM`,由於我已經有合適權限的帳號,所以只需要切換執行 Jenkins Server 的身份即可。\n![](https://i.imgur.com/HSJoXJp.jpg)\n\n如果你尚未建立遠端ssh連線的存取權限,或是對ssh連線不熟悉,可以參考文末的參考聯結。\n\n## 參考\n\n- [SSH原理与运用（一）：远程登录](http://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html)\n- [SSH原理与运用（二）：远程操作与端口转发](http://www.ruanyifeng.com/blog/2011/12/ssh_port_forwarding.html)\n- [[Tip] Windows使用ssh對Github進行操作](https://dotblogs.com.tw/kirkchen/2013/04/23/use_ssh_to_interact_with_github_in_windows)\n- [在 Windows 使用「非對稱金鑰」來遠端登入 SSH 的方法](http://www.vixual.net/blog/archives/190)\n\n(fin)","source":"_posts/2017/ci_use_jenkins_on_windows.md","raw":"---\ntitle: CI/CD 環境建置筆記(一) - 在 windows 安裝 Jenkins \ndate: 2017/01/15 22:16:42\ntag:\n  - CI/CD\n  - Jenkins\n  - Openshift\n---\n\n## 前情提要\n\n- [CI/CD 環境建置筆記 - 前言<目的>](/2017/01/15/ci_use_jenkins/)\n\n## 操作記錄\n\n1. 下載並安裝Jenkins（記錄版本為2.32.1）\n2. 連線localhost:8080,會要求輸入`Administrator password`\n![](https://i.imgur.com/ik5l0sq.jpg)\n\n3. 安裝Plugins(這裡選擇預設)\n![](https://i.imgur.com/dOad35P.jpg)\n\n\n4. 安裝畫面\n![](https://i.imgur.com/6FyGHPm.jpg)\n\n5. 建立管理者帳號密碼\n![](https://i.imgur.com/AzHrJdu.jpg)\n![](https://i.imgur.com/2ct8GiO.jpg)\n\n6. 登入後,管理 Jenkins > 設定系統\n\t1. 將執行程式數量設定為 1  (安裝完預設為2,其實可以不用修改)\n\t2. `Shell` 設定為 `C:\\Windows\\system32\\cmd.exe` \n\n7. 建立第一個作業,選擇新增作業 > 輸入作業名稱 ,選擇「建立多重設定專案」\n![](https://i.imgur.com/0xkci16.jpg)\n8.  **執行一次建置**,這個步驟是為了產生work space 。\nwork space 路徑大致如下 `.\\Jenkins\\workspace\\Project name`\n\n9. 執行 console 並切換路徑至 work space \n10. 將 Openshift 上的 nodejs 應用程式 repo 設為 remote\n\t`>git remote add prod ssh://5**********************@nodejs-youraccount.rhcloud.com/~/git/nodejs.git/`\n\t\n11. 回到Jenkins,作業 > 組態 > 建置 > 新增「執行Windows批次指令」\n\t\n\t``` bat\n\tREM 測試\n\twhoami\n\tgit push prod HEAD^:master\n\t```\n\n\t1. 額外處理事項:\n\t直接在 Jenkins server 發 pr 給 openshift 時,發生 503 錯誤。\n\t使用 ssh 登入 openshift 看 log ,發現 \n\t`Node Sass does not yet support your current environment` 錯誤\n\t必須登入執行以下語法修正模組問題 `npm rebuild node-sass` \n\t\n12. 建置作業,會得到錯誤訊息\n```\n上略...\n19:44:46 Host key verification failed.\n19:44:46 fatal: Could not read from remote repository.\n下略...\n```\n\t\n原因:主機密鑰驗證失敗,這個錯誤的意思是我的 Jenkins Server 主機並不認得遠端的 Openshift Server 的 host key,主要的原因是 Jenkins Service 在執行的身份是 `NT AUTHORITY\\SYSTEM`,由於我已經有合適權限的帳號,所以只需要切換執行 Jenkins Server 的身份即可。\n![](https://i.imgur.com/HSJoXJp.jpg)\n\n如果你尚未建立遠端ssh連線的存取權限,或是對ssh連線不熟悉,可以參考文末的參考聯結。\n\n## 參考\n\n- [SSH原理与运用（一）：远程登录](http://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html)\n- [SSH原理与运用（二）：远程操作与端口转发](http://www.ruanyifeng.com/blog/2011/12/ssh_port_forwarding.html)\n- [[Tip] Windows使用ssh對Github進行操作](https://dotblogs.com.tw/kirkchen/2013/04/23/use_ssh_to_interact_with_github_in_windows)\n- [在 Windows 使用「非對稱金鑰」來遠端登入 SSH 的方法](http://www.vixual.net/blog/archives/190)\n\n(fin)","slug":"2017/ci_use_jenkins_on_windows","published":1,"updated":"2019-06-10T14:43:28.886Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wk8001bb0vxqjcvto39","content":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><ul>\n<li><a href=\"/2017/01/15/ci_use_jenkins/\">CI/CD 環境建置筆記 - 前言&lt;目的&gt;</a></li>\n</ul>\n<h2 id=\"操作記錄\"><a href=\"#操作記錄\" class=\"headerlink\" title=\"操作記錄\"></a>操作記錄</h2><ol>\n<li><p>下載並安裝Jenkins（記錄版本為2.32.1）</p>\n</li>\n<li><p>連線localhost:8080,會要求輸入<code>Administrator password</code><br><img src=\"https://i.imgur.com/ik5l0sq.jpg\" alt></p>\n</li>\n<li><p>安裝Plugins(這裡選擇預設)<br><img src=\"https://i.imgur.com/dOad35P.jpg\" alt></p>\n</li>\n</ol>\n<ol start=\"4\">\n<li><p>安裝畫面<br><img src=\"https://i.imgur.com/6FyGHPm.jpg\" alt></p>\n</li>\n<li><p>建立管理者帳號密碼<br><img src=\"https://i.imgur.com/AzHrJdu.jpg\" alt><br><img src=\"https://i.imgur.com/2ct8GiO.jpg\" alt></p>\n</li>\n<li><p>登入後,管理 Jenkins &gt; 設定系統</p>\n<ol>\n<li>將執行程式數量設定為 1  (安裝完預設為2,其實可以不用修改)</li>\n<li><code>Shell</code> 設定為 <code>C:\\Windows\\system32\\cmd.exe</code> </li>\n</ol>\n</li>\n<li><p>建立第一個作業,選擇新增作業 &gt; 輸入作業名稱 ,選擇「建立多重設定專案」<br><img src=\"https://i.imgur.com/0xkci16.jpg\" alt></p>\n</li>\n<li><p><strong>執行一次建置</strong>,這個步驟是為了產生work space 。<br>work space 路徑大致如下 <code>.\\Jenkins\\workspace\\Project name</code></p>\n</li>\n<li><p>執行 console 並切換路徑至 work space </p>\n</li>\n<li><p>將 Openshift 上的 nodejs 應用程式 repo 設為 remote<br><code>&gt;git remote add prod ssh://5**********************@nodejs-youraccount.rhcloud.com/~/git/nodejs.git/</code></p>\n</li>\n<li><p>回到Jenkins,作業 &gt; 組態 &gt; 建置 &gt; 新增「執行Windows批次指令」</p>\n<figure class=\"highlight bat\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">REM 測試</span></span><br><span class=\"line\">whoami</span><br><span class=\"line\">git push prod HEAD^:master</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>額外處理事項:<br>直接在 Jenkins server 發 pr 給 openshift 時,發生 503 錯誤。<br>使用 ssh 登入 openshift 看 log ,發現<br><code>Node Sass does not yet support your current environment</code> 錯誤<br>必須登入執行以下語法修正模組問題 <code>npm rebuild node-sass</code> </li>\n</ol>\n</li>\n<li><p>建置作業,會得到錯誤訊息</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">上略...</span><br><span class=\"line\">19:44:46 Host key verification failed.</span><br><span class=\"line\">19:44:46 fatal: Could not read from remote repository.</span><br><span class=\"line\">下略...</span><br></pre></td></tr></table></figure>\n\n\n</li>\n</ol>\n<p>原因:主機密鑰驗證失敗,這個錯誤的意思是我的 Jenkins Server 主機並不認得遠端的 Openshift Server 的 host key,主要的原因是 Jenkins Service 在執行的身份是 <code>NT AUTHORITY\\SYSTEM</code>,由於我已經有合適權限的帳號,所以只需要切換執行 Jenkins Server 的身份即可。<br><img src=\"https://i.imgur.com/HSJoXJp.jpg\" alt></p>\n<p>如果你尚未建立遠端ssh連線的存取權限,或是對ssh連線不熟悉,可以參考文末的參考聯結。</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"http://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html\" target=\"_blank\" rel=\"noopener\">SSH原理与运用（一）：远程登录</a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2011/12/ssh_port_forwarding.html\" target=\"_blank\" rel=\"noopener\">SSH原理与运用（二）：远程操作与端口转发</a></li>\n<li><a href=\"https://dotblogs.com.tw/kirkchen/2013/04/23/use_ssh_to_interact_with_github_in_windows\" target=\"_blank\" rel=\"noopener\">[Tip] Windows使用ssh對Github進行操作</a></li>\n<li><a href=\"http://www.vixual.net/blog/archives/190\" target=\"_blank\" rel=\"noopener\">在 Windows 使用「非對稱金鑰」來遠端登入 SSH 的方法</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><ul>\n<li><a href=\"/2017/01/15/ci_use_jenkins/\">CI/CD 環境建置筆記 - 前言&lt;目的&gt;</a></li>\n</ul>\n<h2 id=\"操作記錄\"><a href=\"#操作記錄\" class=\"headerlink\" title=\"操作記錄\"></a>操作記錄</h2><ol>\n<li><p>下載並安裝Jenkins（記錄版本為2.32.1）</p>\n</li>\n<li><p>連線localhost:8080,會要求輸入<code>Administrator password</code><br><img src=\"https://i.imgur.com/ik5l0sq.jpg\" alt></p>\n</li>\n<li><p>安裝Plugins(這裡選擇預設)<br><img src=\"https://i.imgur.com/dOad35P.jpg\" alt></p>\n</li>\n</ol>\n<ol start=\"4\">\n<li><p>安裝畫面<br><img src=\"https://i.imgur.com/6FyGHPm.jpg\" alt></p>\n</li>\n<li><p>建立管理者帳號密碼<br><img src=\"https://i.imgur.com/AzHrJdu.jpg\" alt><br><img src=\"https://i.imgur.com/2ct8GiO.jpg\" alt></p>\n</li>\n<li><p>登入後,管理 Jenkins &gt; 設定系統</p>\n<ol>\n<li>將執行程式數量設定為 1  (安裝完預設為2,其實可以不用修改)</li>\n<li><code>Shell</code> 設定為 <code>C:\\Windows\\system32\\cmd.exe</code> </li>\n</ol>\n</li>\n<li><p>建立第一個作業,選擇新增作業 &gt; 輸入作業名稱 ,選擇「建立多重設定專案」<br><img src=\"https://i.imgur.com/0xkci16.jpg\" alt></p>\n</li>\n<li><p><strong>執行一次建置</strong>,這個步驟是為了產生work space 。<br>work space 路徑大致如下 <code>.\\Jenkins\\workspace\\Project name</code></p>\n</li>\n<li><p>執行 console 並切換路徑至 work space </p>\n</li>\n<li><p>將 Openshift 上的 nodejs 應用程式 repo 設為 remote<br><code>&gt;git remote add prod ssh://5**********************@nodejs-youraccount.rhcloud.com/~/git/nodejs.git/</code></p>\n</li>\n<li><p>回到Jenkins,作業 &gt; 組態 &gt; 建置 &gt; 新增「執行Windows批次指令」</p>\n<figure class=\"highlight bat\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">REM 測試</span></span><br><span class=\"line\">whoami</span><br><span class=\"line\">git push prod HEAD^:master</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>額外處理事項:<br>直接在 Jenkins server 發 pr 給 openshift 時,發生 503 錯誤。<br>使用 ssh 登入 openshift 看 log ,發現<br><code>Node Sass does not yet support your current environment</code> 錯誤<br>必須登入執行以下語法修正模組問題 <code>npm rebuild node-sass</code> </li>\n</ol>\n</li>\n<li><p>建置作業,會得到錯誤訊息</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">上略...</span><br><span class=\"line\">19:44:46 Host key verification failed.</span><br><span class=\"line\">19:44:46 fatal: Could not read from remote repository.</span><br><span class=\"line\">下略...</span><br></pre></td></tr></table></figure>\n\n\n</li>\n</ol>\n<p>原因:主機密鑰驗證失敗,這個錯誤的意思是我的 Jenkins Server 主機並不認得遠端的 Openshift Server 的 host key,主要的原因是 Jenkins Service 在執行的身份是 <code>NT AUTHORITY\\SYSTEM</code>,由於我已經有合適權限的帳號,所以只需要切換執行 Jenkins Server 的身份即可。<br><img src=\"https://i.imgur.com/HSJoXJp.jpg\" alt></p>\n<p>如果你尚未建立遠端ssh連線的存取權限,或是對ssh連線不熟悉,可以參考文末的參考聯結。</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"http://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html\" target=\"_blank\" rel=\"noopener\">SSH原理与运用（一）：远程登录</a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2011/12/ssh_port_forwarding.html\" target=\"_blank\" rel=\"noopener\">SSH原理与运用（二）：远程操作与端口转发</a></li>\n<li><a href=\"https://dotblogs.com.tw/kirkchen/2013/04/23/use_ssh_to_interact_with_github_in_windows\" target=\"_blank\" rel=\"noopener\">[Tip] Windows使用ssh對Github進行操作</a></li>\n<li><a href=\"http://www.vixual.net/blog/archives/190\" target=\"_blank\" rel=\"noopener\">在 Windows 使用「非對稱金鑰」來遠端登入 SSH 的方法</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[活動筆記]測試即學習","date":"2017-05-19T06:03:01.000Z","_content":"## 應該知道的事:\n- 報名資訊(已結束)\n[Agile Meetup 2017/05 (2): 測試即學習](http://www.accupass.com/go/testingislearning)\n\n- 這裡不講TDD,沒有程式 \n\n## 流程\n讀這篇文章的人，或許可以找一位朋友來作相同的流程練習\n\n1. 一張不明所以的圖片當作受測對象，任意發散的詢問測試問題\n2. 分類所有的問題為WHY、HOW、WHAT\n3. 畫出Golden Circle，核心是WHY\n4. 透過WHY揭露受測對象圖片的本質(TAROT)，收斂測試範圍\n5. 重新詢問測試問題，儘可能的發散\n6. 所有人交流自已看到可能的測試問題\n7. 重複5~6步，有意識的去覺察自已的感覺\n\t- 別人注意到的問題你為什麼沒發現？\n\t- 別人如何發現問題？\n\t- 你有沒有辦法發現相同的問題(殊途同歸)？\n\n\n## 測試的概念\n\t\n1. 受測者\n2. 問題\n3. 答案\n4. 預期的結果(test oracles)\n\n![](https://i.imgur.com/Qy8F4Vw.png)\n\n## 問題的核心 Know Your Mission(KNW)\n\n1. WHY ? \n\t本次分享的重點，如何了解、探索、學習產品的知識，給客戶的價值等… 。\n2. HOW ? => 如何作到？\n3. WHAT ? => 產生測試項目\n4. TEST ? => 執行測試，回饋並且回到第一步Loop。\n\n## 應該觀注的資訊 information is learning\n1. Customer\n2. Product\n3. Project\n4. Mission\n\n透過WHY的詰問，了解你的任務(Know Your Mission) \n學習到受測對象的本質，排除不必要的測試發想。\n收斂了測試範圍，決定了測試方向。\n\n## 探索測試\n1. 儘可能的發散\n2. 摹仿別人看事情的角度\n3. 有意識的學習(mindful learning)\t\n\t- 記錄\n\t- 總結\n\t- 歸納問題的核心\n\t- 給它起一個名字(沒有專有名詞的話)\n\t- 有意識的逃離第一印象\n\t- 小心不經意的盲區(inattentional blindness)\n\t- 數量 X 練習 X 思考 X 學習 = 提昇\n\n## 回饋\n1. 刻意練習 vs 有意識的練習，類似的東西，但是沒有具體的方法\n2. 課程中提到的[影片](https://www.ted.com/talks/simon_sinek_how_great_leaders_inspire_action?language=zh-tw)\n\n\n\n\n(fin)","source":"_posts/2017/testingislearning.md","raw":"---\ntitle: \"[活動筆記]測試即學習\"\ndate: 2017/05/19 14:03:01\ntag:\n  - Testing\n---\n## 應該知道的事:\n- 報名資訊(已結束)\n[Agile Meetup 2017/05 (2): 測試即學習](http://www.accupass.com/go/testingislearning)\n\n- 這裡不講TDD,沒有程式 \n\n## 流程\n讀這篇文章的人，或許可以找一位朋友來作相同的流程練習\n\n1. 一張不明所以的圖片當作受測對象，任意發散的詢問測試問題\n2. 分類所有的問題為WHY、HOW、WHAT\n3. 畫出Golden Circle，核心是WHY\n4. 透過WHY揭露受測對象圖片的本質(TAROT)，收斂測試範圍\n5. 重新詢問測試問題，儘可能的發散\n6. 所有人交流自已看到可能的測試問題\n7. 重複5~6步，有意識的去覺察自已的感覺\n\t- 別人注意到的問題你為什麼沒發現？\n\t- 別人如何發現問題？\n\t- 你有沒有辦法發現相同的問題(殊途同歸)？\n\n\n## 測試的概念\n\t\n1. 受測者\n2. 問題\n3. 答案\n4. 預期的結果(test oracles)\n\n![](https://i.imgur.com/Qy8F4Vw.png)\n\n## 問題的核心 Know Your Mission(KNW)\n\n1. WHY ? \n\t本次分享的重點，如何了解、探索、學習產品的知識，給客戶的價值等… 。\n2. HOW ? => 如何作到？\n3. WHAT ? => 產生測試項目\n4. TEST ? => 執行測試，回饋並且回到第一步Loop。\n\n## 應該觀注的資訊 information is learning\n1. Customer\n2. Product\n3. Project\n4. Mission\n\n透過WHY的詰問，了解你的任務(Know Your Mission) \n學習到受測對象的本質，排除不必要的測試發想。\n收斂了測試範圍，決定了測試方向。\n\n## 探索測試\n1. 儘可能的發散\n2. 摹仿別人看事情的角度\n3. 有意識的學習(mindful learning)\t\n\t- 記錄\n\t- 總結\n\t- 歸納問題的核心\n\t- 給它起一個名字(沒有專有名詞的話)\n\t- 有意識的逃離第一印象\n\t- 小心不經意的盲區(inattentional blindness)\n\t- 數量 X 練習 X 思考 X 學習 = 提昇\n\n## 回饋\n1. 刻意練習 vs 有意識的練習，類似的東西，但是沒有具體的方法\n2. 課程中提到的[影片](https://www.ted.com/talks/simon_sinek_how_great_leaders_inspire_action?language=zh-tw)\n\n\n\n\n(fin)","slug":"2017/testingislearning","published":1,"updated":"2019-06-10T14:43:28.894Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wk8001cb0vx8q8veobe","content":"<h2 id=\"應該知道的事\"><a href=\"#應該知道的事\" class=\"headerlink\" title=\"應該知道的事:\"></a>應該知道的事:</h2><ul>\n<li><p>報名資訊(已結束)<br><a href=\"http://www.accupass.com/go/testingislearning\" target=\"_blank\" rel=\"noopener\">Agile Meetup 2017/05 (2): 測試即學習</a></p>\n</li>\n<li><p>這裡不講TDD,沒有程式 </p>\n</li>\n</ul>\n<h2 id=\"流程\"><a href=\"#流程\" class=\"headerlink\" title=\"流程\"></a>流程</h2><p>讀這篇文章的人，或許可以找一位朋友來作相同的流程練習</p>\n<ol>\n<li>一張不明所以的圖片當作受測對象，任意發散的詢問測試問題</li>\n<li>分類所有的問題為WHY、HOW、WHAT</li>\n<li>畫出Golden Circle，核心是WHY</li>\n<li>透過WHY揭露受測對象圖片的本質(TAROT)，收斂測試範圍</li>\n<li>重新詢問測試問題，儘可能的發散</li>\n<li>所有人交流自已看到可能的測試問題</li>\n<li>重複5~6步，有意識的去覺察自已的感覺<ul>\n<li>別人注意到的問題你為什麼沒發現？</li>\n<li>別人如何發現問題？</li>\n<li>你有沒有辦法發現相同的問題(殊途同歸)？</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"測試的概念\"><a href=\"#測試的概念\" class=\"headerlink\" title=\"測試的概念\"></a>測試的概念</h2><ol>\n<li>受測者</li>\n<li>問題</li>\n<li>答案</li>\n<li>預期的結果(test oracles)</li>\n</ol>\n<p><img src=\"https://i.imgur.com/Qy8F4Vw.png\" alt></p>\n<h2 id=\"問題的核心-Know-Your-Mission-KNW\"><a href=\"#問題的核心-Know-Your-Mission-KNW\" class=\"headerlink\" title=\"問題的核心 Know Your Mission(KNW)\"></a>問題的核心 Know Your Mission(KNW)</h2><ol>\n<li>WHY ?<br> 本次分享的重點，如何了解、探索、學習產品的知識，給客戶的價值等… 。</li>\n<li>HOW ? =&gt; 如何作到？</li>\n<li>WHAT ? =&gt; 產生測試項目</li>\n<li>TEST ? =&gt; 執行測試，回饋並且回到第一步Loop。</li>\n</ol>\n<h2 id=\"應該觀注的資訊-information-is-learning\"><a href=\"#應該觀注的資訊-information-is-learning\" class=\"headerlink\" title=\"應該觀注的資訊 information is learning\"></a>應該觀注的資訊 information is learning</h2><ol>\n<li>Customer</li>\n<li>Product</li>\n<li>Project</li>\n<li>Mission</li>\n</ol>\n<p>透過WHY的詰問，了解你的任務(Know Your Mission)<br>學習到受測對象的本質，排除不必要的測試發想。<br>收斂了測試範圍，決定了測試方向。</p>\n<h2 id=\"探索測試\"><a href=\"#探索測試\" class=\"headerlink\" title=\"探索測試\"></a>探索測試</h2><ol>\n<li>儘可能的發散</li>\n<li>摹仿別人看事情的角度</li>\n<li>有意識的學習(mindful learning)    <ul>\n<li>記錄</li>\n<li>總結</li>\n<li>歸納問題的核心</li>\n<li>給它起一個名字(沒有專有名詞的話)</li>\n<li>有意識的逃離第一印象</li>\n<li>小心不經意的盲區(inattentional blindness)</li>\n<li>數量 X 練習 X 思考 X 學習 = 提昇</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"回饋\"><a href=\"#回饋\" class=\"headerlink\" title=\"回饋\"></a>回饋</h2><ol>\n<li>刻意練習 vs 有意識的練習，類似的東西，但是沒有具體的方法</li>\n<li>課程中提到的<a href=\"https://www.ted.com/talks/simon_sinek_how_great_leaders_inspire_action?language=zh-tw\" target=\"_blank\" rel=\"noopener\">影片</a></li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"應該知道的事\"><a href=\"#應該知道的事\" class=\"headerlink\" title=\"應該知道的事:\"></a>應該知道的事:</h2><ul>\n<li><p>報名資訊(已結束)<br><a href=\"http://www.accupass.com/go/testingislearning\" target=\"_blank\" rel=\"noopener\">Agile Meetup 2017/05 (2): 測試即學習</a></p>\n</li>\n<li><p>這裡不講TDD,沒有程式 </p>\n</li>\n</ul>\n<h2 id=\"流程\"><a href=\"#流程\" class=\"headerlink\" title=\"流程\"></a>流程</h2><p>讀這篇文章的人，或許可以找一位朋友來作相同的流程練習</p>\n<ol>\n<li>一張不明所以的圖片當作受測對象，任意發散的詢問測試問題</li>\n<li>分類所有的問題為WHY、HOW、WHAT</li>\n<li>畫出Golden Circle，核心是WHY</li>\n<li>透過WHY揭露受測對象圖片的本質(TAROT)，收斂測試範圍</li>\n<li>重新詢問測試問題，儘可能的發散</li>\n<li>所有人交流自已看到可能的測試問題</li>\n<li>重複5~6步，有意識的去覺察自已的感覺<ul>\n<li>別人注意到的問題你為什麼沒發現？</li>\n<li>別人如何發現問題？</li>\n<li>你有沒有辦法發現相同的問題(殊途同歸)？</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"測試的概念\"><a href=\"#測試的概念\" class=\"headerlink\" title=\"測試的概念\"></a>測試的概念</h2><ol>\n<li>受測者</li>\n<li>問題</li>\n<li>答案</li>\n<li>預期的結果(test oracles)</li>\n</ol>\n<p><img src=\"https://i.imgur.com/Qy8F4Vw.png\" alt></p>\n<h2 id=\"問題的核心-Know-Your-Mission-KNW\"><a href=\"#問題的核心-Know-Your-Mission-KNW\" class=\"headerlink\" title=\"問題的核心 Know Your Mission(KNW)\"></a>問題的核心 Know Your Mission(KNW)</h2><ol>\n<li>WHY ?<br> 本次分享的重點，如何了解、探索、學習產品的知識，給客戶的價值等… 。</li>\n<li>HOW ? =&gt; 如何作到？</li>\n<li>WHAT ? =&gt; 產生測試項目</li>\n<li>TEST ? =&gt; 執行測試，回饋並且回到第一步Loop。</li>\n</ol>\n<h2 id=\"應該觀注的資訊-information-is-learning\"><a href=\"#應該觀注的資訊-information-is-learning\" class=\"headerlink\" title=\"應該觀注的資訊 information is learning\"></a>應該觀注的資訊 information is learning</h2><ol>\n<li>Customer</li>\n<li>Product</li>\n<li>Project</li>\n<li>Mission</li>\n</ol>\n<p>透過WHY的詰問，了解你的任務(Know Your Mission)<br>學習到受測對象的本質，排除不必要的測試發想。<br>收斂了測試範圍，決定了測試方向。</p>\n<h2 id=\"探索測試\"><a href=\"#探索測試\" class=\"headerlink\" title=\"探索測試\"></a>探索測試</h2><ol>\n<li>儘可能的發散</li>\n<li>摹仿別人看事情的角度</li>\n<li>有意識的學習(mindful learning)    <ul>\n<li>記錄</li>\n<li>總結</li>\n<li>歸納問題的核心</li>\n<li>給它起一個名字(沒有專有名詞的話)</li>\n<li>有意識的逃離第一印象</li>\n<li>小心不經意的盲區(inattentional blindness)</li>\n<li>數量 X 練習 X 思考 X 學習 = 提昇</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"回饋\"><a href=\"#回饋\" class=\"headerlink\" title=\"回饋\"></a>回饋</h2><ol>\n<li>刻意練習 vs 有意識的練習，類似的東西，但是沒有具體的方法</li>\n<li>課程中提到的<a href=\"https://www.ted.com/talks/simon_sinek_how_great_leaders_inspire_action?language=zh-tw\" target=\"_blank\" rel=\"noopener\">影片</a></li>\n</ol>\n<p>(fin)</p>\n"},{"title":"最大公因數與最小公倍數","date":"2018-09-17T16:36:51.000Z","_content":"\n## 簡介\n\n數學系畢業後，在學寫程式雖然偶爾會用到一些數學特性來解題，\n不過到了工作確不是那麼一回事，大多在處理商業流程，資料流 ;\n然後在商業流程與資料流中穿梭，找蟲然後補丁 ;  \n\n這是最近在練習 [Kata 的題目](https://www.hackerrank.com/challenges/between-two-sets/problem)所用到的兩個國中數學，\n「最大公因數」與「最小公倍數」，還用程式實踐了「輾轉相除法」，\n真的是有點懷念啊 。\n\n這是題外話，Rx(Reactive Functional Programing)感覺很有趣\n最近參與 functional programing 的讀書會，\n裡面似乎有比現在開發模式更優雅的解決問題方式。\n不過門檻有點高，需要具備的抽象思考能力，是種非常燒腦的開發方式。\n\n## 實作\n\n```csharp\n//// GCD\nstatic Func<int, int, int> GCD = (numA, numB) => {\n        return numB == 0 ? numA : GCD(numB, numA % numB);\n    };\n//// LCM\nstatic Func<int, int,int> LCM = (numA,numB) => {\n            return numA * numB / GCD(numA, numB);\n        } ;\n```\n\n### 參考\n\n- <https://www.geeksforgeeks.org/gcd-two-array-numbers/>\n- <https://www.geeksforgeeks.org/lcm-of-given-array-elements/>\n\n(fin)\n","source":"_posts/2018/LCM_and_GCD.md","raw":"---\ntitle: \"最大公因數與最小公倍數\"\ndate: 2018/09/18 00:36:51\ntag:\n  - .Net Framework\n---\n\n## 簡介\n\n數學系畢業後，在學寫程式雖然偶爾會用到一些數學特性來解題，\n不過到了工作確不是那麼一回事，大多在處理商業流程，資料流 ;\n然後在商業流程與資料流中穿梭，找蟲然後補丁 ;  \n\n這是最近在練習 [Kata 的題目](https://www.hackerrank.com/challenges/between-two-sets/problem)所用到的兩個國中數學，\n「最大公因數」與「最小公倍數」，還用程式實踐了「輾轉相除法」，\n真的是有點懷念啊 。\n\n這是題外話，Rx(Reactive Functional Programing)感覺很有趣\n最近參與 functional programing 的讀書會，\n裡面似乎有比現在開發模式更優雅的解決問題方式。\n不過門檻有點高，需要具備的抽象思考能力，是種非常燒腦的開發方式。\n\n## 實作\n\n```csharp\n//// GCD\nstatic Func<int, int, int> GCD = (numA, numB) => {\n        return numB == 0 ? numA : GCD(numB, numA % numB);\n    };\n//// LCM\nstatic Func<int, int,int> LCM = (numA,numB) => {\n            return numA * numB / GCD(numA, numB);\n        } ;\n```\n\n### 參考\n\n- <https://www.geeksforgeeks.org/gcd-two-array-numbers/>\n- <https://www.geeksforgeeks.org/lcm-of-given-array-elements/>\n\n(fin)\n","slug":"2018/LCM_and_GCD","published":1,"updated":"2019-09-08T10:03:24.593Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wk8001db0vx9yh6tayj","content":"<h2 id=\"簡介\"><a href=\"#簡介\" class=\"headerlink\" title=\"簡介\"></a>簡介</h2><p>數學系畢業後，在學寫程式雖然偶爾會用到一些數學特性來解題，<br>不過到了工作確不是那麼一回事，大多在處理商業流程，資料流 ;<br>然後在商業流程與資料流中穿梭，找蟲然後補丁 ;  </p>\n<p>這是最近在練習 <a href=\"https://www.hackerrank.com/challenges/between-two-sets/problem\" target=\"_blank\" rel=\"noopener\">Kata 的題目</a>所用到的兩個國中數學，<br>「最大公因數」與「最小公倍數」，還用程式實踐了「輾轉相除法」，<br>真的是有點懷念啊 。</p>\n<p>這是題外話，Rx(Reactive Functional Programing)感覺很有趣<br>最近參與 functional programing 的讀書會，<br>裡面似乎有比現在開發模式更優雅的解決問題方式。<br>不過門檻有點高，需要具備的抽象思考能力，是種非常燒腦的開發方式。</p>\n<h2 id=\"實作\"><a href=\"#實作\" class=\"headerlink\" title=\"實作\"></a>實作</h2><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span>/ GCD</span></span><br><span class=\"line\"><span class=\"keyword\">static</span> Func&lt;<span class=\"keyword\">int</span>, <span class=\"keyword\">int</span>, <span class=\"keyword\">int</span>&gt; GCD = (numA, numB) =&gt; &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> numB == <span class=\"number\">0</span> ? numA : GCD(numB, numA % numB);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span>/ LCM</span></span><br><span class=\"line\"><span class=\"keyword\">static</span> Func&lt;<span class=\"keyword\">int</span>, <span class=\"keyword\">int</span>,<span class=\"keyword\">int</span>&gt; LCM = (numA,numB) =&gt; &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> numA * numB / GCD(numA, numB);</span><br><span class=\"line\">        &#125; ;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h3><ul>\n<li><a href=\"https://www.geeksforgeeks.org/gcd-two-array-numbers/\" target=\"_blank\" rel=\"noopener\">https://www.geeksforgeeks.org/gcd-two-array-numbers/</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/lcm-of-given-array-elements/\" target=\"_blank\" rel=\"noopener\">https://www.geeksforgeeks.org/lcm-of-given-array-elements/</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"簡介\"><a href=\"#簡介\" class=\"headerlink\" title=\"簡介\"></a>簡介</h2><p>數學系畢業後，在學寫程式雖然偶爾會用到一些數學特性來解題，<br>不過到了工作確不是那麼一回事，大多在處理商業流程，資料流 ;<br>然後在商業流程與資料流中穿梭，找蟲然後補丁 ;  </p>\n<p>這是最近在練習 <a href=\"https://www.hackerrank.com/challenges/between-two-sets/problem\" target=\"_blank\" rel=\"noopener\">Kata 的題目</a>所用到的兩個國中數學，<br>「最大公因數」與「最小公倍數」，還用程式實踐了「輾轉相除法」，<br>真的是有點懷念啊 。</p>\n<p>這是題外話，Rx(Reactive Functional Programing)感覺很有趣<br>最近參與 functional programing 的讀書會，<br>裡面似乎有比現在開發模式更優雅的解決問題方式。<br>不過門檻有點高，需要具備的抽象思考能力，是種非常燒腦的開發方式。</p>\n<h2 id=\"實作\"><a href=\"#實作\" class=\"headerlink\" title=\"實作\"></a>實作</h2><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span>/ GCD</span></span><br><span class=\"line\"><span class=\"keyword\">static</span> Func&lt;<span class=\"keyword\">int</span>, <span class=\"keyword\">int</span>, <span class=\"keyword\">int</span>&gt; GCD = (numA, numB) =&gt; &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> numB == <span class=\"number\">0</span> ? numA : GCD(numB, numA % numB);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span>/ LCM</span></span><br><span class=\"line\"><span class=\"keyword\">static</span> Func&lt;<span class=\"keyword\">int</span>, <span class=\"keyword\">int</span>,<span class=\"keyword\">int</span>&gt; LCM = (numA,numB) =&gt; &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> numA * numB / GCD(numA, numB);</span><br><span class=\"line\">        &#125; ;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h3><ul>\n<li><a href=\"https://www.geeksforgeeks.org/gcd-two-array-numbers/\" target=\"_blank\" rel=\"noopener\">https://www.geeksforgeeks.org/gcd-two-array-numbers/</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/lcm-of-given-array-elements/\" target=\"_blank\" rel=\"noopener\">https://www.geeksforgeeks.org/lcm-of-given-array-elements/</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"2017年的學習回顧與展望","date":"2017-12-31T16:00:51.000Z","_content":"\n## 測試\n\n參加了兩個活動,分別是[單元測試這樣玩就對了](https://blog.marsen.me/2017/04/23/unitestwriting/),與[測試即學習](https://blog.marsen.me/2017/05/19/testingislearning/);  \n\n### [單元測試這樣玩就對了](https://blog.marsen.me/2017/04/23/unitestwriting/)\n\n最大的收獲是突破了寫測試的心魔, 在那之前總覺得 TDD 只是口號, 或是烏托邦的開發理想.  \n雖然之前也有花大錢出外受訓, 或是公司內部的內訓.  \n手上也有一些前輩的測試代碼, 但是就是沒有「感覺」,  \n```\n不過仍然感謝前幾年的自已有將資源花在測試上面,  \n累積了兩年的測試經驗,  \n融會貫通卻只是一瞬間的事\n```\n最主要是講者展現了實務上面的需求與改進,  \n過去寫的加法運算, 或是[吊人遊戲](https://zh.wikipedia.org/wiki/猜單詞遊戲),  \n雖然也是從無到,也是先寫測試,  \n但或許是太過強調 TDD 太過強調從無到有  \n總與實際開發經驗相違背, \n講者在過程中一句 **「不要管先寫測試還是程式」**  \n反而更貼近真實,先寫程式,再想想怎麼測試？  \n為了測試, 再重構, 逐步分解的過程令我大開眼界.  \n\n過去曾與人討論過TDD的議題,  \n總會得到「實務與理論有差別」、「其背景與環境因素不能寫測試」  \n這類似是而非的回答,當下我也無法辯駁  \n現在想起來只能莞爾. \n\n測試趨動開發不等於一定要先測試,  \n特別是習慣於先寫產品程式的人,  \n不仿先寫產品程式, 再寫測試而趨動重構  \n當寫習慣了,知道哪些耦合會帶來重構的代價時,  \n再寫一次就人性就會自動迴避這些不好的Patten .\n\n別管順序,但是記得寫測試.\n\n### [測試即學習](https://blog.marsen.me/2017/05/19/testingislearning/)\n\n梅老師的課也是很毀三觀的,  \n老實說我跟本不知道他在幹嘛,  \n塔羅牌拿出來的時候,  \n我真的以為是[美江](https://zh.wikipedia.org/wiki/郭美江傳道爭議事件#%E5%BD%B1%E7%89%87%E4%BB%A5%E5%A4%96%E4%B9%8B%E5%BD%B1%E9%9F%BF)再現(那個時候[Seafood](https://goo.gl/zD51h3)還沒有業力引爆( ･ω･)( ･ω･)( ･ω･))  \n那堂課的目標族群應該是QA,  \n不過這個時代不應自我設限,  \n複習一下梅老師的分享,  \n\n探索測試\n- 儘可能的發散\n- 摹仿別人看事情的角度\n- 有意識的學習(mindful learning)\n    - 記錄\n    - 總結\n    - 歸納問題的核心\n    - 給它起一個名字(沒有專有名詞的話)\n    - 有意識的逃離第一印象\n    - 小心不經意的盲區(inattentional blindness)\n    - 數量 X 練習 X 思考 X 學習 = 提昇\n\n對我來說,**給它起一個名字**真是超級有用的,  \n新認識的朋友就叫作「王大棰」, 新的技術就叫「起司包」, 新的概念就叫「黑盒子」等...  \n不要過於專研於名詞, 用自已能理解的名字去框那個新事物的範圍,  \n最後再把名字用大家通用的名字取代掉就好了.  \n看了很多的方法論,會發現其實觀念沒什麼改變,  \n只是新的名詞會一直冒出來,  \n唯物主義、馬基維利主義、不擇手段、實用主義  \n改善、KANBAN、敏捷、精實  balabala...\n\n## [“没有时间”- 完美的借口](http://www.danielteng.com/2012/09/25/no-time-to-learn-perfect-excuse/)\n\n2017年影響我最深的一篇Blog,  \n2012年的文章, 篇幅也不長,  \n觀念也很簡單, 作就對了, 作壞了就丟掉再作一次,  \n很多的書都要我們刻意練習,  \n但是我們的時間哪有那麼多呢？  \n長大了之後,才來1萬小時的修練是不是太晚了呢？  \n\n下半年公司開始推行測試,  \n基層的工程師們其實反彈的聲音一直都在,  \n雖然一直有教育訓練與培養種子,  \n不過大多淪為口號的狀態,  \n我也只能用這篇文章作為勉勵.  \n\n其實現在的版本控制系統已經非常便利,  \n要建立一個Sandbox的分支,  \n在裡面嚐試各種可能性是非常容易的,  \n作壞了丟掉分支就好了,  \n身為專業的工程人員,測試是必須的,失敗也是,  \n在沙箱內失敗,其實是摔不疼的,勇敢嚐試吧. \n\n## 生產力\n2016年是時間記錄的一年,  \n那2017年就是把記錄的時間,  \n轉換成生產力的一年.  \n幾本影響比較多的書,不過或許我仍需要二讀至三讀以上\n\n- 最有生產力的一年 → 時間X精力X專注力 = 生產力\n- GTD → 下一步要作什麼？\n- 軟技能 → 自我營銷\n\n新的一年重心會放在習慣上面,  \n因為讓習慣趨動行為,  \n比起刻意遵循某些方法要好得多,  \n「刻意」太浪費精神力了,\n下一步會如何呢？\n希望能翻轉自已\n\n## 其它\n順利的帶媽媽出國了,或許對一些人來說不算什麼成就吧,\n新的一年有些機會,去日本、以色列、俄羅斯、馬來西亞,\n雖然八字還沒有一撇, 但至少會去一個地方吧...\n其他的地方就只能見機行事了.\n\n新年快樂\n(fin)","source":"_posts/2018/2017_learned.md","raw":"---\ntitle: \"2017年的學習回顧與展望\"\ndate: 2018/01/01 00:00:51\n---\n\n## 測試\n\n參加了兩個活動,分別是[單元測試這樣玩就對了](https://blog.marsen.me/2017/04/23/unitestwriting/),與[測試即學習](https://blog.marsen.me/2017/05/19/testingislearning/);  \n\n### [單元測試這樣玩就對了](https://blog.marsen.me/2017/04/23/unitestwriting/)\n\n最大的收獲是突破了寫測試的心魔, 在那之前總覺得 TDD 只是口號, 或是烏托邦的開發理想.  \n雖然之前也有花大錢出外受訓, 或是公司內部的內訓.  \n手上也有一些前輩的測試代碼, 但是就是沒有「感覺」,  \n```\n不過仍然感謝前幾年的自已有將資源花在測試上面,  \n累積了兩年的測試經驗,  \n融會貫通卻只是一瞬間的事\n```\n最主要是講者展現了實務上面的需求與改進,  \n過去寫的加法運算, 或是[吊人遊戲](https://zh.wikipedia.org/wiki/猜單詞遊戲),  \n雖然也是從無到,也是先寫測試,  \n但或許是太過強調 TDD 太過強調從無到有  \n總與實際開發經驗相違背, \n講者在過程中一句 **「不要管先寫測試還是程式」**  \n反而更貼近真實,先寫程式,再想想怎麼測試？  \n為了測試, 再重構, 逐步分解的過程令我大開眼界.  \n\n過去曾與人討論過TDD的議題,  \n總會得到「實務與理論有差別」、「其背景與環境因素不能寫測試」  \n這類似是而非的回答,當下我也無法辯駁  \n現在想起來只能莞爾. \n\n測試趨動開發不等於一定要先測試,  \n特別是習慣於先寫產品程式的人,  \n不仿先寫產品程式, 再寫測試而趨動重構  \n當寫習慣了,知道哪些耦合會帶來重構的代價時,  \n再寫一次就人性就會自動迴避這些不好的Patten .\n\n別管順序,但是記得寫測試.\n\n### [測試即學習](https://blog.marsen.me/2017/05/19/testingislearning/)\n\n梅老師的課也是很毀三觀的,  \n老實說我跟本不知道他在幹嘛,  \n塔羅牌拿出來的時候,  \n我真的以為是[美江](https://zh.wikipedia.org/wiki/郭美江傳道爭議事件#%E5%BD%B1%E7%89%87%E4%BB%A5%E5%A4%96%E4%B9%8B%E5%BD%B1%E9%9F%BF)再現(那個時候[Seafood](https://goo.gl/zD51h3)還沒有業力引爆( ･ω･)( ･ω･)( ･ω･))  \n那堂課的目標族群應該是QA,  \n不過這個時代不應自我設限,  \n複習一下梅老師的分享,  \n\n探索測試\n- 儘可能的發散\n- 摹仿別人看事情的角度\n- 有意識的學習(mindful learning)\n    - 記錄\n    - 總結\n    - 歸納問題的核心\n    - 給它起一個名字(沒有專有名詞的話)\n    - 有意識的逃離第一印象\n    - 小心不經意的盲區(inattentional blindness)\n    - 數量 X 練習 X 思考 X 學習 = 提昇\n\n對我來說,**給它起一個名字**真是超級有用的,  \n新認識的朋友就叫作「王大棰」, 新的技術就叫「起司包」, 新的概念就叫「黑盒子」等...  \n不要過於專研於名詞, 用自已能理解的名字去框那個新事物的範圍,  \n最後再把名字用大家通用的名字取代掉就好了.  \n看了很多的方法論,會發現其實觀念沒什麼改變,  \n只是新的名詞會一直冒出來,  \n唯物主義、馬基維利主義、不擇手段、實用主義  \n改善、KANBAN、敏捷、精實  balabala...\n\n## [“没有时间”- 完美的借口](http://www.danielteng.com/2012/09/25/no-time-to-learn-perfect-excuse/)\n\n2017年影響我最深的一篇Blog,  \n2012年的文章, 篇幅也不長,  \n觀念也很簡單, 作就對了, 作壞了就丟掉再作一次,  \n很多的書都要我們刻意練習,  \n但是我們的時間哪有那麼多呢？  \n長大了之後,才來1萬小時的修練是不是太晚了呢？  \n\n下半年公司開始推行測試,  \n基層的工程師們其實反彈的聲音一直都在,  \n雖然一直有教育訓練與培養種子,  \n不過大多淪為口號的狀態,  \n我也只能用這篇文章作為勉勵.  \n\n其實現在的版本控制系統已經非常便利,  \n要建立一個Sandbox的分支,  \n在裡面嚐試各種可能性是非常容易的,  \n作壞了丟掉分支就好了,  \n身為專業的工程人員,測試是必須的,失敗也是,  \n在沙箱內失敗,其實是摔不疼的,勇敢嚐試吧. \n\n## 生產力\n2016年是時間記錄的一年,  \n那2017年就是把記錄的時間,  \n轉換成生產力的一年.  \n幾本影響比較多的書,不過或許我仍需要二讀至三讀以上\n\n- 最有生產力的一年 → 時間X精力X專注力 = 生產力\n- GTD → 下一步要作什麼？\n- 軟技能 → 自我營銷\n\n新的一年重心會放在習慣上面,  \n因為讓習慣趨動行為,  \n比起刻意遵循某些方法要好得多,  \n「刻意」太浪費精神力了,\n下一步會如何呢？\n希望能翻轉自已\n\n## 其它\n順利的帶媽媽出國了,或許對一些人來說不算什麼成就吧,\n新的一年有些機會,去日本、以色列、俄羅斯、馬來西亞,\n雖然八字還沒有一撇, 但至少會去一個地方吧...\n其他的地方就只能見機行事了.\n\n新年快樂\n(fin)","slug":"2018/2017_learned","published":1,"updated":"2018-04-17T03:12:39.584Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wka001eb0vxtgbx3nbb","content":"<h2 id=\"測試\"><a href=\"#測試\" class=\"headerlink\" title=\"測試\"></a>測試</h2><p>參加了兩個活動,分別是<a href=\"https://blog.marsen.me/2017/04/23/unitestwriting/\">單元測試這樣玩就對了</a>,與<a href=\"https://blog.marsen.me/2017/05/19/testingislearning/\">測試即學習</a>;  </p>\n<h3 id=\"單元測試這樣玩就對了\"><a href=\"#單元測試這樣玩就對了\" class=\"headerlink\" title=\"單元測試這樣玩就對了\"></a><a href=\"https://blog.marsen.me/2017/04/23/unitestwriting/\">單元測試這樣玩就對了</a></h3><p>最大的收獲是突破了寫測試的心魔, 在那之前總覺得 TDD 只是口號, 或是烏托邦的開發理想.<br>雖然之前也有花大錢出外受訓, 或是公司內部的內訓.<br>手上也有一些前輩的測試代碼, 但是就是沒有「感覺」,  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">不過仍然感謝前幾年的自已有將資源花在測試上面,  </span><br><span class=\"line\">累積了兩年的測試經驗,  </span><br><span class=\"line\">融會貫通卻只是一瞬間的事</span><br></pre></td></tr></table></figure>\n\n<p>最主要是講者展現了實務上面的需求與改進,<br>過去寫的加法運算, 或是<a href=\"https://zh.wikipedia.org/wiki/猜單詞遊戲\" target=\"_blank\" rel=\"noopener\">吊人遊戲</a>,  \n雖然也是從無到,也是先寫測試,<br>但或許是太過強調 TDD 太過強調從無到有<br>總與實際開發經驗相違背,<br>講者在過程中一句 <strong>「不要管先寫測試還是程式」</strong><br>反而更貼近真實,先寫程式,再想想怎麼測試？<br>為了測試, 再重構, 逐步分解的過程令我大開眼界.  </p>\n<p>過去曾與人討論過TDD的議題,<br>總會得到「實務與理論有差別」、「其背景與環境因素不能寫測試」<br>這類似是而非的回答,當下我也無法辯駁<br>現在想起來只能莞爾. </p>\n<p>測試趨動開發不等於一定要先測試,<br>特別是習慣於先寫產品程式的人,<br>不仿先寫產品程式, 再寫測試而趨動重構<br>當寫習慣了,知道哪些耦合會帶來重構的代價時,<br>再寫一次就人性就會自動迴避這些不好的Patten .</p>\n<p>別管順序,但是記得寫測試.</p>\n<h3 id=\"測試即學習\"><a href=\"#測試即學習\" class=\"headerlink\" title=\"測試即學習\"></a><a href=\"https://blog.marsen.me/2017/05/19/testingislearning/\">測試即學習</a></h3><p>梅老師的課也是很毀三觀的,<br>老實說我跟本不知道他在幹嘛,<br>塔羅牌拿出來的時候,<br>我真的以為是<a href=\"https://zh.wikipedia.org/wiki/郭美江傳道爭議事件#%E5%BD%B1%E7%89%87%E4%BB%A5%E5%A4%96%E4%B9%8B%E5%BD%B1%E9%9F%BF\" target=\"_blank\" rel=\"noopener\">美江</a>再現(那個時候<a href=\"https://goo.gl/zD51h3\" target=\"_blank\" rel=\"noopener\">Seafood</a>還沒有業力引爆( ･ω･)( ･ω･)( ･ω･))<br>那堂課的目標族群應該是QA,<br>不過這個時代不應自我設限,<br>複習一下梅老師的分享,  </p>\n<p>探索測試</p>\n<ul>\n<li>儘可能的發散</li>\n<li>摹仿別人看事情的角度</li>\n<li>有意識的學習(mindful learning)<ul>\n<li>記錄</li>\n<li>總結</li>\n<li>歸納問題的核心</li>\n<li>給它起一個名字(沒有專有名詞的話)</li>\n<li>有意識的逃離第一印象</li>\n<li>小心不經意的盲區(inattentional blindness)</li>\n<li>數量 X 練習 X 思考 X 學習 = 提昇</li>\n</ul>\n</li>\n</ul>\n<p>對我來說,<strong>給它起一個名字</strong>真是超級有用的,<br>新認識的朋友就叫作「王大棰」, 新的技術就叫「起司包」, 新的概念就叫「黑盒子」等…<br>不要過於專研於名詞, 用自已能理解的名字去框那個新事物的範圍,<br>最後再把名字用大家通用的名字取代掉就好了.<br>看了很多的方法論,會發現其實觀念沒什麼改變,<br>只是新的名詞會一直冒出來,<br>唯物主義、馬基維利主義、不擇手段、實用主義<br>改善、KANBAN、敏捷、精實  balabala…</p>\n<h2 id=\"“没有时间”-完美的借口\"><a href=\"#“没有时间”-完美的借口\" class=\"headerlink\" title=\"“没有时间”- 完美的借口\"></a><a href=\"http://www.danielteng.com/2012/09/25/no-time-to-learn-perfect-excuse/\" target=\"_blank\" rel=\"noopener\">“没有时间”- 完美的借口</a></h2><p>2017年影響我最深的一篇Blog,<br>2012年的文章, 篇幅也不長,<br>觀念也很簡單, 作就對了, 作壞了就丟掉再作一次,<br>很多的書都要我們刻意練習,<br>但是我們的時間哪有那麼多呢？<br>長大了之後,才來1萬小時的修練是不是太晚了呢？  </p>\n<p>下半年公司開始推行測試,<br>基層的工程師們其實反彈的聲音一直都在,<br>雖然一直有教育訓練與培養種子,<br>不過大多淪為口號的狀態,<br>我也只能用這篇文章作為勉勵.  </p>\n<p>其實現在的版本控制系統已經非常便利,<br>要建立一個Sandbox的分支,<br>在裡面嚐試各種可能性是非常容易的,<br>作壞了丟掉分支就好了,<br>身為專業的工程人員,測試是必須的,失敗也是,<br>在沙箱內失敗,其實是摔不疼的,勇敢嚐試吧. </p>\n<h2 id=\"生產力\"><a href=\"#生產力\" class=\"headerlink\" title=\"生產力\"></a>生產力</h2><p>2016年是時間記錄的一年,<br>那2017年就是把記錄的時間,<br>轉換成生產力的一年.<br>幾本影響比較多的書,不過或許我仍需要二讀至三讀以上</p>\n<ul>\n<li>最有生產力的一年 → 時間X精力X專注力 = 生產力</li>\n<li>GTD → 下一步要作什麼？</li>\n<li>軟技能 → 自我營銷</li>\n</ul>\n<p>新的一年重心會放在習慣上面,<br>因為讓習慣趨動行為,<br>比起刻意遵循某些方法要好得多,<br>「刻意」太浪費精神力了,<br>下一步會如何呢？<br>希望能翻轉自已</p>\n<h2 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h2><p>順利的帶媽媽出國了,或許對一些人來說不算什麼成就吧,<br>新的一年有些機會,去日本、以色列、俄羅斯、馬來西亞,<br>雖然八字還沒有一撇, 但至少會去一個地方吧…<br>其他的地方就只能見機行事了.</p>\n<p>新年快樂<br>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"測試\"><a href=\"#測試\" class=\"headerlink\" title=\"測試\"></a>測試</h2><p>參加了兩個活動,分別是<a href=\"https://blog.marsen.me/2017/04/23/unitestwriting/\">單元測試這樣玩就對了</a>,與<a href=\"https://blog.marsen.me/2017/05/19/testingislearning/\">測試即學習</a>;  </p>\n<h3 id=\"單元測試這樣玩就對了\"><a href=\"#單元測試這樣玩就對了\" class=\"headerlink\" title=\"單元測試這樣玩就對了\"></a><a href=\"https://blog.marsen.me/2017/04/23/unitestwriting/\">單元測試這樣玩就對了</a></h3><p>最大的收獲是突破了寫測試的心魔, 在那之前總覺得 TDD 只是口號, 或是烏托邦的開發理想.<br>雖然之前也有花大錢出外受訓, 或是公司內部的內訓.<br>手上也有一些前輩的測試代碼, 但是就是沒有「感覺」,  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">不過仍然感謝前幾年的自已有將資源花在測試上面,  </span><br><span class=\"line\">累積了兩年的測試經驗,  </span><br><span class=\"line\">融會貫通卻只是一瞬間的事</span><br></pre></td></tr></table></figure>\n\n<p>最主要是講者展現了實務上面的需求與改進,<br>過去寫的加法運算, 或是<a href=\"https://zh.wikipedia.org/wiki/猜單詞遊戲\" target=\"_blank\" rel=\"noopener\">吊人遊戲</a>,  \n雖然也是從無到,也是先寫測試,<br>但或許是太過強調 TDD 太過強調從無到有<br>總與實際開發經驗相違背,<br>講者在過程中一句 <strong>「不要管先寫測試還是程式」</strong><br>反而更貼近真實,先寫程式,再想想怎麼測試？<br>為了測試, 再重構, 逐步分解的過程令我大開眼界.  </p>\n<p>過去曾與人討論過TDD的議題,<br>總會得到「實務與理論有差別」、「其背景與環境因素不能寫測試」<br>這類似是而非的回答,當下我也無法辯駁<br>現在想起來只能莞爾. </p>\n<p>測試趨動開發不等於一定要先測試,<br>特別是習慣於先寫產品程式的人,<br>不仿先寫產品程式, 再寫測試而趨動重構<br>當寫習慣了,知道哪些耦合會帶來重構的代價時,<br>再寫一次就人性就會自動迴避這些不好的Patten .</p>\n<p>別管順序,但是記得寫測試.</p>\n<h3 id=\"測試即學習\"><a href=\"#測試即學習\" class=\"headerlink\" title=\"測試即學習\"></a><a href=\"https://blog.marsen.me/2017/05/19/testingislearning/\">測試即學習</a></h3><p>梅老師的課也是很毀三觀的,<br>老實說我跟本不知道他在幹嘛,<br>塔羅牌拿出來的時候,<br>我真的以為是<a href=\"https://zh.wikipedia.org/wiki/郭美江傳道爭議事件#%E5%BD%B1%E7%89%87%E4%BB%A5%E5%A4%96%E4%B9%8B%E5%BD%B1%E9%9F%BF\" target=\"_blank\" rel=\"noopener\">美江</a>再現(那個時候<a href=\"https://goo.gl/zD51h3\" target=\"_blank\" rel=\"noopener\">Seafood</a>還沒有業力引爆( ･ω･)( ･ω･)( ･ω･))<br>那堂課的目標族群應該是QA,<br>不過這個時代不應自我設限,<br>複習一下梅老師的分享,  </p>\n<p>探索測試</p>\n<ul>\n<li>儘可能的發散</li>\n<li>摹仿別人看事情的角度</li>\n<li>有意識的學習(mindful learning)<ul>\n<li>記錄</li>\n<li>總結</li>\n<li>歸納問題的核心</li>\n<li>給它起一個名字(沒有專有名詞的話)</li>\n<li>有意識的逃離第一印象</li>\n<li>小心不經意的盲區(inattentional blindness)</li>\n<li>數量 X 練習 X 思考 X 學習 = 提昇</li>\n</ul>\n</li>\n</ul>\n<p>對我來說,<strong>給它起一個名字</strong>真是超級有用的,<br>新認識的朋友就叫作「王大棰」, 新的技術就叫「起司包」, 新的概念就叫「黑盒子」等…<br>不要過於專研於名詞, 用自已能理解的名字去框那個新事物的範圍,<br>最後再把名字用大家通用的名字取代掉就好了.<br>看了很多的方法論,會發現其實觀念沒什麼改變,<br>只是新的名詞會一直冒出來,<br>唯物主義、馬基維利主義、不擇手段、實用主義<br>改善、KANBAN、敏捷、精實  balabala…</p>\n<h2 id=\"“没有时间”-完美的借口\"><a href=\"#“没有时间”-完美的借口\" class=\"headerlink\" title=\"“没有时间”- 完美的借口\"></a><a href=\"http://www.danielteng.com/2012/09/25/no-time-to-learn-perfect-excuse/\" target=\"_blank\" rel=\"noopener\">“没有时间”- 完美的借口</a></h2><p>2017年影響我最深的一篇Blog,<br>2012年的文章, 篇幅也不長,<br>觀念也很簡單, 作就對了, 作壞了就丟掉再作一次,<br>很多的書都要我們刻意練習,<br>但是我們的時間哪有那麼多呢？<br>長大了之後,才來1萬小時的修練是不是太晚了呢？  </p>\n<p>下半年公司開始推行測試,<br>基層的工程師們其實反彈的聲音一直都在,<br>雖然一直有教育訓練與培養種子,<br>不過大多淪為口號的狀態,<br>我也只能用這篇文章作為勉勵.  </p>\n<p>其實現在的版本控制系統已經非常便利,<br>要建立一個Sandbox的分支,<br>在裡面嚐試各種可能性是非常容易的,<br>作壞了丟掉分支就好了,<br>身為專業的工程人員,測試是必須的,失敗也是,<br>在沙箱內失敗,其實是摔不疼的,勇敢嚐試吧. </p>\n<h2 id=\"生產力\"><a href=\"#生產力\" class=\"headerlink\" title=\"生產力\"></a>生產力</h2><p>2016年是時間記錄的一年,<br>那2017年就是把記錄的時間,<br>轉換成生產力的一年.<br>幾本影響比較多的書,不過或許我仍需要二讀至三讀以上</p>\n<ul>\n<li>最有生產力的一年 → 時間X精力X專注力 = 生產力</li>\n<li>GTD → 下一步要作什麼？</li>\n<li>軟技能 → 自我營銷</li>\n</ul>\n<p>新的一年重心會放在習慣上面,<br>因為讓習慣趨動行為,<br>比起刻意遵循某些方法要好得多,<br>「刻意」太浪費精神力了,<br>下一步會如何呢？<br>希望能翻轉自已</p>\n<h2 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h2><p>順利的帶媽媽出國了,或許對一些人來說不算什麼成就吧,<br>新的一年有些機會,去日本、以色列、俄羅斯、馬來西亞,<br>雖然八字還沒有一撇, 但至少會去一個地方吧…<br>其他的地方就只能見機行事了.</p>\n<p>新年快樂<br>(fin)</p>\n"},{"title":"[生活記事]五月身體異常","date":"2018-06-10T09:46:51.000Z","_content":"\n## 下玉山\n登玉山是我的年度計劃之一，至少已經規劃 3 年了  \n過程也是一波三折，如果不是身體發生的狀況  \n現在這篇文章應該是登玉山的甘苦談了，  \n簡單的說一下原因，我是帶著落枕上山的，  \n爬山的過程中，身體為了保護脖子，不自然的動作導致了肩膀也傷痛  \n目前還在復健中，這跟後來的病痛有沒有關係，我就不知道了\n\n## 5月9日晚上\n當天晚上的計劃是閱讀**單元測試的藝術**，  \n這是在公司參加的讀書會，剛好下山後的那個禮拜就是我負責的章節，  \n因為身體還在很疲累的狀態，所以我只打算在床上稍作閱讀，  \n沒有計劃要刻 Code 。\n\n```\n程式相關的書跟其它書籍最大的不同是，\n如果裡面有程式碼，你很容易去實踐書裡面的內容，\n有好有壞，它不像一些高大上的東西，說得到作不到(光說不練)(就是幹話)  \n程式寫下來，跑一下就可以很清楚作者要表達的東西。\n```\n\n### 症狀\n一開始是看不清楚一兩個字，單純以為是眼花了而已。  \n隨即發現這跟平常的眼花並不一樣，左邊的視野完全消失了，  \n當下立即對自我作了一下檢查，不論是左眼右眼看到的東西是相同的，  \n就是左邊的視野是糢糊不清。\n![](https://i.imgur.com/czkqPZE.jpg)\n\n當下時間已經是凌晨 1:00 多了，從來沒有這樣的症狀，  \n很害怕是視網膜剝離或是急性青光眼之類的，  \n真的是有想到各種失去視力的恐怖想像，\n不過症狀卻隨著我到達醫院消失了，\n\n當下醫生也只有量血壓，看起來也正常，\n也沒有其它症狀，就被趕回家了……\n\n回到家沒多久，先是視野又出現相同症狀，沒多久就開始頭痛  \n從右眼到到後腦勺的疼痛，有點類似吃太冰的東西引發的頭痛感覺  \n再一次去到了醫院，這次本來想就近看診所以選了西園  \n想不到西園沒有急診眼科就又去了台大一趟  \n醫生直接幫我抽血並給了我一個藥丸(止痛藥)  \n吃了藥後，症狀有所舒緩，在醫院等了幾個小時後，  \n終於有眼科醫生來作檢查，只有簡單的眼壓與視野檢查。  \n\n預約了眼科與腦神經科的門診後，就回家了，  \n不過那時已經快過 11:00 了，在醫院忘了帶手機，  \n還麻煩了同事C代請假。 \n\n### 休息\n症狀發生後的當天是完全無力上班的，而門診時間是抓在二日後，  \n緊接著又是六日，所以直接請了 3 天的假  \n幾本上是睡了三天，當然門診那天也跑了很多地方，  \n雖然我姐陪我去看診，但是另人傻眼的是最後被丟包只能自已回家。  \n而整個過程當中他也只是在逛兒童醫院的小賣部，或是滑手機  \n事後想想，我自已去醫院說不定會更輕鬆一些。  \n\n### 檢查\n門診後安排了檢查，另外就是一個月份量的止痛藥，  \n醫生開了「普拿疼」跟「羅莎疼」，備而不用能不吃就不吃，  \n之後的檢查分屬不同的時間，有時候是一個人去的;  \n\n### MRI\nMRI 是一個漫長的檢查，在電視上常常看到，可以透視你的腦與血管，  \n聽說輻射量會比較少，整個過程就是躺著聽噪音，  \n真的很吵，大概要 30 分鐘不能動，希望你們不會有這種體驗。  \n\n### 清醒期腦波\n在頭上黏一堆電線(?)，檢查人員會跟你說話  \n或是要你呼吸，讓你看燈光，感覺上是為了觀察你的腦的反應，  \n算是輕鬆的檢查，可是用完後整個頭超黏，  \n強烈建議作完後去洗個頭，特別是入暑後的夏天。  \n\n### 視野檢查\n單眼測試，要看視野中央的亮點，  \n手上會有一個按鈕，隨機出現一個亮點就按一下，  \n作完右眼換左眼，蠻快速簡單的，  \n唯一有點難過的事是外面跟一個大媽聊天，  \n好像是腦瘤造成視野異常，  \n「弟弟，我什麼亮點都看不到」「…」  \n「你有看到嗎?」  \n我真的不知道怎麼回答……  \n「阿姨，我們先走了…」  \n\n### 天使\n在公司基本上應該不要說這些私事的，  \n但是有些團隊成員在問，我又不想一直被問，  \n就直接濃縮成「眼睛看不到(清楚)，看了醫生還在等檢查…」  \n謝謝那些關心我的人，雖然我仍會感到不自在…  \n上午跟團隊報告，下午就被長官關心了，  \n嗯…那種感覺比較像「聽說有個零件壞掉，看一下，如果不行就換一個吧…」  \n不過還是有天使，謝謝同事R，不管是小紙條或是熱敷眼罩都很溫暖，  \n真的有種遇到天使的感覺，特別是在被家人丟包之後…\n![](https://i.imgur.com/MLNSfQS.jpg)\n\n### Swing\n很神奇的是在檢查完後的那個下午，  \n因為沒事可作，就到了華山，那邊有個 Swing 的跳舞活動，  \n之前就很感興趣，可惜19:00對我來說仍是個奢侈的下班時間。  \n活動蠻有趣的，社交場合所以大家的心態也比較開放，  \n可惜我完全不會跳，不過遇到了牧羊犬(如果我是羊，祂是牧羊人的話)  \n知道了彼此的身份後，我們一起禱告，  \n\n```\n我看到上帝將你的心捧在祂的手掌上，  \n細心的、仔細的在拼揍你破碎的心。  \n可能是過去從家人、朋友、職場…而來的傷害，  \n讓你的心碎成好幾塊，  \n但神說不要怕，放心交給祂…\n```\n唔…我還要想一想，不過當下還有另一個男生說他想去教會  \n(os:有沒有這麼突然，你是不是想……?)  \n不過基於個人原則，有人想去教會我一定會帶他去的。  \n後續有什麼發展就等著瞧了……  \n\nps. 聽說有8:30的舞蹈教學時間，如果有 lv1 我應該會去參加。\n\n### 教會朋友家聚餐\n是一個好久不見的朋友，他在泰國，  \n所以我們大概一年只能見一次，  \n之前一直說要去泰國找他，總總因素總沒有成行，  \n很突然的一個邀約，大家帶一點吃的  \n我還剛踢完球，全身臭臭的，除了我大家都結婚生子了，  \n這種感覺是很尷尬的，某種程度上的，  \n不過因為我們也沒有團契，也沒有一起聚會(好啦，我知道是我沒去教會)  \n連繫上是很薄弱的，本來想說就好久不見的朋友，  \n後來一起唱了詩歌又一起禱告……  \n又把焦點作到我身上了，weeeeeee  \n或許需要恢復團契與聚會習慣吧。\n\n不然我會止不住這些聲音的。\n\n## 記錄\n\n我的 blog 本來是不打算記錄這些東西的，  \n不知道為什麼就想記下來，  \n或許有一天會用到吧，或許不會，  \n等著瞧了。\n\n(fin)","source":"_posts/2018/body_error.md","raw":"---\ntitle: \"[生活記事]五月身體異常\"\ndate: 2018/06/10 17:46:51\n---\n\n## 下玉山\n登玉山是我的年度計劃之一，至少已經規劃 3 年了  \n過程也是一波三折，如果不是身體發生的狀況  \n現在這篇文章應該是登玉山的甘苦談了，  \n簡單的說一下原因，我是帶著落枕上山的，  \n爬山的過程中，身體為了保護脖子，不自然的動作導致了肩膀也傷痛  \n目前還在復健中，這跟後來的病痛有沒有關係，我就不知道了\n\n## 5月9日晚上\n當天晚上的計劃是閱讀**單元測試的藝術**，  \n這是在公司參加的讀書會，剛好下山後的那個禮拜就是我負責的章節，  \n因為身體還在很疲累的狀態，所以我只打算在床上稍作閱讀，  \n沒有計劃要刻 Code 。\n\n```\n程式相關的書跟其它書籍最大的不同是，\n如果裡面有程式碼，你很容易去實踐書裡面的內容，\n有好有壞，它不像一些高大上的東西，說得到作不到(光說不練)(就是幹話)  \n程式寫下來，跑一下就可以很清楚作者要表達的東西。\n```\n\n### 症狀\n一開始是看不清楚一兩個字，單純以為是眼花了而已。  \n隨即發現這跟平常的眼花並不一樣，左邊的視野完全消失了，  \n當下立即對自我作了一下檢查，不論是左眼右眼看到的東西是相同的，  \n就是左邊的視野是糢糊不清。\n![](https://i.imgur.com/czkqPZE.jpg)\n\n當下時間已經是凌晨 1:00 多了，從來沒有這樣的症狀，  \n很害怕是視網膜剝離或是急性青光眼之類的，  \n真的是有想到各種失去視力的恐怖想像，\n不過症狀卻隨著我到達醫院消失了，\n\n當下醫生也只有量血壓，看起來也正常，\n也沒有其它症狀，就被趕回家了……\n\n回到家沒多久，先是視野又出現相同症狀，沒多久就開始頭痛  \n從右眼到到後腦勺的疼痛，有點類似吃太冰的東西引發的頭痛感覺  \n再一次去到了醫院，這次本來想就近看診所以選了西園  \n想不到西園沒有急診眼科就又去了台大一趟  \n醫生直接幫我抽血並給了我一個藥丸(止痛藥)  \n吃了藥後，症狀有所舒緩，在醫院等了幾個小時後，  \n終於有眼科醫生來作檢查，只有簡單的眼壓與視野檢查。  \n\n預約了眼科與腦神經科的門診後，就回家了，  \n不過那時已經快過 11:00 了，在醫院忘了帶手機，  \n還麻煩了同事C代請假。 \n\n### 休息\n症狀發生後的當天是完全無力上班的，而門診時間是抓在二日後，  \n緊接著又是六日，所以直接請了 3 天的假  \n幾本上是睡了三天，當然門診那天也跑了很多地方，  \n雖然我姐陪我去看診，但是另人傻眼的是最後被丟包只能自已回家。  \n而整個過程當中他也只是在逛兒童醫院的小賣部，或是滑手機  \n事後想想，我自已去醫院說不定會更輕鬆一些。  \n\n### 檢查\n門診後安排了檢查，另外就是一個月份量的止痛藥，  \n醫生開了「普拿疼」跟「羅莎疼」，備而不用能不吃就不吃，  \n之後的檢查分屬不同的時間，有時候是一個人去的;  \n\n### MRI\nMRI 是一個漫長的檢查，在電視上常常看到，可以透視你的腦與血管，  \n聽說輻射量會比較少，整個過程就是躺著聽噪音，  \n真的很吵，大概要 30 分鐘不能動，希望你們不會有這種體驗。  \n\n### 清醒期腦波\n在頭上黏一堆電線(?)，檢查人員會跟你說話  \n或是要你呼吸，讓你看燈光，感覺上是為了觀察你的腦的反應，  \n算是輕鬆的檢查，可是用完後整個頭超黏，  \n強烈建議作完後去洗個頭，特別是入暑後的夏天。  \n\n### 視野檢查\n單眼測試，要看視野中央的亮點，  \n手上會有一個按鈕，隨機出現一個亮點就按一下，  \n作完右眼換左眼，蠻快速簡單的，  \n唯一有點難過的事是外面跟一個大媽聊天，  \n好像是腦瘤造成視野異常，  \n「弟弟，我什麼亮點都看不到」「…」  \n「你有看到嗎?」  \n我真的不知道怎麼回答……  \n「阿姨，我們先走了…」  \n\n### 天使\n在公司基本上應該不要說這些私事的，  \n但是有些團隊成員在問，我又不想一直被問，  \n就直接濃縮成「眼睛看不到(清楚)，看了醫生還在等檢查…」  \n謝謝那些關心我的人，雖然我仍會感到不自在…  \n上午跟團隊報告，下午就被長官關心了，  \n嗯…那種感覺比較像「聽說有個零件壞掉，看一下，如果不行就換一個吧…」  \n不過還是有天使，謝謝同事R，不管是小紙條或是熱敷眼罩都很溫暖，  \n真的有種遇到天使的感覺，特別是在被家人丟包之後…\n![](https://i.imgur.com/MLNSfQS.jpg)\n\n### Swing\n很神奇的是在檢查完後的那個下午，  \n因為沒事可作，就到了華山，那邊有個 Swing 的跳舞活動，  \n之前就很感興趣，可惜19:00對我來說仍是個奢侈的下班時間。  \n活動蠻有趣的，社交場合所以大家的心態也比較開放，  \n可惜我完全不會跳，不過遇到了牧羊犬(如果我是羊，祂是牧羊人的話)  \n知道了彼此的身份後，我們一起禱告，  \n\n```\n我看到上帝將你的心捧在祂的手掌上，  \n細心的、仔細的在拼揍你破碎的心。  \n可能是過去從家人、朋友、職場…而來的傷害，  \n讓你的心碎成好幾塊，  \n但神說不要怕，放心交給祂…\n```\n唔…我還要想一想，不過當下還有另一個男生說他想去教會  \n(os:有沒有這麼突然，你是不是想……?)  \n不過基於個人原則，有人想去教會我一定會帶他去的。  \n後續有什麼發展就等著瞧了……  \n\nps. 聽說有8:30的舞蹈教學時間，如果有 lv1 我應該會去參加。\n\n### 教會朋友家聚餐\n是一個好久不見的朋友，他在泰國，  \n所以我們大概一年只能見一次，  \n之前一直說要去泰國找他，總總因素總沒有成行，  \n很突然的一個邀約，大家帶一點吃的  \n我還剛踢完球，全身臭臭的，除了我大家都結婚生子了，  \n這種感覺是很尷尬的，某種程度上的，  \n不過因為我們也沒有團契，也沒有一起聚會(好啦，我知道是我沒去教會)  \n連繫上是很薄弱的，本來想說就好久不見的朋友，  \n後來一起唱了詩歌又一起禱告……  \n又把焦點作到我身上了，weeeeeee  \n或許需要恢復團契與聚會習慣吧。\n\n不然我會止不住這些聲音的。\n\n## 記錄\n\n我的 blog 本來是不打算記錄這些東西的，  \n不知道為什麼就想記下來，  \n或許有一天會用到吧，或許不會，  \n等著瞧了。\n\n(fin)","slug":"2018/body_error","published":1,"updated":"2019-06-10T14:43:28.899Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkb001fb0vxcsqjzg7c","content":"<h2 id=\"下玉山\"><a href=\"#下玉山\" class=\"headerlink\" title=\"下玉山\"></a>下玉山</h2><p>登玉山是我的年度計劃之一，至少已經規劃 3 年了<br>過程也是一波三折，如果不是身體發生的狀況<br>現在這篇文章應該是登玉山的甘苦談了，<br>簡單的說一下原因，我是帶著落枕上山的，<br>爬山的過程中，身體為了保護脖子，不自然的動作導致了肩膀也傷痛<br>目前還在復健中，這跟後來的病痛有沒有關係，我就不知道了</p>\n<h2 id=\"5月9日晚上\"><a href=\"#5月9日晚上\" class=\"headerlink\" title=\"5月9日晚上\"></a>5月9日晚上</h2><p>當天晚上的計劃是閱讀<strong>單元測試的藝術</strong>，  \n這是在公司參加的讀書會，剛好下山後的那個禮拜就是我負責的章節，<br>因為身體還在很疲累的狀態，所以我只打算在床上稍作閱讀，<br>沒有計劃要刻 Code 。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">程式相關的書跟其它書籍最大的不同是，</span><br><span class=\"line\">如果裡面有程式碼，你很容易去實踐書裡面的內容，</span><br><span class=\"line\">有好有壞，它不像一些高大上的東西，說得到作不到(光說不練)(就是幹話)  </span><br><span class=\"line\">程式寫下來，跑一下就可以很清楚作者要表達的東西。</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"症狀\"><a href=\"#症狀\" class=\"headerlink\" title=\"症狀\"></a>症狀</h3><p>一開始是看不清楚一兩個字，單純以為是眼花了而已。<br>隨即發現這跟平常的眼花並不一樣，左邊的視野完全消失了，<br>當下立即對自我作了一下檢查，不論是左眼右眼看到的東西是相同的，<br>就是左邊的視野是糢糊不清。<br><img src=\"https://i.imgur.com/czkqPZE.jpg\" alt></p>\n<p>當下時間已經是凌晨 1:00 多了，從來沒有這樣的症狀，<br>很害怕是視網膜剝離或是急性青光眼之類的，<br>真的是有想到各種失去視力的恐怖想像，<br>不過症狀卻隨著我到達醫院消失了，</p>\n<p>當下醫生也只有量血壓，看起來也正常，<br>也沒有其它症狀，就被趕回家了……</p>\n<p>回到家沒多久，先是視野又出現相同症狀，沒多久就開始頭痛<br>從右眼到到後腦勺的疼痛，有點類似吃太冰的東西引發的頭痛感覺<br>再一次去到了醫院，這次本來想就近看診所以選了西園<br>想不到西園沒有急診眼科就又去了台大一趟<br>醫生直接幫我抽血並給了我一個藥丸(止痛藥)<br>吃了藥後，症狀有所舒緩，在醫院等了幾個小時後，<br>終於有眼科醫生來作檢查，只有簡單的眼壓與視野檢查。  </p>\n<p>預約了眼科與腦神經科的門診後，就回家了，<br>不過那時已經快過 11:00 了，在醫院忘了帶手機，<br>還麻煩了同事C代請假。 </p>\n<h3 id=\"休息\"><a href=\"#休息\" class=\"headerlink\" title=\"休息\"></a>休息</h3><p>症狀發生後的當天是完全無力上班的，而門診時間是抓在二日後，<br>緊接著又是六日，所以直接請了 3 天的假<br>幾本上是睡了三天，當然門診那天也跑了很多地方，<br>雖然我姐陪我去看診，但是另人傻眼的是最後被丟包只能自已回家。<br>而整個過程當中他也只是在逛兒童醫院的小賣部，或是滑手機<br>事後想想，我自已去醫院說不定會更輕鬆一些。  </p>\n<h3 id=\"檢查\"><a href=\"#檢查\" class=\"headerlink\" title=\"檢查\"></a>檢查</h3><p>門診後安排了檢查，另外就是一個月份量的止痛藥，<br>醫生開了「普拿疼」跟「羅莎疼」，備而不用能不吃就不吃，<br>之後的檢查分屬不同的時間，有時候是一個人去的;  </p>\n<h3 id=\"MRI\"><a href=\"#MRI\" class=\"headerlink\" title=\"MRI\"></a>MRI</h3><p>MRI 是一個漫長的檢查，在電視上常常看到，可以透視你的腦與血管，<br>聽說輻射量會比較少，整個過程就是躺著聽噪音，<br>真的很吵，大概要 30 分鐘不能動，希望你們不會有這種體驗。  </p>\n<h3 id=\"清醒期腦波\"><a href=\"#清醒期腦波\" class=\"headerlink\" title=\"清醒期腦波\"></a>清醒期腦波</h3><p>在頭上黏一堆電線(?)，檢查人員會跟你說話<br>或是要你呼吸，讓你看燈光，感覺上是為了觀察你的腦的反應，<br>算是輕鬆的檢查，可是用完後整個頭超黏，<br>強烈建議作完後去洗個頭，特別是入暑後的夏天。  </p>\n<h3 id=\"視野檢查\"><a href=\"#視野檢查\" class=\"headerlink\" title=\"視野檢查\"></a>視野檢查</h3><p>單眼測試，要看視野中央的亮點，<br>手上會有一個按鈕，隨機出現一個亮點就按一下，<br>作完右眼換左眼，蠻快速簡單的，<br>唯一有點難過的事是外面跟一個大媽聊天，<br>好像是腦瘤造成視野異常，<br>「弟弟，我什麼亮點都看不到」「…」<br>「你有看到嗎?」<br>我真的不知道怎麼回答……<br>「阿姨，我們先走了…」  </p>\n<h3 id=\"天使\"><a href=\"#天使\" class=\"headerlink\" title=\"天使\"></a>天使</h3><p>在公司基本上應該不要說這些私事的，<br>但是有些團隊成員在問，我又不想一直被問，<br>就直接濃縮成「眼睛看不到(清楚)，看了醫生還在等檢查…」<br>謝謝那些關心我的人，雖然我仍會感到不自在…<br>上午跟團隊報告，下午就被長官關心了，<br>嗯…那種感覺比較像「聽說有個零件壞掉，看一下，如果不行就換一個吧…」<br>不過還是有天使，謝謝同事R，不管是小紙條或是熱敷眼罩都很溫暖，<br>真的有種遇到天使的感覺，特別是在被家人丟包之後…<br><img src=\"https://i.imgur.com/MLNSfQS.jpg\" alt></p>\n<h3 id=\"Swing\"><a href=\"#Swing\" class=\"headerlink\" title=\"Swing\"></a>Swing</h3><p>很神奇的是在檢查完後的那個下午，<br>因為沒事可作，就到了華山，那邊有個 Swing 的跳舞活動，<br>之前就很感興趣，可惜19:00對我來說仍是個奢侈的下班時間。<br>活動蠻有趣的，社交場合所以大家的心態也比較開放，<br>可惜我完全不會跳，不過遇到了牧羊犬(如果我是羊，祂是牧羊人的話)<br>知道了彼此的身份後，我們一起禱告，  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">我看到上帝將你的心捧在祂的手掌上，  </span><br><span class=\"line\">細心的、仔細的在拼揍你破碎的心。  </span><br><span class=\"line\">可能是過去從家人、朋友、職場…而來的傷害，  </span><br><span class=\"line\">讓你的心碎成好幾塊，  </span><br><span class=\"line\">但神說不要怕，放心交給祂…</span><br></pre></td></tr></table></figure>\n\n<p>唔…我還要想一想，不過當下還有另一個男生說他想去教會<br>(os:有沒有這麼突然，你是不是想……?)<br>不過基於個人原則，有人想去教會我一定會帶他去的。<br>後續有什麼發展就等著瞧了……  </p>\n<p>ps. 聽說有8:30的舞蹈教學時間，如果有 lv1 我應該會去參加。</p>\n<h3 id=\"教會朋友家聚餐\"><a href=\"#教會朋友家聚餐\" class=\"headerlink\" title=\"教會朋友家聚餐\"></a>教會朋友家聚餐</h3><p>是一個好久不見的朋友，他在泰國，<br>所以我們大概一年只能見一次，<br>之前一直說要去泰國找他，總總因素總沒有成行，<br>很突然的一個邀約，大家帶一點吃的<br>我還剛踢完球，全身臭臭的，除了我大家都結婚生子了，<br>這種感覺是很尷尬的，某種程度上的，<br>不過因為我們也沒有團契，也沒有一起聚會(好啦，我知道是我沒去教會)<br>連繫上是很薄弱的，本來想說就好久不見的朋友，<br>後來一起唱了詩歌又一起禱告……<br>又把焦點作到我身上了，weeeeeee<br>或許需要恢復團契與聚會習慣吧。</p>\n<p>不然我會止不住這些聲音的。</p>\n<h2 id=\"記錄\"><a href=\"#記錄\" class=\"headerlink\" title=\"記錄\"></a>記錄</h2><p>我的 blog 本來是不打算記錄這些東西的，<br>不知道為什麼就想記下來，<br>或許有一天會用到吧，或許不會，<br>等著瞧了。</p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"下玉山\"><a href=\"#下玉山\" class=\"headerlink\" title=\"下玉山\"></a>下玉山</h2><p>登玉山是我的年度計劃之一，至少已經規劃 3 年了<br>過程也是一波三折，如果不是身體發生的狀況<br>現在這篇文章應該是登玉山的甘苦談了，<br>簡單的說一下原因，我是帶著落枕上山的，<br>爬山的過程中，身體為了保護脖子，不自然的動作導致了肩膀也傷痛<br>目前還在復健中，這跟後來的病痛有沒有關係，我就不知道了</p>\n<h2 id=\"5月9日晚上\"><a href=\"#5月9日晚上\" class=\"headerlink\" title=\"5月9日晚上\"></a>5月9日晚上</h2><p>當天晚上的計劃是閱讀<strong>單元測試的藝術</strong>，  \n這是在公司參加的讀書會，剛好下山後的那個禮拜就是我負責的章節，<br>因為身體還在很疲累的狀態，所以我只打算在床上稍作閱讀，<br>沒有計劃要刻 Code 。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">程式相關的書跟其它書籍最大的不同是，</span><br><span class=\"line\">如果裡面有程式碼，你很容易去實踐書裡面的內容，</span><br><span class=\"line\">有好有壞，它不像一些高大上的東西，說得到作不到(光說不練)(就是幹話)  </span><br><span class=\"line\">程式寫下來，跑一下就可以很清楚作者要表達的東西。</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"症狀\"><a href=\"#症狀\" class=\"headerlink\" title=\"症狀\"></a>症狀</h3><p>一開始是看不清楚一兩個字，單純以為是眼花了而已。<br>隨即發現這跟平常的眼花並不一樣，左邊的視野完全消失了，<br>當下立即對自我作了一下檢查，不論是左眼右眼看到的東西是相同的，<br>就是左邊的視野是糢糊不清。<br><img src=\"https://i.imgur.com/czkqPZE.jpg\" alt></p>\n<p>當下時間已經是凌晨 1:00 多了，從來沒有這樣的症狀，<br>很害怕是視網膜剝離或是急性青光眼之類的，<br>真的是有想到各種失去視力的恐怖想像，<br>不過症狀卻隨著我到達醫院消失了，</p>\n<p>當下醫生也只有量血壓，看起來也正常，<br>也沒有其它症狀，就被趕回家了……</p>\n<p>回到家沒多久，先是視野又出現相同症狀，沒多久就開始頭痛<br>從右眼到到後腦勺的疼痛，有點類似吃太冰的東西引發的頭痛感覺<br>再一次去到了醫院，這次本來想就近看診所以選了西園<br>想不到西園沒有急診眼科就又去了台大一趟<br>醫生直接幫我抽血並給了我一個藥丸(止痛藥)<br>吃了藥後，症狀有所舒緩，在醫院等了幾個小時後，<br>終於有眼科醫生來作檢查，只有簡單的眼壓與視野檢查。  </p>\n<p>預約了眼科與腦神經科的門診後，就回家了，<br>不過那時已經快過 11:00 了，在醫院忘了帶手機，<br>還麻煩了同事C代請假。 </p>\n<h3 id=\"休息\"><a href=\"#休息\" class=\"headerlink\" title=\"休息\"></a>休息</h3><p>症狀發生後的當天是完全無力上班的，而門診時間是抓在二日後，<br>緊接著又是六日，所以直接請了 3 天的假<br>幾本上是睡了三天，當然門診那天也跑了很多地方，<br>雖然我姐陪我去看診，但是另人傻眼的是最後被丟包只能自已回家。<br>而整個過程當中他也只是在逛兒童醫院的小賣部，或是滑手機<br>事後想想，我自已去醫院說不定會更輕鬆一些。  </p>\n<h3 id=\"檢查\"><a href=\"#檢查\" class=\"headerlink\" title=\"檢查\"></a>檢查</h3><p>門診後安排了檢查，另外就是一個月份量的止痛藥，<br>醫生開了「普拿疼」跟「羅莎疼」，備而不用能不吃就不吃，<br>之後的檢查分屬不同的時間，有時候是一個人去的;  </p>\n<h3 id=\"MRI\"><a href=\"#MRI\" class=\"headerlink\" title=\"MRI\"></a>MRI</h3><p>MRI 是一個漫長的檢查，在電視上常常看到，可以透視你的腦與血管，<br>聽說輻射量會比較少，整個過程就是躺著聽噪音，<br>真的很吵，大概要 30 分鐘不能動，希望你們不會有這種體驗。  </p>\n<h3 id=\"清醒期腦波\"><a href=\"#清醒期腦波\" class=\"headerlink\" title=\"清醒期腦波\"></a>清醒期腦波</h3><p>在頭上黏一堆電線(?)，檢查人員會跟你說話<br>或是要你呼吸，讓你看燈光，感覺上是為了觀察你的腦的反應，<br>算是輕鬆的檢查，可是用完後整個頭超黏，<br>強烈建議作完後去洗個頭，特別是入暑後的夏天。  </p>\n<h3 id=\"視野檢查\"><a href=\"#視野檢查\" class=\"headerlink\" title=\"視野檢查\"></a>視野檢查</h3><p>單眼測試，要看視野中央的亮點，<br>手上會有一個按鈕，隨機出現一個亮點就按一下，<br>作完右眼換左眼，蠻快速簡單的，<br>唯一有點難過的事是外面跟一個大媽聊天，<br>好像是腦瘤造成視野異常，<br>「弟弟，我什麼亮點都看不到」「…」<br>「你有看到嗎?」<br>我真的不知道怎麼回答……<br>「阿姨，我們先走了…」  </p>\n<h3 id=\"天使\"><a href=\"#天使\" class=\"headerlink\" title=\"天使\"></a>天使</h3><p>在公司基本上應該不要說這些私事的，<br>但是有些團隊成員在問，我又不想一直被問，<br>就直接濃縮成「眼睛看不到(清楚)，看了醫生還在等檢查…」<br>謝謝那些關心我的人，雖然我仍會感到不自在…<br>上午跟團隊報告，下午就被長官關心了，<br>嗯…那種感覺比較像「聽說有個零件壞掉，看一下，如果不行就換一個吧…」<br>不過還是有天使，謝謝同事R，不管是小紙條或是熱敷眼罩都很溫暖，<br>真的有種遇到天使的感覺，特別是在被家人丟包之後…<br><img src=\"https://i.imgur.com/MLNSfQS.jpg\" alt></p>\n<h3 id=\"Swing\"><a href=\"#Swing\" class=\"headerlink\" title=\"Swing\"></a>Swing</h3><p>很神奇的是在檢查完後的那個下午，<br>因為沒事可作，就到了華山，那邊有個 Swing 的跳舞活動，<br>之前就很感興趣，可惜19:00對我來說仍是個奢侈的下班時間。<br>活動蠻有趣的，社交場合所以大家的心態也比較開放，<br>可惜我完全不會跳，不過遇到了牧羊犬(如果我是羊，祂是牧羊人的話)<br>知道了彼此的身份後，我們一起禱告，  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">我看到上帝將你的心捧在祂的手掌上，  </span><br><span class=\"line\">細心的、仔細的在拼揍你破碎的心。  </span><br><span class=\"line\">可能是過去從家人、朋友、職場…而來的傷害，  </span><br><span class=\"line\">讓你的心碎成好幾塊，  </span><br><span class=\"line\">但神說不要怕，放心交給祂…</span><br></pre></td></tr></table></figure>\n\n<p>唔…我還要想一想，不過當下還有另一個男生說他想去教會<br>(os:有沒有這麼突然，你是不是想……?)<br>不過基於個人原則，有人想去教會我一定會帶他去的。<br>後續有什麼發展就等著瞧了……  </p>\n<p>ps. 聽說有8:30的舞蹈教學時間，如果有 lv1 我應該會去參加。</p>\n<h3 id=\"教會朋友家聚餐\"><a href=\"#教會朋友家聚餐\" class=\"headerlink\" title=\"教會朋友家聚餐\"></a>教會朋友家聚餐</h3><p>是一個好久不見的朋友，他在泰國，<br>所以我們大概一年只能見一次，<br>之前一直說要去泰國找他，總總因素總沒有成行，<br>很突然的一個邀約，大家帶一點吃的<br>我還剛踢完球，全身臭臭的，除了我大家都結婚生子了，<br>這種感覺是很尷尬的，某種程度上的，<br>不過因為我們也沒有團契，也沒有一起聚會(好啦，我知道是我沒去教會)<br>連繫上是很薄弱的，本來想說就好久不見的朋友，<br>後來一起唱了詩歌又一起禱告……<br>又把焦點作到我身上了，weeeeeee<br>或許需要恢復團契與聚會習慣吧。</p>\n<p>不然我會止不住這些聲音的。</p>\n<h2 id=\"記錄\"><a href=\"#記錄\" class=\"headerlink\" title=\"記錄\"></a>記錄</h2><p>我的 blog 本來是不打算記錄這些東西的，<br>不知道為什麼就想記下來，<br>或許有一天會用到吧，或許不會，<br>等著瞧了。</p>\n<p>(fin)</p>\n"},{"title":"如何讓 windows 也有美美命令提示視窗","date":"2018-11-25T09:58:59.000Z","_content":"\n## 目的\n![就是要美美命令提示視窗](/images/2018/colorfull_cmder/result.jpg)\n常常在一些社群看到，大神都超會下 command，  \n開始學習使用各種 command 之後，才發現那個美美的 terminal 不只是華麗而已，   \n實際上也可以加速閱讀，而且潮指數也是怒加一波(畫錯重點)，  \n當然要研究一下如何讓自已擁有一個賞心悅目的 commander 囉\n\n## 作法\n使用 [Cmder](http://cmder.net/) ， 這是一個 Windows 的開發人員常用的 terminal 介面，  \n他可以執行一般的 CMD、Bash 與 PowerShell ，別想得太複雜，就是一個命令提示視窗。  \n\n### 安裝字型 on Windows 10 \n\n1. 下載 [powerline](https://github.com/powerline/fonts)，選擇 Clone or download > Download ZIP\n2. 解壓縮後，選擇使用 AnonymousPro 字型(主要是要那些git icon的圖案，如果別的字型有 也可以使用)\n3. 控制台>字型 把 ttf 拖進去安裝\n\n### 設定 Cmder\n\n1. Win + Alt + P 開啟設定畫面\n2. Cmder > Settings > General > Fonts  > 下拉選單選 Anonymice PowerlineCmder \n![](/images/2018/colorfull_cmder/settings.jpg)\n\n### 使用 lua Config\n1. 下載[cmder-powerline-prompt](https://github.com/AmrEldib/cmder-powerline-prompt)，選擇 Clone or download > Download ZIP\n2. 開啟 Cmder 安裝檔所在位置，找到 `Config` 資料夾  \n3. 將下載的所有 *.lua 檔放入 `Config` 資料夾  \n\n最後重啟 Cmder 就可以有一個美美的命令提示視窗了。  \n[lua](https://www.lua.org/) 也是一個程式語言，你大可開啟文字編輯器，看一下裡面作了什麼。  \n\n\n## 2018/12/02 補充\n\n追加讓 PowerShell 在 cmder 裡面也美美的方法\n\n### 步驟\n1. 下載[cmder-powershell-powerlin-prompt](https://github.com/AmrEldib/cmder-powershell-powerline-prompt)，選擇 Clone or download > Download ZIP\n2. 解壓縮 ZIP 檔\n3. 開啟 Cmder 所在的資料夾，如下圖 > 開啟 config 資料夾\n![](/images/2018/colorfull_cmder/cmder_folder.jpg)\n4. 將壓縮檔內的 `user_profile.ps1`，取代 config 內的 `user_profile.ps1`\n5. 將壓縮檔內的 `profile.d` 資料內的所有檔案，全數貼到 config 內的 `profile.d` 資料夾內，如果不存在就建立一個。\n6. 開啟 config\\profile.d 資料夾，重新命名 goToFolder.config.example 為 goToFolder.config \n    - 這個檔案內會設定一些目錄與 alias 。\n    - 使用方法，在使用 cmder 開啟 powershell 的情況下，輸入 g + `alias` \n    - 比如說在 goToFolder.config 中，設定一組 `m, C:\\User\\Marsen`\n    - 在 cmder 輸入 `g m` 就會自動切到 `C:\\User\\Marsen` 的路徑底下\n7. 還有很多 Alias 請自行研究。\n8. 重啟 cmder 後就會載入新的設定，變成美美的 powershell 了\n\n## 參考\n- 整篇都是參考[cmder-powerline-prompt](https://github.com/AmrEldib/cmder-powerline-prompt)的作法，原始 Repo 可能隨時會更新異動，不保証有效\n- [cmder-powershell-powerlin-prompt](https://github.com/AmrEldib/cmder-powershell-powerline-prompt)\n\n(fin)","source":"_posts/2018/colorfull_cmder.md","raw":"---\ntitle: \"如何讓 windows 也有美美命令提示視窗\"\ndate: 2018/11/25 17:58:59\n---\n\n## 目的\n![就是要美美命令提示視窗](/images/2018/colorfull_cmder/result.jpg)\n常常在一些社群看到，大神都超會下 command，  \n開始學習使用各種 command 之後，才發現那個美美的 terminal 不只是華麗而已，   \n實際上也可以加速閱讀，而且潮指數也是怒加一波(畫錯重點)，  \n當然要研究一下如何讓自已擁有一個賞心悅目的 commander 囉\n\n## 作法\n使用 [Cmder](http://cmder.net/) ， 這是一個 Windows 的開發人員常用的 terminal 介面，  \n他可以執行一般的 CMD、Bash 與 PowerShell ，別想得太複雜，就是一個命令提示視窗。  \n\n### 安裝字型 on Windows 10 \n\n1. 下載 [powerline](https://github.com/powerline/fonts)，選擇 Clone or download > Download ZIP\n2. 解壓縮後，選擇使用 AnonymousPro 字型(主要是要那些git icon的圖案，如果別的字型有 也可以使用)\n3. 控制台>字型 把 ttf 拖進去安裝\n\n### 設定 Cmder\n\n1. Win + Alt + P 開啟設定畫面\n2. Cmder > Settings > General > Fonts  > 下拉選單選 Anonymice PowerlineCmder \n![](/images/2018/colorfull_cmder/settings.jpg)\n\n### 使用 lua Config\n1. 下載[cmder-powerline-prompt](https://github.com/AmrEldib/cmder-powerline-prompt)，選擇 Clone or download > Download ZIP\n2. 開啟 Cmder 安裝檔所在位置，找到 `Config` 資料夾  \n3. 將下載的所有 *.lua 檔放入 `Config` 資料夾  \n\n最後重啟 Cmder 就可以有一個美美的命令提示視窗了。  \n[lua](https://www.lua.org/) 也是一個程式語言，你大可開啟文字編輯器，看一下裡面作了什麼。  \n\n\n## 2018/12/02 補充\n\n追加讓 PowerShell 在 cmder 裡面也美美的方法\n\n### 步驟\n1. 下載[cmder-powershell-powerlin-prompt](https://github.com/AmrEldib/cmder-powershell-powerline-prompt)，選擇 Clone or download > Download ZIP\n2. 解壓縮 ZIP 檔\n3. 開啟 Cmder 所在的資料夾，如下圖 > 開啟 config 資料夾\n![](/images/2018/colorfull_cmder/cmder_folder.jpg)\n4. 將壓縮檔內的 `user_profile.ps1`，取代 config 內的 `user_profile.ps1`\n5. 將壓縮檔內的 `profile.d` 資料內的所有檔案，全數貼到 config 內的 `profile.d` 資料夾內，如果不存在就建立一個。\n6. 開啟 config\\profile.d 資料夾，重新命名 goToFolder.config.example 為 goToFolder.config \n    - 這個檔案內會設定一些目錄與 alias 。\n    - 使用方法，在使用 cmder 開啟 powershell 的情況下，輸入 g + `alias` \n    - 比如說在 goToFolder.config 中，設定一組 `m, C:\\User\\Marsen`\n    - 在 cmder 輸入 `g m` 就會自動切到 `C:\\User\\Marsen` 的路徑底下\n7. 還有很多 Alias 請自行研究。\n8. 重啟 cmder 後就會載入新的設定，變成美美的 powershell 了\n\n## 參考\n- 整篇都是參考[cmder-powerline-prompt](https://github.com/AmrEldib/cmder-powerline-prompt)的作法，原始 Repo 可能隨時會更新異動，不保証有效\n- [cmder-powershell-powerlin-prompt](https://github.com/AmrEldib/cmder-powershell-powerline-prompt)\n\n(fin)","slug":"2018/colorfull_cmder","published":1,"updated":"2019-06-10T14:43:28.911Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkb001gb0vxikie2wtu","content":"<h2 id=\"目的\"><a href=\"#目的\" class=\"headerlink\" title=\"目的\"></a>目的</h2><p><img src=\"/images/2018/colorfull_cmder/result.jpg\" alt=\"就是要美美命令提示視窗\"><br>常常在一些社群看到，大神都超會下 command，<br>開始學習使用各種 command 之後，才發現那個美美的 terminal 不只是華麗而已，<br>實際上也可以加速閱讀，而且潮指數也是怒加一波(畫錯重點)，<br>當然要研究一下如何讓自已擁有一個賞心悅目的 commander 囉</p>\n<h2 id=\"作法\"><a href=\"#作法\" class=\"headerlink\" title=\"作法\"></a>作法</h2><p>使用 <a href=\"http://cmder.net/\" target=\"_blank\" rel=\"noopener\">Cmder</a> ， 這是一個 Windows 的開發人員常用的 terminal 介面，<br>他可以執行一般的 CMD、Bash 與 PowerShell ，別想得太複雜，就是一個命令提示視窗。  </p>\n<h3 id=\"安裝字型-on-Windows-10\"><a href=\"#安裝字型-on-Windows-10\" class=\"headerlink\" title=\"安裝字型 on Windows 10\"></a>安裝字型 on Windows 10</h3><ol>\n<li>下載 <a href=\"https://github.com/powerline/fonts\" target=\"_blank\" rel=\"noopener\">powerline</a>，選擇 Clone or download &gt; Download ZIP</li>\n<li>解壓縮後，選擇使用 AnonymousPro 字型(主要是要那些git icon的圖案，如果別的字型有 也可以使用)</li>\n<li>控制台&gt;字型 把 ttf 拖進去安裝</li>\n</ol>\n<h3 id=\"設定-Cmder\"><a href=\"#設定-Cmder\" class=\"headerlink\" title=\"設定 Cmder\"></a>設定 Cmder</h3><ol>\n<li>Win + Alt + P 開啟設定畫面</li>\n<li>Cmder &gt; Settings &gt; General &gt; Fonts  &gt; 下拉選單選 Anonymice PowerlineCmder<br><img src=\"/images/2018/colorfull_cmder/settings.jpg\" alt></li>\n</ol>\n<h3 id=\"使用-lua-Config\"><a href=\"#使用-lua-Config\" class=\"headerlink\" title=\"使用 lua Config\"></a>使用 lua Config</h3><ol>\n<li>下載<a href=\"https://github.com/AmrEldib/cmder-powerline-prompt\" target=\"_blank\" rel=\"noopener\">cmder-powerline-prompt</a>，選擇 Clone or download &gt; Download ZIP</li>\n<li>開啟 Cmder 安裝檔所在位置，找到 <code>Config</code> 資料夾  </li>\n<li>將下載的所有 *.lua 檔放入 <code>Config</code> 資料夾  </li>\n</ol>\n<p>最後重啟 Cmder 就可以有一個美美的命令提示視窗了。<br><a href=\"https://www.lua.org/\" target=\"_blank\" rel=\"noopener\">lua</a> 也是一個程式語言，你大可開啟文字編輯器，看一下裡面作了什麼。  </p>\n<h2 id=\"2018-12-02-補充\"><a href=\"#2018-12-02-補充\" class=\"headerlink\" title=\"2018/12/02 補充\"></a>2018/12/02 補充</h2><p>追加讓 PowerShell 在 cmder 裡面也美美的方法</p>\n<h3 id=\"步驟\"><a href=\"#步驟\" class=\"headerlink\" title=\"步驟\"></a>步驟</h3><ol>\n<li>下載<a href=\"https://github.com/AmrEldib/cmder-powershell-powerline-prompt\" target=\"_blank\" rel=\"noopener\">cmder-powershell-powerlin-prompt</a>，選擇 Clone or download &gt; Download ZIP</li>\n<li>解壓縮 ZIP 檔</li>\n<li>開啟 Cmder 所在的資料夾，如下圖 &gt; 開啟 config 資料夾<br><img src=\"/images/2018/colorfull_cmder/cmder_folder.jpg\" alt></li>\n<li>將壓縮檔內的 <code>user_profile.ps1</code>，取代 config 內的 <code>user_profile.ps1</code></li>\n<li>將壓縮檔內的 <code>profile.d</code> 資料內的所有檔案，全數貼到 config 內的 <code>profile.d</code> 資料夾內，如果不存在就建立一個。</li>\n<li>開啟 config\\profile.d 資料夾，重新命名 goToFolder.config.example 為 goToFolder.config <ul>\n<li>這個檔案內會設定一些目錄與 alias 。</li>\n<li>使用方法，在使用 cmder 開啟 powershell 的情況下，輸入 g + <code>alias</code> </li>\n<li>比如說在 goToFolder.config 中，設定一組 <code>m, C:\\User\\Marsen</code></li>\n<li>在 cmder 輸入 <code>g m</code> 就會自動切到 <code>C:\\User\\Marsen</code> 的路徑底下</li>\n</ul>\n</li>\n<li>還有很多 Alias 請自行研究。</li>\n<li>重啟 cmder 後就會載入新的設定，變成美美的 powershell 了</li>\n</ol>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li>整篇都是參考<a href=\"https://github.com/AmrEldib/cmder-powerline-prompt\" target=\"_blank\" rel=\"noopener\">cmder-powerline-prompt</a>的作法，原始 Repo 可能隨時會更新異動，不保証有效</li>\n<li><a href=\"https://github.com/AmrEldib/cmder-powershell-powerline-prompt\" target=\"_blank\" rel=\"noopener\">cmder-powershell-powerlin-prompt</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"目的\"><a href=\"#目的\" class=\"headerlink\" title=\"目的\"></a>目的</h2><p><img src=\"/images/2018/colorfull_cmder/result.jpg\" alt=\"就是要美美命令提示視窗\"><br>常常在一些社群看到，大神都超會下 command，<br>開始學習使用各種 command 之後，才發現那個美美的 terminal 不只是華麗而已，<br>實際上也可以加速閱讀，而且潮指數也是怒加一波(畫錯重點)，<br>當然要研究一下如何讓自已擁有一個賞心悅目的 commander 囉</p>\n<h2 id=\"作法\"><a href=\"#作法\" class=\"headerlink\" title=\"作法\"></a>作法</h2><p>使用 <a href=\"http://cmder.net/\" target=\"_blank\" rel=\"noopener\">Cmder</a> ， 這是一個 Windows 的開發人員常用的 terminal 介面，<br>他可以執行一般的 CMD、Bash 與 PowerShell ，別想得太複雜，就是一個命令提示視窗。  </p>\n<h3 id=\"安裝字型-on-Windows-10\"><a href=\"#安裝字型-on-Windows-10\" class=\"headerlink\" title=\"安裝字型 on Windows 10\"></a>安裝字型 on Windows 10</h3><ol>\n<li>下載 <a href=\"https://github.com/powerline/fonts\" target=\"_blank\" rel=\"noopener\">powerline</a>，選擇 Clone or download &gt; Download ZIP</li>\n<li>解壓縮後，選擇使用 AnonymousPro 字型(主要是要那些git icon的圖案，如果別的字型有 也可以使用)</li>\n<li>控制台&gt;字型 把 ttf 拖進去安裝</li>\n</ol>\n<h3 id=\"設定-Cmder\"><a href=\"#設定-Cmder\" class=\"headerlink\" title=\"設定 Cmder\"></a>設定 Cmder</h3><ol>\n<li>Win + Alt + P 開啟設定畫面</li>\n<li>Cmder &gt; Settings &gt; General &gt; Fonts  &gt; 下拉選單選 Anonymice PowerlineCmder<br><img src=\"/images/2018/colorfull_cmder/settings.jpg\" alt></li>\n</ol>\n<h3 id=\"使用-lua-Config\"><a href=\"#使用-lua-Config\" class=\"headerlink\" title=\"使用 lua Config\"></a>使用 lua Config</h3><ol>\n<li>下載<a href=\"https://github.com/AmrEldib/cmder-powerline-prompt\" target=\"_blank\" rel=\"noopener\">cmder-powerline-prompt</a>，選擇 Clone or download &gt; Download ZIP</li>\n<li>開啟 Cmder 安裝檔所在位置，找到 <code>Config</code> 資料夾  </li>\n<li>將下載的所有 *.lua 檔放入 <code>Config</code> 資料夾  </li>\n</ol>\n<p>最後重啟 Cmder 就可以有一個美美的命令提示視窗了。<br><a href=\"https://www.lua.org/\" target=\"_blank\" rel=\"noopener\">lua</a> 也是一個程式語言，你大可開啟文字編輯器，看一下裡面作了什麼。  </p>\n<h2 id=\"2018-12-02-補充\"><a href=\"#2018-12-02-補充\" class=\"headerlink\" title=\"2018/12/02 補充\"></a>2018/12/02 補充</h2><p>追加讓 PowerShell 在 cmder 裡面也美美的方法</p>\n<h3 id=\"步驟\"><a href=\"#步驟\" class=\"headerlink\" title=\"步驟\"></a>步驟</h3><ol>\n<li>下載<a href=\"https://github.com/AmrEldib/cmder-powershell-powerline-prompt\" target=\"_blank\" rel=\"noopener\">cmder-powershell-powerlin-prompt</a>，選擇 Clone or download &gt; Download ZIP</li>\n<li>解壓縮 ZIP 檔</li>\n<li>開啟 Cmder 所在的資料夾，如下圖 &gt; 開啟 config 資料夾<br><img src=\"/images/2018/colorfull_cmder/cmder_folder.jpg\" alt></li>\n<li>將壓縮檔內的 <code>user_profile.ps1</code>，取代 config 內的 <code>user_profile.ps1</code></li>\n<li>將壓縮檔內的 <code>profile.d</code> 資料內的所有檔案，全數貼到 config 內的 <code>profile.d</code> 資料夾內，如果不存在就建立一個。</li>\n<li>開啟 config\\profile.d 資料夾，重新命名 goToFolder.config.example 為 goToFolder.config <ul>\n<li>這個檔案內會設定一些目錄與 alias 。</li>\n<li>使用方法，在使用 cmder 開啟 powershell 的情況下，輸入 g + <code>alias</code> </li>\n<li>比如說在 goToFolder.config 中，設定一組 <code>m, C:\\User\\Marsen</code></li>\n<li>在 cmder 輸入 <code>g m</code> 就會自動切到 <code>C:\\User\\Marsen</code> 的路徑底下</li>\n</ul>\n</li>\n<li>還有很多 Alias 請自行研究。</li>\n<li>重啟 cmder 後就會載入新的設定，變成美美的 powershell 了</li>\n</ol>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li>整篇都是參考<a href=\"https://github.com/AmrEldib/cmder-powerline-prompt\" target=\"_blank\" rel=\"noopener\">cmder-powerline-prompt</a>的作法，原始 Repo 可能隨時會更新異動，不保証有效</li>\n<li><a href=\"https://github.com/AmrEldib/cmder-powershell-powerline-prompt\" target=\"_blank\" rel=\"noopener\">cmder-powershell-powerlin-prompt</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[內部分享]Cache 使用 Files 與 Redis","date":"2018-09-03T07:45:42.000Z","_content":"## Why Cache ?\n1. 保護稀缺資源(database/disk io/server)\n2. 提高反應速度,減少延遲(Latency)\n\n## Cache Point\n4. 資料即時性/如何除錯/如何更新\n5. Hit Rate\n6. High Availability(HA)\n7. 單位時間承載量\n\n## Our Cache\n1. CDN(Cloudfront)\n2. OutputCache\n3. Memory Cache\n4. Redis Cache\n5. File Cache\n\n## More Cache not in above\n1. Browser Cache\n2. Database Execution Plan Cache (執行計劃快取)\n3. Elastic Search\n\n\n### File Cache\n- pro\n    - 簡單易用\n- con\n    - 咬檔\n    - 不會自動過期\n    - 自已要處理lock機制\n\n### Redis Cache\n- pro\n    - 會自動過期\n    - 有提供Queue的功能\n    - 高速(in memory)\n- con\n    - 單緖(Single Thread)\n    - HA的機制費用高\n    - Redis 承載量受限於記憶體大小\n    - 存儲的東西過大,會導致存取速度下降\n    \n### 實踐問題:在大流量的站台，Cache 過期時如何避免大量 Request 同時更新同一份 Cache ?\n\nAns: 使用 Lock ， \n不要使用.NET的`lock` ;.NET Lock 的機制問題在於，Lock 會導致其它 Thread 排隊  \n當系統處於高流量的情境底下，會發生間歇性Latency提高，  \n而且難以追查問題，也難以重現(一般的壓測無法達到如此高量)。\n\n使用共用的 Lock Key 作判斷標準:\n1. Lock Key 存在,回傳 Cache Data\n2. Lock Key 不存在,建立 Lock Key(包含 Server Id)\n3. 重新取得 Lock Key 如果 \n    - Server Id 與 Request 相同，更新 Cache Data 並回傳\n    - Server Id 與 Request 不相同，直接回傳 Cache Data\n\n#### [Cache Double check Lock Patter(https://docs.microsoft.com/en-us/previous-versions/office/developer/sharepoint-2010/ee558270(v%3Doffice.14)\n\n```csharp=\nprivate static object _lock =  new object();\n\npublic void CacheData()\n{\n   SPListItemCollection oListItems;\n       oListItems = (SPListItemCollection)Cache[\"ListItemCacheName\"];\n      if(oListItems == null)\n      {\n         lock (_lock) \n         {\n              // Ensure that the data was not loaded by a concurrent thread \n              // while waiting for lock.\n              oListItems = (SPListItemCollection)Cache[\"ListItemCacheName\"];\n              if (oListItems == null)\n              {\n                   oListItems = DoQueryToReturnItems();\n                   Cache.Add(\"ListItemCacheName\", oListItems, ..);\n              }\n         }\n     }\n}\n```\n\n\n\n    \n## Other\n1. 使用多執行緖時要小心處理Exception,不然會導致主程序被中斷  \n(File Cache 寫入真實案例,多緖的錯誤不佳會使得IIS無法處理錯誤,進而中斷程序(w3wp.exe))\n2. AWS S3 是走 Https Protocal\n3. Redis Delete/Backup 會 Lock Thread\n4. Redis Command Timeout 極短，所以要注意單一　Cache　資料量大小 (建議資料要小於1k?)\n\n## 參考\n- [Redis](https://redis.io/)\n- [memcached](https://memcached.org/)\n- [Caching Data And Objects](https://docs.microsoft.com/en-us/previous-versions/office/developer/sharepoint-2010/ee558270(v%3Doffice.14)#caching-data-and-objects)\n\n(fin)\n\n\n","source":"_posts/2018/cache_files_and_redis.md","raw":"---\ntitle: \"[內部分享]Cache 使用 Files 與 Redis\"\ndate: 2018/09/03 15:45:42\ntag:\n  - Cache\n  - Redis\n---\n## Why Cache ?\n1. 保護稀缺資源(database/disk io/server)\n2. 提高反應速度,減少延遲(Latency)\n\n## Cache Point\n4. 資料即時性/如何除錯/如何更新\n5. Hit Rate\n6. High Availability(HA)\n7. 單位時間承載量\n\n## Our Cache\n1. CDN(Cloudfront)\n2. OutputCache\n3. Memory Cache\n4. Redis Cache\n5. File Cache\n\n## More Cache not in above\n1. Browser Cache\n2. Database Execution Plan Cache (執行計劃快取)\n3. Elastic Search\n\n\n### File Cache\n- pro\n    - 簡單易用\n- con\n    - 咬檔\n    - 不會自動過期\n    - 自已要處理lock機制\n\n### Redis Cache\n- pro\n    - 會自動過期\n    - 有提供Queue的功能\n    - 高速(in memory)\n- con\n    - 單緖(Single Thread)\n    - HA的機制費用高\n    - Redis 承載量受限於記憶體大小\n    - 存儲的東西過大,會導致存取速度下降\n    \n### 實踐問題:在大流量的站台，Cache 過期時如何避免大量 Request 同時更新同一份 Cache ?\n\nAns: 使用 Lock ， \n不要使用.NET的`lock` ;.NET Lock 的機制問題在於，Lock 會導致其它 Thread 排隊  \n當系統處於高流量的情境底下，會發生間歇性Latency提高，  \n而且難以追查問題，也難以重現(一般的壓測無法達到如此高量)。\n\n使用共用的 Lock Key 作判斷標準:\n1. Lock Key 存在,回傳 Cache Data\n2. Lock Key 不存在,建立 Lock Key(包含 Server Id)\n3. 重新取得 Lock Key 如果 \n    - Server Id 與 Request 相同，更新 Cache Data 並回傳\n    - Server Id 與 Request 不相同，直接回傳 Cache Data\n\n#### [Cache Double check Lock Patter(https://docs.microsoft.com/en-us/previous-versions/office/developer/sharepoint-2010/ee558270(v%3Doffice.14)\n\n```csharp=\nprivate static object _lock =  new object();\n\npublic void CacheData()\n{\n   SPListItemCollection oListItems;\n       oListItems = (SPListItemCollection)Cache[\"ListItemCacheName\"];\n      if(oListItems == null)\n      {\n         lock (_lock) \n         {\n              // Ensure that the data was not loaded by a concurrent thread \n              // while waiting for lock.\n              oListItems = (SPListItemCollection)Cache[\"ListItemCacheName\"];\n              if (oListItems == null)\n              {\n                   oListItems = DoQueryToReturnItems();\n                   Cache.Add(\"ListItemCacheName\", oListItems, ..);\n              }\n         }\n     }\n}\n```\n\n\n\n    \n## Other\n1. 使用多執行緖時要小心處理Exception,不然會導致主程序被中斷  \n(File Cache 寫入真實案例,多緖的錯誤不佳會使得IIS無法處理錯誤,進而中斷程序(w3wp.exe))\n2. AWS S3 是走 Https Protocal\n3. Redis Delete/Backup 會 Lock Thread\n4. Redis Command Timeout 極短，所以要注意單一　Cache　資料量大小 (建議資料要小於1k?)\n\n## 參考\n- [Redis](https://redis.io/)\n- [memcached](https://memcached.org/)\n- [Caching Data And Objects](https://docs.microsoft.com/en-us/previous-versions/office/developer/sharepoint-2010/ee558270(v%3Doffice.14)#caching-data-and-objects)\n\n(fin)\n\n\n","slug":"2018/cache_files_and_redis","published":1,"updated":"2019-06-10T14:43:28.906Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkb001hb0vxu4gnpb0d","content":"<h2 id=\"Why-Cache\"><a href=\"#Why-Cache\" class=\"headerlink\" title=\"Why Cache ?\"></a>Why Cache ?</h2><ol>\n<li>保護稀缺資源(database/disk io/server)</li>\n<li>提高反應速度,減少延遲(Latency)</li>\n</ol>\n<h2 id=\"Cache-Point\"><a href=\"#Cache-Point\" class=\"headerlink\" title=\"Cache Point\"></a>Cache Point</h2><ol start=\"4\">\n<li>資料即時性/如何除錯/如何更新</li>\n<li>Hit Rate</li>\n<li>High Availability(HA)</li>\n<li>單位時間承載量</li>\n</ol>\n<h2 id=\"Our-Cache\"><a href=\"#Our-Cache\" class=\"headerlink\" title=\"Our Cache\"></a>Our Cache</h2><ol>\n<li>CDN(Cloudfront)</li>\n<li>OutputCache</li>\n<li>Memory Cache</li>\n<li>Redis Cache</li>\n<li>File Cache</li>\n</ol>\n<h2 id=\"More-Cache-not-in-above\"><a href=\"#More-Cache-not-in-above\" class=\"headerlink\" title=\"More Cache not in above\"></a>More Cache not in above</h2><ol>\n<li>Browser Cache</li>\n<li>Database Execution Plan Cache (執行計劃快取)</li>\n<li>Elastic Search</li>\n</ol>\n<h3 id=\"File-Cache\"><a href=\"#File-Cache\" class=\"headerlink\" title=\"File Cache\"></a>File Cache</h3><ul>\n<li>pro<ul>\n<li>簡單易用</li>\n</ul>\n</li>\n<li>con<ul>\n<li>咬檔</li>\n<li>不會自動過期</li>\n<li>自已要處理lock機制</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Redis-Cache\"><a href=\"#Redis-Cache\" class=\"headerlink\" title=\"Redis Cache\"></a>Redis Cache</h3><ul>\n<li>pro<ul>\n<li>會自動過期</li>\n<li>有提供Queue的功能</li>\n<li>高速(in memory)</li>\n</ul>\n</li>\n<li>con<ul>\n<li>單緖(Single Thread)</li>\n<li>HA的機制費用高</li>\n<li>Redis 承載量受限於記憶體大小</li>\n<li>存儲的東西過大,會導致存取速度下降</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"實踐問題-在大流量的站台，Cache-過期時如何避免大量-Request-同時更新同一份-Cache\"><a href=\"#實踐問題-在大流量的站台，Cache-過期時如何避免大量-Request-同時更新同一份-Cache\" class=\"headerlink\" title=\"實踐問題:在大流量的站台，Cache 過期時如何避免大量 Request 同時更新同一份 Cache ?\"></a>實踐問題:在大流量的站台，Cache 過期時如何避免大量 Request 同時更新同一份 Cache ?</h3><p>Ans: 使用 Lock ，<br>不要使用.NET的<code>lock</code> ;.NET Lock 的機制問題在於，Lock 會導致其它 Thread 排隊<br>當系統處於高流量的情境底下，會發生間歇性Latency提高，<br>而且難以追查問題，也難以重現(一般的壓測無法達到如此高量)。</p>\n<p>使用共用的 Lock Key 作判斷標準:</p>\n<ol>\n<li>Lock Key 存在,回傳 Cache Data</li>\n<li>Lock Key 不存在,建立 Lock Key(包含 Server Id)</li>\n<li>重新取得 Lock Key 如果 <ul>\n<li>Server Id 與 Request 相同，更新 Cache Data 並回傳</li>\n<li>Server Id 與 Request 不相同，直接回傳 Cache Data</li>\n</ul>\n</li>\n</ol>\n<h4 id=\"Cache-Double-check-Lock-Patter-https-docs-microsoft-com-en-us-previous-versions-office-developer-sharepoint-2010-ee558270-v-3Doffice-14\"><a href=\"#Cache-Double-check-Lock-Patter-https-docs-microsoft-com-en-us-previous-versions-office-developer-sharepoint-2010-ee558270-v-3Doffice-14\" class=\"headerlink\" title=\"[Cache Double check Lock Patter(https://docs.microsoft.com/en-us/previous-versions/office/developer/sharepoint-2010/ee558270(v%3Doffice.14)\"></a>[Cache Double check Lock Patter(<a href=\"https://docs.microsoft.com/en-us/previous-versions/office/developer/sharepoint-2010/ee558270(v%3Doffice.14)\" target=\"_blank\" rel=\"noopener\">https://docs.microsoft.com/en-us/previous-versions/office/developer/sharepoint-2010/ee558270(v%3Doffice.14)</a></h4><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">object</span> _lock =  <span class=\"keyword\">new</span> <span class=\"keyword\">object</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">CacheData</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">   SPListItemCollection oListItems;</span><br><span class=\"line\">       oListItems = (SPListItemCollection)Cache[<span class=\"string\">\"ListItemCacheName\"</span>];</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(oListItems == <span class=\"literal\">null</span>)</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">         <span class=\"keyword\">lock</span> (_lock) </span><br><span class=\"line\">         &#123;</span><br><span class=\"line\">              <span class=\"comment\">// Ensure that the data was not loaded by a concurrent thread </span></span><br><span class=\"line\">              <span class=\"comment\">// while waiting for lock.</span></span><br><span class=\"line\">              oListItems = (SPListItemCollection)Cache[<span class=\"string\">\"ListItemCacheName\"</span>];</span><br><span class=\"line\">              <span class=\"keyword\">if</span> (oListItems == <span class=\"literal\">null</span>)</span><br><span class=\"line\">              &#123;</span><br><span class=\"line\">                   oListItems = DoQueryToReturnItems();</span><br><span class=\"line\">                   Cache.Add(<span class=\"string\">\"ListItemCacheName\"</span>, oListItems, ..);</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"Other\"><a href=\"#Other\" class=\"headerlink\" title=\"Other\"></a>Other</h2><ol>\n<li>使用多執行緖時要小心處理Exception,不然會導致主程序被中斷<br>(File Cache 寫入真實案例,多緖的錯誤不佳會使得IIS無法處理錯誤,進而中斷程序(w3wp.exe))</li>\n<li>AWS S3 是走 Https Protocal</li>\n<li>Redis Delete/Backup 會 Lock Thread</li>\n<li>Redis Command Timeout 極短，所以要注意單一　Cache　資料量大小 (建議資料要小於1k?)</li>\n</ol>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://redis.io/\" target=\"_blank\" rel=\"noopener\">Redis</a></li>\n<li><a href=\"https://memcached.org/\" target=\"_blank\" rel=\"noopener\">memcached</a></li>\n<li><a href=\"https://docs.microsoft.com/en-us/previous-versions/office/developer/sharepoint-2010/ee558270(v%3Doffice.14)#caching-data-and-objects\" target=\"_blank\" rel=\"noopener\">Caching Data And Objects</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Why-Cache\"><a href=\"#Why-Cache\" class=\"headerlink\" title=\"Why Cache ?\"></a>Why Cache ?</h2><ol>\n<li>保護稀缺資源(database/disk io/server)</li>\n<li>提高反應速度,減少延遲(Latency)</li>\n</ol>\n<h2 id=\"Cache-Point\"><a href=\"#Cache-Point\" class=\"headerlink\" title=\"Cache Point\"></a>Cache Point</h2><ol start=\"4\">\n<li>資料即時性/如何除錯/如何更新</li>\n<li>Hit Rate</li>\n<li>High Availability(HA)</li>\n<li>單位時間承載量</li>\n</ol>\n<h2 id=\"Our-Cache\"><a href=\"#Our-Cache\" class=\"headerlink\" title=\"Our Cache\"></a>Our Cache</h2><ol>\n<li>CDN(Cloudfront)</li>\n<li>OutputCache</li>\n<li>Memory Cache</li>\n<li>Redis Cache</li>\n<li>File Cache</li>\n</ol>\n<h2 id=\"More-Cache-not-in-above\"><a href=\"#More-Cache-not-in-above\" class=\"headerlink\" title=\"More Cache not in above\"></a>More Cache not in above</h2><ol>\n<li>Browser Cache</li>\n<li>Database Execution Plan Cache (執行計劃快取)</li>\n<li>Elastic Search</li>\n</ol>\n<h3 id=\"File-Cache\"><a href=\"#File-Cache\" class=\"headerlink\" title=\"File Cache\"></a>File Cache</h3><ul>\n<li>pro<ul>\n<li>簡單易用</li>\n</ul>\n</li>\n<li>con<ul>\n<li>咬檔</li>\n<li>不會自動過期</li>\n<li>自已要處理lock機制</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Redis-Cache\"><a href=\"#Redis-Cache\" class=\"headerlink\" title=\"Redis Cache\"></a>Redis Cache</h3><ul>\n<li>pro<ul>\n<li>會自動過期</li>\n<li>有提供Queue的功能</li>\n<li>高速(in memory)</li>\n</ul>\n</li>\n<li>con<ul>\n<li>單緖(Single Thread)</li>\n<li>HA的機制費用高</li>\n<li>Redis 承載量受限於記憶體大小</li>\n<li>存儲的東西過大,會導致存取速度下降</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"實踐問題-在大流量的站台，Cache-過期時如何避免大量-Request-同時更新同一份-Cache\"><a href=\"#實踐問題-在大流量的站台，Cache-過期時如何避免大量-Request-同時更新同一份-Cache\" class=\"headerlink\" title=\"實踐問題:在大流量的站台，Cache 過期時如何避免大量 Request 同時更新同一份 Cache ?\"></a>實踐問題:在大流量的站台，Cache 過期時如何避免大量 Request 同時更新同一份 Cache ?</h3><p>Ans: 使用 Lock ，<br>不要使用.NET的<code>lock</code> ;.NET Lock 的機制問題在於，Lock 會導致其它 Thread 排隊<br>當系統處於高流量的情境底下，會發生間歇性Latency提高，<br>而且難以追查問題，也難以重現(一般的壓測無法達到如此高量)。</p>\n<p>使用共用的 Lock Key 作判斷標準:</p>\n<ol>\n<li>Lock Key 存在,回傳 Cache Data</li>\n<li>Lock Key 不存在,建立 Lock Key(包含 Server Id)</li>\n<li>重新取得 Lock Key 如果 <ul>\n<li>Server Id 與 Request 相同，更新 Cache Data 並回傳</li>\n<li>Server Id 與 Request 不相同，直接回傳 Cache Data</li>\n</ul>\n</li>\n</ol>\n<h4 id=\"Cache-Double-check-Lock-Patter-https-docs-microsoft-com-en-us-previous-versions-office-developer-sharepoint-2010-ee558270-v-3Doffice-14\"><a href=\"#Cache-Double-check-Lock-Patter-https-docs-microsoft-com-en-us-previous-versions-office-developer-sharepoint-2010-ee558270-v-3Doffice-14\" class=\"headerlink\" title=\"[Cache Double check Lock Patter(https://docs.microsoft.com/en-us/previous-versions/office/developer/sharepoint-2010/ee558270(v%3Doffice.14)\"></a>[Cache Double check Lock Patter(<a href=\"https://docs.microsoft.com/en-us/previous-versions/office/developer/sharepoint-2010/ee558270(v%3Doffice.14)\" target=\"_blank\" rel=\"noopener\">https://docs.microsoft.com/en-us/previous-versions/office/developer/sharepoint-2010/ee558270(v%3Doffice.14)</a></h4><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">object</span> _lock =  <span class=\"keyword\">new</span> <span class=\"keyword\">object</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">CacheData</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">   SPListItemCollection oListItems;</span><br><span class=\"line\">       oListItems = (SPListItemCollection)Cache[<span class=\"string\">\"ListItemCacheName\"</span>];</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(oListItems == <span class=\"literal\">null</span>)</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">         <span class=\"keyword\">lock</span> (_lock) </span><br><span class=\"line\">         &#123;</span><br><span class=\"line\">              <span class=\"comment\">// Ensure that the data was not loaded by a concurrent thread </span></span><br><span class=\"line\">              <span class=\"comment\">// while waiting for lock.</span></span><br><span class=\"line\">              oListItems = (SPListItemCollection)Cache[<span class=\"string\">\"ListItemCacheName\"</span>];</span><br><span class=\"line\">              <span class=\"keyword\">if</span> (oListItems == <span class=\"literal\">null</span>)</span><br><span class=\"line\">              &#123;</span><br><span class=\"line\">                   oListItems = DoQueryToReturnItems();</span><br><span class=\"line\">                   Cache.Add(<span class=\"string\">\"ListItemCacheName\"</span>, oListItems, ..);</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"Other\"><a href=\"#Other\" class=\"headerlink\" title=\"Other\"></a>Other</h2><ol>\n<li>使用多執行緖時要小心處理Exception,不然會導致主程序被中斷<br>(File Cache 寫入真實案例,多緖的錯誤不佳會使得IIS無法處理錯誤,進而中斷程序(w3wp.exe))</li>\n<li>AWS S3 是走 Https Protocal</li>\n<li>Redis Delete/Backup 會 Lock Thread</li>\n<li>Redis Command Timeout 極短，所以要注意單一　Cache　資料量大小 (建議資料要小於1k?)</li>\n</ol>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://redis.io/\" target=\"_blank\" rel=\"noopener\">Redis</a></li>\n<li><a href=\"https://memcached.org/\" target=\"_blank\" rel=\"noopener\">memcached</a></li>\n<li><a href=\"https://docs.microsoft.com/en-us/previous-versions/office/developer/sharepoint-2010/ee558270(v%3Doffice.14)#caching-data-and-objects\" target=\"_blank\" rel=\"noopener\">Caching Data And Objects</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[踩雷筆記]Docker 啟動 MongoDB Server Error","date":"2018-10-12T03:33:45.000Z","_content":"\n## 錯誤訊息\n\n```shell\n> docker-compose up db\nStarting marsen-mongodb ... error\nERROR: for marsen-mongodb  Cannot start service db:  \ndriver failed programming external connectivity on \nendpoint marsen-mongodb (6f2be666a700187b7f30884478d7231cc210182e2650602e513c6627d0bc3e5a):  \nError starting userland proxy: mkdir /port/tcp:0.0.0.0:27017:tcp:172.18.0.2:27017: input/output error\n```\n\n## 除錯\n\n**重啟 docker**\n\n(fin)","source":"_posts/2018/docker_error.md","raw":"---\ntitle: \"[踩雷筆記]Docker 啟動 MongoDB Server Error\"\ndate: 2018/10/12 11:33:45\ntag:\n  - Mongodb\n  - Docker\n  - Container\n---\n\n## 錯誤訊息\n\n```shell\n> docker-compose up db\nStarting marsen-mongodb ... error\nERROR: for marsen-mongodb  Cannot start service db:  \ndriver failed programming external connectivity on \nendpoint marsen-mongodb (6f2be666a700187b7f30884478d7231cc210182e2650602e513c6627d0bc3e5a):  \nError starting userland proxy: mkdir /port/tcp:0.0.0.0:27017:tcp:172.18.0.2:27017: input/output error\n```\n\n## 除錯\n\n**重啟 docker**\n\n(fin)","slug":"2018/docker_error","published":1,"updated":"2019-08-25T20:06:32.601Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkc001ib0vxeuuqcq2o","content":"<h2 id=\"錯誤訊息\"><a href=\"#錯誤訊息\" class=\"headerlink\" title=\"錯誤訊息\"></a>錯誤訊息</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> docker-compose up db</span></span><br><span class=\"line\">Starting marsen-mongodb ... error</span><br><span class=\"line\">ERROR: for marsen-mongodb  Cannot start service db:  </span><br><span class=\"line\">driver failed programming external connectivity on </span><br><span class=\"line\">endpoint marsen-mongodb (6f2be666a700187b7f30884478d7231cc210182e2650602e513c6627d0bc3e5a):  </span><br><span class=\"line\">Error starting userland proxy: mkdir /port/tcp:0.0.0.0:27017:tcp:172.18.0.2:27017: input/output error</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"除錯\"><a href=\"#除錯\" class=\"headerlink\" title=\"除錯\"></a>除錯</h2><p><strong>重啟 docker</strong></p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"錯誤訊息\"><a href=\"#錯誤訊息\" class=\"headerlink\" title=\"錯誤訊息\"></a>錯誤訊息</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> docker-compose up db</span></span><br><span class=\"line\">Starting marsen-mongodb ... error</span><br><span class=\"line\">ERROR: for marsen-mongodb  Cannot start service db:  </span><br><span class=\"line\">driver failed programming external connectivity on </span><br><span class=\"line\">endpoint marsen-mongodb (6f2be666a700187b7f30884478d7231cc210182e2650602e513c6627d0bc3e5a):  </span><br><span class=\"line\">Error starting userland proxy: mkdir /port/tcp:0.0.0.0:27017:tcp:172.18.0.2:27017: input/output error</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"除錯\"><a href=\"#除錯\" class=\"headerlink\" title=\"除錯\"></a>除錯</h2><p><strong>重啟 docker</strong></p>\n<p>(fin)</p>\n"},{"title":"[異常記錄]多語系架構上線","date":"2018-08-28T06:27:21.000Z","_content":"\n## 前情提要\n\n很久很久很久以前，\n【跨國語系基礎架構】上線了.  \n又過了很久很久 **我們評估這多語系API需要上 CDN**  \n![](https://i.imgur.com/0g5HL2z.jpg)\n\n### Release項目與工作內容\n\n- 8/16 要 release 什麼?  \n    我們要將多語系開始開發的項目一次回台灣正式環境。\n- 我們作了什麼  \n    - sp23/sp24/sp25/sp26/sp27\n    - 前端多語系底層架構的調整(含CDN)\n    - 國別設定\n    - 還有一大堆 Merge 解衝突的項目...\n- 為什麼要等這麼久才上線 ?  \n    風險考量，我們先上了基礎架構，  \n    在G3環境上觀察了一段時間確定沒有問題才上線。\n- 講到風險，我們有多少保險 ?  \n    - 只上基礎架構 (讓異動最小)\n    - 只上G3環境 (讓impact最小)\n    - 藍綠部署 (標配，讓壞掉的時間儘可能縮短)\n    - Merge Before Build (讓原始碼不受影響，rollback時不會拔掉其它團隊的功能)\n\n**講那麼多，還不是壞掉了。**\n\n## 錯誤原因\n\n### 錯誤畫面\n![](https://i.imgur.com/Etwq8nY.jpg)\n### 錯誤原因\n![](https://i.imgur.com/Ujy0Z4v.jpg)\n\n多語系 CDN 的 Response Header Access-Control-Allow-Origin Protocol 與主頁面不符;\n\n### 流程面\n\n| 測試環境 | 測試結果 |\n| -------- | -------- |\n| QA8     | OK     |\n| QA     | OK     |\n| PP     | OK     |\n| 鎖Host測試     | OK     |\n| 半數機器上線     | OK     |\n| 全數機器上線     | OK，好     |\n\n為什麼全數機器上線才發生異常。\n\n- QA8 沒有 CDN\n- 鎖Host/半數機器上線未開 CDN\n- QA / PP CND 設定與正式環境不一致\n    - RD 並未 Check 設定的一致性\n    - RD 沒有權限\n\n### 技術細節\n\n1. 使用 Partial View 與 OutputCache\n2. 小心 Borwser Cache \n3. 站台上會有跨Domain的存取行為\n    - Service to Official \n    - Service to CDN\n    - Official to Service\n4. CDN & Access-Control-Allow-Origin \n5. 稍微提一下 CORSModule\n\n### 錯誤原因\n![](https://i.imgur.com/GmBULAQ.jpg)\n\n    TranslationCDN : 用來防止瞬間量對 Server 的 Impact\n    FingerprintTag : 一份Cache的時戳， 用以取得新版多語系 Json 檔    \n    site : BrowserCache 遇到跨 Domain 存取時， 會發生 CORS Error\n\n1. Partial View 會有 OutputCache\n\t→ 保得了一時，保不了一世\n2. 為了 Borwser Cache ，F2E 在 QueryString 作了加工。\n3. 網站跨Domain的存取行為，歷史共業。\n4. CDN & Access-Control-Allow-Origin \n5. CorsModule，有必要區分protocol嗎 ?\n\n![](https://i.imgur.com/Dw2yIvG.jpg)\t\n\n\n```csharp=93\n//// Step3. 檢查呼叫webapi是否需要https\nif (httpContext.Request.Url.Scheme == Uri.UriSchemeHttps && (sourceUri == null || sourceUri.Scheme == Uri.UriSchemeHttps))\n{\n    allowOrigin = allowOrigin.Replace(\"http:\", \"https:\");\n}\n```\n\n### 問題處理經過\n\n1. 第一時間 QA 有看到異常， 但是在 PO 的環境無法重現 ，  \nRD 初步判斷為快取的問題， 並嚐試重現錯誤 。\n\n2. SRG 收到通報有**客戶反應**顯示異常，立即啟動藍綠部署，**耗時 93 分鐘**。  \n\n3. 縮小範圍至 CDN 與 Access-Control-Allow-Origin 異常，  \n但是仍然**無法完整重現錯誤**(時好時壞)\n\n4. **申請 CDN 權限**,確認各環境的設定值。  \n\n5. **申請 QAn 測試用CDN**,在 QA8 環境反覆測試，  \n發現**頁面 OutputCache 會影響測試**\n\n關閉QA8 OutputCache\n測試步驟如下:\n\n    - Case1. http 強制更新後，連線 https \n        - http://8.qa.demo/index?r=t\n            - ts = 2387\n            - ao = http://8.qa.demo/index\n        - http://8.qa.demo/index\n            - ts = 2387\n            - ao = http://8.qa.demo/index\n        - https://8.qa.demo/index => **Error**\n            - ts = 2387\n            - ao = http://8.qa.demo/index\n\n \n    - Case2. https 強制更新後，連線 http \n        - https://8.qa.demo/index?r=t\n            - ts = 8458\n            - ao = https://8.qa.demo/index\n        - http://8.qa.demo/index\n            - ts = 8458\n            - ao = https://8.qa.demo/index\n        - https://8.qa.demo/index => **Error**\n            - ts = 8458\n            - ao = https://8.qa.demo/index         \n\n6. 確認 Prod CDN 的 WhiteList Header 的設定有問題，\n那為什麼 PP/G3 不會有問題呢 ?\n=> **在 PP/G3 設定為 Referrer** \n\n7. 測試過程發現 x-cache Header 常常 \n`Miss from cloudfront`,  \n表示資料並非來自 CDN .\n實際測試 Origin 比 Referrer 更適合\n\n### 回饋與後續\n\n    1. 團隊評估欠缺數據 →\n    2. 客戶反應異常。\n    3. 藍綠部署異常回覆速度，耗時 93 分鐘 → `已有RD著手改善`\n    4. 無法完整重現錯誤\n    5. RD 沒有 CDN 權限 → `已申請`\n    6. QAn 沒有設定 CDN → `沒有CDN的Issue沒必要特別設定(因為需要對外)`\n    7. 頁面 OutputCache 會影響測試。\n    8. PP / G3 與 Prod  CDN設定不一致 → `webapi/transalte/* 已調整一致`\n    9. Release 三步驟 ， 最後一步才會開啟 CDN\n\nQ. 下次我們怎麼作 ?\n\n### 補充資料\n\n- 什麼是 CDN ? \n![](https://raw.githubusercontent.com/hungys/azure-blog/master/media/14-using-azure-cdn/cdn-concept.png)\n\n    Server跟CDN就像工廠與便利店的關係， 你要買東西不用跑到工廠\n    只要在離自已最近的便利店買就好了， 過期的商品(資料)會被丟掉\n    重新跟工廠進貨(拉新資料)。\n- 什麼是 [CORS](https://developer.mozilla.org/zh-TW/docs/Web/HTTP/CORS) ?\n- 什麼是 [Origin](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin) \n- 什麼是 [Referrer](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer)\n- [Slide](https://hackmd.io/p/SyFiZ2wIX#/)\n\n(fin)","source":"_posts/2018/defect_release_cors_and_cdn.md","raw":"---\ntitle: \"[異常記錄]多語系架構上線\"\ndate: 2018/08/28 14:27:21\ntag:\n  - CDN\n  - AWS\n---\n\n## 前情提要\n\n很久很久很久以前，\n【跨國語系基礎架構】上線了.  \n又過了很久很久 **我們評估這多語系API需要上 CDN**  \n![](https://i.imgur.com/0g5HL2z.jpg)\n\n### Release項目與工作內容\n\n- 8/16 要 release 什麼?  \n    我們要將多語系開始開發的項目一次回台灣正式環境。\n- 我們作了什麼  \n    - sp23/sp24/sp25/sp26/sp27\n    - 前端多語系底層架構的調整(含CDN)\n    - 國別設定\n    - 還有一大堆 Merge 解衝突的項目...\n- 為什麼要等這麼久才上線 ?  \n    風險考量，我們先上了基礎架構，  \n    在G3環境上觀察了一段時間確定沒有問題才上線。\n- 講到風險，我們有多少保險 ?  \n    - 只上基礎架構 (讓異動最小)\n    - 只上G3環境 (讓impact最小)\n    - 藍綠部署 (標配，讓壞掉的時間儘可能縮短)\n    - Merge Before Build (讓原始碼不受影響，rollback時不會拔掉其它團隊的功能)\n\n**講那麼多，還不是壞掉了。**\n\n## 錯誤原因\n\n### 錯誤畫面\n![](https://i.imgur.com/Etwq8nY.jpg)\n### 錯誤原因\n![](https://i.imgur.com/Ujy0Z4v.jpg)\n\n多語系 CDN 的 Response Header Access-Control-Allow-Origin Protocol 與主頁面不符;\n\n### 流程面\n\n| 測試環境 | 測試結果 |\n| -------- | -------- |\n| QA8     | OK     |\n| QA     | OK     |\n| PP     | OK     |\n| 鎖Host測試     | OK     |\n| 半數機器上線     | OK     |\n| 全數機器上線     | OK，好     |\n\n為什麼全數機器上線才發生異常。\n\n- QA8 沒有 CDN\n- 鎖Host/半數機器上線未開 CDN\n- QA / PP CND 設定與正式環境不一致\n    - RD 並未 Check 設定的一致性\n    - RD 沒有權限\n\n### 技術細節\n\n1. 使用 Partial View 與 OutputCache\n2. 小心 Borwser Cache \n3. 站台上會有跨Domain的存取行為\n    - Service to Official \n    - Service to CDN\n    - Official to Service\n4. CDN & Access-Control-Allow-Origin \n5. 稍微提一下 CORSModule\n\n### 錯誤原因\n![](https://i.imgur.com/GmBULAQ.jpg)\n\n    TranslationCDN : 用來防止瞬間量對 Server 的 Impact\n    FingerprintTag : 一份Cache的時戳， 用以取得新版多語系 Json 檔    \n    site : BrowserCache 遇到跨 Domain 存取時， 會發生 CORS Error\n\n1. Partial View 會有 OutputCache\n\t→ 保得了一時，保不了一世\n2. 為了 Borwser Cache ，F2E 在 QueryString 作了加工。\n3. 網站跨Domain的存取行為，歷史共業。\n4. CDN & Access-Control-Allow-Origin \n5. CorsModule，有必要區分protocol嗎 ?\n\n![](https://i.imgur.com/Dw2yIvG.jpg)\t\n\n\n```csharp=93\n//// Step3. 檢查呼叫webapi是否需要https\nif (httpContext.Request.Url.Scheme == Uri.UriSchemeHttps && (sourceUri == null || sourceUri.Scheme == Uri.UriSchemeHttps))\n{\n    allowOrigin = allowOrigin.Replace(\"http:\", \"https:\");\n}\n```\n\n### 問題處理經過\n\n1. 第一時間 QA 有看到異常， 但是在 PO 的環境無法重現 ，  \nRD 初步判斷為快取的問題， 並嚐試重現錯誤 。\n\n2. SRG 收到通報有**客戶反應**顯示異常，立即啟動藍綠部署，**耗時 93 分鐘**。  \n\n3. 縮小範圍至 CDN 與 Access-Control-Allow-Origin 異常，  \n但是仍然**無法完整重現錯誤**(時好時壞)\n\n4. **申請 CDN 權限**,確認各環境的設定值。  \n\n5. **申請 QAn 測試用CDN**,在 QA8 環境反覆測試，  \n發現**頁面 OutputCache 會影響測試**\n\n關閉QA8 OutputCache\n測試步驟如下:\n\n    - Case1. http 強制更新後，連線 https \n        - http://8.qa.demo/index?r=t\n            - ts = 2387\n            - ao = http://8.qa.demo/index\n        - http://8.qa.demo/index\n            - ts = 2387\n            - ao = http://8.qa.demo/index\n        - https://8.qa.demo/index => **Error**\n            - ts = 2387\n            - ao = http://8.qa.demo/index\n\n \n    - Case2. https 強制更新後，連線 http \n        - https://8.qa.demo/index?r=t\n            - ts = 8458\n            - ao = https://8.qa.demo/index\n        - http://8.qa.demo/index\n            - ts = 8458\n            - ao = https://8.qa.demo/index\n        - https://8.qa.demo/index => **Error**\n            - ts = 8458\n            - ao = https://8.qa.demo/index         \n\n6. 確認 Prod CDN 的 WhiteList Header 的設定有問題，\n那為什麼 PP/G3 不會有問題呢 ?\n=> **在 PP/G3 設定為 Referrer** \n\n7. 測試過程發現 x-cache Header 常常 \n`Miss from cloudfront`,  \n表示資料並非來自 CDN .\n實際測試 Origin 比 Referrer 更適合\n\n### 回饋與後續\n\n    1. 團隊評估欠缺數據 →\n    2. 客戶反應異常。\n    3. 藍綠部署異常回覆速度，耗時 93 分鐘 → `已有RD著手改善`\n    4. 無法完整重現錯誤\n    5. RD 沒有 CDN 權限 → `已申請`\n    6. QAn 沒有設定 CDN → `沒有CDN的Issue沒必要特別設定(因為需要對外)`\n    7. 頁面 OutputCache 會影響測試。\n    8. PP / G3 與 Prod  CDN設定不一致 → `webapi/transalte/* 已調整一致`\n    9. Release 三步驟 ， 最後一步才會開啟 CDN\n\nQ. 下次我們怎麼作 ?\n\n### 補充資料\n\n- 什麼是 CDN ? \n![](https://raw.githubusercontent.com/hungys/azure-blog/master/media/14-using-azure-cdn/cdn-concept.png)\n\n    Server跟CDN就像工廠與便利店的關係， 你要買東西不用跑到工廠\n    只要在離自已最近的便利店買就好了， 過期的商品(資料)會被丟掉\n    重新跟工廠進貨(拉新資料)。\n- 什麼是 [CORS](https://developer.mozilla.org/zh-TW/docs/Web/HTTP/CORS) ?\n- 什麼是 [Origin](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin) \n- 什麼是 [Referrer](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer)\n- [Slide](https://hackmd.io/p/SyFiZ2wIX#/)\n\n(fin)","slug":"2018/defect_release_cors_and_cdn","published":1,"updated":"2019-06-10T14:43:28.923Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkd001jb0vx1zsevufd","content":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>很久很久很久以前，<br>【跨國語系基礎架構】上線了.<br>又過了很久很久 <strong>我們評估這多語系API需要上 CDN</strong><br><img src=\"https://i.imgur.com/0g5HL2z.jpg\" alt></p>\n<h3 id=\"Release項目與工作內容\"><a href=\"#Release項目與工作內容\" class=\"headerlink\" title=\"Release項目與工作內容\"></a>Release項目與工作內容</h3><ul>\n<li>8/16 要 release 什麼?<br>  我們要將多語系開始開發的項目一次回台灣正式環境。</li>\n<li>我們作了什麼  <ul>\n<li>sp23/sp24/sp25/sp26/sp27</li>\n<li>前端多語系底層架構的調整(含CDN)</li>\n<li>國別設定</li>\n<li>還有一大堆 Merge 解衝突的項目…</li>\n</ul>\n</li>\n<li>為什麼要等這麼久才上線 ?<br>  風險考量，我們先上了基礎架構，<br>  在G3環境上觀察了一段時間確定沒有問題才上線。</li>\n<li>講到風險，我們有多少保險 ?  <ul>\n<li>只上基礎架構 (讓異動最小)</li>\n<li>只上G3環境 (讓impact最小)</li>\n<li>藍綠部署 (標配，讓壞掉的時間儘可能縮短)</li>\n<li>Merge Before Build (讓原始碼不受影響，rollback時不會拔掉其它團隊的功能)</li>\n</ul>\n</li>\n</ul>\n<p><strong>講那麼多，還不是壞掉了。</strong></p>\n<h2 id=\"錯誤原因\"><a href=\"#錯誤原因\" class=\"headerlink\" title=\"錯誤原因\"></a>錯誤原因</h2><h3 id=\"錯誤畫面\"><a href=\"#錯誤畫面\" class=\"headerlink\" title=\"錯誤畫面\"></a>錯誤畫面</h3><p><img src=\"https://i.imgur.com/Etwq8nY.jpg\" alt></p>\n<h3 id=\"錯誤原因-1\"><a href=\"#錯誤原因-1\" class=\"headerlink\" title=\"錯誤原因\"></a>錯誤原因</h3><p><img src=\"https://i.imgur.com/Ujy0Z4v.jpg\" alt></p>\n<p>多語系 CDN 的 Response Header Access-Control-Allow-Origin Protocol 與主頁面不符;</p>\n<h3 id=\"流程面\"><a href=\"#流程面\" class=\"headerlink\" title=\"流程面\"></a>流程面</h3><table>\n<thead>\n<tr>\n<th>測試環境</th>\n<th>測試結果</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>QA8</td>\n<td>OK</td>\n</tr>\n<tr>\n<td>QA</td>\n<td>OK</td>\n</tr>\n<tr>\n<td>PP</td>\n<td>OK</td>\n</tr>\n<tr>\n<td>鎖Host測試</td>\n<td>OK</td>\n</tr>\n<tr>\n<td>半數機器上線</td>\n<td>OK</td>\n</tr>\n<tr>\n<td>全數機器上線</td>\n<td>OK，好</td>\n</tr>\n</tbody></table>\n<p>為什麼全數機器上線才發生異常。</p>\n<ul>\n<li>QA8 沒有 CDN</li>\n<li>鎖Host/半數機器上線未開 CDN</li>\n<li>QA / PP CND 設定與正式環境不一致<ul>\n<li>RD 並未 Check 設定的一致性</li>\n<li>RD 沒有權限</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"技術細節\"><a href=\"#技術細節\" class=\"headerlink\" title=\"技術細節\"></a>技術細節</h3><ol>\n<li>使用 Partial View 與 OutputCache</li>\n<li>小心 Borwser Cache </li>\n<li>站台上會有跨Domain的存取行為<ul>\n<li>Service to Official </li>\n<li>Service to CDN</li>\n<li>Official to Service</li>\n</ul>\n</li>\n<li>CDN &amp; Access-Control-Allow-Origin </li>\n<li>稍微提一下 CORSModule</li>\n</ol>\n<h3 id=\"錯誤原因-2\"><a href=\"#錯誤原因-2\" class=\"headerlink\" title=\"錯誤原因\"></a>錯誤原因</h3><p><img src=\"https://i.imgur.com/GmBULAQ.jpg\" alt></p>\n<pre><code>TranslationCDN : 用來防止瞬間量對 Server 的 Impact\nFingerprintTag : 一份Cache的時戳， 用以取得新版多語系 Json 檔    \nsite : BrowserCache 遇到跨 Domain 存取時， 會發生 CORS Error</code></pre><ol>\n<li>Partial View 會有 OutputCache<br> → 保得了一時，保不了一世</li>\n<li>為了 Borwser Cache ，F2E 在 QueryString 作了加工。</li>\n<li>網站跨Domain的存取行為，歷史共業。</li>\n<li>CDN &amp; Access-Control-Allow-Origin </li>\n<li>CorsModule，有必要區分protocol嗎 ?</li>\n</ol>\n<p><img src=\"https://i.imgur.com/Dw2yIvG.jpg\" alt>    </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span>/ Step3. 檢查呼叫webapi是否需要https</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (httpContext.Request.Url.Scheme == Uri.UriSchemeHttps &amp;&amp; (sourceUri == <span class=\"literal\">null</span> || sourceUri.Scheme == Uri.UriSchemeHttps))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    allowOrigin = allowOrigin.Replace(<span class=\"string\">\"http:\"</span>, <span class=\"string\">\"https:\"</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"問題處理經過\"><a href=\"#問題處理經過\" class=\"headerlink\" title=\"問題處理經過\"></a>問題處理經過</h3><ol>\n<li><p>第一時間 QA 有看到異常， 但是在 PO 的環境無法重現 ，<br>RD 初步判斷為快取的問題， 並嚐試重現錯誤 。</p>\n</li>\n<li><p>SRG 收到通報有<strong>客戶反應</strong>顯示異常，立即啟動藍綠部署，<strong>耗時 93 分鐘</strong>。  </p>\n</li>\n<li><p>縮小範圍至 CDN 與 Access-Control-Allow-Origin 異常，<br>但是仍然<strong>無法完整重現錯誤</strong>(時好時壞)</p>\n</li>\n<li><p><strong>申請 CDN 權限</strong>,確認各環境的設定值。  </p>\n</li>\n<li><p><strong>申請 QAn 測試用CDN</strong>,在 QA8 環境反覆測試，<br>發現<strong>頁面 OutputCache 會影響測試</strong></p>\n</li>\n</ol>\n<p>關閉QA8 OutputCache<br>測試步驟如下:</p>\n<pre><code>- Case1. http 強制更新後，連線 https \n    - http://8.qa.demo/index?r=t\n        - ts = 2387\n        - ao = http://8.qa.demo/index\n    - http://8.qa.demo/index\n        - ts = 2387\n        - ao = http://8.qa.demo/index\n    - https://8.qa.demo/index =&gt; **Error**\n        - ts = 2387\n        - ao = http://8.qa.demo/index\n\n\n- Case2. https 強制更新後，連線 http \n    - https://8.qa.demo/index?r=t\n        - ts = 8458\n        - ao = https://8.qa.demo/index\n    - http://8.qa.demo/index\n        - ts = 8458\n        - ao = https://8.qa.demo/index\n    - https://8.qa.demo/index =&gt; **Error**\n        - ts = 8458\n        - ao = https://8.qa.demo/index         </code></pre><ol start=\"6\">\n<li><p>確認 Prod CDN 的 WhiteList Header 的設定有問題，<br>那為什麼 PP/G3 不會有問題呢 ?<br>=&gt; <strong>在 PP/G3 設定為 Referrer</strong> </p>\n</li>\n<li><p>測試過程發現 x-cache Header 常常<br><code>Miss from cloudfront</code>,  \n表示資料並非來自 CDN .<br>實際測試 Origin 比 Referrer 更適合</p>\n</li>\n</ol>\n<h3 id=\"回饋與後續\"><a href=\"#回饋與後續\" class=\"headerlink\" title=\"回饋與後續\"></a>回饋與後續</h3><pre><code>1. 團隊評估欠缺數據 →\n2. 客戶反應異常。\n3. 藍綠部署異常回覆速度，耗時 93 分鐘 → `已有RD著手改善`\n4. 無法完整重現錯誤\n5. RD 沒有 CDN 權限 → `已申請`\n6. QAn 沒有設定 CDN → `沒有CDN的Issue沒必要特別設定(因為需要對外)`\n7. 頁面 OutputCache 會影響測試。\n8. PP / G3 與 Prod  CDN設定不一致 → `webapi/transalte/* 已調整一致`\n9. Release 三步驟 ， 最後一步才會開啟 CDN</code></pre><p>Q. 下次我們怎麼作 ?</p>\n<h3 id=\"補充資料\"><a href=\"#補充資料\" class=\"headerlink\" title=\"補充資料\"></a>補充資料</h3><ul>\n<li><p>什麼是 CDN ?<br><img src=\"https://raw.githubusercontent.com/hungys/azure-blog/master/media/14-using-azure-cdn/cdn-concept.png\" alt></p>\n<p>  Server跟CDN就像工廠與便利店的關係， 你要買東西不用跑到工廠<br>  只要在離自已最近的便利店買就好了， 過期的商品(資料)會被丟掉<br>  重新跟工廠進貨(拉新資料)。</p>\n</li>\n<li><p>什麼是 <a href=\"https://developer.mozilla.org/zh-TW/docs/Web/HTTP/CORS\" target=\"_blank\" rel=\"noopener\">CORS</a> ?</p>\n</li>\n<li><p>什麼是 <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin\" target=\"_blank\" rel=\"noopener\">Origin</a> </p>\n</li>\n<li><p>什麼是 <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer\" target=\"_blank\" rel=\"noopener\">Referrer</a></p>\n</li>\n<li><p><a href=\"https://hackmd.io/p/SyFiZ2wIX#/\" target=\"_blank\" rel=\"noopener\">Slide</a></p>\n</li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>很久很久很久以前，<br>【跨國語系基礎架構】上線了.<br>又過了很久很久 <strong>我們評估這多語系API需要上 CDN</strong><br><img src=\"https://i.imgur.com/0g5HL2z.jpg\" alt></p>\n<h3 id=\"Release項目與工作內容\"><a href=\"#Release項目與工作內容\" class=\"headerlink\" title=\"Release項目與工作內容\"></a>Release項目與工作內容</h3><ul>\n<li>8/16 要 release 什麼?<br>  我們要將多語系開始開發的項目一次回台灣正式環境。</li>\n<li>我們作了什麼  <ul>\n<li>sp23/sp24/sp25/sp26/sp27</li>\n<li>前端多語系底層架構的調整(含CDN)</li>\n<li>國別設定</li>\n<li>還有一大堆 Merge 解衝突的項目…</li>\n</ul>\n</li>\n<li>為什麼要等這麼久才上線 ?<br>  風險考量，我們先上了基礎架構，<br>  在G3環境上觀察了一段時間確定沒有問題才上線。</li>\n<li>講到風險，我們有多少保險 ?  <ul>\n<li>只上基礎架構 (讓異動最小)</li>\n<li>只上G3環境 (讓impact最小)</li>\n<li>藍綠部署 (標配，讓壞掉的時間儘可能縮短)</li>\n<li>Merge Before Build (讓原始碼不受影響，rollback時不會拔掉其它團隊的功能)</li>\n</ul>\n</li>\n</ul>\n<p><strong>講那麼多，還不是壞掉了。</strong></p>\n<h2 id=\"錯誤原因\"><a href=\"#錯誤原因\" class=\"headerlink\" title=\"錯誤原因\"></a>錯誤原因</h2><h3 id=\"錯誤畫面\"><a href=\"#錯誤畫面\" class=\"headerlink\" title=\"錯誤畫面\"></a>錯誤畫面</h3><p><img src=\"https://i.imgur.com/Etwq8nY.jpg\" alt></p>\n<h3 id=\"錯誤原因-1\"><a href=\"#錯誤原因-1\" class=\"headerlink\" title=\"錯誤原因\"></a>錯誤原因</h3><p><img src=\"https://i.imgur.com/Ujy0Z4v.jpg\" alt></p>\n<p>多語系 CDN 的 Response Header Access-Control-Allow-Origin Protocol 與主頁面不符;</p>\n<h3 id=\"流程面\"><a href=\"#流程面\" class=\"headerlink\" title=\"流程面\"></a>流程面</h3><table>\n<thead>\n<tr>\n<th>測試環境</th>\n<th>測試結果</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>QA8</td>\n<td>OK</td>\n</tr>\n<tr>\n<td>QA</td>\n<td>OK</td>\n</tr>\n<tr>\n<td>PP</td>\n<td>OK</td>\n</tr>\n<tr>\n<td>鎖Host測試</td>\n<td>OK</td>\n</tr>\n<tr>\n<td>半數機器上線</td>\n<td>OK</td>\n</tr>\n<tr>\n<td>全數機器上線</td>\n<td>OK，好</td>\n</tr>\n</tbody></table>\n<p>為什麼全數機器上線才發生異常。</p>\n<ul>\n<li>QA8 沒有 CDN</li>\n<li>鎖Host/半數機器上線未開 CDN</li>\n<li>QA / PP CND 設定與正式環境不一致<ul>\n<li>RD 並未 Check 設定的一致性</li>\n<li>RD 沒有權限</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"技術細節\"><a href=\"#技術細節\" class=\"headerlink\" title=\"技術細節\"></a>技術細節</h3><ol>\n<li>使用 Partial View 與 OutputCache</li>\n<li>小心 Borwser Cache </li>\n<li>站台上會有跨Domain的存取行為<ul>\n<li>Service to Official </li>\n<li>Service to CDN</li>\n<li>Official to Service</li>\n</ul>\n</li>\n<li>CDN &amp; Access-Control-Allow-Origin </li>\n<li>稍微提一下 CORSModule</li>\n</ol>\n<h3 id=\"錯誤原因-2\"><a href=\"#錯誤原因-2\" class=\"headerlink\" title=\"錯誤原因\"></a>錯誤原因</h3><p><img src=\"https://i.imgur.com/GmBULAQ.jpg\" alt></p>\n<pre><code>TranslationCDN : 用來防止瞬間量對 Server 的 Impact\nFingerprintTag : 一份Cache的時戳， 用以取得新版多語系 Json 檔    \nsite : BrowserCache 遇到跨 Domain 存取時， 會發生 CORS Error</code></pre><ol>\n<li>Partial View 會有 OutputCache<br> → 保得了一時，保不了一世</li>\n<li>為了 Borwser Cache ，F2E 在 QueryString 作了加工。</li>\n<li>網站跨Domain的存取行為，歷史共業。</li>\n<li>CDN &amp; Access-Control-Allow-Origin </li>\n<li>CorsModule，有必要區分protocol嗎 ?</li>\n</ol>\n<p><img src=\"https://i.imgur.com/Dw2yIvG.jpg\" alt>    </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span>/ Step3. 檢查呼叫webapi是否需要https</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (httpContext.Request.Url.Scheme == Uri.UriSchemeHttps &amp;&amp; (sourceUri == <span class=\"literal\">null</span> || sourceUri.Scheme == Uri.UriSchemeHttps))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    allowOrigin = allowOrigin.Replace(<span class=\"string\">\"http:\"</span>, <span class=\"string\">\"https:\"</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"問題處理經過\"><a href=\"#問題處理經過\" class=\"headerlink\" title=\"問題處理經過\"></a>問題處理經過</h3><ol>\n<li><p>第一時間 QA 有看到異常， 但是在 PO 的環境無法重現 ，<br>RD 初步判斷為快取的問題， 並嚐試重現錯誤 。</p>\n</li>\n<li><p>SRG 收到通報有<strong>客戶反應</strong>顯示異常，立即啟動藍綠部署，<strong>耗時 93 分鐘</strong>。  </p>\n</li>\n<li><p>縮小範圍至 CDN 與 Access-Control-Allow-Origin 異常，<br>但是仍然<strong>無法完整重現錯誤</strong>(時好時壞)</p>\n</li>\n<li><p><strong>申請 CDN 權限</strong>,確認各環境的設定值。  </p>\n</li>\n<li><p><strong>申請 QAn 測試用CDN</strong>,在 QA8 環境反覆測試，<br>發現<strong>頁面 OutputCache 會影響測試</strong></p>\n</li>\n</ol>\n<p>關閉QA8 OutputCache<br>測試步驟如下:</p>\n<pre><code>- Case1. http 強制更新後，連線 https \n    - http://8.qa.demo/index?r=t\n        - ts = 2387\n        - ao = http://8.qa.demo/index\n    - http://8.qa.demo/index\n        - ts = 2387\n        - ao = http://8.qa.demo/index\n    - https://8.qa.demo/index =&gt; **Error**\n        - ts = 2387\n        - ao = http://8.qa.demo/index\n\n\n- Case2. https 強制更新後，連線 http \n    - https://8.qa.demo/index?r=t\n        - ts = 8458\n        - ao = https://8.qa.demo/index\n    - http://8.qa.demo/index\n        - ts = 8458\n        - ao = https://8.qa.demo/index\n    - https://8.qa.demo/index =&gt; **Error**\n        - ts = 8458\n        - ao = https://8.qa.demo/index         </code></pre><ol start=\"6\">\n<li><p>確認 Prod CDN 的 WhiteList Header 的設定有問題，<br>那為什麼 PP/G3 不會有問題呢 ?<br>=&gt; <strong>在 PP/G3 設定為 Referrer</strong> </p>\n</li>\n<li><p>測試過程發現 x-cache Header 常常<br><code>Miss from cloudfront</code>,  \n表示資料並非來自 CDN .<br>實際測試 Origin 比 Referrer 更適合</p>\n</li>\n</ol>\n<h3 id=\"回饋與後續\"><a href=\"#回饋與後續\" class=\"headerlink\" title=\"回饋與後續\"></a>回饋與後續</h3><pre><code>1. 團隊評估欠缺數據 →\n2. 客戶反應異常。\n3. 藍綠部署異常回覆速度，耗時 93 分鐘 → `已有RD著手改善`\n4. 無法完整重現錯誤\n5. RD 沒有 CDN 權限 → `已申請`\n6. QAn 沒有設定 CDN → `沒有CDN的Issue沒必要特別設定(因為需要對外)`\n7. 頁面 OutputCache 會影響測試。\n8. PP / G3 與 Prod  CDN設定不一致 → `webapi/transalte/* 已調整一致`\n9. Release 三步驟 ， 最後一步才會開啟 CDN</code></pre><p>Q. 下次我們怎麼作 ?</p>\n<h3 id=\"補充資料\"><a href=\"#補充資料\" class=\"headerlink\" title=\"補充資料\"></a>補充資料</h3><ul>\n<li><p>什麼是 CDN ?<br><img src=\"https://raw.githubusercontent.com/hungys/azure-blog/master/media/14-using-azure-cdn/cdn-concept.png\" alt></p>\n<p>  Server跟CDN就像工廠與便利店的關係， 你要買東西不用跑到工廠<br>  只要在離自已最近的便利店買就好了， 過期的商品(資料)會被丟掉<br>  重新跟工廠進貨(拉新資料)。</p>\n</li>\n<li><p>什麼是 <a href=\"https://developer.mozilla.org/zh-TW/docs/Web/HTTP/CORS\" target=\"_blank\" rel=\"noopener\">CORS</a> ?</p>\n</li>\n<li><p>什麼是 <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin\" target=\"_blank\" rel=\"noopener\">Origin</a> </p>\n</li>\n<li><p>什麼是 <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer\" target=\"_blank\" rel=\"noopener\">Referrer</a></p>\n</li>\n<li><p><a href=\"https://hackmd.io/p/SyFiZ2wIX#/\" target=\"_blank\" rel=\"noopener\">Slide</a></p>\n</li>\n</ul>\n<p>(fin)</p>\n"},{"title":"代碼審查與交付的戰爭ー標準、風格與原則","date":"2018-01-03T16:51:27.000Z","_content":"###### Coding Standard / Code Review / Pull Request & Delivery\n![](https://i.imgur.com/tssraf0.jpg)\n## 故事背景\n1. 團隊的部署流程是 Github Flow 與 Git Flow 混用 , 給它起個名字叫 GG Flow 好了.\n2. GG Flow 的過程需要開發人員需要透過 **Pull Request** 將修改推送給產品 \n3. 擁有權限 Merge Pull Request 的成員被叫作 Reviewer\n4. Reviewer 通常由較資深人員或部門主管擔任,所以通常有比較多的~~無用~~會議要開\n5. Reviewer 在 Merge 之前需要作 **Code Review**\n6. Reviewer 需要遵循 **Coding Standard** 作 Code Review\n\n## 實務面臨的問題與副作用\n#### Coding Standard 並不能考慮到所有狀況 \n\n1. 所以 Reviewers 會定期針對不同的狀況開會討論 Coding Standard\n    - Coding Standard 會**不定期改變** , 但是透過Reviewer佈達的方式,讓第一線的RD其實難以知道其全貌.\n    - Coding Standard 改變後不會全面的翻改程式,實務上是作到哪裡改到哪裡\n    - 以上兩點導致 Source Code 裡面有很多符合不同時期的 Coding Standard 的 Code\n    - 任一個時間點, 誰都無法保証完全符合最新的 Coding Standard \n2. 人性,開發者會~~COPY/PASTE 方法開發~~參考Legacy Code開發\n    - Legacy Code 不符合新的 Coding Standard\n    - Reviewer 也是人, 所以 Code Review 時也會疏漏,而 Merge 進去不符合新的 Coding Standard 的 Code\n    - 所以 Source Code 裡面還是有很多不同時期的 Coding Standard 的 Code\n3. 回歸一開始的問題 Coding Standard 並不能考慮到所有狀況 \n    - 還沒有開會前, 不同的 Reviewer 會有不同的想法\n    - 開會後,在執行Code Review時, 不同的 Reviewer 會有不同的作法\n    - 當一個 PR 有多人 Reviewer 時, 會有不同的意見 PR 因此被延遲 Merge\n    - 結果,**交付會變慢**.\n\n## 反思,標準還是風格？ \n\n思考一下,開發程式碼的目標與價值是什麼 ?\n寫出 Clearn Code ? \n還是交付產品 ?\n這樣子的 Source Code 真的是 Clearn Code 嗎？\n\n## 自問自答\n\n#### Q1. 我們該有標準嗎？\nA1. 當然要有標準,不過標準之所以為標準,應該有以下幾個特點. \n- 它應該要很簡單, 像是Class與欄位的命名規則\n- 它應放諸四海皆準, 不應該輕易被修改\n- 它應該可以被自動化的檢測\n假設能作到這3點, 這件事應該可以被自動化工具處理掉 . \n\n#### Q2. 實務上就是很複雜, 所以才需要討論制訂標準啊\nA2. \n在實務上遇到很複雜的情況, 大多需要依賴約定成俗方式規範.\n這是一種**風格**或**原則** ; \n簡單的分類方法, \n如果無法透過自動化工具作檢測, \n就不應該歸類為**標準**.\n\n*註:有機會再介紹自動化的檢測工具*\n\n#### Q3. **風格**或**原則**跟**標準**有何不同？\nA3. 如上所說,標準應該能被自動化,\n風格應該是團隊的文化自然形成的產物, \n具體的實作可以透過讓開發者**彼此之間作代碼審核**\n或是**結對編程**培養出屬於團隊的風格,\n風格要基於標準之上,但是不能違反原則;\n\n以下的原則可以作為參考\n- 可以建置並通過測試\n- 可讀性\n\t- self documenting\n\t- 有用的註解 \n- 公開方法要可以被測試\n\t- 小心使用靜態類別\n\t- 注意new Instance的時機\n\t- 重複的代碼應重構\n- 保持 SOLID \n\n初期的可能會發生在「{」要不要換行之類的問題上揪結之類的蠢事,  \n如果可以自動化,就把它作成標準吧…  \n如果不行的話, 就別揪結了.  \n\n實務上可能遇到各種狀況,  \n把Reviewer的權限下放到各個開發者身上,  \n或是使用結對編程,  \n就讓團隊成員去討論與決定風格.  \n\n以標準為根基,原則為天,  \n踩穩腳步,不要超出天空,  \n就讓團隊自由發揮吧. \n\n**最後,持續交付會比每兩周花一個小時開會決定Style的細節好多了. 不是嗎？**\n\n## 其它團隊分享的具體作法\n\n1. 超過一定時間就讓成員擁Merge權限\n2. Release權限仍集中控管\n3. 錯了再改就好(保持敏捷)\n4. 給pair作code review與merge (避免一人思維陷井)\n5. 兩個人無法解決時找第三方\n6. release 功能 優先於 一致的 coding standard\n7. 品質由測試管控而非 reviewer\n8. 先有測試才有重構\n9. 可讀性 優於 枝微末節的coding standard實踐\n10. 善用自動化工具( sonarqube / stylecop )\n\n(fin)\n\n##### 補充 [社群觀點](https://www.facebook.com/groups/616369245163622/permalink/1225873964213144/)\n\n- coding style一般不管的。\n- class name／variable name，一定要叫有意義的名字。\n- local scope variable，換多少行，indentation，這些是小事\n- 一個成熟的developer，隨時會被上司命令這些遠古火星文明（legacy system）去做考古工作\n- coding style這些事，就像emacs和vim之戰一樣，戰到skynet出來了也不會戰完的\n- 如果要開會去討論coding style，最終很可能讓團隊口服心不服地去跟隨我的Coding Style。\n- 在Coding Style這種低層次的小事上用光了團隊成員之間互相容忍的能量，而在更重要的大事上無法好好合作。\n- 有很多事是比Coding Style重要的。\n\t- Object Modeling是否跟business logic一致？\n\t- 還是Object有這個attribute但是根本沒在用？\n\t- Code Change是否有做好測試？\n\t- 系統架構是否合理\n\t- 有做好High-Avalibility嗎？\n\t- 有沒有Race Condition？\n- 是其是，非其非。真正有道理的，你說了對方便自然會聽下去。\n- 「Senior」是代表自己在專業上懂得比別人多，而不是比別人身份高級。","source":"_posts/2018/coding_standard_and_coding_style_and_principle.md","raw":"---\ntitle: \"代碼審查與交付的戰爭ー標準、風格與原則\"\ndate: 2018/01/04 00:51:27\ntag:\n  - Coding Standard\n---\n###### Coding Standard / Code Review / Pull Request & Delivery\n![](https://i.imgur.com/tssraf0.jpg)\n## 故事背景\n1. 團隊的部署流程是 Github Flow 與 Git Flow 混用 , 給它起個名字叫 GG Flow 好了.\n2. GG Flow 的過程需要開發人員需要透過 **Pull Request** 將修改推送給產品 \n3. 擁有權限 Merge Pull Request 的成員被叫作 Reviewer\n4. Reviewer 通常由較資深人員或部門主管擔任,所以通常有比較多的~~無用~~會議要開\n5. Reviewer 在 Merge 之前需要作 **Code Review**\n6. Reviewer 需要遵循 **Coding Standard** 作 Code Review\n\n## 實務面臨的問題與副作用\n#### Coding Standard 並不能考慮到所有狀況 \n\n1. 所以 Reviewers 會定期針對不同的狀況開會討論 Coding Standard\n    - Coding Standard 會**不定期改變** , 但是透過Reviewer佈達的方式,讓第一線的RD其實難以知道其全貌.\n    - Coding Standard 改變後不會全面的翻改程式,實務上是作到哪裡改到哪裡\n    - 以上兩點導致 Source Code 裡面有很多符合不同時期的 Coding Standard 的 Code\n    - 任一個時間點, 誰都無法保証完全符合最新的 Coding Standard \n2. 人性,開發者會~~COPY/PASTE 方法開發~~參考Legacy Code開發\n    - Legacy Code 不符合新的 Coding Standard\n    - Reviewer 也是人, 所以 Code Review 時也會疏漏,而 Merge 進去不符合新的 Coding Standard 的 Code\n    - 所以 Source Code 裡面還是有很多不同時期的 Coding Standard 的 Code\n3. 回歸一開始的問題 Coding Standard 並不能考慮到所有狀況 \n    - 還沒有開會前, 不同的 Reviewer 會有不同的想法\n    - 開會後,在執行Code Review時, 不同的 Reviewer 會有不同的作法\n    - 當一個 PR 有多人 Reviewer 時, 會有不同的意見 PR 因此被延遲 Merge\n    - 結果,**交付會變慢**.\n\n## 反思,標準還是風格？ \n\n思考一下,開發程式碼的目標與價值是什麼 ?\n寫出 Clearn Code ? \n還是交付產品 ?\n這樣子的 Source Code 真的是 Clearn Code 嗎？\n\n## 自問自答\n\n#### Q1. 我們該有標準嗎？\nA1. 當然要有標準,不過標準之所以為標準,應該有以下幾個特點. \n- 它應該要很簡單, 像是Class與欄位的命名規則\n- 它應放諸四海皆準, 不應該輕易被修改\n- 它應該可以被自動化的檢測\n假設能作到這3點, 這件事應該可以被自動化工具處理掉 . \n\n#### Q2. 實務上就是很複雜, 所以才需要討論制訂標準啊\nA2. \n在實務上遇到很複雜的情況, 大多需要依賴約定成俗方式規範.\n這是一種**風格**或**原則** ; \n簡單的分類方法, \n如果無法透過自動化工具作檢測, \n就不應該歸類為**標準**.\n\n*註:有機會再介紹自動化的檢測工具*\n\n#### Q3. **風格**或**原則**跟**標準**有何不同？\nA3. 如上所說,標準應該能被自動化,\n風格應該是團隊的文化自然形成的產物, \n具體的實作可以透過讓開發者**彼此之間作代碼審核**\n或是**結對編程**培養出屬於團隊的風格,\n風格要基於標準之上,但是不能違反原則;\n\n以下的原則可以作為參考\n- 可以建置並通過測試\n- 可讀性\n\t- self documenting\n\t- 有用的註解 \n- 公開方法要可以被測試\n\t- 小心使用靜態類別\n\t- 注意new Instance的時機\n\t- 重複的代碼應重構\n- 保持 SOLID \n\n初期的可能會發生在「{」要不要換行之類的問題上揪結之類的蠢事,  \n如果可以自動化,就把它作成標準吧…  \n如果不行的話, 就別揪結了.  \n\n實務上可能遇到各種狀況,  \n把Reviewer的權限下放到各個開發者身上,  \n或是使用結對編程,  \n就讓團隊成員去討論與決定風格.  \n\n以標準為根基,原則為天,  \n踩穩腳步,不要超出天空,  \n就讓團隊自由發揮吧. \n\n**最後,持續交付會比每兩周花一個小時開會決定Style的細節好多了. 不是嗎？**\n\n## 其它團隊分享的具體作法\n\n1. 超過一定時間就讓成員擁Merge權限\n2. Release權限仍集中控管\n3. 錯了再改就好(保持敏捷)\n4. 給pair作code review與merge (避免一人思維陷井)\n5. 兩個人無法解決時找第三方\n6. release 功能 優先於 一致的 coding standard\n7. 品質由測試管控而非 reviewer\n8. 先有測試才有重構\n9. 可讀性 優於 枝微末節的coding standard實踐\n10. 善用自動化工具( sonarqube / stylecop )\n\n(fin)\n\n##### 補充 [社群觀點](https://www.facebook.com/groups/616369245163622/permalink/1225873964213144/)\n\n- coding style一般不管的。\n- class name／variable name，一定要叫有意義的名字。\n- local scope variable，換多少行，indentation，這些是小事\n- 一個成熟的developer，隨時會被上司命令這些遠古火星文明（legacy system）去做考古工作\n- coding style這些事，就像emacs和vim之戰一樣，戰到skynet出來了也不會戰完的\n- 如果要開會去討論coding style，最終很可能讓團隊口服心不服地去跟隨我的Coding Style。\n- 在Coding Style這種低層次的小事上用光了團隊成員之間互相容忍的能量，而在更重要的大事上無法好好合作。\n- 有很多事是比Coding Style重要的。\n\t- Object Modeling是否跟business logic一致？\n\t- 還是Object有這個attribute但是根本沒在用？\n\t- Code Change是否有做好測試？\n\t- 系統架構是否合理\n\t- 有做好High-Avalibility嗎？\n\t- 有沒有Race Condition？\n- 是其是，非其非。真正有道理的，你說了對方便自然會聽下去。\n- 「Senior」是代表自己在專業上懂得比別人多，而不是比別人身份高級。","slug":"2018/coding_standard_and_coding_style_and_principle","published":1,"updated":"2018-04-17T03:12:39.583Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wke001kb0vxrjsdo5nw","content":"<h6 id=\"Coding-Standard-Code-Review-Pull-Request-amp-Delivery\"><a href=\"#Coding-Standard-Code-Review-Pull-Request-amp-Delivery\" class=\"headerlink\" title=\"Coding Standard / Code Review / Pull Request &amp; Delivery\"></a>Coding Standard / Code Review / Pull Request &amp; Delivery</h6><p><img src=\"https://i.imgur.com/tssraf0.jpg\" alt></p>\n<h2 id=\"故事背景\"><a href=\"#故事背景\" class=\"headerlink\" title=\"故事背景\"></a>故事背景</h2><ol>\n<li>團隊的部署流程是 Github Flow 與 Git Flow 混用 , 給它起個名字叫 GG Flow 好了.</li>\n<li>GG Flow 的過程需要開發人員需要透過 <strong>Pull Request</strong> 將修改推送給產品 </li>\n<li>擁有權限 Merge Pull Request 的成員被叫作 Reviewer</li>\n<li>Reviewer 通常由較資深人員或部門主管擔任,所以通常有比較多的<del>無用</del>會議要開</li>\n<li>Reviewer 在 Merge 之前需要作 <strong>Code Review</strong></li>\n<li>Reviewer 需要遵循 <strong>Coding Standard</strong> 作 Code Review</li>\n</ol>\n<h2 id=\"實務面臨的問題與副作用\"><a href=\"#實務面臨的問題與副作用\" class=\"headerlink\" title=\"實務面臨的問題與副作用\"></a>實務面臨的問題與副作用</h2><h4 id=\"Coding-Standard-並不能考慮到所有狀況\"><a href=\"#Coding-Standard-並不能考慮到所有狀況\" class=\"headerlink\" title=\"Coding Standard 並不能考慮到所有狀況\"></a>Coding Standard 並不能考慮到所有狀況</h4><ol>\n<li>所以 Reviewers 會定期針對不同的狀況開會討論 Coding Standard<ul>\n<li>Coding Standard 會<strong>不定期改變</strong> , 但是透過Reviewer佈達的方式,讓第一線的RD其實難以知道其全貌.</li>\n<li>Coding Standard 改變後不會全面的翻改程式,實務上是作到哪裡改到哪裡</li>\n<li>以上兩點導致 Source Code 裡面有很多符合不同時期的 Coding Standard 的 Code</li>\n<li>任一個時間點, 誰都無法保証完全符合最新的 Coding Standard </li>\n</ul>\n</li>\n<li>人性,開發者會<del>COPY/PASTE 方法開發</del>參考Legacy Code開發<ul>\n<li>Legacy Code 不符合新的 Coding Standard</li>\n<li>Reviewer 也是人, 所以 Code Review 時也會疏漏,而 Merge 進去不符合新的 Coding Standard 的 Code</li>\n<li>所以 Source Code 裡面還是有很多不同時期的 Coding Standard 的 Code</li>\n</ul>\n</li>\n<li>回歸一開始的問題 Coding Standard 並不能考慮到所有狀況 <ul>\n<li>還沒有開會前, 不同的 Reviewer 會有不同的想法</li>\n<li>開會後,在執行Code Review時, 不同的 Reviewer 會有不同的作法</li>\n<li>當一個 PR 有多人 Reviewer 時, 會有不同的意見 PR 因此被延遲 Merge</li>\n<li>結果,<strong>交付會變慢</strong>.</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"反思-標準還是風格？\"><a href=\"#反思-標準還是風格？\" class=\"headerlink\" title=\"反思,標準還是風格？\"></a>反思,標準還是風格？</h2><p>思考一下,開發程式碼的目標與價值是什麼 ?<br>寫出 Clearn Code ?<br>還是交付產品 ?<br>這樣子的 Source Code 真的是 Clearn Code 嗎？</p>\n<h2 id=\"自問自答\"><a href=\"#自問自答\" class=\"headerlink\" title=\"自問自答\"></a>自問自答</h2><h4 id=\"Q1-我們該有標準嗎？\"><a href=\"#Q1-我們該有標準嗎？\" class=\"headerlink\" title=\"Q1. 我們該有標準嗎？\"></a>Q1. 我們該有標準嗎？</h4><p>A1. 當然要有標準,不過標準之所以為標準,應該有以下幾個特點. </p>\n<ul>\n<li>它應該要很簡單, 像是Class與欄位的命名規則</li>\n<li>它應放諸四海皆準, 不應該輕易被修改</li>\n<li>它應該可以被自動化的檢測<br>假設能作到這3點, 這件事應該可以被自動化工具處理掉 . </li>\n</ul>\n<h4 id=\"Q2-實務上就是很複雜-所以才需要討論制訂標準啊\"><a href=\"#Q2-實務上就是很複雜-所以才需要討論制訂標準啊\" class=\"headerlink\" title=\"Q2. 實務上就是很複雜, 所以才需要討論制訂標準啊\"></a>Q2. 實務上就是很複雜, 所以才需要討論制訂標準啊</h4><p>A2.<br>在實務上遇到很複雜的情況, 大多需要依賴約定成俗方式規範.<br>這是一種<strong>風格</strong>或<strong>原則</strong> ;<br>簡單的分類方法,<br>如果無法透過自動化工具作檢測,<br>就不應該歸類為<strong>標準</strong>.</p>\n<p><em>註:有機會再介紹自動化的檢測工具</em></p>\n<h4 id=\"Q3-風格或原則跟標準有何不同？\"><a href=\"#Q3-風格或原則跟標準有何不同？\" class=\"headerlink\" title=\"Q3. 風格或原則跟標準有何不同？\"></a>Q3. <strong>風格</strong>或<strong>原則</strong>跟<strong>標準</strong>有何不同？</h4><p>A3. 如上所說,標準應該能被自動化,<br>風格應該是團隊的文化自然形成的產物,<br>具體的實作可以透過讓開發者<strong>彼此之間作代碼審核</strong><br>或是<strong>結對編程</strong>培養出屬於團隊的風格,<br>風格要基於標準之上,但是不能違反原則;</p>\n<p>以下的原則可以作為參考</p>\n<ul>\n<li>可以建置並通過測試</li>\n<li>可讀性<ul>\n<li>self documenting</li>\n<li>有用的註解 </li>\n</ul>\n</li>\n<li>公開方法要可以被測試<ul>\n<li>小心使用靜態類別</li>\n<li>注意new Instance的時機</li>\n<li>重複的代碼應重構</li>\n</ul>\n</li>\n<li>保持 SOLID </li>\n</ul>\n<p>初期的可能會發生在「{」要不要換行之類的問題上揪結之類的蠢事,<br>如果可以自動化,就把它作成標準吧…<br>如果不行的話, 就別揪結了.  </p>\n<p>實務上可能遇到各種狀況,<br>把Reviewer的權限下放到各個開發者身上,<br>或是使用結對編程,<br>就讓團隊成員去討論與決定風格.  </p>\n<p>以標準為根基,原則為天,<br>踩穩腳步,不要超出天空,<br>就讓團隊自由發揮吧. </p>\n<p><strong>最後,持續交付會比每兩周花一個小時開會決定Style的細節好多了. 不是嗎？</strong></p>\n<h2 id=\"其它團隊分享的具體作法\"><a href=\"#其它團隊分享的具體作法\" class=\"headerlink\" title=\"其它團隊分享的具體作法\"></a>其它團隊分享的具體作法</h2><ol>\n<li>超過一定時間就讓成員擁Merge權限</li>\n<li>Release權限仍集中控管</li>\n<li>錯了再改就好(保持敏捷)</li>\n<li>給pair作code review與merge (避免一人思維陷井)</li>\n<li>兩個人無法解決時找第三方</li>\n<li>release 功能 優先於 一致的 coding standard</li>\n<li>品質由測試管控而非 reviewer</li>\n<li>先有測試才有重構</li>\n<li>可讀性 優於 枝微末節的coding standard實踐</li>\n<li>善用自動化工具( sonarqube / stylecop )</li>\n</ol>\n<p>(fin)</p>\n<h5 id=\"補充-社群觀點\"><a href=\"#補充-社群觀點\" class=\"headerlink\" title=\"補充 社群觀點\"></a>補充 <a href=\"https://www.facebook.com/groups/616369245163622/permalink/1225873964213144/\" target=\"_blank\" rel=\"noopener\">社群觀點</a></h5><ul>\n<li>coding style一般不管的。</li>\n<li>class name／variable name，一定要叫有意義的名字。</li>\n<li>local scope variable，換多少行，indentation，這些是小事</li>\n<li>一個成熟的developer，隨時會被上司命令這些遠古火星文明（legacy system）去做考古工作</li>\n<li>coding style這些事，就像emacs和vim之戰一樣，戰到skynet出來了也不會戰完的</li>\n<li>如果要開會去討論coding style，最終很可能讓團隊口服心不服地去跟隨我的Coding Style。</li>\n<li>在Coding Style這種低層次的小事上用光了團隊成員之間互相容忍的能量，而在更重要的大事上無法好好合作。</li>\n<li>有很多事是比Coding Style重要的。<ul>\n<li>Object Modeling是否跟business logic一致？</li>\n<li>還是Object有這個attribute但是根本沒在用？</li>\n<li>Code Change是否有做好測試？</li>\n<li>系統架構是否合理</li>\n<li>有做好High-Avalibility嗎？</li>\n<li>有沒有Race Condition？</li>\n</ul>\n</li>\n<li>是其是，非其非。真正有道理的，你說了對方便自然會聽下去。</li>\n<li>「Senior」是代表自己在專業上懂得比別人多，而不是比別人身份高級。</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h6 id=\"Coding-Standard-Code-Review-Pull-Request-amp-Delivery\"><a href=\"#Coding-Standard-Code-Review-Pull-Request-amp-Delivery\" class=\"headerlink\" title=\"Coding Standard / Code Review / Pull Request &amp; Delivery\"></a>Coding Standard / Code Review / Pull Request &amp; Delivery</h6><p><img src=\"https://i.imgur.com/tssraf0.jpg\" alt></p>\n<h2 id=\"故事背景\"><a href=\"#故事背景\" class=\"headerlink\" title=\"故事背景\"></a>故事背景</h2><ol>\n<li>團隊的部署流程是 Github Flow 與 Git Flow 混用 , 給它起個名字叫 GG Flow 好了.</li>\n<li>GG Flow 的過程需要開發人員需要透過 <strong>Pull Request</strong> 將修改推送給產品 </li>\n<li>擁有權限 Merge Pull Request 的成員被叫作 Reviewer</li>\n<li>Reviewer 通常由較資深人員或部門主管擔任,所以通常有比較多的<del>無用</del>會議要開</li>\n<li>Reviewer 在 Merge 之前需要作 <strong>Code Review</strong></li>\n<li>Reviewer 需要遵循 <strong>Coding Standard</strong> 作 Code Review</li>\n</ol>\n<h2 id=\"實務面臨的問題與副作用\"><a href=\"#實務面臨的問題與副作用\" class=\"headerlink\" title=\"實務面臨的問題與副作用\"></a>實務面臨的問題與副作用</h2><h4 id=\"Coding-Standard-並不能考慮到所有狀況\"><a href=\"#Coding-Standard-並不能考慮到所有狀況\" class=\"headerlink\" title=\"Coding Standard 並不能考慮到所有狀況\"></a>Coding Standard 並不能考慮到所有狀況</h4><ol>\n<li>所以 Reviewers 會定期針對不同的狀況開會討論 Coding Standard<ul>\n<li>Coding Standard 會<strong>不定期改變</strong> , 但是透過Reviewer佈達的方式,讓第一線的RD其實難以知道其全貌.</li>\n<li>Coding Standard 改變後不會全面的翻改程式,實務上是作到哪裡改到哪裡</li>\n<li>以上兩點導致 Source Code 裡面有很多符合不同時期的 Coding Standard 的 Code</li>\n<li>任一個時間點, 誰都無法保証完全符合最新的 Coding Standard </li>\n</ul>\n</li>\n<li>人性,開發者會<del>COPY/PASTE 方法開發</del>參考Legacy Code開發<ul>\n<li>Legacy Code 不符合新的 Coding Standard</li>\n<li>Reviewer 也是人, 所以 Code Review 時也會疏漏,而 Merge 進去不符合新的 Coding Standard 的 Code</li>\n<li>所以 Source Code 裡面還是有很多不同時期的 Coding Standard 的 Code</li>\n</ul>\n</li>\n<li>回歸一開始的問題 Coding Standard 並不能考慮到所有狀況 <ul>\n<li>還沒有開會前, 不同的 Reviewer 會有不同的想法</li>\n<li>開會後,在執行Code Review時, 不同的 Reviewer 會有不同的作法</li>\n<li>當一個 PR 有多人 Reviewer 時, 會有不同的意見 PR 因此被延遲 Merge</li>\n<li>結果,<strong>交付會變慢</strong>.</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"反思-標準還是風格？\"><a href=\"#反思-標準還是風格？\" class=\"headerlink\" title=\"反思,標準還是風格？\"></a>反思,標準還是風格？</h2><p>思考一下,開發程式碼的目標與價值是什麼 ?<br>寫出 Clearn Code ?<br>還是交付產品 ?<br>這樣子的 Source Code 真的是 Clearn Code 嗎？</p>\n<h2 id=\"自問自答\"><a href=\"#自問自答\" class=\"headerlink\" title=\"自問自答\"></a>自問自答</h2><h4 id=\"Q1-我們該有標準嗎？\"><a href=\"#Q1-我們該有標準嗎？\" class=\"headerlink\" title=\"Q1. 我們該有標準嗎？\"></a>Q1. 我們該有標準嗎？</h4><p>A1. 當然要有標準,不過標準之所以為標準,應該有以下幾個特點. </p>\n<ul>\n<li>它應該要很簡單, 像是Class與欄位的命名規則</li>\n<li>它應放諸四海皆準, 不應該輕易被修改</li>\n<li>它應該可以被自動化的檢測<br>假設能作到這3點, 這件事應該可以被自動化工具處理掉 . </li>\n</ul>\n<h4 id=\"Q2-實務上就是很複雜-所以才需要討論制訂標準啊\"><a href=\"#Q2-實務上就是很複雜-所以才需要討論制訂標準啊\" class=\"headerlink\" title=\"Q2. 實務上就是很複雜, 所以才需要討論制訂標準啊\"></a>Q2. 實務上就是很複雜, 所以才需要討論制訂標準啊</h4><p>A2.<br>在實務上遇到很複雜的情況, 大多需要依賴約定成俗方式規範.<br>這是一種<strong>風格</strong>或<strong>原則</strong> ;<br>簡單的分類方法,<br>如果無法透過自動化工具作檢測,<br>就不應該歸類為<strong>標準</strong>.</p>\n<p><em>註:有機會再介紹自動化的檢測工具</em></p>\n<h4 id=\"Q3-風格或原則跟標準有何不同？\"><a href=\"#Q3-風格或原則跟標準有何不同？\" class=\"headerlink\" title=\"Q3. 風格或原則跟標準有何不同？\"></a>Q3. <strong>風格</strong>或<strong>原則</strong>跟<strong>標準</strong>有何不同？</h4><p>A3. 如上所說,標準應該能被自動化,<br>風格應該是團隊的文化自然形成的產物,<br>具體的實作可以透過讓開發者<strong>彼此之間作代碼審核</strong><br>或是<strong>結對編程</strong>培養出屬於團隊的風格,<br>風格要基於標準之上,但是不能違反原則;</p>\n<p>以下的原則可以作為參考</p>\n<ul>\n<li>可以建置並通過測試</li>\n<li>可讀性<ul>\n<li>self documenting</li>\n<li>有用的註解 </li>\n</ul>\n</li>\n<li>公開方法要可以被測試<ul>\n<li>小心使用靜態類別</li>\n<li>注意new Instance的時機</li>\n<li>重複的代碼應重構</li>\n</ul>\n</li>\n<li>保持 SOLID </li>\n</ul>\n<p>初期的可能會發生在「{」要不要換行之類的問題上揪結之類的蠢事,<br>如果可以自動化,就把它作成標準吧…<br>如果不行的話, 就別揪結了.  </p>\n<p>實務上可能遇到各種狀況,<br>把Reviewer的權限下放到各個開發者身上,<br>或是使用結對編程,<br>就讓團隊成員去討論與決定風格.  </p>\n<p>以標準為根基,原則為天,<br>踩穩腳步,不要超出天空,<br>就讓團隊自由發揮吧. </p>\n<p><strong>最後,持續交付會比每兩周花一個小時開會決定Style的細節好多了. 不是嗎？</strong></p>\n<h2 id=\"其它團隊分享的具體作法\"><a href=\"#其它團隊分享的具體作法\" class=\"headerlink\" title=\"其它團隊分享的具體作法\"></a>其它團隊分享的具體作法</h2><ol>\n<li>超過一定時間就讓成員擁Merge權限</li>\n<li>Release權限仍集中控管</li>\n<li>錯了再改就好(保持敏捷)</li>\n<li>給pair作code review與merge (避免一人思維陷井)</li>\n<li>兩個人無法解決時找第三方</li>\n<li>release 功能 優先於 一致的 coding standard</li>\n<li>品質由測試管控而非 reviewer</li>\n<li>先有測試才有重構</li>\n<li>可讀性 優於 枝微末節的coding standard實踐</li>\n<li>善用自動化工具( sonarqube / stylecop )</li>\n</ol>\n<p>(fin)</p>\n<h5 id=\"補充-社群觀點\"><a href=\"#補充-社群觀點\" class=\"headerlink\" title=\"補充 社群觀點\"></a>補充 <a href=\"https://www.facebook.com/groups/616369245163622/permalink/1225873964213144/\" target=\"_blank\" rel=\"noopener\">社群觀點</a></h5><ul>\n<li>coding style一般不管的。</li>\n<li>class name／variable name，一定要叫有意義的名字。</li>\n<li>local scope variable，換多少行，indentation，這些是小事</li>\n<li>一個成熟的developer，隨時會被上司命令這些遠古火星文明（legacy system）去做考古工作</li>\n<li>coding style這些事，就像emacs和vim之戰一樣，戰到skynet出來了也不會戰完的</li>\n<li>如果要開會去討論coding style，最終很可能讓團隊口服心不服地去跟隨我的Coding Style。</li>\n<li>在Coding Style這種低層次的小事上用光了團隊成員之間互相容忍的能量，而在更重要的大事上無法好好合作。</li>\n<li>有很多事是比Coding Style重要的。<ul>\n<li>Object Modeling是否跟business logic一致？</li>\n<li>還是Object有這個attribute但是根本沒在用？</li>\n<li>Code Change是否有做好測試？</li>\n<li>系統架構是否合理</li>\n<li>有做好High-Avalibility嗎？</li>\n<li>有沒有Race Condition？</li>\n</ul>\n</li>\n<li>是其是，非其非。真正有道理的，你說了對方便自然會聽下去。</li>\n<li>「Senior」是代表自己在專業上懂得比別人多，而不是比別人身份高級。</li>\n</ul>\n"},{"title":"[生活瑣事]徵工讀生有感","date":"2018-07-02T07:31:23.000Z","_content":"\n## 原文\n\n開發團隊需要找 二名工讀生， 請幫忙問問家裡有沒有專科大學含以上的小朋友， \n有興趣來公司實習的， 條件可以到公司再談\n\n我們希望你\n- 對電子商務有興趣、有熱忱， 喜歡解決問題\n- 樂於溝通與分享\n- 喜歡團隊合作\n\n工作內容\n* 協助專案開發， 修改前端 Javascript/CSS， HTML頁面調整\n* 協助頁面功能測試\n\n條件\n1. 熟悉HTML(接觸過JavaScript，CSS佳）\n2. 接觸過任意後端程式語言(C#，ASP。NET MVC佳）\n3. 具備網頁應用程式開發的概念或經驗佳\n4. 暑假期間7/1 ~ 8/31， 上班時間， 09:00 ~ 18:00 (edited)\n\n## 心得\n一眨眼也工作十年了，不說自已，  \n身邊年輕的朋友也不是小朋友了;  \n各種意義上也沒有小朋友;  \n視茫茫，髮蒼蒼，齒牙動搖;  \n身體平安，惟膀子疼痛厲害，轉身射門，諸多不便。\n\n## 補充\n1. 薪資會優於勞基法加面議。\n2. 95% 的信賴區間下,可能會落在 150 左右,正負6個百分點。\n\n(fin)","source":"_posts/2018/find_intern.md","raw":"---\ntitle: \"[生活瑣事]徵工讀生有感\"\ndate: 2018/07/02 15:31:23\n---\n\n## 原文\n\n開發團隊需要找 二名工讀生， 請幫忙問問家裡有沒有專科大學含以上的小朋友， \n有興趣來公司實習的， 條件可以到公司再談\n\n我們希望你\n- 對電子商務有興趣、有熱忱， 喜歡解決問題\n- 樂於溝通與分享\n- 喜歡團隊合作\n\n工作內容\n* 協助專案開發， 修改前端 Javascript/CSS， HTML頁面調整\n* 協助頁面功能測試\n\n條件\n1. 熟悉HTML(接觸過JavaScript，CSS佳）\n2. 接觸過任意後端程式語言(C#，ASP。NET MVC佳）\n3. 具備網頁應用程式開發的概念或經驗佳\n4. 暑假期間7/1 ~ 8/31， 上班時間， 09:00 ~ 18:00 (edited)\n\n## 心得\n一眨眼也工作十年了，不說自已，  \n身邊年輕的朋友也不是小朋友了;  \n各種意義上也沒有小朋友;  \n視茫茫，髮蒼蒼，齒牙動搖;  \n身體平安，惟膀子疼痛厲害，轉身射門，諸多不便。\n\n## 補充\n1. 薪資會優於勞基法加面議。\n2. 95% 的信賴區間下,可能會落在 150 左右,正負6個百分點。\n\n(fin)","slug":"2018/find_intern","published":1,"updated":"2019-06-10T14:43:28.922Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkg001lb0vxkreeyovh","content":"<h2 id=\"原文\"><a href=\"#原文\" class=\"headerlink\" title=\"原文\"></a>原文</h2><p>開發團隊需要找 二名工讀生， 請幫忙問問家裡有沒有專科大學含以上的小朋友，<br>有興趣來公司實習的， 條件可以到公司再談</p>\n<p>我們希望你</p>\n<ul>\n<li>對電子商務有興趣、有熱忱， 喜歡解決問題</li>\n<li>樂於溝通與分享</li>\n<li>喜歡團隊合作</li>\n</ul>\n<p>工作內容</p>\n<ul>\n<li>協助專案開發， 修改前端 Javascript/CSS， HTML頁面調整</li>\n<li>協助頁面功能測試</li>\n</ul>\n<p>條件</p>\n<ol>\n<li>熟悉HTML(接觸過JavaScript，CSS佳）</li>\n<li>接觸過任意後端程式語言(C#，ASP。NET MVC佳）</li>\n<li>具備網頁應用程式開發的概念或經驗佳</li>\n<li>暑假期間7/1 ~ 8/31， 上班時間， 09:00 ~ 18:00 (edited)</li>\n</ol>\n<h2 id=\"心得\"><a href=\"#心得\" class=\"headerlink\" title=\"心得\"></a>心得</h2><p>一眨眼也工作十年了，不說自已，<br>身邊年輕的朋友也不是小朋友了;<br>各種意義上也沒有小朋友;<br>視茫茫，髮蒼蒼，齒牙動搖;<br>身體平安，惟膀子疼痛厲害，轉身射門，諸多不便。</p>\n<h2 id=\"補充\"><a href=\"#補充\" class=\"headerlink\" title=\"補充\"></a>補充</h2><ol>\n<li>薪資會優於勞基法加面議。</li>\n<li>95% 的信賴區間下,可能會落在 150 左右,正負6個百分點。</li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"原文\"><a href=\"#原文\" class=\"headerlink\" title=\"原文\"></a>原文</h2><p>開發團隊需要找 二名工讀生， 請幫忙問問家裡有沒有專科大學含以上的小朋友，<br>有興趣來公司實習的， 條件可以到公司再談</p>\n<p>我們希望你</p>\n<ul>\n<li>對電子商務有興趣、有熱忱， 喜歡解決問題</li>\n<li>樂於溝通與分享</li>\n<li>喜歡團隊合作</li>\n</ul>\n<p>工作內容</p>\n<ul>\n<li>協助專案開發， 修改前端 Javascript/CSS， HTML頁面調整</li>\n<li>協助頁面功能測試</li>\n</ul>\n<p>條件</p>\n<ol>\n<li>熟悉HTML(接觸過JavaScript，CSS佳）</li>\n<li>接觸過任意後端程式語言(C#，ASP。NET MVC佳）</li>\n<li>具備網頁應用程式開發的概念或經驗佳</li>\n<li>暑假期間7/1 ~ 8/31， 上班時間， 09:00 ~ 18:00 (edited)</li>\n</ol>\n<h2 id=\"心得\"><a href=\"#心得\" class=\"headerlink\" title=\"心得\"></a>心得</h2><p>一眨眼也工作十年了，不說自已，<br>身邊年輕的朋友也不是小朋友了;<br>各種意義上也沒有小朋友;<br>視茫茫，髮蒼蒼，齒牙動搖;<br>身體平安，惟膀子疼痛厲害，轉身射門，諸多不便。</p>\n<h2 id=\"補充\"><a href=\"#補充\" class=\"headerlink\" title=\"補充\"></a>補充</h2><ol>\n<li>薪資會優於勞基法加面議。</li>\n<li>95% 的信賴區間下,可能會落在 150 左右,正負6個百分點。</li>\n</ol>\n<p>(fin)</p>\n"},{"title":"[翻譯]C# 的常見錯誤","date":"2018-02-11T18:12:47.000Z","_content":"## 出處\n\n<http://www.dotnetcurry.com/csharp/1417/csharp-common-mistakes>\n\n## 線上工具\n\n<https://dotnetfiddle.net>\n\n## 引言\n\nC#是個好棒棒的言語,但是它仍會有超乎你想像的行為,  \n而且就算你是有經驗的開發者,你也要看一看這篇文章.  \n這篇文章不講幹話,還會給你代碼喔  \n\n![C# Quiz](https://i.imgur.com/wXjvug6.jpg)\n\n### Null Value\n\nNull 很危險啦, 你別在 Null 身上調用方法  \n(譯注:在公司的維運人員應該還蠻常見這個錯誤的 一ω一)  \n\n> We are all aware that null values can be dangerous, if not handled properly.  \n> Dereferencing a null-valued variable (i.e. calling a method on it or accessing one of its properties)  \n> will result in a NullReferenceException, as demonstrated with the following sample code:  \n\n```csharp\nobject nullValue = null;\nbool areNullValuesEqual = nullValue.Equals(null);\n```\n\n就安全的角度,好像我們要不停的檢查 reference type 是不是 null ,  \n雖然這件事常常發生,好像也很難說成是非預期的行為了...  \n(譯注:又有種中槍的感覺)  \n\n> To be on the safer side, we should always make sure that reference type values are not null before dereferencing them.  \n> Failing to do so could result in an unhandled exception in a specific edge case.  \n> Although such a mistake occasionally happens to everyone, we could hardly call it unexpected behavior.  \n\n看看這個代碼, null 值在 runtime 的時候不會有 type 的  \n\n```csharp\nstring nullString = (string)null;\nbool isStringType = nullString is string;\n```\n\n**No**, null 值在 runtime 的時候不會有 type 的  \n**No**, null 值在 runtime 的時候不會有 type 的  \n**No**, null 值在 runtime 的時候不會有 type 的  \n很重要所以說三次,  \n當然你也別想呼叫 `GetType()` 方法  \n\n> The correct answer is **No**.  \n>\n> A null value has no type at runtime.  \n>\n> In a way, this also affects reflection.  \n> Of course, you can’t call GetType() on a null value because a NullReferenceException would get thrown:  \n\n```csharp\nobject nullValue = null;\nType nullType = nullValue.GetType();\n```\n\n純量呢？\n\n```csharp\nint intValue = 5;\nNullable<int> nullableIntValue = 5;\nbool areTypesEqual = intValue.GetType() == nullableIntValue.GetType();\n```\n\n那我們可不可能用反射(reflection)區分 nullable 跟 non-nullable 的值？  \n答案是不可能, 看看後面的代碼  \n\n> Is it possible to distinguish between a nullable and a non-nullable value type using reflection?  \n>\n> The answer is **No**.  \n>\n> The same type will be returned for both variables in the above code: System.Int32.  \n> This does not mean that reflection has no representation for Nullable<T>, though.  \n\n```csharp\nType intType = typeof(int);\nType nullableIntType = typeof(Nullable<int>);\nbool areTypesEqual = intType == nullableIntType;\n```\n\n上面兩段程式在runtime拿到的type很不一樣喔,  \n一個是`System.Int32`一個是 `System.Nullable'1\\[System.Int32\\]`  \n\n### 當 null 遇上多載方法 (Handling Null values in Overloaded methods)\n\n```csharp\nprivate string OverloadedMethod(object arg)\n{\n    return \"object parameter\";\n}\n\nprivate string OverloadedMethod(string arg)\n{\n    return \"string parameter\";\n}\n```\n\n上面有兩個`OverloadedMethod`  \n猜猜看,傳入 null 時會呼叫哪一個方法？  \n\n```csharp\nvar result = OverloadedMethod(null);\n```\n\n有人會猜編譯失敗嗎？\nMAGIC ! 竟然可以編譯成功, 而回傳的值是 **\"string parameter\"** ,  \n一般來說,在編譯時期會作型別檢查,相同簽章的方法參數可以被轉型成另一個型別時,是可以編譯成功的喔.  \n而有明確型別的方法將被優先調用(譯注:求這段.Net Framework的原碼來看一下,知道的人請告訴我)  \n\n如果要指定 null 參數呼叫的多載方法就要對 null 轉型唷,可以參考下面的方法.  \n\n```csharp\nvar result = OverloadedMethod((object)null);\n```\n\n### 算術運算 (Arithmetic Operations)\n\n好像很少用位移運算吼？  \n回憶一下 左移移 右移移  \n\n```csharp\nvar shifted = 0b1 << 1; // = 0b10\n```\n\n```csharp\nvar shifted = 0b1 >> 1; // = 0b0\n```\n\nbits 跑到底並不會重頭開始喔,一直移位到爆掉就變 0 了.  \n(這裡會用32是因為 int 是32bit的數值,你可以試試放超過32的數值到for loop裡會發生什麼事)  \n\n> The bits don’t wrap around when they reach the end.  \n> That’s why the result of the second expression is 0.  \n> The same would happen if we shifted the bit far enough to the left (32 bits because integer is a 32-bit number):  \n\n```csharp\nvar shifted = 0b1;\nfor (int i = 0; i < 32; i++)\n{\nshifted = shifted << 1;\n}\n```\n\n> The result would again be 0.  \n\n那我們是不是可以一次移32bit,讓它一次變成0呢？  \n靠北啊 竟然不行捏, 你只會拿到 1,  \n這跟運算子(operator)基本運算有關,在作位元運算的時候,  \n會拿第一個運算數除以第二個運算數後取餘數,  \n這導致我們只會拿 32 % 32 的結果 , 也就是 1 啦  \n(譯注:這段其實我不是很確定,如果錯誤請糾正)  \n\n> However, the bit shifting operators have a second operand.  \n> Instead of shifting to the left by 1 bit 32 times, we can shift left by 32 bits and get the same result.  \n\n```csharp\nvar shifted = 0b1 << 32;\n```\n\n> Right? **Wrong.**  \n>\n> The result of this expression will be 1. Why?  \n>\n> Because that’s how the operator is defined. Before applying the operation,  \n> the second operand will be normalized to the bit length of the first operand with the modulo operation,  \n> i.e. by calculating the remainder of dividing the second operand by the bit length of the first operand.  \n>\n> The first operand in the example we just saw was a 32-bit number, hence: 32 % 32 = 0.  \n> Our number will be shifted left by 0 bits. That’s not the same as shifting it left by 1 bit 32 times.  \n\n好棒棒 你竟然可以看到這裡,  \n那我們繼續討論 & (and) 跟 | (or) 運算子吧,  \n這兩個運算子跟一般的運算子有點不一樣  \n\n- 通常只要看運算子的第一個運算數就能得知結果  \n- 在有掛 [Flag] atturibute的列舉它們好好用(看一下範例)  \n\n```csharp\n[Flags]\nprivate enum Colors\n{\n    None = 0b0,\n    Red = 0b1,\n    Green = 0b10,\n    Blue = 0b100\n}\n```\n\n```csharp\nColors color = Colors.Red | Colors.Green;\nbool isRed = (color & Colors.Red) == Colors.Red;\n```\n\n上面這個刮號可不能省略喔, 因為(&)運算符的優先順序低於(==)運算符,  \n不過這段程式沒有刮號的話連編譯都不會過,真是好加在  \n另外在 .NET framework 4.0 之後的版本提供更棒的方法去檢查flags  \n\n```csharp\nbool isRed = color.HasFlag(Colors.Red);\n```\n\n### Math.Round()\n\n猜一下這個值會是多少？  \n\n```csharp\nvar rounded = Math.Round(1.5);\n```\n\n猜2的就答對了, 下一題  \n猜一下這個值會是多少？  \n\n```csharp\nvar rounded = Math.Round(2.5);\n```\n\n還是2 ,\n因為預設會取最接近的偶數\n\n> **No.** The result will be 2 again. By default,  \n> the midpoint value will be rounded to the nearest even value.  \n> You could provide the second argument to the method to request such behavior explicitly:  \n\n```csharp\nvar rounded = Math.Round(2.5, MidpointRounding.ToEven);\n```\n\n這個行為可以透過`MidpointRounding`參數改變  \n\n```csharp\nvar rounded = Math.Round(2.5, MidpointRounding.AwayFromZero);\n```\n\n另外要小心浮點數的精度問題,  \n以下的例子結果會是1,( 因為float的0.1實際上小於0.1 一ω一 )  \n這提醒我們在處理精確數值時,應轉換成整數處理.  \n(譯注:使用 [dotnetfiddle](https://dotnetfiddle.net) 時並不會有這個問題, 在windows 環境下測試的確會有問題)  \n\n```csharp\nvar value = 1.4f;\n\nvar rounded = Math.Round(value + 0.1f);\n```\n\n### 類別初始化\n\n最佳實踐建我我們應該避免在建構子初始化類別,\n特別是靜態建構子.\n在初始化一個類別的順序如下\n\n1. 靜態欄位\n2. 靜態建構子\n3. 實體欄位\n4. 實體建構子\n\n看看這個例子\n\n```csharp\npublic static class Config\n{\n    public static bool ThrowException { get; set; } = true;\n}\n\npublic class FailingClass\n{\n    static FailingClass()\n    {\n        if (Config.ThrowException)\n        {\n            throw new InvalidOperationException();\n        }\n    }\n}\n```\n\n當我們嚐試實例化FailingClass時,你會得到Exception;  \n值得注意的事,你拿到的會是`TypeInitializationException`  \n而並不是`InvalidOperationException`,  \n\n那麼我們是不是可以試著透過try catch補捉錯誤,  \n並修改靜態屬性,重新實體化class呢？\n**答案是不行**\n\n一個靜態建構值,如果它拋出一個異常,  \n那麼無論何時你想創建一個實例或以任何其他方式訪問這個類,  \n這個異常都會被重新拋出.  \n\n```csharp\ntry\n{\n    var failedInstance = new FailingClass();\n}\ncatch (TypeInitializationException) { }\nConfig.ThrowException = false;\nvar instance = new FailingClass();\n```\n\n這個類別在程序重啟前是不能再被使用了(會拋出錯誤),  \n這在 C# 是個非常糟糕的實踐,  \n千萬別這樣設計你的類別.  \n\n> The static constructor for a class is only called once.\n> If it throws an exception, then this exception will be rethrown  \n> whenever you want to create an instance or access the class in any other way.  \n>\n> The class becomes effectively unusable until the process (or the application domain) is restarted.  \n> Yes, having even a minuscule chance that the  \n> static constructor will throw an exception, is a very bad idea.  \n\n#### 繼承與類別初始化\n\n繼承的類別初始化執行順序更加複雜,看看下面的例子\n\n```csharp\npublic class BaseClass\n{\n    public BaseClass()\n    {\n        VirtualMethod(1);\n    }\n\n    public virtual int VirtualMethod(int dividend)\n    {\n        return dividend / 1;\n    }\n}\n\npublic class DerivedClass : BaseClass\n{\n    int divisor;\n    public DerivedClass()\n    {\n        divisor = 1;\n    }\n\n    public override int VirtualMethod(int dividend)\n    {\n        return base.VirtualMethod(dividend / divisor);\n    }\n}\n```\n\n當我們初始化 DerivedClass\n\n```csharp\nvar instance = new DerivedClass();\n```\n\n你會得到一個除0的錯誤 `DivideByZeroException`  \n這與執行順序有關\n\n1. 呼叫 BaseClass 建構子\n2. 執行 DerivedClass VirtualMethod (overrid BaseClass)\n3. divisor 未賦值拋出 `DivideByZeroException`\n\n## 多形 Polymorphism\n\n這個例子只是要說明多形的概念與應用,  \n你可以透過轉形呼叫基底類別的方法.  \n\n```csharp\nvar instance = new DerivedClass();\nvar result = instance.Method(); // -> Method in DerivedClass\nresult = ((BaseClass)instance).Method(); // -> Method in BaseClass\n// The correct answer is: by using the new modifier.\n\npublic class BaseClass\n{\n    public virtual string Method()\n    {\n        return \"Method in BaseClass \";\n    }\n}\n\npublic class DerivedClass : BaseClass\n{\n    public new string Method()\n    {\n        return \"Method in DerivedClass\";\n    }\n}\n```\n\n> It’s typically used to hide the interface methods from the consumers of the class implementing it,\n> unless they cast the instance to that interface.\n> But it works just as well if we want to have two different implementations of a method inside a single class.\n> It’s difficult to think of a good reason for doing it, though.\n\n另外一個例子是明確實作介面方法,  \n如果你的類別已經有同名的方法的話.  \n雖然沒有什麼好理由建議你這樣作.\n(譯注:實務上我有在遇到歷史共業這樣作過...)  \n\n```csharp\nvar instance = new DerivedClass();\nvar result = instance.Method(); // -> Method in DerivedClass\nresult = ((IInterface)instance).Method(); // -> Method belonging to IInterface\nIt’s explicit interface implementation.\n\npublic interface IInterface\n{\n    string Method();\n}\n\npublic class DerivedClass : IInterface\n{\n    public string Method()\n    {\n        return \"Method in DerivedClass\";\n    }\n\n    string IInterface.Method()\n    {\n        return \"Method belonging to IInterface\";\n    }\n}\n\n```\n\n## 迭代器 Iterators\n\n小心 Iterators 的陷阱\n看看以下[代碼](https://dotnetfiddle.net/BxfF0d):\n\n```csharp\nprivate IEnumerable<int> GetEnumerable(StringBuilder log)\n{\n    using (var context = new Context(log))\n    {\n        return Enumerable.Range(1, 5);\n    }\n}\n\n```\n\n```csharp\npublic class Context : IDisposable\n{\n    private readonly StringBuilder log;\n\n    public Context(StringBuilder log)\n    {\n        this.log = log;\n        this.log.AppendLine(\"Context created\");\n    }\n\n    public void Dispose()\n    {\n        this.log.AppendLine(\"Context disposed\");\n    }\n}\n```\n\n假設我們 foreach 呼叫 GetEnumerable 方法,  \n你預期 Context 類別會有什麼樣的行為？  \n我們會印出以下的output嗎？\n\n> Context created\n> 1\n> 2\n> 3\n> 4\n> 5\n> Context disposed\n\n```csharp\nvar log = new StringBuilder();\nforeach (var number in GetEnumerable(log))\n{\n    log.AppendLine($\"{number}\");\n}\n```\n\n不是的,  \n實際上印出的是\n\n> Context created\n> Context disposed\n> 1\n> 2\n> 3\n> 4\n> 5\n\n這點很重要,  \n因為實務上你很有可能 using dbconnetion 之類的物件,  \n那麼你在取得真正的資料之前,  \n你的連線就已經中斷了\n\n> This means that in our real world database example, the code would fail –  \n> the connection would be closed before the values could be read from the database.\n\n看看以下的[修正](https://dotnetfiddle.net/IgJaak)\n\n```csharp\nprivate IEnumerable<int> GetEnumerable(StringBuilder log)\n{\n    using (var context = new Context(log))\n    {\n        foreach (var i in Enumerable.Range(1, 5))\n        {\n            yield return i;\n        }\n    }\n}\n```\n\n譯注:看到這裡對 `yield return` 的使用情境才比較有感啊...\n\n如果你不太熟`yield return`,其實它只是個語法糖,允許增量執行,  \n參考以下範例,或許能更容易理解\n\n```csharp\nprivate IEnumerable<int> GetCustomEnumerable(StringBuilder log)\n{\n    log.AppendLine(\"before 1\");\n    yield return 1;\n    log.AppendLine(\"before 2\");\n    yield return 2;\n    log.AppendLine(\"before 3\");\n    yield return 3;\n    log.AppendLine(\"before 4\");\n    yield return 4;\n    log.AppendLine(\"before 5\");\n    yield return 5;\n    log.AppendLine(\"before end\");\n}\n```\n\n```csharp\nvar log = new StringBuilder();\nlog.AppendLine(\"before enumeration\");\nforeach (var number in GetCustomEnumerable(log))\n{\n    log.AppendLine($\"{number}\");\n}\nlog.AppendLine(\"after enumeration\");\n```\n\n> before enumeration\n> before 1\n> 1\n> before 2\n> 2\n> before 3\n> 3\n> before 4\n> 4\n> before 5\n> 5\n> before end\n> after enumeration\n\n值得注意的事, 如果你在loop當中重複執行以上的代碼,  \n那麼 Iterators 也會重複執行\n\n```csharp\nvar log = new StringBuilder();\nvar enumerable = GetCustomEnumerable(log);\nfor (int i = 1; i <= 2; i++)\n{\n    log.AppendLine($\"enumeration #{i}\");\n    foreach (var number in enumerable)\n    {\n        log.AppendLine($\"{number}\");\n    }\n}\n```\n\n輸出如下,可以明顯看到 `GetCustomEnumerable` 方法,  \n實際上被隱含的執行了兩次,  \n這在 Code Review 的階段也是難以被察覺的.\n\n> enumeration #1\n> before 1\n> 1\n> before 2\n> 2\n> before 3\n> 3\n> before 4\n> 4\n> before 5\n> 5\n> before end\n> enumeration #2\n> before 1\n> 1\n> before 2\n> 2\n> before 3\n> 3\n> before 4\n> 4\n> before 5\n> 5\n> before end\n\n比較好的作法是將 `IEnumerable` ToList(),\n如果你真的需要對 `IEnumerable` 的結果作 loop 的操作\n\n```csharp\nvar log = new StringBuilder();\nvar enumerable = GetCustomEnumerable(log).ToList();\nfor (int i = 1; i <= 2; i++)\n{\n    log.AppendLine($\"enumeration #{i}\");\n    foreach (var number in enumerable)\n    {\n        log.AppendLine($\"{number}\");\n    }\n}\n```\n\n輸出結果\n\n> before 1\n> before 2\n> before 3\n> before 4\n> before 5\n> before end\n> enumeration #1\n> 1\n> 2\n> 3\n> 4\n> 5\n> enumeration #2\n> 1\n> 2\n> 3\n> 4\n> 5\n\n## 譯者小結\n\n如果真的能夠預期所有的行為的開發人員,  \n真的是好棒棒,  \n對我來說 static class constructor 的行為是超乎預期的,  \n然後對 `yield return` 的使用場景更有感覺了.  \n本來預計農曆年就可以完成的翻譯,  \n竟然也拖了這麼久,看來我英文還是不行啊.\n\n希望對大家有幫助,也請多多看原文 :)\n\n(fin)\n","source":"_posts/2018/csharp_common_mistakes_1.md","raw":"---\ntitle: \"[翻譯]C# 的常見錯誤\"\ndate: 2018/02/12 02:12:47\ntag:\n  - .Net Framework\n---\n## 出處\n\n<http://www.dotnetcurry.com/csharp/1417/csharp-common-mistakes>\n\n## 線上工具\n\n<https://dotnetfiddle.net>\n\n## 引言\n\nC#是個好棒棒的言語,但是它仍會有超乎你想像的行為,  \n而且就算你是有經驗的開發者,你也要看一看這篇文章.  \n這篇文章不講幹話,還會給你代碼喔  \n\n![C# Quiz](https://i.imgur.com/wXjvug6.jpg)\n\n### Null Value\n\nNull 很危險啦, 你別在 Null 身上調用方法  \n(譯注:在公司的維運人員應該還蠻常見這個錯誤的 一ω一)  \n\n> We are all aware that null values can be dangerous, if not handled properly.  \n> Dereferencing a null-valued variable (i.e. calling a method on it or accessing one of its properties)  \n> will result in a NullReferenceException, as demonstrated with the following sample code:  \n\n```csharp\nobject nullValue = null;\nbool areNullValuesEqual = nullValue.Equals(null);\n```\n\n就安全的角度,好像我們要不停的檢查 reference type 是不是 null ,  \n雖然這件事常常發生,好像也很難說成是非預期的行為了...  \n(譯注:又有種中槍的感覺)  \n\n> To be on the safer side, we should always make sure that reference type values are not null before dereferencing them.  \n> Failing to do so could result in an unhandled exception in a specific edge case.  \n> Although such a mistake occasionally happens to everyone, we could hardly call it unexpected behavior.  \n\n看看這個代碼, null 值在 runtime 的時候不會有 type 的  \n\n```csharp\nstring nullString = (string)null;\nbool isStringType = nullString is string;\n```\n\n**No**, null 值在 runtime 的時候不會有 type 的  \n**No**, null 值在 runtime 的時候不會有 type 的  \n**No**, null 值在 runtime 的時候不會有 type 的  \n很重要所以說三次,  \n當然你也別想呼叫 `GetType()` 方法  \n\n> The correct answer is **No**.  \n>\n> A null value has no type at runtime.  \n>\n> In a way, this also affects reflection.  \n> Of course, you can’t call GetType() on a null value because a NullReferenceException would get thrown:  \n\n```csharp\nobject nullValue = null;\nType nullType = nullValue.GetType();\n```\n\n純量呢？\n\n```csharp\nint intValue = 5;\nNullable<int> nullableIntValue = 5;\nbool areTypesEqual = intValue.GetType() == nullableIntValue.GetType();\n```\n\n那我們可不可能用反射(reflection)區分 nullable 跟 non-nullable 的值？  \n答案是不可能, 看看後面的代碼  \n\n> Is it possible to distinguish between a nullable and a non-nullable value type using reflection?  \n>\n> The answer is **No**.  \n>\n> The same type will be returned for both variables in the above code: System.Int32.  \n> This does not mean that reflection has no representation for Nullable<T>, though.  \n\n```csharp\nType intType = typeof(int);\nType nullableIntType = typeof(Nullable<int>);\nbool areTypesEqual = intType == nullableIntType;\n```\n\n上面兩段程式在runtime拿到的type很不一樣喔,  \n一個是`System.Int32`一個是 `System.Nullable'1\\[System.Int32\\]`  \n\n### 當 null 遇上多載方法 (Handling Null values in Overloaded methods)\n\n```csharp\nprivate string OverloadedMethod(object arg)\n{\n    return \"object parameter\";\n}\n\nprivate string OverloadedMethod(string arg)\n{\n    return \"string parameter\";\n}\n```\n\n上面有兩個`OverloadedMethod`  \n猜猜看,傳入 null 時會呼叫哪一個方法？  \n\n```csharp\nvar result = OverloadedMethod(null);\n```\n\n有人會猜編譯失敗嗎？\nMAGIC ! 竟然可以編譯成功, 而回傳的值是 **\"string parameter\"** ,  \n一般來說,在編譯時期會作型別檢查,相同簽章的方法參數可以被轉型成另一個型別時,是可以編譯成功的喔.  \n而有明確型別的方法將被優先調用(譯注:求這段.Net Framework的原碼來看一下,知道的人請告訴我)  \n\n如果要指定 null 參數呼叫的多載方法就要對 null 轉型唷,可以參考下面的方法.  \n\n```csharp\nvar result = OverloadedMethod((object)null);\n```\n\n### 算術運算 (Arithmetic Operations)\n\n好像很少用位移運算吼？  \n回憶一下 左移移 右移移  \n\n```csharp\nvar shifted = 0b1 << 1; // = 0b10\n```\n\n```csharp\nvar shifted = 0b1 >> 1; // = 0b0\n```\n\nbits 跑到底並不會重頭開始喔,一直移位到爆掉就變 0 了.  \n(這裡會用32是因為 int 是32bit的數值,你可以試試放超過32的數值到for loop裡會發生什麼事)  \n\n> The bits don’t wrap around when they reach the end.  \n> That’s why the result of the second expression is 0.  \n> The same would happen if we shifted the bit far enough to the left (32 bits because integer is a 32-bit number):  \n\n```csharp\nvar shifted = 0b1;\nfor (int i = 0; i < 32; i++)\n{\nshifted = shifted << 1;\n}\n```\n\n> The result would again be 0.  \n\n那我們是不是可以一次移32bit,讓它一次變成0呢？  \n靠北啊 竟然不行捏, 你只會拿到 1,  \n這跟運算子(operator)基本運算有關,在作位元運算的時候,  \n會拿第一個運算數除以第二個運算數後取餘數,  \n這導致我們只會拿 32 % 32 的結果 , 也就是 1 啦  \n(譯注:這段其實我不是很確定,如果錯誤請糾正)  \n\n> However, the bit shifting operators have a second operand.  \n> Instead of shifting to the left by 1 bit 32 times, we can shift left by 32 bits and get the same result.  \n\n```csharp\nvar shifted = 0b1 << 32;\n```\n\n> Right? **Wrong.**  \n>\n> The result of this expression will be 1. Why?  \n>\n> Because that’s how the operator is defined. Before applying the operation,  \n> the second operand will be normalized to the bit length of the first operand with the modulo operation,  \n> i.e. by calculating the remainder of dividing the second operand by the bit length of the first operand.  \n>\n> The first operand in the example we just saw was a 32-bit number, hence: 32 % 32 = 0.  \n> Our number will be shifted left by 0 bits. That’s not the same as shifting it left by 1 bit 32 times.  \n\n好棒棒 你竟然可以看到這裡,  \n那我們繼續討論 & (and) 跟 | (or) 運算子吧,  \n這兩個運算子跟一般的運算子有點不一樣  \n\n- 通常只要看運算子的第一個運算數就能得知結果  \n- 在有掛 [Flag] atturibute的列舉它們好好用(看一下範例)  \n\n```csharp\n[Flags]\nprivate enum Colors\n{\n    None = 0b0,\n    Red = 0b1,\n    Green = 0b10,\n    Blue = 0b100\n}\n```\n\n```csharp\nColors color = Colors.Red | Colors.Green;\nbool isRed = (color & Colors.Red) == Colors.Red;\n```\n\n上面這個刮號可不能省略喔, 因為(&)運算符的優先順序低於(==)運算符,  \n不過這段程式沒有刮號的話連編譯都不會過,真是好加在  \n另外在 .NET framework 4.0 之後的版本提供更棒的方法去檢查flags  \n\n```csharp\nbool isRed = color.HasFlag(Colors.Red);\n```\n\n### Math.Round()\n\n猜一下這個值會是多少？  \n\n```csharp\nvar rounded = Math.Round(1.5);\n```\n\n猜2的就答對了, 下一題  \n猜一下這個值會是多少？  \n\n```csharp\nvar rounded = Math.Round(2.5);\n```\n\n還是2 ,\n因為預設會取最接近的偶數\n\n> **No.** The result will be 2 again. By default,  \n> the midpoint value will be rounded to the nearest even value.  \n> You could provide the second argument to the method to request such behavior explicitly:  \n\n```csharp\nvar rounded = Math.Round(2.5, MidpointRounding.ToEven);\n```\n\n這個行為可以透過`MidpointRounding`參數改變  \n\n```csharp\nvar rounded = Math.Round(2.5, MidpointRounding.AwayFromZero);\n```\n\n另外要小心浮點數的精度問題,  \n以下的例子結果會是1,( 因為float的0.1實際上小於0.1 一ω一 )  \n這提醒我們在處理精確數值時,應轉換成整數處理.  \n(譯注:使用 [dotnetfiddle](https://dotnetfiddle.net) 時並不會有這個問題, 在windows 環境下測試的確會有問題)  \n\n```csharp\nvar value = 1.4f;\n\nvar rounded = Math.Round(value + 0.1f);\n```\n\n### 類別初始化\n\n最佳實踐建我我們應該避免在建構子初始化類別,\n特別是靜態建構子.\n在初始化一個類別的順序如下\n\n1. 靜態欄位\n2. 靜態建構子\n3. 實體欄位\n4. 實體建構子\n\n看看這個例子\n\n```csharp\npublic static class Config\n{\n    public static bool ThrowException { get; set; } = true;\n}\n\npublic class FailingClass\n{\n    static FailingClass()\n    {\n        if (Config.ThrowException)\n        {\n            throw new InvalidOperationException();\n        }\n    }\n}\n```\n\n當我們嚐試實例化FailingClass時,你會得到Exception;  \n值得注意的事,你拿到的會是`TypeInitializationException`  \n而並不是`InvalidOperationException`,  \n\n那麼我們是不是可以試著透過try catch補捉錯誤,  \n並修改靜態屬性,重新實體化class呢？\n**答案是不行**\n\n一個靜態建構值,如果它拋出一個異常,  \n那麼無論何時你想創建一個實例或以任何其他方式訪問這個類,  \n這個異常都會被重新拋出.  \n\n```csharp\ntry\n{\n    var failedInstance = new FailingClass();\n}\ncatch (TypeInitializationException) { }\nConfig.ThrowException = false;\nvar instance = new FailingClass();\n```\n\n這個類別在程序重啟前是不能再被使用了(會拋出錯誤),  \n這在 C# 是個非常糟糕的實踐,  \n千萬別這樣設計你的類別.  \n\n> The static constructor for a class is only called once.\n> If it throws an exception, then this exception will be rethrown  \n> whenever you want to create an instance or access the class in any other way.  \n>\n> The class becomes effectively unusable until the process (or the application domain) is restarted.  \n> Yes, having even a minuscule chance that the  \n> static constructor will throw an exception, is a very bad idea.  \n\n#### 繼承與類別初始化\n\n繼承的類別初始化執行順序更加複雜,看看下面的例子\n\n```csharp\npublic class BaseClass\n{\n    public BaseClass()\n    {\n        VirtualMethod(1);\n    }\n\n    public virtual int VirtualMethod(int dividend)\n    {\n        return dividend / 1;\n    }\n}\n\npublic class DerivedClass : BaseClass\n{\n    int divisor;\n    public DerivedClass()\n    {\n        divisor = 1;\n    }\n\n    public override int VirtualMethod(int dividend)\n    {\n        return base.VirtualMethod(dividend / divisor);\n    }\n}\n```\n\n當我們初始化 DerivedClass\n\n```csharp\nvar instance = new DerivedClass();\n```\n\n你會得到一個除0的錯誤 `DivideByZeroException`  \n這與執行順序有關\n\n1. 呼叫 BaseClass 建構子\n2. 執行 DerivedClass VirtualMethod (overrid BaseClass)\n3. divisor 未賦值拋出 `DivideByZeroException`\n\n## 多形 Polymorphism\n\n這個例子只是要說明多形的概念與應用,  \n你可以透過轉形呼叫基底類別的方法.  \n\n```csharp\nvar instance = new DerivedClass();\nvar result = instance.Method(); // -> Method in DerivedClass\nresult = ((BaseClass)instance).Method(); // -> Method in BaseClass\n// The correct answer is: by using the new modifier.\n\npublic class BaseClass\n{\n    public virtual string Method()\n    {\n        return \"Method in BaseClass \";\n    }\n}\n\npublic class DerivedClass : BaseClass\n{\n    public new string Method()\n    {\n        return \"Method in DerivedClass\";\n    }\n}\n```\n\n> It’s typically used to hide the interface methods from the consumers of the class implementing it,\n> unless they cast the instance to that interface.\n> But it works just as well if we want to have two different implementations of a method inside a single class.\n> It’s difficult to think of a good reason for doing it, though.\n\n另外一個例子是明確實作介面方法,  \n如果你的類別已經有同名的方法的話.  \n雖然沒有什麼好理由建議你這樣作.\n(譯注:實務上我有在遇到歷史共業這樣作過...)  \n\n```csharp\nvar instance = new DerivedClass();\nvar result = instance.Method(); // -> Method in DerivedClass\nresult = ((IInterface)instance).Method(); // -> Method belonging to IInterface\nIt’s explicit interface implementation.\n\npublic interface IInterface\n{\n    string Method();\n}\n\npublic class DerivedClass : IInterface\n{\n    public string Method()\n    {\n        return \"Method in DerivedClass\";\n    }\n\n    string IInterface.Method()\n    {\n        return \"Method belonging to IInterface\";\n    }\n}\n\n```\n\n## 迭代器 Iterators\n\n小心 Iterators 的陷阱\n看看以下[代碼](https://dotnetfiddle.net/BxfF0d):\n\n```csharp\nprivate IEnumerable<int> GetEnumerable(StringBuilder log)\n{\n    using (var context = new Context(log))\n    {\n        return Enumerable.Range(1, 5);\n    }\n}\n\n```\n\n```csharp\npublic class Context : IDisposable\n{\n    private readonly StringBuilder log;\n\n    public Context(StringBuilder log)\n    {\n        this.log = log;\n        this.log.AppendLine(\"Context created\");\n    }\n\n    public void Dispose()\n    {\n        this.log.AppendLine(\"Context disposed\");\n    }\n}\n```\n\n假設我們 foreach 呼叫 GetEnumerable 方法,  \n你預期 Context 類別會有什麼樣的行為？  \n我們會印出以下的output嗎？\n\n> Context created\n> 1\n> 2\n> 3\n> 4\n> 5\n> Context disposed\n\n```csharp\nvar log = new StringBuilder();\nforeach (var number in GetEnumerable(log))\n{\n    log.AppendLine($\"{number}\");\n}\n```\n\n不是的,  \n實際上印出的是\n\n> Context created\n> Context disposed\n> 1\n> 2\n> 3\n> 4\n> 5\n\n這點很重要,  \n因為實務上你很有可能 using dbconnetion 之類的物件,  \n那麼你在取得真正的資料之前,  \n你的連線就已經中斷了\n\n> This means that in our real world database example, the code would fail –  \n> the connection would be closed before the values could be read from the database.\n\n看看以下的[修正](https://dotnetfiddle.net/IgJaak)\n\n```csharp\nprivate IEnumerable<int> GetEnumerable(StringBuilder log)\n{\n    using (var context = new Context(log))\n    {\n        foreach (var i in Enumerable.Range(1, 5))\n        {\n            yield return i;\n        }\n    }\n}\n```\n\n譯注:看到這裡對 `yield return` 的使用情境才比較有感啊...\n\n如果你不太熟`yield return`,其實它只是個語法糖,允許增量執行,  \n參考以下範例,或許能更容易理解\n\n```csharp\nprivate IEnumerable<int> GetCustomEnumerable(StringBuilder log)\n{\n    log.AppendLine(\"before 1\");\n    yield return 1;\n    log.AppendLine(\"before 2\");\n    yield return 2;\n    log.AppendLine(\"before 3\");\n    yield return 3;\n    log.AppendLine(\"before 4\");\n    yield return 4;\n    log.AppendLine(\"before 5\");\n    yield return 5;\n    log.AppendLine(\"before end\");\n}\n```\n\n```csharp\nvar log = new StringBuilder();\nlog.AppendLine(\"before enumeration\");\nforeach (var number in GetCustomEnumerable(log))\n{\n    log.AppendLine($\"{number}\");\n}\nlog.AppendLine(\"after enumeration\");\n```\n\n> before enumeration\n> before 1\n> 1\n> before 2\n> 2\n> before 3\n> 3\n> before 4\n> 4\n> before 5\n> 5\n> before end\n> after enumeration\n\n值得注意的事, 如果你在loop當中重複執行以上的代碼,  \n那麼 Iterators 也會重複執行\n\n```csharp\nvar log = new StringBuilder();\nvar enumerable = GetCustomEnumerable(log);\nfor (int i = 1; i <= 2; i++)\n{\n    log.AppendLine($\"enumeration #{i}\");\n    foreach (var number in enumerable)\n    {\n        log.AppendLine($\"{number}\");\n    }\n}\n```\n\n輸出如下,可以明顯看到 `GetCustomEnumerable` 方法,  \n實際上被隱含的執行了兩次,  \n這在 Code Review 的階段也是難以被察覺的.\n\n> enumeration #1\n> before 1\n> 1\n> before 2\n> 2\n> before 3\n> 3\n> before 4\n> 4\n> before 5\n> 5\n> before end\n> enumeration #2\n> before 1\n> 1\n> before 2\n> 2\n> before 3\n> 3\n> before 4\n> 4\n> before 5\n> 5\n> before end\n\n比較好的作法是將 `IEnumerable` ToList(),\n如果你真的需要對 `IEnumerable` 的結果作 loop 的操作\n\n```csharp\nvar log = new StringBuilder();\nvar enumerable = GetCustomEnumerable(log).ToList();\nfor (int i = 1; i <= 2; i++)\n{\n    log.AppendLine($\"enumeration #{i}\");\n    foreach (var number in enumerable)\n    {\n        log.AppendLine($\"{number}\");\n    }\n}\n```\n\n輸出結果\n\n> before 1\n> before 2\n> before 3\n> before 4\n> before 5\n> before end\n> enumeration #1\n> 1\n> 2\n> 3\n> 4\n> 5\n> enumeration #2\n> 1\n> 2\n> 3\n> 4\n> 5\n\n## 譯者小結\n\n如果真的能夠預期所有的行為的開發人員,  \n真的是好棒棒,  \n對我來說 static class constructor 的行為是超乎預期的,  \n然後對 `yield return` 的使用場景更有感覺了.  \n本來預計農曆年就可以完成的翻譯,  \n竟然也拖了這麼久,看來我英文還是不行啊.\n\n希望對大家有幫助,也請多多看原文 :)\n\n(fin)\n","slug":"2018/csharp_common_mistakes_1","published":1,"updated":"2019-09-08T09:57:19.292Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkh001mb0vxkkdx55i3","content":"<h2 id=\"出處\"><a href=\"#出處\" class=\"headerlink\" title=\"出處\"></a>出處</h2><p><a href=\"http://www.dotnetcurry.com/csharp/1417/csharp-common-mistakes\" target=\"_blank\" rel=\"noopener\">http://www.dotnetcurry.com/csharp/1417/csharp-common-mistakes</a></p>\n<h2 id=\"線上工具\"><a href=\"#線上工具\" class=\"headerlink\" title=\"線上工具\"></a>線上工具</h2><p><a href=\"https://dotnetfiddle.net\" target=\"_blank\" rel=\"noopener\">https://dotnetfiddle.net</a></p>\n<h2 id=\"引言\"><a href=\"#引言\" class=\"headerlink\" title=\"引言\"></a>引言</h2><p>C#是個好棒棒的言語,但是它仍會有超乎你想像的行為,<br>而且就算你是有經驗的開發者,你也要看一看這篇文章.<br>這篇文章不講幹話,還會給你代碼喔  </p>\n<p><img src=\"https://i.imgur.com/wXjvug6.jpg\" alt=\"C# Quiz\"></p>\n<h3 id=\"Null-Value\"><a href=\"#Null-Value\" class=\"headerlink\" title=\"Null Value\"></a>Null Value</h3><p>Null 很危險啦, 你別在 Null 身上調用方法<br>(譯注:在公司的維運人員應該還蠻常見這個錯誤的 一ω一)  </p>\n<blockquote>\n<p>We are all aware that null values can be dangerous, if not handled properly.<br>Dereferencing a null-valued variable (i.e. calling a method on it or accessing one of its properties)<br>will result in a NullReferenceException, as demonstrated with the following sample code:  </p>\n</blockquote>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">object</span> nullValue = <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"keyword\">bool</span> areNullValuesEqual = nullValue.Equals(<span class=\"literal\">null</span>);</span><br></pre></td></tr></table></figure>\n\n<p>就安全的角度,好像我們要不停的檢查 reference type 是不是 null ,<br>雖然這件事常常發生,好像也很難說成是非預期的行為了…<br>(譯注:又有種中槍的感覺)  </p>\n<blockquote>\n<p>To be on the safer side, we should always make sure that reference type values are not null before dereferencing them.<br>Failing to do so could result in an unhandled exception in a specific edge case.<br>Although such a mistake occasionally happens to everyone, we could hardly call it unexpected behavior.  </p>\n</blockquote>\n<p>看看這個代碼, null 值在 runtime 的時候不會有 type 的  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">string</span> nullString = (<span class=\"keyword\">string</span>)<span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"keyword\">bool</span> isStringType = nullString <span class=\"keyword\">is</span> <span class=\"keyword\">string</span>;</span><br></pre></td></tr></table></figure>\n\n<p><strong>No</strong>, null 值在 runtime 的時候不會有 type 的<br><strong>No</strong>, null 值在 runtime 的時候不會有 type 的<br><strong>No</strong>, null 值在 runtime 的時候不會有 type 的<br>很重要所以說三次,<br>當然你也別想呼叫 <code>GetType()</code> 方法  </p>\n<blockquote>\n<p>The correct answer is <strong>No</strong>.  </p>\n<p>A null value has no type at runtime.  </p>\n<p>In a way, this also affects reflection.<br>Of course, you can’t call GetType() on a null value because a NullReferenceException would get thrown:  </p>\n</blockquote>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">object</span> nullValue = <span class=\"literal\">null</span>;</span><br><span class=\"line\">Type nullType = nullValue.GetType();</span><br></pre></td></tr></table></figure>\n\n<p>純量呢？</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> intValue = <span class=\"number\">5</span>;</span><br><span class=\"line\">Nullable&lt;<span class=\"keyword\">int</span>&gt; nullableIntValue = <span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"keyword\">bool</span> areTypesEqual = intValue.GetType() == nullableIntValue.GetType();</span><br></pre></td></tr></table></figure>\n\n<p>那我們可不可能用反射(reflection)區分 nullable 跟 non-nullable 的值？<br>答案是不可能, 看看後面的代碼  </p>\n<blockquote>\n<p>Is it possible to distinguish between a nullable and a non-nullable value type using reflection?  </p>\n<p>The answer is <strong>No</strong>.  </p>\n<p>The same type will be returned for both variables in the above code: System.Int32.<br>This does not mean that reflection has no representation for Nullable<t>, though.  </t></p>\n</blockquote>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Type intType = <span class=\"keyword\">typeof</span>(<span class=\"keyword\">int</span>);</span><br><span class=\"line\">Type nullableIntType = <span class=\"keyword\">typeof</span>(Nullable&lt;<span class=\"keyword\">int</span>&gt;);</span><br><span class=\"line\"><span class=\"keyword\">bool</span> areTypesEqual = intType == nullableIntType;</span><br></pre></td></tr></table></figure>\n\n<p>上面兩段程式在runtime拿到的type很不一樣喔,<br>一個是<code>System.Int32</code>一個是 <code>System.Nullable&#39;1\\[System.Int32\\]</code>  </p>\n<h3 id=\"當-null-遇上多載方法-Handling-Null-values-in-Overloaded-methods\"><a href=\"#當-null-遇上多載方法-Handling-Null-values-in-Overloaded-methods\" class=\"headerlink\" title=\"當 null 遇上多載方法 (Handling Null values in Overloaded methods)\"></a>當 null 遇上多載方法 (Handling Null values in Overloaded methods)</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">string</span> <span class=\"title\">OverloadedMethod</span>(<span class=\"params\"><span class=\"keyword\">object</span> arg</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">\"object parameter\"</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">string</span> <span class=\"title\">OverloadedMethod</span>(<span class=\"params\"><span class=\"keyword\">string</span> arg</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">\"string parameter\"</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>上面有兩個<code>OverloadedMethod</code><br>猜猜看,傳入 null 時會呼叫哪一個方法？  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> result = OverloadedMethod(<span class=\"literal\">null</span>);</span><br></pre></td></tr></table></figure>\n\n<p>有人會猜編譯失敗嗎？<br>MAGIC ! 竟然可以編譯成功, 而回傳的值是 <strong>“string parameter”</strong> ,<br>一般來說,在編譯時期會作型別檢查,相同簽章的方法參數可以被轉型成另一個型別時,是可以編譯成功的喔.<br>而有明確型別的方法將被優先調用(譯注:求這段.Net Framework的原碼來看一下,知道的人請告訴我)  </p>\n<p>如果要指定 null 參數呼叫的多載方法就要對 null 轉型唷,可以參考下面的方法.  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> result = OverloadedMethod((<span class=\"keyword\">object</span>)<span class=\"literal\">null</span>);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"算術運算-Arithmetic-Operations\"><a href=\"#算術運算-Arithmetic-Operations\" class=\"headerlink\" title=\"算術運算 (Arithmetic Operations)\"></a>算術運算 (Arithmetic Operations)</h3><p>好像很少用位移運算吼？<br>回憶一下 左移移 右移移  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> shifted = <span class=\"number\">0</span>b1 &lt;&lt; <span class=\"number\">1</span>; <span class=\"comment\">// = 0b10</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> shifted = <span class=\"number\">0</span>b1 &gt;&gt; <span class=\"number\">1</span>; <span class=\"comment\">// = 0b0</span></span><br></pre></td></tr></table></figure>\n\n<p>bits 跑到底並不會重頭開始喔,一直移位到爆掉就變 0 了.<br>(這裡會用32是因為 int 是32bit的數值,你可以試試放超過32的數值到for loop裡會發生什麼事)  </p>\n<blockquote>\n<p>The bits don’t wrap around when they reach the end.<br>That’s why the result of the second expression is 0.<br>The same would happen if we shifted the bit far enough to the left (32 bits because integer is a 32-bit number):  </p>\n</blockquote>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> shifted = <span class=\"number\">0</span>b1;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">32</span>; i++)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">shifted = shifted &lt;&lt; <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>The result would again be 0.  </p>\n</blockquote>\n<p>那我們是不是可以一次移32bit,讓它一次變成0呢？<br>靠北啊 竟然不行捏, 你只會拿到 1,<br>這跟運算子(operator)基本運算有關,在作位元運算的時候,<br>會拿第一個運算數除以第二個運算數後取餘數,<br>這導致我們只會拿 32 % 32 的結果 , 也就是 1 啦<br>(譯注:這段其實我不是很確定,如果錯誤請糾正)  </p>\n<blockquote>\n<p>However, the bit shifting operators have a second operand.<br>Instead of shifting to the left by 1 bit 32 times, we can shift left by 32 bits and get the same result.  </p>\n</blockquote>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> shifted = <span class=\"number\">0</span>b1 &lt;&lt; <span class=\"number\">32</span>;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>Right? <strong>Wrong.</strong>  </p>\n<p>The result of this expression will be 1. Why?  </p>\n<p>Because that’s how the operator is defined. Before applying the operation,<br>the second operand will be normalized to the bit length of the first operand with the modulo operation,<br>i.e. by calculating the remainder of dividing the second operand by the bit length of the first operand.  </p>\n<p>The first operand in the example we just saw was a 32-bit number, hence: 32 % 32 = 0.<br>Our number will be shifted left by 0 bits. That’s not the same as shifting it left by 1 bit 32 times.  </p>\n</blockquote>\n<p>好棒棒 你竟然可以看到這裡,<br>那我們繼續討論 &amp; (and) 跟 | (or) 運算子吧,<br>這兩個運算子跟一般的運算子有點不一樣  </p>\n<ul>\n<li>通常只要看運算子的第一個運算數就能得知結果  </li>\n<li>在有掛 [Flag] atturibute的列舉它們好好用(看一下範例)  </li>\n</ul>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">Flags</span>]</span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">enum</span> Colors</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    None = <span class=\"number\">0</span>b0,</span><br><span class=\"line\">    Red = <span class=\"number\">0</span>b1,</span><br><span class=\"line\">    Green = <span class=\"number\">0</span>b10,</span><br><span class=\"line\">    Blue = <span class=\"number\">0</span>b100</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Colors color = Colors.Red | Colors.Green;</span><br><span class=\"line\"><span class=\"keyword\">bool</span> isRed = (color &amp; Colors.Red) == Colors.Red;</span><br></pre></td></tr></table></figure>\n\n<p>上面這個刮號可不能省略喔, 因為(&amp;)運算符的優先順序低於(==)運算符,<br>不過這段程式沒有刮號的話連編譯都不會過,真是好加在<br>另外在 .NET framework 4.0 之後的版本提供更棒的方法去檢查flags  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">bool</span> isRed = color.HasFlag(Colors.Red);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Math-Round\"><a href=\"#Math-Round\" class=\"headerlink\" title=\"Math.Round()\"></a>Math.Round()</h3><p>猜一下這個值會是多少？  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> rounded = Math.Round(<span class=\"number\">1.5</span>);</span><br></pre></td></tr></table></figure>\n\n<p>猜2的就答對了, 下一題<br>猜一下這個值會是多少？  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> rounded = Math.Round(<span class=\"number\">2.5</span>);</span><br></pre></td></tr></table></figure>\n\n<p>還是2 ,<br>因為預設會取最接近的偶數</p>\n<blockquote>\n<p><strong>No.</strong> The result will be 2 again. By default,<br>the midpoint value will be rounded to the nearest even value.<br>You could provide the second argument to the method to request such behavior explicitly:  </p>\n</blockquote>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> rounded = Math.Round(<span class=\"number\">2.5</span>, MidpointRounding.ToEven);</span><br></pre></td></tr></table></figure>\n\n<p>這個行為可以透過<code>MidpointRounding</code>參數改變  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> rounded = Math.Round(<span class=\"number\">2.5</span>, MidpointRounding.AwayFromZero);</span><br></pre></td></tr></table></figure>\n\n<p>另外要小心浮點數的精度問題,<br>以下的例子結果會是1,( 因為float的0.1實際上小於0.1 一ω一 )<br>這提醒我們在處理精確數值時,應轉換成整數處理.<br>(譯注:使用 <a href=\"https://dotnetfiddle.net\" target=\"_blank\" rel=\"noopener\">dotnetfiddle</a> 時並不會有這個問題, 在windows 環境下測試的確會有問題)  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"keyword\">value</span> = <span class=\"number\">1.4</span>f;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> rounded = Math.Round(<span class=\"keyword\">value</span> + <span class=\"number\">0.1</span>f);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"類別初始化\"><a href=\"#類別初始化\" class=\"headerlink\" title=\"類別初始化\"></a>類別初始化</h3><p>最佳實踐建我我們應該避免在建構子初始化類別,<br>特別是靜態建構子.<br>在初始化一個類別的順序如下</p>\n<ol>\n<li>靜態欄位</li>\n<li>靜態建構子</li>\n<li>實體欄位</li>\n<li>實體建構子</li>\n</ol>\n<p>看看這個例子</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title\">Config</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">bool</span> ThrowException &#123; <span class=\"keyword\">get</span>; <span class=\"keyword\">set</span>; &#125; = <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FailingClass</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"title\">FailingClass</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (Config.ThrowException)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> InvalidOperationException();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>當我們嚐試實例化FailingClass時,你會得到Exception;<br>值得注意的事,你拿到的會是<code>TypeInitializationException</code><br>而並不是<code>InvalidOperationException</code>,  </p>\n<p>那麼我們是不是可以試著透過try catch補捉錯誤,<br>並修改靜態屬性,重新實體化class呢？<br><strong>答案是不行</strong></p>\n<p>一個靜態建構值,如果它拋出一個異常,<br>那麼無論何時你想創建一個實例或以任何其他方式訪問這個類,<br>這個異常都會被重新拋出.  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> failedInstance = <span class=\"keyword\">new</span> FailingClass();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">catch</span> (TypeInitializationException) &#123; &#125;</span><br><span class=\"line\">Config.ThrowException = <span class=\"literal\">false</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> instance = <span class=\"keyword\">new</span> FailingClass();</span><br></pre></td></tr></table></figure>\n\n<p>這個類別在程序重啟前是不能再被使用了(會拋出錯誤),<br>這在 C# 是個非常糟糕的實踐,<br>千萬別這樣設計你的類別.  </p>\n<blockquote>\n<p>The static constructor for a class is only called once.<br>If it throws an exception, then this exception will be rethrown<br>whenever you want to create an instance or access the class in any other way.  </p>\n<p>The class becomes effectively unusable until the process (or the application domain) is restarted.<br>Yes, having even a minuscule chance that the<br>static constructor will throw an exception, is a very bad idea.  </p>\n</blockquote>\n<h4 id=\"繼承與類別初始化\"><a href=\"#繼承與類別初始化\" class=\"headerlink\" title=\"繼承與類別初始化\"></a>繼承與類別初始化</h4><p>繼承的類別初始化執行順序更加複雜,看看下面的例子</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">BaseClass</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">BaseClass</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        VirtualMethod(<span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">virtual</span> <span class=\"keyword\">int</span> <span class=\"title\">VirtualMethod</span>(<span class=\"params\"><span class=\"keyword\">int</span> dividend</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dividend / <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DerivedClass</span> : <span class=\"title\">BaseClass</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> divisor;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">DerivedClass</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        divisor = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">int</span> <span class=\"title\">VirtualMethod</span>(<span class=\"params\"><span class=\"keyword\">int</span> dividend</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">base</span>.VirtualMethod(dividend / divisor);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>當我們初始化 DerivedClass</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> instance = <span class=\"keyword\">new</span> DerivedClass();</span><br></pre></td></tr></table></figure>\n\n<p>你會得到一個除0的錯誤 <code>DivideByZeroException</code><br>這與執行順序有關</p>\n<ol>\n<li>呼叫 BaseClass 建構子</li>\n<li>執行 DerivedClass VirtualMethod (overrid BaseClass)</li>\n<li>divisor 未賦值拋出 <code>DivideByZeroException</code></li>\n</ol>\n<h2 id=\"多形-Polymorphism\"><a href=\"#多形-Polymorphism\" class=\"headerlink\" title=\"多形 Polymorphism\"></a>多形 Polymorphism</h2><p>這個例子只是要說明多形的概念與應用,<br>你可以透過轉形呼叫基底類別的方法.  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> instance = <span class=\"keyword\">new</span> DerivedClass();</span><br><span class=\"line\"><span class=\"keyword\">var</span> result = instance.Method(); <span class=\"comment\">// -&gt; Method in DerivedClass</span></span><br><span class=\"line\">result = ((BaseClass)instance).Method(); <span class=\"comment\">// -&gt; Method in BaseClass</span></span><br><span class=\"line\"><span class=\"comment\">// The correct answer is: by using the new modifier.</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">BaseClass</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">virtual</span> <span class=\"keyword\">string</span> <span class=\"title\">Method</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"Method in BaseClass \"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DerivedClass</span> : <span class=\"title\">BaseClass</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> new <span class=\"keyword\">string</span> <span class=\"title\">Method</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"Method in DerivedClass\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>It’s typically used to hide the interface methods from the consumers of the class implementing it,<br>unless they cast the instance to that interface.<br>But it works just as well if we want to have two different implementations of a method inside a single class.<br>It’s difficult to think of a good reason for doing it, though.</p>\n</blockquote>\n<p>另外一個例子是明確實作介面方法,<br>如果你的類別已經有同名的方法的話.<br>雖然沒有什麼好理由建議你這樣作.<br>(譯注:實務上我有在遇到歷史共業這樣作過…)  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> instance = <span class=\"keyword\">new</span> DerivedClass();</span><br><span class=\"line\"><span class=\"keyword\">var</span> result = instance.Method(); <span class=\"comment\">// -&gt; Method in DerivedClass</span></span><br><span class=\"line\">result = ((IInterface)instance).Method(); <span class=\"comment\">// -&gt; Method belonging to IInterface</span></span><br><span class=\"line\">It’s explicit interface implementation.</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IInterface</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">string</span> <span class=\"title\">Method</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DerivedClass</span> : <span class=\"title\">IInterface</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">Method</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"Method in DerivedClass\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">string</span> IInterface.Method()</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"Method belonging to IInterface\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"迭代器-Iterators\"><a href=\"#迭代器-Iterators\" class=\"headerlink\" title=\"迭代器 Iterators\"></a>迭代器 Iterators</h2><p>小心 Iterators 的陷阱<br>看看以下<a href=\"https://dotnetfiddle.net/BxfF0d\" target=\"_blank\" rel=\"noopener\">代碼</a>:</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> IEnumerable&lt;<span class=\"keyword\">int</span>&gt; <span class=\"title\">GetEnumerable</span>(<span class=\"params\">StringBuilder log</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">using</span> (<span class=\"keyword\">var</span> context = <span class=\"keyword\">new</span> Context(log))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Enumerable.Range(<span class=\"number\">1</span>, <span class=\"number\">5</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Context</span> : <span class=\"title\">IDisposable</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> StringBuilder log;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Context</span>(<span class=\"params\">StringBuilder log</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.log = log;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.log.AppendLine(<span class=\"string\">\"Context created\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Dispose</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.log.AppendLine(<span class=\"string\">\"Context disposed\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>假設我們 foreach 呼叫 GetEnumerable 方法,<br>你預期 Context 類別會有什麼樣的行為？<br>我們會印出以下的output嗎？</p>\n<blockquote>\n<p>Context created<br>1\n2<br>3\n4<br>5\nContext disposed</p>\n</blockquote>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> log = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\"><span class=\"keyword\">foreach</span> (<span class=\"function\"><span class=\"keyword\">var</span> number <span class=\"keyword\">in</span> <span class=\"title\">GetEnumerable</span>(<span class=\"params\">log</span>))</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">$\"<span class=\"subst\">&#123;number&#125;</span>\"</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>不是的,<br>實際上印出的是</p>\n<blockquote>\n<p>Context created<br>Context disposed<br>1\n2<br>3\n4<br>5</p>\n</blockquote>\n<p>這點很重要,<br>因為實務上你很有可能 using dbconnetion 之類的物件,<br>那麼你在取得真正的資料之前,<br>你的連線就已經中斷了</p>\n<blockquote>\n<p>This means that in our real world database example, the code would fail –<br>the connection would be closed before the values could be read from the database.</p>\n</blockquote>\n<p>看看以下的<a href=\"https://dotnetfiddle.net/IgJaak\" target=\"_blank\" rel=\"noopener\">修正</a></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> IEnumerable&lt;<span class=\"keyword\">int</span>&gt; <span class=\"title\">GetEnumerable</span>(<span class=\"params\">StringBuilder log</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">using</span> (<span class=\"keyword\">var</span> context = <span class=\"keyword\">new</span> Context(log))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> i <span class=\"keyword\">in</span> Enumerable.Range(<span class=\"number\">1</span>, <span class=\"number\">5</span>))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>譯注:看到這裡對 <code>yield return</code> 的使用情境才比較有感啊…</p>\n<p>如果你不太熟<code>yield return</code>,其實它只是個語法糖,允許增量執行,<br>參考以下範例,或許能更容易理解</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> IEnumerable&lt;<span class=\"keyword\">int</span>&gt; <span class=\"title\">GetCustomEnumerable</span>(<span class=\"params\">StringBuilder log</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">\"before 1\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">yield</span> <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">\"before 2\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">yield</span> <span class=\"keyword\">return</span> <span class=\"number\">2</span>;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">\"before 3\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">yield</span> <span class=\"keyword\">return</span> <span class=\"number\">3</span>;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">\"before 4\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">yield</span> <span class=\"keyword\">return</span> <span class=\"number\">4</span>;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">\"before 5\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">yield</span> <span class=\"keyword\">return</span> <span class=\"number\">5</span>;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">\"before end\"</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> log = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">log.AppendLine(<span class=\"string\">\"before enumeration\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">foreach</span> (<span class=\"function\"><span class=\"keyword\">var</span> number <span class=\"keyword\">in</span> <span class=\"title\">GetCustomEnumerable</span>(<span class=\"params\">log</span>))</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">$\"<span class=\"subst\">&#123;number&#125;</span>\"</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">log.AppendLine(<span class=\"string\">\"after enumeration\"</span>);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>before enumeration<br>before 1<br>1\nbefore 2<br>2\nbefore 3<br>3\nbefore 4<br>4\nbefore 5<br>5\nbefore end<br>after enumeration</p>\n</blockquote>\n<p>值得注意的事, 如果你在loop當中重複執行以上的代碼,<br>那麼 Iterators 也會重複執行</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> log = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\"><span class=\"keyword\">var</span> enumerable = GetCustomEnumerable(log);</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt;= <span class=\"number\">2</span>; i++)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">$\"enumeration #<span class=\"subst\">&#123;i&#125;</span>\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> number <span class=\"keyword\">in</span> enumerable)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        log.AppendLine(<span class=\"string\">$\"<span class=\"subst\">&#123;number&#125;</span>\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>輸出如下,可以明顯看到 <code>GetCustomEnumerable</code> 方法,<br>實際上被隱含的執行了兩次,<br>這在 Code Review 的階段也是難以被察覺的.</p>\n<blockquote>\n<p>enumeration #1<br>before 1<br>1\nbefore 2<br>2\nbefore 3<br>3\nbefore 4<br>4\nbefore 5<br>5\nbefore end<br>enumeration #2<br>before 1<br>1\nbefore 2<br>2\nbefore 3<br>3\nbefore 4<br>4\nbefore 5<br>5\nbefore end</p>\n</blockquote>\n<p>比較好的作法是將 <code>IEnumerable</code> ToList(),<br>如果你真的需要對 <code>IEnumerable</code> 的結果作 loop 的操作</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> log = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\"><span class=\"keyword\">var</span> enumerable = GetCustomEnumerable(log).ToList();</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt;= <span class=\"number\">2</span>; i++)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">$\"enumeration #<span class=\"subst\">&#123;i&#125;</span>\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> number <span class=\"keyword\">in</span> enumerable)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        log.AppendLine(<span class=\"string\">$\"<span class=\"subst\">&#123;number&#125;</span>\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>輸出結果</p>\n<blockquote>\n<p>before 1<br>before 2<br>before 3<br>before 4<br>before 5<br>before end<br>enumeration #1<br>1\n2<br>3\n4<br>5\nenumeration #2<br>1\n2<br>3\n4<br>5</p>\n</blockquote>\n<h2 id=\"譯者小結\"><a href=\"#譯者小結\" class=\"headerlink\" title=\"譯者小結\"></a>譯者小結</h2><p>如果真的能夠預期所有的行為的開發人員,<br>真的是好棒棒,<br>對我來說 static class constructor 的行為是超乎預期的,<br>然後對 <code>yield return</code> 的使用場景更有感覺了.<br>本來預計農曆年就可以完成的翻譯,<br>竟然也拖了這麼久,看來我英文還是不行啊.</p>\n<p>希望對大家有幫助,也請多多看原文 :)</p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"出處\"><a href=\"#出處\" class=\"headerlink\" title=\"出處\"></a>出處</h2><p><a href=\"http://www.dotnetcurry.com/csharp/1417/csharp-common-mistakes\" target=\"_blank\" rel=\"noopener\">http://www.dotnetcurry.com/csharp/1417/csharp-common-mistakes</a></p>\n<h2 id=\"線上工具\"><a href=\"#線上工具\" class=\"headerlink\" title=\"線上工具\"></a>線上工具</h2><p><a href=\"https://dotnetfiddle.net\" target=\"_blank\" rel=\"noopener\">https://dotnetfiddle.net</a></p>\n<h2 id=\"引言\"><a href=\"#引言\" class=\"headerlink\" title=\"引言\"></a>引言</h2><p>C#是個好棒棒的言語,但是它仍會有超乎你想像的行為,<br>而且就算你是有經驗的開發者,你也要看一看這篇文章.<br>這篇文章不講幹話,還會給你代碼喔  </p>\n<p><img src=\"https://i.imgur.com/wXjvug6.jpg\" alt=\"C# Quiz\"></p>\n<h3 id=\"Null-Value\"><a href=\"#Null-Value\" class=\"headerlink\" title=\"Null Value\"></a>Null Value</h3><p>Null 很危險啦, 你別在 Null 身上調用方法<br>(譯注:在公司的維運人員應該還蠻常見這個錯誤的 一ω一)  </p>\n<blockquote>\n<p>We are all aware that null values can be dangerous, if not handled properly.<br>Dereferencing a null-valued variable (i.e. calling a method on it or accessing one of its properties)<br>will result in a NullReferenceException, as demonstrated with the following sample code:  </p>\n</blockquote>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">object</span> nullValue = <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"keyword\">bool</span> areNullValuesEqual = nullValue.Equals(<span class=\"literal\">null</span>);</span><br></pre></td></tr></table></figure>\n\n<p>就安全的角度,好像我們要不停的檢查 reference type 是不是 null ,<br>雖然這件事常常發生,好像也很難說成是非預期的行為了…<br>(譯注:又有種中槍的感覺)  </p>\n<blockquote>\n<p>To be on the safer side, we should always make sure that reference type values are not null before dereferencing them.<br>Failing to do so could result in an unhandled exception in a specific edge case.<br>Although such a mistake occasionally happens to everyone, we could hardly call it unexpected behavior.  </p>\n</blockquote>\n<p>看看這個代碼, null 值在 runtime 的時候不會有 type 的  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">string</span> nullString = (<span class=\"keyword\">string</span>)<span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"keyword\">bool</span> isStringType = nullString <span class=\"keyword\">is</span> <span class=\"keyword\">string</span>;</span><br></pre></td></tr></table></figure>\n\n<p><strong>No</strong>, null 值在 runtime 的時候不會有 type 的<br><strong>No</strong>, null 值在 runtime 的時候不會有 type 的<br><strong>No</strong>, null 值在 runtime 的時候不會有 type 的<br>很重要所以說三次,<br>當然你也別想呼叫 <code>GetType()</code> 方法  </p>\n<blockquote>\n<p>The correct answer is <strong>No</strong>.  </p>\n<p>A null value has no type at runtime.  </p>\n<p>In a way, this also affects reflection.<br>Of course, you can’t call GetType() on a null value because a NullReferenceException would get thrown:  </p>\n</blockquote>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">object</span> nullValue = <span class=\"literal\">null</span>;</span><br><span class=\"line\">Type nullType = nullValue.GetType();</span><br></pre></td></tr></table></figure>\n\n<p>純量呢？</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">int</span> intValue = <span class=\"number\">5</span>;</span><br><span class=\"line\">Nullable&lt;<span class=\"keyword\">int</span>&gt; nullableIntValue = <span class=\"number\">5</span>;</span><br><span class=\"line\"><span class=\"keyword\">bool</span> areTypesEqual = intValue.GetType() == nullableIntValue.GetType();</span><br></pre></td></tr></table></figure>\n\n<p>那我們可不可能用反射(reflection)區分 nullable 跟 non-nullable 的值？<br>答案是不可能, 看看後面的代碼  </p>\n<blockquote>\n<p>Is it possible to distinguish between a nullable and a non-nullable value type using reflection?  </p>\n<p>The answer is <strong>No</strong>.  </p>\n<p>The same type will be returned for both variables in the above code: System.Int32.<br>This does not mean that reflection has no representation for Nullable<t>, though.  </t></p>\n</blockquote>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Type intType = <span class=\"keyword\">typeof</span>(<span class=\"keyword\">int</span>);</span><br><span class=\"line\">Type nullableIntType = <span class=\"keyword\">typeof</span>(Nullable&lt;<span class=\"keyword\">int</span>&gt;);</span><br><span class=\"line\"><span class=\"keyword\">bool</span> areTypesEqual = intType == nullableIntType;</span><br></pre></td></tr></table></figure>\n\n<p>上面兩段程式在runtime拿到的type很不一樣喔,<br>一個是<code>System.Int32</code>一個是 <code>System.Nullable&#39;1\\[System.Int32\\]</code>  </p>\n<h3 id=\"當-null-遇上多載方法-Handling-Null-values-in-Overloaded-methods\"><a href=\"#當-null-遇上多載方法-Handling-Null-values-in-Overloaded-methods\" class=\"headerlink\" title=\"當 null 遇上多載方法 (Handling Null values in Overloaded methods)\"></a>當 null 遇上多載方法 (Handling Null values in Overloaded methods)</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">string</span> <span class=\"title\">OverloadedMethod</span>(<span class=\"params\"><span class=\"keyword\">object</span> arg</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">\"object parameter\"</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">string</span> <span class=\"title\">OverloadedMethod</span>(<span class=\"params\"><span class=\"keyword\">string</span> arg</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">\"string parameter\"</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>上面有兩個<code>OverloadedMethod</code><br>猜猜看,傳入 null 時會呼叫哪一個方法？  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> result = OverloadedMethod(<span class=\"literal\">null</span>);</span><br></pre></td></tr></table></figure>\n\n<p>有人會猜編譯失敗嗎？<br>MAGIC ! 竟然可以編譯成功, 而回傳的值是 <strong>“string parameter”</strong> ,<br>一般來說,在編譯時期會作型別檢查,相同簽章的方法參數可以被轉型成另一個型別時,是可以編譯成功的喔.<br>而有明確型別的方法將被優先調用(譯注:求這段.Net Framework的原碼來看一下,知道的人請告訴我)  </p>\n<p>如果要指定 null 參數呼叫的多載方法就要對 null 轉型唷,可以參考下面的方法.  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> result = OverloadedMethod((<span class=\"keyword\">object</span>)<span class=\"literal\">null</span>);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"算術運算-Arithmetic-Operations\"><a href=\"#算術運算-Arithmetic-Operations\" class=\"headerlink\" title=\"算術運算 (Arithmetic Operations)\"></a>算術運算 (Arithmetic Operations)</h3><p>好像很少用位移運算吼？<br>回憶一下 左移移 右移移  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> shifted = <span class=\"number\">0</span>b1 &lt;&lt; <span class=\"number\">1</span>; <span class=\"comment\">// = 0b10</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> shifted = <span class=\"number\">0</span>b1 &gt;&gt; <span class=\"number\">1</span>; <span class=\"comment\">// = 0b0</span></span><br></pre></td></tr></table></figure>\n\n<p>bits 跑到底並不會重頭開始喔,一直移位到爆掉就變 0 了.<br>(這裡會用32是因為 int 是32bit的數值,你可以試試放超過32的數值到for loop裡會發生什麼事)  </p>\n<blockquote>\n<p>The bits don’t wrap around when they reach the end.<br>That’s why the result of the second expression is 0.<br>The same would happen if we shifted the bit far enough to the left (32 bits because integer is a 32-bit number):  </p>\n</blockquote>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> shifted = <span class=\"number\">0</span>b1;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">32</span>; i++)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">shifted = shifted &lt;&lt; <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>The result would again be 0.  </p>\n</blockquote>\n<p>那我們是不是可以一次移32bit,讓它一次變成0呢？<br>靠北啊 竟然不行捏, 你只會拿到 1,<br>這跟運算子(operator)基本運算有關,在作位元運算的時候,<br>會拿第一個運算數除以第二個運算數後取餘數,<br>這導致我們只會拿 32 % 32 的結果 , 也就是 1 啦<br>(譯注:這段其實我不是很確定,如果錯誤請糾正)  </p>\n<blockquote>\n<p>However, the bit shifting operators have a second operand.<br>Instead of shifting to the left by 1 bit 32 times, we can shift left by 32 bits and get the same result.  </p>\n</blockquote>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> shifted = <span class=\"number\">0</span>b1 &lt;&lt; <span class=\"number\">32</span>;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>Right? <strong>Wrong.</strong>  </p>\n<p>The result of this expression will be 1. Why?  </p>\n<p>Because that’s how the operator is defined. Before applying the operation,<br>the second operand will be normalized to the bit length of the first operand with the modulo operation,<br>i.e. by calculating the remainder of dividing the second operand by the bit length of the first operand.  </p>\n<p>The first operand in the example we just saw was a 32-bit number, hence: 32 % 32 = 0.<br>Our number will be shifted left by 0 bits. That’s not the same as shifting it left by 1 bit 32 times.  </p>\n</blockquote>\n<p>好棒棒 你竟然可以看到這裡,<br>那我們繼續討論 &amp; (and) 跟 | (or) 運算子吧,<br>這兩個運算子跟一般的運算子有點不一樣  </p>\n<ul>\n<li>通常只要看運算子的第一個運算數就能得知結果  </li>\n<li>在有掛 [Flag] atturibute的列舉它們好好用(看一下範例)  </li>\n</ul>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">Flags</span>]</span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">enum</span> Colors</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    None = <span class=\"number\">0</span>b0,</span><br><span class=\"line\">    Red = <span class=\"number\">0</span>b1,</span><br><span class=\"line\">    Green = <span class=\"number\">0</span>b10,</span><br><span class=\"line\">    Blue = <span class=\"number\">0</span>b100</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Colors color = Colors.Red | Colors.Green;</span><br><span class=\"line\"><span class=\"keyword\">bool</span> isRed = (color &amp; Colors.Red) == Colors.Red;</span><br></pre></td></tr></table></figure>\n\n<p>上面這個刮號可不能省略喔, 因為(&amp;)運算符的優先順序低於(==)運算符,<br>不過這段程式沒有刮號的話連編譯都不會過,真是好加在<br>另外在 .NET framework 4.0 之後的版本提供更棒的方法去檢查flags  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">bool</span> isRed = color.HasFlag(Colors.Red);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Math-Round\"><a href=\"#Math-Round\" class=\"headerlink\" title=\"Math.Round()\"></a>Math.Round()</h3><p>猜一下這個值會是多少？  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> rounded = Math.Round(<span class=\"number\">1.5</span>);</span><br></pre></td></tr></table></figure>\n\n<p>猜2的就答對了, 下一題<br>猜一下這個值會是多少？  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> rounded = Math.Round(<span class=\"number\">2.5</span>);</span><br></pre></td></tr></table></figure>\n\n<p>還是2 ,<br>因為預設會取最接近的偶數</p>\n<blockquote>\n<p><strong>No.</strong> The result will be 2 again. By default,<br>the midpoint value will be rounded to the nearest even value.<br>You could provide the second argument to the method to request such behavior explicitly:  </p>\n</blockquote>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> rounded = Math.Round(<span class=\"number\">2.5</span>, MidpointRounding.ToEven);</span><br></pre></td></tr></table></figure>\n\n<p>這個行為可以透過<code>MidpointRounding</code>參數改變  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> rounded = Math.Round(<span class=\"number\">2.5</span>, MidpointRounding.AwayFromZero);</span><br></pre></td></tr></table></figure>\n\n<p>另外要小心浮點數的精度問題,<br>以下的例子結果會是1,( 因為float的0.1實際上小於0.1 一ω一 )<br>這提醒我們在處理精確數值時,應轉換成整數處理.<br>(譯注:使用 <a href=\"https://dotnetfiddle.net\" target=\"_blank\" rel=\"noopener\">dotnetfiddle</a> 時並不會有這個問題, 在windows 環境下測試的確會有問題)  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"keyword\">value</span> = <span class=\"number\">1.4</span>f;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> rounded = Math.Round(<span class=\"keyword\">value</span> + <span class=\"number\">0.1</span>f);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"類別初始化\"><a href=\"#類別初始化\" class=\"headerlink\" title=\"類別初始化\"></a>類別初始化</h3><p>最佳實踐建我我們應該避免在建構子初始化類別,<br>特別是靜態建構子.<br>在初始化一個類別的順序如下</p>\n<ol>\n<li>靜態欄位</li>\n<li>靜態建構子</li>\n<li>實體欄位</li>\n<li>實體建構子</li>\n</ol>\n<p>看看這個例子</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title\">Config</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">bool</span> ThrowException &#123; <span class=\"keyword\">get</span>; <span class=\"keyword\">set</span>; &#125; = <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FailingClass</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">static</span> <span class=\"title\">FailingClass</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (Config.ThrowException)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> InvalidOperationException();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>當我們嚐試實例化FailingClass時,你會得到Exception;<br>值得注意的事,你拿到的會是<code>TypeInitializationException</code><br>而並不是<code>InvalidOperationException</code>,  </p>\n<p>那麼我們是不是可以試著透過try catch補捉錯誤,<br>並修改靜態屬性,重新實體化class呢？<br><strong>答案是不行</strong></p>\n<p>一個靜態建構值,如果它拋出一個異常,<br>那麼無論何時你想創建一個實例或以任何其他方式訪問這個類,<br>這個異常都會被重新拋出.  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> failedInstance = <span class=\"keyword\">new</span> FailingClass();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">catch</span> (TypeInitializationException) &#123; &#125;</span><br><span class=\"line\">Config.ThrowException = <span class=\"literal\">false</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> instance = <span class=\"keyword\">new</span> FailingClass();</span><br></pre></td></tr></table></figure>\n\n<p>這個類別在程序重啟前是不能再被使用了(會拋出錯誤),<br>這在 C# 是個非常糟糕的實踐,<br>千萬別這樣設計你的類別.  </p>\n<blockquote>\n<p>The static constructor for a class is only called once.<br>If it throws an exception, then this exception will be rethrown<br>whenever you want to create an instance or access the class in any other way.  </p>\n<p>The class becomes effectively unusable until the process (or the application domain) is restarted.<br>Yes, having even a minuscule chance that the<br>static constructor will throw an exception, is a very bad idea.  </p>\n</blockquote>\n<h4 id=\"繼承與類別初始化\"><a href=\"#繼承與類別初始化\" class=\"headerlink\" title=\"繼承與類別初始化\"></a>繼承與類別初始化</h4><p>繼承的類別初始化執行順序更加複雜,看看下面的例子</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">BaseClass</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">BaseClass</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        VirtualMethod(<span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">virtual</span> <span class=\"keyword\">int</span> <span class=\"title\">VirtualMethod</span>(<span class=\"params\"><span class=\"keyword\">int</span> dividend</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dividend / <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DerivedClass</span> : <span class=\"title\">BaseClass</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> divisor;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">DerivedClass</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        divisor = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">override</span> <span class=\"keyword\">int</span> <span class=\"title\">VirtualMethod</span>(<span class=\"params\"><span class=\"keyword\">int</span> dividend</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">base</span>.VirtualMethod(dividend / divisor);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>當我們初始化 DerivedClass</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> instance = <span class=\"keyword\">new</span> DerivedClass();</span><br></pre></td></tr></table></figure>\n\n<p>你會得到一個除0的錯誤 <code>DivideByZeroException</code><br>這與執行順序有關</p>\n<ol>\n<li>呼叫 BaseClass 建構子</li>\n<li>執行 DerivedClass VirtualMethod (overrid BaseClass)</li>\n<li>divisor 未賦值拋出 <code>DivideByZeroException</code></li>\n</ol>\n<h2 id=\"多形-Polymorphism\"><a href=\"#多形-Polymorphism\" class=\"headerlink\" title=\"多形 Polymorphism\"></a>多形 Polymorphism</h2><p>這個例子只是要說明多形的概念與應用,<br>你可以透過轉形呼叫基底類別的方法.  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> instance = <span class=\"keyword\">new</span> DerivedClass();</span><br><span class=\"line\"><span class=\"keyword\">var</span> result = instance.Method(); <span class=\"comment\">// -&gt; Method in DerivedClass</span></span><br><span class=\"line\">result = ((BaseClass)instance).Method(); <span class=\"comment\">// -&gt; Method in BaseClass</span></span><br><span class=\"line\"><span class=\"comment\">// The correct answer is: by using the new modifier.</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">BaseClass</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">virtual</span> <span class=\"keyword\">string</span> <span class=\"title\">Method</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"Method in BaseClass \"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DerivedClass</span> : <span class=\"title\">BaseClass</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> new <span class=\"keyword\">string</span> <span class=\"title\">Method</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"Method in DerivedClass\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>It’s typically used to hide the interface methods from the consumers of the class implementing it,<br>unless they cast the instance to that interface.<br>But it works just as well if we want to have two different implementations of a method inside a single class.<br>It’s difficult to think of a good reason for doing it, though.</p>\n</blockquote>\n<p>另外一個例子是明確實作介面方法,<br>如果你的類別已經有同名的方法的話.<br>雖然沒有什麼好理由建議你這樣作.<br>(譯注:實務上我有在遇到歷史共業這樣作過…)  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> instance = <span class=\"keyword\">new</span> DerivedClass();</span><br><span class=\"line\"><span class=\"keyword\">var</span> result = instance.Method(); <span class=\"comment\">// -&gt; Method in DerivedClass</span></span><br><span class=\"line\">result = ((IInterface)instance).Method(); <span class=\"comment\">// -&gt; Method belonging to IInterface</span></span><br><span class=\"line\">It’s explicit interface implementation.</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IInterface</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">string</span> <span class=\"title\">Method</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DerivedClass</span> : <span class=\"title\">IInterface</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">Method</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"Method in DerivedClass\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">string</span> IInterface.Method()</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"Method belonging to IInterface\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"迭代器-Iterators\"><a href=\"#迭代器-Iterators\" class=\"headerlink\" title=\"迭代器 Iterators\"></a>迭代器 Iterators</h2><p>小心 Iterators 的陷阱<br>看看以下<a href=\"https://dotnetfiddle.net/BxfF0d\" target=\"_blank\" rel=\"noopener\">代碼</a>:</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> IEnumerable&lt;<span class=\"keyword\">int</span>&gt; <span class=\"title\">GetEnumerable</span>(<span class=\"params\">StringBuilder log</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">using</span> (<span class=\"keyword\">var</span> context = <span class=\"keyword\">new</span> Context(log))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Enumerable.Range(<span class=\"number\">1</span>, <span class=\"number\">5</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">Context</span> : <span class=\"title\">IDisposable</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> StringBuilder log;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Context</span>(<span class=\"params\">StringBuilder log</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.log = log;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.log.AppendLine(<span class=\"string\">\"Context created\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Dispose</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.log.AppendLine(<span class=\"string\">\"Context disposed\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>假設我們 foreach 呼叫 GetEnumerable 方法,<br>你預期 Context 類別會有什麼樣的行為？<br>我們會印出以下的output嗎？</p>\n<blockquote>\n<p>Context created<br>1\n2<br>3\n4<br>5\nContext disposed</p>\n</blockquote>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> log = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\"><span class=\"keyword\">foreach</span> (<span class=\"function\"><span class=\"keyword\">var</span> number <span class=\"keyword\">in</span> <span class=\"title\">GetEnumerable</span>(<span class=\"params\">log</span>))</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">$\"<span class=\"subst\">&#123;number&#125;</span>\"</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>不是的,<br>實際上印出的是</p>\n<blockquote>\n<p>Context created<br>Context disposed<br>1\n2<br>3\n4<br>5</p>\n</blockquote>\n<p>這點很重要,<br>因為實務上你很有可能 using dbconnetion 之類的物件,<br>那麼你在取得真正的資料之前,<br>你的連線就已經中斷了</p>\n<blockquote>\n<p>This means that in our real world database example, the code would fail –<br>the connection would be closed before the values could be read from the database.</p>\n</blockquote>\n<p>看看以下的<a href=\"https://dotnetfiddle.net/IgJaak\" target=\"_blank\" rel=\"noopener\">修正</a></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> IEnumerable&lt;<span class=\"keyword\">int</span>&gt; <span class=\"title\">GetEnumerable</span>(<span class=\"params\">StringBuilder log</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">using</span> (<span class=\"keyword\">var</span> context = <span class=\"keyword\">new</span> Context(log))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> i <span class=\"keyword\">in</span> Enumerable.Range(<span class=\"number\">1</span>, <span class=\"number\">5</span>))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>譯注:看到這裡對 <code>yield return</code> 的使用情境才比較有感啊…</p>\n<p>如果你不太熟<code>yield return</code>,其實它只是個語法糖,允許增量執行,<br>參考以下範例,或許能更容易理解</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> IEnumerable&lt;<span class=\"keyword\">int</span>&gt; <span class=\"title\">GetCustomEnumerable</span>(<span class=\"params\">StringBuilder log</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">\"before 1\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">yield</span> <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">\"before 2\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">yield</span> <span class=\"keyword\">return</span> <span class=\"number\">2</span>;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">\"before 3\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">yield</span> <span class=\"keyword\">return</span> <span class=\"number\">3</span>;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">\"before 4\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">yield</span> <span class=\"keyword\">return</span> <span class=\"number\">4</span>;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">\"before 5\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">yield</span> <span class=\"keyword\">return</span> <span class=\"number\">5</span>;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">\"before end\"</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> log = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\">log.AppendLine(<span class=\"string\">\"before enumeration\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">foreach</span> (<span class=\"function\"><span class=\"keyword\">var</span> number <span class=\"keyword\">in</span> <span class=\"title\">GetCustomEnumerable</span>(<span class=\"params\">log</span>))</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">$\"<span class=\"subst\">&#123;number&#125;</span>\"</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">log.AppendLine(<span class=\"string\">\"after enumeration\"</span>);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>before enumeration<br>before 1<br>1\nbefore 2<br>2\nbefore 3<br>3\nbefore 4<br>4\nbefore 5<br>5\nbefore end<br>after enumeration</p>\n</blockquote>\n<p>值得注意的事, 如果你在loop當中重複執行以上的代碼,<br>那麼 Iterators 也會重複執行</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> log = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\"><span class=\"keyword\">var</span> enumerable = GetCustomEnumerable(log);</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt;= <span class=\"number\">2</span>; i++)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">$\"enumeration #<span class=\"subst\">&#123;i&#125;</span>\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> number <span class=\"keyword\">in</span> enumerable)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        log.AppendLine(<span class=\"string\">$\"<span class=\"subst\">&#123;number&#125;</span>\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>輸出如下,可以明顯看到 <code>GetCustomEnumerable</code> 方法,<br>實際上被隱含的執行了兩次,<br>這在 Code Review 的階段也是難以被察覺的.</p>\n<blockquote>\n<p>enumeration #1<br>before 1<br>1\nbefore 2<br>2\nbefore 3<br>3\nbefore 4<br>4\nbefore 5<br>5\nbefore end<br>enumeration #2<br>before 1<br>1\nbefore 2<br>2\nbefore 3<br>3\nbefore 4<br>4\nbefore 5<br>5\nbefore end</p>\n</blockquote>\n<p>比較好的作法是將 <code>IEnumerable</code> ToList(),<br>如果你真的需要對 <code>IEnumerable</code> 的結果作 loop 的操作</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> log = <span class=\"keyword\">new</span> StringBuilder();</span><br><span class=\"line\"><span class=\"keyword\">var</span> enumerable = GetCustomEnumerable(log).ToList();</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">1</span>; i &lt;= <span class=\"number\">2</span>; i++)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    log.AppendLine(<span class=\"string\">$\"enumeration #<span class=\"subst\">&#123;i&#125;</span>\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> number <span class=\"keyword\">in</span> enumerable)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        log.AppendLine(<span class=\"string\">$\"<span class=\"subst\">&#123;number&#125;</span>\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>輸出結果</p>\n<blockquote>\n<p>before 1<br>before 2<br>before 3<br>before 4<br>before 5<br>before end<br>enumeration #1<br>1\n2<br>3\n4<br>5\nenumeration #2<br>1\n2<br>3\n4<br>5</p>\n</blockquote>\n<h2 id=\"譯者小結\"><a href=\"#譯者小結\" class=\"headerlink\" title=\"譯者小結\"></a>譯者小結</h2><p>如果真的能夠預期所有的行為的開發人員,<br>真的是好棒棒,<br>對我來說 static class constructor 的行為是超乎預期的,<br>然後對 <code>yield return</code> 的使用場景更有感覺了.<br>本來預計農曆年就可以完成的翻譯,<br>竟然也拖了這麼久,看來我英文還是不行啊.</p>\n<p>希望對大家有幫助,也請多多看原文 :)</p>\n<p>(fin)</p>\n"},{"title":"[實作筆記] Git 批次刪除分支","date":"2018-12-12T10:36:31.000Z","_content":"\n## 要知道的事\n- OS : Windows 10\n\n## 易學難精的 Git 與 Flow\n\n在使用 Git 時，分支的策略往往比 Git 本身更複雜。  \nGit 在建立分支是成本非常低的一件事情，  \n也因此很容易開出一堆分支，  \n這與團隊規模和PR的流程有關，可以參考文末的分支策略聯結。  \n因為 Git 開分支實在太便宜了，  \n我的 Remote Repo 不知不覺中竟然有了破千的分支。  \n大量的分支意味著大量的需求，其實是好事，  \n但是大部份的分支都已經功成身該退了，  \n當我使用一些 GUI 工具，為了顯示這些分支時，  \n這樣的數量反而成了阻礙。\n\n## 解法\n\n### 大量刪除遠端分支的方法\n\nStep1. 可以透過正規表示式查詢大量分支。\n\n```shell\n git branch -r | awk -Forigin/ '/\\/feature\\/BTS14/{print $2}'\n```\n\nStep2. 同上的語法，但是後面　pipeline 串接 xargs push 到指定的遠端(這個例子是 origin)\n\n```\n git branch -r | awk -Forigin/ '/\\/feature\\/BTS14/{print $2}'| xargs -I {} git push origin :{}\n```\n\n特別看一下 `{} git push origin :{}` ，我們實際上是透過 push 語法刪除分支的。\n\n## 補充\n#### 2019/05/09\n\n### 大量刪除本地分支的方法\n\nStep1. 可以透過正規表示式查詢大量分支。\n\n```shell\ngit branch | grep \"pattern\"\n```\n\nStep2. 同上的語法，但是後面　pipeline 串接 xargs push 到指定的遠端(這個例子是 origin)\n\n```shell\ngit branch | grep \"pattern\" | xargs git branch -D\n```\n\n## 參考\n- [Git分支管理策略 - 阮一峰的网络日志](http://www.ruanyifeng.com/blog/2012/07/git.html)\n- [筆記：TBD是三小?---What is Trunk Based Development?](http://nedwu13.blogspot.com/2014/01/tbd-what-is-trunk-based-development.html)\n  - 主幹開發主幹發佈/主幹開發分支發佈/分支開發主幹發佈\n(fin)","source":"_posts/2018/git_delete_remote_branch.md","raw":"---\ntitle: \"[實作筆記] Git 批次刪除分支\"\ndate: 2018/12/12 18:36:31\ntag:\n    - Git\n---\n\n## 要知道的事\n- OS : Windows 10\n\n## 易學難精的 Git 與 Flow\n\n在使用 Git 時，分支的策略往往比 Git 本身更複雜。  \nGit 在建立分支是成本非常低的一件事情，  \n也因此很容易開出一堆分支，  \n這與團隊規模和PR的流程有關，可以參考文末的分支策略聯結。  \n因為 Git 開分支實在太便宜了，  \n我的 Remote Repo 不知不覺中竟然有了破千的分支。  \n大量的分支意味著大量的需求，其實是好事，  \n但是大部份的分支都已經功成身該退了，  \n當我使用一些 GUI 工具，為了顯示這些分支時，  \n這樣的數量反而成了阻礙。\n\n## 解法\n\n### 大量刪除遠端分支的方法\n\nStep1. 可以透過正規表示式查詢大量分支。\n\n```shell\n git branch -r | awk -Forigin/ '/\\/feature\\/BTS14/{print $2}'\n```\n\nStep2. 同上的語法，但是後面　pipeline 串接 xargs push 到指定的遠端(這個例子是 origin)\n\n```\n git branch -r | awk -Forigin/ '/\\/feature\\/BTS14/{print $2}'| xargs -I {} git push origin :{}\n```\n\n特別看一下 `{} git push origin :{}` ，我們實際上是透過 push 語法刪除分支的。\n\n## 補充\n#### 2019/05/09\n\n### 大量刪除本地分支的方法\n\nStep1. 可以透過正規表示式查詢大量分支。\n\n```shell\ngit branch | grep \"pattern\"\n```\n\nStep2. 同上的語法，但是後面　pipeline 串接 xargs push 到指定的遠端(這個例子是 origin)\n\n```shell\ngit branch | grep \"pattern\" | xargs git branch -D\n```\n\n## 參考\n- [Git分支管理策略 - 阮一峰的网络日志](http://www.ruanyifeng.com/blog/2012/07/git.html)\n- [筆記：TBD是三小?---What is Trunk Based Development?](http://nedwu13.blogspot.com/2014/01/tbd-what-is-trunk-based-development.html)\n  - 主幹開發主幹發佈/主幹開發分支發佈/分支開發主幹發佈\n(fin)","slug":"2018/git_delete_remote_branch","published":1,"updated":"2019-06-10T14:43:28.923Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wki001nb0vxacrs1zxz","content":"<h2 id=\"要知道的事\"><a href=\"#要知道的事\" class=\"headerlink\" title=\"要知道的事\"></a>要知道的事</h2><ul>\n<li>OS : Windows 10</li>\n</ul>\n<h2 id=\"易學難精的-Git-與-Flow\"><a href=\"#易學難精的-Git-與-Flow\" class=\"headerlink\" title=\"易學難精的 Git 與 Flow\"></a>易學難精的 Git 與 Flow</h2><p>在使用 Git 時，分支的策略往往比 Git 本身更複雜。<br>Git 在建立分支是成本非常低的一件事情，<br>也因此很容易開出一堆分支，<br>這與團隊規模和PR的流程有關，可以參考文末的分支策略聯結。<br>因為 Git 開分支實在太便宜了，<br>我的 Remote Repo 不知不覺中竟然有了破千的分支。<br>大量的分支意味著大量的需求，其實是好事，<br>但是大部份的分支都已經功成身該退了，<br>當我使用一些 GUI 工具，為了顯示這些分支時，<br>這樣的數量反而成了阻礙。</p>\n<h2 id=\"解法\"><a href=\"#解法\" class=\"headerlink\" title=\"解法\"></a>解法</h2><h3 id=\"大量刪除遠端分支的方法\"><a href=\"#大量刪除遠端分支的方法\" class=\"headerlink\" title=\"大量刪除遠端分支的方法\"></a>大量刪除遠端分支的方法</h3><p>Step1. 可以透過正規表示式查詢大量分支。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git branch -r | awk -Forigin/ '/\\/feature\\/BTS14/&#123;print $2&#125;'</span><br></pre></td></tr></table></figure>\n\n<p>Step2. 同上的語法，但是後面　pipeline 串接 xargs push 到指定的遠端(這個例子是 origin)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git branch -r | awk -Forigin/ &apos;/\\/feature\\/BTS14/&#123;print $2&#125;&apos;| xargs -I &#123;&#125; git push origin :&#123;&#125;</span><br></pre></td></tr></table></figure>\n\n<p>特別看一下 <code>{} git push origin :{}</code> ，我們實際上是透過 push 語法刪除分支的。</p>\n<h2 id=\"補充\"><a href=\"#補充\" class=\"headerlink\" title=\"補充\"></a>補充</h2><h4 id=\"2019-05-09\"><a href=\"#2019-05-09\" class=\"headerlink\" title=\"2019/05/09\"></a>2019/05/09</h4><h3 id=\"大量刪除本地分支的方法\"><a href=\"#大量刪除本地分支的方法\" class=\"headerlink\" title=\"大量刪除本地分支的方法\"></a>大量刪除本地分支的方法</h3><p>Step1. 可以透過正規表示式查詢大量分支。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git branch | grep \"pattern\"</span><br></pre></td></tr></table></figure>\n\n<p>Step2. 同上的語法，但是後面　pipeline 串接 xargs push 到指定的遠端(這個例子是 origin)</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git branch | grep \"pattern\" | xargs git branch -D</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"http://www.ruanyifeng.com/blog/2012/07/git.html\" target=\"_blank\" rel=\"noopener\">Git分支管理策略 - 阮一峰的网络日志</a></li>\n<li><a href=\"http://nedwu13.blogspot.com/2014/01/tbd-what-is-trunk-based-development.html\" target=\"_blank\" rel=\"noopener\">筆記：TBD是三小?—What is Trunk Based Development?</a><ul>\n<li>主幹開發主幹發佈/主幹開發分支發佈/分支開發主幹發佈<br>(fin)</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"要知道的事\"><a href=\"#要知道的事\" class=\"headerlink\" title=\"要知道的事\"></a>要知道的事</h2><ul>\n<li>OS : Windows 10</li>\n</ul>\n<h2 id=\"易學難精的-Git-與-Flow\"><a href=\"#易學難精的-Git-與-Flow\" class=\"headerlink\" title=\"易學難精的 Git 與 Flow\"></a>易學難精的 Git 與 Flow</h2><p>在使用 Git 時，分支的策略往往比 Git 本身更複雜。<br>Git 在建立分支是成本非常低的一件事情，<br>也因此很容易開出一堆分支，<br>這與團隊規模和PR的流程有關，可以參考文末的分支策略聯結。<br>因為 Git 開分支實在太便宜了，<br>我的 Remote Repo 不知不覺中竟然有了破千的分支。<br>大量的分支意味著大量的需求，其實是好事，<br>但是大部份的分支都已經功成身該退了，<br>當我使用一些 GUI 工具，為了顯示這些分支時，<br>這樣的數量反而成了阻礙。</p>\n<h2 id=\"解法\"><a href=\"#解法\" class=\"headerlink\" title=\"解法\"></a>解法</h2><h3 id=\"大量刪除遠端分支的方法\"><a href=\"#大量刪除遠端分支的方法\" class=\"headerlink\" title=\"大量刪除遠端分支的方法\"></a>大量刪除遠端分支的方法</h3><p>Step1. 可以透過正規表示式查詢大量分支。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git branch -r | awk -Forigin/ '/\\/feature\\/BTS14/&#123;print $2&#125;'</span><br></pre></td></tr></table></figure>\n\n<p>Step2. 同上的語法，但是後面　pipeline 串接 xargs push 到指定的遠端(這個例子是 origin)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git branch -r | awk -Forigin/ &apos;/\\/feature\\/BTS14/&#123;print $2&#125;&apos;| xargs -I &#123;&#125; git push origin :&#123;&#125;</span><br></pre></td></tr></table></figure>\n\n<p>特別看一下 <code>{} git push origin :{}</code> ，我們實際上是透過 push 語法刪除分支的。</p>\n<h2 id=\"補充\"><a href=\"#補充\" class=\"headerlink\" title=\"補充\"></a>補充</h2><h4 id=\"2019-05-09\"><a href=\"#2019-05-09\" class=\"headerlink\" title=\"2019/05/09\"></a>2019/05/09</h4><h3 id=\"大量刪除本地分支的方法\"><a href=\"#大量刪除本地分支的方法\" class=\"headerlink\" title=\"大量刪除本地分支的方法\"></a>大量刪除本地分支的方法</h3><p>Step1. 可以透過正規表示式查詢大量分支。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git branch | grep \"pattern\"</span><br></pre></td></tr></table></figure>\n\n<p>Step2. 同上的語法，但是後面　pipeline 串接 xargs push 到指定的遠端(這個例子是 origin)</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git branch | grep \"pattern\" | xargs git branch -D</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"http://www.ruanyifeng.com/blog/2012/07/git.html\" target=\"_blank\" rel=\"noopener\">Git分支管理策略 - 阮一峰的网络日志</a></li>\n<li><a href=\"http://nedwu13.blogspot.com/2014/01/tbd-what-is-trunk-based-development.html\" target=\"_blank\" rel=\"noopener\">筆記：TBD是三小?—What is Trunk Based Development?</a><ul>\n<li>主幹開發主幹發佈/主幹開發分支發佈/分支開發主幹發佈<br>(fin)</li>\n</ul>\n</li>\n</ul>\n"},{"title":"[實作筆記]SQL Server 與 Linked Server 注意事項","date":"2018-10-17T10:05:33.000Z","_content":"### 原始 SQL\n\n```SQL=4\nUSE NationalDB\nGO\nBEGIN TRY\n---Select Cross Linked Server\nSelect Name From LinkedServer.Shop.dbo.Member\n---DO SOMETHING\nEND TRY\nBEGIN CATCH\n  DECLARE @errorMessage NVARCHAR(MAX) = ERROR_MESSAGE();\n  RAISERROR (@errorMessage, 16, 1);\nEND CATCH\n```\n\n1. 變數先行宣告\n2. 非必要不要宣告`MAX`\n3. 跨DB存取不使用四節式的查詢語法，改用 `sp_executesql`\n\n### 修改後的語法\n\n```SQL=4\nUSE NationalDB\nGO\nDECLARE @errorMessage NVARCHAR(4000) = ERROR_MESSAGE();\nBEGIN TRY\n---Select Cross Linked Server\nEXEC  LinkedServer.Shop.dbo.sp_executesql N'\n        SELECT @Name = Name\n        FROM dbo.Member\n        WHERE MemberId = @MemberId\n        AND Valid = 1',N'@MemberId bigint,@Name varchar(20) OUTPUT',@MemberId,@Name OUTPUT\n---DO SOMETHING\nEND TRY\nBEGIN CATCH\n  RAISERROR (@errorMessage, 16, 1);\nEND CATCH\n```\n\n(fin)","source":"_posts/2018/linkserver_with_sp_executesql.md","raw":"---\ntitle: \"[實作筆記]SQL Server 與 Linked Server 注意事項\"\ndate: 2018/10/17 18:05:33\ntag:\n  - SQL\n  - Database\n---\n### 原始 SQL\n\n```SQL=4\nUSE NationalDB\nGO\nBEGIN TRY\n---Select Cross Linked Server\nSelect Name From LinkedServer.Shop.dbo.Member\n---DO SOMETHING\nEND TRY\nBEGIN CATCH\n  DECLARE @errorMessage NVARCHAR(MAX) = ERROR_MESSAGE();\n  RAISERROR (@errorMessage, 16, 1);\nEND CATCH\n```\n\n1. 變數先行宣告\n2. 非必要不要宣告`MAX`\n3. 跨DB存取不使用四節式的查詢語法，改用 `sp_executesql`\n\n### 修改後的語法\n\n```SQL=4\nUSE NationalDB\nGO\nDECLARE @errorMessage NVARCHAR(4000) = ERROR_MESSAGE();\nBEGIN TRY\n---Select Cross Linked Server\nEXEC  LinkedServer.Shop.dbo.sp_executesql N'\n        SELECT @Name = Name\n        FROM dbo.Member\n        WHERE MemberId = @MemberId\n        AND Valid = 1',N'@MemberId bigint,@Name varchar(20) OUTPUT',@MemberId,@Name OUTPUT\n---DO SOMETHING\nEND TRY\nBEGIN CATCH\n  RAISERROR (@errorMessage, 16, 1);\nEND CATCH\n```\n\n(fin)","slug":"2018/linkserver_with_sp_executesql","published":1,"updated":"2019-06-10T14:43:28.930Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkj001ob0vxi3cnuna5","content":"<h3 id=\"原始-SQL\"><a href=\"#原始-SQL\" class=\"headerlink\" title=\"原始 SQL\"></a>原始 SQL</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">USE</span> NationalDB</span><br><span class=\"line\"><span class=\"keyword\">GO</span></span><br><span class=\"line\"><span class=\"keyword\">BEGIN</span> TRY</span><br><span class=\"line\"><span class=\"comment\">---Select Cross Linked Server</span></span><br><span class=\"line\"><span class=\"keyword\">Select</span> <span class=\"keyword\">Name</span> <span class=\"keyword\">From</span> LinkedServer.Shop.dbo.Member</span><br><span class=\"line\"><span class=\"comment\">---DO SOMETHING</span></span><br><span class=\"line\"><span class=\"keyword\">END</span> TRY</span><br><span class=\"line\"><span class=\"keyword\">BEGIN</span> CATCH</span><br><span class=\"line\">  <span class=\"keyword\">DECLARE</span> @errorMessage <span class=\"keyword\">NVARCHAR</span>(<span class=\"keyword\">MAX</span>) = ERROR_MESSAGE();</span><br><span class=\"line\">  RAISERROR (@errorMessage, 16, 1);</span><br><span class=\"line\"><span class=\"keyword\">END</span> CATCH</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>變數先行宣告</li>\n<li>非必要不要宣告<code>MAX</code></li>\n<li>跨DB存取不使用四節式的查詢語法，改用 <code>sp_executesql</code></li>\n</ol>\n<h3 id=\"修改後的語法\"><a href=\"#修改後的語法\" class=\"headerlink\" title=\"修改後的語法\"></a>修改後的語法</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">USE</span> NationalDB</span><br><span class=\"line\"><span class=\"keyword\">GO</span></span><br><span class=\"line\"><span class=\"keyword\">DECLARE</span> @errorMessage <span class=\"keyword\">NVARCHAR</span>(<span class=\"number\">4000</span>) = ERROR_MESSAGE();</span><br><span class=\"line\"><span class=\"keyword\">BEGIN</span> TRY</span><br><span class=\"line\"><span class=\"comment\">---Select Cross Linked Server</span></span><br><span class=\"line\">EXEC  LinkedServer.Shop.dbo.sp_executesql N<span class=\"string\">'</span></span><br><span class=\"line\"><span class=\"string\">        SELECT @Name = Name</span></span><br><span class=\"line\"><span class=\"string\">        FROM dbo.Member</span></span><br><span class=\"line\"><span class=\"string\">        WHERE MemberId = @MemberId</span></span><br><span class=\"line\"><span class=\"string\">        AND Valid = 1'</span>,N<span class=\"string\">'@MemberId bigint,@Name varchar(20) OUTPUT'</span>,@MemberId,@<span class=\"keyword\">Name</span> <span class=\"keyword\">OUTPUT</span></span><br><span class=\"line\"><span class=\"comment\">---DO SOMETHING</span></span><br><span class=\"line\"><span class=\"keyword\">END</span> TRY</span><br><span class=\"line\"><span class=\"keyword\">BEGIN</span> CATCH</span><br><span class=\"line\">  RAISERROR (@errorMessage, <span class=\"number\">16</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"keyword\">END</span> CATCH</span><br></pre></td></tr></table></figure>\n\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"原始-SQL\"><a href=\"#原始-SQL\" class=\"headerlink\" title=\"原始 SQL\"></a>原始 SQL</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">USE</span> NationalDB</span><br><span class=\"line\"><span class=\"keyword\">GO</span></span><br><span class=\"line\"><span class=\"keyword\">BEGIN</span> TRY</span><br><span class=\"line\"><span class=\"comment\">---Select Cross Linked Server</span></span><br><span class=\"line\"><span class=\"keyword\">Select</span> <span class=\"keyword\">Name</span> <span class=\"keyword\">From</span> LinkedServer.Shop.dbo.Member</span><br><span class=\"line\"><span class=\"comment\">---DO SOMETHING</span></span><br><span class=\"line\"><span class=\"keyword\">END</span> TRY</span><br><span class=\"line\"><span class=\"keyword\">BEGIN</span> CATCH</span><br><span class=\"line\">  <span class=\"keyword\">DECLARE</span> @errorMessage <span class=\"keyword\">NVARCHAR</span>(<span class=\"keyword\">MAX</span>) = ERROR_MESSAGE();</span><br><span class=\"line\">  RAISERROR (@errorMessage, 16, 1);</span><br><span class=\"line\"><span class=\"keyword\">END</span> CATCH</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>變數先行宣告</li>\n<li>非必要不要宣告<code>MAX</code></li>\n<li>跨DB存取不使用四節式的查詢語法，改用 <code>sp_executesql</code></li>\n</ol>\n<h3 id=\"修改後的語法\"><a href=\"#修改後的語法\" class=\"headerlink\" title=\"修改後的語法\"></a>修改後的語法</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">USE</span> NationalDB</span><br><span class=\"line\"><span class=\"keyword\">GO</span></span><br><span class=\"line\"><span class=\"keyword\">DECLARE</span> @errorMessage <span class=\"keyword\">NVARCHAR</span>(<span class=\"number\">4000</span>) = ERROR_MESSAGE();</span><br><span class=\"line\"><span class=\"keyword\">BEGIN</span> TRY</span><br><span class=\"line\"><span class=\"comment\">---Select Cross Linked Server</span></span><br><span class=\"line\">EXEC  LinkedServer.Shop.dbo.sp_executesql N<span class=\"string\">'</span></span><br><span class=\"line\"><span class=\"string\">        SELECT @Name = Name</span></span><br><span class=\"line\"><span class=\"string\">        FROM dbo.Member</span></span><br><span class=\"line\"><span class=\"string\">        WHERE MemberId = @MemberId</span></span><br><span class=\"line\"><span class=\"string\">        AND Valid = 1'</span>,N<span class=\"string\">'@MemberId bigint,@Name varchar(20) OUTPUT'</span>,@MemberId,@<span class=\"keyword\">Name</span> <span class=\"keyword\">OUTPUT</span></span><br><span class=\"line\"><span class=\"comment\">---DO SOMETHING</span></span><br><span class=\"line\"><span class=\"keyword\">END</span> TRY</span><br><span class=\"line\"><span class=\"keyword\">BEGIN</span> CATCH</span><br><span class=\"line\">  RAISERROR (@errorMessage, <span class=\"number\">16</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"keyword\">END</span> CATCH</span><br></pre></td></tr></table></figure>\n\n<p>(fin)</p>\n"},{"title":"[實作筆記]Hexo Update 與 npm 修復漏洞","date":"2018-10-20T03:41:05.000Z","_content":"\n好久沒有作 hexo 更新了，  \n本身這個 Blog 就是透過 [hexo 與 Github 建置](https://blog.marsen.me/2016/08/28/how_to_use_github_page/)的 。\n眨眼也過了兩年，文筆仍然很差;  \n說真的有很大的[資訊焦慮](https://www.darencademy.com/article/view/id/16485)，文章的內容也不夠充實，  \n很多觀點無法忠實的記錄下來，更無法連貫成線;  \n自已還要多方努力與學習。\n\n如前面所說，這個 Blog 是透過 Github 作存放的空間，  \n雖然 [Github 最近被 Microsoft 收購](https://news.microsoft.com/2018/06/04/microsoft-to-acquire-github-for-7-5-billion/)了;  \n不過它仍是開發人員最常使用的代碼托管服務與社群，  \n而且微軟近年轉型相同成功 –— 未來會怎麼樣我們可以觀察後再下定論。  \n\nGithub 一直以來都有一個很棒的功能，  \n[GitHub's security alerts for vulnerable dependencies](https://help.github.com/articles/about-security-alerts-for-vulnerable-dependencies/)\n\n它能夠對你的 Repo 提供安全警告，  \n如下圖，這是對我的個人 Blog 所使用的框架 Hexo 的相依性安全警告，  \n這封信說明了 lodash 這個套件的版本存在著高風險的資安問題，   \n建議升級套件以解決這個問題。  \n![](https://i.imgur.com/HYBh5vv.jpg)\n\n\n### 解決方式\n\n使用 [`npm update`](https://docs.npmjs.com/cli/update) , 這個命令會更新專案的 package 到最新版本  \n\n\n```sh\nnpm update\n```\n\n可能會看到類似以下的結果，同時提示你可以使用 [`npm audit fix`](https://docs.npmjs.com/cli/audit) 更新有風險的 package 以修複這些漏洞  \n\n\n```sh\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules\\nunjucks\\node_modules\\fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"win32\",\"arch\":\"x64\"})\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.1.3 (node_modules\\fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.1.3: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"win32\",\"arch\":\"x64\"})\n\n+ hexo@3.8.0\nadded 126 packages from 59 contributors, removed 80 packages, updated 21 packages, moved 14 packages and audited 3143 packages in 25.064s\nfound 68 vulnerabilities (21 low, 38 moderate, 9 high)\nrun `npm audit fix` to fix them, or `npm audit` for details\n```\n\n(fin)","source":"_posts/2018/hexo_update.md","raw":"---\ntitle: \"[實作筆記]Hexo Update 與 npm 修復漏洞\"\ndate: 2018/10/20 11:41:05\ntag:\n  - Hexo\n  - Node.js\n---\n\n好久沒有作 hexo 更新了，  \n本身這個 Blog 就是透過 [hexo 與 Github 建置](https://blog.marsen.me/2016/08/28/how_to_use_github_page/)的 。\n眨眼也過了兩年，文筆仍然很差;  \n說真的有很大的[資訊焦慮](https://www.darencademy.com/article/view/id/16485)，文章的內容也不夠充實，  \n很多觀點無法忠實的記錄下來，更無法連貫成線;  \n自已還要多方努力與學習。\n\n如前面所說，這個 Blog 是透過 Github 作存放的空間，  \n雖然 [Github 最近被 Microsoft 收購](https://news.microsoft.com/2018/06/04/microsoft-to-acquire-github-for-7-5-billion/)了;  \n不過它仍是開發人員最常使用的代碼托管服務與社群，  \n而且微軟近年轉型相同成功 –— 未來會怎麼樣我們可以觀察後再下定論。  \n\nGithub 一直以來都有一個很棒的功能，  \n[GitHub's security alerts for vulnerable dependencies](https://help.github.com/articles/about-security-alerts-for-vulnerable-dependencies/)\n\n它能夠對你的 Repo 提供安全警告，  \n如下圖，這是對我的個人 Blog 所使用的框架 Hexo 的相依性安全警告，  \n這封信說明了 lodash 這個套件的版本存在著高風險的資安問題，   \n建議升級套件以解決這個問題。  \n![](https://i.imgur.com/HYBh5vv.jpg)\n\n\n### 解決方式\n\n使用 [`npm update`](https://docs.npmjs.com/cli/update) , 這個命令會更新專案的 package 到最新版本  \n\n\n```sh\nnpm update\n```\n\n可能會看到類似以下的結果，同時提示你可以使用 [`npm audit fix`](https://docs.npmjs.com/cli/audit) 更新有風險的 package 以修複這些漏洞  \n\n\n```sh\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules\\nunjucks\\node_modules\\fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"win32\",\"arch\":\"x64\"})\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.1.3 (node_modules\\fsevents):\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.1.3: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"win32\",\"arch\":\"x64\"})\n\n+ hexo@3.8.0\nadded 126 packages from 59 contributors, removed 80 packages, updated 21 packages, moved 14 packages and audited 3143 packages in 25.064s\nfound 68 vulnerabilities (21 low, 38 moderate, 9 high)\nrun `npm audit fix` to fix them, or `npm audit` for details\n```\n\n(fin)","slug":"2018/hexo_update","published":1,"updated":"2019-06-10T14:43:28.926Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkj001pb0vxt8plexbm","content":"<p>好久沒有作 hexo 更新了，<br>本身這個 Blog 就是透過 <a href=\"https://blog.marsen.me/2016/08/28/how_to_use_github_page/\">hexo 與 Github 建置</a>的 。<br>眨眼也過了兩年，文筆仍然很差;<br>說真的有很大的<a href=\"https://www.darencademy.com/article/view/id/16485\" target=\"_blank\" rel=\"noopener\">資訊焦慮</a>，文章的內容也不夠充實，<br>很多觀點無法忠實的記錄下來，更無法連貫成線;<br>自已還要多方努力與學習。</p>\n<p>如前面所說，這個 Blog 是透過 Github 作存放的空間，<br>雖然 <a href=\"https://news.microsoft.com/2018/06/04/microsoft-to-acquire-github-for-7-5-billion/\" target=\"_blank\" rel=\"noopener\">Github 最近被 Microsoft 收購</a>了;<br>不過它仍是開發人員最常使用的代碼托管服務與社群，<br>而且微軟近年轉型相同成功 –— 未來會怎麼樣我們可以觀察後再下定論。  </p>\n<p>Github 一直以來都有一個很棒的功能，<br><a href=\"https://help.github.com/articles/about-security-alerts-for-vulnerable-dependencies/\" target=\"_blank\" rel=\"noopener\">GitHub’s security alerts for vulnerable dependencies</a></p>\n<p>它能夠對你的 Repo 提供安全警告，<br>如下圖，這是對我的個人 Blog 所使用的框架 Hexo 的相依性安全警告，<br>這封信說明了 lodash 這個套件的版本存在著高風險的資安問題，<br>建議升級套件以解決這個問題。<br><img src=\"https://i.imgur.com/HYBh5vv.jpg\" alt></p>\n<h3 id=\"解決方式\"><a href=\"#解決方式\" class=\"headerlink\" title=\"解決方式\"></a>解決方式</h3><p>使用 <a href=\"https://docs.npmjs.com/cli/update\" target=\"_blank\" rel=\"noopener\"><code>npm update</code></a> , 這個命令會更新專案的 package 到最新版本  </p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm update</span><br></pre></td></tr></table></figure>\n\n<p>可能會看到類似以下的結果，同時提示你可以使用 <a href=\"https://docs.npmjs.com/cli/audit\" target=\"_blank\" rel=\"noopener\"><code>npm audit fix</code></a> 更新有風險的 package 以修複這些漏洞  </p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules\\nunjucks\\node_modules\\fsevents):</span><br><span class=\"line\">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class=\"keyword\">for</span> fsevents@1.2.4: wanted &#123;<span class=\"string\">\"os\"</span>:<span class=\"string\">\"darwin\"</span>,<span class=\"string\">\"arch\"</span>:<span class=\"string\">\"any\"</span>&#125; (current: &#123;<span class=\"string\">\"os\"</span>:<span class=\"string\">\"win32\"</span>,<span class=\"string\">\"arch\"</span>:<span class=\"string\">\"x64\"</span>&#125;)</span><br><span class=\"line\">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.1.3 (node_modules\\fsevents):</span><br><span class=\"line\">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class=\"keyword\">for</span> fsevents@1.1.3: wanted &#123;<span class=\"string\">\"os\"</span>:<span class=\"string\">\"darwin\"</span>,<span class=\"string\">\"arch\"</span>:<span class=\"string\">\"any\"</span>&#125; (current: &#123;<span class=\"string\">\"os\"</span>:<span class=\"string\">\"win32\"</span>,<span class=\"string\">\"arch\"</span>:<span class=\"string\">\"x64\"</span>&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">+ hexo@3.8.0</span><br><span class=\"line\">added 126 packages from 59 contributors, removed 80 packages, updated 21 packages, moved 14 packages and audited 3143 packages <span class=\"keyword\">in</span> 25.064s</span><br><span class=\"line\">found 68 vulnerabilities (21 low, 38 moderate, 9 high)</span><br><span class=\"line\">run `npm audit fix` to fix them, or `npm audit` <span class=\"keyword\">for</span> details</span><br></pre></td></tr></table></figure>\n\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<p>好久沒有作 hexo 更新了，<br>本身這個 Blog 就是透過 <a href=\"https://blog.marsen.me/2016/08/28/how_to_use_github_page/\">hexo 與 Github 建置</a>的 。<br>眨眼也過了兩年，文筆仍然很差;<br>說真的有很大的<a href=\"https://www.darencademy.com/article/view/id/16485\" target=\"_blank\" rel=\"noopener\">資訊焦慮</a>，文章的內容也不夠充實，<br>很多觀點無法忠實的記錄下來，更無法連貫成線;<br>自已還要多方努力與學習。</p>\n<p>如前面所說，這個 Blog 是透過 Github 作存放的空間，<br>雖然 <a href=\"https://news.microsoft.com/2018/06/04/microsoft-to-acquire-github-for-7-5-billion/\" target=\"_blank\" rel=\"noopener\">Github 最近被 Microsoft 收購</a>了;<br>不過它仍是開發人員最常使用的代碼托管服務與社群，<br>而且微軟近年轉型相同成功 –— 未來會怎麼樣我們可以觀察後再下定論。  </p>\n<p>Github 一直以來都有一個很棒的功能，<br><a href=\"https://help.github.com/articles/about-security-alerts-for-vulnerable-dependencies/\" target=\"_blank\" rel=\"noopener\">GitHub’s security alerts for vulnerable dependencies</a></p>\n<p>它能夠對你的 Repo 提供安全警告，<br>如下圖，這是對我的個人 Blog 所使用的框架 Hexo 的相依性安全警告，<br>這封信說明了 lodash 這個套件的版本存在著高風險的資安問題，<br>建議升級套件以解決這個問題。<br><img src=\"https://i.imgur.com/HYBh5vv.jpg\" alt></p>\n<h3 id=\"解決方式\"><a href=\"#解決方式\" class=\"headerlink\" title=\"解決方式\"></a>解決方式</h3><p>使用 <a href=\"https://docs.npmjs.com/cli/update\" target=\"_blank\" rel=\"noopener\"><code>npm update</code></a> , 這個命令會更新專案的 package 到最新版本  </p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm update</span><br></pre></td></tr></table></figure>\n\n<p>可能會看到類似以下的結果，同時提示你可以使用 <a href=\"https://docs.npmjs.com/cli/audit\" target=\"_blank\" rel=\"noopener\"><code>npm audit fix</code></a> 更新有風險的 package 以修複這些漏洞  </p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules\\nunjucks\\node_modules\\fsevents):</span><br><span class=\"line\">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class=\"keyword\">for</span> fsevents@1.2.4: wanted &#123;<span class=\"string\">\"os\"</span>:<span class=\"string\">\"darwin\"</span>,<span class=\"string\">\"arch\"</span>:<span class=\"string\">\"any\"</span>&#125; (current: &#123;<span class=\"string\">\"os\"</span>:<span class=\"string\">\"win32\"</span>,<span class=\"string\">\"arch\"</span>:<span class=\"string\">\"x64\"</span>&#125;)</span><br><span class=\"line\">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.1.3 (node_modules\\fsevents):</span><br><span class=\"line\">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class=\"keyword\">for</span> fsevents@1.1.3: wanted &#123;<span class=\"string\">\"os\"</span>:<span class=\"string\">\"darwin\"</span>,<span class=\"string\">\"arch\"</span>:<span class=\"string\">\"any\"</span>&#125; (current: &#123;<span class=\"string\">\"os\"</span>:<span class=\"string\">\"win32\"</span>,<span class=\"string\">\"arch\"</span>:<span class=\"string\">\"x64\"</span>&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">+ hexo@3.8.0</span><br><span class=\"line\">added 126 packages from 59 contributors, removed 80 packages, updated 21 packages, moved 14 packages and audited 3143 packages <span class=\"keyword\">in</span> 25.064s</span><br><span class=\"line\">found 68 vulnerabilities (21 low, 38 moderate, 9 high)</span><br><span class=\"line\">run `npm audit fix` to fix them, or `npm audit` <span class=\"keyword\">for</span> details</span><br></pre></td></tr></table></figure>\n\n<p>(fin)</p>\n"},{"title":"i18n 與 l10n","date":"2018-09-07T03:51:45.000Z","_content":"\n## I18n 國際化\n\n```\n| I | n | t | e | r | n | a | t | i | o | n | a | l | i | z | a | t | i | o | n |\n|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|\n|   | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |10 |11 |12 |13 |14 |15 |16 |17 |18 |   |\n```\n\n`Internationalization` 因為字首I到字尾N18個英文字  \n\n## L10n 在地化\n\n```markdown\n| L | o | c | a | l | i | z | a | t | i | o | n |\n|---|---|---|---|---|---|---|---|---|---|---|---|\n|   | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |10 |   |\n```\n\n`Localization` 因為字首L到字尾N共10個英文字\n\n\n## 國際化/在地化常見問題\n - 語言\n    - `語系-區碼`\n \n```json\n  [\n  {\"LangCultureName\": \"af-ZA\", \"DisplayName\": \"Afrikaans - South Africa\"},\n  {\"LangCultureName\": \"sq-AL\", \"DisplayName\": \"Albanian - Albania\"},\n  {\"LangCultureName\": \"ar-DZ\", \"DisplayName\": \"Arabic - Algeria\"},\n  {\"LangCultureName\": \"ar-BH\", \"DisplayName\": \"Arabic - Bahrain\"},\n  {\"LangCultureName\": \"ar-EG\", \"DisplayName\": \"Arabic - Egypt\"},\n  {\"LangCultureName\": \"ar-IQ\", \"DisplayName\": \"Arabic - Iraq\"},\n  {\"LangCultureName\": \"ar-JO\", \"DisplayName\": \"Arabic - Jordan\"},\n  {\"LangCultureName\": \"ar-KW\", \"DisplayName\": \"Arabic - Kuwait\"},\n  {\"LangCultureName\": \"ar-LB\", \"DisplayName\": \"Arabic - Lebanon\"},\n  {\"LangCultureName\": \"ar-LY\", \"DisplayName\": \"Arabic - Libya\"},\n  {\"LangCultureName\": \"ar-MA\", \"DisplayName\": \"Arabic - Morocco\"},\n  {\"LangCultureName\": \"ar-OM\", \"DisplayName\": \"Arabic - Oman\"},\n  {\"LangCultureName\": \"ar-QA\", \"DisplayName\": \"Arabic - Qatar\"},\n  {\"LangCultureName\": \"ar-SA\", \"DisplayName\": \"Arabic - Saudi Arabia\"},\n  {\"LangCultureName\": \"ar-SY\", \"DisplayName\": \"Arabic - Syria\"},\n  {\"LangCultureName\": \"ar-TN\", \"DisplayName\": \"Arabic - Tunisia\"},\n  {\"LangCultureName\": \"ar-AE\", \"DisplayName\": \"Arabic - United Arab Emirates\"},\n  {\"LangCultureName\": \"ar-YE\", \"DisplayName\": \"Arabic - Yemen\"},\n  {\"LangCultureName\": \"hy-AM\", \"DisplayName\": \"Armenian - Armenia\"},\n  {\"LangCultureName\": \"Cy-az-AZ\", \"DisplayName\": \"Azeri (Cyrillic) - Azerbaijan\"},\n  {\"LangCultureName\": \"Lt-az-AZ\", \"DisplayName\": \"Azeri (Latin) - Azerbaijan\"},\n  {\"LangCultureName\": \"eu-ES\", \"DisplayName\": \"Basque - Basque\"},\n  {\"LangCultureName\": \"be-BY\", \"DisplayName\": \"Belarusian - Belarus\"},\n  {\"LangCultureName\": \"bg-BG\", \"DisplayName\": \"Bulgarian - Bulgaria\"},\n  {\"LangCultureName\": \"ca-ES\", \"DisplayName\": \"Catalan - Catalan\"},\n  {\"LangCultureName\": \"zh-CN\", \"DisplayName\": \"Chinese - China\"},\n  {\"LangCultureName\": \"zh-HK\", \"DisplayName\": \"Chinese - Hong Kong SAR\"},\n  {\"LangCultureName\": \"zh-MO\", \"DisplayName\": \"Chinese - Macau SAR\"},\n  {\"LangCultureName\": \"zh-SG\", \"DisplayName\": \"Chinese - Singapore\"},\n  {\"LangCultureName\": \"zh-TW\", \"DisplayName\": \"Chinese - Taiwan\"},\n  {\"LangCultureName\": \"zh-CHS\", \"DisplayName\": \"Chinese (Simplified)\"},\n  {\"LangCultureName\": \"zh-CHT\", \"DisplayName\": \"Chinese (Traditional)\"},\n  {\"LangCultureName\": \"hr-HR\", \"DisplayName\": \"Croatian - Croatia\"},\n  {\"LangCultureName\": \"cs-CZ\", \"DisplayName\": \"Czech - Czech Republic\"},\n  {\"LangCultureName\": \"da-DK\", \"DisplayName\": \"Danish - Denmark\"},\n  {\"LangCultureName\": \"div-MV\", \"DisplayName\": \"Dhivehi - Maldives\"},\n  {\"LangCultureName\": \"nl-BE\", \"DisplayName\": \"Dutch - Belgium\"},\n  {\"LangCultureName\": \"nl-NL\", \"DisplayName\": \"Dutch - The Netherlands\"},\n  {\"LangCultureName\": \"en-AU\", \"DisplayName\": \"English - Australia\"},\n  {\"LangCultureName\": \"en-BZ\", \"DisplayName\": \"English - Belize\"},\n  {\"LangCultureName\": \"en-CA\", \"DisplayName\": \"English - Canada\"},\n  {\"LangCultureName\": \"en-CB\", \"DisplayName\": \"English - Caribbean\"},\n  {\"LangCultureName\": \"en-IE\", \"DisplayName\": \"English - Ireland\"},\n  {\"LangCultureName\": \"en-JM\", \"DisplayName\": \"English - Jamaica\"},\n  {\"LangCultureName\": \"en-NZ\", \"DisplayName\": \"English - New Zealand\"},\n  {\"LangCultureName\": \"en-PH\", \"DisplayName\": \"English - Philippines\"},\n  {\"LangCultureName\": \"en-ZA\", \"DisplayName\": \"English - South Africa\"},\n  {\"LangCultureName\": \"en-TT\", \"DisplayName\": \"English - Trinidad and Tobago\"},\n  {\"LangCultureName\": \"en-GB\", \"DisplayName\": \"English - United Kingdom\"},\n  {\"LangCultureName\": \"en-US\", \"DisplayName\": \"English - United States\"},\n  {\"LangCultureName\": \"en-ZW\", \"DisplayName\": \"English - Zimbabwe\"},\n  {\"LangCultureName\": \"et-EE\", \"DisplayName\": \"Estonian - Estonia\"},\n  {\"LangCultureName\": \"fo-FO\", \"DisplayName\": \"Faroese - Faroe Islands\"},\n  {\"LangCultureName\": \"fa-IR\", \"DisplayName\": \"Farsi - Iran\"},\n  {\"LangCultureName\": \"fi-FI\", \"DisplayName\": \"Finnish - Finland\"},\n  {\"LangCultureName\": \"fr-BE\", \"DisplayName\": \"French - Belgium\"},\n  {\"LangCultureName\": \"fr-CA\", \"DisplayName\": \"French - Canada\"},\n  {\"LangCultureName\": \"fr-FR\", \"DisplayName\": \"French - France\"},\n  {\"LangCultureName\": \"fr-LU\", \"DisplayName\": \"French - Luxembourg\"},\n  {\"LangCultureName\": \"fr-MC\", \"DisplayName\": \"French - Monaco\"},\n  {\"LangCultureName\": \"fr-CH\", \"DisplayName\": \"French - Switzerland\"},\n  {\"LangCultureName\": \"gl-ES\", \"DisplayName\": \"Galician - Galician\"},\n  {\"LangCultureName\": \"ka-GE\", \"DisplayName\": \"Georgian - Georgia\"},\n  {\"LangCultureName\": \"de-AT\", \"DisplayName\": \"German - Austria\"},\n  {\"LangCultureName\": \"de-DE\", \"DisplayName\": \"German - Germany\"},\n  {\"LangCultureName\": \"de-LI\", \"DisplayName\": \"German - Liechtenstein\"},\n  {\"LangCultureName\": \"de-LU\", \"DisplayName\": \"German - Luxembourg\"},\n  {\"LangCultureName\": \"de-CH\", \"DisplayName\": \"German - Switzerland\"},\n  {\"LangCultureName\": \"el-GR\", \"DisplayName\": \"Greek - Greece\"},\n  {\"LangCultureName\": \"gu-IN\", \"DisplayName\": \"Gujarati - India\"},\n  {\"LangCultureName\": \"he-IL\", \"DisplayName\": \"Hebrew - Israel\"},\n  {\"LangCultureName\": \"hi-IN\", \"DisplayName\": \"Hindi - India\"},\n  {\"LangCultureName\": \"hu-HU\", \"DisplayName\": \"Hungarian - Hungary\"},\n  {\"LangCultureName\": \"is-IS\", \"DisplayName\": \"Icelandic - Iceland\"},\n  {\"LangCultureName\": \"id-ID\", \"DisplayName\": \"Indonesian - Indonesia\"},\n  {\"LangCultureName\": \"it-IT\", \"DisplayName\": \"Italian - Italy\"},\n  {\"LangCultureName\": \"it-CH\", \"DisplayName\": \"Italian - Switzerland\"},\n  {\"LangCultureName\": \"ja-JP\", \"DisplayName\": \"Japanese - Japan\"},\n  {\"LangCultureName\": \"kn-IN\", \"DisplayName\": \"Kannada - India\"},\n  {\"LangCultureName\": \"kk-KZ\", \"DisplayName\": \"Kazakh - Kazakhstan\"},\n  {\"LangCultureName\": \"kok-IN\", \"DisplayName\": \"Konkani - India\"},\n  {\"LangCultureName\": \"ko-KR\", \"DisplayName\": \"Korean - Korea\"},\n  {\"LangCultureName\": \"ky-KZ\", \"DisplayName\": \"Kyrgyz - Kazakhstan\"},\n  {\"LangCultureName\": \"lv-LV\", \"DisplayName\": \"Latvian - Latvia\"},\n  {\"LangCultureName\": \"lt-LT\", \"DisplayName\": \"Lithuanian - Lithuania\"},\n  {\"LangCultureName\": \"mk-MK\", \"DisplayName\": \"Macedonian (FYROM)\"},\n  {\"LangCultureName\": \"ms-BN\", \"DisplayName\": \"Malay - Brunei\"},\n  {\"LangCultureName\": \"ms-MY\", \"DisplayName\": \"Malay - Malaysia\"},\n  {\"LangCultureName\": \"mr-IN\", \"DisplayName\": \"Marathi - India\"},\n  {\"LangCultureName\": \"mn-MN\", \"DisplayName\": \"Mongolian - Mongolia\"},\n  {\"LangCultureName\": \"nb-NO\", \"DisplayName\": \"Norwegian (Bokmål) - Norway\"},\n  {\"LangCultureName\": \"nn-NO\", \"DisplayName\": \"Norwegian (Nynorsk) - Norway\"},\n  {\"LangCultureName\": \"pl-PL\", \"DisplayName\": \"Polish - Poland\"},\n  {\"LangCultureName\": \"pt-BR\", \"DisplayName\": \"Portuguese - Brazil\"},\n  {\"LangCultureName\": \"pt-PT\", \"DisplayName\": \"Portuguese - Portugal\"},\n  {\"LangCultureName\": \"pa-IN\", \"DisplayName\": \"Punjabi - India\"},\n  {\"LangCultureName\": \"ro-RO\", \"DisplayName\": \"Romanian - Romania\"},\n  {\"LangCultureName\": \"ru-RU\", \"DisplayName\": \"Russian - Russia\"},\n  {\"LangCultureName\": \"sa-IN\", \"DisplayName\": \"Sanskrit - India\"},\n  {\"LangCultureName\": \"Cy-sr-SP\", \"DisplayName\": \"Serbian (Cyrillic) - Serbia\"},\n  {\"LangCultureName\": \"Lt-sr-SP\", \"DisplayName\": \"Serbian (Latin) - Serbia\"},\n  {\"LangCultureName\": \"sk-SK\", \"DisplayName\": \"Slovak - Slovakia\"},\n  {\"LangCultureName\": \"sl-SI\", \"DisplayName\": \"Slovenian - Slovenia\"},\n  {\"LangCultureName\": \"es-AR\", \"DisplayName\": \"Spanish - Argentina\"},\n  {\"LangCultureName\": \"es-BO\", \"DisplayName\": \"Spanish - Bolivia\"},\n  {\"LangCultureName\": \"es-CL\", \"DisplayName\": \"Spanish - Chile\"},\n  {\"LangCultureName\": \"es-CO\", \"DisplayName\": \"Spanish - Colombia\"},\n  {\"LangCultureName\": \"es-CR\", \"DisplayName\": \"Spanish - Costa Rica\"},\n  {\"LangCultureName\": \"es-DO\", \"DisplayName\": \"Spanish - Dominican Republic\"},\n  {\"LangCultureName\": \"es-EC\", \"DisplayName\": \"Spanish - Ecuador\"},\n  {\"LangCultureName\": \"es-SV\", \"DisplayName\": \"Spanish - El Salvador\"},\n  {\"LangCultureName\": \"es-GT\", \"DisplayName\": \"Spanish - Guatemala\"},\n  {\"LangCultureName\": \"es-HN\", \"DisplayName\": \"Spanish - Honduras\"},\n  {\"LangCultureName\": \"es-MX\", \"DisplayName\": \"Spanish - Mexico\"},\n  {\"LangCultureName\": \"es-NI\", \"DisplayName\": \"Spanish - Nicaragua\"},\n  {\"LangCultureName\": \"es-PA\", \"DisplayName\": \"Spanish - Panama\"},\n  {\"LangCultureName\": \"es-PY\", \"DisplayName\": \"Spanish - Paraguay\"},\n  {\"LangCultureName\": \"es-PE\", \"DisplayName\": \"Spanish - Peru\"},\n  {\"LangCultureName\": \"es-PR\", \"DisplayName\": \"Spanish - Puerto Rico\"},\n  {\"LangCultureName\": \"es-ES\", \"DisplayName\": \"Spanish - Spain\"},\n  {\"LangCultureName\": \"es-UY\", \"DisplayName\": \"Spanish - Uruguay\"},\n  {\"LangCultureName\": \"es-VE\", \"DisplayName\": \"Spanish - Venezuela\"},\n  {\"LangCultureName\": \"sw-KE\", \"DisplayName\": \"Swahili - Kenya\"},\n  {\"LangCultureName\": \"sv-FI\", \"DisplayName\": \"Swedish - Finland\"},\n  {\"LangCultureName\": \"sv-SE\", \"DisplayName\": \"Swedish - Sweden\"},\n  {\"LangCultureName\": \"syr-SY\", \"DisplayName\": \"Syriac - Syria\"},\n  {\"LangCultureName\": \"ta-IN\", \"DisplayName\": \"Tamil - India\"},\n  {\"LangCultureName\": \"tt-RU\", \"DisplayName\": \"Tatar - Russia\"},\n  {\"LangCultureName\": \"te-IN\", \"DisplayName\": \"Telugu - India\"},\n  {\"LangCultureName\": \"th-TH\", \"DisplayName\": \"Thai - Thailand\"},\n  {\"LangCultureName\": \"tr-TR\", \"DisplayName\": \"Turkish - Turkey\"},\n  {\"LangCultureName\": \"uk-UA\", \"DisplayName\": \"Ukrainian - Ukraine\"},\n  {\"LangCultureName\": \"ur-PK\", \"DisplayName\": \"Urdu - Pakistan\"},\n  {\"LangCultureName\": \"Cy-uz-UZ\", \"DisplayName\": \"Uzbek (Cyrillic) - Uzbekistan\"},\n  {\"LangCultureName\": \"Lt-uz-UZ\", \"DisplayName\": \"Uzbek (Latin) - Uzbekistan\"},\n  {\"LangCultureName\": \"vi-VN\", \"DisplayName\": \"Vietnamese - Vietnam\"}\n]\n  ```\n\n - 單位\n    - 貨幣\n    - 尺吋/重量/公制/英制\n    - format\n        - [C#](https://docs.microsoft.com/zh-tw/dotnet/api/system.globalization.numberformatinfo?view=netframework-4.7.2)\n        - [javascript](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat) \n - 時區\n    - 跨時區\n    - 日光節約時間    \n- 其它\n    - 地址\n    - 姓名\n    - 電話號碼\n\n    \n(fin)","source":"_posts/2018/l10n_i18n.md","raw":"---\ntitle: \"i18n 與 l10n\"\ndate: 2018/09/07 11:51:45\n---\n\n## I18n 國際化\n\n```\n| I | n | t | e | r | n | a | t | i | o | n | a | l | i | z | a | t | i | o | n |\n|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|\n|   | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |10 |11 |12 |13 |14 |15 |16 |17 |18 |   |\n```\n\n`Internationalization` 因為字首I到字尾N18個英文字  \n\n## L10n 在地化\n\n```markdown\n| L | o | c | a | l | i | z | a | t | i | o | n |\n|---|---|---|---|---|---|---|---|---|---|---|---|\n|   | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |10 |   |\n```\n\n`Localization` 因為字首L到字尾N共10個英文字\n\n\n## 國際化/在地化常見問題\n - 語言\n    - `語系-區碼`\n \n```json\n  [\n  {\"LangCultureName\": \"af-ZA\", \"DisplayName\": \"Afrikaans - South Africa\"},\n  {\"LangCultureName\": \"sq-AL\", \"DisplayName\": \"Albanian - Albania\"},\n  {\"LangCultureName\": \"ar-DZ\", \"DisplayName\": \"Arabic - Algeria\"},\n  {\"LangCultureName\": \"ar-BH\", \"DisplayName\": \"Arabic - Bahrain\"},\n  {\"LangCultureName\": \"ar-EG\", \"DisplayName\": \"Arabic - Egypt\"},\n  {\"LangCultureName\": \"ar-IQ\", \"DisplayName\": \"Arabic - Iraq\"},\n  {\"LangCultureName\": \"ar-JO\", \"DisplayName\": \"Arabic - Jordan\"},\n  {\"LangCultureName\": \"ar-KW\", \"DisplayName\": \"Arabic - Kuwait\"},\n  {\"LangCultureName\": \"ar-LB\", \"DisplayName\": \"Arabic - Lebanon\"},\n  {\"LangCultureName\": \"ar-LY\", \"DisplayName\": \"Arabic - Libya\"},\n  {\"LangCultureName\": \"ar-MA\", \"DisplayName\": \"Arabic - Morocco\"},\n  {\"LangCultureName\": \"ar-OM\", \"DisplayName\": \"Arabic - Oman\"},\n  {\"LangCultureName\": \"ar-QA\", \"DisplayName\": \"Arabic - Qatar\"},\n  {\"LangCultureName\": \"ar-SA\", \"DisplayName\": \"Arabic - Saudi Arabia\"},\n  {\"LangCultureName\": \"ar-SY\", \"DisplayName\": \"Arabic - Syria\"},\n  {\"LangCultureName\": \"ar-TN\", \"DisplayName\": \"Arabic - Tunisia\"},\n  {\"LangCultureName\": \"ar-AE\", \"DisplayName\": \"Arabic - United Arab Emirates\"},\n  {\"LangCultureName\": \"ar-YE\", \"DisplayName\": \"Arabic - Yemen\"},\n  {\"LangCultureName\": \"hy-AM\", \"DisplayName\": \"Armenian - Armenia\"},\n  {\"LangCultureName\": \"Cy-az-AZ\", \"DisplayName\": \"Azeri (Cyrillic) - Azerbaijan\"},\n  {\"LangCultureName\": \"Lt-az-AZ\", \"DisplayName\": \"Azeri (Latin) - Azerbaijan\"},\n  {\"LangCultureName\": \"eu-ES\", \"DisplayName\": \"Basque - Basque\"},\n  {\"LangCultureName\": \"be-BY\", \"DisplayName\": \"Belarusian - Belarus\"},\n  {\"LangCultureName\": \"bg-BG\", \"DisplayName\": \"Bulgarian - Bulgaria\"},\n  {\"LangCultureName\": \"ca-ES\", \"DisplayName\": \"Catalan - Catalan\"},\n  {\"LangCultureName\": \"zh-CN\", \"DisplayName\": \"Chinese - China\"},\n  {\"LangCultureName\": \"zh-HK\", \"DisplayName\": \"Chinese - Hong Kong SAR\"},\n  {\"LangCultureName\": \"zh-MO\", \"DisplayName\": \"Chinese - Macau SAR\"},\n  {\"LangCultureName\": \"zh-SG\", \"DisplayName\": \"Chinese - Singapore\"},\n  {\"LangCultureName\": \"zh-TW\", \"DisplayName\": \"Chinese - Taiwan\"},\n  {\"LangCultureName\": \"zh-CHS\", \"DisplayName\": \"Chinese (Simplified)\"},\n  {\"LangCultureName\": \"zh-CHT\", \"DisplayName\": \"Chinese (Traditional)\"},\n  {\"LangCultureName\": \"hr-HR\", \"DisplayName\": \"Croatian - Croatia\"},\n  {\"LangCultureName\": \"cs-CZ\", \"DisplayName\": \"Czech - Czech Republic\"},\n  {\"LangCultureName\": \"da-DK\", \"DisplayName\": \"Danish - Denmark\"},\n  {\"LangCultureName\": \"div-MV\", \"DisplayName\": \"Dhivehi - Maldives\"},\n  {\"LangCultureName\": \"nl-BE\", \"DisplayName\": \"Dutch - Belgium\"},\n  {\"LangCultureName\": \"nl-NL\", \"DisplayName\": \"Dutch - The Netherlands\"},\n  {\"LangCultureName\": \"en-AU\", \"DisplayName\": \"English - Australia\"},\n  {\"LangCultureName\": \"en-BZ\", \"DisplayName\": \"English - Belize\"},\n  {\"LangCultureName\": \"en-CA\", \"DisplayName\": \"English - Canada\"},\n  {\"LangCultureName\": \"en-CB\", \"DisplayName\": \"English - Caribbean\"},\n  {\"LangCultureName\": \"en-IE\", \"DisplayName\": \"English - Ireland\"},\n  {\"LangCultureName\": \"en-JM\", \"DisplayName\": \"English - Jamaica\"},\n  {\"LangCultureName\": \"en-NZ\", \"DisplayName\": \"English - New Zealand\"},\n  {\"LangCultureName\": \"en-PH\", \"DisplayName\": \"English - Philippines\"},\n  {\"LangCultureName\": \"en-ZA\", \"DisplayName\": \"English - South Africa\"},\n  {\"LangCultureName\": \"en-TT\", \"DisplayName\": \"English - Trinidad and Tobago\"},\n  {\"LangCultureName\": \"en-GB\", \"DisplayName\": \"English - United Kingdom\"},\n  {\"LangCultureName\": \"en-US\", \"DisplayName\": \"English - United States\"},\n  {\"LangCultureName\": \"en-ZW\", \"DisplayName\": \"English - Zimbabwe\"},\n  {\"LangCultureName\": \"et-EE\", \"DisplayName\": \"Estonian - Estonia\"},\n  {\"LangCultureName\": \"fo-FO\", \"DisplayName\": \"Faroese - Faroe Islands\"},\n  {\"LangCultureName\": \"fa-IR\", \"DisplayName\": \"Farsi - Iran\"},\n  {\"LangCultureName\": \"fi-FI\", \"DisplayName\": \"Finnish - Finland\"},\n  {\"LangCultureName\": \"fr-BE\", \"DisplayName\": \"French - Belgium\"},\n  {\"LangCultureName\": \"fr-CA\", \"DisplayName\": \"French - Canada\"},\n  {\"LangCultureName\": \"fr-FR\", \"DisplayName\": \"French - France\"},\n  {\"LangCultureName\": \"fr-LU\", \"DisplayName\": \"French - Luxembourg\"},\n  {\"LangCultureName\": \"fr-MC\", \"DisplayName\": \"French - Monaco\"},\n  {\"LangCultureName\": \"fr-CH\", \"DisplayName\": \"French - Switzerland\"},\n  {\"LangCultureName\": \"gl-ES\", \"DisplayName\": \"Galician - Galician\"},\n  {\"LangCultureName\": \"ka-GE\", \"DisplayName\": \"Georgian - Georgia\"},\n  {\"LangCultureName\": \"de-AT\", \"DisplayName\": \"German - Austria\"},\n  {\"LangCultureName\": \"de-DE\", \"DisplayName\": \"German - Germany\"},\n  {\"LangCultureName\": \"de-LI\", \"DisplayName\": \"German - Liechtenstein\"},\n  {\"LangCultureName\": \"de-LU\", \"DisplayName\": \"German - Luxembourg\"},\n  {\"LangCultureName\": \"de-CH\", \"DisplayName\": \"German - Switzerland\"},\n  {\"LangCultureName\": \"el-GR\", \"DisplayName\": \"Greek - Greece\"},\n  {\"LangCultureName\": \"gu-IN\", \"DisplayName\": \"Gujarati - India\"},\n  {\"LangCultureName\": \"he-IL\", \"DisplayName\": \"Hebrew - Israel\"},\n  {\"LangCultureName\": \"hi-IN\", \"DisplayName\": \"Hindi - India\"},\n  {\"LangCultureName\": \"hu-HU\", \"DisplayName\": \"Hungarian - Hungary\"},\n  {\"LangCultureName\": \"is-IS\", \"DisplayName\": \"Icelandic - Iceland\"},\n  {\"LangCultureName\": \"id-ID\", \"DisplayName\": \"Indonesian - Indonesia\"},\n  {\"LangCultureName\": \"it-IT\", \"DisplayName\": \"Italian - Italy\"},\n  {\"LangCultureName\": \"it-CH\", \"DisplayName\": \"Italian - Switzerland\"},\n  {\"LangCultureName\": \"ja-JP\", \"DisplayName\": \"Japanese - Japan\"},\n  {\"LangCultureName\": \"kn-IN\", \"DisplayName\": \"Kannada - India\"},\n  {\"LangCultureName\": \"kk-KZ\", \"DisplayName\": \"Kazakh - Kazakhstan\"},\n  {\"LangCultureName\": \"kok-IN\", \"DisplayName\": \"Konkani - India\"},\n  {\"LangCultureName\": \"ko-KR\", \"DisplayName\": \"Korean - Korea\"},\n  {\"LangCultureName\": \"ky-KZ\", \"DisplayName\": \"Kyrgyz - Kazakhstan\"},\n  {\"LangCultureName\": \"lv-LV\", \"DisplayName\": \"Latvian - Latvia\"},\n  {\"LangCultureName\": \"lt-LT\", \"DisplayName\": \"Lithuanian - Lithuania\"},\n  {\"LangCultureName\": \"mk-MK\", \"DisplayName\": \"Macedonian (FYROM)\"},\n  {\"LangCultureName\": \"ms-BN\", \"DisplayName\": \"Malay - Brunei\"},\n  {\"LangCultureName\": \"ms-MY\", \"DisplayName\": \"Malay - Malaysia\"},\n  {\"LangCultureName\": \"mr-IN\", \"DisplayName\": \"Marathi - India\"},\n  {\"LangCultureName\": \"mn-MN\", \"DisplayName\": \"Mongolian - Mongolia\"},\n  {\"LangCultureName\": \"nb-NO\", \"DisplayName\": \"Norwegian (Bokmål) - Norway\"},\n  {\"LangCultureName\": \"nn-NO\", \"DisplayName\": \"Norwegian (Nynorsk) - Norway\"},\n  {\"LangCultureName\": \"pl-PL\", \"DisplayName\": \"Polish - Poland\"},\n  {\"LangCultureName\": \"pt-BR\", \"DisplayName\": \"Portuguese - Brazil\"},\n  {\"LangCultureName\": \"pt-PT\", \"DisplayName\": \"Portuguese - Portugal\"},\n  {\"LangCultureName\": \"pa-IN\", \"DisplayName\": \"Punjabi - India\"},\n  {\"LangCultureName\": \"ro-RO\", \"DisplayName\": \"Romanian - Romania\"},\n  {\"LangCultureName\": \"ru-RU\", \"DisplayName\": \"Russian - Russia\"},\n  {\"LangCultureName\": \"sa-IN\", \"DisplayName\": \"Sanskrit - India\"},\n  {\"LangCultureName\": \"Cy-sr-SP\", \"DisplayName\": \"Serbian (Cyrillic) - Serbia\"},\n  {\"LangCultureName\": \"Lt-sr-SP\", \"DisplayName\": \"Serbian (Latin) - Serbia\"},\n  {\"LangCultureName\": \"sk-SK\", \"DisplayName\": \"Slovak - Slovakia\"},\n  {\"LangCultureName\": \"sl-SI\", \"DisplayName\": \"Slovenian - Slovenia\"},\n  {\"LangCultureName\": \"es-AR\", \"DisplayName\": \"Spanish - Argentina\"},\n  {\"LangCultureName\": \"es-BO\", \"DisplayName\": \"Spanish - Bolivia\"},\n  {\"LangCultureName\": \"es-CL\", \"DisplayName\": \"Spanish - Chile\"},\n  {\"LangCultureName\": \"es-CO\", \"DisplayName\": \"Spanish - Colombia\"},\n  {\"LangCultureName\": \"es-CR\", \"DisplayName\": \"Spanish - Costa Rica\"},\n  {\"LangCultureName\": \"es-DO\", \"DisplayName\": \"Spanish - Dominican Republic\"},\n  {\"LangCultureName\": \"es-EC\", \"DisplayName\": \"Spanish - Ecuador\"},\n  {\"LangCultureName\": \"es-SV\", \"DisplayName\": \"Spanish - El Salvador\"},\n  {\"LangCultureName\": \"es-GT\", \"DisplayName\": \"Spanish - Guatemala\"},\n  {\"LangCultureName\": \"es-HN\", \"DisplayName\": \"Spanish - Honduras\"},\n  {\"LangCultureName\": \"es-MX\", \"DisplayName\": \"Spanish - Mexico\"},\n  {\"LangCultureName\": \"es-NI\", \"DisplayName\": \"Spanish - Nicaragua\"},\n  {\"LangCultureName\": \"es-PA\", \"DisplayName\": \"Spanish - Panama\"},\n  {\"LangCultureName\": \"es-PY\", \"DisplayName\": \"Spanish - Paraguay\"},\n  {\"LangCultureName\": \"es-PE\", \"DisplayName\": \"Spanish - Peru\"},\n  {\"LangCultureName\": \"es-PR\", \"DisplayName\": \"Spanish - Puerto Rico\"},\n  {\"LangCultureName\": \"es-ES\", \"DisplayName\": \"Spanish - Spain\"},\n  {\"LangCultureName\": \"es-UY\", \"DisplayName\": \"Spanish - Uruguay\"},\n  {\"LangCultureName\": \"es-VE\", \"DisplayName\": \"Spanish - Venezuela\"},\n  {\"LangCultureName\": \"sw-KE\", \"DisplayName\": \"Swahili - Kenya\"},\n  {\"LangCultureName\": \"sv-FI\", \"DisplayName\": \"Swedish - Finland\"},\n  {\"LangCultureName\": \"sv-SE\", \"DisplayName\": \"Swedish - Sweden\"},\n  {\"LangCultureName\": \"syr-SY\", \"DisplayName\": \"Syriac - Syria\"},\n  {\"LangCultureName\": \"ta-IN\", \"DisplayName\": \"Tamil - India\"},\n  {\"LangCultureName\": \"tt-RU\", \"DisplayName\": \"Tatar - Russia\"},\n  {\"LangCultureName\": \"te-IN\", \"DisplayName\": \"Telugu - India\"},\n  {\"LangCultureName\": \"th-TH\", \"DisplayName\": \"Thai - Thailand\"},\n  {\"LangCultureName\": \"tr-TR\", \"DisplayName\": \"Turkish - Turkey\"},\n  {\"LangCultureName\": \"uk-UA\", \"DisplayName\": \"Ukrainian - Ukraine\"},\n  {\"LangCultureName\": \"ur-PK\", \"DisplayName\": \"Urdu - Pakistan\"},\n  {\"LangCultureName\": \"Cy-uz-UZ\", \"DisplayName\": \"Uzbek (Cyrillic) - Uzbekistan\"},\n  {\"LangCultureName\": \"Lt-uz-UZ\", \"DisplayName\": \"Uzbek (Latin) - Uzbekistan\"},\n  {\"LangCultureName\": \"vi-VN\", \"DisplayName\": \"Vietnamese - Vietnam\"}\n]\n  ```\n\n - 單位\n    - 貨幣\n    - 尺吋/重量/公制/英制\n    - format\n        - [C#](https://docs.microsoft.com/zh-tw/dotnet/api/system.globalization.numberformatinfo?view=netframework-4.7.2)\n        - [javascript](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat) \n - 時區\n    - 跨時區\n    - 日光節約時間    \n- 其它\n    - 地址\n    - 姓名\n    - 電話號碼\n\n    \n(fin)","slug":"2018/l10n_i18n","published":1,"updated":"2019-06-10T14:43:28.929Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkm001qb0vx1zdwjpqg","content":"<h2 id=\"I18n-國際化\"><a href=\"#I18n-國際化\" class=\"headerlink\" title=\"I18n 國際化\"></a>I18n 國際化</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">| I | n | t | e | r | n | a | t | i | o | n | a | l | i | z | a | t | i | o | n |</span><br><span class=\"line\">|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|</span><br><span class=\"line\">|   | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |10 |11 |12 |13 |14 |15 |16 |17 |18 |   |</span><br></pre></td></tr></table></figure>\n\n<p><code>Internationalization</code> 因為字首I到字尾N18個英文字  </p>\n<h2 id=\"L10n-在地化\"><a href=\"#L10n-在地化\" class=\"headerlink\" title=\"L10n 在地化\"></a>L10n 在地化</h2><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">| L | o | c | a | l | i | z | a | t | i | o | n |</span><br><span class=\"line\">|---|---|---|---|---|---|---|---|---|---|---|---|</span><br><span class=\"line\">|   | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |10 |   |</span><br></pre></td></tr></table></figure>\n\n<p><code>Localization</code> 因為字首L到字尾N共10個英文字</p>\n<h2 id=\"國際化-在地化常見問題\"><a href=\"#國際化-在地化常見問題\" class=\"headerlink\" title=\"國際化/在地化常見問題\"></a>國際化/在地化常見問題</h2><ul>\n<li>語言<ul>\n<li><code>語系-區碼</code></li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  [</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"af-ZA\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Afrikaans - South Africa\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"sq-AL\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Albanian - Albania\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-DZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Algeria\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-BH\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Bahrain\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-EG\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Egypt\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-IQ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Iraq\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-JO\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Jordan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-KW\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Kuwait\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-LB\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Lebanon\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-LY\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Libya\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-MA\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Morocco\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-OM\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Oman\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-QA\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Qatar\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-SA\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Saudi Arabia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-SY\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Syria\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-TN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Tunisia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-AE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - United Arab Emirates\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-YE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Yemen\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"hy-AM\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Armenian - Armenia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"Cy-az-AZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Azeri (Cyrillic) - Azerbaijan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"Lt-az-AZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Azeri (Latin) - Azerbaijan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"eu-ES\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Basque - Basque\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"be-BY\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Belarusian - Belarus\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"bg-BG\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Bulgarian - Bulgaria\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ca-ES\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Catalan - Catalan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"zh-CN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Chinese - China\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"zh-HK\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Chinese - Hong Kong SAR\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"zh-MO\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Chinese - Macau SAR\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"zh-SG\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Chinese - Singapore\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"zh-TW\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Chinese - Taiwan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"zh-CHS\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Chinese (Simplified)\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"zh-CHT\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Chinese (Traditional)\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"hr-HR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Croatian - Croatia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"cs-CZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Czech - Czech Republic\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"da-DK\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Danish - Denmark\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"div-MV\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Dhivehi - Maldives\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"nl-BE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Dutch - Belgium\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"nl-NL\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Dutch - The Netherlands\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-AU\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - Australia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-BZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - Belize\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-CA\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - Canada\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-CB\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - Caribbean\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-IE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - Ireland\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-JM\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - Jamaica\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-NZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - New Zealand\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-PH\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - Philippines\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-ZA\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - South Africa\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-TT\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - Trinidad and Tobago\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-GB\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - United Kingdom\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-US\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - United States\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-ZW\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - Zimbabwe\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"et-EE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Estonian - Estonia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"fo-FO\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Faroese - Faroe Islands\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"fa-IR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Farsi - Iran\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"fi-FI\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Finnish - Finland\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"fr-BE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"French - Belgium\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"fr-CA\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"French - Canada\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"fr-FR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"French - France\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"fr-LU\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"French - Luxembourg\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"fr-MC\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"French - Monaco\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"fr-CH\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"French - Switzerland\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"gl-ES\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Galician - Galician\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ka-GE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Georgian - Georgia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"de-AT\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"German - Austria\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"de-DE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"German - Germany\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"de-LI\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"German - Liechtenstein\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"de-LU\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"German - Luxembourg\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"de-CH\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"German - Switzerland\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"el-GR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Greek - Greece\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"gu-IN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Gujarati - India\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"he-IL\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Hebrew - Israel\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"hi-IN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Hindi - India\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"hu-HU\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Hungarian - Hungary\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"is-IS\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Icelandic - Iceland\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"id-ID\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Indonesian - Indonesia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"it-IT\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Italian - Italy\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"it-CH\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Italian - Switzerland\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ja-JP\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Japanese - Japan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"kn-IN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Kannada - India\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"kk-KZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Kazakh - Kazakhstan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"kok-IN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Konkani - India\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ko-KR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Korean - Korea\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ky-KZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Kyrgyz - Kazakhstan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"lv-LV\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Latvian - Latvia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"lt-LT\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Lithuanian - Lithuania\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"mk-MK\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Macedonian (FYROM)\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ms-BN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Malay - Brunei\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ms-MY\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Malay - Malaysia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"mr-IN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Marathi - India\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"mn-MN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Mongolian - Mongolia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"nb-NO\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Norwegian (Bokmål) - Norway\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"nn-NO\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Norwegian (Nynorsk) - Norway\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"pl-PL\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Polish - Poland\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"pt-BR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Portuguese - Brazil\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"pt-PT\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Portuguese - Portugal\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"pa-IN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Punjabi - India\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ro-RO\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Romanian - Romania\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ru-RU\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Russian - Russia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"sa-IN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Sanskrit - India\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"Cy-sr-SP\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Serbian (Cyrillic) - Serbia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"Lt-sr-SP\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Serbian (Latin) - Serbia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"sk-SK\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Slovak - Slovakia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"sl-SI\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Slovenian - Slovenia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-AR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Argentina\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-BO\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Bolivia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-CL\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Chile\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-CO\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Colombia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-CR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Costa Rica\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-DO\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Dominican Republic\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-EC\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Ecuador\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-SV\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - El Salvador\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-GT\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Guatemala\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-HN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Honduras\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-MX\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Mexico\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-NI\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Nicaragua\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-PA\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Panama\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-PY\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Paraguay\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-PE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Peru\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-PR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Puerto Rico\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-ES\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Spain\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-UY\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Uruguay\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-VE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Venezuela\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"sw-KE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Swahili - Kenya\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"sv-FI\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Swedish - Finland\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"sv-SE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Swedish - Sweden\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"syr-SY\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Syriac - Syria\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ta-IN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Tamil - India\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"tt-RU\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Tatar - Russia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"te-IN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Telugu - India\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"th-TH\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Thai - Thailand\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"tr-TR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Turkish - Turkey\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"uk-UA\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Ukrainian - Ukraine\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ur-PK\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Urdu - Pakistan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"Cy-uz-UZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Uzbek (Cyrillic) - Uzbekistan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"Lt-uz-UZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Uzbek (Latin) - Uzbekistan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"vi-VN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Vietnamese - Vietnam\"</span>&#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>單位<ul>\n<li>貨幣</li>\n<li>尺吋/重量/公制/英制</li>\n<li>format<ul>\n<li><a href=\"https://docs.microsoft.com/zh-tw/dotnet/api/system.globalization.numberformatinfo?view=netframework-4.7.2\" target=\"_blank\" rel=\"noopener\">C#</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat\" target=\"_blank\" rel=\"noopener\">javascript</a> </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>時區<ul>\n<li>跨時區</li>\n<li>日光節約時間    <ul>\n<li>其它</li>\n</ul>\n</li>\n<li>地址</li>\n<li>姓名</li>\n<li>電話號碼</li>\n</ul>\n</li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"I18n-國際化\"><a href=\"#I18n-國際化\" class=\"headerlink\" title=\"I18n 國際化\"></a>I18n 國際化</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">| I | n | t | e | r | n | a | t | i | o | n | a | l | i | z | a | t | i | o | n |</span><br><span class=\"line\">|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|</span><br><span class=\"line\">|   | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |10 |11 |12 |13 |14 |15 |16 |17 |18 |   |</span><br></pre></td></tr></table></figure>\n\n<p><code>Internationalization</code> 因為字首I到字尾N18個英文字  </p>\n<h2 id=\"L10n-在地化\"><a href=\"#L10n-在地化\" class=\"headerlink\" title=\"L10n 在地化\"></a>L10n 在地化</h2><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">| L | o | c | a | l | i | z | a | t | i | o | n |</span><br><span class=\"line\">|---|---|---|---|---|---|---|---|---|---|---|---|</span><br><span class=\"line\">|   | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |10 |   |</span><br></pre></td></tr></table></figure>\n\n<p><code>Localization</code> 因為字首L到字尾N共10個英文字</p>\n<h2 id=\"國際化-在地化常見問題\"><a href=\"#國際化-在地化常見問題\" class=\"headerlink\" title=\"國際化/在地化常見問題\"></a>國際化/在地化常見問題</h2><ul>\n<li>語言<ul>\n<li><code>語系-區碼</code></li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  [</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"af-ZA\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Afrikaans - South Africa\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"sq-AL\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Albanian - Albania\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-DZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Algeria\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-BH\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Bahrain\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-EG\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Egypt\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-IQ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Iraq\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-JO\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Jordan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-KW\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Kuwait\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-LB\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Lebanon\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-LY\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Libya\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-MA\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Morocco\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-OM\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Oman\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-QA\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Qatar\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-SA\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Saudi Arabia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-SY\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Syria\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-TN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Tunisia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-AE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - United Arab Emirates\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ar-YE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Arabic - Yemen\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"hy-AM\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Armenian - Armenia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"Cy-az-AZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Azeri (Cyrillic) - Azerbaijan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"Lt-az-AZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Azeri (Latin) - Azerbaijan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"eu-ES\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Basque - Basque\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"be-BY\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Belarusian - Belarus\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"bg-BG\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Bulgarian - Bulgaria\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ca-ES\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Catalan - Catalan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"zh-CN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Chinese - China\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"zh-HK\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Chinese - Hong Kong SAR\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"zh-MO\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Chinese - Macau SAR\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"zh-SG\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Chinese - Singapore\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"zh-TW\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Chinese - Taiwan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"zh-CHS\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Chinese (Simplified)\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"zh-CHT\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Chinese (Traditional)\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"hr-HR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Croatian - Croatia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"cs-CZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Czech - Czech Republic\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"da-DK\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Danish - Denmark\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"div-MV\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Dhivehi - Maldives\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"nl-BE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Dutch - Belgium\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"nl-NL\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Dutch - The Netherlands\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-AU\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - Australia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-BZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - Belize\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-CA\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - Canada\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-CB\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - Caribbean\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-IE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - Ireland\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-JM\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - Jamaica\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-NZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - New Zealand\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-PH\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - Philippines\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-ZA\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - South Africa\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-TT\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - Trinidad and Tobago\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-GB\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - United Kingdom\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-US\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - United States\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"en-ZW\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"English - Zimbabwe\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"et-EE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Estonian - Estonia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"fo-FO\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Faroese - Faroe Islands\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"fa-IR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Farsi - Iran\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"fi-FI\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Finnish - Finland\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"fr-BE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"French - Belgium\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"fr-CA\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"French - Canada\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"fr-FR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"French - France\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"fr-LU\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"French - Luxembourg\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"fr-MC\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"French - Monaco\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"fr-CH\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"French - Switzerland\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"gl-ES\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Galician - Galician\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ka-GE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Georgian - Georgia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"de-AT\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"German - Austria\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"de-DE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"German - Germany\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"de-LI\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"German - Liechtenstein\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"de-LU\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"German - Luxembourg\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"de-CH\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"German - Switzerland\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"el-GR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Greek - Greece\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"gu-IN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Gujarati - India\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"he-IL\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Hebrew - Israel\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"hi-IN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Hindi - India\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"hu-HU\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Hungarian - Hungary\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"is-IS\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Icelandic - Iceland\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"id-ID\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Indonesian - Indonesia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"it-IT\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Italian - Italy\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"it-CH\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Italian - Switzerland\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ja-JP\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Japanese - Japan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"kn-IN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Kannada - India\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"kk-KZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Kazakh - Kazakhstan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"kok-IN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Konkani - India\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ko-KR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Korean - Korea\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ky-KZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Kyrgyz - Kazakhstan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"lv-LV\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Latvian - Latvia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"lt-LT\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Lithuanian - Lithuania\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"mk-MK\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Macedonian (FYROM)\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ms-BN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Malay - Brunei\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ms-MY\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Malay - Malaysia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"mr-IN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Marathi - India\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"mn-MN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Mongolian - Mongolia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"nb-NO\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Norwegian (Bokmål) - Norway\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"nn-NO\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Norwegian (Nynorsk) - Norway\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"pl-PL\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Polish - Poland\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"pt-BR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Portuguese - Brazil\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"pt-PT\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Portuguese - Portugal\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"pa-IN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Punjabi - India\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ro-RO\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Romanian - Romania\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ru-RU\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Russian - Russia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"sa-IN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Sanskrit - India\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"Cy-sr-SP\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Serbian (Cyrillic) - Serbia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"Lt-sr-SP\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Serbian (Latin) - Serbia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"sk-SK\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Slovak - Slovakia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"sl-SI\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Slovenian - Slovenia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-AR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Argentina\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-BO\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Bolivia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-CL\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Chile\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-CO\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Colombia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-CR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Costa Rica\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-DO\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Dominican Republic\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-EC\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Ecuador\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-SV\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - El Salvador\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-GT\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Guatemala\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-HN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Honduras\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-MX\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Mexico\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-NI\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Nicaragua\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-PA\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Panama\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-PY\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Paraguay\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-PE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Peru\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-PR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Puerto Rico\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-ES\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Spain\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-UY\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Uruguay\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"es-VE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Spanish - Venezuela\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"sw-KE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Swahili - Kenya\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"sv-FI\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Swedish - Finland\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"sv-SE\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Swedish - Sweden\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"syr-SY\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Syriac - Syria\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ta-IN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Tamil - India\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"tt-RU\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Tatar - Russia\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"te-IN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Telugu - India\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"th-TH\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Thai - Thailand\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"tr-TR\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Turkish - Turkey\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"uk-UA\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Ukrainian - Ukraine\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"ur-PK\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Urdu - Pakistan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"Cy-uz-UZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Uzbek (Cyrillic) - Uzbekistan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"Lt-uz-UZ\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Uzbek (Latin) - Uzbekistan\"</span>&#125;,</span><br><span class=\"line\">  &#123;<span class=\"attr\">\"LangCultureName\"</span>: <span class=\"string\">\"vi-VN\"</span>, <span class=\"attr\">\"DisplayName\"</span>: <span class=\"string\">\"Vietnamese - Vietnam\"</span>&#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>單位<ul>\n<li>貨幣</li>\n<li>尺吋/重量/公制/英制</li>\n<li>format<ul>\n<li><a href=\"https://docs.microsoft.com/zh-tw/dotnet/api/system.globalization.numberformatinfo?view=netframework-4.7.2\" target=\"_blank\" rel=\"noopener\">C#</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat\" target=\"_blank\" rel=\"noopener\">javascript</a> </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>時區<ul>\n<li>跨時區</li>\n<li>日光節約時間    <ul>\n<li>其它</li>\n</ul>\n</li>\n<li>地址</li>\n<li>姓名</li>\n<li>電話號碼</li>\n</ul>\n</li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[學習筆記] Linux 語法學習筆記 一","date":"2018-03-25T16:23:01.000Z","_content":"\n## 參考\n- [Unix Terminal Online](https://www.tutorialspoint.com/unix_terminal_online.php)\n- [Learn Shell Scripting all Levels](https://www.udemy.com/learn-shell-scripting-all-levels/)\n- [umask 指令](http://linux.vbird.org/linux_basic/0320bash/csh/no3-8-01.html)\n\n## 學習筆記\n\n### `Clear`\n#### 清除目前 terminal 畫面\n\n### `Cal`\n#### 產生當下的月曆\n>$ cal                                                \n\n>March 2018                                           \nSu Mo Tu We Th Fr Sa                                                                        \n             1  2  3\n 4  5  6  7  8  9 10                                       \n11 12 13 14 15 16 17                                       \n18 19 20 21 22 23 24                                      \n25 26 27 28 29 30 31\n\n> $ cal 2 1985\n\n>    February 1985\nSu Mo Tu We Th Fr Sa\n                1  2\n 3  4  5  6  7  8  9\n10 11 12 13 14 15 16\n17 18 19 20 21 22 23\n24 25 26 27 28 \n\n### `Date` \n\n#### 顯示日期與時間\n> $ date\n\n> Sat Mar 10 19:01:37 UTC 2018\n\n> $ date  '+ %y-%m-%d %n %H:%M:%S:%N'\n\n> 18-03-10\n> 19:06:24:126172657\n\n### `pwd` \n\n#### 目前所在的檔案路徑\n\n### `Touch` \n\n#### 建立檔案\n\n### `mkdir` \n\n#### 建立資料夾\n\n### `cat` \n\n#### 寫檔案 `cat > filename`\n> ctrl + d 可以離開編輯\n\n#### 讀檔案 `cat < filename`\n\n#### 合併檔案 `cat file1 file2 > merged_file`\n> $ cat > file1\n> this is file1\n> $ cat file1\n> this is file1\n> $ cat > file2\n> this is file2\n> $ cat file2\n> this is file2\n> $ cat file1 file2 > merged_file\n> $ cat merged_file\n> this is file1\n> this is file2\n \n### `mv`\n\n#### 重新命名檔案\n\n> mv origin_name new_name\n\n### `rm`\n\n#### 刪除檔案或資料夾\n> $ rm file_name\n\n> $ rm -r folder_name/\n\n### `rmdir`\n\n#### 刪除資料夾\n\n> $ rmdir folder_name/\n \n### `cp`\n\n#### 複製檔案\n\n> $ cp oldfile other_folder/newfile\n \n### `ln`\n\n#### 聯結檔案(hard link)\n\n> $ touch one                 \n> $ cat < one\n> $ ln one two                \n> $ ls\none  two\n> $ cat > one                 \n> this is one                                            \n> $ cat < one\n> this is one\n> $ cat < two                 \n> this is one                                            \n\n#### `ln -s` soft link\nhard link 會產生實體檔案,soft link只是指標的轉向.\n如果使用soft link,當刪除原始檔案時,link檔案將無法開啟.\n\n\n### 檔案權限概觀\n\n#### 三種權限\n- read / 讀 / 100 => 4\n- write / 寫 / 010 => 2\n- execute / 執行 / 001 => 1\n\n每個權限都有一個代號,\nread 表示可讀權限, 意味著可以開啟檔案與看見內容, \n代號為4,二進位表示為100\nwrite 表示可以複寫其內容,\n代號為2,二進位表示為010,\nexecute 代表可執行,適用可執行檔或shell script,\n代號為1,二進位表示為001.\n三種權限都有的話,權限為(111=>7)\n\n#### 三種身份\n- owner 開啟的帳號\n- owner group 開啟的帳號所屬的群組\n- other group 其它的群組\n\n新增一個檔案的時候,\n預設只有讀寫,沒有執行的權限 (100|010=110=>6) \n\n>指令 umask 的設定值以三個八進位的數字“nnn”代表。\n>第一個設定數字給使用者自己（owner user），\n>第二個則是設定給用使用者所屬的群體（group），\n>第三個給不屬於同群體的其它使用者（other）。\n>每一位數字的設定值都是三項不同權限的數值加總，\n>read 權限數值為 4；write 權限數值為 2；execute 權限數值為 1。\n>結合了前三者的權限數值，單一的數字可設定的範圍是 0 ~ 7；\n>整體的可設定範圍是 000 ~ 777。\n> --- 鳥哥的 Linux 私房菜\n\n\n### `ls`\n\n#### 列出資料夾中的所有檔案\n#### `ls foldername`\n列出指定的資料夾中所有的檔案\n\n#### `ls -l`\n列出資料夾中的所有檔案與其權限資訊\n\n> ls 最常被使用到的功能還是那個 -l 的選項，為此，很多 distribution 在預設的情況中， 已經將 ll (L 的小寫) 設定成為 ls -l 的意思了！其實，那個功能是 [Bash shell](http://linux.vbird.org/linux_basic/0320bash.php) 的 [alias](http://linux.vbird.org/linux_basic/0320bash.php#alias) 功能呢\n> --- 鳥哥的 Linux 私房菜\n\n### `chmod`\n#### 修改檔案權限\n\n> sh-4.4$ ls -l\ntotal 4\n-rw-r--r-- 1 33581 33581 978 Mar 12 17:30 README.txt\n-rw-r--r-- 1 33581 33581   0 Mar 12 17:32 test\nsh-4.4$ chmod 777 test\nsh-4.4$ ls -l\ntotal 4\n-rw-r--r-- 1 33581 33581 978 Mar 12 17:30 README.txt\n-rwxrwxrwx 1 33581 33581   0 Mar 12 17:32 test\nsh-4.4$ chmod 444 test\nsh-4.4$ ls -l\ntotal 4\n-rw-r--r-- 1 33581 33581 978 Mar 12 17:30 README.txt\n-r--r--r-- 1 33581 33581   0 Mar 12 17:32 test\n\n### `uname`\n\n#### 顯示系統相關的資訊\n\n>$ uname -a                                                            \n>Linux e955582759de 3.10.0-514.26.2.el7.x86_64 #1 SMP Tue Jul 4 15:04:05 UTC \n>2017 x86\\_64 x86\\_64 x86_64 GNU/Linux\n\n> 選項與參數：\n-a  ：所有系統相關的資訊，包括底下的資料都會被列出來；\n-s  ：系統核心名稱\n-r  ：核心的版本\n-m  ：本系統的硬體名稱，例如 i686 或 x86_64 等；\n-p  ：CPU 的類型，與 -m 類似，只是顯示的是 CPU 的類型！\n-i  ：硬體的平台 (ix86)\n> --- 鳥哥的 Linux 私房菜\n\n### `file`\n\n#### 查詢檔案基本資料(類型)\n\n> file *\n \n>jazzy:  ASCII text\nmark:   empty\nmarsen: directory\n\n### `wc`\n\n#### 顯示檔案資訊\n行數 字數 字元數 檔名\n> $ wc jazzy\n\n> 3 10 39 jazzy\n \n#### `wc -l filename`\n顯示檔案行數資訊\n\n#### `wc -w filename`\n顯示檔案字數資訊\n\n#### `wc -c filename`\n顯示檔案字元數資訊\n\n### `sort`\n\n#### 印出排序過後的結果(遞增)\n\n>$ sort \n>owls\npigs\ndogs\ncats\n\n>cats\ndogs\nowls\npigs\n\n#### `sort filename`\n印出檔案內排序過後的結果(遞增)\n\n\n### `cut`\n\n#### 切割資料\n\n參數:\n-d 分割字元\n-f index (從1開始)\n\n範例\n> cat > filenames\nName-Sport-Age\nRoger-Tennis-30\nNadal-Tennis-25\nTiger-Golf-37\nMichael-Baseball-49\n\n>$ cut -d\"-\" -f 1,3 filenames\nName-Age\nRoger-30\nNadal-25\nTiger-37\nMichael-49\n\n### `dd`\n\n#### 資料處理、拷貝、備份、轉碼;[更多](https://blog.gtwang.org/linux/dd-command-examples/)\n\n> $ cat > infile\nthis is the input file           \n$ cat infile\nthis is the input file\n\n> $ dd if=infile of=outfile conv=ucase\n0+1 records in                   \n0+1 records out                 \n23 bytes copied, 6.6972e-05 s, 343 kB/s\n$ cat outfile\nTHIS IS THE INPUT FILE \n\n### `man`\n#### 查詢其它指令用法\n> $ man ls\n```\nLS(1)\tUser Commands  LS(1)\nNAME\tls - list directory contents\nSYNOPSIS\tls [OPTION]... [FILE]...\n\nDESCRIPTION\n       List  information  about the FILEs (the current directory by default).  \n\t   Sort entries alphabetically if none of\n       -cftuvSUX nor --sort is specified.\n\n       Mandatory arguments to long options are mandatory for short options too.\n       -a, --all\n              do not ignore entries starting with .\n\n       -A, --almost-all\n              do not list implied . and ..\n\n       --author\n              with -l, print the author of each file\n\n       -b, --escape\n              print C-style escapes for nongraphic characters\n Manual page ls(1) line 1 (press h for help or q to quit)\n```\n按`h`看更多訊息\n> $ man ls \n> h\n\n```\n                   SUMMARY OF LESS COMMANDS\n\n      Commands marked with * may be preceded by a number, N.\n      Notes in parentheses indicate the behavior if N is given.\n\n  h  H                 Display this help.\n  q  :q  Q  :Q  ZZ     Exit.\n ---------------------------------------------------------------------------\n\n                           MOVING\n\n  e  ^E  j  ^N  CR  *  Forward  one line   (or N lines).\n  y  ^Y  k  ^K  ^P  *  Backward one line   (or N lines).\n  f  ^F  ^V  SPACE  *  Forward  one window (or N lines).\n  b  ^B  ESC-v      *  Backward one window (or N lines).\n  z                 *  Forward  one window (and set window to N).\n  w                 *  Backward one window (and set window to N).\n  ESC-SPACE         *  Forward  one window, but don't stop at end-of-file.\n  d  ^D             *  Forward  one half-window (and set half-window to N).\n  u  ^U             *  Backward one half-window (and set half-window to N).\n  ESC-)  RightArrow *  Left  one half screen width (or N positions).\n  ESC-(  LeftArrow  *  Right one half screen width (or N positions).\n  F                    Forward forever; like \"tail -f\".\n  r  ^R  ^L            Repaint screen.\nHELP -- Press RETURN for more, or q when done\n```\n\n按`q`退出查詢畫面\n\n### `banner`\n#### 輸出用#組成的大形文字\n\n實測未出現,上網查了一下banner好像有蠻多不同的類型可以安裝?\n\n### `compress`\n#### 壓縮檔案\n\n### `zcat`\n#### 讀取壓縮檔案\n\n### `uncompress`\n#### 解壓縮檔案\n\n>compress 已經退流行了。為了支援 windows 常見的 zip，其實 Linux 也早就有 zip 指令了！ gzip 是由 [GNU 計畫](http://www.gnu.org/)所開發出來的壓縮指令，該指令已經取代了 compress 。\n> --- 鳥哥的 Linux 私房菜\n\n### 小結\n\n以上是一些基本的 Linux Command ,  \n下一篇,我們會建立.sh檔,將 Linux Command 依照指定的順序執行  \n並使用 `sh` 命令執行  \n用以完成一些更進階的工作. \n\n\n\n\n\n(more..)","source":"_posts/2018/linux_command_1.md","raw":"---\ntitle: \"[學習筆記] Linux 語法學習筆記 一\"\ndate: 2018/03/26 00:23:01\ntag:\n  - Unix\n  - Linux\n  - Shell\n---\n\n## 參考\n- [Unix Terminal Online](https://www.tutorialspoint.com/unix_terminal_online.php)\n- [Learn Shell Scripting all Levels](https://www.udemy.com/learn-shell-scripting-all-levels/)\n- [umask 指令](http://linux.vbird.org/linux_basic/0320bash/csh/no3-8-01.html)\n\n## 學習筆記\n\n### `Clear`\n#### 清除目前 terminal 畫面\n\n### `Cal`\n#### 產生當下的月曆\n>$ cal                                                \n\n>March 2018                                           \nSu Mo Tu We Th Fr Sa                                                                        \n             1  2  3\n 4  5  6  7  8  9 10                                       \n11 12 13 14 15 16 17                                       \n18 19 20 21 22 23 24                                      \n25 26 27 28 29 30 31\n\n> $ cal 2 1985\n\n>    February 1985\nSu Mo Tu We Th Fr Sa\n                1  2\n 3  4  5  6  7  8  9\n10 11 12 13 14 15 16\n17 18 19 20 21 22 23\n24 25 26 27 28 \n\n### `Date` \n\n#### 顯示日期與時間\n> $ date\n\n> Sat Mar 10 19:01:37 UTC 2018\n\n> $ date  '+ %y-%m-%d %n %H:%M:%S:%N'\n\n> 18-03-10\n> 19:06:24:126172657\n\n### `pwd` \n\n#### 目前所在的檔案路徑\n\n### `Touch` \n\n#### 建立檔案\n\n### `mkdir` \n\n#### 建立資料夾\n\n### `cat` \n\n#### 寫檔案 `cat > filename`\n> ctrl + d 可以離開編輯\n\n#### 讀檔案 `cat < filename`\n\n#### 合併檔案 `cat file1 file2 > merged_file`\n> $ cat > file1\n> this is file1\n> $ cat file1\n> this is file1\n> $ cat > file2\n> this is file2\n> $ cat file2\n> this is file2\n> $ cat file1 file2 > merged_file\n> $ cat merged_file\n> this is file1\n> this is file2\n \n### `mv`\n\n#### 重新命名檔案\n\n> mv origin_name new_name\n\n### `rm`\n\n#### 刪除檔案或資料夾\n> $ rm file_name\n\n> $ rm -r folder_name/\n\n### `rmdir`\n\n#### 刪除資料夾\n\n> $ rmdir folder_name/\n \n### `cp`\n\n#### 複製檔案\n\n> $ cp oldfile other_folder/newfile\n \n### `ln`\n\n#### 聯結檔案(hard link)\n\n> $ touch one                 \n> $ cat < one\n> $ ln one two                \n> $ ls\none  two\n> $ cat > one                 \n> this is one                                            \n> $ cat < one\n> this is one\n> $ cat < two                 \n> this is one                                            \n\n#### `ln -s` soft link\nhard link 會產生實體檔案,soft link只是指標的轉向.\n如果使用soft link,當刪除原始檔案時,link檔案將無法開啟.\n\n\n### 檔案權限概觀\n\n#### 三種權限\n- read / 讀 / 100 => 4\n- write / 寫 / 010 => 2\n- execute / 執行 / 001 => 1\n\n每個權限都有一個代號,\nread 表示可讀權限, 意味著可以開啟檔案與看見內容, \n代號為4,二進位表示為100\nwrite 表示可以複寫其內容,\n代號為2,二進位表示為010,\nexecute 代表可執行,適用可執行檔或shell script,\n代號為1,二進位表示為001.\n三種權限都有的話,權限為(111=>7)\n\n#### 三種身份\n- owner 開啟的帳號\n- owner group 開啟的帳號所屬的群組\n- other group 其它的群組\n\n新增一個檔案的時候,\n預設只有讀寫,沒有執行的權限 (100|010=110=>6) \n\n>指令 umask 的設定值以三個八進位的數字“nnn”代表。\n>第一個設定數字給使用者自己（owner user），\n>第二個則是設定給用使用者所屬的群體（group），\n>第三個給不屬於同群體的其它使用者（other）。\n>每一位數字的設定值都是三項不同權限的數值加總，\n>read 權限數值為 4；write 權限數值為 2；execute 權限數值為 1。\n>結合了前三者的權限數值，單一的數字可設定的範圍是 0 ~ 7；\n>整體的可設定範圍是 000 ~ 777。\n> --- 鳥哥的 Linux 私房菜\n\n\n### `ls`\n\n#### 列出資料夾中的所有檔案\n#### `ls foldername`\n列出指定的資料夾中所有的檔案\n\n#### `ls -l`\n列出資料夾中的所有檔案與其權限資訊\n\n> ls 最常被使用到的功能還是那個 -l 的選項，為此，很多 distribution 在預設的情況中， 已經將 ll (L 的小寫) 設定成為 ls -l 的意思了！其實，那個功能是 [Bash shell](http://linux.vbird.org/linux_basic/0320bash.php) 的 [alias](http://linux.vbird.org/linux_basic/0320bash.php#alias) 功能呢\n> --- 鳥哥的 Linux 私房菜\n\n### `chmod`\n#### 修改檔案權限\n\n> sh-4.4$ ls -l\ntotal 4\n-rw-r--r-- 1 33581 33581 978 Mar 12 17:30 README.txt\n-rw-r--r-- 1 33581 33581   0 Mar 12 17:32 test\nsh-4.4$ chmod 777 test\nsh-4.4$ ls -l\ntotal 4\n-rw-r--r-- 1 33581 33581 978 Mar 12 17:30 README.txt\n-rwxrwxrwx 1 33581 33581   0 Mar 12 17:32 test\nsh-4.4$ chmod 444 test\nsh-4.4$ ls -l\ntotal 4\n-rw-r--r-- 1 33581 33581 978 Mar 12 17:30 README.txt\n-r--r--r-- 1 33581 33581   0 Mar 12 17:32 test\n\n### `uname`\n\n#### 顯示系統相關的資訊\n\n>$ uname -a                                                            \n>Linux e955582759de 3.10.0-514.26.2.el7.x86_64 #1 SMP Tue Jul 4 15:04:05 UTC \n>2017 x86\\_64 x86\\_64 x86_64 GNU/Linux\n\n> 選項與參數：\n-a  ：所有系統相關的資訊，包括底下的資料都會被列出來；\n-s  ：系統核心名稱\n-r  ：核心的版本\n-m  ：本系統的硬體名稱，例如 i686 或 x86_64 等；\n-p  ：CPU 的類型，與 -m 類似，只是顯示的是 CPU 的類型！\n-i  ：硬體的平台 (ix86)\n> --- 鳥哥的 Linux 私房菜\n\n### `file`\n\n#### 查詢檔案基本資料(類型)\n\n> file *\n \n>jazzy:  ASCII text\nmark:   empty\nmarsen: directory\n\n### `wc`\n\n#### 顯示檔案資訊\n行數 字數 字元數 檔名\n> $ wc jazzy\n\n> 3 10 39 jazzy\n \n#### `wc -l filename`\n顯示檔案行數資訊\n\n#### `wc -w filename`\n顯示檔案字數資訊\n\n#### `wc -c filename`\n顯示檔案字元數資訊\n\n### `sort`\n\n#### 印出排序過後的結果(遞增)\n\n>$ sort \n>owls\npigs\ndogs\ncats\n\n>cats\ndogs\nowls\npigs\n\n#### `sort filename`\n印出檔案內排序過後的結果(遞增)\n\n\n### `cut`\n\n#### 切割資料\n\n參數:\n-d 分割字元\n-f index (從1開始)\n\n範例\n> cat > filenames\nName-Sport-Age\nRoger-Tennis-30\nNadal-Tennis-25\nTiger-Golf-37\nMichael-Baseball-49\n\n>$ cut -d\"-\" -f 1,3 filenames\nName-Age\nRoger-30\nNadal-25\nTiger-37\nMichael-49\n\n### `dd`\n\n#### 資料處理、拷貝、備份、轉碼;[更多](https://blog.gtwang.org/linux/dd-command-examples/)\n\n> $ cat > infile\nthis is the input file           \n$ cat infile\nthis is the input file\n\n> $ dd if=infile of=outfile conv=ucase\n0+1 records in                   \n0+1 records out                 \n23 bytes copied, 6.6972e-05 s, 343 kB/s\n$ cat outfile\nTHIS IS THE INPUT FILE \n\n### `man`\n#### 查詢其它指令用法\n> $ man ls\n```\nLS(1)\tUser Commands  LS(1)\nNAME\tls - list directory contents\nSYNOPSIS\tls [OPTION]... [FILE]...\n\nDESCRIPTION\n       List  information  about the FILEs (the current directory by default).  \n\t   Sort entries alphabetically if none of\n       -cftuvSUX nor --sort is specified.\n\n       Mandatory arguments to long options are mandatory for short options too.\n       -a, --all\n              do not ignore entries starting with .\n\n       -A, --almost-all\n              do not list implied . and ..\n\n       --author\n              with -l, print the author of each file\n\n       -b, --escape\n              print C-style escapes for nongraphic characters\n Manual page ls(1) line 1 (press h for help or q to quit)\n```\n按`h`看更多訊息\n> $ man ls \n> h\n\n```\n                   SUMMARY OF LESS COMMANDS\n\n      Commands marked with * may be preceded by a number, N.\n      Notes in parentheses indicate the behavior if N is given.\n\n  h  H                 Display this help.\n  q  :q  Q  :Q  ZZ     Exit.\n ---------------------------------------------------------------------------\n\n                           MOVING\n\n  e  ^E  j  ^N  CR  *  Forward  one line   (or N lines).\n  y  ^Y  k  ^K  ^P  *  Backward one line   (or N lines).\n  f  ^F  ^V  SPACE  *  Forward  one window (or N lines).\n  b  ^B  ESC-v      *  Backward one window (or N lines).\n  z                 *  Forward  one window (and set window to N).\n  w                 *  Backward one window (and set window to N).\n  ESC-SPACE         *  Forward  one window, but don't stop at end-of-file.\n  d  ^D             *  Forward  one half-window (and set half-window to N).\n  u  ^U             *  Backward one half-window (and set half-window to N).\n  ESC-)  RightArrow *  Left  one half screen width (or N positions).\n  ESC-(  LeftArrow  *  Right one half screen width (or N positions).\n  F                    Forward forever; like \"tail -f\".\n  r  ^R  ^L            Repaint screen.\nHELP -- Press RETURN for more, or q when done\n```\n\n按`q`退出查詢畫面\n\n### `banner`\n#### 輸出用#組成的大形文字\n\n實測未出現,上網查了一下banner好像有蠻多不同的類型可以安裝?\n\n### `compress`\n#### 壓縮檔案\n\n### `zcat`\n#### 讀取壓縮檔案\n\n### `uncompress`\n#### 解壓縮檔案\n\n>compress 已經退流行了。為了支援 windows 常見的 zip，其實 Linux 也早就有 zip 指令了！ gzip 是由 [GNU 計畫](http://www.gnu.org/)所開發出來的壓縮指令，該指令已經取代了 compress 。\n> --- 鳥哥的 Linux 私房菜\n\n### 小結\n\n以上是一些基本的 Linux Command ,  \n下一篇,我們會建立.sh檔,將 Linux Command 依照指定的順序執行  \n並使用 `sh` 命令執行  \n用以完成一些更進階的工作. \n\n\n\n\n\n(more..)","slug":"2018/linux_command_1","published":1,"updated":"2018-04-17T03:12:39.601Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkm001rb0vx7hxbbiht","content":"<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://www.tutorialspoint.com/unix_terminal_online.php\" target=\"_blank\" rel=\"noopener\">Unix Terminal Online</a></li>\n<li><a href=\"https://www.udemy.com/learn-shell-scripting-all-levels/\" target=\"_blank\" rel=\"noopener\">Learn Shell Scripting all Levels</a></li>\n<li><a href=\"http://linux.vbird.org/linux_basic/0320bash/csh/no3-8-01.html\" target=\"_blank\" rel=\"noopener\">umask 指令</a></li>\n</ul>\n<h2 id=\"學習筆記\"><a href=\"#學習筆記\" class=\"headerlink\" title=\"學習筆記\"></a>學習筆記</h2><h3 id=\"Clear\"><a href=\"#Clear\" class=\"headerlink\" title=\"Clear\"></a><code>Clear</code></h3><h4 id=\"清除目前-terminal-畫面\"><a href=\"#清除目前-terminal-畫面\" class=\"headerlink\" title=\"清除目前 terminal 畫面\"></a>清除目前 terminal 畫面</h4><h3 id=\"Cal\"><a href=\"#Cal\" class=\"headerlink\" title=\"Cal\"></a><code>Cal</code></h3><h4 id=\"產生當下的月曆\"><a href=\"#產生當下的月曆\" class=\"headerlink\" title=\"產生當下的月曆\"></a>產生當下的月曆</h4><blockquote>\n<p>$ cal                                                </p>\n</blockquote>\n<blockquote>\n<p>March 2018<br>Su Mo Tu We Th Fr Sa<br>             1  2  3<br> 4  5  6  7  8  9 10<br>11 12 13 14 15 16 17<br>18 19 20 21 22 23 24<br>25 26 27 28 29 30 31</p>\n</blockquote>\n<blockquote>\n<p>$ cal 2 1985</p>\n</blockquote>\n<blockquote>\n<p>   February 1985<br>Su Mo Tu We Th Fr Sa<br>                1  2<br> 3  4  5  6  7  8  9<br>10 11 12 13 14 15 16<br>17 18 19 20 21 22 23<br>24 25 26 27 28 </p>\n</blockquote>\n<h3 id=\"Date\"><a href=\"#Date\" class=\"headerlink\" title=\"Date\"></a><code>Date</code></h3><h4 id=\"顯示日期與時間\"><a href=\"#顯示日期與時間\" class=\"headerlink\" title=\"顯示日期與時間\"></a>顯示日期與時間</h4><blockquote>\n<p>$ date</p>\n</blockquote>\n<blockquote>\n<p>Sat Mar 10 19:01:37 UTC 2018</p>\n</blockquote>\n<blockquote>\n<p>$ date  ‘+ %y-%m-%d %n %H:%M:%S:%N’</p>\n</blockquote>\n<blockquote>\n<p>18-03-10<br>19:06:24:126172657</p>\n</blockquote>\n<h3 id=\"pwd\"><a href=\"#pwd\" class=\"headerlink\" title=\"pwd\"></a><code>pwd</code></h3><h4 id=\"目前所在的檔案路徑\"><a href=\"#目前所在的檔案路徑\" class=\"headerlink\" title=\"目前所在的檔案路徑\"></a>目前所在的檔案路徑</h4><h3 id=\"Touch\"><a href=\"#Touch\" class=\"headerlink\" title=\"Touch\"></a><code>Touch</code></h3><h4 id=\"建立檔案\"><a href=\"#建立檔案\" class=\"headerlink\" title=\"建立檔案\"></a>建立檔案</h4><h3 id=\"mkdir\"><a href=\"#mkdir\" class=\"headerlink\" title=\"mkdir\"></a><code>mkdir</code></h3><h4 id=\"建立資料夾\"><a href=\"#建立資料夾\" class=\"headerlink\" title=\"建立資料夾\"></a>建立資料夾</h4><h3 id=\"cat\"><a href=\"#cat\" class=\"headerlink\" title=\"cat\"></a><code>cat</code></h3><h4 id=\"寫檔案-cat-gt-filename\"><a href=\"#寫檔案-cat-gt-filename\" class=\"headerlink\" title=\"寫檔案 cat &gt; filename\"></a>寫檔案 <code>cat &gt; filename</code></h4><blockquote>\n<p>ctrl + d 可以離開編輯</p>\n</blockquote>\n<h4 id=\"讀檔案-cat-lt-filename\"><a href=\"#讀檔案-cat-lt-filename\" class=\"headerlink\" title=\"讀檔案 cat &lt; filename\"></a>讀檔案 <code>cat &lt; filename</code></h4><h4 id=\"合併檔案-cat-file1-file2-gt-merged-file\"><a href=\"#合併檔案-cat-file1-file2-gt-merged-file\" class=\"headerlink\" title=\"合併檔案 cat file1 file2 &gt; merged_file\"></a>合併檔案 <code>cat file1 file2 &gt; merged_file</code></h4><blockquote>\n<p>$ cat &gt; file1<br>this is file1<br>$ cat file1<br>this is file1<br>$ cat &gt; file2<br>this is file2<br>$ cat file2<br>this is file2<br>$ cat file1 file2 &gt; merged_file<br>$ cat merged_file<br>this is file1<br>this is file2</p>\n</blockquote>\n<h3 id=\"mv\"><a href=\"#mv\" class=\"headerlink\" title=\"mv\"></a><code>mv</code></h3><h4 id=\"重新命名檔案\"><a href=\"#重新命名檔案\" class=\"headerlink\" title=\"重新命名檔案\"></a>重新命名檔案</h4><blockquote>\n<p>mv origin_name new_name</p>\n</blockquote>\n<h3 id=\"rm\"><a href=\"#rm\" class=\"headerlink\" title=\"rm\"></a><code>rm</code></h3><h4 id=\"刪除檔案或資料夾\"><a href=\"#刪除檔案或資料夾\" class=\"headerlink\" title=\"刪除檔案或資料夾\"></a>刪除檔案或資料夾</h4><blockquote>\n<p>$ rm file_name</p>\n</blockquote>\n<blockquote>\n<p>$ rm -r folder_name/</p>\n</blockquote>\n<h3 id=\"rmdir\"><a href=\"#rmdir\" class=\"headerlink\" title=\"rmdir\"></a><code>rmdir</code></h3><h4 id=\"刪除資料夾\"><a href=\"#刪除資料夾\" class=\"headerlink\" title=\"刪除資料夾\"></a>刪除資料夾</h4><blockquote>\n<p>$ rmdir folder_name/</p>\n</blockquote>\n<h3 id=\"cp\"><a href=\"#cp\" class=\"headerlink\" title=\"cp\"></a><code>cp</code></h3><h4 id=\"複製檔案\"><a href=\"#複製檔案\" class=\"headerlink\" title=\"複製檔案\"></a>複製檔案</h4><blockquote>\n<p>$ cp oldfile other_folder/newfile</p>\n</blockquote>\n<h3 id=\"ln\"><a href=\"#ln\" class=\"headerlink\" title=\"ln\"></a><code>ln</code></h3><h4 id=\"聯結檔案-hard-link\"><a href=\"#聯結檔案-hard-link\" class=\"headerlink\" title=\"聯結檔案(hard link)\"></a>聯結檔案(hard link)</h4><blockquote>\n<p>$ touch one<br>$ cat &lt; one<br>$ ln one two<br>$ ls<br>one  two<br>$ cat &gt; one<br>this is one<br>$ cat &lt; one<br>this is one<br>$ cat &lt; two<br>this is one                                            </p>\n</blockquote>\n<h4 id=\"ln-s-soft-link\"><a href=\"#ln-s-soft-link\" class=\"headerlink\" title=\"ln -s soft link\"></a><code>ln -s</code> soft link</h4><p>hard link 會產生實體檔案,soft link只是指標的轉向.<br>如果使用soft link,當刪除原始檔案時,link檔案將無法開啟.</p>\n<h3 id=\"檔案權限概觀\"><a href=\"#檔案權限概觀\" class=\"headerlink\" title=\"檔案權限概觀\"></a>檔案權限概觀</h3><h4 id=\"三種權限\"><a href=\"#三種權限\" class=\"headerlink\" title=\"三種權限\"></a>三種權限</h4><ul>\n<li>read / 讀 / 100 =&gt; 4</li>\n<li>write / 寫 / 010 =&gt; 2</li>\n<li>execute / 執行 / 001 =&gt; 1</li>\n</ul>\n<p>每個權限都有一個代號,<br>read 表示可讀權限, 意味著可以開啟檔案與看見內容,<br>代號為4,二進位表示為100<br>write 表示可以複寫其內容,<br>代號為2,二進位表示為010,<br>execute 代表可執行,適用可執行檔或shell script,<br>代號為1,二進位表示為001.<br>三種權限都有的話,權限為(111=&gt;7)</p>\n<h4 id=\"三種身份\"><a href=\"#三種身份\" class=\"headerlink\" title=\"三種身份\"></a>三種身份</h4><ul>\n<li>owner 開啟的帳號</li>\n<li>owner group 開啟的帳號所屬的群組</li>\n<li>other group 其它的群組</li>\n</ul>\n<p>新增一個檔案的時候,<br>預設只有讀寫,沒有執行的權限 (100|010=110=&gt;6) </p>\n<blockquote>\n<p>指令 umask 的設定值以三個八進位的數字“nnn”代表。<br>第一個設定數字給使用者自己（owner user），<br>第二個則是設定給用使用者所屬的群體（group），<br>第三個給不屬於同群體的其它使用者（other）。<br>每一位數字的設定值都是三項不同權限的數值加總，<br>read 權限數值為 4；write 權限數值為 2；execute 權限數值為 1。<br>結合了前三者的權限數值，單一的數字可設定的範圍是 0 ~ 7；<br>整體的可設定範圍是 000 ~ 777。<br>— 鳥哥的 Linux 私房菜</p>\n</blockquote>\n<h3 id=\"ls\"><a href=\"#ls\" class=\"headerlink\" title=\"ls\"></a><code>ls</code></h3><h4 id=\"列出資料夾中的所有檔案\"><a href=\"#列出資料夾中的所有檔案\" class=\"headerlink\" title=\"列出資料夾中的所有檔案\"></a>列出資料夾中的所有檔案</h4><h4 id=\"ls-foldername\"><a href=\"#ls-foldername\" class=\"headerlink\" title=\"ls foldername\"></a><code>ls foldername</code></h4><p>列出指定的資料夾中所有的檔案</p>\n<h4 id=\"ls-l\"><a href=\"#ls-l\" class=\"headerlink\" title=\"ls -l\"></a><code>ls -l</code></h4><p>列出資料夾中的所有檔案與其權限資訊</p>\n<blockquote>\n<p>ls 最常被使用到的功能還是那個 -l 的選項，為此，很多 distribution 在預設的情況中， 已經將 ll (L 的小寫) 設定成為 ls -l 的意思了！其實，那個功能是 <a href=\"http://linux.vbird.org/linux_basic/0320bash.php\" target=\"_blank\" rel=\"noopener\">Bash shell</a> 的 <a href=\"http://linux.vbird.org/linux_basic/0320bash.php#alias\" target=\"_blank\" rel=\"noopener\">alias</a> 功能呢<br>— 鳥哥的 Linux 私房菜</p>\n</blockquote>\n<h3 id=\"chmod\"><a href=\"#chmod\" class=\"headerlink\" title=\"chmod\"></a><code>chmod</code></h3><h4 id=\"修改檔案權限\"><a href=\"#修改檔案權限\" class=\"headerlink\" title=\"修改檔案權限\"></a>修改檔案權限</h4><blockquote>\n<p>sh-4.4$ ls -l<br>total 4<br>-rw-r–r– 1 33581 33581 978 Mar 12 17:30 README.txt<br>-rw-r–r– 1 33581 33581   0 Mar 12 17:32 test<br>sh-4.4$ chmod 777 test<br>sh-4.4$ ls -l<br>total 4<br>-rw-r–r– 1 33581 33581 978 Mar 12 17:30 README.txt<br>-rwxrwxrwx 1 33581 33581   0 Mar 12 17:32 test<br>sh-4.4$ chmod 444 test<br>sh-4.4$ ls -l<br>total 4<br>-rw-r–r– 1 33581 33581 978 Mar 12 17:30 README.txt<br>-r–r–r– 1 33581 33581   0 Mar 12 17:32 test</p>\n</blockquote>\n<h3 id=\"uname\"><a href=\"#uname\" class=\"headerlink\" title=\"uname\"></a><code>uname</code></h3><h4 id=\"顯示系統相關的資訊\"><a href=\"#顯示系統相關的資訊\" class=\"headerlink\" title=\"顯示系統相關的資訊\"></a>顯示系統相關的資訊</h4><blockquote>\n<p>$ uname -a<br>Linux e955582759de 3.10.0-514.26.2.el7.x86_64 #1 SMP Tue Jul 4 15:04:05 UTC<br>2017 x86_64 x86_64 x86_64 GNU/Linux</p>\n</blockquote>\n<blockquote>\n<p>選項與參數：<br>-a  ：所有系統相關的資訊，包括底下的資料都會被列出來；<br>-s  ：系統核心名稱<br>-r  ：核心的版本<br>-m  ：本系統的硬體名稱，例如 i686 或 x86_64 等；<br>-p  ：CPU 的類型，與 -m 類似，只是顯示的是 CPU 的類型！<br>-i  ：硬體的平台 (ix86)<br>— 鳥哥的 Linux 私房菜</p>\n</blockquote>\n<h3 id=\"file\"><a href=\"#file\" class=\"headerlink\" title=\"file\"></a><code>file</code></h3><h4 id=\"查詢檔案基本資料-類型\"><a href=\"#查詢檔案基本資料-類型\" class=\"headerlink\" title=\"查詢檔案基本資料(類型)\"></a>查詢檔案基本資料(類型)</h4><blockquote>\n<p>file *</p>\n</blockquote>\n<blockquote>\n<p>jazzy:  ASCII text<br>mark:   empty<br>marsen: directory</p>\n</blockquote>\n<h3 id=\"wc\"><a href=\"#wc\" class=\"headerlink\" title=\"wc\"></a><code>wc</code></h3><h4 id=\"顯示檔案資訊\"><a href=\"#顯示檔案資訊\" class=\"headerlink\" title=\"顯示檔案資訊\"></a>顯示檔案資訊</h4><p>行數 字數 字元數 檔名</p>\n<blockquote>\n<p>$ wc jazzy</p>\n</blockquote>\n<blockquote>\n<p>3 10 39 jazzy</p>\n</blockquote>\n<h4 id=\"wc-l-filename\"><a href=\"#wc-l-filename\" class=\"headerlink\" title=\"wc -l filename\"></a><code>wc -l filename</code></h4><p>顯示檔案行數資訊</p>\n<h4 id=\"wc-w-filename\"><a href=\"#wc-w-filename\" class=\"headerlink\" title=\"wc -w filename\"></a><code>wc -w filename</code></h4><p>顯示檔案字數資訊</p>\n<h4 id=\"wc-c-filename\"><a href=\"#wc-c-filename\" class=\"headerlink\" title=\"wc -c filename\"></a><code>wc -c filename</code></h4><p>顯示檔案字元數資訊</p>\n<h3 id=\"sort\"><a href=\"#sort\" class=\"headerlink\" title=\"sort\"></a><code>sort</code></h3><h4 id=\"印出排序過後的結果-遞增\"><a href=\"#印出排序過後的結果-遞增\" class=\"headerlink\" title=\"印出排序過後的結果(遞增)\"></a>印出排序過後的結果(遞增)</h4><blockquote>\n<p>$ sort<br>owls<br>pigs<br>dogs<br>cats</p>\n</blockquote>\n<blockquote>\n<p>cats<br>dogs<br>owls<br>pigs</p>\n</blockquote>\n<h4 id=\"sort-filename\"><a href=\"#sort-filename\" class=\"headerlink\" title=\"sort filename\"></a><code>sort filename</code></h4><p>印出檔案內排序過後的結果(遞增)</p>\n<h3 id=\"cut\"><a href=\"#cut\" class=\"headerlink\" title=\"cut\"></a><code>cut</code></h3><h4 id=\"切割資料\"><a href=\"#切割資料\" class=\"headerlink\" title=\"切割資料\"></a>切割資料</h4><p>參數:<br>-d 分割字元<br>-f index (從1開始)</p>\n<p>範例</p>\n<blockquote>\n<p>cat &gt; filenames<br>Name-Sport-Age<br>Roger-Tennis-30<br>Nadal-Tennis-25<br>Tiger-Golf-37<br>Michael-Baseball-49</p>\n</blockquote>\n<blockquote>\n<p>$ cut -d”-“ -f 1,3 filenames<br>Name-Age<br>Roger-30<br>Nadal-25<br>Tiger-37<br>Michael-49</p>\n</blockquote>\n<h3 id=\"dd\"><a href=\"#dd\" class=\"headerlink\" title=\"dd\"></a><code>dd</code></h3><h4 id=\"資料處理、拷貝、備份、轉碼-更多\"><a href=\"#資料處理、拷貝、備份、轉碼-更多\" class=\"headerlink\" title=\"資料處理、拷貝、備份、轉碼;更多\"></a>資料處理、拷貝、備份、轉碼;<a href=\"https://blog.gtwang.org/linux/dd-command-examples/\" target=\"_blank\" rel=\"noopener\">更多</a></h4><blockquote>\n<p>$ cat &gt; infile<br>this is the input file<br>$ cat infile<br>this is the input file</p>\n</blockquote>\n<blockquote>\n<p>$ dd if=infile of=outfile conv=ucase<br>0+1 records in<br>0+1 records out<br>23 bytes copied, 6.6972e-05 s, 343 kB/s<br>$ cat outfile<br>THIS IS THE INPUT FILE </p>\n</blockquote>\n<h3 id=\"man\"><a href=\"#man\" class=\"headerlink\" title=\"man\"></a><code>man</code></h3><h4 id=\"查詢其它指令用法\"><a href=\"#查詢其它指令用法\" class=\"headerlink\" title=\"查詢其它指令用法\"></a>查詢其它指令用法</h4><blockquote>\n<p>$ man ls</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">LS(1)\tUser Commands  LS(1)</span><br><span class=\"line\">NAME\tls - list directory contents</span><br><span class=\"line\">SYNOPSIS\tls [OPTION]... [FILE]...</span><br><span class=\"line\"></span><br><span class=\"line\">DESCRIPTION</span><br><span class=\"line\">       List  information  about the FILEs (the current directory by default).  </span><br><span class=\"line\">\t   Sort entries alphabetically if none of</span><br><span class=\"line\">       -cftuvSUX nor --sort is specified.</span><br><span class=\"line\"></span><br><span class=\"line\">       Mandatory arguments to long options are mandatory for short options too.</span><br><span class=\"line\">       -a, --all</span><br><span class=\"line\">              do not ignore entries starting with .</span><br><span class=\"line\"></span><br><span class=\"line\">       -A, --almost-all</span><br><span class=\"line\">              do not list implied . and ..</span><br><span class=\"line\"></span><br><span class=\"line\">       --author</span><br><span class=\"line\">              with -l, print the author of each file</span><br><span class=\"line\"></span><br><span class=\"line\">       -b, --escape</span><br><span class=\"line\">              print C-style escapes for nongraphic characters</span><br><span class=\"line\"> Manual page ls(1) line 1 (press h for help or q to quit)</span><br></pre></td></tr></table></figure>\n\n<p>按<code>h</code>看更多訊息</p>\n<blockquote>\n<p>$ man ls<br>h</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">                   SUMMARY OF LESS COMMANDS</span><br><span class=\"line\"></span><br><span class=\"line\">      Commands marked with * may be preceded by a number, N.</span><br><span class=\"line\">      Notes in parentheses indicate the behavior if N is given.</span><br><span class=\"line\"></span><br><span class=\"line\">  h  H                 Display this help.</span><br><span class=\"line\">  q  :q  Q  :Q  ZZ     Exit.</span><br><span class=\"line\"> ---------------------------------------------------------------------------</span><br><span class=\"line\"></span><br><span class=\"line\">                           MOVING</span><br><span class=\"line\"></span><br><span class=\"line\">  e  ^E  j  ^N  CR  *  Forward  one line   (or N lines).</span><br><span class=\"line\">  y  ^Y  k  ^K  ^P  *  Backward one line   (or N lines).</span><br><span class=\"line\">  f  ^F  ^V  SPACE  *  Forward  one window (or N lines).</span><br><span class=\"line\">  b  ^B  ESC-v      *  Backward one window (or N lines).</span><br><span class=\"line\">  z                 *  Forward  one window (and set window to N).</span><br><span class=\"line\">  w                 *  Backward one window (and set window to N).</span><br><span class=\"line\">  ESC-SPACE         *  Forward  one window, but don&apos;t stop at end-of-file.</span><br><span class=\"line\">  d  ^D             *  Forward  one half-window (and set half-window to N).</span><br><span class=\"line\">  u  ^U             *  Backward one half-window (and set half-window to N).</span><br><span class=\"line\">  ESC-)  RightArrow *  Left  one half screen width (or N positions).</span><br><span class=\"line\">  ESC-(  LeftArrow  *  Right one half screen width (or N positions).</span><br><span class=\"line\">  F                    Forward forever; like &quot;tail -f&quot;.</span><br><span class=\"line\">  r  ^R  ^L            Repaint screen.</span><br><span class=\"line\">HELP -- Press RETURN for more, or q when done</span><br></pre></td></tr></table></figure>\n\n<p>按<code>q</code>退出查詢畫面</p>\n<h3 id=\"banner\"><a href=\"#banner\" class=\"headerlink\" title=\"banner\"></a><code>banner</code></h3><h4 id=\"輸出用-組成的大形文字\"><a href=\"#輸出用-組成的大形文字\" class=\"headerlink\" title=\"輸出用#組成的大形文字\"></a>輸出用#組成的大形文字</h4><p>實測未出現,上網查了一下banner好像有蠻多不同的類型可以安裝?</p>\n<h3 id=\"compress\"><a href=\"#compress\" class=\"headerlink\" title=\"compress\"></a><code>compress</code></h3><h4 id=\"壓縮檔案\"><a href=\"#壓縮檔案\" class=\"headerlink\" title=\"壓縮檔案\"></a>壓縮檔案</h4><h3 id=\"zcat\"><a href=\"#zcat\" class=\"headerlink\" title=\"zcat\"></a><code>zcat</code></h3><h4 id=\"讀取壓縮檔案\"><a href=\"#讀取壓縮檔案\" class=\"headerlink\" title=\"讀取壓縮檔案\"></a>讀取壓縮檔案</h4><h3 id=\"uncompress\"><a href=\"#uncompress\" class=\"headerlink\" title=\"uncompress\"></a><code>uncompress</code></h3><h4 id=\"解壓縮檔案\"><a href=\"#解壓縮檔案\" class=\"headerlink\" title=\"解壓縮檔案\"></a>解壓縮檔案</h4><blockquote>\n<p>compress 已經退流行了。為了支援 windows 常見的 zip，其實 Linux 也早就有 zip 指令了！ gzip 是由 <a href=\"http://www.gnu.org/\" target=\"_blank\" rel=\"noopener\">GNU 計畫</a>所開發出來的壓縮指令，該指令已經取代了 compress 。<br>— 鳥哥的 Linux 私房菜</p>\n</blockquote>\n<h3 id=\"小結\"><a href=\"#小結\" class=\"headerlink\" title=\"小結\"></a>小結</h3><p>以上是一些基本的 Linux Command ,<br>下一篇,我們會建立.sh檔,將 Linux Command 依照指定的順序執行<br>並使用 <code>sh</code> 命令執行<br>用以完成一些更進階的工作. </p>\n<p>(more..)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://www.tutorialspoint.com/unix_terminal_online.php\" target=\"_blank\" rel=\"noopener\">Unix Terminal Online</a></li>\n<li><a href=\"https://www.udemy.com/learn-shell-scripting-all-levels/\" target=\"_blank\" rel=\"noopener\">Learn Shell Scripting all Levels</a></li>\n<li><a href=\"http://linux.vbird.org/linux_basic/0320bash/csh/no3-8-01.html\" target=\"_blank\" rel=\"noopener\">umask 指令</a></li>\n</ul>\n<h2 id=\"學習筆記\"><a href=\"#學習筆記\" class=\"headerlink\" title=\"學習筆記\"></a>學習筆記</h2><h3 id=\"Clear\"><a href=\"#Clear\" class=\"headerlink\" title=\"Clear\"></a><code>Clear</code></h3><h4 id=\"清除目前-terminal-畫面\"><a href=\"#清除目前-terminal-畫面\" class=\"headerlink\" title=\"清除目前 terminal 畫面\"></a>清除目前 terminal 畫面</h4><h3 id=\"Cal\"><a href=\"#Cal\" class=\"headerlink\" title=\"Cal\"></a><code>Cal</code></h3><h4 id=\"產生當下的月曆\"><a href=\"#產生當下的月曆\" class=\"headerlink\" title=\"產生當下的月曆\"></a>產生當下的月曆</h4><blockquote>\n<p>$ cal                                                </p>\n</blockquote>\n<blockquote>\n<p>March 2018<br>Su Mo Tu We Th Fr Sa<br>             1  2  3<br> 4  5  6  7  8  9 10<br>11 12 13 14 15 16 17<br>18 19 20 21 22 23 24<br>25 26 27 28 29 30 31</p>\n</blockquote>\n<blockquote>\n<p>$ cal 2 1985</p>\n</blockquote>\n<blockquote>\n<p>   February 1985<br>Su Mo Tu We Th Fr Sa<br>                1  2<br> 3  4  5  6  7  8  9<br>10 11 12 13 14 15 16<br>17 18 19 20 21 22 23<br>24 25 26 27 28 </p>\n</blockquote>\n<h3 id=\"Date\"><a href=\"#Date\" class=\"headerlink\" title=\"Date\"></a><code>Date</code></h3><h4 id=\"顯示日期與時間\"><a href=\"#顯示日期與時間\" class=\"headerlink\" title=\"顯示日期與時間\"></a>顯示日期與時間</h4><blockquote>\n<p>$ date</p>\n</blockquote>\n<blockquote>\n<p>Sat Mar 10 19:01:37 UTC 2018</p>\n</blockquote>\n<blockquote>\n<p>$ date  ‘+ %y-%m-%d %n %H:%M:%S:%N’</p>\n</blockquote>\n<blockquote>\n<p>18-03-10<br>19:06:24:126172657</p>\n</blockquote>\n<h3 id=\"pwd\"><a href=\"#pwd\" class=\"headerlink\" title=\"pwd\"></a><code>pwd</code></h3><h4 id=\"目前所在的檔案路徑\"><a href=\"#目前所在的檔案路徑\" class=\"headerlink\" title=\"目前所在的檔案路徑\"></a>目前所在的檔案路徑</h4><h3 id=\"Touch\"><a href=\"#Touch\" class=\"headerlink\" title=\"Touch\"></a><code>Touch</code></h3><h4 id=\"建立檔案\"><a href=\"#建立檔案\" class=\"headerlink\" title=\"建立檔案\"></a>建立檔案</h4><h3 id=\"mkdir\"><a href=\"#mkdir\" class=\"headerlink\" title=\"mkdir\"></a><code>mkdir</code></h3><h4 id=\"建立資料夾\"><a href=\"#建立資料夾\" class=\"headerlink\" title=\"建立資料夾\"></a>建立資料夾</h4><h3 id=\"cat\"><a href=\"#cat\" class=\"headerlink\" title=\"cat\"></a><code>cat</code></h3><h4 id=\"寫檔案-cat-gt-filename\"><a href=\"#寫檔案-cat-gt-filename\" class=\"headerlink\" title=\"寫檔案 cat &gt; filename\"></a>寫檔案 <code>cat &gt; filename</code></h4><blockquote>\n<p>ctrl + d 可以離開編輯</p>\n</blockquote>\n<h4 id=\"讀檔案-cat-lt-filename\"><a href=\"#讀檔案-cat-lt-filename\" class=\"headerlink\" title=\"讀檔案 cat &lt; filename\"></a>讀檔案 <code>cat &lt; filename</code></h4><h4 id=\"合併檔案-cat-file1-file2-gt-merged-file\"><a href=\"#合併檔案-cat-file1-file2-gt-merged-file\" class=\"headerlink\" title=\"合併檔案 cat file1 file2 &gt; merged_file\"></a>合併檔案 <code>cat file1 file2 &gt; merged_file</code></h4><blockquote>\n<p>$ cat &gt; file1<br>this is file1<br>$ cat file1<br>this is file1<br>$ cat &gt; file2<br>this is file2<br>$ cat file2<br>this is file2<br>$ cat file1 file2 &gt; merged_file<br>$ cat merged_file<br>this is file1<br>this is file2</p>\n</blockquote>\n<h3 id=\"mv\"><a href=\"#mv\" class=\"headerlink\" title=\"mv\"></a><code>mv</code></h3><h4 id=\"重新命名檔案\"><a href=\"#重新命名檔案\" class=\"headerlink\" title=\"重新命名檔案\"></a>重新命名檔案</h4><blockquote>\n<p>mv origin_name new_name</p>\n</blockquote>\n<h3 id=\"rm\"><a href=\"#rm\" class=\"headerlink\" title=\"rm\"></a><code>rm</code></h3><h4 id=\"刪除檔案或資料夾\"><a href=\"#刪除檔案或資料夾\" class=\"headerlink\" title=\"刪除檔案或資料夾\"></a>刪除檔案或資料夾</h4><blockquote>\n<p>$ rm file_name</p>\n</blockquote>\n<blockquote>\n<p>$ rm -r folder_name/</p>\n</blockquote>\n<h3 id=\"rmdir\"><a href=\"#rmdir\" class=\"headerlink\" title=\"rmdir\"></a><code>rmdir</code></h3><h4 id=\"刪除資料夾\"><a href=\"#刪除資料夾\" class=\"headerlink\" title=\"刪除資料夾\"></a>刪除資料夾</h4><blockquote>\n<p>$ rmdir folder_name/</p>\n</blockquote>\n<h3 id=\"cp\"><a href=\"#cp\" class=\"headerlink\" title=\"cp\"></a><code>cp</code></h3><h4 id=\"複製檔案\"><a href=\"#複製檔案\" class=\"headerlink\" title=\"複製檔案\"></a>複製檔案</h4><blockquote>\n<p>$ cp oldfile other_folder/newfile</p>\n</blockquote>\n<h3 id=\"ln\"><a href=\"#ln\" class=\"headerlink\" title=\"ln\"></a><code>ln</code></h3><h4 id=\"聯結檔案-hard-link\"><a href=\"#聯結檔案-hard-link\" class=\"headerlink\" title=\"聯結檔案(hard link)\"></a>聯結檔案(hard link)</h4><blockquote>\n<p>$ touch one<br>$ cat &lt; one<br>$ ln one two<br>$ ls<br>one  two<br>$ cat &gt; one<br>this is one<br>$ cat &lt; one<br>this is one<br>$ cat &lt; two<br>this is one                                            </p>\n</blockquote>\n<h4 id=\"ln-s-soft-link\"><a href=\"#ln-s-soft-link\" class=\"headerlink\" title=\"ln -s soft link\"></a><code>ln -s</code> soft link</h4><p>hard link 會產生實體檔案,soft link只是指標的轉向.<br>如果使用soft link,當刪除原始檔案時,link檔案將無法開啟.</p>\n<h3 id=\"檔案權限概觀\"><a href=\"#檔案權限概觀\" class=\"headerlink\" title=\"檔案權限概觀\"></a>檔案權限概觀</h3><h4 id=\"三種權限\"><a href=\"#三種權限\" class=\"headerlink\" title=\"三種權限\"></a>三種權限</h4><ul>\n<li>read / 讀 / 100 =&gt; 4</li>\n<li>write / 寫 / 010 =&gt; 2</li>\n<li>execute / 執行 / 001 =&gt; 1</li>\n</ul>\n<p>每個權限都有一個代號,<br>read 表示可讀權限, 意味著可以開啟檔案與看見內容,<br>代號為4,二進位表示為100<br>write 表示可以複寫其內容,<br>代號為2,二進位表示為010,<br>execute 代表可執行,適用可執行檔或shell script,<br>代號為1,二進位表示為001.<br>三種權限都有的話,權限為(111=&gt;7)</p>\n<h4 id=\"三種身份\"><a href=\"#三種身份\" class=\"headerlink\" title=\"三種身份\"></a>三種身份</h4><ul>\n<li>owner 開啟的帳號</li>\n<li>owner group 開啟的帳號所屬的群組</li>\n<li>other group 其它的群組</li>\n</ul>\n<p>新增一個檔案的時候,<br>預設只有讀寫,沒有執行的權限 (100|010=110=&gt;6) </p>\n<blockquote>\n<p>指令 umask 的設定值以三個八進位的數字“nnn”代表。<br>第一個設定數字給使用者自己（owner user），<br>第二個則是設定給用使用者所屬的群體（group），<br>第三個給不屬於同群體的其它使用者（other）。<br>每一位數字的設定值都是三項不同權限的數值加總，<br>read 權限數值為 4；write 權限數值為 2；execute 權限數值為 1。<br>結合了前三者的權限數值，單一的數字可設定的範圍是 0 ~ 7；<br>整體的可設定範圍是 000 ~ 777。<br>— 鳥哥的 Linux 私房菜</p>\n</blockquote>\n<h3 id=\"ls\"><a href=\"#ls\" class=\"headerlink\" title=\"ls\"></a><code>ls</code></h3><h4 id=\"列出資料夾中的所有檔案\"><a href=\"#列出資料夾中的所有檔案\" class=\"headerlink\" title=\"列出資料夾中的所有檔案\"></a>列出資料夾中的所有檔案</h4><h4 id=\"ls-foldername\"><a href=\"#ls-foldername\" class=\"headerlink\" title=\"ls foldername\"></a><code>ls foldername</code></h4><p>列出指定的資料夾中所有的檔案</p>\n<h4 id=\"ls-l\"><a href=\"#ls-l\" class=\"headerlink\" title=\"ls -l\"></a><code>ls -l</code></h4><p>列出資料夾中的所有檔案與其權限資訊</p>\n<blockquote>\n<p>ls 最常被使用到的功能還是那個 -l 的選項，為此，很多 distribution 在預設的情況中， 已經將 ll (L 的小寫) 設定成為 ls -l 的意思了！其實，那個功能是 <a href=\"http://linux.vbird.org/linux_basic/0320bash.php\" target=\"_blank\" rel=\"noopener\">Bash shell</a> 的 <a href=\"http://linux.vbird.org/linux_basic/0320bash.php#alias\" target=\"_blank\" rel=\"noopener\">alias</a> 功能呢<br>— 鳥哥的 Linux 私房菜</p>\n</blockquote>\n<h3 id=\"chmod\"><a href=\"#chmod\" class=\"headerlink\" title=\"chmod\"></a><code>chmod</code></h3><h4 id=\"修改檔案權限\"><a href=\"#修改檔案權限\" class=\"headerlink\" title=\"修改檔案權限\"></a>修改檔案權限</h4><blockquote>\n<p>sh-4.4$ ls -l<br>total 4<br>-rw-r–r– 1 33581 33581 978 Mar 12 17:30 README.txt<br>-rw-r–r– 1 33581 33581   0 Mar 12 17:32 test<br>sh-4.4$ chmod 777 test<br>sh-4.4$ ls -l<br>total 4<br>-rw-r–r– 1 33581 33581 978 Mar 12 17:30 README.txt<br>-rwxrwxrwx 1 33581 33581   0 Mar 12 17:32 test<br>sh-4.4$ chmod 444 test<br>sh-4.4$ ls -l<br>total 4<br>-rw-r–r– 1 33581 33581 978 Mar 12 17:30 README.txt<br>-r–r–r– 1 33581 33581   0 Mar 12 17:32 test</p>\n</blockquote>\n<h3 id=\"uname\"><a href=\"#uname\" class=\"headerlink\" title=\"uname\"></a><code>uname</code></h3><h4 id=\"顯示系統相關的資訊\"><a href=\"#顯示系統相關的資訊\" class=\"headerlink\" title=\"顯示系統相關的資訊\"></a>顯示系統相關的資訊</h4><blockquote>\n<p>$ uname -a<br>Linux e955582759de 3.10.0-514.26.2.el7.x86_64 #1 SMP Tue Jul 4 15:04:05 UTC<br>2017 x86_64 x86_64 x86_64 GNU/Linux</p>\n</blockquote>\n<blockquote>\n<p>選項與參數：<br>-a  ：所有系統相關的資訊，包括底下的資料都會被列出來；<br>-s  ：系統核心名稱<br>-r  ：核心的版本<br>-m  ：本系統的硬體名稱，例如 i686 或 x86_64 等；<br>-p  ：CPU 的類型，與 -m 類似，只是顯示的是 CPU 的類型！<br>-i  ：硬體的平台 (ix86)<br>— 鳥哥的 Linux 私房菜</p>\n</blockquote>\n<h3 id=\"file\"><a href=\"#file\" class=\"headerlink\" title=\"file\"></a><code>file</code></h3><h4 id=\"查詢檔案基本資料-類型\"><a href=\"#查詢檔案基本資料-類型\" class=\"headerlink\" title=\"查詢檔案基本資料(類型)\"></a>查詢檔案基本資料(類型)</h4><blockquote>\n<p>file *</p>\n</blockquote>\n<blockquote>\n<p>jazzy:  ASCII text<br>mark:   empty<br>marsen: directory</p>\n</blockquote>\n<h3 id=\"wc\"><a href=\"#wc\" class=\"headerlink\" title=\"wc\"></a><code>wc</code></h3><h4 id=\"顯示檔案資訊\"><a href=\"#顯示檔案資訊\" class=\"headerlink\" title=\"顯示檔案資訊\"></a>顯示檔案資訊</h4><p>行數 字數 字元數 檔名</p>\n<blockquote>\n<p>$ wc jazzy</p>\n</blockquote>\n<blockquote>\n<p>3 10 39 jazzy</p>\n</blockquote>\n<h4 id=\"wc-l-filename\"><a href=\"#wc-l-filename\" class=\"headerlink\" title=\"wc -l filename\"></a><code>wc -l filename</code></h4><p>顯示檔案行數資訊</p>\n<h4 id=\"wc-w-filename\"><a href=\"#wc-w-filename\" class=\"headerlink\" title=\"wc -w filename\"></a><code>wc -w filename</code></h4><p>顯示檔案字數資訊</p>\n<h4 id=\"wc-c-filename\"><a href=\"#wc-c-filename\" class=\"headerlink\" title=\"wc -c filename\"></a><code>wc -c filename</code></h4><p>顯示檔案字元數資訊</p>\n<h3 id=\"sort\"><a href=\"#sort\" class=\"headerlink\" title=\"sort\"></a><code>sort</code></h3><h4 id=\"印出排序過後的結果-遞增\"><a href=\"#印出排序過後的結果-遞增\" class=\"headerlink\" title=\"印出排序過後的結果(遞增)\"></a>印出排序過後的結果(遞增)</h4><blockquote>\n<p>$ sort<br>owls<br>pigs<br>dogs<br>cats</p>\n</blockquote>\n<blockquote>\n<p>cats<br>dogs<br>owls<br>pigs</p>\n</blockquote>\n<h4 id=\"sort-filename\"><a href=\"#sort-filename\" class=\"headerlink\" title=\"sort filename\"></a><code>sort filename</code></h4><p>印出檔案內排序過後的結果(遞增)</p>\n<h3 id=\"cut\"><a href=\"#cut\" class=\"headerlink\" title=\"cut\"></a><code>cut</code></h3><h4 id=\"切割資料\"><a href=\"#切割資料\" class=\"headerlink\" title=\"切割資料\"></a>切割資料</h4><p>參數:<br>-d 分割字元<br>-f index (從1開始)</p>\n<p>範例</p>\n<blockquote>\n<p>cat &gt; filenames<br>Name-Sport-Age<br>Roger-Tennis-30<br>Nadal-Tennis-25<br>Tiger-Golf-37<br>Michael-Baseball-49</p>\n</blockquote>\n<blockquote>\n<p>$ cut -d”-“ -f 1,3 filenames<br>Name-Age<br>Roger-30<br>Nadal-25<br>Tiger-37<br>Michael-49</p>\n</blockquote>\n<h3 id=\"dd\"><a href=\"#dd\" class=\"headerlink\" title=\"dd\"></a><code>dd</code></h3><h4 id=\"資料處理、拷貝、備份、轉碼-更多\"><a href=\"#資料處理、拷貝、備份、轉碼-更多\" class=\"headerlink\" title=\"資料處理、拷貝、備份、轉碼;更多\"></a>資料處理、拷貝、備份、轉碼;<a href=\"https://blog.gtwang.org/linux/dd-command-examples/\" target=\"_blank\" rel=\"noopener\">更多</a></h4><blockquote>\n<p>$ cat &gt; infile<br>this is the input file<br>$ cat infile<br>this is the input file</p>\n</blockquote>\n<blockquote>\n<p>$ dd if=infile of=outfile conv=ucase<br>0+1 records in<br>0+1 records out<br>23 bytes copied, 6.6972e-05 s, 343 kB/s<br>$ cat outfile<br>THIS IS THE INPUT FILE </p>\n</blockquote>\n<h3 id=\"man\"><a href=\"#man\" class=\"headerlink\" title=\"man\"></a><code>man</code></h3><h4 id=\"查詢其它指令用法\"><a href=\"#查詢其它指令用法\" class=\"headerlink\" title=\"查詢其它指令用法\"></a>查詢其它指令用法</h4><blockquote>\n<p>$ man ls</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">LS(1)\tUser Commands  LS(1)</span><br><span class=\"line\">NAME\tls - list directory contents</span><br><span class=\"line\">SYNOPSIS\tls [OPTION]... [FILE]...</span><br><span class=\"line\"></span><br><span class=\"line\">DESCRIPTION</span><br><span class=\"line\">       List  information  about the FILEs (the current directory by default).  </span><br><span class=\"line\">\t   Sort entries alphabetically if none of</span><br><span class=\"line\">       -cftuvSUX nor --sort is specified.</span><br><span class=\"line\"></span><br><span class=\"line\">       Mandatory arguments to long options are mandatory for short options too.</span><br><span class=\"line\">       -a, --all</span><br><span class=\"line\">              do not ignore entries starting with .</span><br><span class=\"line\"></span><br><span class=\"line\">       -A, --almost-all</span><br><span class=\"line\">              do not list implied . and ..</span><br><span class=\"line\"></span><br><span class=\"line\">       --author</span><br><span class=\"line\">              with -l, print the author of each file</span><br><span class=\"line\"></span><br><span class=\"line\">       -b, --escape</span><br><span class=\"line\">              print C-style escapes for nongraphic characters</span><br><span class=\"line\"> Manual page ls(1) line 1 (press h for help or q to quit)</span><br></pre></td></tr></table></figure>\n\n<p>按<code>h</code>看更多訊息</p>\n<blockquote>\n<p>$ man ls<br>h</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">                   SUMMARY OF LESS COMMANDS</span><br><span class=\"line\"></span><br><span class=\"line\">      Commands marked with * may be preceded by a number, N.</span><br><span class=\"line\">      Notes in parentheses indicate the behavior if N is given.</span><br><span class=\"line\"></span><br><span class=\"line\">  h  H                 Display this help.</span><br><span class=\"line\">  q  :q  Q  :Q  ZZ     Exit.</span><br><span class=\"line\"> ---------------------------------------------------------------------------</span><br><span class=\"line\"></span><br><span class=\"line\">                           MOVING</span><br><span class=\"line\"></span><br><span class=\"line\">  e  ^E  j  ^N  CR  *  Forward  one line   (or N lines).</span><br><span class=\"line\">  y  ^Y  k  ^K  ^P  *  Backward one line   (or N lines).</span><br><span class=\"line\">  f  ^F  ^V  SPACE  *  Forward  one window (or N lines).</span><br><span class=\"line\">  b  ^B  ESC-v      *  Backward one window (or N lines).</span><br><span class=\"line\">  z                 *  Forward  one window (and set window to N).</span><br><span class=\"line\">  w                 *  Backward one window (and set window to N).</span><br><span class=\"line\">  ESC-SPACE         *  Forward  one window, but don&apos;t stop at end-of-file.</span><br><span class=\"line\">  d  ^D             *  Forward  one half-window (and set half-window to N).</span><br><span class=\"line\">  u  ^U             *  Backward one half-window (and set half-window to N).</span><br><span class=\"line\">  ESC-)  RightArrow *  Left  one half screen width (or N positions).</span><br><span class=\"line\">  ESC-(  LeftArrow  *  Right one half screen width (or N positions).</span><br><span class=\"line\">  F                    Forward forever; like &quot;tail -f&quot;.</span><br><span class=\"line\">  r  ^R  ^L            Repaint screen.</span><br><span class=\"line\">HELP -- Press RETURN for more, or q when done</span><br></pre></td></tr></table></figure>\n\n<p>按<code>q</code>退出查詢畫面</p>\n<h3 id=\"banner\"><a href=\"#banner\" class=\"headerlink\" title=\"banner\"></a><code>banner</code></h3><h4 id=\"輸出用-組成的大形文字\"><a href=\"#輸出用-組成的大形文字\" class=\"headerlink\" title=\"輸出用#組成的大形文字\"></a>輸出用#組成的大形文字</h4><p>實測未出現,上網查了一下banner好像有蠻多不同的類型可以安裝?</p>\n<h3 id=\"compress\"><a href=\"#compress\" class=\"headerlink\" title=\"compress\"></a><code>compress</code></h3><h4 id=\"壓縮檔案\"><a href=\"#壓縮檔案\" class=\"headerlink\" title=\"壓縮檔案\"></a>壓縮檔案</h4><h3 id=\"zcat\"><a href=\"#zcat\" class=\"headerlink\" title=\"zcat\"></a><code>zcat</code></h3><h4 id=\"讀取壓縮檔案\"><a href=\"#讀取壓縮檔案\" class=\"headerlink\" title=\"讀取壓縮檔案\"></a>讀取壓縮檔案</h4><h3 id=\"uncompress\"><a href=\"#uncompress\" class=\"headerlink\" title=\"uncompress\"></a><code>uncompress</code></h3><h4 id=\"解壓縮檔案\"><a href=\"#解壓縮檔案\" class=\"headerlink\" title=\"解壓縮檔案\"></a>解壓縮檔案</h4><blockquote>\n<p>compress 已經退流行了。為了支援 windows 常見的 zip，其實 Linux 也早就有 zip 指令了！ gzip 是由 <a href=\"http://www.gnu.org/\" target=\"_blank\" rel=\"noopener\">GNU 計畫</a>所開發出來的壓縮指令，該指令已經取代了 compress 。<br>— 鳥哥的 Linux 私房菜</p>\n</blockquote>\n<h3 id=\"小結\"><a href=\"#小結\" class=\"headerlink\" title=\"小結\"></a>小結</h3><p>以上是一些基本的 Linux Command ,<br>下一篇,我們會建立.sh檔,將 Linux Command 依照指定的順序執行<br>並使用 <code>sh</code> 命令執行<br>用以完成一些更進階的工作. </p>\n<p>(more..)</p>\n"},{"title":"[實作筆記]重灌開發環境","date":"2018-04-17T03:34:51.000Z","_content":"\n## 1.Typescript 踩雷\n\n#### 問題: \nvisual studio 預設會安裝 typescript 2.6\n專案使用 typescript 2.3 , 因為暫時無法升級到2.6以上的版本\n會導致專案無法編譯成功\n#### 解決步驟\n1. 在專案目錄執行 `npm i` 重新安裝相關module\n2. complie 後發現 `node_modules/@types` 中有檔案無法成功編譯\n3. 移除 `node_modules/@types` 整個資料夾\n4. 重新 complie 後仍會無法成功\n5. 移除 `C:\\Program Files (x86)\\Microsoft SDKs\\TypeScript\\2.6` (非必要,好像要看vs預設載入的版本為何?)\n\n## 2.多語系dll衝突\n1. 清空`bin`資料夾\n2. 清空 `c:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\Temporary ASP.NET Files\\`資料夾\n3. 重建前台專案\n\n## 3.Chocolatey\n```shell=\n choco install googlechrome -y\n choco install dropbox -y\n choco install evernote -y\n\n choco install git -y\n choco install nodejs -y\n choco install putty -y\n choco install visualstudiocode -y\n\n choco install winmerge -y\n choco install slack -y\n choco install linqpad -y\n choco install 7zip -y\n  \n choco install gitkraken -y\n #choco install sourcetree -y\n```","source":"_posts/2018/new_pc_install.md","raw":"---\ntitle: \"[實作筆記]重灌開發環境\"\ndate: 2018/04/17 11:34:51\n---\n\n## 1.Typescript 踩雷\n\n#### 問題: \nvisual studio 預設會安裝 typescript 2.6\n專案使用 typescript 2.3 , 因為暫時無法升級到2.6以上的版本\n會導致專案無法編譯成功\n#### 解決步驟\n1. 在專案目錄執行 `npm i` 重新安裝相關module\n2. complie 後發現 `node_modules/@types` 中有檔案無法成功編譯\n3. 移除 `node_modules/@types` 整個資料夾\n4. 重新 complie 後仍會無法成功\n5. 移除 `C:\\Program Files (x86)\\Microsoft SDKs\\TypeScript\\2.6` (非必要,好像要看vs預設載入的版本為何?)\n\n## 2.多語系dll衝突\n1. 清空`bin`資料夾\n2. 清空 `c:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\Temporary ASP.NET Files\\`資料夾\n3. 重建前台專案\n\n## 3.Chocolatey\n```shell=\n choco install googlechrome -y\n choco install dropbox -y\n choco install evernote -y\n\n choco install git -y\n choco install nodejs -y\n choco install putty -y\n choco install visualstudiocode -y\n\n choco install winmerge -y\n choco install slack -y\n choco install linqpad -y\n choco install 7zip -y\n  \n choco install gitkraken -y\n #choco install sourcetree -y\n```","slug":"2018/new_pc_install","published":1,"updated":"2018-04-17T03:36:43.312Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkm001sb0vxb3kjr4do","content":"<h2 id=\"1-Typescript-踩雷\"><a href=\"#1-Typescript-踩雷\" class=\"headerlink\" title=\"1.Typescript 踩雷\"></a>1.Typescript 踩雷</h2><h4 id=\"問題\"><a href=\"#問題\" class=\"headerlink\" title=\"問題:\"></a>問題:</h4><p>visual studio 預設會安裝 typescript 2.6<br>專案使用 typescript 2.3 , 因為暫時無法升級到2.6以上的版本<br>會導致專案無法編譯成功</p>\n<h4 id=\"解決步驟\"><a href=\"#解決步驟\" class=\"headerlink\" title=\"解決步驟\"></a>解決步驟</h4><ol>\n<li>在專案目錄執行 <code>npm i</code> 重新安裝相關module</li>\n<li>complie 後發現 <code>node_modules/@types</code> 中有檔案無法成功編譯</li>\n<li>移除 <code>node_modules/@types</code> 整個資料夾</li>\n<li>重新 complie 後仍會無法成功</li>\n<li>移除 <code>C:\\Program Files (x86)\\Microsoft SDKs\\TypeScript\\2.6</code> (非必要,好像要看vs預設載入的版本為何?)</li>\n</ol>\n<h2 id=\"2-多語系dll衝突\"><a href=\"#2-多語系dll衝突\" class=\"headerlink\" title=\"2.多語系dll衝突\"></a>2.多語系dll衝突</h2><ol>\n<li>清空<code>bin</code>資料夾</li>\n<li>清空 <code>c:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\Temporary ASP.NET Files\\</code>資料夾</li>\n<li>重建前台專案</li>\n</ol>\n<h2 id=\"3-Chocolatey\"><a href=\"#3-Chocolatey\" class=\"headerlink\" title=\"3.Chocolatey\"></a>3.Chocolatey</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">choco install googlechrome -y</span><br><span class=\"line\">choco install dropbox -y</span><br><span class=\"line\">choco install evernote -y</span><br><span class=\"line\"></span><br><span class=\"line\">choco install git -y</span><br><span class=\"line\">choco install nodejs -y</span><br><span class=\"line\">choco install putty -y</span><br><span class=\"line\">choco install visualstudiocode -y</span><br><span class=\"line\"></span><br><span class=\"line\">choco install winmerge -y</span><br><span class=\"line\">choco install slack -y</span><br><span class=\"line\">choco install linqpad -y</span><br><span class=\"line\">choco install 7zip -y</span><br><span class=\"line\"> </span><br><span class=\"line\">choco install gitkraken -y</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">choco install sourcetree -y</span></span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h2 id=\"1-Typescript-踩雷\"><a href=\"#1-Typescript-踩雷\" class=\"headerlink\" title=\"1.Typescript 踩雷\"></a>1.Typescript 踩雷</h2><h4 id=\"問題\"><a href=\"#問題\" class=\"headerlink\" title=\"問題:\"></a>問題:</h4><p>visual studio 預設會安裝 typescript 2.6<br>專案使用 typescript 2.3 , 因為暫時無法升級到2.6以上的版本<br>會導致專案無法編譯成功</p>\n<h4 id=\"解決步驟\"><a href=\"#解決步驟\" class=\"headerlink\" title=\"解決步驟\"></a>解決步驟</h4><ol>\n<li>在專案目錄執行 <code>npm i</code> 重新安裝相關module</li>\n<li>complie 後發現 <code>node_modules/@types</code> 中有檔案無法成功編譯</li>\n<li>移除 <code>node_modules/@types</code> 整個資料夾</li>\n<li>重新 complie 後仍會無法成功</li>\n<li>移除 <code>C:\\Program Files (x86)\\Microsoft SDKs\\TypeScript\\2.6</code> (非必要,好像要看vs預設載入的版本為何?)</li>\n</ol>\n<h2 id=\"2-多語系dll衝突\"><a href=\"#2-多語系dll衝突\" class=\"headerlink\" title=\"2.多語系dll衝突\"></a>2.多語系dll衝突</h2><ol>\n<li>清空<code>bin</code>資料夾</li>\n<li>清空 <code>c:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\Temporary ASP.NET Files\\</code>資料夾</li>\n<li>重建前台專案</li>\n</ol>\n<h2 id=\"3-Chocolatey\"><a href=\"#3-Chocolatey\" class=\"headerlink\" title=\"3.Chocolatey\"></a>3.Chocolatey</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">choco install googlechrome -y</span><br><span class=\"line\">choco install dropbox -y</span><br><span class=\"line\">choco install evernote -y</span><br><span class=\"line\"></span><br><span class=\"line\">choco install git -y</span><br><span class=\"line\">choco install nodejs -y</span><br><span class=\"line\">choco install putty -y</span><br><span class=\"line\">choco install visualstudiocode -y</span><br><span class=\"line\"></span><br><span class=\"line\">choco install winmerge -y</span><br><span class=\"line\">choco install slack -y</span><br><span class=\"line\">choco install linqpad -y</span><br><span class=\"line\">choco install 7zip -y</span><br><span class=\"line\"> </span><br><span class=\"line\">choco install gitkraken -y</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">choco install sourcetree -y</span></span><br></pre></td></tr></table></figure>"},{"title":"[活動筆記]變異測試 - 一種改進測試和代碼的 「新」 方法","date":"2018-03-19T17:44:00.000Z","_content":"\n## 應該知道的事\n- 範例使用Java\n- 這場活動使用人肉找尋變異\n- 實務上應使用工具\n- 但是不能完全相信工具\n- [活動聯結](https://www.facebook.com/events/966762773499308/)\n- 講師是 Odd-e 的姚若舟\n- [簡報preview版](http://boolan.com/lecture/1000001089)\n\n## 什麼是變異 ?\n\n### 前言\n想像一下產品(`Prodction`)就是你的身體,  \n我們可以透過健康檢查(`Unit Test`);  \n檢查你的身體有沒有異狀 ?  \n\n但是檢查真的可靠嗎 ?  \n比如說一般的流感的快篩只有50~60%的準確率,  \n我們的測試也無法達到100%準確率(這裡不是指覆蓋率喔).  \n如何抓到測試抓不到的**漏網之魚**就是變異測試的目的.  \n\n我們透過讓 Prodction 產生變異(Mutation)  \n來確認我們的 Unit Test 是否可靠.\n\n>題外話,當大流行的時候會跳過快篩節省醫療資源,  \n因為可能有一半(50%)的患者都是流感,  \n而快篩準確率也只有50%,加上時間及醫材成本,  \n不如直接開克流感能有效抑止疫情\n\n\n\n### 變異測試(Mutation Testing)\n變異後導致測試失敗？\n**yes , good**\n應該要失敗,表示你的測試有覆蓋到這個變異\n\n**no , test not covered**\n這表示你的測試並未\n\n### 測試不一定能補捉變異\n比如說 `邊際值` 或是 `隱含的互動`;  \n測試覆蓋率100%也不一定能補捉變異  \n要麼少了test case,  \n要麼多了無意義的代碼  \n看看以下例子  \nex:\n```csharp\nfoo(x,y)\n{\n    //// logic here\n    sideeffct();\n    return z;\n}\n```\n\n反思一下, 測試過了代碼就沒問題 ?  \n不能捉到變異的測試,  \n有發揮它的功能嗎 ?  \n一般來說如果透過 TDD 進行軟體開發,  \n我們的測試應該是會恰巧符合一項 Test Case  \n而如果是先寫代碼再寫測試,  \n將很難通過變異測試(容易產生多餘的代碼)\n\n### 找到變異的幾個方向\n- 邊界條件(`<` => `<=`)\n- 反向條件(`<` => `>`)\n- 移除條件(永真/永偽)\n- 數學\n- 遞增/遞減\n- 常量\n- 返回值\n- 移除代碼\n\n### 先寫代碼再寫測試有問題是很正常的\n\n## Kata-PokerHands 範例\n\n### [原碼(使用java)](https://github.com/JosephYao/Kata-PokerHands)\n\n### 變異實例\n有問題 ,反向測試案例不足\n\n```java\nprivate\tList<Integer> getPairCardRanks(List<Integer> cardRanks) {\n         List<Integer> result = new ArrayList<>();\n         for (int index = 0; index < CARD_COUNT - 1; index++)\n         \tif (isTwoNeighborCardRanksEquals(index, cardRanks))\n         \t\tresult.add(cardRanks.get(index));\n         return result;\n}\n```\n\n有問題 , -1 但是預期中的行為\n```java\nprotected   Integer   getThreeOfAKindCardRank(List<Integer\\> cardRanks) {\n     for (int index = 0; index < CARD_COUNT - 2; index++)\n     \tif (isThreeNeighborCardRanksEquals(index, cardRanks))\n     \t\treturn   cardRanks.get(index);\n     throw   new   IllegalStateException();\n}\n```\n## 其它\n1. 沒有TDD 沒有單元測試,別跑變異測試\n2. 至少要有行級別的覆蓋率(line coverage)\n3. 分支覆蓋(Branch Coverage)好一點 仍不夠\n4. 在需求不變的情況下，再作變異測試\n5. 以變異測試的角度來說,覆蓋率100%是木有用的(testing coverage is useless)\n6. 發現變異怎麼辦？\n\t- 報告(記錄)\n\t- 重現 \n\t- 評估\n\t- 修改 或 補測試\n7. 依靠工具不要相信工具,上一步的評估\nEx: mock 物件會取代互動實際的行為,導致變異測試失敗\n\n\n\n### Tools\n- http://pitest.org\n- https://en.wikipedia.org/wiki/Mutation_testing\n- 使用 Sonarqube with mulations test(應該不用錢)\n- tudou.com/home/yaoruozhou\n\n## 參與者心得\n1. [變異測試 (Mutation Test) — 一種提高測試和代碼質量的 ”新” 方法速記](https://medium.com/@loverjersey/變異測試-mutation-test-一種提高測試和代碼質量的-新-方法速記-35bde79a5c7a)\n\n2. [Test - 變異(Mutation)測試之你的測試到底是寫爽的，還是有效的?](https://dotblogs.com.tw/im_sqz777/2018/03/15/004634)\n\n## 心得\n1. 佩服當天就能寫出文章的人\n2. 變異測試是好上加好的測試\n3. Odd-e 的講師真的很粉棒, 雖然不致到毀三觀 不過眼界大開\n\n\n## 參考\n1. [Mutation Testing(变异测试)](http://www.cnblogs.com/TongWee/p/4505289.html)\n\n(fin)","source":"_posts/2018/mutation_testing.md","raw":"---\ntitle: \"[活動筆記]變異測試 - 一種改進測試和代碼的 「新」 方法\"\ndate: 2018/03/20 01:44:00\ntag:\n  - Testing\n  - TDD\n  - Unit Testing\n  - Mutation Teseting\n---\n\n## 應該知道的事\n- 範例使用Java\n- 這場活動使用人肉找尋變異\n- 實務上應使用工具\n- 但是不能完全相信工具\n- [活動聯結](https://www.facebook.com/events/966762773499308/)\n- 講師是 Odd-e 的姚若舟\n- [簡報preview版](http://boolan.com/lecture/1000001089)\n\n## 什麼是變異 ?\n\n### 前言\n想像一下產品(`Prodction`)就是你的身體,  \n我們可以透過健康檢查(`Unit Test`);  \n檢查你的身體有沒有異狀 ?  \n\n但是檢查真的可靠嗎 ?  \n比如說一般的流感的快篩只有50~60%的準確率,  \n我們的測試也無法達到100%準確率(這裡不是指覆蓋率喔).  \n如何抓到測試抓不到的**漏網之魚**就是變異測試的目的.  \n\n我們透過讓 Prodction 產生變異(Mutation)  \n來確認我們的 Unit Test 是否可靠.\n\n>題外話,當大流行的時候會跳過快篩節省醫療資源,  \n因為可能有一半(50%)的患者都是流感,  \n而快篩準確率也只有50%,加上時間及醫材成本,  \n不如直接開克流感能有效抑止疫情\n\n\n\n### 變異測試(Mutation Testing)\n變異後導致測試失敗？\n**yes , good**\n應該要失敗,表示你的測試有覆蓋到這個變異\n\n**no , test not covered**\n這表示你的測試並未\n\n### 測試不一定能補捉變異\n比如說 `邊際值` 或是 `隱含的互動`;  \n測試覆蓋率100%也不一定能補捉變異  \n要麼少了test case,  \n要麼多了無意義的代碼  \n看看以下例子  \nex:\n```csharp\nfoo(x,y)\n{\n    //// logic here\n    sideeffct();\n    return z;\n}\n```\n\n反思一下, 測試過了代碼就沒問題 ?  \n不能捉到變異的測試,  \n有發揮它的功能嗎 ?  \n一般來說如果透過 TDD 進行軟體開發,  \n我們的測試應該是會恰巧符合一項 Test Case  \n而如果是先寫代碼再寫測試,  \n將很難通過變異測試(容易產生多餘的代碼)\n\n### 找到變異的幾個方向\n- 邊界條件(`<` => `<=`)\n- 反向條件(`<` => `>`)\n- 移除條件(永真/永偽)\n- 數學\n- 遞增/遞減\n- 常量\n- 返回值\n- 移除代碼\n\n### 先寫代碼再寫測試有問題是很正常的\n\n## Kata-PokerHands 範例\n\n### [原碼(使用java)](https://github.com/JosephYao/Kata-PokerHands)\n\n### 變異實例\n有問題 ,反向測試案例不足\n\n```java\nprivate\tList<Integer> getPairCardRanks(List<Integer> cardRanks) {\n         List<Integer> result = new ArrayList<>();\n         for (int index = 0; index < CARD_COUNT - 1; index++)\n         \tif (isTwoNeighborCardRanksEquals(index, cardRanks))\n         \t\tresult.add(cardRanks.get(index));\n         return result;\n}\n```\n\n有問題 , -1 但是預期中的行為\n```java\nprotected   Integer   getThreeOfAKindCardRank(List<Integer\\> cardRanks) {\n     for (int index = 0; index < CARD_COUNT - 2; index++)\n     \tif (isThreeNeighborCardRanksEquals(index, cardRanks))\n     \t\treturn   cardRanks.get(index);\n     throw   new   IllegalStateException();\n}\n```\n## 其它\n1. 沒有TDD 沒有單元測試,別跑變異測試\n2. 至少要有行級別的覆蓋率(line coverage)\n3. 分支覆蓋(Branch Coverage)好一點 仍不夠\n4. 在需求不變的情況下，再作變異測試\n5. 以變異測試的角度來說,覆蓋率100%是木有用的(testing coverage is useless)\n6. 發現變異怎麼辦？\n\t- 報告(記錄)\n\t- 重現 \n\t- 評估\n\t- 修改 或 補測試\n7. 依靠工具不要相信工具,上一步的評估\nEx: mock 物件會取代互動實際的行為,導致變異測試失敗\n\n\n\n### Tools\n- http://pitest.org\n- https://en.wikipedia.org/wiki/Mutation_testing\n- 使用 Sonarqube with mulations test(應該不用錢)\n- tudou.com/home/yaoruozhou\n\n## 參與者心得\n1. [變異測試 (Mutation Test) — 一種提高測試和代碼質量的 ”新” 方法速記](https://medium.com/@loverjersey/變異測試-mutation-test-一種提高測試和代碼質量的-新-方法速記-35bde79a5c7a)\n\n2. [Test - 變異(Mutation)測試之你的測試到底是寫爽的，還是有效的?](https://dotblogs.com.tw/im_sqz777/2018/03/15/004634)\n\n## 心得\n1. 佩服當天就能寫出文章的人\n2. 變異測試是好上加好的測試\n3. Odd-e 的講師真的很粉棒, 雖然不致到毀三觀 不過眼界大開\n\n\n## 參考\n1. [Mutation Testing(变异测试)](http://www.cnblogs.com/TongWee/p/4505289.html)\n\n(fin)","slug":"2018/mutation_testing","published":1,"updated":"2019-06-10T14:43:28.932Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wko001tb0vxs1312xn8","content":"<h2 id=\"應該知道的事\"><a href=\"#應該知道的事\" class=\"headerlink\" title=\"應該知道的事\"></a>應該知道的事</h2><ul>\n<li>範例使用Java</li>\n<li>這場活動使用人肉找尋變異</li>\n<li>實務上應使用工具</li>\n<li>但是不能完全相信工具</li>\n<li><a href=\"https://www.facebook.com/events/966762773499308/\" target=\"_blank\" rel=\"noopener\">活動聯結</a></li>\n<li>講師是 Odd-e 的姚若舟</li>\n<li><a href=\"http://boolan.com/lecture/1000001089\" target=\"_blank\" rel=\"noopener\">簡報preview版</a></li>\n</ul>\n<h2 id=\"什麼是變異\"><a href=\"#什麼是變異\" class=\"headerlink\" title=\"什麼是變異 ?\"></a>什麼是變異 ?</h2><h3 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h3><p>想像一下產品(<code>Prodction</code>)就是你的身體,<br>我們可以透過健康檢查(<code>Unit Test</code>);<br>檢查你的身體有沒有異狀 ?  </p>\n<p>但是檢查真的可靠嗎 ?<br>比如說一般的流感的快篩只有50~60%的準確率,<br>我們的測試也無法達到100%準確率(這裡不是指覆蓋率喔).<br>如何抓到測試抓不到的<strong>漏網之魚</strong>就是變異測試的目的.  </p>\n<p>我們透過讓 Prodction 產生變異(Mutation)<br>來確認我們的 Unit Test 是否可靠.</p>\n<blockquote>\n<p>題外話,當大流行的時候會跳過快篩節省醫療資源,<br>因為可能有一半(50%)的患者都是流感,<br>而快篩準確率也只有50%,加上時間及醫材成本,<br>不如直接開克流感能有效抑止疫情</p>\n</blockquote>\n<h3 id=\"變異測試-Mutation-Testing\"><a href=\"#變異測試-Mutation-Testing\" class=\"headerlink\" title=\"變異測試(Mutation Testing)\"></a>變異測試(Mutation Testing)</h3><p>變異後導致測試失敗？<br><strong>yes , good</strong><br>應該要失敗,表示你的測試有覆蓋到這個變異</p>\n<p><strong>no , test not covered</strong><br>這表示你的測試並未</p>\n<h3 id=\"測試不一定能補捉變異\"><a href=\"#測試不一定能補捉變異\" class=\"headerlink\" title=\"測試不一定能補捉變異\"></a>測試不一定能補捉變異</h3><p>比如說 <code>邊際值</code> 或是 <code>隱含的互動</code>;  \n測試覆蓋率100%也不一定能補捉變異<br>要麼少了test case,<br>要麼多了無意義的代碼<br>看看以下例子<br>ex:</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">foo(x,y)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>/ logic here</span></span><br><span class=\"line\">    sideeffct();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> z;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>反思一下, 測試過了代碼就沒問題 ?<br>不能捉到變異的測試,<br>有發揮它的功能嗎 ?<br>一般來說如果透過 TDD 進行軟體開發,<br>我們的測試應該是會恰巧符合一項 Test Case<br>而如果是先寫代碼再寫測試,<br>將很難通過變異測試(容易產生多餘的代碼)</p>\n<h3 id=\"找到變異的幾個方向\"><a href=\"#找到變異的幾個方向\" class=\"headerlink\" title=\"找到變異的幾個方向\"></a>找到變異的幾個方向</h3><ul>\n<li>邊界條件(<code>&lt;</code> =&gt; <code>&lt;=</code>)</li>\n<li>反向條件(<code>&lt;</code> =&gt; <code>&gt;</code>)</li>\n<li>移除條件(永真/永偽)</li>\n<li>數學</li>\n<li>遞增/遞減</li>\n<li>常量</li>\n<li>返回值</li>\n<li>移除代碼</li>\n</ul>\n<h3 id=\"先寫代碼再寫測試有問題是很正常的\"><a href=\"#先寫代碼再寫測試有問題是很正常的\" class=\"headerlink\" title=\"先寫代碼再寫測試有問題是很正常的\"></a>先寫代碼再寫測試有問題是很正常的</h3><h2 id=\"Kata-PokerHands-範例\"><a href=\"#Kata-PokerHands-範例\" class=\"headerlink\" title=\"Kata-PokerHands 範例\"></a>Kata-PokerHands 範例</h2><h3 id=\"原碼-使用java\"><a href=\"#原碼-使用java\" class=\"headerlink\" title=\"原碼(使用java)\"></a><a href=\"https://github.com/JosephYao/Kata-PokerHands\" target=\"_blank\" rel=\"noopener\">原碼(使用java)</a></h3><h3 id=\"變異實例\"><a href=\"#變異實例\" class=\"headerlink\" title=\"變異實例\"></a>變異實例</h3><p>有問題 ,反向測試案例不足</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span>\tList&lt;Integer&gt; <span class=\"title\">getPairCardRanks</span><span class=\"params\">(List&lt;Integer&gt; cardRanks)</span> </span>&#123;</span><br><span class=\"line\">         List&lt;Integer&gt; result = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">         <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> index = <span class=\"number\">0</span>; index &lt; CARD_COUNT - <span class=\"number\">1</span>; index++)</span><br><span class=\"line\">         \t<span class=\"keyword\">if</span> (isTwoNeighborCardRanksEquals(index, cardRanks))</span><br><span class=\"line\">         \t\tresult.add(cardRanks.get(index));</span><br><span class=\"line\">         <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>有問題 , -1 但是預期中的行為</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span>   Integer   <span class=\"title\">getThreeOfAKindCardRank</span><span class=\"params\">(List&lt;Integer\\&gt; cardRanks)</span> </span>&#123;</span><br><span class=\"line\">     <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> index = <span class=\"number\">0</span>; index &lt; CARD_COUNT - <span class=\"number\">2</span>; index++)</span><br><span class=\"line\">     \t<span class=\"keyword\">if</span> (isThreeNeighborCardRanksEquals(index, cardRanks))</span><br><span class=\"line\">     \t\t<span class=\"keyword\">return</span>   cardRanks.get(index);</span><br><span class=\"line\">     <span class=\"keyword\">throw</span>   <span class=\"keyword\">new</span>   IllegalStateException();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h2><ol>\n<li>沒有TDD 沒有單元測試,別跑變異測試</li>\n<li>至少要有行級別的覆蓋率(line coverage)</li>\n<li>分支覆蓋(Branch Coverage)好一點 仍不夠</li>\n<li>在需求不變的情況下，再作變異測試</li>\n<li>以變異測試的角度來說,覆蓋率100%是木有用的(testing coverage is useless)</li>\n<li>發現變異怎麼辦？<ul>\n<li>報告(記錄)</li>\n<li>重現 </li>\n<li>評估</li>\n<li>修改 或 補測試</li>\n</ul>\n</li>\n<li>依靠工具不要相信工具,上一步的評估<br>Ex: mock 物件會取代互動實際的行為,導致變異測試失敗</li>\n</ol>\n<h3 id=\"Tools\"><a href=\"#Tools\" class=\"headerlink\" title=\"Tools\"></a>Tools</h3><ul>\n<li><a href=\"http://pitest.org\" target=\"_blank\" rel=\"noopener\">http://pitest.org</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Mutation_testing\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/Mutation_testing</a></li>\n<li>使用 Sonarqube with mulations test(應該不用錢)</li>\n<li>tudou.com/home/yaoruozhou</li>\n</ul>\n<h2 id=\"參與者心得\"><a href=\"#參與者心得\" class=\"headerlink\" title=\"參與者心得\"></a>參與者心得</h2><ol>\n<li><p><a href=\"https://medium.com/@loverjersey/變異測試-mutation-test-一種提高測試和代碼質量的-新-方法速記-35bde79a5c7a\" target=\"_blank\" rel=\"noopener\">變異測試 (Mutation Test) — 一種提高測試和代碼質量的 ”新” 方法速記</a></p>\n</li>\n<li><p><a href=\"https://dotblogs.com.tw/im_sqz777/2018/03/15/004634\" target=\"_blank\" rel=\"noopener\">Test - 變異(Mutation)測試之你的測試到底是寫爽的，還是有效的?</a></p>\n</li>\n</ol>\n<h2 id=\"心得\"><a href=\"#心得\" class=\"headerlink\" title=\"心得\"></a>心得</h2><ol>\n<li>佩服當天就能寫出文章的人</li>\n<li>變異測試是好上加好的測試</li>\n<li>Odd-e 的講師真的很粉棒, 雖然不致到毀三觀 不過眼界大開</li>\n</ol>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ol>\n<li><a href=\"http://www.cnblogs.com/TongWee/p/4505289.html\" target=\"_blank\" rel=\"noopener\">Mutation Testing(变异测试)</a></li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"應該知道的事\"><a href=\"#應該知道的事\" class=\"headerlink\" title=\"應該知道的事\"></a>應該知道的事</h2><ul>\n<li>範例使用Java</li>\n<li>這場活動使用人肉找尋變異</li>\n<li>實務上應使用工具</li>\n<li>但是不能完全相信工具</li>\n<li><a href=\"https://www.facebook.com/events/966762773499308/\" target=\"_blank\" rel=\"noopener\">活動聯結</a></li>\n<li>講師是 Odd-e 的姚若舟</li>\n<li><a href=\"http://boolan.com/lecture/1000001089\" target=\"_blank\" rel=\"noopener\">簡報preview版</a></li>\n</ul>\n<h2 id=\"什麼是變異\"><a href=\"#什麼是變異\" class=\"headerlink\" title=\"什麼是變異 ?\"></a>什麼是變異 ?</h2><h3 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h3><p>想像一下產品(<code>Prodction</code>)就是你的身體,<br>我們可以透過健康檢查(<code>Unit Test</code>);<br>檢查你的身體有沒有異狀 ?  </p>\n<p>但是檢查真的可靠嗎 ?<br>比如說一般的流感的快篩只有50~60%的準確率,<br>我們的測試也無法達到100%準確率(這裡不是指覆蓋率喔).<br>如何抓到測試抓不到的<strong>漏網之魚</strong>就是變異測試的目的.  </p>\n<p>我們透過讓 Prodction 產生變異(Mutation)<br>來確認我們的 Unit Test 是否可靠.</p>\n<blockquote>\n<p>題外話,當大流行的時候會跳過快篩節省醫療資源,<br>因為可能有一半(50%)的患者都是流感,<br>而快篩準確率也只有50%,加上時間及醫材成本,<br>不如直接開克流感能有效抑止疫情</p>\n</blockquote>\n<h3 id=\"變異測試-Mutation-Testing\"><a href=\"#變異測試-Mutation-Testing\" class=\"headerlink\" title=\"變異測試(Mutation Testing)\"></a>變異測試(Mutation Testing)</h3><p>變異後導致測試失敗？<br><strong>yes , good</strong><br>應該要失敗,表示你的測試有覆蓋到這個變異</p>\n<p><strong>no , test not covered</strong><br>這表示你的測試並未</p>\n<h3 id=\"測試不一定能補捉變異\"><a href=\"#測試不一定能補捉變異\" class=\"headerlink\" title=\"測試不一定能補捉變異\"></a>測試不一定能補捉變異</h3><p>比如說 <code>邊際值</code> 或是 <code>隱含的互動</code>;  \n測試覆蓋率100%也不一定能補捉變異<br>要麼少了test case,<br>要麼多了無意義的代碼<br>看看以下例子<br>ex:</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">foo(x,y)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>/ logic here</span></span><br><span class=\"line\">    sideeffct();</span><br><span class=\"line\">    <span class=\"keyword\">return</span> z;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>反思一下, 測試過了代碼就沒問題 ?<br>不能捉到變異的測試,<br>有發揮它的功能嗎 ?<br>一般來說如果透過 TDD 進行軟體開發,<br>我們的測試應該是會恰巧符合一項 Test Case<br>而如果是先寫代碼再寫測試,<br>將很難通過變異測試(容易產生多餘的代碼)</p>\n<h3 id=\"找到變異的幾個方向\"><a href=\"#找到變異的幾個方向\" class=\"headerlink\" title=\"找到變異的幾個方向\"></a>找到變異的幾個方向</h3><ul>\n<li>邊界條件(<code>&lt;</code> =&gt; <code>&lt;=</code>)</li>\n<li>反向條件(<code>&lt;</code> =&gt; <code>&gt;</code>)</li>\n<li>移除條件(永真/永偽)</li>\n<li>數學</li>\n<li>遞增/遞減</li>\n<li>常量</li>\n<li>返回值</li>\n<li>移除代碼</li>\n</ul>\n<h3 id=\"先寫代碼再寫測試有問題是很正常的\"><a href=\"#先寫代碼再寫測試有問題是很正常的\" class=\"headerlink\" title=\"先寫代碼再寫測試有問題是很正常的\"></a>先寫代碼再寫測試有問題是很正常的</h3><h2 id=\"Kata-PokerHands-範例\"><a href=\"#Kata-PokerHands-範例\" class=\"headerlink\" title=\"Kata-PokerHands 範例\"></a>Kata-PokerHands 範例</h2><h3 id=\"原碼-使用java\"><a href=\"#原碼-使用java\" class=\"headerlink\" title=\"原碼(使用java)\"></a><a href=\"https://github.com/JosephYao/Kata-PokerHands\" target=\"_blank\" rel=\"noopener\">原碼(使用java)</a></h3><h3 id=\"變異實例\"><a href=\"#變異實例\" class=\"headerlink\" title=\"變異實例\"></a>變異實例</h3><p>有問題 ,反向測試案例不足</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span>\tList&lt;Integer&gt; <span class=\"title\">getPairCardRanks</span><span class=\"params\">(List&lt;Integer&gt; cardRanks)</span> </span>&#123;</span><br><span class=\"line\">         List&lt;Integer&gt; result = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">         <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> index = <span class=\"number\">0</span>; index &lt; CARD_COUNT - <span class=\"number\">1</span>; index++)</span><br><span class=\"line\">         \t<span class=\"keyword\">if</span> (isTwoNeighborCardRanksEquals(index, cardRanks))</span><br><span class=\"line\">         \t\tresult.add(cardRanks.get(index));</span><br><span class=\"line\">         <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>有問題 , -1 但是預期中的行為</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span>   Integer   <span class=\"title\">getThreeOfAKindCardRank</span><span class=\"params\">(List&lt;Integer\\&gt; cardRanks)</span> </span>&#123;</span><br><span class=\"line\">     <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> index = <span class=\"number\">0</span>; index &lt; CARD_COUNT - <span class=\"number\">2</span>; index++)</span><br><span class=\"line\">     \t<span class=\"keyword\">if</span> (isThreeNeighborCardRanksEquals(index, cardRanks))</span><br><span class=\"line\">     \t\t<span class=\"keyword\">return</span>   cardRanks.get(index);</span><br><span class=\"line\">     <span class=\"keyword\">throw</span>   <span class=\"keyword\">new</span>   IllegalStateException();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h2><ol>\n<li>沒有TDD 沒有單元測試,別跑變異測試</li>\n<li>至少要有行級別的覆蓋率(line coverage)</li>\n<li>分支覆蓋(Branch Coverage)好一點 仍不夠</li>\n<li>在需求不變的情況下，再作變異測試</li>\n<li>以變異測試的角度來說,覆蓋率100%是木有用的(testing coverage is useless)</li>\n<li>發現變異怎麼辦？<ul>\n<li>報告(記錄)</li>\n<li>重現 </li>\n<li>評估</li>\n<li>修改 或 補測試</li>\n</ul>\n</li>\n<li>依靠工具不要相信工具,上一步的評估<br>Ex: mock 物件會取代互動實際的行為,導致變異測試失敗</li>\n</ol>\n<h3 id=\"Tools\"><a href=\"#Tools\" class=\"headerlink\" title=\"Tools\"></a>Tools</h3><ul>\n<li><a href=\"http://pitest.org\" target=\"_blank\" rel=\"noopener\">http://pitest.org</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Mutation_testing\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/Mutation_testing</a></li>\n<li>使用 Sonarqube with mulations test(應該不用錢)</li>\n<li>tudou.com/home/yaoruozhou</li>\n</ul>\n<h2 id=\"參與者心得\"><a href=\"#參與者心得\" class=\"headerlink\" title=\"參與者心得\"></a>參與者心得</h2><ol>\n<li><p><a href=\"https://medium.com/@loverjersey/變異測試-mutation-test-一種提高測試和代碼質量的-新-方法速記-35bde79a5c7a\" target=\"_blank\" rel=\"noopener\">變異測試 (Mutation Test) — 一種提高測試和代碼質量的 ”新” 方法速記</a></p>\n</li>\n<li><p><a href=\"https://dotblogs.com.tw/im_sqz777/2018/03/15/004634\" target=\"_blank\" rel=\"noopener\">Test - 變異(Mutation)測試之你的測試到底是寫爽的，還是有效的?</a></p>\n</li>\n</ol>\n<h2 id=\"心得\"><a href=\"#心得\" class=\"headerlink\" title=\"心得\"></a>心得</h2><ol>\n<li>佩服當天就能寫出文章的人</li>\n<li>變異測試是好上加好的測試</li>\n<li>Odd-e 的講師真的很粉棒, 雖然不致到毀三觀 不過眼界大開</li>\n</ol>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ol>\n<li><a href=\"http://www.cnblogs.com/TongWee/p/4505289.html\" target=\"_blank\" rel=\"noopener\">Mutation Testing(变异测试)</a></li>\n</ol>\n<p>(fin)</p>\n"},{"title":"[學習筆記]Linux 語法學習筆記 二","date":"2018-04-05T07:53:23.000Z","_content":"\n\n[上一篇](https://blog.marsen.me/2018/03/26/2018/linux_command_1/)我們學會一些基本 linux command,  \n接下來我們將介紹更多的命令並組合它們到 shell script.  \n讓 script 幫助我們完成一些事, 就像魔法一般, 開始囉.  \n\n## 補充指令\n\n### `vim`\n#### 開啟 vim 編輯器\n\n### `echo`\n#### 印出文字\n> $ echo \"text\"\ntext\n\n#### 印出變數 `echo $*`\n\n#### 印出PID (Process ID) `echo $$`\n\n\n### `set`\n#### 設定變數\n>$ set good morning marsen\n\n補充:使用 `echo` 印出變數,**從1開始**  \n`$*` 指所有變數\n\n>$ echo $1\n>good\n>$ echo $2\n>morning\n>$ echo $3\n>marsen\n>$ echo $*\n>good morning marsen \n\n#### 進階使用 backticks 執行 `cat` Command\n>$ cat > testfile\nhello world\n^C                               \nsh-4.4$ set `cat testfile`\nsh-4.4$ echo $*\nhello world\n\n\n## 範例\n\n### Hello World\n1. 建立檔案\n> $ cat > helloworld.sh\n2. 編輯檔案\n> $ vim helloworld.sh\n```shell\n#say hello\necho \"hello world\"\n```\n3. 執行檔案\n> $ sh helloworld.sh\n> hello world\n\n### 變數 variable\n1. 大小寫有分\n2. 使用 `read` 讀取 input 到變數中\n3. 使用 `$`+變數名呼叫變數\n\nsample:\n```shell\n# this is a shell sample\necho \"who are you?\"\nread name\necho \"Hi, $name nice to see you.\"\n```\nexecuted:\n\n>$ sh whoareyou.sh\nwho are you?\nMark\nHi, Mark nice to see you.\n\n### 互動式重新命名檔案\n\nsample:\n```shell\n# this is a shell sample\necho \"keyin a filename\"\nread name\nmv $1 $name\necho $name\"\n```\n\n>$ sh rename.sh file1\n>keyin a filename\n>newfile\n>newfile\n\n### 其它\n1. 額外的 vim 問題排解 `E348: No string under cursor` 表示未輸入 i 進入 `Insert` mode\n\t- ESC + : , 輸入 w filename (以filename保存)\n\t- ESC + : , 輸入 wq (存儲並離開vim)\n\t- ESC + : , 輸入 q! (不存儲並離開vim)\n\n2. 「**`**」 Backquote 或 backticks \n\n## 參考\n1. [Unix Terminal Online](https://www.tutorialspoint.com/unix_terminal_online.php)\n2. [離開Vim的~~100種~~方法](https://itsfoss.com/how-to-exit-vim/)\n3. [鳥哥的 Linux 私房菜---認識與學習BASH](http://linux.vbird.org/linux_basic/0320bash.php)\n\n(fin)","source":"_posts/2018/linux_command_2.md","raw":"---\ntitle: \"[學習筆記]Linux 語法學習筆記 二\"\ndate: 2018/04/05 15:53:23\ntag:\n  - Unix\n  - Linux\n  - Shell\n---\n\n\n[上一篇](https://blog.marsen.me/2018/03/26/2018/linux_command_1/)我們學會一些基本 linux command,  \n接下來我們將介紹更多的命令並組合它們到 shell script.  \n讓 script 幫助我們完成一些事, 就像魔法一般, 開始囉.  \n\n## 補充指令\n\n### `vim`\n#### 開啟 vim 編輯器\n\n### `echo`\n#### 印出文字\n> $ echo \"text\"\ntext\n\n#### 印出變數 `echo $*`\n\n#### 印出PID (Process ID) `echo $$`\n\n\n### `set`\n#### 設定變數\n>$ set good morning marsen\n\n補充:使用 `echo` 印出變數,**從1開始**  \n`$*` 指所有變數\n\n>$ echo $1\n>good\n>$ echo $2\n>morning\n>$ echo $3\n>marsen\n>$ echo $*\n>good morning marsen \n\n#### 進階使用 backticks 執行 `cat` Command\n>$ cat > testfile\nhello world\n^C                               \nsh-4.4$ set `cat testfile`\nsh-4.4$ echo $*\nhello world\n\n\n## 範例\n\n### Hello World\n1. 建立檔案\n> $ cat > helloworld.sh\n2. 編輯檔案\n> $ vim helloworld.sh\n```shell\n#say hello\necho \"hello world\"\n```\n3. 執行檔案\n> $ sh helloworld.sh\n> hello world\n\n### 變數 variable\n1. 大小寫有分\n2. 使用 `read` 讀取 input 到變數中\n3. 使用 `$`+變數名呼叫變數\n\nsample:\n```shell\n# this is a shell sample\necho \"who are you?\"\nread name\necho \"Hi, $name nice to see you.\"\n```\nexecuted:\n\n>$ sh whoareyou.sh\nwho are you?\nMark\nHi, Mark nice to see you.\n\n### 互動式重新命名檔案\n\nsample:\n```shell\n# this is a shell sample\necho \"keyin a filename\"\nread name\nmv $1 $name\necho $name\"\n```\n\n>$ sh rename.sh file1\n>keyin a filename\n>newfile\n>newfile\n\n### 其它\n1. 額外的 vim 問題排解 `E348: No string under cursor` 表示未輸入 i 進入 `Insert` mode\n\t- ESC + : , 輸入 w filename (以filename保存)\n\t- ESC + : , 輸入 wq (存儲並離開vim)\n\t- ESC + : , 輸入 q! (不存儲並離開vim)\n\n2. 「**`**」 Backquote 或 backticks \n\n## 參考\n1. [Unix Terminal Online](https://www.tutorialspoint.com/unix_terminal_online.php)\n2. [離開Vim的~~100種~~方法](https://itsfoss.com/how-to-exit-vim/)\n3. [鳥哥的 Linux 私房菜---認識與學習BASH](http://linux.vbird.org/linux_basic/0320bash.php)\n\n(fin)","slug":"2018/linux_command_2","published":1,"updated":"2018-06-02T11:50:39.329Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wko001ub0vxq5sp9d56","content":"<p><a href=\"https://blog.marsen.me/2018/03/26/2018/linux_command_1/\">上一篇</a>我們學會一些基本 linux command,<br>接下來我們將介紹更多的命令並組合它們到 shell script.<br>讓 script 幫助我們完成一些事, 就像魔法一般, 開始囉.  </p>\n<h2 id=\"補充指令\"><a href=\"#補充指令\" class=\"headerlink\" title=\"補充指令\"></a>補充指令</h2><h3 id=\"vim\"><a href=\"#vim\" class=\"headerlink\" title=\"vim\"></a><code>vim</code></h3><h4 id=\"開啟-vim-編輯器\"><a href=\"#開啟-vim-編輯器\" class=\"headerlink\" title=\"開啟 vim 編輯器\"></a>開啟 vim 編輯器</h4><h3 id=\"echo\"><a href=\"#echo\" class=\"headerlink\" title=\"echo\"></a><code>echo</code></h3><h4 id=\"印出文字\"><a href=\"#印出文字\" class=\"headerlink\" title=\"印出文字\"></a>印出文字</h4><blockquote>\n<p>$ echo “text”<br>text</p>\n</blockquote>\n<h4 id=\"印出變數-echo\"><a href=\"#印出變數-echo\" class=\"headerlink\" title=\"印出變數 echo $*\"></a>印出變數 <code>echo $*</code></h4><h4 id=\"印出PID-Process-ID-echo\"><a href=\"#印出PID-Process-ID-echo\" class=\"headerlink\" title=\"印出PID (Process ID) echo $$\"></a>印出PID (Process ID) <code>echo $$</code></h4><h3 id=\"set\"><a href=\"#set\" class=\"headerlink\" title=\"set\"></a><code>set</code></h3><h4 id=\"設定變數\"><a href=\"#設定變數\" class=\"headerlink\" title=\"設定變數\"></a>設定變數</h4><blockquote>\n<p>$ set good morning marsen</p>\n</blockquote>\n<p>補充:使用 <code>echo</code> 印出變數,<strong>從1開始</strong><br><code>$*</code> 指所有變數</p>\n<blockquote>\n<p>$ echo $1<br>good<br>$ echo $2<br>morning<br>$ echo $3<br>marsen<br>$ echo $*\ngood morning marsen </p>\n</blockquote>\n<h4 id=\"進階使用-backticks-執行-cat-Command\"><a href=\"#進階使用-backticks-執行-cat-Command\" class=\"headerlink\" title=\"進階使用 backticks 執行 cat Command\"></a>進階使用 backticks 執行 <code>cat</code> Command</h4><blockquote>\n<p>$ cat &gt; testfile<br>hello world<br>^C<br>sh-4.4$ set <code>cat testfile</code><br>sh-4.4$ echo $*\nhello world</p>\n</blockquote>\n<h2 id=\"範例\"><a href=\"#範例\" class=\"headerlink\" title=\"範例\"></a>範例</h2><h3 id=\"Hello-World\"><a href=\"#Hello-World\" class=\"headerlink\" title=\"Hello World\"></a>Hello World</h3><ol>\n<li><p>建立檔案</p>\n<blockquote>\n<p>$ cat &gt; helloworld.sh</p>\n</blockquote>\n</li>\n<li><p>編輯檔案</p>\n<blockquote>\n<p>$ vim helloworld.sh</p>\n</blockquote>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">say hello</span></span><br><span class=\"line\">echo \"hello world\"</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>執行檔案</p>\n<blockquote>\n<p>$ sh helloworld.sh<br>hello world</p>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"變數-variable\"><a href=\"#變數-variable\" class=\"headerlink\" title=\"變數 variable\"></a>變數 variable</h3><ol>\n<li>大小寫有分</li>\n<li>使用 <code>read</code> 讀取 input 到變數中</li>\n<li>使用 <code>$</code>+變數名呼叫變數</li>\n</ol>\n<p>sample:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> this is a shell sample</span></span><br><span class=\"line\">echo \"who are you?\"</span><br><span class=\"line\">read name</span><br><span class=\"line\">echo \"Hi, $name nice to see you.\"</span><br></pre></td></tr></table></figure>\n\n<p>executed:</p>\n<blockquote>\n<p>$ sh whoareyou.sh<br>who are you?<br>Mark<br>Hi, Mark nice to see you.</p>\n</blockquote>\n<h3 id=\"互動式重新命名檔案\"><a href=\"#互動式重新命名檔案\" class=\"headerlink\" title=\"互動式重新命名檔案\"></a>互動式重新命名檔案</h3><p>sample:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> this is a shell sample</span></span><br><span class=\"line\">echo \"keyin a filename\"</span><br><span class=\"line\">read name</span><br><span class=\"line\">mv $1 $name</span><br><span class=\"line\">echo $name\"</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>$ sh rename.sh file1<br>keyin a filename<br>newfile<br>newfile</p>\n</blockquote>\n<h3 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h3><ol>\n<li><p>額外的 vim 問題排解 <code>E348: No string under cursor</code> 表示未輸入 i 進入 <code>Insert</code> mode</p>\n<ul>\n<li>ESC + : , 輸入 w filename (以filename保存)</li>\n<li>ESC + : , 輸入 wq (存儲並離開vim)</li>\n<li>ESC + : , 輸入 q! (不存儲並離開vim)</li>\n</ul>\n</li>\n<li><p>「<strong>`</strong>」 Backquote 或 backticks </p>\n</li>\n</ol>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ol>\n<li><a href=\"https://www.tutorialspoint.com/unix_terminal_online.php\" target=\"_blank\" rel=\"noopener\">Unix Terminal Online</a></li>\n<li><a href=\"https://itsfoss.com/how-to-exit-vim/\" target=\"_blank\" rel=\"noopener\">離開Vim的<del>100種</del>方法</a></li>\n<li><a href=\"http://linux.vbird.org/linux_basic/0320bash.php\" target=\"_blank\" rel=\"noopener\">鳥哥的 Linux 私房菜—認識與學習BASH</a></li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<p><a href=\"https://blog.marsen.me/2018/03/26/2018/linux_command_1/\">上一篇</a>我們學會一些基本 linux command,<br>接下來我們將介紹更多的命令並組合它們到 shell script.<br>讓 script 幫助我們完成一些事, 就像魔法一般, 開始囉.  </p>\n<h2 id=\"補充指令\"><a href=\"#補充指令\" class=\"headerlink\" title=\"補充指令\"></a>補充指令</h2><h3 id=\"vim\"><a href=\"#vim\" class=\"headerlink\" title=\"vim\"></a><code>vim</code></h3><h4 id=\"開啟-vim-編輯器\"><a href=\"#開啟-vim-編輯器\" class=\"headerlink\" title=\"開啟 vim 編輯器\"></a>開啟 vim 編輯器</h4><h3 id=\"echo\"><a href=\"#echo\" class=\"headerlink\" title=\"echo\"></a><code>echo</code></h3><h4 id=\"印出文字\"><a href=\"#印出文字\" class=\"headerlink\" title=\"印出文字\"></a>印出文字</h4><blockquote>\n<p>$ echo “text”<br>text</p>\n</blockquote>\n<h4 id=\"印出變數-echo\"><a href=\"#印出變數-echo\" class=\"headerlink\" title=\"印出變數 echo $*\"></a>印出變數 <code>echo $*</code></h4><h4 id=\"印出PID-Process-ID-echo\"><a href=\"#印出PID-Process-ID-echo\" class=\"headerlink\" title=\"印出PID (Process ID) echo $$\"></a>印出PID (Process ID) <code>echo $$</code></h4><h3 id=\"set\"><a href=\"#set\" class=\"headerlink\" title=\"set\"></a><code>set</code></h3><h4 id=\"設定變數\"><a href=\"#設定變數\" class=\"headerlink\" title=\"設定變數\"></a>設定變數</h4><blockquote>\n<p>$ set good morning marsen</p>\n</blockquote>\n<p>補充:使用 <code>echo</code> 印出變數,<strong>從1開始</strong><br><code>$*</code> 指所有變數</p>\n<blockquote>\n<p>$ echo $1<br>good<br>$ echo $2<br>morning<br>$ echo $3<br>marsen<br>$ echo $*\ngood morning marsen </p>\n</blockquote>\n<h4 id=\"進階使用-backticks-執行-cat-Command\"><a href=\"#進階使用-backticks-執行-cat-Command\" class=\"headerlink\" title=\"進階使用 backticks 執行 cat Command\"></a>進階使用 backticks 執行 <code>cat</code> Command</h4><blockquote>\n<p>$ cat &gt; testfile<br>hello world<br>^C<br>sh-4.4$ set <code>cat testfile</code><br>sh-4.4$ echo $*\nhello world</p>\n</blockquote>\n<h2 id=\"範例\"><a href=\"#範例\" class=\"headerlink\" title=\"範例\"></a>範例</h2><h3 id=\"Hello-World\"><a href=\"#Hello-World\" class=\"headerlink\" title=\"Hello World\"></a>Hello World</h3><ol>\n<li><p>建立檔案</p>\n<blockquote>\n<p>$ cat &gt; helloworld.sh</p>\n</blockquote>\n</li>\n<li><p>編輯檔案</p>\n<blockquote>\n<p>$ vim helloworld.sh</p>\n</blockquote>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">say hello</span></span><br><span class=\"line\">echo \"hello world\"</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>執行檔案</p>\n<blockquote>\n<p>$ sh helloworld.sh<br>hello world</p>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"變數-variable\"><a href=\"#變數-variable\" class=\"headerlink\" title=\"變數 variable\"></a>變數 variable</h3><ol>\n<li>大小寫有分</li>\n<li>使用 <code>read</code> 讀取 input 到變數中</li>\n<li>使用 <code>$</code>+變數名呼叫變數</li>\n</ol>\n<p>sample:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> this is a shell sample</span></span><br><span class=\"line\">echo \"who are you?\"</span><br><span class=\"line\">read name</span><br><span class=\"line\">echo \"Hi, $name nice to see you.\"</span><br></pre></td></tr></table></figure>\n\n<p>executed:</p>\n<blockquote>\n<p>$ sh whoareyou.sh<br>who are you?<br>Mark<br>Hi, Mark nice to see you.</p>\n</blockquote>\n<h3 id=\"互動式重新命名檔案\"><a href=\"#互動式重新命名檔案\" class=\"headerlink\" title=\"互動式重新命名檔案\"></a>互動式重新命名檔案</h3><p>sample:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> this is a shell sample</span></span><br><span class=\"line\">echo \"keyin a filename\"</span><br><span class=\"line\">read name</span><br><span class=\"line\">mv $1 $name</span><br><span class=\"line\">echo $name\"</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>$ sh rename.sh file1<br>keyin a filename<br>newfile<br>newfile</p>\n</blockquote>\n<h3 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h3><ol>\n<li><p>額外的 vim 問題排解 <code>E348: No string under cursor</code> 表示未輸入 i 進入 <code>Insert</code> mode</p>\n<ul>\n<li>ESC + : , 輸入 w filename (以filename保存)</li>\n<li>ESC + : , 輸入 wq (存儲並離開vim)</li>\n<li>ESC + : , 輸入 q! (不存儲並離開vim)</li>\n</ul>\n</li>\n<li><p>「<strong>`</strong>」 Backquote 或 backticks </p>\n</li>\n</ol>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ol>\n<li><a href=\"https://www.tutorialspoint.com/unix_terminal_online.php\" target=\"_blank\" rel=\"noopener\">Unix Terminal Online</a></li>\n<li><a href=\"https://itsfoss.com/how-to-exit-vim/\" target=\"_blank\" rel=\"noopener\">離開Vim的<del>100種</del>方法</a></li>\n<li><a href=\"http://linux.vbird.org/linux_basic/0320bash.php\" target=\"_blank\" rel=\"noopener\">鳥哥的 Linux 私房菜—認識與學習BASH</a></li>\n</ol>\n<p>(fin)</p>\n"},{"title":"[活動筆記]有關海外工作的大小事","date":"2018-06-02T12:55:44.000Z","_content":"\n## 隨手記\n\n### 讓企業買你的專業與合作能力;而不是買你的時間\n\n### 有關薪水\n\n在**台灣通常最後才談薪水** , 在海外可以先提薪水  \n```\n在台灣也要先提啦 , 講那麼多最後薪水談不攏只是浪費時間\n```\n**薪水是少數客觀的指標** , 所以怎麼談很重要.  \n海外工作怎麼談薪水 ? 請考慮以下幾點:\n- 家庭移居(relocation)\n-  津貼(allowance)\n- 稅\n- 健康保險(healthcare insurance)  \n\n而在海外工作的技能最重要的是語言與專業,  \n目前**軟體工程**最熱門,**英文**很基本  \n會**中文**其實也沒什麼.  \n另外注意簽証通常有最低薪保障,  \n在台灣年薪 250 以上才是獵頭的目標,  \n在選擇方面,建議考慮 **個人成長 > 公司賺不賺錢**  \n小公司或新創公司可能沒有很好的薪福;  \n可能有以下幾種選擇:  \n- 分紅\n- 公司股票\n- 選擇權\n\n```\n有好有壞,要自已拿捏;  \n如果不是核心骨幹的話,拿到錢最重要  \n要不然很容易被大股東透過一些手段稀釋股權  \n有選擇當然更好,但是往往會變得更複雜  \n```\n\n薪資不應與前公司掛勾,你可以選擇不透露你的薪資  \n薪資保密,應該是指公司要替你保密,  \n你可以選擇讓誰知道,而非限制自已不得透露給任何人  \n\n```\n台灣公司很常對內搞薪資保密,\n甚至視為禁語, 只能說弊大利\n徒生猜疑 惹人聯想是否不同工不同酬 .\n```\n\n另外公司常用競業條款作一些轉職的限制,  \n為了自保應該有**但書與對價關係** .\n\n\n### 國際狀況\n台灣青年的評價**算肯吃苦,但是要求快速得到回報**  \n目前缺工的鄰近國家:中國、菲律賓、日本,  \n英/美/歐/澳算相對困難,瑞典有一些機會,  \n新加坡的所得稅很低.\n\n(fin)","source":"_posts/2018/mit_job_event_log.md","raw":"---\ntitle: \"[活動筆記]有關海外工作的大小事\"\ndate: 2018/06/02 20:55:44\n---\n\n## 隨手記\n\n### 讓企業買你的專業與合作能力;而不是買你的時間\n\n### 有關薪水\n\n在**台灣通常最後才談薪水** , 在海外可以先提薪水  \n```\n在台灣也要先提啦 , 講那麼多最後薪水談不攏只是浪費時間\n```\n**薪水是少數客觀的指標** , 所以怎麼談很重要.  \n海外工作怎麼談薪水 ? 請考慮以下幾點:\n- 家庭移居(relocation)\n-  津貼(allowance)\n- 稅\n- 健康保險(healthcare insurance)  \n\n而在海外工作的技能最重要的是語言與專業,  \n目前**軟體工程**最熱門,**英文**很基本  \n會**中文**其實也沒什麼.  \n另外注意簽証通常有最低薪保障,  \n在台灣年薪 250 以上才是獵頭的目標,  \n在選擇方面,建議考慮 **個人成長 > 公司賺不賺錢**  \n小公司或新創公司可能沒有很好的薪福;  \n可能有以下幾種選擇:  \n- 分紅\n- 公司股票\n- 選擇權\n\n```\n有好有壞,要自已拿捏;  \n如果不是核心骨幹的話,拿到錢最重要  \n要不然很容易被大股東透過一些手段稀釋股權  \n有選擇當然更好,但是往往會變得更複雜  \n```\n\n薪資不應與前公司掛勾,你可以選擇不透露你的薪資  \n薪資保密,應該是指公司要替你保密,  \n你可以選擇讓誰知道,而非限制自已不得透露給任何人  \n\n```\n台灣公司很常對內搞薪資保密,\n甚至視為禁語, 只能說弊大利\n徒生猜疑 惹人聯想是否不同工不同酬 .\n```\n\n另外公司常用競業條款作一些轉職的限制,  \n為了自保應該有**但書與對價關係** .\n\n\n### 國際狀況\n台灣青年的評價**算肯吃苦,但是要求快速得到回報**  \n目前缺工的鄰近國家:中國、菲律賓、日本,  \n英/美/歐/澳算相對困難,瑞典有一些機會,  \n新加坡的所得稅很低.\n\n(fin)","slug":"2018/mit_job_event_log","published":1,"updated":"2019-06-10T14:43:28.931Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wko001vb0vxz1immmbj","content":"<h2 id=\"隨手記\"><a href=\"#隨手記\" class=\"headerlink\" title=\"隨手記\"></a>隨手記</h2><h3 id=\"讓企業買你的專業與合作能力-而不是買你的時間\"><a href=\"#讓企業買你的專業與合作能力-而不是買你的時間\" class=\"headerlink\" title=\"讓企業買你的專業與合作能力;而不是買你的時間\"></a>讓企業買你的專業與合作能力;而不是買你的時間</h3><h3 id=\"有關薪水\"><a href=\"#有關薪水\" class=\"headerlink\" title=\"有關薪水\"></a>有關薪水</h3><p>在<strong>台灣通常最後才談薪水</strong> , 在海外可以先提薪水  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在台灣也要先提啦 , 講那麼多最後薪水談不攏只是浪費時間</span><br></pre></td></tr></table></figure>\n\n<p><strong>薪水是少數客觀的指標</strong> , 所以怎麼談很重要.<br>海外工作怎麼談薪水 ? 請考慮以下幾點:</p>\n<ul>\n<li>家庭移居(relocation)</li>\n<li>津貼(allowance)</li>\n<li>稅</li>\n<li>健康保險(healthcare insurance)  </li>\n</ul>\n<p>而在海外工作的技能最重要的是語言與專業,<br>目前<strong>軟體工程</strong>最熱門,<strong>英文</strong>很基本<br>會<strong>中文</strong>其實也沒什麼.<br>另外注意簽証通常有最低薪保障,<br>在台灣年薪 250 以上才是獵頭的目標,<br>在選擇方面,建議考慮 <strong>個人成長 &gt; 公司賺不賺錢</strong><br>小公司或新創公司可能沒有很好的薪福;<br>可能有以下幾種選擇:  </p>\n<ul>\n<li>分紅</li>\n<li>公司股票</li>\n<li>選擇權</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">有好有壞,要自已拿捏;  </span><br><span class=\"line\">如果不是核心骨幹的話,拿到錢最重要  </span><br><span class=\"line\">要不然很容易被大股東透過一些手段稀釋股權  </span><br><span class=\"line\">有選擇當然更好,但是往往會變得更複雜</span><br></pre></td></tr></table></figure>\n\n<p>薪資不應與前公司掛勾,你可以選擇不透露你的薪資<br>薪資保密,應該是指公司要替你保密,<br>你可以選擇讓誰知道,而非限制自已不得透露給任何人  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">台灣公司很常對內搞薪資保密,</span><br><span class=\"line\">甚至視為禁語, 只能說弊大利</span><br><span class=\"line\">徒生猜疑 惹人聯想是否不同工不同酬 .</span><br></pre></td></tr></table></figure>\n\n<p>另外公司常用競業條款作一些轉職的限制,<br>為了自保應該有<strong>但書與對價關係</strong> .</p>\n<h3 id=\"國際狀況\"><a href=\"#國際狀況\" class=\"headerlink\" title=\"國際狀況\"></a>國際狀況</h3><p>台灣青年的評價<strong>算肯吃苦,但是要求快速得到回報</strong><br>目前缺工的鄰近國家:中國、菲律賓、日本,<br>英/美/歐/澳算相對困難,瑞典有一些機會,<br>新加坡的所得稅很低.</p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"隨手記\"><a href=\"#隨手記\" class=\"headerlink\" title=\"隨手記\"></a>隨手記</h2><h3 id=\"讓企業買你的專業與合作能力-而不是買你的時間\"><a href=\"#讓企業買你的專業與合作能力-而不是買你的時間\" class=\"headerlink\" title=\"讓企業買你的專業與合作能力;而不是買你的時間\"></a>讓企業買你的專業與合作能力;而不是買你的時間</h3><h3 id=\"有關薪水\"><a href=\"#有關薪水\" class=\"headerlink\" title=\"有關薪水\"></a>有關薪水</h3><p>在<strong>台灣通常最後才談薪水</strong> , 在海外可以先提薪水  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在台灣也要先提啦 , 講那麼多最後薪水談不攏只是浪費時間</span><br></pre></td></tr></table></figure>\n\n<p><strong>薪水是少數客觀的指標</strong> , 所以怎麼談很重要.<br>海外工作怎麼談薪水 ? 請考慮以下幾點:</p>\n<ul>\n<li>家庭移居(relocation)</li>\n<li>津貼(allowance)</li>\n<li>稅</li>\n<li>健康保險(healthcare insurance)  </li>\n</ul>\n<p>而在海外工作的技能最重要的是語言與專業,<br>目前<strong>軟體工程</strong>最熱門,<strong>英文</strong>很基本<br>會<strong>中文</strong>其實也沒什麼.<br>另外注意簽証通常有最低薪保障,<br>在台灣年薪 250 以上才是獵頭的目標,<br>在選擇方面,建議考慮 <strong>個人成長 &gt; 公司賺不賺錢</strong><br>小公司或新創公司可能沒有很好的薪福;<br>可能有以下幾種選擇:  </p>\n<ul>\n<li>分紅</li>\n<li>公司股票</li>\n<li>選擇權</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">有好有壞,要自已拿捏;  </span><br><span class=\"line\">如果不是核心骨幹的話,拿到錢最重要  </span><br><span class=\"line\">要不然很容易被大股東透過一些手段稀釋股權  </span><br><span class=\"line\">有選擇當然更好,但是往往會變得更複雜</span><br></pre></td></tr></table></figure>\n\n<p>薪資不應與前公司掛勾,你可以選擇不透露你的薪資<br>薪資保密,應該是指公司要替你保密,<br>你可以選擇讓誰知道,而非限制自已不得透露給任何人  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">台灣公司很常對內搞薪資保密,</span><br><span class=\"line\">甚至視為禁語, 只能說弊大利</span><br><span class=\"line\">徒生猜疑 惹人聯想是否不同工不同酬 .</span><br></pre></td></tr></table></figure>\n\n<p>另外公司常用競業條款作一些轉職的限制,<br>為了自保應該有<strong>但書與對價關係</strong> .</p>\n<h3 id=\"國際狀況\"><a href=\"#國際狀況\" class=\"headerlink\" title=\"國際狀況\"></a>國際狀況</h3><p>台灣青年的評價<strong>算肯吃苦,但是要求快速得到回報</strong><br>目前缺工的鄰近國家:中國、菲律賓、日本,<br>英/美/歐/澳算相對困難,瑞典有一些機會,<br>新加坡的所得稅很低.</p>\n<p>(fin)</p>\n"},{"title":"[活動筆記]單元測試這樣玩就對了","date":"2017-04-22T16:01:39.000Z","_content":"## 應該知道的事:\n- 使用 C# , 但是其他語言也適用 \n- 使用 Visual Studio\n- 案例一有基本數理的專有名詞\n    - 上界(Upper Bound)、下界(lower Bound)、左邊界(Left Bound)、右邊界(Right Bound)\n- 報名資訊(已結束)\n[Agile Meetup 2017/04 意外版: 單元測試這樣玩就對了](http://www.accupass.com/go/unitestwriting)\n\n\n\n\n## 案例一、數值區間\n```\n假定給任一整數區間\nex:\n(1,6] = {2,3,4,5,6} \n[-2,4) = {-2,-1,0,1,2,3}\n透過一個function(x)檢查x是否包含在整數區間內,\n並撰寫測試,驗証 function(x)是對的。\n```\n\n### 解析 \n\n如上範例所示,\n「(」「)」小括號(parentheses)表示`OPEN`(不包含,大於或小於)\n「[」「]」中括號(square brackets)表示`CLOSE`(包含,大於等於或小於等於)\n (1,6] , 代表這個區間大於1小於等於6,包含的整數有 2、3、4、5、6 \n [-2,4), 代表這個區間大於等於-2小於4,包含的整數有-2、-1、0、1、2、3\n \n![](https://i.imgur.com/TDHhx0A.png)\n\n這題比較單純,只需要考慮所有的情況,\n並且寫成單元測試即可。\n1. x 落在區間內\n2. x 落在左邊界外\n3. x 落在右邊界外\n4. x 落在左邊界上,左邊界為`OPEN`\n5. x 落在左邊界上,左邊界為`CLOSE`\n6. x 落在右邊界上,右邊界為`OPEN`\n7. x 落在右邊界上,右邊界為`CLOSE`\n\n有幾種特殊的情境,特別說明一下\n1. 假設區間為(0,1),這個區間是不包含任何整數\n2. 假設區間為(1,1),這個區間是不包含任何整數,且不包含任何數值\n3. 假設區間為[1,1],這個區間恰巧包含1個整數,且只包含1這個整數\n4. 假設\"區間\"為[2,1],或任何左邊界大右邊界的表示,這不是一個正確的區間,將要作例外處理。\n\n讓我們回歸單元測試,\n這裡的重點是**一個測試只作一件事**,\n只把一個情境釐清,並且在測試的程式碼中\n**明確的表達測試目的**\n\n```cs\nprivate int leftBound = 1;\nprivate int rightBound = 6;\nprivate int testNum = 4;\n\n[TestMethod]\npublic void IncludeWhenLeftOpenRightClose()\n{\n    var checker = new RangeChecker(Bound.Open,this.leftBound,Bound.Close,this.rightBound);\n    bool expect = false;            \n    bool result = checker.IsContains(testNum);\n    Assert.IsTrue(result);\n}\n```\n\n## 案例二、現在時間轉字串\n```\n寫一個方法GetNowString,不傳入任何參數,\n取得現在的時間字串,需要精準到豪秒。\n再寫一個測試去測試這個方法是對的‧\n```\n### 版本1\n最簡單的寫法:\n\n```cs\npublic class DateHelper\n{\n\tpublic string GetNowString()\n\t{\n\t\treturn DateTime.Now.ToString(\"yyyy-MM-dd hh:mm:ss ff\");\n\t}\n}\n```\n撰寫測試\n```cs\n[TestMethod]\npublic void GetNowString()\n{\n\tvar \n\t//// 寫不下去,因為我們無法凍結系統的時間\n\tstring expect = \"2017-04-19 20:45:17.88\";\n\tstring result = dater.GetNowString();\n\tAssert.AreEqual(expect, result);\n}\n```\n### 解析\n`GetNowString`與系統的時間`DateTime.Now`,\n是具有耦合性,要解耦需要透過一些IoC的手段去處理。\n\n### 版本2\n利用繼承的方法,作出假的類別\n```cs\npublic class DateHelper\n{\n\tprotected DateTime now;\n\tprotected virtual DateTime GetNow()\n\t{\n\t\tnow = DateTime.Now;\n\t\treturn now;\n\t}\n\tpublic string GetNowString()\n\t{\n\t\tGetNow();\n\t\treturn now.ToString(\"yyyy-MM-dd HH:mm:ss.ff\");\n\t}\n}\n\nclass StubDateHelper: DateHelper\n{\n\tprotected override DateTime GetNow()\n\t{\n\t\treturn now;\n\t}\n\n\tpublic void SetNow(DateTime datetime)\n\t{\n\t\tnow = datetime;\n\t}\n}\n```\n撰寫測試\n```cs\n[TestMethod]\npublic void GetNowString()\n{\n\tStubDateHelper dateHelper = new StubDateHelper();\n\tvar fakeNow = new DateTime(2017,4,19,20,45,17,880);\n\tdateHelper.SetNow(fakeNow);\n\tstring expect = \"2017-04-19 20:45:17.88\";\n\tstring result = dateHelper.GetNowString();\n\tAssert.AreEqual(expect, result);\n}\n\n```\n\n### 解析\n基本上這樣就可以測試了,\n原來的代碼,經過一定的重構,\n透過`virtual`方法GetNow,\n將`Datetime.Now`作了隔離\n適當利用假類別,取代掉GetNow的方法。\n\n這樣夠好了,但是我們可以看看另一種作法\n\n### 版本3 \n先看看我們的`DateHelper`,\n在這裡我們將GetNow交由IDateProvider的類別去實作,\n如此一來就斷開了耦合性。\n```cs\npublic class DateHelper\n{\n\tprivate IDateProvider DateProvider;\n\n\tpublic DateHelper(IDateProvider dateProvider)\n\t{\n\t\tthis.DateProvider = dateProvider;\n\t}\n\tpublic string GetNowString()\n\t{\n\t\tvar now = this.DateProvider.GetNow();\n\t\treturn now.ToString(\"yyyy-MM-dd HH:mm:ss.ff\");\n\t}\n}\n```\n實作IDateProvider的類別,\n在這裡其實不重要.\n```cs\npublic class DateProviderV1 : IDateProvider\n{\n\tpublic DateTime GetNow()\n\t{\n\t\treturn DateTime.Now;\n\t}\n}\n```\n讓我們看看測試,\n在這裡我們透過一個假的`IDateProvider`的實作`DateProviderStub`,\n完成了測試,\nIDateProvider將`DateTime.Now`作了隔離,\n並且提供更容易修改的假物件(僅僅需要實作觀注的方法即可,不用擔心繼承帶來的附作用)\n\n```cs\n[TestMethod]\npublic void GetNowString()\n{\n\tDateProviderStub dateProvider = new DateProviderStub();\n\tdateProvider.now = new DateTime(2017, 4, 19, 20, 45, 17, 880);\n\tvar dateHelper = new DateHelper(dateProvider);\n\tstring expect = \"2017-04-19 20:45:17.88\";\n\tstring result = dateHelper.GetNowString();\n\tAssert.AreEqual(expect, result);\n}\n```\n```cs\npublic class DateProviderStub : IDateProvider\n{\n\tpublic DateTime now;\n\tpublic DateTime GetNow()\n\t{\n\t\treturn now;\n\t}\n}\n```\n\n### 圖例解析\n我們剛剛究竟幹了什麼？\n![](https://i.imgur.com/qeqzaoO.jpg)\n看看原本的情況,本來的方法因為相依與`Datetime`而無法測試\n![](https://i.imgur.com/Mquk1Cm.png)\n讓我們開始下刀,\n先用一個新的方法`GetNow`\n將它與待測的方法作分割,\n但是對整個類來說仍舊是耦合。\n![](https://i.imgur.com/c0Xg4vw.png)\n繼續把這刀往下切,\n我們墊一層介面,\n待測方法不再直接呼叫`GetNow`\n而是透過介面執行,當然會有額外實作介面與注入的功(請參考程式碼,不在此處繪出了.)\n![](https://i.imgur.com/8dDlWi2.png)\n最後,別忘了我們的目的\n測試原本的待測方法,\n我們可以透過一個`假的`類,\n來操控他的行為(ex:凍結時間). \n如此一來,就可進行測試了.\n![](https://i.imgur.com/c3mW59v.png)\n另外,這種被待測方法呼叫後\n會回傳一個假值的方法或類\n被叫作`STUB`\n![](https://i.imgur.com/KXvYMsx.png)\n\n## 案例三、發送郵件\n事先聲明,這題沒有程式碼,\n有興趣實作的人可以試試看.\n如果可以分享實作後的資訊給我更好XD\n```\nQ:註冊發送郵件如何寫單元測試？\n```\n\n### 解析\n很明顯的發送郵件需要依賴外部的郵件系統,\n這裡就會有耦合性,我們可以參考案例2的方式解耦\n不過發送郵件並不會有回傳值,\n我們要如何驗証正確性呢？\n\nA:檢查調用次數、參數\n\n### 圖例解析\n在案例2的單元測試,\n我們透過STUB偽造的回傳值完成測試\n並執行驗証. \n但是在沒有回傳的值的方法中(被稱作`MOCK`)\n我們只能透過傳遞的參數(如果有多載)\n與方法被調用的次數來進行驗証。\n\n![](https://i.imgur.com/zbllutC.png)\n\n\n## 重點摘要\n\n\n- 單元測試要能清楚表達測試的目的(**達意**)\n\t- 命名\n\t- 減少意外的細節\n- 單元測試一次只作一件事 \n- new 本身就是一種邏輯 一種偶合\n- static 是一種高偶合\n- 繼承也是高偶合,能使用繼承的情境很少\n\t- A is a B 通常只有這種情境才適合繼承\n- STUB & MOCK\n\t- STUB 會有回傳值,可以在 Unit Test 作驗証(ASSERT)\n\t- MOCK 沒有回傳值,可以在 MOCK 本身中 作驗証(ASSERT)\n\n## 其它\n- SLIM \n- 注入相依的幾種方式\n    - Pool\n    - Constructor\n    - Property\n- 書單 : XUnit Test Patterns\n\n## 直播影片\n_如果連結失效,煩請告知._\n- [影片1](https://www.facebook.com/AgileCommunity.tw/videos/948509765286712/)\n- [影片2](https://www.facebook.com/AgileCommunity.tw/videos/948548118616210/)\n\n文章內容如有謬誤,煩請指正.\n\n(fin)","source":"_posts/2017/unitestwriting.md","raw":"---\ntitle: \"[活動筆記]單元測試這樣玩就對了\"\ndate: 2017/04/23 00:01:39\ntag:\n  - Unit Testing\n---\n## 應該知道的事:\n- 使用 C# , 但是其他語言也適用 \n- 使用 Visual Studio\n- 案例一有基本數理的專有名詞\n    - 上界(Upper Bound)、下界(lower Bound)、左邊界(Left Bound)、右邊界(Right Bound)\n- 報名資訊(已結束)\n[Agile Meetup 2017/04 意外版: 單元測試這樣玩就對了](http://www.accupass.com/go/unitestwriting)\n\n\n\n\n## 案例一、數值區間\n```\n假定給任一整數區間\nex:\n(1,6] = {2,3,4,5,6} \n[-2,4) = {-2,-1,0,1,2,3}\n透過一個function(x)檢查x是否包含在整數區間內,\n並撰寫測試,驗証 function(x)是對的。\n```\n\n### 解析 \n\n如上範例所示,\n「(」「)」小括號(parentheses)表示`OPEN`(不包含,大於或小於)\n「[」「]」中括號(square brackets)表示`CLOSE`(包含,大於等於或小於等於)\n (1,6] , 代表這個區間大於1小於等於6,包含的整數有 2、3、4、5、6 \n [-2,4), 代表這個區間大於等於-2小於4,包含的整數有-2、-1、0、1、2、3\n \n![](https://i.imgur.com/TDHhx0A.png)\n\n這題比較單純,只需要考慮所有的情況,\n並且寫成單元測試即可。\n1. x 落在區間內\n2. x 落在左邊界外\n3. x 落在右邊界外\n4. x 落在左邊界上,左邊界為`OPEN`\n5. x 落在左邊界上,左邊界為`CLOSE`\n6. x 落在右邊界上,右邊界為`OPEN`\n7. x 落在右邊界上,右邊界為`CLOSE`\n\n有幾種特殊的情境,特別說明一下\n1. 假設區間為(0,1),這個區間是不包含任何整數\n2. 假設區間為(1,1),這個區間是不包含任何整數,且不包含任何數值\n3. 假設區間為[1,1],這個區間恰巧包含1個整數,且只包含1這個整數\n4. 假設\"區間\"為[2,1],或任何左邊界大右邊界的表示,這不是一個正確的區間,將要作例外處理。\n\n讓我們回歸單元測試,\n這裡的重點是**一個測試只作一件事**,\n只把一個情境釐清,並且在測試的程式碼中\n**明確的表達測試目的**\n\n```cs\nprivate int leftBound = 1;\nprivate int rightBound = 6;\nprivate int testNum = 4;\n\n[TestMethod]\npublic void IncludeWhenLeftOpenRightClose()\n{\n    var checker = new RangeChecker(Bound.Open,this.leftBound,Bound.Close,this.rightBound);\n    bool expect = false;            \n    bool result = checker.IsContains(testNum);\n    Assert.IsTrue(result);\n}\n```\n\n## 案例二、現在時間轉字串\n```\n寫一個方法GetNowString,不傳入任何參數,\n取得現在的時間字串,需要精準到豪秒。\n再寫一個測試去測試這個方法是對的‧\n```\n### 版本1\n最簡單的寫法:\n\n```cs\npublic class DateHelper\n{\n\tpublic string GetNowString()\n\t{\n\t\treturn DateTime.Now.ToString(\"yyyy-MM-dd hh:mm:ss ff\");\n\t}\n}\n```\n撰寫測試\n```cs\n[TestMethod]\npublic void GetNowString()\n{\n\tvar \n\t//// 寫不下去,因為我們無法凍結系統的時間\n\tstring expect = \"2017-04-19 20:45:17.88\";\n\tstring result = dater.GetNowString();\n\tAssert.AreEqual(expect, result);\n}\n```\n### 解析\n`GetNowString`與系統的時間`DateTime.Now`,\n是具有耦合性,要解耦需要透過一些IoC的手段去處理。\n\n### 版本2\n利用繼承的方法,作出假的類別\n```cs\npublic class DateHelper\n{\n\tprotected DateTime now;\n\tprotected virtual DateTime GetNow()\n\t{\n\t\tnow = DateTime.Now;\n\t\treturn now;\n\t}\n\tpublic string GetNowString()\n\t{\n\t\tGetNow();\n\t\treturn now.ToString(\"yyyy-MM-dd HH:mm:ss.ff\");\n\t}\n}\n\nclass StubDateHelper: DateHelper\n{\n\tprotected override DateTime GetNow()\n\t{\n\t\treturn now;\n\t}\n\n\tpublic void SetNow(DateTime datetime)\n\t{\n\t\tnow = datetime;\n\t}\n}\n```\n撰寫測試\n```cs\n[TestMethod]\npublic void GetNowString()\n{\n\tStubDateHelper dateHelper = new StubDateHelper();\n\tvar fakeNow = new DateTime(2017,4,19,20,45,17,880);\n\tdateHelper.SetNow(fakeNow);\n\tstring expect = \"2017-04-19 20:45:17.88\";\n\tstring result = dateHelper.GetNowString();\n\tAssert.AreEqual(expect, result);\n}\n\n```\n\n### 解析\n基本上這樣就可以測試了,\n原來的代碼,經過一定的重構,\n透過`virtual`方法GetNow,\n將`Datetime.Now`作了隔離\n適當利用假類別,取代掉GetNow的方法。\n\n這樣夠好了,但是我們可以看看另一種作法\n\n### 版本3 \n先看看我們的`DateHelper`,\n在這裡我們將GetNow交由IDateProvider的類別去實作,\n如此一來就斷開了耦合性。\n```cs\npublic class DateHelper\n{\n\tprivate IDateProvider DateProvider;\n\n\tpublic DateHelper(IDateProvider dateProvider)\n\t{\n\t\tthis.DateProvider = dateProvider;\n\t}\n\tpublic string GetNowString()\n\t{\n\t\tvar now = this.DateProvider.GetNow();\n\t\treturn now.ToString(\"yyyy-MM-dd HH:mm:ss.ff\");\n\t}\n}\n```\n實作IDateProvider的類別,\n在這裡其實不重要.\n```cs\npublic class DateProviderV1 : IDateProvider\n{\n\tpublic DateTime GetNow()\n\t{\n\t\treturn DateTime.Now;\n\t}\n}\n```\n讓我們看看測試,\n在這裡我們透過一個假的`IDateProvider`的實作`DateProviderStub`,\n完成了測試,\nIDateProvider將`DateTime.Now`作了隔離,\n並且提供更容易修改的假物件(僅僅需要實作觀注的方法即可,不用擔心繼承帶來的附作用)\n\n```cs\n[TestMethod]\npublic void GetNowString()\n{\n\tDateProviderStub dateProvider = new DateProviderStub();\n\tdateProvider.now = new DateTime(2017, 4, 19, 20, 45, 17, 880);\n\tvar dateHelper = new DateHelper(dateProvider);\n\tstring expect = \"2017-04-19 20:45:17.88\";\n\tstring result = dateHelper.GetNowString();\n\tAssert.AreEqual(expect, result);\n}\n```\n```cs\npublic class DateProviderStub : IDateProvider\n{\n\tpublic DateTime now;\n\tpublic DateTime GetNow()\n\t{\n\t\treturn now;\n\t}\n}\n```\n\n### 圖例解析\n我們剛剛究竟幹了什麼？\n![](https://i.imgur.com/qeqzaoO.jpg)\n看看原本的情況,本來的方法因為相依與`Datetime`而無法測試\n![](https://i.imgur.com/Mquk1Cm.png)\n讓我們開始下刀,\n先用一個新的方法`GetNow`\n將它與待測的方法作分割,\n但是對整個類來說仍舊是耦合。\n![](https://i.imgur.com/c0Xg4vw.png)\n繼續把這刀往下切,\n我們墊一層介面,\n待測方法不再直接呼叫`GetNow`\n而是透過介面執行,當然會有額外實作介面與注入的功(請參考程式碼,不在此處繪出了.)\n![](https://i.imgur.com/8dDlWi2.png)\n最後,別忘了我們的目的\n測試原本的待測方法,\n我們可以透過一個`假的`類,\n來操控他的行為(ex:凍結時間). \n如此一來,就可進行測試了.\n![](https://i.imgur.com/c3mW59v.png)\n另外,這種被待測方法呼叫後\n會回傳一個假值的方法或類\n被叫作`STUB`\n![](https://i.imgur.com/KXvYMsx.png)\n\n## 案例三、發送郵件\n事先聲明,這題沒有程式碼,\n有興趣實作的人可以試試看.\n如果可以分享實作後的資訊給我更好XD\n```\nQ:註冊發送郵件如何寫單元測試？\n```\n\n### 解析\n很明顯的發送郵件需要依賴外部的郵件系統,\n這裡就會有耦合性,我們可以參考案例2的方式解耦\n不過發送郵件並不會有回傳值,\n我們要如何驗証正確性呢？\n\nA:檢查調用次數、參數\n\n### 圖例解析\n在案例2的單元測試,\n我們透過STUB偽造的回傳值完成測試\n並執行驗証. \n但是在沒有回傳的值的方法中(被稱作`MOCK`)\n我們只能透過傳遞的參數(如果有多載)\n與方法被調用的次數來進行驗証。\n\n![](https://i.imgur.com/zbllutC.png)\n\n\n## 重點摘要\n\n\n- 單元測試要能清楚表達測試的目的(**達意**)\n\t- 命名\n\t- 減少意外的細節\n- 單元測試一次只作一件事 \n- new 本身就是一種邏輯 一種偶合\n- static 是一種高偶合\n- 繼承也是高偶合,能使用繼承的情境很少\n\t- A is a B 通常只有這種情境才適合繼承\n- STUB & MOCK\n\t- STUB 會有回傳值,可以在 Unit Test 作驗証(ASSERT)\n\t- MOCK 沒有回傳值,可以在 MOCK 本身中 作驗証(ASSERT)\n\n## 其它\n- SLIM \n- 注入相依的幾種方式\n    - Pool\n    - Constructor\n    - Property\n- 書單 : XUnit Test Patterns\n\n## 直播影片\n_如果連結失效,煩請告知._\n- [影片1](https://www.facebook.com/AgileCommunity.tw/videos/948509765286712/)\n- [影片2](https://www.facebook.com/AgileCommunity.tw/videos/948548118616210/)\n\n文章內容如有謬誤,煩請指正.\n\n(fin)","slug":"2017/unitestwriting","published":1,"updated":"2019-06-10T14:43:28.894Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkq001wb0vxwfdxm4vv","content":"<h2 id=\"應該知道的事\"><a href=\"#應該知道的事\" class=\"headerlink\" title=\"應該知道的事:\"></a>應該知道的事:</h2><ul>\n<li>使用 C# , 但是其他語言也適用 </li>\n<li>使用 Visual Studio</li>\n<li>案例一有基本數理的專有名詞<ul>\n<li>上界(Upper Bound)、下界(lower Bound)、左邊界(Left Bound)、右邊界(Right Bound)</li>\n</ul>\n</li>\n<li>報名資訊(已結束)<br><a href=\"http://www.accupass.com/go/unitestwriting\" target=\"_blank\" rel=\"noopener\">Agile Meetup 2017/04 意外版: 單元測試這樣玩就對了</a></li>\n</ul>\n<h2 id=\"案例一、數值區間\"><a href=\"#案例一、數值區間\" class=\"headerlink\" title=\"案例一、數值區間\"></a>案例一、數值區間</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">假定給任一整數區間</span><br><span class=\"line\">ex:</span><br><span class=\"line\">(1,6] = &#123;2,3,4,5,6&#125; </span><br><span class=\"line\">[-2,4) = &#123;-2,-1,0,1,2,3&#125;</span><br><span class=\"line\">透過一個function(x)檢查x是否包含在整數區間內,</span><br><span class=\"line\">並撰寫測試,驗証 function(x)是對的。</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"解析\"><a href=\"#解析\" class=\"headerlink\" title=\"解析\"></a>解析</h3><p>如上範例所示,<br>「(」「)」小括號(parentheses)表示<code>OPEN</code>(不包含,大於或小於)<br>「[」「]」中括號(square brackets)表示<code>CLOSE</code>(包含,大於等於或小於等於)<br> (1,6] , 代表這個區間大於1小於等於6,包含的整數有 2、3、4、5、6<br> [-2,4), 代表這個區間大於等於-2小於4,包含的整數有-2、-1、0、1、2、3</p>\n<p><img src=\"https://i.imgur.com/TDHhx0A.png\" alt></p>\n<p>這題比較單純,只需要考慮所有的情況,<br>並且寫成單元測試即可。</p>\n<ol>\n<li>x 落在區間內</li>\n<li>x 落在左邊界外</li>\n<li>x 落在右邊界外</li>\n<li>x 落在左邊界上,左邊界為<code>OPEN</code></li>\n<li>x 落在左邊界上,左邊界為<code>CLOSE</code></li>\n<li>x 落在右邊界上,右邊界為<code>OPEN</code></li>\n<li>x 落在右邊界上,右邊界為<code>CLOSE</code></li>\n</ol>\n<p>有幾種特殊的情境,特別說明一下</p>\n<ol>\n<li>假設區間為(0,1),這個區間是不包含任何整數</li>\n<li>假設區間為(1,1),這個區間是不包含任何整數,且不包含任何數值</li>\n<li>假設區間為[1,1],這個區間恰巧包含1個整數,且只包含1這個整數</li>\n<li>假設”區間”為[2,1],或任何左邊界大右邊界的表示,這不是一個正確的區間,將要作例外處理。</li>\n</ol>\n<p>讓我們回歸單元測試,<br>這裡的重點是<strong>一個測試只作一件事</strong>,\n只把一個情境釐清,並且在測試的程式碼中<br><strong>明確的表達測試目的</strong></p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">int</span> leftBound = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">int</span> rightBound = <span class=\"number\">6</span>;</span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">int</span> testNum = <span class=\"number\">4</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">[<span class=\"meta\">TestMethod</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">IncludeWhenLeftOpenRightClose</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> checker = <span class=\"keyword\">new</span> RangeChecker(Bound.Open,<span class=\"keyword\">this</span>.leftBound,Bound.Close,<span class=\"keyword\">this</span>.rightBound);</span><br><span class=\"line\">    <span class=\"keyword\">bool</span> expect = <span class=\"literal\">false</span>;            </span><br><span class=\"line\">    <span class=\"keyword\">bool</span> result = checker.IsContains(testNum);</span><br><span class=\"line\">    Assert.IsTrue(result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"案例二、現在時間轉字串\"><a href=\"#案例二、現在時間轉字串\" class=\"headerlink\" title=\"案例二、現在時間轉字串\"></a>案例二、現在時間轉字串</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">寫一個方法GetNowString,不傳入任何參數,</span><br><span class=\"line\">取得現在的時間字串,需要精準到豪秒。</span><br><span class=\"line\">再寫一個測試去測試這個方法是對的‧</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"版本1\"><a href=\"#版本1\" class=\"headerlink\" title=\"版本1\"></a>版本1</h3><p>最簡單的寫法:</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DateHelper</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetNowString</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> DateTime.Now.ToString(<span class=\"string\">\"yyyy-MM-dd hh:mm:ss ff\"</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>撰寫測試</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">TestMethod</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">GetNowString</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> </span><br><span class=\"line\">\t<span class=\"comment\"><span class=\"doctag\">///</span>/ 寫不下去,因為我們無法凍結系統的時間</span></span><br><span class=\"line\">\t<span class=\"keyword\">string</span> expect = <span class=\"string\">\"2017-04-19 20:45:17.88\"</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">string</span> result = dater.GetNowString();</span><br><span class=\"line\">\tAssert.AreEqual(expect, result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"解析-1\"><a href=\"#解析-1\" class=\"headerlink\" title=\"解析\"></a>解析</h3><p><code>GetNowString</code>與系統的時間<code>DateTime.Now</code>,\n是具有耦合性,要解耦需要透過一些IoC的手段去處理。</p>\n<h3 id=\"版本2\"><a href=\"#版本2\" class=\"headerlink\" title=\"版本2\"></a>版本2</h3><p>利用繼承的方法,作出假的類別</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DateHelper</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">protected</span> DateTime now;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">virtual</span> DateTime <span class=\"title\">GetNow</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\tnow = DateTime.Now;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> now;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetNowString</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\tGetNow();</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> now.ToString(<span class=\"string\">\"yyyy-MM-dd HH:mm:ss.ff\"</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">StubDateHelper</span>: <span class=\"title\">DateHelper</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">override</span> DateTime <span class=\"title\">GetNow</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> now;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SetNow</span>(<span class=\"params\">DateTime datetime</span>)</span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\tnow = datetime;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>撰寫測試</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">TestMethod</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">GetNowString</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tStubDateHelper dateHelper = <span class=\"keyword\">new</span> StubDateHelper();</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> fakeNow = <span class=\"keyword\">new</span> DateTime(<span class=\"number\">2017</span>,<span class=\"number\">4</span>,<span class=\"number\">19</span>,<span class=\"number\">20</span>,<span class=\"number\">45</span>,<span class=\"number\">17</span>,<span class=\"number\">880</span>);</span><br><span class=\"line\">\tdateHelper.SetNow(fakeNow);</span><br><span class=\"line\">\t<span class=\"keyword\">string</span> expect = <span class=\"string\">\"2017-04-19 20:45:17.88\"</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">string</span> result = dateHelper.GetNowString();</span><br><span class=\"line\">\tAssert.AreEqual(expect, result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"解析-2\"><a href=\"#解析-2\" class=\"headerlink\" title=\"解析\"></a>解析</h3><p>基本上這樣就可以測試了,<br>原來的代碼,經過一定的重構,<br>透過<code>virtual</code>方法GetNow,<br>將<code>Datetime.Now</code>作了隔離<br>適當利用假類別,取代掉GetNow的方法。</p>\n<p>這樣夠好了,但是我們可以看看另一種作法</p>\n<h3 id=\"版本3\"><a href=\"#版本3\" class=\"headerlink\" title=\"版本3\"></a>版本3</h3><p>先看看我們的<code>DateHelper</code>,\n在這裡我們將GetNow交由IDateProvider的類別去實作,<br>如此一來就斷開了耦合性。</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DateHelper</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> IDateProvider DateProvider;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">DateHelper</span>(<span class=\"params\">IDateProvider dateProvider</span>)</span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">this</span>.DateProvider = dateProvider;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetNowString</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">var</span> now = <span class=\"keyword\">this</span>.DateProvider.GetNow();</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> now.ToString(<span class=\"string\">\"yyyy-MM-dd HH:mm:ss.ff\"</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>實作IDateProvider的類別,<br>在這裡其實不重要.</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DateProviderV1</span> : <span class=\"title\">IDateProvider</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> DateTime <span class=\"title\">GetNow</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> DateTime.Now;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>讓我們看看測試,<br>在這裡我們透過一個假的<code>IDateProvider</code>的實作<code>DateProviderStub</code>,\n完成了測試,<br>IDateProvider將<code>DateTime.Now</code>作了隔離,<br>並且提供更容易修改的假物件(僅僅需要實作觀注的方法即可,不用擔心繼承帶來的附作用)</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">TestMethod</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">GetNowString</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tDateProviderStub dateProvider = <span class=\"keyword\">new</span> DateProviderStub();</span><br><span class=\"line\">\tdateProvider.now = <span class=\"keyword\">new</span> DateTime(<span class=\"number\">2017</span>, <span class=\"number\">4</span>, <span class=\"number\">19</span>, <span class=\"number\">20</span>, <span class=\"number\">45</span>, <span class=\"number\">17</span>, <span class=\"number\">880</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> dateHelper = <span class=\"keyword\">new</span> DateHelper(dateProvider);</span><br><span class=\"line\">\t<span class=\"keyword\">string</span> expect = <span class=\"string\">\"2017-04-19 20:45:17.88\"</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">string</span> result = dateHelper.GetNowString();</span><br><span class=\"line\">\tAssert.AreEqual(expect, result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DateProviderStub</span> : <span class=\"title\">IDateProvider</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">public</span> DateTime now;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> DateTime <span class=\"title\">GetNow</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> now;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"圖例解析\"><a href=\"#圖例解析\" class=\"headerlink\" title=\"圖例解析\"></a>圖例解析</h3><p>我們剛剛究竟幹了什麼？<br><img src=\"https://i.imgur.com/qeqzaoO.jpg\" alt><br>看看原本的情況,本來的方法因為相依與<code>Datetime</code>而無法測試<br><img src=\"https://i.imgur.com/Mquk1Cm.png\" alt><br>讓我們開始下刀,<br>先用一個新的方法<code>GetNow</code><br>將它與待測的方法作分割,<br>但是對整個類來說仍舊是耦合。<br><img src=\"https://i.imgur.com/c0Xg4vw.png\" alt><br>繼續把這刀往下切,<br>我們墊一層介面,<br>待測方法不再直接呼叫<code>GetNow</code><br>而是透過介面執行,當然會有額外實作介面與注入的功(請參考程式碼,不在此處繪出了.)<br><img src=\"https://i.imgur.com/8dDlWi2.png\" alt><br>最後,別忘了我們的目的<br>測試原本的待測方法,<br>我們可以透過一個<code>假的</code>類,<br>來操控他的行為(ex:凍結時間).<br>如此一來,就可進行測試了.<br><img src=\"https://i.imgur.com/c3mW59v.png\" alt><br>另外,這種被待測方法呼叫後<br>會回傳一個假值的方法或類<br>被叫作<code>STUB</code><br><img src=\"https://i.imgur.com/KXvYMsx.png\" alt></p>\n<h2 id=\"案例三、發送郵件\"><a href=\"#案例三、發送郵件\" class=\"headerlink\" title=\"案例三、發送郵件\"></a>案例三、發送郵件</h2><p>事先聲明,這題沒有程式碼,<br>有興趣實作的人可以試試看.<br>如果可以分享實作後的資訊給我更好XD</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Q:註冊發送郵件如何寫單元測試？</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"解析-3\"><a href=\"#解析-3\" class=\"headerlink\" title=\"解析\"></a>解析</h3><p>很明顯的發送郵件需要依賴外部的郵件系統,<br>這裡就會有耦合性,我們可以參考案例2的方式解耦<br>不過發送郵件並不會有回傳值,<br>我們要如何驗証正確性呢？</p>\n<p>A:檢查調用次數、參數</p>\n<h3 id=\"圖例解析-1\"><a href=\"#圖例解析-1\" class=\"headerlink\" title=\"圖例解析\"></a>圖例解析</h3><p>在案例2的單元測試,<br>我們透過STUB偽造的回傳值完成測試<br>並執行驗証.<br>但是在沒有回傳的值的方法中(被稱作<code>MOCK</code>)\n我們只能透過傳遞的參數(如果有多載)<br>與方法被調用的次數來進行驗証。</p>\n<p><img src=\"https://i.imgur.com/zbllutC.png\" alt></p>\n<h2 id=\"重點摘要\"><a href=\"#重點摘要\" class=\"headerlink\" title=\"重點摘要\"></a>重點摘要</h2><ul>\n<li>單元測試要能清楚表達測試的目的(<strong>達意</strong>)<ul>\n<li>命名</li>\n<li>減少意外的細節</li>\n</ul>\n</li>\n<li>單元測試一次只作一件事 </li>\n<li>new 本身就是一種邏輯 一種偶合</li>\n<li>static 是一種高偶合</li>\n<li>繼承也是高偶合,能使用繼承的情境很少<ul>\n<li>A is a B 通常只有這種情境才適合繼承</li>\n</ul>\n</li>\n<li>STUB &amp; MOCK<ul>\n<li>STUB 會有回傳值,可以在 Unit Test 作驗証(ASSERT)</li>\n<li>MOCK 沒有回傳值,可以在 MOCK 本身中 作驗証(ASSERT)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h2><ul>\n<li>SLIM </li>\n<li>注入相依的幾種方式<ul>\n<li>Pool</li>\n<li>Constructor</li>\n<li>Property</li>\n</ul>\n</li>\n<li>書單 : XUnit Test Patterns</li>\n</ul>\n<h2 id=\"直播影片\"><a href=\"#直播影片\" class=\"headerlink\" title=\"直播影片\"></a>直播影片</h2><p><em>如果連結失效,煩請告知.</em></p>\n<ul>\n<li><a href=\"https://www.facebook.com/AgileCommunity.tw/videos/948509765286712/\" target=\"_blank\" rel=\"noopener\">影片1</a></li>\n<li><a href=\"https://www.facebook.com/AgileCommunity.tw/videos/948548118616210/\" target=\"_blank\" rel=\"noopener\">影片2</a></li>\n</ul>\n<p>文章內容如有謬誤,煩請指正.</p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"應該知道的事\"><a href=\"#應該知道的事\" class=\"headerlink\" title=\"應該知道的事:\"></a>應該知道的事:</h2><ul>\n<li>使用 C# , 但是其他語言也適用 </li>\n<li>使用 Visual Studio</li>\n<li>案例一有基本數理的專有名詞<ul>\n<li>上界(Upper Bound)、下界(lower Bound)、左邊界(Left Bound)、右邊界(Right Bound)</li>\n</ul>\n</li>\n<li>報名資訊(已結束)<br><a href=\"http://www.accupass.com/go/unitestwriting\" target=\"_blank\" rel=\"noopener\">Agile Meetup 2017/04 意外版: 單元測試這樣玩就對了</a></li>\n</ul>\n<h2 id=\"案例一、數值區間\"><a href=\"#案例一、數值區間\" class=\"headerlink\" title=\"案例一、數值區間\"></a>案例一、數值區間</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">假定給任一整數區間</span><br><span class=\"line\">ex:</span><br><span class=\"line\">(1,6] = &#123;2,3,4,5,6&#125; </span><br><span class=\"line\">[-2,4) = &#123;-2,-1,0,1,2,3&#125;</span><br><span class=\"line\">透過一個function(x)檢查x是否包含在整數區間內,</span><br><span class=\"line\">並撰寫測試,驗証 function(x)是對的。</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"解析\"><a href=\"#解析\" class=\"headerlink\" title=\"解析\"></a>解析</h3><p>如上範例所示,<br>「(」「)」小括號(parentheses)表示<code>OPEN</code>(不包含,大於或小於)<br>「[」「]」中括號(square brackets)表示<code>CLOSE</code>(包含,大於等於或小於等於)<br> (1,6] , 代表這個區間大於1小於等於6,包含的整數有 2、3、4、5、6<br> [-2,4), 代表這個區間大於等於-2小於4,包含的整數有-2、-1、0、1、2、3</p>\n<p><img src=\"https://i.imgur.com/TDHhx0A.png\" alt></p>\n<p>這題比較單純,只需要考慮所有的情況,<br>並且寫成單元測試即可。</p>\n<ol>\n<li>x 落在區間內</li>\n<li>x 落在左邊界外</li>\n<li>x 落在右邊界外</li>\n<li>x 落在左邊界上,左邊界為<code>OPEN</code></li>\n<li>x 落在左邊界上,左邊界為<code>CLOSE</code></li>\n<li>x 落在右邊界上,右邊界為<code>OPEN</code></li>\n<li>x 落在右邊界上,右邊界為<code>CLOSE</code></li>\n</ol>\n<p>有幾種特殊的情境,特別說明一下</p>\n<ol>\n<li>假設區間為(0,1),這個區間是不包含任何整數</li>\n<li>假設區間為(1,1),這個區間是不包含任何整數,且不包含任何數值</li>\n<li>假設區間為[1,1],這個區間恰巧包含1個整數,且只包含1這個整數</li>\n<li>假設”區間”為[2,1],或任何左邊界大右邊界的表示,這不是一個正確的區間,將要作例外處理。</li>\n</ol>\n<p>讓我們回歸單元測試,<br>這裡的重點是<strong>一個測試只作一件事</strong>,\n只把一個情境釐清,並且在測試的程式碼中<br><strong>明確的表達測試目的</strong></p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">int</span> leftBound = <span class=\"number\">1</span>;</span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">int</span> rightBound = <span class=\"number\">6</span>;</span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">int</span> testNum = <span class=\"number\">4</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">[<span class=\"meta\">TestMethod</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">IncludeWhenLeftOpenRightClose</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> checker = <span class=\"keyword\">new</span> RangeChecker(Bound.Open,<span class=\"keyword\">this</span>.leftBound,Bound.Close,<span class=\"keyword\">this</span>.rightBound);</span><br><span class=\"line\">    <span class=\"keyword\">bool</span> expect = <span class=\"literal\">false</span>;            </span><br><span class=\"line\">    <span class=\"keyword\">bool</span> result = checker.IsContains(testNum);</span><br><span class=\"line\">    Assert.IsTrue(result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"案例二、現在時間轉字串\"><a href=\"#案例二、現在時間轉字串\" class=\"headerlink\" title=\"案例二、現在時間轉字串\"></a>案例二、現在時間轉字串</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">寫一個方法GetNowString,不傳入任何參數,</span><br><span class=\"line\">取得現在的時間字串,需要精準到豪秒。</span><br><span class=\"line\">再寫一個測試去測試這個方法是對的‧</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"版本1\"><a href=\"#版本1\" class=\"headerlink\" title=\"版本1\"></a>版本1</h3><p>最簡單的寫法:</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DateHelper</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetNowString</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> DateTime.Now.ToString(<span class=\"string\">\"yyyy-MM-dd hh:mm:ss ff\"</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>撰寫測試</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">TestMethod</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">GetNowString</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> </span><br><span class=\"line\">\t<span class=\"comment\"><span class=\"doctag\">///</span>/ 寫不下去,因為我們無法凍結系統的時間</span></span><br><span class=\"line\">\t<span class=\"keyword\">string</span> expect = <span class=\"string\">\"2017-04-19 20:45:17.88\"</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">string</span> result = dater.GetNowString();</span><br><span class=\"line\">\tAssert.AreEqual(expect, result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"解析-1\"><a href=\"#解析-1\" class=\"headerlink\" title=\"解析\"></a>解析</h3><p><code>GetNowString</code>與系統的時間<code>DateTime.Now</code>,\n是具有耦合性,要解耦需要透過一些IoC的手段去處理。</p>\n<h3 id=\"版本2\"><a href=\"#版本2\" class=\"headerlink\" title=\"版本2\"></a>版本2</h3><p>利用繼承的方法,作出假的類別</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DateHelper</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">protected</span> DateTime now;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">virtual</span> DateTime <span class=\"title\">GetNow</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\tnow = DateTime.Now;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> now;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetNowString</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\tGetNow();</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> now.ToString(<span class=\"string\">\"yyyy-MM-dd HH:mm:ss.ff\"</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">StubDateHelper</span>: <span class=\"title\">DateHelper</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">override</span> DateTime <span class=\"title\">GetNow</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> now;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">SetNow</span>(<span class=\"params\">DateTime datetime</span>)</span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\tnow = datetime;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>撰寫測試</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">TestMethod</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">GetNowString</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tStubDateHelper dateHelper = <span class=\"keyword\">new</span> StubDateHelper();</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> fakeNow = <span class=\"keyword\">new</span> DateTime(<span class=\"number\">2017</span>,<span class=\"number\">4</span>,<span class=\"number\">19</span>,<span class=\"number\">20</span>,<span class=\"number\">45</span>,<span class=\"number\">17</span>,<span class=\"number\">880</span>);</span><br><span class=\"line\">\tdateHelper.SetNow(fakeNow);</span><br><span class=\"line\">\t<span class=\"keyword\">string</span> expect = <span class=\"string\">\"2017-04-19 20:45:17.88\"</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">string</span> result = dateHelper.GetNowString();</span><br><span class=\"line\">\tAssert.AreEqual(expect, result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"解析-2\"><a href=\"#解析-2\" class=\"headerlink\" title=\"解析\"></a>解析</h3><p>基本上這樣就可以測試了,<br>原來的代碼,經過一定的重構,<br>透過<code>virtual</code>方法GetNow,<br>將<code>Datetime.Now</code>作了隔離<br>適當利用假類別,取代掉GetNow的方法。</p>\n<p>這樣夠好了,但是我們可以看看另一種作法</p>\n<h3 id=\"版本3\"><a href=\"#版本3\" class=\"headerlink\" title=\"版本3\"></a>版本3</h3><p>先看看我們的<code>DateHelper</code>,\n在這裡我們將GetNow交由IDateProvider的類別去實作,<br>如此一來就斷開了耦合性。</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DateHelper</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> IDateProvider DateProvider;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">DateHelper</span>(<span class=\"params\">IDateProvider dateProvider</span>)</span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">this</span>.DateProvider = dateProvider;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetNowString</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">var</span> now = <span class=\"keyword\">this</span>.DateProvider.GetNow();</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> now.ToString(<span class=\"string\">\"yyyy-MM-dd HH:mm:ss.ff\"</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>實作IDateProvider的類別,<br>在這裡其實不重要.</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DateProviderV1</span> : <span class=\"title\">IDateProvider</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> DateTime <span class=\"title\">GetNow</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> DateTime.Now;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>讓我們看看測試,<br>在這裡我們透過一個假的<code>IDateProvider</code>的實作<code>DateProviderStub</code>,\n完成了測試,<br>IDateProvider將<code>DateTime.Now</code>作了隔離,<br>並且提供更容易修改的假物件(僅僅需要實作觀注的方法即可,不用擔心繼承帶來的附作用)</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">TestMethod</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">GetNowString</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\tDateProviderStub dateProvider = <span class=\"keyword\">new</span> DateProviderStub();</span><br><span class=\"line\">\tdateProvider.now = <span class=\"keyword\">new</span> DateTime(<span class=\"number\">2017</span>, <span class=\"number\">4</span>, <span class=\"number\">19</span>, <span class=\"number\">20</span>, <span class=\"number\">45</span>, <span class=\"number\">17</span>, <span class=\"number\">880</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> dateHelper = <span class=\"keyword\">new</span> DateHelper(dateProvider);</span><br><span class=\"line\">\t<span class=\"keyword\">string</span> expect = <span class=\"string\">\"2017-04-19 20:45:17.88\"</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">string</span> result = dateHelper.GetNowString();</span><br><span class=\"line\">\tAssert.AreEqual(expect, result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">DateProviderStub</span> : <span class=\"title\">IDateProvider</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">public</span> DateTime now;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> DateTime <span class=\"title\">GetNow</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">\t</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> now;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"圖例解析\"><a href=\"#圖例解析\" class=\"headerlink\" title=\"圖例解析\"></a>圖例解析</h3><p>我們剛剛究竟幹了什麼？<br><img src=\"https://i.imgur.com/qeqzaoO.jpg\" alt><br>看看原本的情況,本來的方法因為相依與<code>Datetime</code>而無法測試<br><img src=\"https://i.imgur.com/Mquk1Cm.png\" alt><br>讓我們開始下刀,<br>先用一個新的方法<code>GetNow</code><br>將它與待測的方法作分割,<br>但是對整個類來說仍舊是耦合。<br><img src=\"https://i.imgur.com/c0Xg4vw.png\" alt><br>繼續把這刀往下切,<br>我們墊一層介面,<br>待測方法不再直接呼叫<code>GetNow</code><br>而是透過介面執行,當然會有額外實作介面與注入的功(請參考程式碼,不在此處繪出了.)<br><img src=\"https://i.imgur.com/8dDlWi2.png\" alt><br>最後,別忘了我們的目的<br>測試原本的待測方法,<br>我們可以透過一個<code>假的</code>類,<br>來操控他的行為(ex:凍結時間).<br>如此一來,就可進行測試了.<br><img src=\"https://i.imgur.com/c3mW59v.png\" alt><br>另外,這種被待測方法呼叫後<br>會回傳一個假值的方法或類<br>被叫作<code>STUB</code><br><img src=\"https://i.imgur.com/KXvYMsx.png\" alt></p>\n<h2 id=\"案例三、發送郵件\"><a href=\"#案例三、發送郵件\" class=\"headerlink\" title=\"案例三、發送郵件\"></a>案例三、發送郵件</h2><p>事先聲明,這題沒有程式碼,<br>有興趣實作的人可以試試看.<br>如果可以分享實作後的資訊給我更好XD</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Q:註冊發送郵件如何寫單元測試？</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"解析-3\"><a href=\"#解析-3\" class=\"headerlink\" title=\"解析\"></a>解析</h3><p>很明顯的發送郵件需要依賴外部的郵件系統,<br>這裡就會有耦合性,我們可以參考案例2的方式解耦<br>不過發送郵件並不會有回傳值,<br>我們要如何驗証正確性呢？</p>\n<p>A:檢查調用次數、參數</p>\n<h3 id=\"圖例解析-1\"><a href=\"#圖例解析-1\" class=\"headerlink\" title=\"圖例解析\"></a>圖例解析</h3><p>在案例2的單元測試,<br>我們透過STUB偽造的回傳值完成測試<br>並執行驗証.<br>但是在沒有回傳的值的方法中(被稱作<code>MOCK</code>)\n我們只能透過傳遞的參數(如果有多載)<br>與方法被調用的次數來進行驗証。</p>\n<p><img src=\"https://i.imgur.com/zbllutC.png\" alt></p>\n<h2 id=\"重點摘要\"><a href=\"#重點摘要\" class=\"headerlink\" title=\"重點摘要\"></a>重點摘要</h2><ul>\n<li>單元測試要能清楚表達測試的目的(<strong>達意</strong>)<ul>\n<li>命名</li>\n<li>減少意外的細節</li>\n</ul>\n</li>\n<li>單元測試一次只作一件事 </li>\n<li>new 本身就是一種邏輯 一種偶合</li>\n<li>static 是一種高偶合</li>\n<li>繼承也是高偶合,能使用繼承的情境很少<ul>\n<li>A is a B 通常只有這種情境才適合繼承</li>\n</ul>\n</li>\n<li>STUB &amp; MOCK<ul>\n<li>STUB 會有回傳值,可以在 Unit Test 作驗証(ASSERT)</li>\n<li>MOCK 沒有回傳值,可以在 MOCK 本身中 作驗証(ASSERT)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h2><ul>\n<li>SLIM </li>\n<li>注入相依的幾種方式<ul>\n<li>Pool</li>\n<li>Constructor</li>\n<li>Property</li>\n</ul>\n</li>\n<li>書單 : XUnit Test Patterns</li>\n</ul>\n<h2 id=\"直播影片\"><a href=\"#直播影片\" class=\"headerlink\" title=\"直播影片\"></a>直播影片</h2><p><em>如果連結失效,煩請告知.</em></p>\n<ul>\n<li><a href=\"https://www.facebook.com/AgileCommunity.tw/videos/948509765286712/\" target=\"_blank\" rel=\"noopener\">影片1</a></li>\n<li><a href=\"https://www.facebook.com/AgileCommunity.tw/videos/948548118616210/\" target=\"_blank\" rel=\"noopener\">影片2</a></li>\n</ul>\n<p>文章內容如有謬誤,煩請指正.</p>\n<p>(fin)</p>\n"},{"title":"一年後的我想要什麼？","date":"2017-12-31T18:12:47.000Z","_content":"\n## 你的目標是什麼?\n\n**自由**\n\n什麼是自由？\n\n1. 情感上的自由\n2. 時間上的自由\n3. 經濟上的自由\n\n## 經濟上的自由是一切的基礎\n\n1. 更多的收入 \n    1. 被動的收入\n    2. 更高的薪資\n2. 更有成就感的工作\n    1. 被同事尊重\n    2. 被上司認可\n    3. 受人歡迎\n3. 更多的選擇\n    1. 技術提昇\n    2. 領域擴展\n    3. 人脈\n4. 健康的身體\n5. 更多享受生活\n\n## 一年後的我想要什麼?\n\n一年後的我想要什麼?\n\n1. 更高的薪資\n\t1. 維持現狀 K (x)\n\t2. 跳糟 K * 1.3 (x)\n\t3. 爭取加薪 K * 1.1\n\t4. 獎金與分紅 \n2. 更有成就感的工作(什麼是成就感)？\t\n\t1. 擁有可以引以為豪的產品\n\t\t1. 拆解單體為服務導向\n\t\t2. 架構升級\t\t\n\t2. 分享與教學\n\t\t\t1. Blog\n\t\t\t2. 內/外部sharing\n\t\t\t3. 單元測試導入\t\t\n3. 更多的選擇\n\t1. 技術轉移\n\t\t1. Web 技術 轉移 為 Service導向技術\n\t\t2. container 技術\n\t\t3. cloud 技術\t\t\n\t2. 技術提昇\n\t\t1. .Net \n        2. Infra\n        3. Domain know how\n \n### 爭取加薪 K * 1.1\n\n## 而這些目標需要什麼才能爭取到?\n分為三個面向,技術提昇、技術擴展與自我實現,  \n### 技術提昇\n首先目前我擁有的技術能力有\n1. .Net solution的 Web Developer能力\n2. 同時兼顧有 DB 與 F2E 基礎進階能力 \n\n這與我過去的選擇有關, 一直以來都在 Web 深入研究  \n未來的一年仍要朝這個方向發展.  \n但是會改由 Web 導向轉變成服務導向,  \n而 Web 開發只是我本身所能提供給公司的一個服務而已,  \n跟著 .Net 的腳步我想把前台(包含大馬但不限於)昇級上一個版本,  \n包含目前使用的舊版 libary 與 Framework,  \n如此一來可以使用到新版 .Net 的語法,  \n同時也可以解開一些導入測試與微服務時遇到的困境.  \n\n### 現有能力列表\n1. C# & .Net Framework Solution (inculde Linq & Entity Framework )\n2. javascript (jQuery & Angular etc..)\n3. Database with Sql (MsSQL solution)\n4. Source Controle (Git)\n5. \n\n### 略懂\n1. nodejs (with expressjs) & php(codeigniter) & ruby (RoR)\n2. Jenkins\n3. \n\n### 技術的擴展  \n\n我認為公司的單體架構已經面臨到不得不拆的狀況,  \n公司也有意朝這個方向走那是最好不過的了,\n但對現存的.NET 開發者而言,我認為人人都要有危機意識\n我看到的現象\n1. 頁面會被CMS取代\n2. 大部份的API可以被Lambda取代\n3. 主流程的部份在跨國的目標下會逐步變成微服務\n\n基於以上幾點, 除了.Net 的 solution 外,  \n更多情況是要使用別的 solution 或是混用,  \n對此我的視野必須有所提昇,  \n1. Linux Bash\n2. Container 技術\n3. Cloud (AWS/Azure/GCP)\n4. Node.js\n在未來的一年開發流程或是維運流程會有很大很快的變化  \n要多聽多看多想多問,公司有很多人才要儘可能的跟他們學習.  \n\n### 自我營銷\n\n最後是自我實現的部份,  \n自我營銷是我很弱的一部份,  \n不善交際,不喜歡人群  \n這點我從去年就開始調整,  \n多參與公司內部的分享,不要害怕說錯  \n假裝自已是對的,再虛心接受別人的指點  \n不需要導師,因為人人都是我的導師  \n開始寫Blog並且貼到社群網站給人鞭  \n這是我目前的 https://blog.marsen.me\n\n今年會繼續朝這個方向衝刺.  \n多分享 多犯錯 然後接受反饋學習.  \n兩個部份是我可以練習分享的機會  \n一個是測試的導入,  \n我們的遺留代碼,有很多可以分享的部份,  \n二是讀書會,  \n借由讀書會可以練習分享,  \n同時學習別人怎麼分享,  \n並且看完一本書,一舉數得.  \n\n## 具體主管可以幫助我的部份\n1. 加薪(沒有比這個更務實的了)\n2. 明確指出我的錯誤或是作的好的部份\n\nDo more do faster \n\n(fin)","source":"_posts/2018/next_year.md","raw":"---\ntitle: \"一年後的我想要什麼？\"\ndate: 2018/01/01 02:12:47\n---\n\n## 你的目標是什麼?\n\n**自由**\n\n什麼是自由？\n\n1. 情感上的自由\n2. 時間上的自由\n3. 經濟上的自由\n\n## 經濟上的自由是一切的基礎\n\n1. 更多的收入 \n    1. 被動的收入\n    2. 更高的薪資\n2. 更有成就感的工作\n    1. 被同事尊重\n    2. 被上司認可\n    3. 受人歡迎\n3. 更多的選擇\n    1. 技術提昇\n    2. 領域擴展\n    3. 人脈\n4. 健康的身體\n5. 更多享受生活\n\n## 一年後的我想要什麼?\n\n一年後的我想要什麼?\n\n1. 更高的薪資\n\t1. 維持現狀 K (x)\n\t2. 跳糟 K * 1.3 (x)\n\t3. 爭取加薪 K * 1.1\n\t4. 獎金與分紅 \n2. 更有成就感的工作(什麼是成就感)？\t\n\t1. 擁有可以引以為豪的產品\n\t\t1. 拆解單體為服務導向\n\t\t2. 架構升級\t\t\n\t2. 分享與教學\n\t\t\t1. Blog\n\t\t\t2. 內/外部sharing\n\t\t\t3. 單元測試導入\t\t\n3. 更多的選擇\n\t1. 技術轉移\n\t\t1. Web 技術 轉移 為 Service導向技術\n\t\t2. container 技術\n\t\t3. cloud 技術\t\t\n\t2. 技術提昇\n\t\t1. .Net \n        2. Infra\n        3. Domain know how\n \n### 爭取加薪 K * 1.1\n\n## 而這些目標需要什麼才能爭取到?\n分為三個面向,技術提昇、技術擴展與自我實現,  \n### 技術提昇\n首先目前我擁有的技術能力有\n1. .Net solution的 Web Developer能力\n2. 同時兼顧有 DB 與 F2E 基礎進階能力 \n\n這與我過去的選擇有關, 一直以來都在 Web 深入研究  \n未來的一年仍要朝這個方向發展.  \n但是會改由 Web 導向轉變成服務導向,  \n而 Web 開發只是我本身所能提供給公司的一個服務而已,  \n跟著 .Net 的腳步我想把前台(包含大馬但不限於)昇級上一個版本,  \n包含目前使用的舊版 libary 與 Framework,  \n如此一來可以使用到新版 .Net 的語法,  \n同時也可以解開一些導入測試與微服務時遇到的困境.  \n\n### 現有能力列表\n1. C# & .Net Framework Solution (inculde Linq & Entity Framework )\n2. javascript (jQuery & Angular etc..)\n3. Database with Sql (MsSQL solution)\n4. Source Controle (Git)\n5. \n\n### 略懂\n1. nodejs (with expressjs) & php(codeigniter) & ruby (RoR)\n2. Jenkins\n3. \n\n### 技術的擴展  \n\n我認為公司的單體架構已經面臨到不得不拆的狀況,  \n公司也有意朝這個方向走那是最好不過的了,\n但對現存的.NET 開發者而言,我認為人人都要有危機意識\n我看到的現象\n1. 頁面會被CMS取代\n2. 大部份的API可以被Lambda取代\n3. 主流程的部份在跨國的目標下會逐步變成微服務\n\n基於以上幾點, 除了.Net 的 solution 外,  \n更多情況是要使用別的 solution 或是混用,  \n對此我的視野必須有所提昇,  \n1. Linux Bash\n2. Container 技術\n3. Cloud (AWS/Azure/GCP)\n4. Node.js\n在未來的一年開發流程或是維運流程會有很大很快的變化  \n要多聽多看多想多問,公司有很多人才要儘可能的跟他們學習.  \n\n### 自我營銷\n\n最後是自我實現的部份,  \n自我營銷是我很弱的一部份,  \n不善交際,不喜歡人群  \n這點我從去年就開始調整,  \n多參與公司內部的分享,不要害怕說錯  \n假裝自已是對的,再虛心接受別人的指點  \n不需要導師,因為人人都是我的導師  \n開始寫Blog並且貼到社群網站給人鞭  \n這是我目前的 https://blog.marsen.me\n\n今年會繼續朝這個方向衝刺.  \n多分享 多犯錯 然後接受反饋學習.  \n兩個部份是我可以練習分享的機會  \n一個是測試的導入,  \n我們的遺留代碼,有很多可以分享的部份,  \n二是讀書會,  \n借由讀書會可以練習分享,  \n同時學習別人怎麼分享,  \n並且看完一本書,一舉數得.  \n\n## 具體主管可以幫助我的部份\n1. 加薪(沒有比這個更務實的了)\n2. 明確指出我的錯誤或是作的好的部份\n\nDo more do faster \n\n(fin)","slug":"2018/next_year","published":1,"updated":"2018-04-17T03:12:39.593Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkq001xb0vxsqnmzztj","content":"<h2 id=\"你的目標是什麼\"><a href=\"#你的目標是什麼\" class=\"headerlink\" title=\"你的目標是什麼?\"></a>你的目標是什麼?</h2><p><strong>自由</strong></p>\n<p>什麼是自由？</p>\n<ol>\n<li>情感上的自由</li>\n<li>時間上的自由</li>\n<li>經濟上的自由</li>\n</ol>\n<h2 id=\"經濟上的自由是一切的基礎\"><a href=\"#經濟上的自由是一切的基礎\" class=\"headerlink\" title=\"經濟上的自由是一切的基礎\"></a>經濟上的自由是一切的基礎</h2><ol>\n<li>更多的收入 <ol>\n<li>被動的收入</li>\n<li>更高的薪資</li>\n</ol>\n</li>\n<li>更有成就感的工作<ol>\n<li>被同事尊重</li>\n<li>被上司認可</li>\n<li>受人歡迎</li>\n</ol>\n</li>\n<li>更多的選擇<ol>\n<li>技術提昇</li>\n<li>領域擴展</li>\n<li>人脈</li>\n</ol>\n</li>\n<li>健康的身體</li>\n<li>更多享受生活</li>\n</ol>\n<h2 id=\"一年後的我想要什麼\"><a href=\"#一年後的我想要什麼\" class=\"headerlink\" title=\"一年後的我想要什麼?\"></a>一年後的我想要什麼?</h2><p>一年後的我想要什麼?</p>\n<ol>\n<li>更高的薪資<ol>\n<li>維持現狀 K (x)</li>\n<li>跳糟 K * 1.3 (x)</li>\n<li>爭取加薪 K * 1.1</li>\n<li>獎金與分紅 </li>\n</ol>\n</li>\n<li>更有成就感的工作(什麼是成就感)？    <ol>\n<li>擁有可以引以為豪的產品<ol>\n<li>拆解單體為服務導向</li>\n<li>架構升級        </li>\n</ol>\n</li>\n<li>分享與教學<pre><code>1. Blog\n2. 內/外部sharing\n3. 單元測試導入        </code></pre></li>\n</ol>\n</li>\n<li>更多的選擇<ol>\n<li>技術轉移<ol>\n<li>Web 技術 轉移 為 Service導向技術</li>\n<li>container 技術</li>\n<li>cloud 技術        </li>\n</ol>\n</li>\n<li>技術提昇<ol>\n<li>.Net </li>\n<li>Infra</li>\n<li>Domain know how</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<h3 id=\"爭取加薪-K-1-1\"><a href=\"#爭取加薪-K-1-1\" class=\"headerlink\" title=\"爭取加薪 K * 1.1\"></a>爭取加薪 K * 1.1</h3><h2 id=\"而這些目標需要什麼才能爭取到\"><a href=\"#而這些目標需要什麼才能爭取到\" class=\"headerlink\" title=\"而這些目標需要什麼才能爭取到?\"></a>而這些目標需要什麼才能爭取到?</h2><p>分為三個面向,技術提昇、技術擴展與自我實現,  </p>\n<h3 id=\"技術提昇\"><a href=\"#技術提昇\" class=\"headerlink\" title=\"技術提昇\"></a>技術提昇</h3><p>首先目前我擁有的技術能力有</p>\n<ol>\n<li>.Net solution的 Web Developer能力</li>\n<li>同時兼顧有 DB 與 F2E 基礎進階能力 </li>\n</ol>\n<p>這與我過去的選擇有關, 一直以來都在 Web 深入研究<br>未來的一年仍要朝這個方向發展.<br>但是會改由 Web 導向轉變成服務導向,<br>而 Web 開發只是我本身所能提供給公司的一個服務而已,<br>跟著 .Net 的腳步我想把前台(包含大馬但不限於)昇級上一個版本,<br>包含目前使用的舊版 libary 與 Framework,<br>如此一來可以使用到新版 .Net 的語法,<br>同時也可以解開一些導入測試與微服務時遇到的困境.  </p>\n<h3 id=\"現有能力列表\"><a href=\"#現有能力列表\" class=\"headerlink\" title=\"現有能力列表\"></a>現有能力列表</h3><ol>\n<li>C# &amp; .Net Framework Solution (inculde Linq &amp; Entity Framework )</li>\n<li>javascript (jQuery &amp; Angular etc..)</li>\n<li>Database with Sql (MsSQL solution)</li>\n<li>Source Controle (Git)</li>\n<li></li>\n</ol>\n<h3 id=\"略懂\"><a href=\"#略懂\" class=\"headerlink\" title=\"略懂\"></a>略懂</h3><ol>\n<li>nodejs (with expressjs) &amp; php(codeigniter) &amp; ruby (RoR)</li>\n<li>Jenkins</li>\n<li></li>\n</ol>\n<h3 id=\"技術的擴展\"><a href=\"#技術的擴展\" class=\"headerlink\" title=\"技術的擴展\"></a>技術的擴展</h3><p>我認為公司的單體架構已經面臨到不得不拆的狀況,<br>公司也有意朝這個方向走那是最好不過的了,<br>但對現存的.NET 開發者而言,我認為人人都要有危機意識<br>我看到的現象</p>\n<ol>\n<li>頁面會被CMS取代</li>\n<li>大部份的API可以被Lambda取代</li>\n<li>主流程的部份在跨國的目標下會逐步變成微服務</li>\n</ol>\n<p>基於以上幾點, 除了.Net 的 solution 外,<br>更多情況是要使用別的 solution 或是混用,<br>對此我的視野必須有所提昇,  </p>\n<ol>\n<li>Linux Bash</li>\n<li>Container 技術</li>\n<li>Cloud (AWS/Azure/GCP)</li>\n<li>Node.js<br>在未來的一年開發流程或是維運流程會有很大很快的變化<br>要多聽多看多想多問,公司有很多人才要儘可能的跟他們學習.  </li>\n</ol>\n<h3 id=\"自我營銷\"><a href=\"#自我營銷\" class=\"headerlink\" title=\"自我營銷\"></a>自我營銷</h3><p>最後是自我實現的部份,<br>自我營銷是我很弱的一部份,<br>不善交際,不喜歡人群<br>這點我從去年就開始調整,<br>多參與公司內部的分享,不要害怕說錯<br>假裝自已是對的,再虛心接受別人的指點<br>不需要導師,因為人人都是我的導師<br>開始寫Blog並且貼到社群網站給人鞭<br>這是我目前的 <a href=\"https://blog.marsen.me\">https://blog.marsen.me</a></p>\n<p>今年會繼續朝這個方向衝刺.<br>多分享 多犯錯 然後接受反饋學習.<br>兩個部份是我可以練習分享的機會<br>一個是測試的導入,<br>我們的遺留代碼,有很多可以分享的部份,<br>二是讀書會,<br>借由讀書會可以練習分享,<br>同時學習別人怎麼分享,<br>並且看完一本書,一舉數得.  </p>\n<h2 id=\"具體主管可以幫助我的部份\"><a href=\"#具體主管可以幫助我的部份\" class=\"headerlink\" title=\"具體主管可以幫助我的部份\"></a>具體主管可以幫助我的部份</h2><ol>\n<li>加薪(沒有比這個更務實的了)</li>\n<li>明確指出我的錯誤或是作的好的部份</li>\n</ol>\n<p>Do more do faster </p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"你的目標是什麼\"><a href=\"#你的目標是什麼\" class=\"headerlink\" title=\"你的目標是什麼?\"></a>你的目標是什麼?</h2><p><strong>自由</strong></p>\n<p>什麼是自由？</p>\n<ol>\n<li>情感上的自由</li>\n<li>時間上的自由</li>\n<li>經濟上的自由</li>\n</ol>\n<h2 id=\"經濟上的自由是一切的基礎\"><a href=\"#經濟上的自由是一切的基礎\" class=\"headerlink\" title=\"經濟上的自由是一切的基礎\"></a>經濟上的自由是一切的基礎</h2><ol>\n<li>更多的收入 <ol>\n<li>被動的收入</li>\n<li>更高的薪資</li>\n</ol>\n</li>\n<li>更有成就感的工作<ol>\n<li>被同事尊重</li>\n<li>被上司認可</li>\n<li>受人歡迎</li>\n</ol>\n</li>\n<li>更多的選擇<ol>\n<li>技術提昇</li>\n<li>領域擴展</li>\n<li>人脈</li>\n</ol>\n</li>\n<li>健康的身體</li>\n<li>更多享受生活</li>\n</ol>\n<h2 id=\"一年後的我想要什麼\"><a href=\"#一年後的我想要什麼\" class=\"headerlink\" title=\"一年後的我想要什麼?\"></a>一年後的我想要什麼?</h2><p>一年後的我想要什麼?</p>\n<ol>\n<li>更高的薪資<ol>\n<li>維持現狀 K (x)</li>\n<li>跳糟 K * 1.3 (x)</li>\n<li>爭取加薪 K * 1.1</li>\n<li>獎金與分紅 </li>\n</ol>\n</li>\n<li>更有成就感的工作(什麼是成就感)？    <ol>\n<li>擁有可以引以為豪的產品<ol>\n<li>拆解單體為服務導向</li>\n<li>架構升級        </li>\n</ol>\n</li>\n<li>分享與教學<pre><code>1. Blog\n2. 內/外部sharing\n3. 單元測試導入        </code></pre></li>\n</ol>\n</li>\n<li>更多的選擇<ol>\n<li>技術轉移<ol>\n<li>Web 技術 轉移 為 Service導向技術</li>\n<li>container 技術</li>\n<li>cloud 技術        </li>\n</ol>\n</li>\n<li>技術提昇<ol>\n<li>.Net </li>\n<li>Infra</li>\n<li>Domain know how</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<h3 id=\"爭取加薪-K-1-1\"><a href=\"#爭取加薪-K-1-1\" class=\"headerlink\" title=\"爭取加薪 K * 1.1\"></a>爭取加薪 K * 1.1</h3><h2 id=\"而這些目標需要什麼才能爭取到\"><a href=\"#而這些目標需要什麼才能爭取到\" class=\"headerlink\" title=\"而這些目標需要什麼才能爭取到?\"></a>而這些目標需要什麼才能爭取到?</h2><p>分為三個面向,技術提昇、技術擴展與自我實現,  </p>\n<h3 id=\"技術提昇\"><a href=\"#技術提昇\" class=\"headerlink\" title=\"技術提昇\"></a>技術提昇</h3><p>首先目前我擁有的技術能力有</p>\n<ol>\n<li>.Net solution的 Web Developer能力</li>\n<li>同時兼顧有 DB 與 F2E 基礎進階能力 </li>\n</ol>\n<p>這與我過去的選擇有關, 一直以來都在 Web 深入研究<br>未來的一年仍要朝這個方向發展.<br>但是會改由 Web 導向轉變成服務導向,<br>而 Web 開發只是我本身所能提供給公司的一個服務而已,<br>跟著 .Net 的腳步我想把前台(包含大馬但不限於)昇級上一個版本,<br>包含目前使用的舊版 libary 與 Framework,<br>如此一來可以使用到新版 .Net 的語法,<br>同時也可以解開一些導入測試與微服務時遇到的困境.  </p>\n<h3 id=\"現有能力列表\"><a href=\"#現有能力列表\" class=\"headerlink\" title=\"現有能力列表\"></a>現有能力列表</h3><ol>\n<li>C# &amp; .Net Framework Solution (inculde Linq &amp; Entity Framework )</li>\n<li>javascript (jQuery &amp; Angular etc..)</li>\n<li>Database with Sql (MsSQL solution)</li>\n<li>Source Controle (Git)</li>\n<li></li>\n</ol>\n<h3 id=\"略懂\"><a href=\"#略懂\" class=\"headerlink\" title=\"略懂\"></a>略懂</h3><ol>\n<li>nodejs (with expressjs) &amp; php(codeigniter) &amp; ruby (RoR)</li>\n<li>Jenkins</li>\n<li></li>\n</ol>\n<h3 id=\"技術的擴展\"><a href=\"#技術的擴展\" class=\"headerlink\" title=\"技術的擴展\"></a>技術的擴展</h3><p>我認為公司的單體架構已經面臨到不得不拆的狀況,<br>公司也有意朝這個方向走那是最好不過的了,<br>但對現存的.NET 開發者而言,我認為人人都要有危機意識<br>我看到的現象</p>\n<ol>\n<li>頁面會被CMS取代</li>\n<li>大部份的API可以被Lambda取代</li>\n<li>主流程的部份在跨國的目標下會逐步變成微服務</li>\n</ol>\n<p>基於以上幾點, 除了.Net 的 solution 外,<br>更多情況是要使用別的 solution 或是混用,<br>對此我的視野必須有所提昇,  </p>\n<ol>\n<li>Linux Bash</li>\n<li>Container 技術</li>\n<li>Cloud (AWS/Azure/GCP)</li>\n<li>Node.js<br>在未來的一年開發流程或是維運流程會有很大很快的變化<br>要多聽多看多想多問,公司有很多人才要儘可能的跟他們學習.  </li>\n</ol>\n<h3 id=\"自我營銷\"><a href=\"#自我營銷\" class=\"headerlink\" title=\"自我營銷\"></a>自我營銷</h3><p>最後是自我實現的部份,<br>自我營銷是我很弱的一部份,<br>不善交際,不喜歡人群<br>這點我從去年就開始調整,<br>多參與公司內部的分享,不要害怕說錯<br>假裝自已是對的,再虛心接受別人的指點<br>不需要導師,因為人人都是我的導師<br>開始寫Blog並且貼到社群網站給人鞭<br>這是我目前的 <a href=\"https://blog.marsen.me\">https://blog.marsen.me</a></p>\n<p>今年會繼續朝這個方向衝刺.<br>多分享 多犯錯 然後接受反饋學習.<br>兩個部份是我可以練習分享的機會<br>一個是測試的導入,<br>我們的遺留代碼,有很多可以分享的部份,<br>二是讀書會,<br>借由讀書會可以練習分享,<br>同時學習別人怎麼分享,<br>並且看完一本書,一舉數得.  </p>\n<h2 id=\"具體主管可以幫助我的部份\"><a href=\"#具體主管可以幫助我的部份\" class=\"headerlink\" title=\"具體主管可以幫助我的部份\"></a>具體主管可以幫助我的部份</h2><ol>\n<li>加薪(沒有比這個更務實的了)</li>\n<li>明確指出我的錯誤或是作的好的部份</li>\n</ol>\n<p>Do more do faster </p>\n<p>(fin)</p>\n"},{"title":"[實作筆記]設定 NPM Registry","date":"2018-07-29T08:21:22.000Z","_content":"\n## 原因\n\n最近換了新電腦，在家工作時發生了 npm install Error;  \n錯誤訊息如下，明顯看到 npm 嚐試去連線 `http://npm.mycompany.io`  \nhttp://npm.mycompany.io 是公司內部的私有網路;  \n印象中沒有特別設定，可能是公司內的預設安裝設定的。\n\n```shell=\nPS D:\\Repo\\Marsen\\Marsen.Node.Express> npm i -g gulp\nnpm ERR! code ETIMEDOUT\nnpm ERR! errno ETIMEDOUT\nnpm ERR! network request to http://npm.mycompany.io/gulp failed, reason: connect ETIMEDOUT ***.***.***.***:80\nnpm ERR! network This is a problem related to network connectivity.\nnpm ERR! network In most cases you are behind a proxy or have bad network settings.\nnpm ERR! network\nnpm ERR! network If you are behind a proxy, please make sure that the\nnpm ERR! network 'proxy' config is set properly.  See: 'npm help config'\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\Mark Lin\\AppData\\Roaming\\npm-cache\\_logs\\2018-07-29T07_17_25_263Z-debug.log\n```\n## 解法\n\n一個簡單的方法是 VPN 回公司內部網路; \n另一個方法是重新設定，\n\n```shell=\n> npm get registry\nhttp://npm.mycompany.io\n> npm set registry https://registry.npmjs.org\n> npm get registry\nhttps://registry.npmjs.org\n```\n\n(fin)","source":"_posts/2018/node_set_registry.md","raw":"---\ntitle: \"[實作筆記]設定 NPM Registry\"\ndate: 2018/07/29 16:21:22\ntag:\n  - Node.js\n  - Gulpjs   \n---\n\n## 原因\n\n最近換了新電腦，在家工作時發生了 npm install Error;  \n錯誤訊息如下，明顯看到 npm 嚐試去連線 `http://npm.mycompany.io`  \nhttp://npm.mycompany.io 是公司內部的私有網路;  \n印象中沒有特別設定，可能是公司內的預設安裝設定的。\n\n```shell=\nPS D:\\Repo\\Marsen\\Marsen.Node.Express> npm i -g gulp\nnpm ERR! code ETIMEDOUT\nnpm ERR! errno ETIMEDOUT\nnpm ERR! network request to http://npm.mycompany.io/gulp failed, reason: connect ETIMEDOUT ***.***.***.***:80\nnpm ERR! network This is a problem related to network connectivity.\nnpm ERR! network In most cases you are behind a proxy or have bad network settings.\nnpm ERR! network\nnpm ERR! network If you are behind a proxy, please make sure that the\nnpm ERR! network 'proxy' config is set properly.  See: 'npm help config'\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\Mark Lin\\AppData\\Roaming\\npm-cache\\_logs\\2018-07-29T07_17_25_263Z-debug.log\n```\n## 解法\n\n一個簡單的方法是 VPN 回公司內部網路; \n另一個方法是重新設定，\n\n```shell=\n> npm get registry\nhttp://npm.mycompany.io\n> npm set registry https://registry.npmjs.org\n> npm get registry\nhttps://registry.npmjs.org\n```\n\n(fin)","slug":"2018/node_set_registry","published":1,"updated":"2019-06-10T14:43:28.934Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkq001yb0vxn9415my3","content":"<h2 id=\"原因\"><a href=\"#原因\" class=\"headerlink\" title=\"原因\"></a>原因</h2><p>最近換了新電腦，在家工作時發生了 npm install Error;<br>錯誤訊息如下，明顯看到 npm 嚐試去連線 <code>http://npm.mycompany.io</code><br><a href=\"http://npm.mycompany.io\" target=\"_blank\" rel=\"noopener\">http://npm.mycompany.io</a> 是公司內部的私有網路;<br>印象中沒有特別設定，可能是公司內的預設安裝設定的。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PS D:\\Repo\\Marsen\\Marsen.Node.Express&gt; npm i -g gulp</span><br><span class=\"line\">npm ERR! code ETIMEDOUT</span><br><span class=\"line\">npm ERR! errno ETIMEDOUT</span><br><span class=\"line\">npm ERR! network request to http://npm.mycompany.io/gulp failed, reason: connect ETIMEDOUT ***.***.***.***:80</span><br><span class=\"line\">npm ERR! network This is a problem related to network connectivity.</span><br><span class=\"line\">npm ERR! network In most cases you are behind a proxy or have bad network settings.</span><br><span class=\"line\">npm ERR! network</span><br><span class=\"line\">npm ERR! network If you are behind a proxy, please make sure that the</span><br><span class=\"line\">npm ERR! network 'proxy' config is set properly.  See: 'npm help config'</span><br><span class=\"line\"></span><br><span class=\"line\">npm ERR! A complete log of this run can be found in:</span><br><span class=\"line\">npm ERR!     C:\\Users\\Mark Lin\\AppData\\Roaming\\npm-cache\\_logs\\2018-07-29T07_17_25_263Z-debug.log</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"解法\"><a href=\"#解法\" class=\"headerlink\" title=\"解法\"></a>解法</h2><p>一個簡單的方法是 VPN 回公司內部網路;<br>另一個方法是重新設定，</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> npm get registry</span></span><br><span class=\"line\">http://npm.mycompany.io</span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> npm <span class=\"built_in\">set</span> registry https://registry.npmjs.org</span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> npm get registry</span></span><br><span class=\"line\">https://registry.npmjs.org</span><br></pre></td></tr></table></figure>\n\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"原因\"><a href=\"#原因\" class=\"headerlink\" title=\"原因\"></a>原因</h2><p>最近換了新電腦，在家工作時發生了 npm install Error;<br>錯誤訊息如下，明顯看到 npm 嚐試去連線 <code>http://npm.mycompany.io</code><br><a href=\"http://npm.mycompany.io\" target=\"_blank\" rel=\"noopener\">http://npm.mycompany.io</a> 是公司內部的私有網路;<br>印象中沒有特別設定，可能是公司內的預設安裝設定的。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PS D:\\Repo\\Marsen\\Marsen.Node.Express&gt; npm i -g gulp</span><br><span class=\"line\">npm ERR! code ETIMEDOUT</span><br><span class=\"line\">npm ERR! errno ETIMEDOUT</span><br><span class=\"line\">npm ERR! network request to http://npm.mycompany.io/gulp failed, reason: connect ETIMEDOUT ***.***.***.***:80</span><br><span class=\"line\">npm ERR! network This is a problem related to network connectivity.</span><br><span class=\"line\">npm ERR! network In most cases you are behind a proxy or have bad network settings.</span><br><span class=\"line\">npm ERR! network</span><br><span class=\"line\">npm ERR! network If you are behind a proxy, please make sure that the</span><br><span class=\"line\">npm ERR! network 'proxy' config is set properly.  See: 'npm help config'</span><br><span class=\"line\"></span><br><span class=\"line\">npm ERR! A complete log of this run can be found in:</span><br><span class=\"line\">npm ERR!     C:\\Users\\Mark Lin\\AppData\\Roaming\\npm-cache\\_logs\\2018-07-29T07_17_25_263Z-debug.log</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"解法\"><a href=\"#解法\" class=\"headerlink\" title=\"解法\"></a>解法</h2><p>一個簡單的方法是 VPN 回公司內部網路;<br>另一個方法是重新設定，</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> npm get registry</span></span><br><span class=\"line\">http://npm.mycompany.io</span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> npm <span class=\"built_in\">set</span> registry https://registry.npmjs.org</span></span><br><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> npm get registry</span></span><br><span class=\"line\">https://registry.npmjs.org</span><br></pre></td></tr></table></figure>\n\n<p>(fin)</p>\n"},{"title":"[實作筆記]用 Command Line 取得資料夾內包含特定檔案的子資料夾","date":"2018-11-23T05:43:00.000Z","_content":"\n## 情境\n- OS : Windows 10\n\n在一個巨型的 Git Repo 當中，底下依專案分了許多專案資料夾，  \n參考下圖。  \n![擁有多個專案的Repo](https://i.imgur.com/IabNBFa.jpg)\n\n而今天發生了一件事情，我需要更新某幾個子專案的 POCO 的 .tt 檔，  \n這裡不說明 POCO 是什麼；簡單的說，有的專案會有 .tt 檔，  \n有的專案會沒有，而每個專案的資料夾結構又不一定相同，  \n所以要找出這些 .tt 是有點麻煩的，另外我的目標並不是 .tt 檔，  \n而是所在的專案，再用 IDE 開啟進行修改，  \n為此我需要列出**專案資料夾**  \n\n## 目標 \n\n用 Command Line 取得Repo資料夾內包含.tt檔案的專案資料夾名稱  \n\n## 作法\n\n```shell\nD:\\Repo\\Taiwan\\******.******.Repofolder\nλ Get-ChildItem -Path .\\ -Filter *.tt -Recurse -File -Name | ForEach-Object { $_.Split('\\')[0] } | Group {$_} | select name\n```\n```\nName  \n----  \nFacebookShop  \nLineOrderFinish  \nLineOrderNotify  \nMail  \nNMQMonitor  \nOrderMonitor  \nSyncImageToOthers\n```\n\n## 小結\n總覺得寫得有點又臭又長，希望有更好的作法可以提供給我，\n不限於 `powershell` 就算是 Linux 的語法也可以讓我參考一下。\n\n(fin)","source":"_posts/2018/powershell_found_subfolde_by_files_in_folder.md","raw":"---\ntitle: \"[實作筆記]用 Command Line 取得資料夾內包含特定檔案的子資料夾\"\ndate: 2018/11/23 13:43:00\ntag:\n    - PowerShell\n---\n\n## 情境\n- OS : Windows 10\n\n在一個巨型的 Git Repo 當中，底下依專案分了許多專案資料夾，  \n參考下圖。  \n![擁有多個專案的Repo](https://i.imgur.com/IabNBFa.jpg)\n\n而今天發生了一件事情，我需要更新某幾個子專案的 POCO 的 .tt 檔，  \n這裡不說明 POCO 是什麼；簡單的說，有的專案會有 .tt 檔，  \n有的專案會沒有，而每個專案的資料夾結構又不一定相同，  \n所以要找出這些 .tt 是有點麻煩的，另外我的目標並不是 .tt 檔，  \n而是所在的專案，再用 IDE 開啟進行修改，  \n為此我需要列出**專案資料夾**  \n\n## 目標 \n\n用 Command Line 取得Repo資料夾內包含.tt檔案的專案資料夾名稱  \n\n## 作法\n\n```shell\nD:\\Repo\\Taiwan\\******.******.Repofolder\nλ Get-ChildItem -Path .\\ -Filter *.tt -Recurse -File -Name | ForEach-Object { $_.Split('\\')[0] } | Group {$_} | select name\n```\n```\nName  \n----  \nFacebookShop  \nLineOrderFinish  \nLineOrderNotify  \nMail  \nNMQMonitor  \nOrderMonitor  \nSyncImageToOthers\n```\n\n## 小結\n總覺得寫得有點又臭又長，希望有更好的作法可以提供給我，\n不限於 `powershell` 就算是 Linux 的語法也可以讓我參考一下。\n\n(fin)","slug":"2018/powershell_found_subfolde_by_files_in_folder","published":1,"updated":"2019-08-25T19:36:06.366Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wks001zb0vx8dc2zrec","content":"<h2 id=\"情境\"><a href=\"#情境\" class=\"headerlink\" title=\"情境\"></a>情境</h2><ul>\n<li>OS : Windows 10</li>\n</ul>\n<p>在一個巨型的 Git Repo 當中，底下依專案分了許多專案資料夾，<br>參考下圖。<br><img src=\"https://i.imgur.com/IabNBFa.jpg\" alt=\"擁有多個專案的Repo\"></p>\n<p>而今天發生了一件事情，我需要更新某幾個子專案的 POCO 的 .tt 檔，<br>這裡不說明 POCO 是什麼；簡單的說，有的專案會有 .tt 檔，<br>有的專案會沒有，而每個專案的資料夾結構又不一定相同，<br>所以要找出這些 .tt 是有點麻煩的，另外我的目標並不是 .tt 檔，<br>而是所在的專案，再用 IDE 開啟進行修改，<br>為此我需要列出<strong>專案資料夾</strong>  </p>\n<h2 id=\"目標\"><a href=\"#目標\" class=\"headerlink\" title=\"目標\"></a>目標</h2><p>用 Command Line 取得Repo資料夾內包含.tt檔案的專案資料夾名稱  </p>\n<h2 id=\"作法\"><a href=\"#作法\" class=\"headerlink\" title=\"作法\"></a>作法</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">D:\\Repo\\Taiwan\\******.******.Repofolder</span><br><span class=\"line\">λ Get-ChildItem -Path .\\ -Filter *.tt -Recurse -File -Name | ForEach-Object &#123; $_.Split('\\')[0] &#125; | Group &#123;$_&#125; | select name</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Name  </span><br><span class=\"line\">----  </span><br><span class=\"line\">FacebookShop  </span><br><span class=\"line\">LineOrderFinish  </span><br><span class=\"line\">LineOrderNotify  </span><br><span class=\"line\">Mail  </span><br><span class=\"line\">NMQMonitor  </span><br><span class=\"line\">OrderMonitor  </span><br><span class=\"line\">SyncImageToOthers</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"小結\"><a href=\"#小結\" class=\"headerlink\" title=\"小結\"></a>小結</h2><p>總覺得寫得有點又臭又長，希望有更好的作法可以提供給我，<br>不限於 <code>powershell</code> 就算是 Linux 的語法也可以讓我參考一下。</p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"情境\"><a href=\"#情境\" class=\"headerlink\" title=\"情境\"></a>情境</h2><ul>\n<li>OS : Windows 10</li>\n</ul>\n<p>在一個巨型的 Git Repo 當中，底下依專案分了許多專案資料夾，<br>參考下圖。<br><img src=\"https://i.imgur.com/IabNBFa.jpg\" alt=\"擁有多個專案的Repo\"></p>\n<p>而今天發生了一件事情，我需要更新某幾個子專案的 POCO 的 .tt 檔，<br>這裡不說明 POCO 是什麼；簡單的說，有的專案會有 .tt 檔，<br>有的專案會沒有，而每個專案的資料夾結構又不一定相同，<br>所以要找出這些 .tt 是有點麻煩的，另外我的目標並不是 .tt 檔，<br>而是所在的專案，再用 IDE 開啟進行修改，<br>為此我需要列出<strong>專案資料夾</strong>  </p>\n<h2 id=\"目標\"><a href=\"#目標\" class=\"headerlink\" title=\"目標\"></a>目標</h2><p>用 Command Line 取得Repo資料夾內包含.tt檔案的專案資料夾名稱  </p>\n<h2 id=\"作法\"><a href=\"#作法\" class=\"headerlink\" title=\"作法\"></a>作法</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">D:\\Repo\\Taiwan\\******.******.Repofolder</span><br><span class=\"line\">λ Get-ChildItem -Path .\\ -Filter *.tt -Recurse -File -Name | ForEach-Object &#123; $_.Split('\\')[0] &#125; | Group &#123;$_&#125; | select name</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Name  </span><br><span class=\"line\">----  </span><br><span class=\"line\">FacebookShop  </span><br><span class=\"line\">LineOrderFinish  </span><br><span class=\"line\">LineOrderNotify  </span><br><span class=\"line\">Mail  </span><br><span class=\"line\">NMQMonitor  </span><br><span class=\"line\">OrderMonitor  </span><br><span class=\"line\">SyncImageToOthers</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"小結\"><a href=\"#小結\" class=\"headerlink\" title=\"小結\"></a>小結</h2><p>總覺得寫得有點又臭又長，希望有更好的作法可以提供給我，<br>不限於 <code>powershell</code> 就算是 Linux 的語法也可以讓我參考一下。</p>\n<p>(fin)</p>\n"},{"title":"[活動筆記]蝦皮購物新加坡研發團隊技術分享會","date":"2018-03-15T09:00:12.000Z","_content":"\n## 應該不用知道的事\n1. 雖然是「技術分享會」實際上在徵才\n2. 不過還是有半場的技術分享\n3. 91app 至少去了10 個人(含前員工) \n4. 這篇文章對你應該沒有幫助\n\n## 有關蝦皮\n- 屬於[Sea 集團](http://www.seagroup.com/home)的一部份\n- 東南亞多國服務(新加坡、泰國、馬來西亞、印度、台灣、越南…)\n- 63e Request / Day\n- 8G IO / Mins\n\n## 選擇\n- Native App / Web / Hybird / RN ?\n- Clound / Self machine ?\n- Php/ Nodejs / RoR / Django ?\n- Apache / Ngnix ?\n- C ++ / Java / GoLang\n- Memcahed / Redis ?\n- SPA / MPA ?\n- Mesos / Kubernate ?\n\n## Qiz & Ans\n\n##### 1\n> 用戶下單的時候, 先收錢還是先扣庫存?\n> 扣掉最後一件庫存後, 收錢失敗怎麼辦？\n> 你已經把「賣完」訊息發給了賣家, 怎麼辦？\n\n##### 2\n> 計算金額用整數還是浮點數？(浮點數不準)\n\n##### 3\n> Android 一共有幾種螢幕的 DPI ?\n> Android WebView 和 Chrome 的 Webkit 有何不同 ?\n\n##### 4\n> Web Service 花最多時間在處理什麼 ? \n> 如何壓搾最高的吞吐量 ?\n> IO, USE async\n\n##### 5\n> 什麼樣的情境適合增加伺服器數量來增進效能?\n> stateless\n> 那有狀態怎麼辦 ? \n\n##### 6\n> load balancer 效能到達瓶頸怎麼辦 ?\n> IP\n\n##### 7\n> 一天 25TB 的 Log 數量,怎麼不會查到天荒地老\n\n##### 8\n> Cache & 超賣問題\n> 什麼時候要清 Cache ?\n\n##### 9\n> Database Master 與 Slave 哪個壓力大 ?(Slave)\n> 增加 index 的代價為何 ?(Space)\n> Table 多大要 shard ?\n> Database 多大要分庫 ?\n> 分庫如何作 transaction ?\n\n## 實踐\n\n1. Prototype 簡單 Production 困難 (邊際效應/熵)\n2. 可靠:言出必行,作不到也要早點說(知難行易)\n3. Redis 的資料超過 64G 就無法用 [bgsave](http://redisdoc.com/server/bgsave.html) 有效存檔\n4. 在 Prodction 千萬別用 Redis 的 [key](https://redis.io/commands/keys) 指令\n5. 衡量的基準(benchmark)為何？\n6. 不要對邏輯下command(不要寫前因後果)\n\t- Dont command How\n\t- Command Why\n7. 道\n    - Collect your dots first\n    - Connecting the dots\n\n\n## 持久發展的研發團隊\n- knowledge\n- 保持開放\n- 尊重事實\n- 信任\n- 可靠\n- 找到根本原因(root cause)\n- 分析 修復 記錄\n- Docs\n\t- connection docs\n\t- collection docs\n\n## 測試\n- 白箱測試\n- 黑箱測試\n\n\n## 其它\n- Hypergraph\n- Tech Stack\n- Roles\n\t- contries PM\n\t- fucntion PM\n- Scurm 是跑給老闆看的(!!?)\n- 馬來西亞不用小豬ICON(各地風俗民情不同)\n\n## 參考\n- https://careers.shopee.com\n\n(fin)","source":"_posts/2018/shopee_tech_sharing.md","raw":"---\ntitle: \"[活動筆記]蝦皮購物新加坡研發團隊技術分享會\"\ndate: 2018/03/15 17:00:12\n---\n\n## 應該不用知道的事\n1. 雖然是「技術分享會」實際上在徵才\n2. 不過還是有半場的技術分享\n3. 91app 至少去了10 個人(含前員工) \n4. 這篇文章對你應該沒有幫助\n\n## 有關蝦皮\n- 屬於[Sea 集團](http://www.seagroup.com/home)的一部份\n- 東南亞多國服務(新加坡、泰國、馬來西亞、印度、台灣、越南…)\n- 63e Request / Day\n- 8G IO / Mins\n\n## 選擇\n- Native App / Web / Hybird / RN ?\n- Clound / Self machine ?\n- Php/ Nodejs / RoR / Django ?\n- Apache / Ngnix ?\n- C ++ / Java / GoLang\n- Memcahed / Redis ?\n- SPA / MPA ?\n- Mesos / Kubernate ?\n\n## Qiz & Ans\n\n##### 1\n> 用戶下單的時候, 先收錢還是先扣庫存?\n> 扣掉最後一件庫存後, 收錢失敗怎麼辦？\n> 你已經把「賣完」訊息發給了賣家, 怎麼辦？\n\n##### 2\n> 計算金額用整數還是浮點數？(浮點數不準)\n\n##### 3\n> Android 一共有幾種螢幕的 DPI ?\n> Android WebView 和 Chrome 的 Webkit 有何不同 ?\n\n##### 4\n> Web Service 花最多時間在處理什麼 ? \n> 如何壓搾最高的吞吐量 ?\n> IO, USE async\n\n##### 5\n> 什麼樣的情境適合增加伺服器數量來增進效能?\n> stateless\n> 那有狀態怎麼辦 ? \n\n##### 6\n> load balancer 效能到達瓶頸怎麼辦 ?\n> IP\n\n##### 7\n> 一天 25TB 的 Log 數量,怎麼不會查到天荒地老\n\n##### 8\n> Cache & 超賣問題\n> 什麼時候要清 Cache ?\n\n##### 9\n> Database Master 與 Slave 哪個壓力大 ?(Slave)\n> 增加 index 的代價為何 ?(Space)\n> Table 多大要 shard ?\n> Database 多大要分庫 ?\n> 分庫如何作 transaction ?\n\n## 實踐\n\n1. Prototype 簡單 Production 困難 (邊際效應/熵)\n2. 可靠:言出必行,作不到也要早點說(知難行易)\n3. Redis 的資料超過 64G 就無法用 [bgsave](http://redisdoc.com/server/bgsave.html) 有效存檔\n4. 在 Prodction 千萬別用 Redis 的 [key](https://redis.io/commands/keys) 指令\n5. 衡量的基準(benchmark)為何？\n6. 不要對邏輯下command(不要寫前因後果)\n\t- Dont command How\n\t- Command Why\n7. 道\n    - Collect your dots first\n    - Connecting the dots\n\n\n## 持久發展的研發團隊\n- knowledge\n- 保持開放\n- 尊重事實\n- 信任\n- 可靠\n- 找到根本原因(root cause)\n- 分析 修復 記錄\n- Docs\n\t- connection docs\n\t- collection docs\n\n## 測試\n- 白箱測試\n- 黑箱測試\n\n\n## 其它\n- Hypergraph\n- Tech Stack\n- Roles\n\t- contries PM\n\t- fucntion PM\n- Scurm 是跑給老闆看的(!!?)\n- 馬來西亞不用小豬ICON(各地風俗民情不同)\n\n## 參考\n- https://careers.shopee.com\n\n(fin)","slug":"2018/shopee_tech_sharing","published":1,"updated":"2018-04-17T03:12:39.593Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkt0020b0vxzf3n2ac9","content":"<h2 id=\"應該不用知道的事\"><a href=\"#應該不用知道的事\" class=\"headerlink\" title=\"應該不用知道的事\"></a>應該不用知道的事</h2><ol>\n<li>雖然是「技術分享會」實際上在徵才</li>\n<li>不過還是有半場的技術分享</li>\n<li>91app 至少去了10 個人(含前員工) </li>\n<li>這篇文章對你應該沒有幫助</li>\n</ol>\n<h2 id=\"有關蝦皮\"><a href=\"#有關蝦皮\" class=\"headerlink\" title=\"有關蝦皮\"></a>有關蝦皮</h2><ul>\n<li>屬於<a href=\"http://www.seagroup.com/home\" target=\"_blank\" rel=\"noopener\">Sea 集團</a>的一部份</li>\n<li>東南亞多國服務(新加坡、泰國、馬來西亞、印度、台灣、越南…)</li>\n<li>63e Request / Day</li>\n<li>8G IO / Mins</li>\n</ul>\n<h2 id=\"選擇\"><a href=\"#選擇\" class=\"headerlink\" title=\"選擇\"></a>選擇</h2><ul>\n<li>Native App / Web / Hybird / RN ?</li>\n<li>Clound / Self machine ?</li>\n<li>Php/ Nodejs / RoR / Django ?</li>\n<li>Apache / Ngnix ?</li>\n<li>C ++ / Java / GoLang</li>\n<li>Memcahed / Redis ?</li>\n<li>SPA / MPA ?</li>\n<li>Mesos / Kubernate ?</li>\n</ul>\n<h2 id=\"Qiz-amp-Ans\"><a href=\"#Qiz-amp-Ans\" class=\"headerlink\" title=\"Qiz &amp; Ans\"></a>Qiz &amp; Ans</h2><h5 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h5><blockquote>\n<p>用戶下單的時候, 先收錢還是先扣庫存?<br>扣掉最後一件庫存後, 收錢失敗怎麼辦？<br>你已經把「賣完」訊息發給了賣家, 怎麼辦？</p>\n</blockquote>\n<h5 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h5><blockquote>\n<p>計算金額用整數還是浮點數？(浮點數不準)</p>\n</blockquote>\n<h5 id=\"3\"><a href=\"#3\" class=\"headerlink\" title=\"3\"></a>3</h5><blockquote>\n<p>Android 一共有幾種螢幕的 DPI ?<br>Android WebView 和 Chrome 的 Webkit 有何不同 ?</p>\n</blockquote>\n<h5 id=\"4\"><a href=\"#4\" class=\"headerlink\" title=\"4\"></a>4</h5><blockquote>\n<p>Web Service 花最多時間在處理什麼 ?<br>如何壓搾最高的吞吐量 ?<br>IO, USE async</p>\n</blockquote>\n<h5 id=\"5\"><a href=\"#5\" class=\"headerlink\" title=\"5\"></a>5</h5><blockquote>\n<p>什麼樣的情境適合增加伺服器數量來增進效能?<br>stateless<br>那有狀態怎麼辦 ? </p>\n</blockquote>\n<h5 id=\"6\"><a href=\"#6\" class=\"headerlink\" title=\"6\"></a>6</h5><blockquote>\n<p>load balancer 效能到達瓶頸怎麼辦 ?<br>IP</p>\n</blockquote>\n<h5 id=\"7\"><a href=\"#7\" class=\"headerlink\" title=\"7\"></a>7</h5><blockquote>\n<p>一天 25TB 的 Log 數量,怎麼不會查到天荒地老</p>\n</blockquote>\n<h5 id=\"8\"><a href=\"#8\" class=\"headerlink\" title=\"8\"></a>8</h5><blockquote>\n<p>Cache &amp; 超賣問題<br>什麼時候要清 Cache ?</p>\n</blockquote>\n<h5 id=\"9\"><a href=\"#9\" class=\"headerlink\" title=\"9\"></a>9</h5><blockquote>\n<p>Database Master 與 Slave 哪個壓力大 ?(Slave)<br>增加 index 的代價為何 ?(Space)<br>Table 多大要 shard ?<br>Database 多大要分庫 ?<br>分庫如何作 transaction ?</p>\n</blockquote>\n<h2 id=\"實踐\"><a href=\"#實踐\" class=\"headerlink\" title=\"實踐\"></a>實踐</h2><ol>\n<li>Prototype 簡單 Production 困難 (邊際效應/熵)</li>\n<li>可靠:言出必行,作不到也要早點說(知難行易)</li>\n<li>Redis 的資料超過 64G 就無法用 <a href=\"http://redisdoc.com/server/bgsave.html\" target=\"_blank\" rel=\"noopener\">bgsave</a> 有效存檔</li>\n<li>在 Prodction 千萬別用 Redis 的 <a href=\"https://redis.io/commands/keys\" target=\"_blank\" rel=\"noopener\">key</a> 指令</li>\n<li>衡量的基準(benchmark)為何？</li>\n<li>不要對邏輯下command(不要寫前因後果)<ul>\n<li>Dont command How</li>\n<li>Command Why</li>\n</ul>\n</li>\n<li>道<ul>\n<li>Collect your dots first</li>\n<li>Connecting the dots</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"持久發展的研發團隊\"><a href=\"#持久發展的研發團隊\" class=\"headerlink\" title=\"持久發展的研發團隊\"></a>持久發展的研發團隊</h2><ul>\n<li>knowledge</li>\n<li>保持開放</li>\n<li>尊重事實</li>\n<li>信任</li>\n<li>可靠</li>\n<li>找到根本原因(root cause)</li>\n<li>分析 修復 記錄</li>\n<li>Docs<ul>\n<li>connection docs</li>\n<li>collection docs</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"測試\"><a href=\"#測試\" class=\"headerlink\" title=\"測試\"></a>測試</h2><ul>\n<li>白箱測試</li>\n<li>黑箱測試</li>\n</ul>\n<h2 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h2><ul>\n<li>Hypergraph</li>\n<li>Tech Stack</li>\n<li>Roles<ul>\n<li>contries PM</li>\n<li>fucntion PM</li>\n</ul>\n</li>\n<li>Scurm 是跑給老闆看的(!!?)</li>\n<li>馬來西亞不用小豬ICON(各地風俗民情不同)</li>\n</ul>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://careers.shopee.com\" target=\"_blank\" rel=\"noopener\">https://careers.shopee.com</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"應該不用知道的事\"><a href=\"#應該不用知道的事\" class=\"headerlink\" title=\"應該不用知道的事\"></a>應該不用知道的事</h2><ol>\n<li>雖然是「技術分享會」實際上在徵才</li>\n<li>不過還是有半場的技術分享</li>\n<li>91app 至少去了10 個人(含前員工) </li>\n<li>這篇文章對你應該沒有幫助</li>\n</ol>\n<h2 id=\"有關蝦皮\"><a href=\"#有關蝦皮\" class=\"headerlink\" title=\"有關蝦皮\"></a>有關蝦皮</h2><ul>\n<li>屬於<a href=\"http://www.seagroup.com/home\" target=\"_blank\" rel=\"noopener\">Sea 集團</a>的一部份</li>\n<li>東南亞多國服務(新加坡、泰國、馬來西亞、印度、台灣、越南…)</li>\n<li>63e Request / Day</li>\n<li>8G IO / Mins</li>\n</ul>\n<h2 id=\"選擇\"><a href=\"#選擇\" class=\"headerlink\" title=\"選擇\"></a>選擇</h2><ul>\n<li>Native App / Web / Hybird / RN ?</li>\n<li>Clound / Self machine ?</li>\n<li>Php/ Nodejs / RoR / Django ?</li>\n<li>Apache / Ngnix ?</li>\n<li>C ++ / Java / GoLang</li>\n<li>Memcahed / Redis ?</li>\n<li>SPA / MPA ?</li>\n<li>Mesos / Kubernate ?</li>\n</ul>\n<h2 id=\"Qiz-amp-Ans\"><a href=\"#Qiz-amp-Ans\" class=\"headerlink\" title=\"Qiz &amp; Ans\"></a>Qiz &amp; Ans</h2><h5 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h5><blockquote>\n<p>用戶下單的時候, 先收錢還是先扣庫存?<br>扣掉最後一件庫存後, 收錢失敗怎麼辦？<br>你已經把「賣完」訊息發給了賣家, 怎麼辦？</p>\n</blockquote>\n<h5 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h5><blockquote>\n<p>計算金額用整數還是浮點數？(浮點數不準)</p>\n</blockquote>\n<h5 id=\"3\"><a href=\"#3\" class=\"headerlink\" title=\"3\"></a>3</h5><blockquote>\n<p>Android 一共有幾種螢幕的 DPI ?<br>Android WebView 和 Chrome 的 Webkit 有何不同 ?</p>\n</blockquote>\n<h5 id=\"4\"><a href=\"#4\" class=\"headerlink\" title=\"4\"></a>4</h5><blockquote>\n<p>Web Service 花最多時間在處理什麼 ?<br>如何壓搾最高的吞吐量 ?<br>IO, USE async</p>\n</blockquote>\n<h5 id=\"5\"><a href=\"#5\" class=\"headerlink\" title=\"5\"></a>5</h5><blockquote>\n<p>什麼樣的情境適合增加伺服器數量來增進效能?<br>stateless<br>那有狀態怎麼辦 ? </p>\n</blockquote>\n<h5 id=\"6\"><a href=\"#6\" class=\"headerlink\" title=\"6\"></a>6</h5><blockquote>\n<p>load balancer 效能到達瓶頸怎麼辦 ?<br>IP</p>\n</blockquote>\n<h5 id=\"7\"><a href=\"#7\" class=\"headerlink\" title=\"7\"></a>7</h5><blockquote>\n<p>一天 25TB 的 Log 數量,怎麼不會查到天荒地老</p>\n</blockquote>\n<h5 id=\"8\"><a href=\"#8\" class=\"headerlink\" title=\"8\"></a>8</h5><blockquote>\n<p>Cache &amp; 超賣問題<br>什麼時候要清 Cache ?</p>\n</blockquote>\n<h5 id=\"9\"><a href=\"#9\" class=\"headerlink\" title=\"9\"></a>9</h5><blockquote>\n<p>Database Master 與 Slave 哪個壓力大 ?(Slave)<br>增加 index 的代價為何 ?(Space)<br>Table 多大要 shard ?<br>Database 多大要分庫 ?<br>分庫如何作 transaction ?</p>\n</blockquote>\n<h2 id=\"實踐\"><a href=\"#實踐\" class=\"headerlink\" title=\"實踐\"></a>實踐</h2><ol>\n<li>Prototype 簡單 Production 困難 (邊際效應/熵)</li>\n<li>可靠:言出必行,作不到也要早點說(知難行易)</li>\n<li>Redis 的資料超過 64G 就無法用 <a href=\"http://redisdoc.com/server/bgsave.html\" target=\"_blank\" rel=\"noopener\">bgsave</a> 有效存檔</li>\n<li>在 Prodction 千萬別用 Redis 的 <a href=\"https://redis.io/commands/keys\" target=\"_blank\" rel=\"noopener\">key</a> 指令</li>\n<li>衡量的基準(benchmark)為何？</li>\n<li>不要對邏輯下command(不要寫前因後果)<ul>\n<li>Dont command How</li>\n<li>Command Why</li>\n</ul>\n</li>\n<li>道<ul>\n<li>Collect your dots first</li>\n<li>Connecting the dots</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"持久發展的研發團隊\"><a href=\"#持久發展的研發團隊\" class=\"headerlink\" title=\"持久發展的研發團隊\"></a>持久發展的研發團隊</h2><ul>\n<li>knowledge</li>\n<li>保持開放</li>\n<li>尊重事實</li>\n<li>信任</li>\n<li>可靠</li>\n<li>找到根本原因(root cause)</li>\n<li>分析 修復 記錄</li>\n<li>Docs<ul>\n<li>connection docs</li>\n<li>collection docs</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"測試\"><a href=\"#測試\" class=\"headerlink\" title=\"測試\"></a>測試</h2><ul>\n<li>白箱測試</li>\n<li>黑箱測試</li>\n</ul>\n<h2 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h2><ul>\n<li>Hypergraph</li>\n<li>Tech Stack</li>\n<li>Roles<ul>\n<li>contries PM</li>\n<li>fucntion PM</li>\n</ul>\n</li>\n<li>Scurm 是跑給老闆看的(!!?)</li>\n<li>馬來西亞不用小豬ICON(各地風俗民情不同)</li>\n</ul>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://careers.shopee.com\" target=\"_blank\" rel=\"noopener\">https://careers.shopee.com</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[實作筆記]用 Restclient GenCode","date":"2018-12-30T03:58:43.000Z","_content":"\n[REST Client](https://github.com/Huachao/vscode-restclient) 是一套 Visual Studio Code 的套件。\n可以讓你不離開編輯器(Visual Studio Code)的情況下，發送一些 Request。\n使用方法可以參考最後的聯結，本文僅介紹 Code Gen 的功能。\n\n## 作法\n\n### Step 1\n\n取得 Request 連結資訊，這個部份可以直接從瀏覽器取得\n\n大致上如下:\n```\nGET https://***.****.com.my/Invoice/DownloadMyInvoicePdf?shopId=44&tradesOrderGroupCode=MG180929L00002\nCookie: ai_user=zazJ/|2018-04-11T10:01:21.161Z; _ga=GA1.3.1260482009.1526374223; __zlcmid=p9hkxHsXzC5Ka5; _ym_uid=15450340861049673384; _ym_d=1545034086; _gid=GA1.3.233068902.1545616884; _fbp=fb.2.1545992230107.2040829768; .AspNet.ApplicationCookie=1ly--ntvPSpcJIIDvk2PBFfuyy744Wvwx4ezT0c0BEl1t4Vw3ahOOMwSczzBezkE0dIPWBwQt12KPN8IrFj8eV2ZgfO6HYKuiw7cUNgS37Gr1FOH28o-l5EZuOYGd4uuqRduaBBPbZrJop5nUso1oPS4fOs-mFO0I17QWHtfB_BI2Lzd6rQQRl6_IevI_EPbsh0EDahqvR4wvF2QFMH2ycECSzR4pgEmm3hcQRJ9COWoc-DtZjxxa11yfghghmReLbe1cYtx1G7ST9zakc_qGmnMV0IyZoRFqEmHrzEb1b8fDO35UkxsiP2_mzGY-Oy4e3fV12Q0N7eGVblEkJYZkrtXADP8h9iGToPwAUI5rbnX2o32Z0_4zbg7x_GSF_HWsW22SWlkRCAZEKhvhEB9Qk56JPSRSJwqmpGDzm8a807-6lRP-JPOo_F43eYLgztH6k6imlUseUyDyYBTwJeIgF5gdyLKMUSivKs-SOivyPofDiLMf0HItB9IgzRg-M94FjZROtOWeGXOYW4wqBMyABTelYgjfjgNtoW05SN7npnSYKG1JZeRwrT5KgaRXJy7KHkguyN8vhoYTjSX0cG4VaOrJqgGY-jsQov1lJvZTok_YAkiDRbOhDu3ebdJdi313sGSkUjjkW73Fn9ztmpexLN3OxfmhUlDu0MHhEqgLJMg8koLWBJjpmVC0YdNPCXNofGgNECkiWCZHTZw8u9jnLhtP686CG_JTQFE33YTdh3mJOp7KwFdFvQefEX5Jb2vUXmfFXMBP3MhD5civiPg4Q0WLU4; ai_session=XYYeY|1545989192862|1545993911682\n```\n\n### Step 2\n\nCtrl+P，輸入 `>`，找到 `Rest Client: Generate Code Snippet` \n選擇你的語言。\n\n![](/images/2018/restclient.gif)\n\n\n## 參考\n- [REST Client: 官方載點](https://marketplace.visualstudio.com/items?itemName=humao.rest-client)\n- [REST Client: Github 專案](https://github.com/Huachao/vscode-restclient)\n- [VSCode 實用套件： REST Client](https://blog.rex-tsou.com/2017/10/vscode-%E5%AF%A6%E7%94%A8%E5%A5%97%E4%BB%B6-rest-client/)\n\n(fin)","source":"_posts/2018/restclient_gencode.md","raw":"---\ntitle: \"[實作筆記]用 Restclient GenCode\"\ndate: 2018/12/30 11:58:43\n---\n\n[REST Client](https://github.com/Huachao/vscode-restclient) 是一套 Visual Studio Code 的套件。\n可以讓你不離開編輯器(Visual Studio Code)的情況下，發送一些 Request。\n使用方法可以參考最後的聯結，本文僅介紹 Code Gen 的功能。\n\n## 作法\n\n### Step 1\n\n取得 Request 連結資訊，這個部份可以直接從瀏覽器取得\n\n大致上如下:\n```\nGET https://***.****.com.my/Invoice/DownloadMyInvoicePdf?shopId=44&tradesOrderGroupCode=MG180929L00002\nCookie: ai_user=zazJ/|2018-04-11T10:01:21.161Z; _ga=GA1.3.1260482009.1526374223; __zlcmid=p9hkxHsXzC5Ka5; _ym_uid=15450340861049673384; _ym_d=1545034086; _gid=GA1.3.233068902.1545616884; _fbp=fb.2.1545992230107.2040829768; .AspNet.ApplicationCookie=1ly--ntvPSpcJIIDvk2PBFfuyy744Wvwx4ezT0c0BEl1t4Vw3ahOOMwSczzBezkE0dIPWBwQt12KPN8IrFj8eV2ZgfO6HYKuiw7cUNgS37Gr1FOH28o-l5EZuOYGd4uuqRduaBBPbZrJop5nUso1oPS4fOs-mFO0I17QWHtfB_BI2Lzd6rQQRl6_IevI_EPbsh0EDahqvR4wvF2QFMH2ycECSzR4pgEmm3hcQRJ9COWoc-DtZjxxa11yfghghmReLbe1cYtx1G7ST9zakc_qGmnMV0IyZoRFqEmHrzEb1b8fDO35UkxsiP2_mzGY-Oy4e3fV12Q0N7eGVblEkJYZkrtXADP8h9iGToPwAUI5rbnX2o32Z0_4zbg7x_GSF_HWsW22SWlkRCAZEKhvhEB9Qk56JPSRSJwqmpGDzm8a807-6lRP-JPOo_F43eYLgztH6k6imlUseUyDyYBTwJeIgF5gdyLKMUSivKs-SOivyPofDiLMf0HItB9IgzRg-M94FjZROtOWeGXOYW4wqBMyABTelYgjfjgNtoW05SN7npnSYKG1JZeRwrT5KgaRXJy7KHkguyN8vhoYTjSX0cG4VaOrJqgGY-jsQov1lJvZTok_YAkiDRbOhDu3ebdJdi313sGSkUjjkW73Fn9ztmpexLN3OxfmhUlDu0MHhEqgLJMg8koLWBJjpmVC0YdNPCXNofGgNECkiWCZHTZw8u9jnLhtP686CG_JTQFE33YTdh3mJOp7KwFdFvQefEX5Jb2vUXmfFXMBP3MhD5civiPg4Q0WLU4; ai_session=XYYeY|1545989192862|1545993911682\n```\n\n### Step 2\n\nCtrl+P，輸入 `>`，找到 `Rest Client: Generate Code Snippet` \n選擇你的語言。\n\n![](/images/2018/restclient.gif)\n\n\n## 參考\n- [REST Client: 官方載點](https://marketplace.visualstudio.com/items?itemName=humao.rest-client)\n- [REST Client: Github 專案](https://github.com/Huachao/vscode-restclient)\n- [VSCode 實用套件： REST Client](https://blog.rex-tsou.com/2017/10/vscode-%E5%AF%A6%E7%94%A8%E5%A5%97%E4%BB%B6-rest-client/)\n\n(fin)","slug":"2018/restclient_gencode","published":1,"updated":"2019-06-10T14:43:28.937Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkt0021b0vxkieoyl12","content":"<p><a href=\"https://github.com/Huachao/vscode-restclient\" target=\"_blank\" rel=\"noopener\">REST Client</a> 是一套 Visual Studio Code 的套件。<br>可以讓你不離開編輯器(Visual Studio Code)的情況下，發送一些 Request。<br>使用方法可以參考最後的聯結，本文僅介紹 Code Gen 的功能。</p>\n<h2 id=\"作法\"><a href=\"#作法\" class=\"headerlink\" title=\"作法\"></a>作法</h2><h3 id=\"Step-1\"><a href=\"#Step-1\" class=\"headerlink\" title=\"Step 1\"></a>Step 1</h3><p>取得 Request 連結資訊，這個部份可以直接從瀏覽器取得</p>\n<p>大致上如下:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET https://***.****.com.my/Invoice/DownloadMyInvoicePdf?shopId=44&amp;tradesOrderGroupCode=MG180929L00002</span><br><span class=\"line\">Cookie: ai_user=zazJ/|2018-04-11T10:01:21.161Z; _ga=GA1.3.1260482009.1526374223; __zlcmid=p9hkxHsXzC5Ka5; _ym_uid=15450340861049673384; _ym_d=1545034086; _gid=GA1.3.233068902.1545616884; _fbp=fb.2.1545992230107.2040829768; .AspNet.ApplicationCookie=1ly--ntvPSpcJIIDvk2PBFfuyy744Wvwx4ezT0c0BEl1t4Vw3ahOOMwSczzBezkE0dIPWBwQt12KPN8IrFj8eV2ZgfO6HYKuiw7cUNgS37Gr1FOH28o-l5EZuOYGd4uuqRduaBBPbZrJop5nUso1oPS4fOs-mFO0I17QWHtfB_BI2Lzd6rQQRl6_IevI_EPbsh0EDahqvR4wvF2QFMH2ycECSzR4pgEmm3hcQRJ9COWoc-DtZjxxa11yfghghmReLbe1cYtx1G7ST9zakc_qGmnMV0IyZoRFqEmHrzEb1b8fDO35UkxsiP2_mzGY-Oy4e3fV12Q0N7eGVblEkJYZkrtXADP8h9iGToPwAUI5rbnX2o32Z0_4zbg7x_GSF_HWsW22SWlkRCAZEKhvhEB9Qk56JPSRSJwqmpGDzm8a807-6lRP-JPOo_F43eYLgztH6k6imlUseUyDyYBTwJeIgF5gdyLKMUSivKs-SOivyPofDiLMf0HItB9IgzRg-M94FjZROtOWeGXOYW4wqBMyABTelYgjfjgNtoW05SN7npnSYKG1JZeRwrT5KgaRXJy7KHkguyN8vhoYTjSX0cG4VaOrJqgGY-jsQov1lJvZTok_YAkiDRbOhDu3ebdJdi313sGSkUjjkW73Fn9ztmpexLN3OxfmhUlDu0MHhEqgLJMg8koLWBJjpmVC0YdNPCXNofGgNECkiWCZHTZw8u9jnLhtP686CG_JTQFE33YTdh3mJOp7KwFdFvQefEX5Jb2vUXmfFXMBP3MhD5civiPg4Q0WLU4; ai_session=XYYeY|1545989192862|1545993911682</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Step-2\"><a href=\"#Step-2\" class=\"headerlink\" title=\"Step 2\"></a>Step 2</h3><p>Ctrl+P，輸入 <code>&gt;</code>，找到 <code>Rest Client: Generate Code Snippet</code><br>選擇你的語言。</p>\n<p><img src=\"/images/2018/restclient.gif\" alt></p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=humao.rest-client\" target=\"_blank\" rel=\"noopener\">REST Client: 官方載點</a></li>\n<li><a href=\"https://github.com/Huachao/vscode-restclient\" target=\"_blank\" rel=\"noopener\">REST Client: Github 專案</a></li>\n<li><a href=\"https://blog.rex-tsou.com/2017/10/vscode-%E5%AF%A6%E7%94%A8%E5%A5%97%E4%BB%B6-rest-client/\" target=\"_blank\" rel=\"noopener\">VSCode 實用套件： REST Client</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<p><a href=\"https://github.com/Huachao/vscode-restclient\" target=\"_blank\" rel=\"noopener\">REST Client</a> 是一套 Visual Studio Code 的套件。<br>可以讓你不離開編輯器(Visual Studio Code)的情況下，發送一些 Request。<br>使用方法可以參考最後的聯結，本文僅介紹 Code Gen 的功能。</p>\n<h2 id=\"作法\"><a href=\"#作法\" class=\"headerlink\" title=\"作法\"></a>作法</h2><h3 id=\"Step-1\"><a href=\"#Step-1\" class=\"headerlink\" title=\"Step 1\"></a>Step 1</h3><p>取得 Request 連結資訊，這個部份可以直接從瀏覽器取得</p>\n<p>大致上如下:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET https://***.****.com.my/Invoice/DownloadMyInvoicePdf?shopId=44&amp;tradesOrderGroupCode=MG180929L00002</span><br><span class=\"line\">Cookie: ai_user=zazJ/|2018-04-11T10:01:21.161Z; _ga=GA1.3.1260482009.1526374223; __zlcmid=p9hkxHsXzC5Ka5; _ym_uid=15450340861049673384; _ym_d=1545034086; _gid=GA1.3.233068902.1545616884; _fbp=fb.2.1545992230107.2040829768; .AspNet.ApplicationCookie=1ly--ntvPSpcJIIDvk2PBFfuyy744Wvwx4ezT0c0BEl1t4Vw3ahOOMwSczzBezkE0dIPWBwQt12KPN8IrFj8eV2ZgfO6HYKuiw7cUNgS37Gr1FOH28o-l5EZuOYGd4uuqRduaBBPbZrJop5nUso1oPS4fOs-mFO0I17QWHtfB_BI2Lzd6rQQRl6_IevI_EPbsh0EDahqvR4wvF2QFMH2ycECSzR4pgEmm3hcQRJ9COWoc-DtZjxxa11yfghghmReLbe1cYtx1G7ST9zakc_qGmnMV0IyZoRFqEmHrzEb1b8fDO35UkxsiP2_mzGY-Oy4e3fV12Q0N7eGVblEkJYZkrtXADP8h9iGToPwAUI5rbnX2o32Z0_4zbg7x_GSF_HWsW22SWlkRCAZEKhvhEB9Qk56JPSRSJwqmpGDzm8a807-6lRP-JPOo_F43eYLgztH6k6imlUseUyDyYBTwJeIgF5gdyLKMUSivKs-SOivyPofDiLMf0HItB9IgzRg-M94FjZROtOWeGXOYW4wqBMyABTelYgjfjgNtoW05SN7npnSYKG1JZeRwrT5KgaRXJy7KHkguyN8vhoYTjSX0cG4VaOrJqgGY-jsQov1lJvZTok_YAkiDRbOhDu3ebdJdi313sGSkUjjkW73Fn9ztmpexLN3OxfmhUlDu0MHhEqgLJMg8koLWBJjpmVC0YdNPCXNofGgNECkiWCZHTZw8u9jnLhtP686CG_JTQFE33YTdh3mJOp7KwFdFvQefEX5Jb2vUXmfFXMBP3MhD5civiPg4Q0WLU4; ai_session=XYYeY|1545989192862|1545993911682</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Step-2\"><a href=\"#Step-2\" class=\"headerlink\" title=\"Step 2\"></a>Step 2</h3><p>Ctrl+P，輸入 <code>&gt;</code>，找到 <code>Rest Client: Generate Code Snippet</code><br>選擇你的語言。</p>\n<p><img src=\"/images/2018/restclient.gif\" alt></p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=humao.rest-client\" target=\"_blank\" rel=\"noopener\">REST Client: 官方載點</a></li>\n<li><a href=\"https://github.com/Huachao/vscode-restclient\" target=\"_blank\" rel=\"noopener\">REST Client: Github 專案</a></li>\n<li><a href=\"https://blog.rex-tsou.com/2017/10/vscode-%E5%AF%A6%E7%94%A8%E5%A5%97%E4%BB%B6-rest-client/\" target=\"_blank\" rel=\"noopener\">VSCode 實用套件： REST Client</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[好文分享]應用部署的六種策略","date":"2018-01-07T10:47:51.000Z","_content":"## 引用出處\n\n- [原文出處](https://thenewstack.io/deployment-strategies/)\n- [中譯出處](https://itw01.com/22ULE7O.html)\n\n## 正文開始\n\n目前有各種各樣的技術來將新應用部署到生產環境，  \n所以權衡對系統和終端使用者的影響降至最少，選擇正確的方式是非常重要的。\n本文將著重討論如下部署策略：\n\n- 重建部署：版本A下線後版本B上線 \n- 滾動部署（滾動更新或者增量釋出）：版本B緩慢更新並替代版本A \n- 藍綠部署：版本B並行與版本A釋出，然後流量切換到版本B \n- 金絲雀部署：版本B向一部分使用者釋出，然後完全放開 \n- A/B部署布：版本B只向特定條件的使用者釋出 \n- 影子部署：版本B接受真實的流量請求，但是不產生響應 \n\n我們來看一下每個策略最適合哪種使用者使用場景。  \n爲了簡化，我們使用 [Kubernetes](https://kubernetes.io) ，並用 [Minikube](https://github.com/ContainerSolutions/k8s-deployment-strategies) 進行例子演示。  \n每個策略的配置例子和詳細步驟都可以在這個 [git倉庫](https://github.com/ContainerSolutions/k8s-deployment-strategies) 上找到。   \n\n### 重建部署\n\n重建策略是一個冗餘的方式，它包含下線版本A，然後部署版本B。  \n這個方式意味著服務的宕機時間依賴於應用下線和啟動耗時。\n![重建部署](/images/2018/six_strategies_for_application_deployment/recreate.gif)\n\n優點：\n\n- 便於設定\n- 應用狀態完整更新\n\n缺點：\n\n- 對使用者影響很大，預期的宕機時間取決於下線時間和應用啟動耗時\n\n### 滾動部署  \n\n滾動部署策略是指通過逐個替換應用的所有例項，  \n來緩慢釋出應用的一個新版本。  \n通常過程如下：  \n在負載排程後有個版本A的應用例項池，  \n一個版本B的例項部署成功，可以響應請求時，  \n該例項被加入到池中。  \n然後版本A的一個例項從池中刪除並下線。  \n考慮到滾動部署依賴於系統，  \n可以調整如下引數來增加部署時間：  \n\n- 並行數，最大批量執行數：同時釋出例項的數目\n- 最大峰值：考慮到當前例項數，例項可以加入的數目\n- 最大不可用數：在滾動更新過程中不可用的例項數\n\n![滾動部署](/images/2018/six_strategies_for_application_deployment/ramped.gif)\n\n優點：\n\n- 便於設定\n- 版本在例項間緩慢釋出\n- 對於能夠處理資料重平衡的有狀態應用非常方便\n\n缺點：\n\n- 釋出/回滾耗時\n- 支援多個API很困難\n- 無法控制流量\n\n## 藍綠部署\n\n藍綠部署策略與滾動部署不同，  \n版本B（綠）同等數量的被並排部署在版本A（藍）旁邊。  \n當新版本滿足上線條件的測試後，  \n流量在負載均衡層從版本A切換到版本B。  \n![藍綠部署](/images/2018/six_strategies_for_application_deployment/blue-green.gif)\n\n優點：\n\n- 實時釋出、回滾\n- 避免版本衝突問題，整個應用狀態統一一次切換\n\n缺點：\n\n- 比較昂貴因為需要雙倍的資源\n- 在釋放版本到生產環境之前，整個平臺的主流程測試必須執行\n- 處理有狀態的應用很棘手\n\n### 金絲雀部署\n\n金絲雀部署是指逐漸將生產環境流量從版本A切換到版本B。  \n通常流量是按比例分配的。  \n例如90%的請求流向版本A，10%的流向版本B。  \n這個技術大多數用於缺少足夠測試，或者缺少可靠測試，  \n或者對新版本的穩定性缺乏信心的情況下。  \n\n![金絲雀部署](/images/2018/six_strategies_for_application_deployment/canary.gif)\n\n優點：\n\n- 版本面向一部分使用者釋出\n- 方便錯誤評估和效能監控\n- 快速回滾\n\n缺點：\n\n- 釋出緩慢\n\n### A/B測試\n\nA/B測試是指在特定條件下將一部分使用者路由到新功能上。  \n它通常用於根據統計來制定商業決策，而不是部署策略。  \n然而，他們是相關的，可以在金絲雀部署方式上新增額外功能來實現，所以我們這裏簡要介紹一下。  \n這個技術廣泛用於測試特定功能的切換，併發布使用佔大部分的版本。  \n下面是可以用於在版本間分散流量的條件：  \n\n- 瀏覽器cookie\n- 查詢引數\n- 地理位置\n- 技術支援：瀏覽器版本、螢幕尺寸、作業系統等\n- 語言\n![A/B測試](/images/2018/six_strategies_for_application_deployment/a-b.gif)\n\n優點：\n\n- 多個版本並行執行\n- 完全控制流量分佈\n\n缺點：\n\n- 需要智慧負載均衡\n- 對於給定的會話，很難定位問題，分散式跟蹤是必須的\n\n### 影子部署\n\n影子部署是指在版本A旁邊釋出版本B，  \n將版本A進來的請求同時分發到版本B，  \n同時對生產環境流量無影響。  \n這是測試新特徵在產品負載上表現的很好用的方式。  \n當滿足上線要求後，則觸發釋出新應用。  \n這個技術配置非常複雜，而且需要特殊條件，尤其是分出請求。  \n例如一個購物車平臺，如果你想影子測試支付服務，  \n你可能最終會是使用者為他們的訂單支付兩次。  \n這種情況下，可以通過建立一個模擬的服務來重複響應使用者的請求。  \n![影子部署](/images/2018/six_strategies_for_application_deployment/shadow.gif)\n\n優點：\n\n- 可以使用生產環境流量進行效能測試\n- 對使用者無影響\n- 直到應用的穩定性和效能滿足要求後才釋出\n\n缺點：\n\n- 雙倍資源，成本昂貴\n- 不是真實使用者測試，可能出現誤導\n- 配置複雜\n- 某種情況下需要模擬服務\n\n### 總結\n\n部署應用有很多種方法，實際採用哪種方式取決於需求和預算。  \n當釋出到開發或者模擬環境時，重建或者滾動部署是一個好選擇。  \n當釋出到生產環境時，滾動部署或者藍綠部署通常是一個好選擇，  \n但是新平臺的主流程測試是必須的。  \n藍綠部署和影子部署對預算有更高的要求，因為需要雙倍資源。  \n如果應用缺乏測試或者對軟體的功能和穩定性影響缺乏信心，  \n那麼可以使用金絲雀部署或者AB測試或者影子釋出。  \n如果業務需要根據地理位置、語言、作業系統或者瀏覽器特徵等這樣引數來給一些特定的使用者測試，那麼可以採用AB測試技術。  \n最後但並不是最不重要的，影子釋出很複雜，且需要額外工作來模擬響應分支流量請求，  \n當可變操作（郵件、銀行等）呼叫外部依賴時這是必須的，  \n這個技術在升級新資料庫是非常有用，使用影子流量來監控負載下的系統性能。  \n下表可以幫助你選擇正確的策略：  \n![總結](/images/2018/six_strategies_for_application_deployment/deployment_strategies.png)\n取決於雲服務提供商和平臺，如下文件是理解部署的很好開始：\n\n- Amazon Web Services\n- Docker Swarm\n- Google Cloud\n- Kubernetes\n\n希望這是有幫助的，如果有任何問題或者反饋，可以在下面評論\n\n(正文結束)\n\n## 補充表格翻譯\n\n|策略   |服務不斷線  |真實環境測試   |目標客戶分群   |預算成本   |退版時間   |使用者影響   |複雜度|\n|---    |---     |---  |---  |--- |---|---|---|---|\n|重建部署   | ✖  | ✖  | ✖  | ★☆☆ |★★★ |★★★ |☆☆☆ |\n|滾動部署   | ✔  | ✖  | ✖  | ★☆☆ |★★★ |★☆☆ |★☆☆ |\n|藍綠部署   | ✔  | ✖  | ✖  | ★★★ |☆☆☆ |★★☆ |★★☆ |\n|金絲雀部署 | ✔  | ✔  | ✖  | ★☆☆ |★☆☆ |★☆☆ |★★☆ |\n|A/B部署   | ✔  | ✔  | ✔  | ★☆☆ |★☆☆ |★☆☆ |★★★ |\n|影子部署   | ✔  |  ✔ | ✖  | ★★★ |☆☆☆ |☆☆☆ |★★★ |\n\n非常實用的文章,可惜中譯的圖片並非gif,原文的超聯結也掉失,\n特別重新修正以上問題,留作記錄\n\n(fin)\n","source":"_posts/2018/six_strategies_for_application_deployment.md","raw":"---\ntitle: \"[好文分享]應用部署的六種策略\"\ndate: 2018/01/07 18:47:51\ntag:\n  - CI/CD\n---\n## 引用出處\n\n- [原文出處](https://thenewstack.io/deployment-strategies/)\n- [中譯出處](https://itw01.com/22ULE7O.html)\n\n## 正文開始\n\n目前有各種各樣的技術來將新應用部署到生產環境，  \n所以權衡對系統和終端使用者的影響降至最少，選擇正確的方式是非常重要的。\n本文將著重討論如下部署策略：\n\n- 重建部署：版本A下線後版本B上線 \n- 滾動部署（滾動更新或者增量釋出）：版本B緩慢更新並替代版本A \n- 藍綠部署：版本B並行與版本A釋出，然後流量切換到版本B \n- 金絲雀部署：版本B向一部分使用者釋出，然後完全放開 \n- A/B部署布：版本B只向特定條件的使用者釋出 \n- 影子部署：版本B接受真實的流量請求，但是不產生響應 \n\n我們來看一下每個策略最適合哪種使用者使用場景。  \n爲了簡化，我們使用 [Kubernetes](https://kubernetes.io) ，並用 [Minikube](https://github.com/ContainerSolutions/k8s-deployment-strategies) 進行例子演示。  \n每個策略的配置例子和詳細步驟都可以在這個 [git倉庫](https://github.com/ContainerSolutions/k8s-deployment-strategies) 上找到。   \n\n### 重建部署\n\n重建策略是一個冗餘的方式，它包含下線版本A，然後部署版本B。  \n這個方式意味著服務的宕機時間依賴於應用下線和啟動耗時。\n![重建部署](/images/2018/six_strategies_for_application_deployment/recreate.gif)\n\n優點：\n\n- 便於設定\n- 應用狀態完整更新\n\n缺點：\n\n- 對使用者影響很大，預期的宕機時間取決於下線時間和應用啟動耗時\n\n### 滾動部署  \n\n滾動部署策略是指通過逐個替換應用的所有例項，  \n來緩慢釋出應用的一個新版本。  \n通常過程如下：  \n在負載排程後有個版本A的應用例項池，  \n一個版本B的例項部署成功，可以響應請求時，  \n該例項被加入到池中。  \n然後版本A的一個例項從池中刪除並下線。  \n考慮到滾動部署依賴於系統，  \n可以調整如下引數來增加部署時間：  \n\n- 並行數，最大批量執行數：同時釋出例項的數目\n- 最大峰值：考慮到當前例項數，例項可以加入的數目\n- 最大不可用數：在滾動更新過程中不可用的例項數\n\n![滾動部署](/images/2018/six_strategies_for_application_deployment/ramped.gif)\n\n優點：\n\n- 便於設定\n- 版本在例項間緩慢釋出\n- 對於能夠處理資料重平衡的有狀態應用非常方便\n\n缺點：\n\n- 釋出/回滾耗時\n- 支援多個API很困難\n- 無法控制流量\n\n## 藍綠部署\n\n藍綠部署策略與滾動部署不同，  \n版本B（綠）同等數量的被並排部署在版本A（藍）旁邊。  \n當新版本滿足上線條件的測試後，  \n流量在負載均衡層從版本A切換到版本B。  \n![藍綠部署](/images/2018/six_strategies_for_application_deployment/blue-green.gif)\n\n優點：\n\n- 實時釋出、回滾\n- 避免版本衝突問題，整個應用狀態統一一次切換\n\n缺點：\n\n- 比較昂貴因為需要雙倍的資源\n- 在釋放版本到生產環境之前，整個平臺的主流程測試必須執行\n- 處理有狀態的應用很棘手\n\n### 金絲雀部署\n\n金絲雀部署是指逐漸將生產環境流量從版本A切換到版本B。  \n通常流量是按比例分配的。  \n例如90%的請求流向版本A，10%的流向版本B。  \n這個技術大多數用於缺少足夠測試，或者缺少可靠測試，  \n或者對新版本的穩定性缺乏信心的情況下。  \n\n![金絲雀部署](/images/2018/six_strategies_for_application_deployment/canary.gif)\n\n優點：\n\n- 版本面向一部分使用者釋出\n- 方便錯誤評估和效能監控\n- 快速回滾\n\n缺點：\n\n- 釋出緩慢\n\n### A/B測試\n\nA/B測試是指在特定條件下將一部分使用者路由到新功能上。  \n它通常用於根據統計來制定商業決策，而不是部署策略。  \n然而，他們是相關的，可以在金絲雀部署方式上新增額外功能來實現，所以我們這裏簡要介紹一下。  \n這個技術廣泛用於測試特定功能的切換，併發布使用佔大部分的版本。  \n下面是可以用於在版本間分散流量的條件：  \n\n- 瀏覽器cookie\n- 查詢引數\n- 地理位置\n- 技術支援：瀏覽器版本、螢幕尺寸、作業系統等\n- 語言\n![A/B測試](/images/2018/six_strategies_for_application_deployment/a-b.gif)\n\n優點：\n\n- 多個版本並行執行\n- 完全控制流量分佈\n\n缺點：\n\n- 需要智慧負載均衡\n- 對於給定的會話，很難定位問題，分散式跟蹤是必須的\n\n### 影子部署\n\n影子部署是指在版本A旁邊釋出版本B，  \n將版本A進來的請求同時分發到版本B，  \n同時對生產環境流量無影響。  \n這是測試新特徵在產品負載上表現的很好用的方式。  \n當滿足上線要求後，則觸發釋出新應用。  \n這個技術配置非常複雜，而且需要特殊條件，尤其是分出請求。  \n例如一個購物車平臺，如果你想影子測試支付服務，  \n你可能最終會是使用者為他們的訂單支付兩次。  \n這種情況下，可以通過建立一個模擬的服務來重複響應使用者的請求。  \n![影子部署](/images/2018/six_strategies_for_application_deployment/shadow.gif)\n\n優點：\n\n- 可以使用生產環境流量進行效能測試\n- 對使用者無影響\n- 直到應用的穩定性和效能滿足要求後才釋出\n\n缺點：\n\n- 雙倍資源，成本昂貴\n- 不是真實使用者測試，可能出現誤導\n- 配置複雜\n- 某種情況下需要模擬服務\n\n### 總結\n\n部署應用有很多種方法，實際採用哪種方式取決於需求和預算。  \n當釋出到開發或者模擬環境時，重建或者滾動部署是一個好選擇。  \n當釋出到生產環境時，滾動部署或者藍綠部署通常是一個好選擇，  \n但是新平臺的主流程測試是必須的。  \n藍綠部署和影子部署對預算有更高的要求，因為需要雙倍資源。  \n如果應用缺乏測試或者對軟體的功能和穩定性影響缺乏信心，  \n那麼可以使用金絲雀部署或者AB測試或者影子釋出。  \n如果業務需要根據地理位置、語言、作業系統或者瀏覽器特徵等這樣引數來給一些特定的使用者測試，那麼可以採用AB測試技術。  \n最後但並不是最不重要的，影子釋出很複雜，且需要額外工作來模擬響應分支流量請求，  \n當可變操作（郵件、銀行等）呼叫外部依賴時這是必須的，  \n這個技術在升級新資料庫是非常有用，使用影子流量來監控負載下的系統性能。  \n下表可以幫助你選擇正確的策略：  \n![總結](/images/2018/six_strategies_for_application_deployment/deployment_strategies.png)\n取決於雲服務提供商和平臺，如下文件是理解部署的很好開始：\n\n- Amazon Web Services\n- Docker Swarm\n- Google Cloud\n- Kubernetes\n\n希望這是有幫助的，如果有任何問題或者反饋，可以在下面評論\n\n(正文結束)\n\n## 補充表格翻譯\n\n|策略   |服務不斷線  |真實環境測試   |目標客戶分群   |預算成本   |退版時間   |使用者影響   |複雜度|\n|---    |---     |---  |---  |--- |---|---|---|---|\n|重建部署   | ✖  | ✖  | ✖  | ★☆☆ |★★★ |★★★ |☆☆☆ |\n|滾動部署   | ✔  | ✖  | ✖  | ★☆☆ |★★★ |★☆☆ |★☆☆ |\n|藍綠部署   | ✔  | ✖  | ✖  | ★★★ |☆☆☆ |★★☆ |★★☆ |\n|金絲雀部署 | ✔  | ✔  | ✖  | ★☆☆ |★☆☆ |★☆☆ |★★☆ |\n|A/B部署   | ✔  | ✔  | ✔  | ★☆☆ |★☆☆ |★☆☆ |★★★ |\n|影子部署   | ✔  |  ✔ | ✖  | ★★★ |☆☆☆ |☆☆☆ |★★★ |\n\n非常實用的文章,可惜中譯的圖片並非gif,原文的超聯結也掉失,\n特別重新修正以上問題,留作記錄\n\n(fin)\n","slug":"2018/six_strategies_for_application_deployment","published":1,"updated":"2019-08-25T19:59:33.082Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkv0022b0vx3ef5n9fo","content":"<h2 id=\"引用出處\"><a href=\"#引用出處\" class=\"headerlink\" title=\"引用出處\"></a>引用出處</h2><ul>\n<li><a href=\"https://thenewstack.io/deployment-strategies/\" target=\"_blank\" rel=\"noopener\">原文出處</a></li>\n<li><a href=\"https://itw01.com/22ULE7O.html\" target=\"_blank\" rel=\"noopener\">中譯出處</a></li>\n</ul>\n<h2 id=\"正文開始\"><a href=\"#正文開始\" class=\"headerlink\" title=\"正文開始\"></a>正文開始</h2><p>目前有各種各樣的技術來將新應用部署到生產環境，<br>所以權衡對系統和終端使用者的影響降至最少，選擇正確的方式是非常重要的。<br>本文將著重討論如下部署策略：</p>\n<ul>\n<li>重建部署：版本A下線後版本B上線 </li>\n<li>滾動部署（滾動更新或者增量釋出）：版本B緩慢更新並替代版本A </li>\n<li>藍綠部署：版本B並行與版本A釋出，然後流量切換到版本B </li>\n<li>金絲雀部署：版本B向一部分使用者釋出，然後完全放開 </li>\n<li>A/B部署布：版本B只向特定條件的使用者釋出 </li>\n<li>影子部署：版本B接受真實的流量請求，但是不產生響應 </li>\n</ul>\n<p>我們來看一下每個策略最適合哪種使用者使用場景。<br>爲了簡化，我們使用 <a href=\"https://kubernetes.io\" target=\"_blank\" rel=\"noopener\">Kubernetes</a> ，並用 <a href=\"https://github.com/ContainerSolutions/k8s-deployment-strategies\" target=\"_blank\" rel=\"noopener\">Minikube</a> 進行例子演示。<br>每個策略的配置例子和詳細步驟都可以在這個 <a href=\"https://github.com/ContainerSolutions/k8s-deployment-strategies\" target=\"_blank\" rel=\"noopener\">git倉庫</a> 上找到。   </p>\n<h3 id=\"重建部署\"><a href=\"#重建部署\" class=\"headerlink\" title=\"重建部署\"></a>重建部署</h3><p>重建策略是一個冗餘的方式，它包含下線版本A，然後部署版本B。<br>這個方式意味著服務的宕機時間依賴於應用下線和啟動耗時。<br><img src=\"/images/2018/six_strategies_for_application_deployment/recreate.gif\" alt=\"重建部署\"></p>\n<p>優點：</p>\n<ul>\n<li>便於設定</li>\n<li>應用狀態完整更新</li>\n</ul>\n<p>缺點：</p>\n<ul>\n<li>對使用者影響很大，預期的宕機時間取決於下線時間和應用啟動耗時</li>\n</ul>\n<h3 id=\"滾動部署\"><a href=\"#滾動部署\" class=\"headerlink\" title=\"滾動部署\"></a>滾動部署</h3><p>滾動部署策略是指通過逐個替換應用的所有例項，<br>來緩慢釋出應用的一個新版本。<br>通常過程如下：<br>在負載排程後有個版本A的應用例項池，<br>一個版本B的例項部署成功，可以響應請求時，<br>該例項被加入到池中。<br>然後版本A的一個例項從池中刪除並下線。<br>考慮到滾動部署依賴於系統，<br>可以調整如下引數來增加部署時間：  </p>\n<ul>\n<li>並行數，最大批量執行數：同時釋出例項的數目</li>\n<li>最大峰值：考慮到當前例項數，例項可以加入的數目</li>\n<li>最大不可用數：在滾動更新過程中不可用的例項數</li>\n</ul>\n<p><img src=\"/images/2018/six_strategies_for_application_deployment/ramped.gif\" alt=\"滾動部署\"></p>\n<p>優點：</p>\n<ul>\n<li>便於設定</li>\n<li>版本在例項間緩慢釋出</li>\n<li>對於能夠處理資料重平衡的有狀態應用非常方便</li>\n</ul>\n<p>缺點：</p>\n<ul>\n<li>釋出/回滾耗時</li>\n<li>支援多個API很困難</li>\n<li>無法控制流量</li>\n</ul>\n<h2 id=\"藍綠部署\"><a href=\"#藍綠部署\" class=\"headerlink\" title=\"藍綠部署\"></a>藍綠部署</h2><p>藍綠部署策略與滾動部署不同，<br>版本B（綠）同等數量的被並排部署在版本A（藍）旁邊。<br>當新版本滿足上線條件的測試後，<br>流量在負載均衡層從版本A切換到版本B。<br><img src=\"/images/2018/six_strategies_for_application_deployment/blue-green.gif\" alt=\"藍綠部署\"></p>\n<p>優點：</p>\n<ul>\n<li>實時釋出、回滾</li>\n<li>避免版本衝突問題，整個應用狀態統一一次切換</li>\n</ul>\n<p>缺點：</p>\n<ul>\n<li>比較昂貴因為需要雙倍的資源</li>\n<li>在釋放版本到生產環境之前，整個平臺的主流程測試必須執行</li>\n<li>處理有狀態的應用很棘手</li>\n</ul>\n<h3 id=\"金絲雀部署\"><a href=\"#金絲雀部署\" class=\"headerlink\" title=\"金絲雀部署\"></a>金絲雀部署</h3><p>金絲雀部署是指逐漸將生產環境流量從版本A切換到版本B。<br>通常流量是按比例分配的。<br>例如90%的請求流向版本A，10%的流向版本B。<br>這個技術大多數用於缺少足夠測試，或者缺少可靠測試，<br>或者對新版本的穩定性缺乏信心的情況下。  </p>\n<p><img src=\"/images/2018/six_strategies_for_application_deployment/canary.gif\" alt=\"金絲雀部署\"></p>\n<p>優點：</p>\n<ul>\n<li>版本面向一部分使用者釋出</li>\n<li>方便錯誤評估和效能監控</li>\n<li>快速回滾</li>\n</ul>\n<p>缺點：</p>\n<ul>\n<li>釋出緩慢</li>\n</ul>\n<h3 id=\"A-B測試\"><a href=\"#A-B測試\" class=\"headerlink\" title=\"A/B測試\"></a>A/B測試</h3><p>A/B測試是指在特定條件下將一部分使用者路由到新功能上。<br>它通常用於根據統計來制定商業決策，而不是部署策略。<br>然而，他們是相關的，可以在金絲雀部署方式上新增額外功能來實現，所以我們這裏簡要介紹一下。<br>這個技術廣泛用於測試特定功能的切換，併發布使用佔大部分的版本。<br>下面是可以用於在版本間分散流量的條件：  </p>\n<ul>\n<li>瀏覽器cookie</li>\n<li>查詢引數</li>\n<li>地理位置</li>\n<li>技術支援：瀏覽器版本、螢幕尺寸、作業系統等</li>\n<li>語言<br><img src=\"/images/2018/six_strategies_for_application_deployment/a-b.gif\" alt=\"A/B測試\"></li>\n</ul>\n<p>優點：</p>\n<ul>\n<li>多個版本並行執行</li>\n<li>完全控制流量分佈</li>\n</ul>\n<p>缺點：</p>\n<ul>\n<li>需要智慧負載均衡</li>\n<li>對於給定的會話，很難定位問題，分散式跟蹤是必須的</li>\n</ul>\n<h3 id=\"影子部署\"><a href=\"#影子部署\" class=\"headerlink\" title=\"影子部署\"></a>影子部署</h3><p>影子部署是指在版本A旁邊釋出版本B，<br>將版本A進來的請求同時分發到版本B，<br>同時對生產環境流量無影響。<br>這是測試新特徵在產品負載上表現的很好用的方式。<br>當滿足上線要求後，則觸發釋出新應用。<br>這個技術配置非常複雜，而且需要特殊條件，尤其是分出請求。<br>例如一個購物車平臺，如果你想影子測試支付服務，<br>你可能最終會是使用者為他們的訂單支付兩次。<br>這種情況下，可以通過建立一個模擬的服務來重複響應使用者的請求。<br><img src=\"/images/2018/six_strategies_for_application_deployment/shadow.gif\" alt=\"影子部署\"></p>\n<p>優點：</p>\n<ul>\n<li>可以使用生產環境流量進行效能測試</li>\n<li>對使用者無影響</li>\n<li>直到應用的穩定性和效能滿足要求後才釋出</li>\n</ul>\n<p>缺點：</p>\n<ul>\n<li>雙倍資源，成本昂貴</li>\n<li>不是真實使用者測試，可能出現誤導</li>\n<li>配置複雜</li>\n<li>某種情況下需要模擬服務</li>\n</ul>\n<h3 id=\"總結\"><a href=\"#總結\" class=\"headerlink\" title=\"總結\"></a>總結</h3><p>部署應用有很多種方法，實際採用哪種方式取決於需求和預算。<br>當釋出到開發或者模擬環境時，重建或者滾動部署是一個好選擇。<br>當釋出到生產環境時，滾動部署或者藍綠部署通常是一個好選擇，<br>但是新平臺的主流程測試是必須的。<br>藍綠部署和影子部署對預算有更高的要求，因為需要雙倍資源。<br>如果應用缺乏測試或者對軟體的功能和穩定性影響缺乏信心，<br>那麼可以使用金絲雀部署或者AB測試或者影子釋出。<br>如果業務需要根據地理位置、語言、作業系統或者瀏覽器特徵等這樣引數來給一些特定的使用者測試，那麼可以採用AB測試技術。<br>最後但並不是最不重要的，影子釋出很複雜，且需要額外工作來模擬響應分支流量請求，<br>當可變操作（郵件、銀行等）呼叫外部依賴時這是必須的，<br>這個技術在升級新資料庫是非常有用，使用影子流量來監控負載下的系統性能。<br>下表可以幫助你選擇正確的策略：<br><img src=\"/images/2018/six_strategies_for_application_deployment/deployment_strategies.png\" alt=\"總結\"><br>取決於雲服務提供商和平臺，如下文件是理解部署的很好開始：</p>\n<ul>\n<li>Amazon Web Services</li>\n<li>Docker Swarm</li>\n<li>Google Cloud</li>\n<li>Kubernetes</li>\n</ul>\n<p>希望這是有幫助的，如果有任何問題或者反饋，可以在下面評論</p>\n<p>(正文結束)</p>\n<h2 id=\"補充表格翻譯\"><a href=\"#補充表格翻譯\" class=\"headerlink\" title=\"補充表格翻譯\"></a>補充表格翻譯</h2><p>|策略   |服務不斷線  |真實環境測試   |目標客戶分群   |預算成本   |退版時間   |使用者影響   |複雜度|<br>|—    |—     |—  |—  |— |—|—|—|—|<br>|重建部署   | ✖  | ✖  | ✖  | ★☆☆ |★★★ |★★★ |☆☆☆ |<br>|滾動部署   | ✔  | ✖  | ✖  | ★☆☆ |★★★ |★☆☆ |★☆☆ |<br>|藍綠部署   | ✔  | ✖  | ✖  | ★★★ |☆☆☆ |★★☆ |★★☆ |<br>|金絲雀部署 | ✔  | ✔  | ✖  | ★☆☆ |★☆☆ |★☆☆ |★★☆ |<br>|A/B部署   | ✔  | ✔  | ✔  | ★☆☆ |★☆☆ |★☆☆ |★★★ |<br>|影子部署   | ✔  |  ✔ | ✖  | ★★★ |☆☆☆ |☆☆☆ |★★★ |</p>\n<p>非常實用的文章,可惜中譯的圖片並非gif,原文的超聯結也掉失,<br>特別重新修正以上問題,留作記錄</p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"引用出處\"><a href=\"#引用出處\" class=\"headerlink\" title=\"引用出處\"></a>引用出處</h2><ul>\n<li><a href=\"https://thenewstack.io/deployment-strategies/\" target=\"_blank\" rel=\"noopener\">原文出處</a></li>\n<li><a href=\"https://itw01.com/22ULE7O.html\" target=\"_blank\" rel=\"noopener\">中譯出處</a></li>\n</ul>\n<h2 id=\"正文開始\"><a href=\"#正文開始\" class=\"headerlink\" title=\"正文開始\"></a>正文開始</h2><p>目前有各種各樣的技術來將新應用部署到生產環境，<br>所以權衡對系統和終端使用者的影響降至最少，選擇正確的方式是非常重要的。<br>本文將著重討論如下部署策略：</p>\n<ul>\n<li>重建部署：版本A下線後版本B上線 </li>\n<li>滾動部署（滾動更新或者增量釋出）：版本B緩慢更新並替代版本A </li>\n<li>藍綠部署：版本B並行與版本A釋出，然後流量切換到版本B </li>\n<li>金絲雀部署：版本B向一部分使用者釋出，然後完全放開 </li>\n<li>A/B部署布：版本B只向特定條件的使用者釋出 </li>\n<li>影子部署：版本B接受真實的流量請求，但是不產生響應 </li>\n</ul>\n<p>我們來看一下每個策略最適合哪種使用者使用場景。<br>爲了簡化，我們使用 <a href=\"https://kubernetes.io\" target=\"_blank\" rel=\"noopener\">Kubernetes</a> ，並用 <a href=\"https://github.com/ContainerSolutions/k8s-deployment-strategies\" target=\"_blank\" rel=\"noopener\">Minikube</a> 進行例子演示。<br>每個策略的配置例子和詳細步驟都可以在這個 <a href=\"https://github.com/ContainerSolutions/k8s-deployment-strategies\" target=\"_blank\" rel=\"noopener\">git倉庫</a> 上找到。   </p>\n<h3 id=\"重建部署\"><a href=\"#重建部署\" class=\"headerlink\" title=\"重建部署\"></a>重建部署</h3><p>重建策略是一個冗餘的方式，它包含下線版本A，然後部署版本B。<br>這個方式意味著服務的宕機時間依賴於應用下線和啟動耗時。<br><img src=\"/images/2018/six_strategies_for_application_deployment/recreate.gif\" alt=\"重建部署\"></p>\n<p>優點：</p>\n<ul>\n<li>便於設定</li>\n<li>應用狀態完整更新</li>\n</ul>\n<p>缺點：</p>\n<ul>\n<li>對使用者影響很大，預期的宕機時間取決於下線時間和應用啟動耗時</li>\n</ul>\n<h3 id=\"滾動部署\"><a href=\"#滾動部署\" class=\"headerlink\" title=\"滾動部署\"></a>滾動部署</h3><p>滾動部署策略是指通過逐個替換應用的所有例項，<br>來緩慢釋出應用的一個新版本。<br>通常過程如下：<br>在負載排程後有個版本A的應用例項池，<br>一個版本B的例項部署成功，可以響應請求時，<br>該例項被加入到池中。<br>然後版本A的一個例項從池中刪除並下線。<br>考慮到滾動部署依賴於系統，<br>可以調整如下引數來增加部署時間：  </p>\n<ul>\n<li>並行數，最大批量執行數：同時釋出例項的數目</li>\n<li>最大峰值：考慮到當前例項數，例項可以加入的數目</li>\n<li>最大不可用數：在滾動更新過程中不可用的例項數</li>\n</ul>\n<p><img src=\"/images/2018/six_strategies_for_application_deployment/ramped.gif\" alt=\"滾動部署\"></p>\n<p>優點：</p>\n<ul>\n<li>便於設定</li>\n<li>版本在例項間緩慢釋出</li>\n<li>對於能夠處理資料重平衡的有狀態應用非常方便</li>\n</ul>\n<p>缺點：</p>\n<ul>\n<li>釋出/回滾耗時</li>\n<li>支援多個API很困難</li>\n<li>無法控制流量</li>\n</ul>\n<h2 id=\"藍綠部署\"><a href=\"#藍綠部署\" class=\"headerlink\" title=\"藍綠部署\"></a>藍綠部署</h2><p>藍綠部署策略與滾動部署不同，<br>版本B（綠）同等數量的被並排部署在版本A（藍）旁邊。<br>當新版本滿足上線條件的測試後，<br>流量在負載均衡層從版本A切換到版本B。<br><img src=\"/images/2018/six_strategies_for_application_deployment/blue-green.gif\" alt=\"藍綠部署\"></p>\n<p>優點：</p>\n<ul>\n<li>實時釋出、回滾</li>\n<li>避免版本衝突問題，整個應用狀態統一一次切換</li>\n</ul>\n<p>缺點：</p>\n<ul>\n<li>比較昂貴因為需要雙倍的資源</li>\n<li>在釋放版本到生產環境之前，整個平臺的主流程測試必須執行</li>\n<li>處理有狀態的應用很棘手</li>\n</ul>\n<h3 id=\"金絲雀部署\"><a href=\"#金絲雀部署\" class=\"headerlink\" title=\"金絲雀部署\"></a>金絲雀部署</h3><p>金絲雀部署是指逐漸將生產環境流量從版本A切換到版本B。<br>通常流量是按比例分配的。<br>例如90%的請求流向版本A，10%的流向版本B。<br>這個技術大多數用於缺少足夠測試，或者缺少可靠測試，<br>或者對新版本的穩定性缺乏信心的情況下。  </p>\n<p><img src=\"/images/2018/six_strategies_for_application_deployment/canary.gif\" alt=\"金絲雀部署\"></p>\n<p>優點：</p>\n<ul>\n<li>版本面向一部分使用者釋出</li>\n<li>方便錯誤評估和效能監控</li>\n<li>快速回滾</li>\n</ul>\n<p>缺點：</p>\n<ul>\n<li>釋出緩慢</li>\n</ul>\n<h3 id=\"A-B測試\"><a href=\"#A-B測試\" class=\"headerlink\" title=\"A/B測試\"></a>A/B測試</h3><p>A/B測試是指在特定條件下將一部分使用者路由到新功能上。<br>它通常用於根據統計來制定商業決策，而不是部署策略。<br>然而，他們是相關的，可以在金絲雀部署方式上新增額外功能來實現，所以我們這裏簡要介紹一下。<br>這個技術廣泛用於測試特定功能的切換，併發布使用佔大部分的版本。<br>下面是可以用於在版本間分散流量的條件：  </p>\n<ul>\n<li>瀏覽器cookie</li>\n<li>查詢引數</li>\n<li>地理位置</li>\n<li>技術支援：瀏覽器版本、螢幕尺寸、作業系統等</li>\n<li>語言<br><img src=\"/images/2018/six_strategies_for_application_deployment/a-b.gif\" alt=\"A/B測試\"></li>\n</ul>\n<p>優點：</p>\n<ul>\n<li>多個版本並行執行</li>\n<li>完全控制流量分佈</li>\n</ul>\n<p>缺點：</p>\n<ul>\n<li>需要智慧負載均衡</li>\n<li>對於給定的會話，很難定位問題，分散式跟蹤是必須的</li>\n</ul>\n<h3 id=\"影子部署\"><a href=\"#影子部署\" class=\"headerlink\" title=\"影子部署\"></a>影子部署</h3><p>影子部署是指在版本A旁邊釋出版本B，<br>將版本A進來的請求同時分發到版本B，<br>同時對生產環境流量無影響。<br>這是測試新特徵在產品負載上表現的很好用的方式。<br>當滿足上線要求後，則觸發釋出新應用。<br>這個技術配置非常複雜，而且需要特殊條件，尤其是分出請求。<br>例如一個購物車平臺，如果你想影子測試支付服務，<br>你可能最終會是使用者為他們的訂單支付兩次。<br>這種情況下，可以通過建立一個模擬的服務來重複響應使用者的請求。<br><img src=\"/images/2018/six_strategies_for_application_deployment/shadow.gif\" alt=\"影子部署\"></p>\n<p>優點：</p>\n<ul>\n<li>可以使用生產環境流量進行效能測試</li>\n<li>對使用者無影響</li>\n<li>直到應用的穩定性和效能滿足要求後才釋出</li>\n</ul>\n<p>缺點：</p>\n<ul>\n<li>雙倍資源，成本昂貴</li>\n<li>不是真實使用者測試，可能出現誤導</li>\n<li>配置複雜</li>\n<li>某種情況下需要模擬服務</li>\n</ul>\n<h3 id=\"總結\"><a href=\"#總結\" class=\"headerlink\" title=\"總結\"></a>總結</h3><p>部署應用有很多種方法，實際採用哪種方式取決於需求和預算。<br>當釋出到開發或者模擬環境時，重建或者滾動部署是一個好選擇。<br>當釋出到生產環境時，滾動部署或者藍綠部署通常是一個好選擇，<br>但是新平臺的主流程測試是必須的。<br>藍綠部署和影子部署對預算有更高的要求，因為需要雙倍資源。<br>如果應用缺乏測試或者對軟體的功能和穩定性影響缺乏信心，<br>那麼可以使用金絲雀部署或者AB測試或者影子釋出。<br>如果業務需要根據地理位置、語言、作業系統或者瀏覽器特徵等這樣引數來給一些特定的使用者測試，那麼可以採用AB測試技術。<br>最後但並不是最不重要的，影子釋出很複雜，且需要額外工作來模擬響應分支流量請求，<br>當可變操作（郵件、銀行等）呼叫外部依賴時這是必須的，<br>這個技術在升級新資料庫是非常有用，使用影子流量來監控負載下的系統性能。<br>下表可以幫助你選擇正確的策略：<br><img src=\"/images/2018/six_strategies_for_application_deployment/deployment_strategies.png\" alt=\"總結\"><br>取決於雲服務提供商和平臺，如下文件是理解部署的很好開始：</p>\n<ul>\n<li>Amazon Web Services</li>\n<li>Docker Swarm</li>\n<li>Google Cloud</li>\n<li>Kubernetes</li>\n</ul>\n<p>希望這是有幫助的，如果有任何問題或者反饋，可以在下面評論</p>\n<p>(正文結束)</p>\n<h2 id=\"補充表格翻譯\"><a href=\"#補充表格翻譯\" class=\"headerlink\" title=\"補充表格翻譯\"></a>補充表格翻譯</h2><p>|策略   |服務不斷線  |真實環境測試   |目標客戶分群   |預算成本   |退版時間   |使用者影響   |複雜度|<br>|—    |—     |—  |—  |— |—|—|—|—|<br>|重建部署   | ✖  | ✖  | ✖  | ★☆☆ |★★★ |★★★ |☆☆☆ |<br>|滾動部署   | ✔  | ✖  | ✖  | ★☆☆ |★★★ |★☆☆ |★☆☆ |<br>|藍綠部署   | ✔  | ✖  | ✖  | ★★★ |☆☆☆ |★★☆ |★★☆ |<br>|金絲雀部署 | ✔  | ✔  | ✖  | ★☆☆ |★☆☆ |★☆☆ |★★☆ |<br>|A/B部署   | ✔  | ✔  | ✔  | ★☆☆ |★☆☆ |★☆☆ |★★★ |<br>|影子部署   | ✔  |  ✔ | ✖  | ★★★ |☆☆☆ |☆☆☆ |★★★ |</p>\n<p>非常實用的文章,可惜中譯的圖片並非gif,原文的超聯結也掉失,<br>特別重新修正以上問題,留作記錄</p>\n<p>(fin)</p>\n"},{"title":"[踩雷筆記]誰改了我的 package-lock.json ?","date":"2018-07-30T07:53:21.000Z","_content":"## 環境\nOS Windows 10\nnpm v6.2.0\nnode v8.11.1\n\n## 問題\n承上篇[[實作筆記]設定 NPM Registry](https://blog.marsen.me/2018/07/29/2018/node_set_registry/)，  \n後續發生的一些問題，  \n每當我執行 `npm install` 的時候都會異動到 `package-lock.json` 檔;  \n異動這個檔案並不意外，可以參考[官方文件](https://docs.npmjs.com/files/package-lock.json)的說法。  \n\n奇怪的點是，異動竟然包含 Registry !?  \n全部都被置換成公司的 Domain , WTF ?\n![](https://i.imgur.com/KwwUqPV.jpg)\n\n## 原因與坑\n\n當執行 `npm install` 的時候，  \nnode 會去檢查你實際安裝的 node_modules，  \n並產生 `package-lock.json` 檔。  \n可以把 `package-lock.json` 想像成 node_modules 的映射。  \n而恰巧之前所安裝過的檔案，是在 Registry 為 `npm.mycompany` 時下載的;\n這導致產生 `package-lock.json` 的時候會映射出 `npm.mycompany` 的資訊。\n\n小心有坑!!  \n即使刪除了 node_modules 再重新 `npm install`，  \n仍然會產生錯誤的 `package-lock.json`;  \n這個原因是 npm 會有 `npm-cache`; \n這個資料夾位在 `%Users%\\AppData\\Roaming`。  \n\n## 解決方法\n\n1. 設定 npm registry  \n  > npm set registry https://registry.npmjs.org  \n2. 刪除專案底下的 node_modules 資料夾\n3. 刪除 npm-cache\n4. 重新執行 `npm install`\n\n(fin)","source":"_posts/2018/package-lock_modify_after_npm_install.md","raw":"---\ntitle: \"[踩雷筆記]誰改了我的 package-lock.json ?\"\ndate: 2018/07/30 15:53:21\ntag:\n  - Node.js   \n---\n## 環境\nOS Windows 10\nnpm v6.2.0\nnode v8.11.1\n\n## 問題\n承上篇[[實作筆記]設定 NPM Registry](https://blog.marsen.me/2018/07/29/2018/node_set_registry/)，  \n後續發生的一些問題，  \n每當我執行 `npm install` 的時候都會異動到 `package-lock.json` 檔;  \n異動這個檔案並不意外，可以參考[官方文件](https://docs.npmjs.com/files/package-lock.json)的說法。  \n\n奇怪的點是，異動竟然包含 Registry !?  \n全部都被置換成公司的 Domain , WTF ?\n![](https://i.imgur.com/KwwUqPV.jpg)\n\n## 原因與坑\n\n當執行 `npm install` 的時候，  \nnode 會去檢查你實際安裝的 node_modules，  \n並產生 `package-lock.json` 檔。  \n可以把 `package-lock.json` 想像成 node_modules 的映射。  \n而恰巧之前所安裝過的檔案，是在 Registry 為 `npm.mycompany` 時下載的;\n這導致產生 `package-lock.json` 的時候會映射出 `npm.mycompany` 的資訊。\n\n小心有坑!!  \n即使刪除了 node_modules 再重新 `npm install`，  \n仍然會產生錯誤的 `package-lock.json`;  \n這個原因是 npm 會有 `npm-cache`; \n這個資料夾位在 `%Users%\\AppData\\Roaming`。  \n\n## 解決方法\n\n1. 設定 npm registry  \n  > npm set registry https://registry.npmjs.org  \n2. 刪除專案底下的 node_modules 資料夾\n3. 刪除 npm-cache\n4. 重新執行 `npm install`\n\n(fin)","slug":"2018/package-lock_modify_after_npm_install","published":1,"updated":"2019-06-10T14:43:28.936Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wkv0023b0vx2vt9mtdh","content":"<h2 id=\"環境\"><a href=\"#環境\" class=\"headerlink\" title=\"環境\"></a>環境</h2><p>OS Windows 10<br>npm v6.2.0<br>node v8.11.1</p>\n<h2 id=\"問題\"><a href=\"#問題\" class=\"headerlink\" title=\"問題\"></a>問題</h2><p>承上篇<a href=\"https://blog.marsen.me/2018/07/29/2018/node_set_registry/\">[實作筆記]設定 NPM Registry</a>，  \n後續發生的一些問題，<br>每當我執行 <code>npm install</code> 的時候都會異動到 <code>package-lock.json</code> 檔;<br>異動這個檔案並不意外，可以參考<a href=\"https://docs.npmjs.com/files/package-lock.json\" target=\"_blank\" rel=\"noopener\">官方文件</a>的說法。  </p>\n<p>奇怪的點是，異動竟然包含 Registry !?<br>全部都被置換成公司的 Domain , WTF ?<br><img src=\"https://i.imgur.com/KwwUqPV.jpg\" alt></p>\n<h2 id=\"原因與坑\"><a href=\"#原因與坑\" class=\"headerlink\" title=\"原因與坑\"></a>原因與坑</h2><p>當執行 <code>npm install</code> 的時候，<br>node 會去檢查你實際安裝的 node_modules，<br>並產生 <code>package-lock.json</code> 檔。<br>可以把 <code>package-lock.json</code> 想像成 node_modules 的映射。<br>而恰巧之前所安裝過的檔案，是在 Registry 為 <code>npm.mycompany</code> 時下載的;<br>這導致產生 <code>package-lock.json</code> 的時候會映射出 <code>npm.mycompany</code> 的資訊。</p>\n<p>小心有坑!!  \n即使刪除了 node_modules 再重新 <code>npm install</code>，  \n仍然會產生錯誤的 <code>package-lock.json</code>;  \n這個原因是 npm 會有 <code>npm-cache</code>; \n這個資料夾位在 <code>%Users%\\AppData\\Roaming</code>。  </p>\n<h2 id=\"解決方法\"><a href=\"#解決方法\" class=\"headerlink\" title=\"解決方法\"></a>解決方法</h2><ol>\n<li>設定 npm registry  <blockquote>\n<p>npm set registry <a href=\"https://registry.npmjs.org\" target=\"_blank\" rel=\"noopener\">https://registry.npmjs.org</a>  </p>\n</blockquote>\n</li>\n<li>刪除專案底下的 node_modules 資料夾</li>\n<li>刪除 npm-cache</li>\n<li>重新執行 <code>npm install</code></li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"環境\"><a href=\"#環境\" class=\"headerlink\" title=\"環境\"></a>環境</h2><p>OS Windows 10<br>npm v6.2.0<br>node v8.11.1</p>\n<h2 id=\"問題\"><a href=\"#問題\" class=\"headerlink\" title=\"問題\"></a>問題</h2><p>承上篇<a href=\"https://blog.marsen.me/2018/07/29/2018/node_set_registry/\">[實作筆記]設定 NPM Registry</a>，  \n後續發生的一些問題，<br>每當我執行 <code>npm install</code> 的時候都會異動到 <code>package-lock.json</code> 檔;<br>異動這個檔案並不意外，可以參考<a href=\"https://docs.npmjs.com/files/package-lock.json\" target=\"_blank\" rel=\"noopener\">官方文件</a>的說法。  </p>\n<p>奇怪的點是，異動竟然包含 Registry !?<br>全部都被置換成公司的 Domain , WTF ?<br><img src=\"https://i.imgur.com/KwwUqPV.jpg\" alt></p>\n<h2 id=\"原因與坑\"><a href=\"#原因與坑\" class=\"headerlink\" title=\"原因與坑\"></a>原因與坑</h2><p>當執行 <code>npm install</code> 的時候，<br>node 會去檢查你實際安裝的 node_modules，<br>並產生 <code>package-lock.json</code> 檔。<br>可以把 <code>package-lock.json</code> 想像成 node_modules 的映射。<br>而恰巧之前所安裝過的檔案，是在 Registry 為 <code>npm.mycompany</code> 時下載的;<br>這導致產生 <code>package-lock.json</code> 的時候會映射出 <code>npm.mycompany</code> 的資訊。</p>\n<p>小心有坑!!  \n即使刪除了 node_modules 再重新 <code>npm install</code>，  \n仍然會產生錯誤的 <code>package-lock.json</code>;  \n這個原因是 npm 會有 <code>npm-cache</code>; \n這個資料夾位在 <code>%Users%\\AppData\\Roaming</code>。  </p>\n<h2 id=\"解決方法\"><a href=\"#解決方法\" class=\"headerlink\" title=\"解決方法\"></a>解決方法</h2><ol>\n<li>設定 npm registry  <blockquote>\n<p>npm set registry <a href=\"https://registry.npmjs.org\" target=\"_blank\" rel=\"noopener\">https://registry.npmjs.org</a>  </p>\n</blockquote>\n</li>\n<li>刪除專案底下的 node_modules 資料夾</li>\n<li>刪除 npm-cache</li>\n<li>重新執行 <code>npm install</code></li>\n</ol>\n<p>(fin)</p>\n"},{"title":"[讀書會]單元測試的藝術 - 導讀、序與第一章","date":"2018-03-21T17:20:12.000Z","_content":"\n## 要知道的事\n1. 這是[單元測試的藝術](http://www.books.com.tw/products/0010765689)的閱讀筆記\n2. 筆記的意思就是不一定會有心得\n3. 這篇主要是導讀\n\n## 譯者序\n- TDD , Test First to Think First\n- 什麼是好的單元測試？\n- 單元測試三支柱:可信任 可讀性 可維護\n- 綠色安全區域\n- 實務上導入的指引\n\n### 入門建議\n- 了解如何隔離相依(Part II)\n- Stub 與 Mock 的差異,熟練隔離框架(NSubstitute)\n- 如何撰寫優秀的單元測試(Part III)\n\n### 進階建議\n- 如何撰寫優秀的單元測試(Part III)\n- 如何在組織中導入單元測試(Part IV)\n- 針對遺留代碼的重構與測試,以及可測試性設計(Part IV)\n\n### 避免\n1. 測試不穩定\n2. 過度指定\n3. 一次不只測一件事\n4. 測試程式重複過多\n5. 可讀性差\n\n## 關於本書\n\n### 前言\n有寫測試, 也不保証專案成功,  \n一個失敗的單元測試案例,  \n作者歸納原因如下,  \n- 脆弱的測試(Prod改一點,測試就錯一大片)\n- 不易維護\n- 測試間相護依賴\n- 可讀性差\n\n### 作者推薦的框架\n- [NSubstitute](http://nsubstitute.github.io)\n- [FakeItEasy](https://github.com/FakeItEasy/FakeItEasy)\n\n### 學習路線圖\n- Part I 基礎知識\n- Part II 測試框架\n- Part III 最佳實踐\n- Part IV 組識導入/遺留代碼/設計\n\n## 目錄\n1. 入門\n\t- 什麼是優秀的單元測試\n\t- 單元測試與整合測試的分別\n\t- 第一個單元測試\n2. 核心技術\n\t- Stub\n\t- IoC(DI)\n\t- 值、狀態與互動\n\t- 測試框架\n\t- 事件\n\t- 深入了解測試框架\n3. 測試程式碼\n\t- 自動化\n\t- 綠色安全區域\n\t- 可信任/可維護/可讀性\n4. 設計與流程\n\t- 組織導入\n\t- 遺留代碼\n\t- 設計與可測試性\n\n## 第一章\n### 定義單元測試\n\n### 什麼是優秀的單元測試\n1. 自動化, 可重複執行\n2. 容易實現*\n3. 到第二天還有存在的意義(非臨時性的,ex:hotfix)\n4. 任何都可以一鍵執行\n5. 執行速度快\n6. 結果一致\n7. 可以完全控制(不與外部相依)\n8. 獨立於其他測試\n9. 失敗時,錯誤應該是明確的\n\n### 整合測試\n1. 整合測試相依於真實物件\n2. 整合測試的結果不穩定\n3. 整合測試與單元測試應該被分開(見ch7.2.2)\n4. 整合測試執行時間長\n5. 依據現實狀況無法完全控制\n6. 缺點: 一次測試的東西太多\n\n### 第一個單元測試\n### 理解測試趨動開發\n1. TDD 不保證產品會成功\n2. 步驟\n\t1. 寫一個失敗的測試\n\t2. 寫一個符合測試預期的產品程式碼,以通過測試\n\t3. 重構\n\n### TDD的核心技能    \n1. 可維護、可讀、可靠(這本書的目的)\n2. 寫出可維護、可讀、可靠的測試不等於TDD,至於如何寫優秀的TDD,作者推薦閱讀[〈Test-Driven Development:by Example〉](https://www.tenlong.com.tw/products/9780321146533)\n3. 就算執行TDD,也不保証能設計一個完善的系統,作者推薦閱讀[Growing Object-Oriented Software, Guided by Tests](http://tl.big5.zxhsd.com/kgsm/ts/big5/2010/07/30/1801246.shtml)與[無瑕的程式碼](https://www.tenlong.com.tw/products/9789862017050)\n\n簡單說就是,\n- 寫好測試\n- 測試先行(TDD)\n- 設計\n\n作者認為這是三種技能, 同時學習三種技能門檻會相當的高, 最後導致放棄.\n\n### 小結\n- 優秀的測試就是\n    - 自動化\n    - 容易撰寫\n    - 執行快速\n    - 任何人都可以執行,並得到相同結果\n\n## 揪錯\n![](https://i.imgur.com/olnQxQ2.jpg)\n\n## 本書資源\n1. [Samples](https://github.com/royosherove/aout2)\n2. [The Art Of Unit Testing](http://artofunittesting.com/)\n3. [Videos](http://osherove.com/videos/)\n\n(fin)","source":"_posts/2018/the_art_of_unit_testing_2nd_0.md","raw":"---\ntitle: \"[讀書會]單元測試的藝術 - 導讀、序與第一章\"\ndate: 2018/03/22 01:20:12\ntag:\n  - TDD\n  - Unit Testing\n  - Integrated Testing\n---\n\n## 要知道的事\n1. 這是[單元測試的藝術](http://www.books.com.tw/products/0010765689)的閱讀筆記\n2. 筆記的意思就是不一定會有心得\n3. 這篇主要是導讀\n\n## 譯者序\n- TDD , Test First to Think First\n- 什麼是好的單元測試？\n- 單元測試三支柱:可信任 可讀性 可維護\n- 綠色安全區域\n- 實務上導入的指引\n\n### 入門建議\n- 了解如何隔離相依(Part II)\n- Stub 與 Mock 的差異,熟練隔離框架(NSubstitute)\n- 如何撰寫優秀的單元測試(Part III)\n\n### 進階建議\n- 如何撰寫優秀的單元測試(Part III)\n- 如何在組織中導入單元測試(Part IV)\n- 針對遺留代碼的重構與測試,以及可測試性設計(Part IV)\n\n### 避免\n1. 測試不穩定\n2. 過度指定\n3. 一次不只測一件事\n4. 測試程式重複過多\n5. 可讀性差\n\n## 關於本書\n\n### 前言\n有寫測試, 也不保証專案成功,  \n一個失敗的單元測試案例,  \n作者歸納原因如下,  \n- 脆弱的測試(Prod改一點,測試就錯一大片)\n- 不易維護\n- 測試間相護依賴\n- 可讀性差\n\n### 作者推薦的框架\n- [NSubstitute](http://nsubstitute.github.io)\n- [FakeItEasy](https://github.com/FakeItEasy/FakeItEasy)\n\n### 學習路線圖\n- Part I 基礎知識\n- Part II 測試框架\n- Part III 最佳實踐\n- Part IV 組識導入/遺留代碼/設計\n\n## 目錄\n1. 入門\n\t- 什麼是優秀的單元測試\n\t- 單元測試與整合測試的分別\n\t- 第一個單元測試\n2. 核心技術\n\t- Stub\n\t- IoC(DI)\n\t- 值、狀態與互動\n\t- 測試框架\n\t- 事件\n\t- 深入了解測試框架\n3. 測試程式碼\n\t- 自動化\n\t- 綠色安全區域\n\t- 可信任/可維護/可讀性\n4. 設計與流程\n\t- 組織導入\n\t- 遺留代碼\n\t- 設計與可測試性\n\n## 第一章\n### 定義單元測試\n\n### 什麼是優秀的單元測試\n1. 自動化, 可重複執行\n2. 容易實現*\n3. 到第二天還有存在的意義(非臨時性的,ex:hotfix)\n4. 任何都可以一鍵執行\n5. 執行速度快\n6. 結果一致\n7. 可以完全控制(不與外部相依)\n8. 獨立於其他測試\n9. 失敗時,錯誤應該是明確的\n\n### 整合測試\n1. 整合測試相依於真實物件\n2. 整合測試的結果不穩定\n3. 整合測試與單元測試應該被分開(見ch7.2.2)\n4. 整合測試執行時間長\n5. 依據現實狀況無法完全控制\n6. 缺點: 一次測試的東西太多\n\n### 第一個單元測試\n### 理解測試趨動開發\n1. TDD 不保證產品會成功\n2. 步驟\n\t1. 寫一個失敗的測試\n\t2. 寫一個符合測試預期的產品程式碼,以通過測試\n\t3. 重構\n\n### TDD的核心技能    \n1. 可維護、可讀、可靠(這本書的目的)\n2. 寫出可維護、可讀、可靠的測試不等於TDD,至於如何寫優秀的TDD,作者推薦閱讀[〈Test-Driven Development:by Example〉](https://www.tenlong.com.tw/products/9780321146533)\n3. 就算執行TDD,也不保証能設計一個完善的系統,作者推薦閱讀[Growing Object-Oriented Software, Guided by Tests](http://tl.big5.zxhsd.com/kgsm/ts/big5/2010/07/30/1801246.shtml)與[無瑕的程式碼](https://www.tenlong.com.tw/products/9789862017050)\n\n簡單說就是,\n- 寫好測試\n- 測試先行(TDD)\n- 設計\n\n作者認為這是三種技能, 同時學習三種技能門檻會相當的高, 最後導致放棄.\n\n### 小結\n- 優秀的測試就是\n    - 自動化\n    - 容易撰寫\n    - 執行快速\n    - 任何人都可以執行,並得到相同結果\n\n## 揪錯\n![](https://i.imgur.com/olnQxQ2.jpg)\n\n## 本書資源\n1. [Samples](https://github.com/royosherove/aout2)\n2. [The Art Of Unit Testing](http://artofunittesting.com/)\n3. [Videos](http://osherove.com/videos/)\n\n(fin)","slug":"2018/the_art_of_unit_testing_2nd_0","published":1,"updated":"2019-06-10T14:43:28.938Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wlq0024b0vxrtcioljx","content":"<h2 id=\"要知道的事\"><a href=\"#要知道的事\" class=\"headerlink\" title=\"要知道的事\"></a>要知道的事</h2><ol>\n<li>這是<a href=\"http://www.books.com.tw/products/0010765689\" target=\"_blank\" rel=\"noopener\">單元測試的藝術</a>的閱讀筆記</li>\n<li>筆記的意思就是不一定會有心得</li>\n<li>這篇主要是導讀</li>\n</ol>\n<h2 id=\"譯者序\"><a href=\"#譯者序\" class=\"headerlink\" title=\"譯者序\"></a>譯者序</h2><ul>\n<li>TDD , Test First to Think First</li>\n<li>什麼是好的單元測試？</li>\n<li>單元測試三支柱:可信任 可讀性 可維護</li>\n<li>綠色安全區域</li>\n<li>實務上導入的指引</li>\n</ul>\n<h3 id=\"入門建議\"><a href=\"#入門建議\" class=\"headerlink\" title=\"入門建議\"></a>入門建議</h3><ul>\n<li>了解如何隔離相依(Part II)</li>\n<li>Stub 與 Mock 的差異,熟練隔離框架(NSubstitute)</li>\n<li>如何撰寫優秀的單元測試(Part III)</li>\n</ul>\n<h3 id=\"進階建議\"><a href=\"#進階建議\" class=\"headerlink\" title=\"進階建議\"></a>進階建議</h3><ul>\n<li>如何撰寫優秀的單元測試(Part III)</li>\n<li>如何在組織中導入單元測試(Part IV)</li>\n<li>針對遺留代碼的重構與測試,以及可測試性設計(Part IV)</li>\n</ul>\n<h3 id=\"避免\"><a href=\"#避免\" class=\"headerlink\" title=\"避免\"></a>避免</h3><ol>\n<li>測試不穩定</li>\n<li>過度指定</li>\n<li>一次不只測一件事</li>\n<li>測試程式重複過多</li>\n<li>可讀性差</li>\n</ol>\n<h2 id=\"關於本書\"><a href=\"#關於本書\" class=\"headerlink\" title=\"關於本書\"></a>關於本書</h2><h3 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h3><p>有寫測試, 也不保証專案成功,<br>一個失敗的單元測試案例,<br>作者歸納原因如下,  </p>\n<ul>\n<li>脆弱的測試(Prod改一點,測試就錯一大片)</li>\n<li>不易維護</li>\n<li>測試間相護依賴</li>\n<li>可讀性差</li>\n</ul>\n<h3 id=\"作者推薦的框架\"><a href=\"#作者推薦的框架\" class=\"headerlink\" title=\"作者推薦的框架\"></a>作者推薦的框架</h3><ul>\n<li><a href=\"http://nsubstitute.github.io\" target=\"_blank\" rel=\"noopener\">NSubstitute</a></li>\n<li><a href=\"https://github.com/FakeItEasy/FakeItEasy\" target=\"_blank\" rel=\"noopener\">FakeItEasy</a></li>\n</ul>\n<h3 id=\"學習路線圖\"><a href=\"#學習路線圖\" class=\"headerlink\" title=\"學習路線圖\"></a>學習路線圖</h3><ul>\n<li>Part I 基礎知識</li>\n<li>Part II 測試框架</li>\n<li>Part III 最佳實踐</li>\n<li>Part IV 組識導入/遺留代碼/設計</li>\n</ul>\n<h2 id=\"目錄\"><a href=\"#目錄\" class=\"headerlink\" title=\"目錄\"></a>目錄</h2><ol>\n<li>入門<ul>\n<li>什麼是優秀的單元測試</li>\n<li>單元測試與整合測試的分別</li>\n<li>第一個單元測試</li>\n</ul>\n</li>\n<li>核心技術<ul>\n<li>Stub</li>\n<li>IoC(DI)</li>\n<li>值、狀態與互動</li>\n<li>測試框架</li>\n<li>事件</li>\n<li>深入了解測試框架</li>\n</ul>\n</li>\n<li>測試程式碼<ul>\n<li>自動化</li>\n<li>綠色安全區域</li>\n<li>可信任/可維護/可讀性</li>\n</ul>\n</li>\n<li>設計與流程<ul>\n<li>組織導入</li>\n<li>遺留代碼</li>\n<li>設計與可測試性</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"第一章\"><a href=\"#第一章\" class=\"headerlink\" title=\"第一章\"></a>第一章</h2><h3 id=\"定義單元測試\"><a href=\"#定義單元測試\" class=\"headerlink\" title=\"定義單元測試\"></a>定義單元測試</h3><h3 id=\"什麼是優秀的單元測試\"><a href=\"#什麼是優秀的單元測試\" class=\"headerlink\" title=\"什麼是優秀的單元測試\"></a>什麼是優秀的單元測試</h3><ol>\n<li>自動化, 可重複執行</li>\n<li>容易實現*</li>\n<li>到第二天還有存在的意義(非臨時性的,ex:hotfix)</li>\n<li>任何都可以一鍵執行</li>\n<li>執行速度快</li>\n<li>結果一致</li>\n<li>可以完全控制(不與外部相依)</li>\n<li>獨立於其他測試</li>\n<li>失敗時,錯誤應該是明確的</li>\n</ol>\n<h3 id=\"整合測試\"><a href=\"#整合測試\" class=\"headerlink\" title=\"整合測試\"></a>整合測試</h3><ol>\n<li>整合測試相依於真實物件</li>\n<li>整合測試的結果不穩定</li>\n<li>整合測試與單元測試應該被分開(見ch7.2.2)</li>\n<li>整合測試執行時間長</li>\n<li>依據現實狀況無法完全控制</li>\n<li>缺點: 一次測試的東西太多</li>\n</ol>\n<h3 id=\"第一個單元測試\"><a href=\"#第一個單元測試\" class=\"headerlink\" title=\"第一個單元測試\"></a>第一個單元測試</h3><h3 id=\"理解測試趨動開發\"><a href=\"#理解測試趨動開發\" class=\"headerlink\" title=\"理解測試趨動開發\"></a>理解測試趨動開發</h3><ol>\n<li>TDD 不保證產品會成功</li>\n<li>步驟<ol>\n<li>寫一個失敗的測試</li>\n<li>寫一個符合測試預期的產品程式碼,以通過測試</li>\n<li>重構</li>\n</ol>\n</li>\n</ol>\n<h3 id=\"TDD的核心技能\"><a href=\"#TDD的核心技能\" class=\"headerlink\" title=\"TDD的核心技能\"></a>TDD的核心技能</h3><ol>\n<li>可維護、可讀、可靠(這本書的目的)</li>\n<li>寫出可維護、可讀、可靠的測試不等於TDD,至於如何寫優秀的TDD,作者推薦閱讀<a href=\"https://www.tenlong.com.tw/products/9780321146533\" target=\"_blank\" rel=\"noopener\">〈Test-Driven Development:by Example〉</a></li>\n<li>就算執行TDD,也不保証能設計一個完善的系統,作者推薦閱讀<a href=\"http://tl.big5.zxhsd.com/kgsm/ts/big5/2010/07/30/1801246.shtml\" target=\"_blank\" rel=\"noopener\">Growing Object-Oriented Software, Guided by Tests</a>與<a href=\"https://www.tenlong.com.tw/products/9789862017050\" target=\"_blank\" rel=\"noopener\">無瑕的程式碼</a></li>\n</ol>\n<p>簡單說就是,</p>\n<ul>\n<li>寫好測試</li>\n<li>測試先行(TDD)</li>\n<li>設計</li>\n</ul>\n<p>作者認為這是三種技能, 同時學習三種技能門檻會相當的高, 最後導致放棄.</p>\n<h3 id=\"小結\"><a href=\"#小結\" class=\"headerlink\" title=\"小結\"></a>小結</h3><ul>\n<li>優秀的測試就是<ul>\n<li>自動化</li>\n<li>容易撰寫</li>\n<li>執行快速</li>\n<li>任何人都可以執行,並得到相同結果</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"揪錯\"><a href=\"#揪錯\" class=\"headerlink\" title=\"揪錯\"></a>揪錯</h2><p><img src=\"https://i.imgur.com/olnQxQ2.jpg\" alt></p>\n<h2 id=\"本書資源\"><a href=\"#本書資源\" class=\"headerlink\" title=\"本書資源\"></a>本書資源</h2><ol>\n<li><a href=\"https://github.com/royosherove/aout2\" target=\"_blank\" rel=\"noopener\">Samples</a></li>\n<li><a href=\"http://artofunittesting.com/\" target=\"_blank\" rel=\"noopener\">The Art Of Unit Testing</a></li>\n<li><a href=\"http://osherove.com/videos/\" target=\"_blank\" rel=\"noopener\">Videos</a></li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"要知道的事\"><a href=\"#要知道的事\" class=\"headerlink\" title=\"要知道的事\"></a>要知道的事</h2><ol>\n<li>這是<a href=\"http://www.books.com.tw/products/0010765689\" target=\"_blank\" rel=\"noopener\">單元測試的藝術</a>的閱讀筆記</li>\n<li>筆記的意思就是不一定會有心得</li>\n<li>這篇主要是導讀</li>\n</ol>\n<h2 id=\"譯者序\"><a href=\"#譯者序\" class=\"headerlink\" title=\"譯者序\"></a>譯者序</h2><ul>\n<li>TDD , Test First to Think First</li>\n<li>什麼是好的單元測試？</li>\n<li>單元測試三支柱:可信任 可讀性 可維護</li>\n<li>綠色安全區域</li>\n<li>實務上導入的指引</li>\n</ul>\n<h3 id=\"入門建議\"><a href=\"#入門建議\" class=\"headerlink\" title=\"入門建議\"></a>入門建議</h3><ul>\n<li>了解如何隔離相依(Part II)</li>\n<li>Stub 與 Mock 的差異,熟練隔離框架(NSubstitute)</li>\n<li>如何撰寫優秀的單元測試(Part III)</li>\n</ul>\n<h3 id=\"進階建議\"><a href=\"#進階建議\" class=\"headerlink\" title=\"進階建議\"></a>進階建議</h3><ul>\n<li>如何撰寫優秀的單元測試(Part III)</li>\n<li>如何在組織中導入單元測試(Part IV)</li>\n<li>針對遺留代碼的重構與測試,以及可測試性設計(Part IV)</li>\n</ul>\n<h3 id=\"避免\"><a href=\"#避免\" class=\"headerlink\" title=\"避免\"></a>避免</h3><ol>\n<li>測試不穩定</li>\n<li>過度指定</li>\n<li>一次不只測一件事</li>\n<li>測試程式重複過多</li>\n<li>可讀性差</li>\n</ol>\n<h2 id=\"關於本書\"><a href=\"#關於本書\" class=\"headerlink\" title=\"關於本書\"></a>關於本書</h2><h3 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h3><p>有寫測試, 也不保証專案成功,<br>一個失敗的單元測試案例,<br>作者歸納原因如下,  </p>\n<ul>\n<li>脆弱的測試(Prod改一點,測試就錯一大片)</li>\n<li>不易維護</li>\n<li>測試間相護依賴</li>\n<li>可讀性差</li>\n</ul>\n<h3 id=\"作者推薦的框架\"><a href=\"#作者推薦的框架\" class=\"headerlink\" title=\"作者推薦的框架\"></a>作者推薦的框架</h3><ul>\n<li><a href=\"http://nsubstitute.github.io\" target=\"_blank\" rel=\"noopener\">NSubstitute</a></li>\n<li><a href=\"https://github.com/FakeItEasy/FakeItEasy\" target=\"_blank\" rel=\"noopener\">FakeItEasy</a></li>\n</ul>\n<h3 id=\"學習路線圖\"><a href=\"#學習路線圖\" class=\"headerlink\" title=\"學習路線圖\"></a>學習路線圖</h3><ul>\n<li>Part I 基礎知識</li>\n<li>Part II 測試框架</li>\n<li>Part III 最佳實踐</li>\n<li>Part IV 組識導入/遺留代碼/設計</li>\n</ul>\n<h2 id=\"目錄\"><a href=\"#目錄\" class=\"headerlink\" title=\"目錄\"></a>目錄</h2><ol>\n<li>入門<ul>\n<li>什麼是優秀的單元測試</li>\n<li>單元測試與整合測試的分別</li>\n<li>第一個單元測試</li>\n</ul>\n</li>\n<li>核心技術<ul>\n<li>Stub</li>\n<li>IoC(DI)</li>\n<li>值、狀態與互動</li>\n<li>測試框架</li>\n<li>事件</li>\n<li>深入了解測試框架</li>\n</ul>\n</li>\n<li>測試程式碼<ul>\n<li>自動化</li>\n<li>綠色安全區域</li>\n<li>可信任/可維護/可讀性</li>\n</ul>\n</li>\n<li>設計與流程<ul>\n<li>組織導入</li>\n<li>遺留代碼</li>\n<li>設計與可測試性</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"第一章\"><a href=\"#第一章\" class=\"headerlink\" title=\"第一章\"></a>第一章</h2><h3 id=\"定義單元測試\"><a href=\"#定義單元測試\" class=\"headerlink\" title=\"定義單元測試\"></a>定義單元測試</h3><h3 id=\"什麼是優秀的單元測試\"><a href=\"#什麼是優秀的單元測試\" class=\"headerlink\" title=\"什麼是優秀的單元測試\"></a>什麼是優秀的單元測試</h3><ol>\n<li>自動化, 可重複執行</li>\n<li>容易實現*</li>\n<li>到第二天還有存在的意義(非臨時性的,ex:hotfix)</li>\n<li>任何都可以一鍵執行</li>\n<li>執行速度快</li>\n<li>結果一致</li>\n<li>可以完全控制(不與外部相依)</li>\n<li>獨立於其他測試</li>\n<li>失敗時,錯誤應該是明確的</li>\n</ol>\n<h3 id=\"整合測試\"><a href=\"#整合測試\" class=\"headerlink\" title=\"整合測試\"></a>整合測試</h3><ol>\n<li>整合測試相依於真實物件</li>\n<li>整合測試的結果不穩定</li>\n<li>整合測試與單元測試應該被分開(見ch7.2.2)</li>\n<li>整合測試執行時間長</li>\n<li>依據現實狀況無法完全控制</li>\n<li>缺點: 一次測試的東西太多</li>\n</ol>\n<h3 id=\"第一個單元測試\"><a href=\"#第一個單元測試\" class=\"headerlink\" title=\"第一個單元測試\"></a>第一個單元測試</h3><h3 id=\"理解測試趨動開發\"><a href=\"#理解測試趨動開發\" class=\"headerlink\" title=\"理解測試趨動開發\"></a>理解測試趨動開發</h3><ol>\n<li>TDD 不保證產品會成功</li>\n<li>步驟<ol>\n<li>寫一個失敗的測試</li>\n<li>寫一個符合測試預期的產品程式碼,以通過測試</li>\n<li>重構</li>\n</ol>\n</li>\n</ol>\n<h3 id=\"TDD的核心技能\"><a href=\"#TDD的核心技能\" class=\"headerlink\" title=\"TDD的核心技能\"></a>TDD的核心技能</h3><ol>\n<li>可維護、可讀、可靠(這本書的目的)</li>\n<li>寫出可維護、可讀、可靠的測試不等於TDD,至於如何寫優秀的TDD,作者推薦閱讀<a href=\"https://www.tenlong.com.tw/products/9780321146533\" target=\"_blank\" rel=\"noopener\">〈Test-Driven Development:by Example〉</a></li>\n<li>就算執行TDD,也不保証能設計一個完善的系統,作者推薦閱讀<a href=\"http://tl.big5.zxhsd.com/kgsm/ts/big5/2010/07/30/1801246.shtml\" target=\"_blank\" rel=\"noopener\">Growing Object-Oriented Software, Guided by Tests</a>與<a href=\"https://www.tenlong.com.tw/products/9789862017050\" target=\"_blank\" rel=\"noopener\">無瑕的程式碼</a></li>\n</ol>\n<p>簡單說就是,</p>\n<ul>\n<li>寫好測試</li>\n<li>測試先行(TDD)</li>\n<li>設計</li>\n</ul>\n<p>作者認為這是三種技能, 同時學習三種技能門檻會相當的高, 最後導致放棄.</p>\n<h3 id=\"小結\"><a href=\"#小結\" class=\"headerlink\" title=\"小結\"></a>小結</h3><ul>\n<li>優秀的測試就是<ul>\n<li>自動化</li>\n<li>容易撰寫</li>\n<li>執行快速</li>\n<li>任何人都可以執行,並得到相同結果</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"揪錯\"><a href=\"#揪錯\" class=\"headerlink\" title=\"揪錯\"></a>揪錯</h2><p><img src=\"https://i.imgur.com/olnQxQ2.jpg\" alt></p>\n<h2 id=\"本書資源\"><a href=\"#本書資源\" class=\"headerlink\" title=\"本書資源\"></a>本書資源</h2><ol>\n<li><a href=\"https://github.com/royosherove/aout2\" target=\"_blank\" rel=\"noopener\">Samples</a></li>\n<li><a href=\"http://artofunittesting.com/\" target=\"_blank\" rel=\"noopener\">The Art Of Unit Testing</a></li>\n<li><a href=\"http://osherove.com/videos/\" target=\"_blank\" rel=\"noopener\">Videos</a></li>\n</ol>\n<p>(fin)</p>\n"},{"title":"[翻譯]為什麼IBM/Google/Microsoft都要在今年增加對台投資?","date":"2018-04-08T15:22:20.000Z","_content":"## [原文](https://www.forbes.com/sites/ralphjennings/2018/04/04/why-google-ibm-and-microsoft-all-decided-to-expand-in-taiwan-this-year/#4fda82d5c721)\n\n## 重點節錄\n1. [Google 宣布要在台灣顧用300名員工並訓練5000名學生在人工智能領域](https://www.blog.google/topics/google-asia/intelligent-taiwan/)\n2. [微軟也表明未來要在台灣發展AI業務,5年內投資3400萬鎂並招聘200人](https://news.microsoft.com/apac/2018/01/12/microsoft-launches-artificial-intelligence-research-hub-taiwan/)\n3. [IBM也表示將在台灣擴展AI/區塊鏈/雲計算等相關的研發中心,並增聘100人以上](https://meet.bnext.com.tw/intl/articles/view/42553)\n\n\n## 美國的投資與台灣的人材\n### 台灣的優點\n1. 人材容易訓練適應AI等新產業的工作\n\t- 通常大學畢業生都有基礎工程知識\n\t- 台灣的擁有製造業供應鏈(跨軟韌硬體)的人材\n\t- 便宜(Orz)\n2. 地理優勢(東北亞\\東南亞\\中國)\n3. 台灣目前政策\n\t- IoT(物聯網)與智能機器\n\t- 正在進行產業轉型(硬轉軟)\n4. 其它\n\t- 穩定且便宜的電力與其它基礎建設\n\t- 合理的成本結構\n\n### 中國的競爭\n1. 人材更便宜\n2. 美中貿易戰的擔心\n\t- 資訊安全\n\t- 智慧財產\n\n### 其它\n- [Google 在台職缺](https://careers.google.com/jobs#t=sq&q=j&li=20&l=false&jl=25.0329636%3A121.56542680000007%3ATaipei+City%2C+Taiwan%3ATW%3A%3A13.76366184019967%3AADMIN_1&jld=10&&jcoid=7c8c6665-81cf-4e11-8fc9-ec1d6a69120c&jcoid=e43afd0d-d215-45db-a154-5386c9036525&)\n- **[Google 的 Machine Learning 教程](https://developers.google.com/machine-learning/crash-course/)**\n- [IBM 職缺](https://krb-sjobs.brassring.com/TGnewUI/Search/Home/Home?partnerid=26059&siteid=5016&cm_mc_uid=66190819784615216541845&cm_mc_sid_50200000=93350001523199145451#keyWordSearch=&locationSearch=Taiwan&City%20%2F%20Township%20%2F%20Village=TAIPEI&Country%2FRegion=Taiwan)\n\n(fin)","source":"_posts/2018/why-google-ibm-and-microsoft-all-decided-to-expand-in-taiwan-this-year.md","raw":"---\ntitle: \"[翻譯]為什麼IBM/Google/Microsoft都要在今年增加對台投資?\"\ndate: 2018/04/08 23:22:20\ntag:\n  - 產業趨勢\n  - IoT\n  - AI\n  - Machine Learning\n---\n## [原文](https://www.forbes.com/sites/ralphjennings/2018/04/04/why-google-ibm-and-microsoft-all-decided-to-expand-in-taiwan-this-year/#4fda82d5c721)\n\n## 重點節錄\n1. [Google 宣布要在台灣顧用300名員工並訓練5000名學生在人工智能領域](https://www.blog.google/topics/google-asia/intelligent-taiwan/)\n2. [微軟也表明未來要在台灣發展AI業務,5年內投資3400萬鎂並招聘200人](https://news.microsoft.com/apac/2018/01/12/microsoft-launches-artificial-intelligence-research-hub-taiwan/)\n3. [IBM也表示將在台灣擴展AI/區塊鏈/雲計算等相關的研發中心,並增聘100人以上](https://meet.bnext.com.tw/intl/articles/view/42553)\n\n\n## 美國的投資與台灣的人材\n### 台灣的優點\n1. 人材容易訓練適應AI等新產業的工作\n\t- 通常大學畢業生都有基礎工程知識\n\t- 台灣的擁有製造業供應鏈(跨軟韌硬體)的人材\n\t- 便宜(Orz)\n2. 地理優勢(東北亞\\東南亞\\中國)\n3. 台灣目前政策\n\t- IoT(物聯網)與智能機器\n\t- 正在進行產業轉型(硬轉軟)\n4. 其它\n\t- 穩定且便宜的電力與其它基礎建設\n\t- 合理的成本結構\n\n### 中國的競爭\n1. 人材更便宜\n2. 美中貿易戰的擔心\n\t- 資訊安全\n\t- 智慧財產\n\n### 其它\n- [Google 在台職缺](https://careers.google.com/jobs#t=sq&q=j&li=20&l=false&jl=25.0329636%3A121.56542680000007%3ATaipei+City%2C+Taiwan%3ATW%3A%3A13.76366184019967%3AADMIN_1&jld=10&&jcoid=7c8c6665-81cf-4e11-8fc9-ec1d6a69120c&jcoid=e43afd0d-d215-45db-a154-5386c9036525&)\n- **[Google 的 Machine Learning 教程](https://developers.google.com/machine-learning/crash-course/)**\n- [IBM 職缺](https://krb-sjobs.brassring.com/TGnewUI/Search/Home/Home?partnerid=26059&siteid=5016&cm_mc_uid=66190819784615216541845&cm_mc_sid_50200000=93350001523199145451#keyWordSearch=&locationSearch=Taiwan&City%20%2F%20Township%20%2F%20Village=TAIPEI&Country%2FRegion=Taiwan)\n\n(fin)","slug":"2018/why-google-ibm-and-microsoft-all-decided-to-expand-in-taiwan-this-year","published":1,"updated":"2019-06-10T14:43:28.939Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wlt0027b0vxh1zx1ubv","content":"<h2 id=\"原文\"><a href=\"#原文\" class=\"headerlink\" title=\"原文\"></a><a href=\"https://www.forbes.com/sites/ralphjennings/2018/04/04/why-google-ibm-and-microsoft-all-decided-to-expand-in-taiwan-this-year/#4fda82d5c721\" target=\"_blank\" rel=\"noopener\">原文</a></h2><h2 id=\"重點節錄\"><a href=\"#重點節錄\" class=\"headerlink\" title=\"重點節錄\"></a>重點節錄</h2><ol>\n<li><a href=\"https://www.blog.google/topics/google-asia/intelligent-taiwan/\" target=\"_blank\" rel=\"noopener\">Google 宣布要在台灣顧用300名員工並訓練5000名學生在人工智能領域</a></li>\n<li><a href=\"https://news.microsoft.com/apac/2018/01/12/microsoft-launches-artificial-intelligence-research-hub-taiwan/\" target=\"_blank\" rel=\"noopener\">微軟也表明未來要在台灣發展AI業務,5年內投資3400萬鎂並招聘200人</a></li>\n<li><a href=\"https://meet.bnext.com.tw/intl/articles/view/42553\" target=\"_blank\" rel=\"noopener\">IBM也表示將在台灣擴展AI/區塊鏈/雲計算等相關的研發中心,並增聘100人以上</a></li>\n</ol>\n<h2 id=\"美國的投資與台灣的人材\"><a href=\"#美國的投資與台灣的人材\" class=\"headerlink\" title=\"美國的投資與台灣的人材\"></a>美國的投資與台灣的人材</h2><h3 id=\"台灣的優點\"><a href=\"#台灣的優點\" class=\"headerlink\" title=\"台灣的優點\"></a>台灣的優點</h3><ol>\n<li>人材容易訓練適應AI等新產業的工作<ul>\n<li>通常大學畢業生都有基礎工程知識</li>\n<li>台灣的擁有製造業供應鏈(跨軟韌硬體)的人材</li>\n<li>便宜(Orz)</li>\n</ul>\n</li>\n<li>地理優勢(東北亞\\東南亞\\中國)</li>\n<li>台灣目前政策<ul>\n<li>IoT(物聯網)與智能機器</li>\n<li>正在進行產業轉型(硬轉軟)</li>\n</ul>\n</li>\n<li>其它<ul>\n<li>穩定且便宜的電力與其它基礎建設</li>\n<li>合理的成本結構</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"中國的競爭\"><a href=\"#中國的競爭\" class=\"headerlink\" title=\"中國的競爭\"></a>中國的競爭</h3><ol>\n<li>人材更便宜</li>\n<li>美中貿易戰的擔心<ul>\n<li>資訊安全</li>\n<li>智慧財產</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h3><ul>\n<li><a href=\"https://careers.google.com/jobs#t=sq&q=j&li=20&l=false&jl=25.0329636%3A121.56542680000007%3ATaipei+City%2C+Taiwan%3ATW%3A%3A13.76366184019967%3AADMIN_1&jld=10&&jcoid=7c8c6665-81cf-4e11-8fc9-ec1d6a69120c&jcoid=e43afd0d-d215-45db-a154-5386c9036525&\" target=\"_blank\" rel=\"noopener\">Google 在台職缺</a></li>\n<li><strong><a href=\"https://developers.google.com/machine-learning/crash-course/\" target=\"_blank\" rel=\"noopener\">Google 的 Machine Learning 教程</a></strong></li>\n<li><a href=\"https://krb-sjobs.brassring.com/TGnewUI/Search/Home/Home?partnerid=26059&siteid=5016&cm_mc_uid=66190819784615216541845&cm_mc_sid_50200000=93350001523199145451#keyWordSearch=&locationSearch=Taiwan&City%20%2F%20Township%20%2F%20Village=TAIPEI&Country%2FRegion=Taiwan\" target=\"_blank\" rel=\"noopener\">IBM 職缺</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"原文\"><a href=\"#原文\" class=\"headerlink\" title=\"原文\"></a><a href=\"https://www.forbes.com/sites/ralphjennings/2018/04/04/why-google-ibm-and-microsoft-all-decided-to-expand-in-taiwan-this-year/#4fda82d5c721\" target=\"_blank\" rel=\"noopener\">原文</a></h2><h2 id=\"重點節錄\"><a href=\"#重點節錄\" class=\"headerlink\" title=\"重點節錄\"></a>重點節錄</h2><ol>\n<li><a href=\"https://www.blog.google/topics/google-asia/intelligent-taiwan/\" target=\"_blank\" rel=\"noopener\">Google 宣布要在台灣顧用300名員工並訓練5000名學生在人工智能領域</a></li>\n<li><a href=\"https://news.microsoft.com/apac/2018/01/12/microsoft-launches-artificial-intelligence-research-hub-taiwan/\" target=\"_blank\" rel=\"noopener\">微軟也表明未來要在台灣發展AI業務,5年內投資3400萬鎂並招聘200人</a></li>\n<li><a href=\"https://meet.bnext.com.tw/intl/articles/view/42553\" target=\"_blank\" rel=\"noopener\">IBM也表示將在台灣擴展AI/區塊鏈/雲計算等相關的研發中心,並增聘100人以上</a></li>\n</ol>\n<h2 id=\"美國的投資與台灣的人材\"><a href=\"#美國的投資與台灣的人材\" class=\"headerlink\" title=\"美國的投資與台灣的人材\"></a>美國的投資與台灣的人材</h2><h3 id=\"台灣的優點\"><a href=\"#台灣的優點\" class=\"headerlink\" title=\"台灣的優點\"></a>台灣的優點</h3><ol>\n<li>人材容易訓練適應AI等新產業的工作<ul>\n<li>通常大學畢業生都有基礎工程知識</li>\n<li>台灣的擁有製造業供應鏈(跨軟韌硬體)的人材</li>\n<li>便宜(Orz)</li>\n</ul>\n</li>\n<li>地理優勢(東北亞\\東南亞\\中國)</li>\n<li>台灣目前政策<ul>\n<li>IoT(物聯網)與智能機器</li>\n<li>正在進行產業轉型(硬轉軟)</li>\n</ul>\n</li>\n<li>其它<ul>\n<li>穩定且便宜的電力與其它基礎建設</li>\n<li>合理的成本結構</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"中國的競爭\"><a href=\"#中國的競爭\" class=\"headerlink\" title=\"中國的競爭\"></a>中國的競爭</h3><ol>\n<li>人材更便宜</li>\n<li>美中貿易戰的擔心<ul>\n<li>資訊安全</li>\n<li>智慧財產</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h3><ul>\n<li><a href=\"https://careers.google.com/jobs#t=sq&q=j&li=20&l=false&jl=25.0329636%3A121.56542680000007%3ATaipei+City%2C+Taiwan%3ATW%3A%3A13.76366184019967%3AADMIN_1&jld=10&&jcoid=7c8c6665-81cf-4e11-8fc9-ec1d6a69120c&jcoid=e43afd0d-d215-45db-a154-5386c9036525&\" target=\"_blank\" rel=\"noopener\">Google 在台職缺</a></li>\n<li><strong><a href=\"https://developers.google.com/machine-learning/crash-course/\" target=\"_blank\" rel=\"noopener\">Google 的 Machine Learning 教程</a></strong></li>\n<li><a href=\"https://krb-sjobs.brassring.com/TGnewUI/Search/Home/Home?partnerid=26059&siteid=5016&cm_mc_uid=66190819784615216541845&cm_mc_sid_50200000=93350001523199145451#keyWordSearch=&locationSearch=Taiwan&City%20%2F%20Township%20%2F%20Village=TAIPEI&Country%2FRegion=Taiwan\" target=\"_blank\" rel=\"noopener\">IBM 職缺</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[踩雷筆記] .Net專案升級 SpecRun.Runner 與調整 CI ","date":"2018-08-27T10:42:16.000Z","_content":"\n## 前情提要\n- 專案使用 Specflow 寫 BDD\n- Visual Stuio 找不到測試所以才升級 SpecRun 與 Specflow\n- Visual Studio 2017 升級到 15.8.1 後突然無法正常搜尋到測試\n- SpecRun.Runner 升級(1.2 → 1.8.2)\n\n去年12月跟 Visual Studio 折騰了許久，才讓專案的[測試項目重見光明](https://blog.marsen.me/2017/12/11/test_learn/vs2017_mstest_with_nuget/)，  \n在今年與其它專案合併後，測試又從我們團隊的眼前消失了。\n\n## 調整項目\n升級 Specflow 與 SpecRun 相關套件\n![](https://i.imgur.com/nwl6xFp.jpg)\n\n取得 SpecRun 位於專案的 `packages` 資料夾中。\n![](https://i.imgur.com/EyaFEFI.jpg)\n\n## 設定 CI\n\n由於 SpecRun 版本不符會導致 CI Job Error , 需要設定以新的 SpecRun 執行 CI\n\n>D:\\SpecRun.Runner.1.8.2\\tools\\SpecRun.exe run D:\\Project\\Core.Test\\bin\\Debug\\Core.Test.dll /baseFolder:Core.Test\\bin\\Prod /toolIntegration:vs201 0 /reportFile:Core.Test.TestResult.html\n\n## 參考\n- VS2017的測試總管找不到測試項目，或僅有部分資料  \n  說明：Something changed in the NUnit and XUnit Test Adapter.  \n  But I am not sure, if it really worked before the Visual Studio update.  \n  I think I saw this behavior already in earlier versions of Visual Studio and NUnit3/XUnit2. (此原因尚未被實證)\n    -   解法1(暫解)：\n        工具>擴充功能和更新>停用\"Dotnet Extensions for Test Explorer\"\n    - 解法2(暫解): \n        改用VS2015\n    - 參考: \n        - [Unable to fetch source Information for test method](https://developercommunity.visualstudio.com/content/problem/158160/unable-to-fetch-source-information-for-test-method.html)  \n        - [Open SpecFlow test from Text Explorer goes to the feature class file not the feature file #990](https://github.com/techtalk/SpecFlow/issues/990)\n\n- We could not find a data exchange file at the path System.ArgumentNullException\n    - 說明: 聽說SpecFlow 2.2 fixed \n    - 解法(暫解): Tools > Options > SpecFlow >Data Exchange Path，隨便設定一個路徑去 overwrite the default value\n    - 參考:\n        - [Build fails: We could not find a data exchange file](https://github.com/techtalk/SpecFlow/issues/1234)\n        - [Visual Studio 2017 Generation error: Could not load file or assembly 'Microsoft.Build.Framework, Version=15.1.0.0](https://github.com/techtalk/SpecFlow/issues/857)\n        - [Visual Studio Plugin for VS2017 does not always use Specflow Generator 2.2.0.0](https://github.com/techtalk/SpecFlow/issues/896)\n        - [SpecFlow with SpecRun and NUnit fails with ArgumentNullException #639](https://github.com/techtalk/SpecFlow/issues/639)\n\n(fin)","source":"_posts/2018/where_is_specrun.md","raw":"---\ntitle: \"[踩雷筆記] .Net專案升級 SpecRun.Runner 與調整 CI \"\ndate: 2018/08/27 18:42:16\ntag:\n  - Unit Testing\n  - Specflow\n---\n\n## 前情提要\n- 專案使用 Specflow 寫 BDD\n- Visual Stuio 找不到測試所以才升級 SpecRun 與 Specflow\n- Visual Studio 2017 升級到 15.8.1 後突然無法正常搜尋到測試\n- SpecRun.Runner 升級(1.2 → 1.8.2)\n\n去年12月跟 Visual Studio 折騰了許久，才讓專案的[測試項目重見光明](https://blog.marsen.me/2017/12/11/test_learn/vs2017_mstest_with_nuget/)，  \n在今年與其它專案合併後，測試又從我們團隊的眼前消失了。\n\n## 調整項目\n升級 Specflow 與 SpecRun 相關套件\n![](https://i.imgur.com/nwl6xFp.jpg)\n\n取得 SpecRun 位於專案的 `packages` 資料夾中。\n![](https://i.imgur.com/EyaFEFI.jpg)\n\n## 設定 CI\n\n由於 SpecRun 版本不符會導致 CI Job Error , 需要設定以新的 SpecRun 執行 CI\n\n>D:\\SpecRun.Runner.1.8.2\\tools\\SpecRun.exe run D:\\Project\\Core.Test\\bin\\Debug\\Core.Test.dll /baseFolder:Core.Test\\bin\\Prod /toolIntegration:vs201 0 /reportFile:Core.Test.TestResult.html\n\n## 參考\n- VS2017的測試總管找不到測試項目，或僅有部分資料  \n  說明：Something changed in the NUnit and XUnit Test Adapter.  \n  But I am not sure, if it really worked before the Visual Studio update.  \n  I think I saw this behavior already in earlier versions of Visual Studio and NUnit3/XUnit2. (此原因尚未被實證)\n    -   解法1(暫解)：\n        工具>擴充功能和更新>停用\"Dotnet Extensions for Test Explorer\"\n    - 解法2(暫解): \n        改用VS2015\n    - 參考: \n        - [Unable to fetch source Information for test method](https://developercommunity.visualstudio.com/content/problem/158160/unable-to-fetch-source-information-for-test-method.html)  \n        - [Open SpecFlow test from Text Explorer goes to the feature class file not the feature file #990](https://github.com/techtalk/SpecFlow/issues/990)\n\n- We could not find a data exchange file at the path System.ArgumentNullException\n    - 說明: 聽說SpecFlow 2.2 fixed \n    - 解法(暫解): Tools > Options > SpecFlow >Data Exchange Path，隨便設定一個路徑去 overwrite the default value\n    - 參考:\n        - [Build fails: We could not find a data exchange file](https://github.com/techtalk/SpecFlow/issues/1234)\n        - [Visual Studio 2017 Generation error: Could not load file or assembly 'Microsoft.Build.Framework, Version=15.1.0.0](https://github.com/techtalk/SpecFlow/issues/857)\n        - [Visual Studio Plugin for VS2017 does not always use Specflow Generator 2.2.0.0](https://github.com/techtalk/SpecFlow/issues/896)\n        - [SpecFlow with SpecRun and NUnit fails with ArgumentNullException #639](https://github.com/techtalk/SpecFlow/issues/639)\n\n(fin)","slug":"2018/where_is_specrun","published":1,"updated":"2019-06-10T14:43:28.938Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wlv0029b0vxjnm0gfri","content":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><ul>\n<li>專案使用 Specflow 寫 BDD</li>\n<li>Visual Stuio 找不到測試所以才升級 SpecRun 與 Specflow</li>\n<li>Visual Studio 2017 升級到 15.8.1 後突然無法正常搜尋到測試</li>\n<li>SpecRun.Runner 升級(1.2 → 1.8.2)</li>\n</ul>\n<p>去年12月跟 Visual Studio 折騰了許久，才讓專案的<a href=\"https://blog.marsen.me/2017/12/11/test_learn/vs2017_mstest_with_nuget/\">測試項目重見光明</a>，  \n在今年與其它專案合併後，測試又從我們團隊的眼前消失了。</p>\n<h2 id=\"調整項目\"><a href=\"#調整項目\" class=\"headerlink\" title=\"調整項目\"></a>調整項目</h2><p>升級 Specflow 與 SpecRun 相關套件<br><img src=\"https://i.imgur.com/nwl6xFp.jpg\" alt></p>\n<p>取得 SpecRun 位於專案的 <code>packages</code> 資料夾中。<br><img src=\"https://i.imgur.com/EyaFEFI.jpg\" alt></p>\n<h2 id=\"設定-CI\"><a href=\"#設定-CI\" class=\"headerlink\" title=\"設定 CI\"></a>設定 CI</h2><p>由於 SpecRun 版本不符會導致 CI Job Error , 需要設定以新的 SpecRun 執行 CI</p>\n<blockquote>\n<p>D:\\SpecRun.Runner.1.8.2\\tools\\SpecRun.exe run D:\\Project\\Core.Test\\bin\\Debug\\Core.Test.dll /baseFolder:Core.Test\\bin\\Prod /toolIntegration:vs201 0 /reportFile:Core.Test.TestResult.html</p>\n</blockquote>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><p>VS2017的測試總管找不到測試項目，或僅有部分資料<br>說明：Something changed in the NUnit and XUnit Test Adapter.<br>But I am not sure, if it really worked before the Visual Studio update.<br>I think I saw this behavior already in earlier versions of Visual Studio and NUnit3/XUnit2. (此原因尚未被實證)</p>\n<ul>\n<li>解法1(暫解)：<br>工具&gt;擴充功能和更新&gt;停用”Dotnet Extensions for Test Explorer”</li>\n<li>解法2(暫解):<br>  改用VS2015</li>\n<li>參考: <ul>\n<li><a href=\"https://developercommunity.visualstudio.com/content/problem/158160/unable-to-fetch-source-information-for-test-method.html\" target=\"_blank\" rel=\"noopener\">Unable to fetch source Information for test method</a>  </li>\n<li><a href=\"https://github.com/techtalk/SpecFlow/issues/990\" target=\"_blank\" rel=\"noopener\">Open SpecFlow test from Text Explorer goes to the feature class file not the feature file #990</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>We could not find a data exchange file at the path System.ArgumentNullException</p>\n<ul>\n<li>說明: 聽說SpecFlow 2.2 fixed </li>\n<li>解法(暫解): Tools &gt; Options &gt; SpecFlow &gt;Data Exchange Path，隨便設定一個路徑去 overwrite the default value</li>\n<li>參考:<ul>\n<li><a href=\"https://github.com/techtalk/SpecFlow/issues/1234\" target=\"_blank\" rel=\"noopener\">Build fails: We could not find a data exchange file</a></li>\n<li><a href=\"https://github.com/techtalk/SpecFlow/issues/857\" target=\"_blank\" rel=\"noopener\">Visual Studio 2017 Generation error: Could not load file or assembly ‘Microsoft.Build.Framework, Version=15.1.0.0</a></li>\n<li><a href=\"https://github.com/techtalk/SpecFlow/issues/896\" target=\"_blank\" rel=\"noopener\">Visual Studio Plugin for VS2017 does not always use Specflow Generator 2.2.0.0</a></li>\n<li><a href=\"https://github.com/techtalk/SpecFlow/issues/639\" target=\"_blank\" rel=\"noopener\">SpecFlow with SpecRun and NUnit fails with ArgumentNullException #639</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><ul>\n<li>專案使用 Specflow 寫 BDD</li>\n<li>Visual Stuio 找不到測試所以才升級 SpecRun 與 Specflow</li>\n<li>Visual Studio 2017 升級到 15.8.1 後突然無法正常搜尋到測試</li>\n<li>SpecRun.Runner 升級(1.2 → 1.8.2)</li>\n</ul>\n<p>去年12月跟 Visual Studio 折騰了許久，才讓專案的<a href=\"https://blog.marsen.me/2017/12/11/test_learn/vs2017_mstest_with_nuget/\">測試項目重見光明</a>，  \n在今年與其它專案合併後，測試又從我們團隊的眼前消失了。</p>\n<h2 id=\"調整項目\"><a href=\"#調整項目\" class=\"headerlink\" title=\"調整項目\"></a>調整項目</h2><p>升級 Specflow 與 SpecRun 相關套件<br><img src=\"https://i.imgur.com/nwl6xFp.jpg\" alt></p>\n<p>取得 SpecRun 位於專案的 <code>packages</code> 資料夾中。<br><img src=\"https://i.imgur.com/EyaFEFI.jpg\" alt></p>\n<h2 id=\"設定-CI\"><a href=\"#設定-CI\" class=\"headerlink\" title=\"設定 CI\"></a>設定 CI</h2><p>由於 SpecRun 版本不符會導致 CI Job Error , 需要設定以新的 SpecRun 執行 CI</p>\n<blockquote>\n<p>D:\\SpecRun.Runner.1.8.2\\tools\\SpecRun.exe run D:\\Project\\Core.Test\\bin\\Debug\\Core.Test.dll /baseFolder:Core.Test\\bin\\Prod /toolIntegration:vs201 0 /reportFile:Core.Test.TestResult.html</p>\n</blockquote>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><p>VS2017的測試總管找不到測試項目，或僅有部分資料<br>說明：Something changed in the NUnit and XUnit Test Adapter.<br>But I am not sure, if it really worked before the Visual Studio update.<br>I think I saw this behavior already in earlier versions of Visual Studio and NUnit3/XUnit2. (此原因尚未被實證)</p>\n<ul>\n<li>解法1(暫解)：<br>工具&gt;擴充功能和更新&gt;停用”Dotnet Extensions for Test Explorer”</li>\n<li>解法2(暫解):<br>  改用VS2015</li>\n<li>參考: <ul>\n<li><a href=\"https://developercommunity.visualstudio.com/content/problem/158160/unable-to-fetch-source-information-for-test-method.html\" target=\"_blank\" rel=\"noopener\">Unable to fetch source Information for test method</a>  </li>\n<li><a href=\"https://github.com/techtalk/SpecFlow/issues/990\" target=\"_blank\" rel=\"noopener\">Open SpecFlow test from Text Explorer goes to the feature class file not the feature file #990</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>We could not find a data exchange file at the path System.ArgumentNullException</p>\n<ul>\n<li>說明: 聽說SpecFlow 2.2 fixed </li>\n<li>解法(暫解): Tools &gt; Options &gt; SpecFlow &gt;Data Exchange Path，隨便設定一個路徑去 overwrite the default value</li>\n<li>參考:<ul>\n<li><a href=\"https://github.com/techtalk/SpecFlow/issues/1234\" target=\"_blank\" rel=\"noopener\">Build fails: We could not find a data exchange file</a></li>\n<li><a href=\"https://github.com/techtalk/SpecFlow/issues/857\" target=\"_blank\" rel=\"noopener\">Visual Studio 2017 Generation error: Could not load file or assembly ‘Microsoft.Build.Framework, Version=15.1.0.0</a></li>\n<li><a href=\"https://github.com/techtalk/SpecFlow/issues/896\" target=\"_blank\" rel=\"noopener\">Visual Studio Plugin for VS2017 does not always use Specflow Generator 2.2.0.0</a></li>\n<li><a href=\"https://github.com/techtalk/SpecFlow/issues/639\" target=\"_blank\" rel=\"noopener\">SpecFlow with SpecRun and NUnit fails with ArgumentNullException #639</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[實作筆記]在 Windows 環境編輯 SCSS","date":"2018-04-26T06:16:34.000Z","_content":"\n1. 安裝 Windows 套件管理工具 Chocolatey \n    - https://chocolatey.org\n2. 安裝 Node.js® \n    - https://chocolatey.org/packages/nodejs\n    ```\n    choco install nodejs -y\n    ```\n\n3. 註冊公司內部 NPM Server\n    - http://company.npm.server\n    ```\n    npm set registry http://company.npm.server\n    ```\n\n4. 安裝 RUBY\n    - https://chocolatey.org/packages/ruby/2.5.1.1\n    ```\n    choco install ruby -y\n    ```\n5. 下載 RubyGems\n    - https://rubygems.org/pages/download#formats\n    - Download from above\n    - Unpack into a directory and cd there\n    - Install with: ruby setup.rb (you may need admin/root privilege)\n6. 安裝 compass\n    - https://rubygems.org/gems/compass/versions/1.0.3\n    ```\n    gem install compass\n    ```\n7. 檢查 PATH\n8. 重啟 CMD 與 Visual Studio 2017\n9. 執行 compass\n    - 使用 Command Line\n        ```\n        gulp compass\n        ```\n    - 使用工作執行器總管\n\n        ![](https://i.imgur.com/2sEzAx5.jpg)\n\n","source":"_posts/2018/windows_with_sass.md","raw":"---\ntitle: \"[實作筆記]在 Windows 環境編輯 SCSS\"\ndate: 2018/04/26 14:16:34\ntag:\n  - Windows\n  - SCSS\n  - Ruby\n  - Node.js\n---\n\n1. 安裝 Windows 套件管理工具 Chocolatey \n    - https://chocolatey.org\n2. 安裝 Node.js® \n    - https://chocolatey.org/packages/nodejs\n    ```\n    choco install nodejs -y\n    ```\n\n3. 註冊公司內部 NPM Server\n    - http://company.npm.server\n    ```\n    npm set registry http://company.npm.server\n    ```\n\n4. 安裝 RUBY\n    - https://chocolatey.org/packages/ruby/2.5.1.1\n    ```\n    choco install ruby -y\n    ```\n5. 下載 RubyGems\n    - https://rubygems.org/pages/download#formats\n    - Download from above\n    - Unpack into a directory and cd there\n    - Install with: ruby setup.rb (you may need admin/root privilege)\n6. 安裝 compass\n    - https://rubygems.org/gems/compass/versions/1.0.3\n    ```\n    gem install compass\n    ```\n7. 檢查 PATH\n8. 重啟 CMD 與 Visual Studio 2017\n9. 執行 compass\n    - 使用 Command Line\n        ```\n        gulp compass\n        ```\n    - 使用工作執行器總管\n\n        ![](https://i.imgur.com/2sEzAx5.jpg)\n\n","slug":"2018/windows_with_sass","published":1,"updated":"2019-05-16T05:25:35.627Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wly002cb0vxsgaoe5hv","content":"<ol>\n<li><p>安裝 Windows 套件管理工具 Chocolatey </p>\n<ul>\n<li><a href=\"https://chocolatey.org\" target=\"_blank\" rel=\"noopener\">https://chocolatey.org</a></li>\n</ul>\n</li>\n<li><p>安裝 Node.js® </p>\n<ul>\n<li><a href=\"https://chocolatey.org/packages/nodejs\" target=\"_blank\" rel=\"noopener\">https://chocolatey.org/packages/nodejs</a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">choco install nodejs -y</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>註冊公司內部 NPM Server</p>\n<ul>\n<li><a href=\"http://company.npm.server\" target=\"_blank\" rel=\"noopener\">http://company.npm.server</a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm set registry http://company.npm.server</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>安裝 RUBY</p>\n<ul>\n<li><a href=\"https://chocolatey.org/packages/ruby/2.5.1.1\" target=\"_blank\" rel=\"noopener\">https://chocolatey.org/packages/ruby/2.5.1.1</a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">choco install ruby -y</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>下載 RubyGems</p>\n<ul>\n<li><a href=\"https://rubygems.org/pages/download#formats\" target=\"_blank\" rel=\"noopener\">https://rubygems.org/pages/download#formats</a></li>\n<li>Download from above</li>\n<li>Unpack into a directory and cd there</li>\n<li>Install with: ruby setup.rb (you may need admin/root privilege)</li>\n</ul>\n</li>\n<li><p>安裝 compass</p>\n<ul>\n<li><a href=\"https://rubygems.org/gems/compass/versions/1.0.3\" target=\"_blank\" rel=\"noopener\">https://rubygems.org/gems/compass/versions/1.0.3</a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gem install compass</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>檢查 PATH</p>\n</li>\n<li><p>重啟 CMD 與 Visual Studio 2017</p>\n</li>\n<li><p>執行 compass</p>\n<ul>\n<li><p>使用 Command Line</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gulp compass</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>使用工作執行器總管</p>\n<p>  <img src=\"https://i.imgur.com/2sEzAx5.jpg\" alt></p>\n</li>\n</ul>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<ol>\n<li><p>安裝 Windows 套件管理工具 Chocolatey </p>\n<ul>\n<li><a href=\"https://chocolatey.org\" target=\"_blank\" rel=\"noopener\">https://chocolatey.org</a></li>\n</ul>\n</li>\n<li><p>安裝 Node.js® </p>\n<ul>\n<li><a href=\"https://chocolatey.org/packages/nodejs\" target=\"_blank\" rel=\"noopener\">https://chocolatey.org/packages/nodejs</a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">choco install nodejs -y</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>註冊公司內部 NPM Server</p>\n<ul>\n<li><a href=\"http://company.npm.server\" target=\"_blank\" rel=\"noopener\">http://company.npm.server</a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm set registry http://company.npm.server</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>安裝 RUBY</p>\n<ul>\n<li><a href=\"https://chocolatey.org/packages/ruby/2.5.1.1\" target=\"_blank\" rel=\"noopener\">https://chocolatey.org/packages/ruby/2.5.1.1</a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">choco install ruby -y</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>下載 RubyGems</p>\n<ul>\n<li><a href=\"https://rubygems.org/pages/download#formats\" target=\"_blank\" rel=\"noopener\">https://rubygems.org/pages/download#formats</a></li>\n<li>Download from above</li>\n<li>Unpack into a directory and cd there</li>\n<li>Install with: ruby setup.rb (you may need admin/root privilege)</li>\n</ul>\n</li>\n<li><p>安裝 compass</p>\n<ul>\n<li><a href=\"https://rubygems.org/gems/compass/versions/1.0.3\" target=\"_blank\" rel=\"noopener\">https://rubygems.org/gems/compass/versions/1.0.3</a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gem install compass</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>檢查 PATH</p>\n</li>\n<li><p>重啟 CMD 與 Visual Studio 2017</p>\n</li>\n<li><p>執行 compass</p>\n<ul>\n<li><p>使用 Command Line</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gulp compass</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>使用工作執行器總管</p>\n<p>  <img src=\"https://i.imgur.com/2sEzAx5.jpg\" alt></p>\n</li>\n</ul>\n</li>\n</ol>\n"},{"title":"[實作筆記]使用 Windows PowerShell 批次上傳 AWS S3","date":"2019-02-20T11:09:18.000Z","_content":"\n## 目標\n\n相關服務要雲端化，要將站台、資料等…遷移至 AWS， \n這個案例需要將大量在 File Server 上的檔案(報表/單據/報告書等…)上傳至 S3\n因為檔案數量相當的大，所以開發一個簡單的指令來執行。\n\n### Step 1 下載並安裝適用於 Windows PowerShell 的 AWS 工具\n\n- [下載適用於 Windows PowerShell 的 AWS 工具](https://aws.amazon.com/tw/powershell/)\n\n![只需要安裝必要的程式](/images/2019/2/awstools.jpg)\n\n### 設定 aws config\n\n打開 terminal 執行以下語法\n```\n> aws configure\n```\n依指示設定 `Access key ID` 與 `Secret access key`，  \n這個資料需要具備一定的權限才能取得，如果權限不足請向你的 AWS 服務管理員申請。\n\n### 撰寫 PowerShell 與執行\n\n```powershell\n$bucketName = \"********************-your_bucket_name\"\n$path = \"Your\\s3\\path\\\"\n\nGet-ChildItem -Filter *.pdf |\nForEach-Object -Begin{$i=0} {  \n  $i++;\n  $key = $path+$_ ;\n  ## 進度顯示\n  Write-Host $key \"($i/1000)\"  -ForegroundColor Green ;\n  ## 上傳 S3\n  Write-S3Object -BucketName $bucketName -File $_.FullName -Key $key ;\n}\n```\n\n(fin)","source":"_posts/2019/Setting_up_aws_tools_for_powershell.md","raw":"---\ntitle: \"[實作筆記]使用 Windows PowerShell 批次上傳 AWS S3\"\ndate: 2019/02/20 19:09:18\ntag:\n    - PowerShell\n    - AWS\n---\n\n## 目標\n\n相關服務要雲端化，要將站台、資料等…遷移至 AWS， \n這個案例需要將大量在 File Server 上的檔案(報表/單據/報告書等…)上傳至 S3\n因為檔案數量相當的大，所以開發一個簡單的指令來執行。\n\n### Step 1 下載並安裝適用於 Windows PowerShell 的 AWS 工具\n\n- [下載適用於 Windows PowerShell 的 AWS 工具](https://aws.amazon.com/tw/powershell/)\n\n![只需要安裝必要的程式](/images/2019/2/awstools.jpg)\n\n### 設定 aws config\n\n打開 terminal 執行以下語法\n```\n> aws configure\n```\n依指示設定 `Access key ID` 與 `Secret access key`，  \n這個資料需要具備一定的權限才能取得，如果權限不足請向你的 AWS 服務管理員申請。\n\n### 撰寫 PowerShell 與執行\n\n```powershell\n$bucketName = \"********************-your_bucket_name\"\n$path = \"Your\\s3\\path\\\"\n\nGet-ChildItem -Filter *.pdf |\nForEach-Object -Begin{$i=0} {  \n  $i++;\n  $key = $path+$_ ;\n  ## 進度顯示\n  Write-Host $key \"($i/1000)\"  -ForegroundColor Green ;\n  ## 上傳 S3\n  Write-S3Object -BucketName $bucketName -File $_.FullName -Key $key ;\n}\n```\n\n(fin)","slug":"2019/Setting_up_aws_tools_for_powershell","published":1,"updated":"2019-06-10T14:43:28.954Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wm0002eb0vxpij9kw22","content":"<h2 id=\"目標\"><a href=\"#目標\" class=\"headerlink\" title=\"目標\"></a>目標</h2><p>相關服務要雲端化，要將站台、資料等…遷移至 AWS，<br>這個案例需要將大量在 File Server 上的檔案(報表/單據/報告書等…)上傳至 S3<br>因為檔案數量相當的大，所以開發一個簡單的指令來執行。</p>\n<h3 id=\"Step-1-下載並安裝適用於-Windows-PowerShell-的-AWS-工具\"><a href=\"#Step-1-下載並安裝適用於-Windows-PowerShell-的-AWS-工具\" class=\"headerlink\" title=\"Step 1 下載並安裝適用於 Windows PowerShell 的 AWS 工具\"></a>Step 1 下載並安裝適用於 Windows PowerShell 的 AWS 工具</h3><ul>\n<li><a href=\"https://aws.amazon.com/tw/powershell/\" target=\"_blank\" rel=\"noopener\">下載適用於 Windows PowerShell 的 AWS 工具</a></li>\n</ul>\n<p><img src=\"/images/2019/2/awstools.jpg\" alt=\"只需要安裝必要的程式\"></p>\n<h3 id=\"設定-aws-config\"><a href=\"#設定-aws-config\" class=\"headerlink\" title=\"設定 aws config\"></a>設定 aws config</h3><p>打開 terminal 執行以下語法</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; aws configure</span><br></pre></td></tr></table></figure>\n\n<p>依指示設定 <code>Access key ID</code> 與 <code>Secret access key</code>，  \n這個資料需要具備一定的權限才能取得，如果權限不足請向你的 AWS 服務管理員申請。</p>\n<h3 id=\"撰寫-PowerShell-與執行\"><a href=\"#撰寫-PowerShell-與執行\" class=\"headerlink\" title=\"撰寫 PowerShell 與執行\"></a>撰寫 PowerShell 與執行</h3><figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$bucketName</span> = <span class=\"string\">\"********************-your_bucket_name\"</span></span><br><span class=\"line\"><span class=\"variable\">$path</span> = <span class=\"string\">\"Your\\s3\\path\\\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Get-ChildItem</span> -Filter *.pdf |</span><br><span class=\"line\"><span class=\"built_in\">ForEach-Object</span> -Begin&#123;<span class=\"variable\">$i</span>=<span class=\"number\">0</span>&#125; &#123;  </span><br><span class=\"line\">  <span class=\"variable\">$i</span>++;</span><br><span class=\"line\">  <span class=\"variable\">$key</span> = <span class=\"variable\">$path</span>+<span class=\"variable\">$_</span> ;</span><br><span class=\"line\">  <span class=\"comment\">## 進度顯示</span></span><br><span class=\"line\">  <span class=\"built_in\">Write-Host</span> <span class=\"variable\">$key</span> <span class=\"string\">\"(<span class=\"variable\">$i</span>/1000)\"</span>  -ForegroundColor Green ;</span><br><span class=\"line\">  <span class=\"comment\">## 上傳 S3</span></span><br><span class=\"line\">  Write-S3Object -BucketName <span class=\"variable\">$bucketName</span> -File <span class=\"variable\">$_</span>.FullName -Key <span class=\"variable\">$key</span> ;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"目標\"><a href=\"#目標\" class=\"headerlink\" title=\"目標\"></a>目標</h2><p>相關服務要雲端化，要將站台、資料等…遷移至 AWS，<br>這個案例需要將大量在 File Server 上的檔案(報表/單據/報告書等…)上傳至 S3<br>因為檔案數量相當的大，所以開發一個簡單的指令來執行。</p>\n<h3 id=\"Step-1-下載並安裝適用於-Windows-PowerShell-的-AWS-工具\"><a href=\"#Step-1-下載並安裝適用於-Windows-PowerShell-的-AWS-工具\" class=\"headerlink\" title=\"Step 1 下載並安裝適用於 Windows PowerShell 的 AWS 工具\"></a>Step 1 下載並安裝適用於 Windows PowerShell 的 AWS 工具</h3><ul>\n<li><a href=\"https://aws.amazon.com/tw/powershell/\" target=\"_blank\" rel=\"noopener\">下載適用於 Windows PowerShell 的 AWS 工具</a></li>\n</ul>\n<p><img src=\"/images/2019/2/awstools.jpg\" alt=\"只需要安裝必要的程式\"></p>\n<h3 id=\"設定-aws-config\"><a href=\"#設定-aws-config\" class=\"headerlink\" title=\"設定 aws config\"></a>設定 aws config</h3><p>打開 terminal 執行以下語法</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt; aws configure</span><br></pre></td></tr></table></figure>\n\n<p>依指示設定 <code>Access key ID</code> 與 <code>Secret access key</code>，  \n這個資料需要具備一定的權限才能取得，如果權限不足請向你的 AWS 服務管理員申請。</p>\n<h3 id=\"撰寫-PowerShell-與執行\"><a href=\"#撰寫-PowerShell-與執行\" class=\"headerlink\" title=\"撰寫 PowerShell 與執行\"></a>撰寫 PowerShell 與執行</h3><figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$bucketName</span> = <span class=\"string\">\"********************-your_bucket_name\"</span></span><br><span class=\"line\"><span class=\"variable\">$path</span> = <span class=\"string\">\"Your\\s3\\path\\\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">Get-ChildItem</span> -Filter *.pdf |</span><br><span class=\"line\"><span class=\"built_in\">ForEach-Object</span> -Begin&#123;<span class=\"variable\">$i</span>=<span class=\"number\">0</span>&#125; &#123;  </span><br><span class=\"line\">  <span class=\"variable\">$i</span>++;</span><br><span class=\"line\">  <span class=\"variable\">$key</span> = <span class=\"variable\">$path</span>+<span class=\"variable\">$_</span> ;</span><br><span class=\"line\">  <span class=\"comment\">## 進度顯示</span></span><br><span class=\"line\">  <span class=\"built_in\">Write-Host</span> <span class=\"variable\">$key</span> <span class=\"string\">\"(<span class=\"variable\">$i</span>/1000)\"</span>  -ForegroundColor Green ;</span><br><span class=\"line\">  <span class=\"comment\">## 上傳 S3</span></span><br><span class=\"line\">  Write-S3Object -BucketName <span class=\"variable\">$bucketName</span> -File <span class=\"variable\">$_</span>.FullName -Key <span class=\"variable\">$key</span> ;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>(fin)</p>\n"},{"title":"[上課筆記] 熱血 Coding Dojo 第一梯次","date":"2019-01-13T03:17:16.000Z","_content":"\n## 知道的事\n\n活動連結 - [熱血 Coding Dojo - 第一梯次](https://yihuode.io/activities/718?fbclid=IwAR3LPQ8HudKS72isCmeWzpe8BsTRNTTG17tChxSysXE66S3xSBypKrVzMs8)(活動已結束)\n講師 : Joey Chen\n範例語言 : C#\n\n## 上課隨筆\n\n### 觀念\n\n- 不要寫多餘的 Product Code\n- 害怕別人看你寫Code是一道門檻\n- 程式腐壞的速度遠比想像中的快 (大概給 3 個人寫過就開始爛了)\n- Pair 時不要一開始就寫 Code，先建立共識\n- 當你碰到薪資天花板就只能轉成管理者 (然後是彼得效應)\n- 國際化的產品能提升自已的視野與能力\n- 英文不夠好是一個門檻，特別在命名的時候\n- 不要臉也是一種技能\n- 先考慮正確性與可維護性 再考慮效能\n- 你以為你在重構 但是代碼變得更難維護\n- 看人家怎麼做？學怎麼想？\n- 即時重構是很重要的，太晚重構會來不及 (Side Effect會大到你無法克服心魔)\n- ATDD 與 TDD 的軟體工序與心魔\n- 你已經具備 knowledge 但是缺乏 Couching 與實務訓練\n- 代碼會反應開發當時的思緒 (不要在精神狀態不好的時候開發)\n- Poker Hand 91 大約2小時完成 (思考怎麼錄製與課後練習中…)\n- 睡前練習可以增強肌肉記憶\n\n### 實作技巧\n\n- 紅燈時不要重構\n- .if .var (C# in Visual Studio)\n- 第一個test case 不要有判斷式\n- r n . (Vim in Visual Studio)\n- 紅燈→綠燈→重構→綠燈 ; 要學會節奏與時機\n- F8 跳錯誤\n- 一個變數活很久 最後可能被複寫 會容易產生side effects\n- zcc (Vim in Visual Studio)\n\n\n### 壞味道\n\n- 重構的壞味道，使用私有變數而非方法\n- if else if 簽章抽象相同是個壞味道(或是一個可以重構的 Pattern)\n- ~~Q:請回饋這堂課好的地方 A:T社的HR~~\n\n## 寫在最後\n\n最近覺得寫程式真的是一種造業，創造就業機會。\n\n**與善人居，如入芝蘭之室，久而不聞其香，即與之化矣；**  \n**與不善人居，如入鮑魚之肆，久而不聞其臭。**\n\n雖很想推[熱血 Coding Dojo - 第二梯次](https://yihuode.io/activities/767)，不過大概已經完售了。\n\n(fin)\n","source":"_posts/2019/91_coding_dojo_log.md","raw":"---\ntitle: \"[上課筆記] 熱血 Coding Dojo 第一梯次\"\ndate: 2019/01/13 11:17:16\ntag:\n  - TDD\n  - 重構\n  - Unit Testing\n  - Testing\n---\n\n## 知道的事\n\n活動連結 - [熱血 Coding Dojo - 第一梯次](https://yihuode.io/activities/718?fbclid=IwAR3LPQ8HudKS72isCmeWzpe8BsTRNTTG17tChxSysXE66S3xSBypKrVzMs8)(活動已結束)\n講師 : Joey Chen\n範例語言 : C#\n\n## 上課隨筆\n\n### 觀念\n\n- 不要寫多餘的 Product Code\n- 害怕別人看你寫Code是一道門檻\n- 程式腐壞的速度遠比想像中的快 (大概給 3 個人寫過就開始爛了)\n- Pair 時不要一開始就寫 Code，先建立共識\n- 當你碰到薪資天花板就只能轉成管理者 (然後是彼得效應)\n- 國際化的產品能提升自已的視野與能力\n- 英文不夠好是一個門檻，特別在命名的時候\n- 不要臉也是一種技能\n- 先考慮正確性與可維護性 再考慮效能\n- 你以為你在重構 但是代碼變得更難維護\n- 看人家怎麼做？學怎麼想？\n- 即時重構是很重要的，太晚重構會來不及 (Side Effect會大到你無法克服心魔)\n- ATDD 與 TDD 的軟體工序與心魔\n- 你已經具備 knowledge 但是缺乏 Couching 與實務訓練\n- 代碼會反應開發當時的思緒 (不要在精神狀態不好的時候開發)\n- Poker Hand 91 大約2小時完成 (思考怎麼錄製與課後練習中…)\n- 睡前練習可以增強肌肉記憶\n\n### 實作技巧\n\n- 紅燈時不要重構\n- .if .var (C# in Visual Studio)\n- 第一個test case 不要有判斷式\n- r n . (Vim in Visual Studio)\n- 紅燈→綠燈→重構→綠燈 ; 要學會節奏與時機\n- F8 跳錯誤\n- 一個變數活很久 最後可能被複寫 會容易產生side effects\n- zcc (Vim in Visual Studio)\n\n\n### 壞味道\n\n- 重構的壞味道，使用私有變數而非方法\n- if else if 簽章抽象相同是個壞味道(或是一個可以重構的 Pattern)\n- ~~Q:請回饋這堂課好的地方 A:T社的HR~~\n\n## 寫在最後\n\n最近覺得寫程式真的是一種造業，創造就業機會。\n\n**與善人居，如入芝蘭之室，久而不聞其香，即與之化矣；**  \n**與不善人居，如入鮑魚之肆，久而不聞其臭。**\n\n雖很想推[熱血 Coding Dojo - 第二梯次](https://yihuode.io/activities/767)，不過大概已經完售了。\n\n(fin)\n","slug":"2019/91_coding_dojo_log","published":1,"updated":"2019-07-09T12:09:53.573Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wm2002hb0vx9o983r1n","content":"<h2 id=\"知道的事\"><a href=\"#知道的事\" class=\"headerlink\" title=\"知道的事\"></a>知道的事</h2><p>活動連結 - <a href=\"https://yihuode.io/activities/718?fbclid=IwAR3LPQ8HudKS72isCmeWzpe8BsTRNTTG17tChxSysXE66S3xSBypKrVzMs8\" target=\"_blank\" rel=\"noopener\">熱血 Coding Dojo - 第一梯次</a>(活動已結束)<br>講師 : Joey Chen<br>範例語言 : C#</p>\n<h2 id=\"上課隨筆\"><a href=\"#上課隨筆\" class=\"headerlink\" title=\"上課隨筆\"></a>上課隨筆</h2><h3 id=\"觀念\"><a href=\"#觀念\" class=\"headerlink\" title=\"觀念\"></a>觀念</h3><ul>\n<li>不要寫多餘的 Product Code</li>\n<li>害怕別人看你寫Code是一道門檻</li>\n<li>程式腐壞的速度遠比想像中的快 (大概給 3 個人寫過就開始爛了)</li>\n<li>Pair 時不要一開始就寫 Code，先建立共識</li>\n<li>當你碰到薪資天花板就只能轉成管理者 (然後是彼得效應)</li>\n<li>國際化的產品能提升自已的視野與能力</li>\n<li>英文不夠好是一個門檻，特別在命名的時候</li>\n<li>不要臉也是一種技能</li>\n<li>先考慮正確性與可維護性 再考慮效能</li>\n<li>你以為你在重構 但是代碼變得更難維護</li>\n<li>看人家怎麼做？學怎麼想？</li>\n<li>即時重構是很重要的，太晚重構會來不及 (Side Effect會大到你無法克服心魔)</li>\n<li>ATDD 與 TDD 的軟體工序與心魔</li>\n<li>你已經具備 knowledge 但是缺乏 Couching 與實務訓練</li>\n<li>代碼會反應開發當時的思緒 (不要在精神狀態不好的時候開發)</li>\n<li>Poker Hand 91 大約2小時完成 (思考怎麼錄製與課後練習中…)</li>\n<li>睡前練習可以增強肌肉記憶</li>\n</ul>\n<h3 id=\"實作技巧\"><a href=\"#實作技巧\" class=\"headerlink\" title=\"實作技巧\"></a>實作技巧</h3><ul>\n<li>紅燈時不要重構</li>\n<li>.if .var (C# in Visual Studio)</li>\n<li>第一個test case 不要有判斷式</li>\n<li>r n . (Vim in Visual Studio)</li>\n<li>紅燈→綠燈→重構→綠燈 ; 要學會節奏與時機</li>\n<li>F8 跳錯誤</li>\n<li>一個變數活很久 最後可能被複寫 會容易產生side effects</li>\n<li>zcc (Vim in Visual Studio)</li>\n</ul>\n<h3 id=\"壞味道\"><a href=\"#壞味道\" class=\"headerlink\" title=\"壞味道\"></a>壞味道</h3><ul>\n<li>重構的壞味道，使用私有變數而非方法</li>\n<li>if else if 簽章抽象相同是個壞味道(或是一個可以重構的 Pattern)</li>\n<li><del>Q:請回饋這堂課好的地方 A:T社的HR</del></li>\n</ul>\n<h2 id=\"寫在最後\"><a href=\"#寫在最後\" class=\"headerlink\" title=\"寫在最後\"></a>寫在最後</h2><p>最近覺得寫程式真的是一種造業，創造就業機會。</p>\n<p><strong>與善人居，如入芝蘭之室，久而不聞其香，即與之化矣；</strong><br><strong>與不善人居，如入鮑魚之肆，久而不聞其臭。</strong></p>\n<p>雖很想推<a href=\"https://yihuode.io/activities/767\" target=\"_blank\" rel=\"noopener\">熱血 Coding Dojo - 第二梯次</a>，不過大概已經完售了。</p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"知道的事\"><a href=\"#知道的事\" class=\"headerlink\" title=\"知道的事\"></a>知道的事</h2><p>活動連結 - <a href=\"https://yihuode.io/activities/718?fbclid=IwAR3LPQ8HudKS72isCmeWzpe8BsTRNTTG17tChxSysXE66S3xSBypKrVzMs8\" target=\"_blank\" rel=\"noopener\">熱血 Coding Dojo - 第一梯次</a>(活動已結束)<br>講師 : Joey Chen<br>範例語言 : C#</p>\n<h2 id=\"上課隨筆\"><a href=\"#上課隨筆\" class=\"headerlink\" title=\"上課隨筆\"></a>上課隨筆</h2><h3 id=\"觀念\"><a href=\"#觀念\" class=\"headerlink\" title=\"觀念\"></a>觀念</h3><ul>\n<li>不要寫多餘的 Product Code</li>\n<li>害怕別人看你寫Code是一道門檻</li>\n<li>程式腐壞的速度遠比想像中的快 (大概給 3 個人寫過就開始爛了)</li>\n<li>Pair 時不要一開始就寫 Code，先建立共識</li>\n<li>當你碰到薪資天花板就只能轉成管理者 (然後是彼得效應)</li>\n<li>國際化的產品能提升自已的視野與能力</li>\n<li>英文不夠好是一個門檻，特別在命名的時候</li>\n<li>不要臉也是一種技能</li>\n<li>先考慮正確性與可維護性 再考慮效能</li>\n<li>你以為你在重構 但是代碼變得更難維護</li>\n<li>看人家怎麼做？學怎麼想？</li>\n<li>即時重構是很重要的，太晚重構會來不及 (Side Effect會大到你無法克服心魔)</li>\n<li>ATDD 與 TDD 的軟體工序與心魔</li>\n<li>你已經具備 knowledge 但是缺乏 Couching 與實務訓練</li>\n<li>代碼會反應開發當時的思緒 (不要在精神狀態不好的時候開發)</li>\n<li>Poker Hand 91 大約2小時完成 (思考怎麼錄製與課後練習中…)</li>\n<li>睡前練習可以增強肌肉記憶</li>\n</ul>\n<h3 id=\"實作技巧\"><a href=\"#實作技巧\" class=\"headerlink\" title=\"實作技巧\"></a>實作技巧</h3><ul>\n<li>紅燈時不要重構</li>\n<li>.if .var (C# in Visual Studio)</li>\n<li>第一個test case 不要有判斷式</li>\n<li>r n . (Vim in Visual Studio)</li>\n<li>紅燈→綠燈→重構→綠燈 ; 要學會節奏與時機</li>\n<li>F8 跳錯誤</li>\n<li>一個變數活很久 最後可能被複寫 會容易產生side effects</li>\n<li>zcc (Vim in Visual Studio)</li>\n</ul>\n<h3 id=\"壞味道\"><a href=\"#壞味道\" class=\"headerlink\" title=\"壞味道\"></a>壞味道</h3><ul>\n<li>重構的壞味道，使用私有變數而非方法</li>\n<li>if else if 簽章抽象相同是個壞味道(或是一個可以重構的 Pattern)</li>\n<li><del>Q:請回饋這堂課好的地方 A:T社的HR</del></li>\n</ul>\n<h2 id=\"寫在最後\"><a href=\"#寫在最後\" class=\"headerlink\" title=\"寫在最後\"></a>寫在最後</h2><p>最近覺得寫程式真的是一種造業，創造就業機會。</p>\n<p><strong>與善人居，如入芝蘭之室，久而不聞其香，即與之化矣；</strong><br><strong>與不善人居，如入鮑魚之肆，久而不聞其臭。</strong></p>\n<p>雖很想推<a href=\"https://yihuode.io/activities/767\" target=\"_blank\" rel=\"noopener\">熱血 Coding Dojo - 第二梯次</a>，不過大概已經完售了。</p>\n<p>(fin)</p>\n"},{"title":"[實作筆記] AWS Auto Scaling Group","date":"2019-08-25T03:21:46.000Z","_content":"\n## 前情提要\n\n最近將一個服務掛上雲端(AWS)，使用 EC2 ，\n並且實作了 Auto Scaling ，特別紀錄一下。\n\n## 概觀\n\n以下使用的都是 AWS 的服務\n\n1. Auto Scaling Group (ASG) :  \n    本篇主角，根據指定的 Policies 與 LC 加開減少機器。\n\n2. Launch Configuration (LC) :  \n    一個 ASG 背後一定要搭配一個 LC，可以說是 ASG 的生命共同體，  \n    用來指定 EC2 的配置，並透過 `User Data` 指定實體起動時所需要執行的工作。  \n    註: 也有使用 Launch Template 的作法，這篇不會討論。\n\n3. Target Group (TG):\n    由 1 到多個 EC2 實體(instance)組成，用來與 ELB(ALB) 搭配。\n\n4. ALB :  \n    流量負載平衡，與 TG 作為搭配。可以依不同條件轉導到不同 TG\n\n![Auto Scaling Group](/images/2019/8/aws_asg_overview.jpg)\n\n### 組合零件\n\n這有點像是在玩模型玩具，各個部份的小零件可以組成一個大零件，  \n再將各個部件結合，完成我所要的功能。\n以下是這所需要的各個零件\n\n- Golden Image : 由實際的 EC2 Instance 建立。並包含 Cloud Watch Agent 的配置。\n- User Data : Lanuch Configuration 的一個子項目，可以在 EC2 啟動時，執行指定的命令，比如說在 WINDOWS 透過 Powershell 抓取新版程式來建置服務。\n- Launch Configuration : 由上述兩個零件 (Gloden Image & User Data) 組成，另外還可以設定 EBS、Plocies 等設定…\n- Target Group : 用來存放相關實體(EC2 Instance)的抽象概念, 可以設定 Health Check 來確定實體的健康情況。\n- Auto Scaling Group : 透過 Lanuch Configuration 來建立實體，並且可以將實體放入指定的 Target Group 之中。並且可以設定 Policy 來實現 Scaling Out/In.\n- ALB : 負載平衡的一種，透過設定，可以將 Request 導到對應的 Target Group。\n\n## 紀錄\n\n### Add CloudWatch Agent\n\n1. Login EC2 Instance\n2. 安裝 CloudWatch Agent\n3. 準備一個 Json 檔如下\n\n    ```json\n    {  \n    \"agent\":{  \n        \"logfile\":\"c:\\\\ProgramData\\\\Amazon\\\\AmazonCloudWatchAgent\\\\Logs\\\\amazon-cloudwatch-agent.log\"\n    },\n    \"logs\":{  \n        \"logs_collected\":{  \n            \"files\":{  \n                \"collect_list\":[  \n                {  \n                    \"file_path\":\"D:\\\\logs\\\\**.log\",\n                    \"log_group_name\":\"/MY/Service/Worker\",\n                    \"log_stream_name\":\"{instance_id}\",\n                    \"timezone\":\"UTC\",\n                    \"timestamp_format\":\"%Y-%m-%dT%H:%M:%S\"\n                }\n                ]\n            }\n        },\n        \"log_stream_name\":\"default-log-stream\",\n        \"force_flush_interval\":5\n    }\n    }\n    ```\n\n4. 開啟powershell，切換目錄至 AmazonCloudWatchAgent\n\n    ```bash\n    cd \"C:\\Program Files\\Amazon\\AmazonCloudWatchAgent\"\n    ```\n\n5. 執行以下語法\n\n    ```bash\n    ./amazon-cloudwatch-agent-ctl.ps1 -a fetch-config -m ec2 -c file:yourjsonfile.json -s\n    ```\n\n### 站台加入 Health Check\n\n- 加入靜態檔案(ex:check.html)\n- IIS Building * 80\n![IIS Building * 80](/images/2019/8/aws_iissetting.jpg)\n- 設定 Target Group 的 Health Check (ex:/check.html)\n![AWS Target Gropu Health Check](/images/2019/8/aws_tg_healthcheck.jpg)\n\n### 包成 Gloden Image\n\n1. 機器下 ALB\n\n    ![機器下ALB](/images/2019/8/aws_gi_out_alb.jpg)\n\n2. 開啟 Ec2LaunchSettings.exe\n\n    ![開啟 Ec2LaunchSettings.exe](/images/2019/8/aws_ec2_launch_settings.jpg)\n\n3. 透過 Ec2LaunchSettings 關機\n\n    ![透過 Ec2LaunchSettings 關機](/images/2019/8/aws_ec2_launch_settings_turn_off.jpg)\n\n4. Waitting Instance Stoped , Create Images\n\n    ![Waitting Instance Stoped , Create Images](/images/2019/8/aws_gi_create_images.jpg)\n\n### Create Launch Configuration\n\n![Create Launch Configuration](/images/2019/8/aws_create_lc.jpg)\n\n1. Choose AMI\n    ![Choose Gloden Image](/images/2019/8/aws_choose_ami.jpg)\n2. Choose Instance Type\n    ![t2.small](/images/2019/8/aws_choose_instance_type.jpg)\n3. Configure details\n    ![Add User Data](/images/2019/8/aws_userdata.jpg)\n4. Add Storage\n    ![Set EBS](/images/2019/8/aws_ebs.jpg)\n5. Configure Security Group\n6. Review\n\n### Create Auto Scaling group\n\n1. Configure Auto Scaling group details\n    ![Configure Auto Scaling group details](/images/2019/8/aws_create_asg.jpg)\n2. Configure scaling policies\n    > 略\n3. Configure Notifications\n    > 略\n4. Configure Tags\n    > 略\n5. Review\n\n## 參考\n\n- [使用 EC2 執行個體建立 Auto Scaling 群組 - Amazon EC2 Auto Scaling](https://docs.aws.amazon.com/zh_tw/autoscaling/ec2/userguide/create-asg-from-instance.html)\n- [Launch Configurations - Amazon EC2 Auto Scaling](https://docs.aws.amazon.com/en_us/autoscaling/ec2/userguide/LaunchConfiguration.html)\n- [使用AWS Application Load Balancer](https://aws.amazon.com/cn/blogs/china/aws-alb-route-distribute/)\n- [Network Load Balancers 的目標群組](https://docs.aws.amazon.com/zh_tw/elasticloadbalancing/latest/network/load-balancer-target-groups.html)\n- [為 Network Load Balancer 建立目標群組](https://docs.aws.amazon.com/zh_tw/elasticloadbalancing/latest/network/create-target-group.html)\n- [CloudWatch Logs](https://docs.aws.amazon.com/zh_tw/AmazonCloudWatch/latest/logs/QuickStartWindows2016.html#configure_cwl_download)\n- [使用 CloudWatch 代理程式從 Amazon EC2 執行個體和現場部署伺服器收集指標和日誌 - Amazon CloudWatch](https://docs.aws.amazon.com/zh_tw/AmazonCloudWatch/latest/monitoring/Install-CloudWatch-Agent.html)\n\n(fin)\n","source":"_posts/2019/aws_auto_sacling_group.md","raw":"---\ntitle: \"[實作筆記] AWS Auto Scaling Group\"\ndate: 2019/08/25 11:21:46\ntags:\n    - AWS\n---\n\n## 前情提要\n\n最近將一個服務掛上雲端(AWS)，使用 EC2 ，\n並且實作了 Auto Scaling ，特別紀錄一下。\n\n## 概觀\n\n以下使用的都是 AWS 的服務\n\n1. Auto Scaling Group (ASG) :  \n    本篇主角，根據指定的 Policies 與 LC 加開減少機器。\n\n2. Launch Configuration (LC) :  \n    一個 ASG 背後一定要搭配一個 LC，可以說是 ASG 的生命共同體，  \n    用來指定 EC2 的配置，並透過 `User Data` 指定實體起動時所需要執行的工作。  \n    註: 也有使用 Launch Template 的作法，這篇不會討論。\n\n3. Target Group (TG):\n    由 1 到多個 EC2 實體(instance)組成，用來與 ELB(ALB) 搭配。\n\n4. ALB :  \n    流量負載平衡，與 TG 作為搭配。可以依不同條件轉導到不同 TG\n\n![Auto Scaling Group](/images/2019/8/aws_asg_overview.jpg)\n\n### 組合零件\n\n這有點像是在玩模型玩具，各個部份的小零件可以組成一個大零件，  \n再將各個部件結合，完成我所要的功能。\n以下是這所需要的各個零件\n\n- Golden Image : 由實際的 EC2 Instance 建立。並包含 Cloud Watch Agent 的配置。\n- User Data : Lanuch Configuration 的一個子項目，可以在 EC2 啟動時，執行指定的命令，比如說在 WINDOWS 透過 Powershell 抓取新版程式來建置服務。\n- Launch Configuration : 由上述兩個零件 (Gloden Image & User Data) 組成，另外還可以設定 EBS、Plocies 等設定…\n- Target Group : 用來存放相關實體(EC2 Instance)的抽象概念, 可以設定 Health Check 來確定實體的健康情況。\n- Auto Scaling Group : 透過 Lanuch Configuration 來建立實體，並且可以將實體放入指定的 Target Group 之中。並且可以設定 Policy 來實現 Scaling Out/In.\n- ALB : 負載平衡的一種，透過設定，可以將 Request 導到對應的 Target Group。\n\n## 紀錄\n\n### Add CloudWatch Agent\n\n1. Login EC2 Instance\n2. 安裝 CloudWatch Agent\n3. 準備一個 Json 檔如下\n\n    ```json\n    {  \n    \"agent\":{  \n        \"logfile\":\"c:\\\\ProgramData\\\\Amazon\\\\AmazonCloudWatchAgent\\\\Logs\\\\amazon-cloudwatch-agent.log\"\n    },\n    \"logs\":{  \n        \"logs_collected\":{  \n            \"files\":{  \n                \"collect_list\":[  \n                {  \n                    \"file_path\":\"D:\\\\logs\\\\**.log\",\n                    \"log_group_name\":\"/MY/Service/Worker\",\n                    \"log_stream_name\":\"{instance_id}\",\n                    \"timezone\":\"UTC\",\n                    \"timestamp_format\":\"%Y-%m-%dT%H:%M:%S\"\n                }\n                ]\n            }\n        },\n        \"log_stream_name\":\"default-log-stream\",\n        \"force_flush_interval\":5\n    }\n    }\n    ```\n\n4. 開啟powershell，切換目錄至 AmazonCloudWatchAgent\n\n    ```bash\n    cd \"C:\\Program Files\\Amazon\\AmazonCloudWatchAgent\"\n    ```\n\n5. 執行以下語法\n\n    ```bash\n    ./amazon-cloudwatch-agent-ctl.ps1 -a fetch-config -m ec2 -c file:yourjsonfile.json -s\n    ```\n\n### 站台加入 Health Check\n\n- 加入靜態檔案(ex:check.html)\n- IIS Building * 80\n![IIS Building * 80](/images/2019/8/aws_iissetting.jpg)\n- 設定 Target Group 的 Health Check (ex:/check.html)\n![AWS Target Gropu Health Check](/images/2019/8/aws_tg_healthcheck.jpg)\n\n### 包成 Gloden Image\n\n1. 機器下 ALB\n\n    ![機器下ALB](/images/2019/8/aws_gi_out_alb.jpg)\n\n2. 開啟 Ec2LaunchSettings.exe\n\n    ![開啟 Ec2LaunchSettings.exe](/images/2019/8/aws_ec2_launch_settings.jpg)\n\n3. 透過 Ec2LaunchSettings 關機\n\n    ![透過 Ec2LaunchSettings 關機](/images/2019/8/aws_ec2_launch_settings_turn_off.jpg)\n\n4. Waitting Instance Stoped , Create Images\n\n    ![Waitting Instance Stoped , Create Images](/images/2019/8/aws_gi_create_images.jpg)\n\n### Create Launch Configuration\n\n![Create Launch Configuration](/images/2019/8/aws_create_lc.jpg)\n\n1. Choose AMI\n    ![Choose Gloden Image](/images/2019/8/aws_choose_ami.jpg)\n2. Choose Instance Type\n    ![t2.small](/images/2019/8/aws_choose_instance_type.jpg)\n3. Configure details\n    ![Add User Data](/images/2019/8/aws_userdata.jpg)\n4. Add Storage\n    ![Set EBS](/images/2019/8/aws_ebs.jpg)\n5. Configure Security Group\n6. Review\n\n### Create Auto Scaling group\n\n1. Configure Auto Scaling group details\n    ![Configure Auto Scaling group details](/images/2019/8/aws_create_asg.jpg)\n2. Configure scaling policies\n    > 略\n3. Configure Notifications\n    > 略\n4. Configure Tags\n    > 略\n5. Review\n\n## 參考\n\n- [使用 EC2 執行個體建立 Auto Scaling 群組 - Amazon EC2 Auto Scaling](https://docs.aws.amazon.com/zh_tw/autoscaling/ec2/userguide/create-asg-from-instance.html)\n- [Launch Configurations - Amazon EC2 Auto Scaling](https://docs.aws.amazon.com/en_us/autoscaling/ec2/userguide/LaunchConfiguration.html)\n- [使用AWS Application Load Balancer](https://aws.amazon.com/cn/blogs/china/aws-alb-route-distribute/)\n- [Network Load Balancers 的目標群組](https://docs.aws.amazon.com/zh_tw/elasticloadbalancing/latest/network/load-balancer-target-groups.html)\n- [為 Network Load Balancer 建立目標群組](https://docs.aws.amazon.com/zh_tw/elasticloadbalancing/latest/network/create-target-group.html)\n- [CloudWatch Logs](https://docs.aws.amazon.com/zh_tw/AmazonCloudWatch/latest/logs/QuickStartWindows2016.html#configure_cwl_download)\n- [使用 CloudWatch 代理程式從 Amazon EC2 執行個體和現場部署伺服器收集指標和日誌 - Amazon CloudWatch](https://docs.aws.amazon.com/zh_tw/AmazonCloudWatch/latest/monitoring/Install-CloudWatch-Agent.html)\n\n(fin)\n","slug":"2019/aws_auto_sacling_group","published":1,"updated":"2019-08-25T19:13:40.880Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wm4002jb0vxd0gk7nhd","content":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>最近將一個服務掛上雲端(AWS)，使用 EC2 ，<br>並且實作了 Auto Scaling ，特別紀錄一下。</p>\n<h2 id=\"概觀\"><a href=\"#概觀\" class=\"headerlink\" title=\"概觀\"></a>概觀</h2><p>以下使用的都是 AWS 的服務</p>\n<ol>\n<li><p>Auto Scaling Group (ASG) :<br> 本篇主角，根據指定的 Policies 與 LC 加開減少機器。</p>\n</li>\n<li><p>Launch Configuration (LC) :<br> 一個 ASG 背後一定要搭配一個 LC，可以說是 ASG 的生命共同體，<br> 用來指定 EC2 的配置，並透過 <code>User Data</code> 指定實體起動時所需要執行的工作。<br> 註: 也有使用 Launch Template 的作法，這篇不會討論。</p>\n</li>\n<li><p>Target Group (TG):<br> 由 1 到多個 EC2 實體(instance)組成，用來與 ELB(ALB) 搭配。</p>\n</li>\n<li><p>ALB :<br> 流量負載平衡，與 TG 作為搭配。可以依不同條件轉導到不同 TG</p>\n</li>\n</ol>\n<p><img src=\"/images/2019/8/aws_asg_overview.jpg\" alt=\"Auto Scaling Group\"></p>\n<h3 id=\"組合零件\"><a href=\"#組合零件\" class=\"headerlink\" title=\"組合零件\"></a>組合零件</h3><p>這有點像是在玩模型玩具，各個部份的小零件可以組成一個大零件，<br>再將各個部件結合，完成我所要的功能。<br>以下是這所需要的各個零件</p>\n<ul>\n<li>Golden Image : 由實際的 EC2 Instance 建立。並包含 Cloud Watch Agent 的配置。</li>\n<li>User Data : Lanuch Configuration 的一個子項目，可以在 EC2 啟動時，執行指定的命令，比如說在 WINDOWS 透過 Powershell 抓取新版程式來建置服務。</li>\n<li>Launch Configuration : 由上述兩個零件 (Gloden Image &amp; User Data) 組成，另外還可以設定 EBS、Plocies 等設定…</li>\n<li>Target Group : 用來存放相關實體(EC2 Instance)的抽象概念, 可以設定 Health Check 來確定實體的健康情況。</li>\n<li>Auto Scaling Group : 透過 Lanuch Configuration 來建立實體，並且可以將實體放入指定的 Target Group 之中。並且可以設定 Policy 來實現 Scaling Out/In.</li>\n<li>ALB : 負載平衡的一種，透過設定，可以將 Request 導到對應的 Target Group。</li>\n</ul>\n<h2 id=\"紀錄\"><a href=\"#紀錄\" class=\"headerlink\" title=\"紀錄\"></a>紀錄</h2><h3 id=\"Add-CloudWatch-Agent\"><a href=\"#Add-CloudWatch-Agent\" class=\"headerlink\" title=\"Add CloudWatch Agent\"></a>Add CloudWatch Agent</h3><ol>\n<li><p>Login EC2 Instance</p>\n</li>\n<li><p>安裝 CloudWatch Agent</p>\n</li>\n<li><p>準備一個 Json 檔如下</p>\n <figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;  </span><br><span class=\"line\"><span class=\"attr\">\"agent\"</span>:&#123;  </span><br><span class=\"line\">    <span class=\"attr\">\"logfile\"</span>:<span class=\"string\">\"c:\\\\ProgramData\\\\Amazon\\\\AmazonCloudWatchAgent\\\\Logs\\\\amazon-cloudwatch-agent.log\"</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"attr\">\"logs\"</span>:&#123;  </span><br><span class=\"line\">    <span class=\"attr\">\"logs_collected\"</span>:&#123;  </span><br><span class=\"line\">        <span class=\"attr\">\"files\"</span>:&#123;  </span><br><span class=\"line\">            <span class=\"attr\">\"collect_list\"</span>:[  </span><br><span class=\"line\">            &#123;  </span><br><span class=\"line\">                <span class=\"attr\">\"file_path\"</span>:<span class=\"string\">\"D:\\\\logs\\\\**.log\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"log_group_name\"</span>:<span class=\"string\">\"/MY/Service/Worker\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"log_stream_name\"</span>:<span class=\"string\">\"&#123;instance_id&#125;\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"timezone\"</span>:<span class=\"string\">\"UTC\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"timestamp_format\"</span>:<span class=\"string\">\"%Y-%m-%dT%H:%M:%S\"</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            ]</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">\"log_stream_name\"</span>:<span class=\"string\">\"default-log-stream\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"force_flush_interval\"</span>:<span class=\"number\">5</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>開啟powershell，切換目錄至 AmazonCloudWatchAgent</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> <span class=\"string\">\"C:\\Program Files\\Amazon\\AmazonCloudWatchAgent\"</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>執行以下語法</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./amazon-cloudwatch-agent-ctl.ps1 -a fetch-config -m ec2 -c file:yourjsonfile.json -s</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h3 id=\"站台加入-Health-Check\"><a href=\"#站台加入-Health-Check\" class=\"headerlink\" title=\"站台加入 Health Check\"></a>站台加入 Health Check</h3><ul>\n<li>加入靜態檔案(ex:check.html)</li>\n<li>IIS Building * 80<br><img src=\"/images/2019/8/aws_iissetting.jpg\" alt=\"IIS Building * 80\"></li>\n<li>設定 Target Group 的 Health Check (ex:/check.html)<br><img src=\"/images/2019/8/aws_tg_healthcheck.jpg\" alt=\"AWS Target Gropu Health Check\"></li>\n</ul>\n<h3 id=\"包成-Gloden-Image\"><a href=\"#包成-Gloden-Image\" class=\"headerlink\" title=\"包成 Gloden Image\"></a>包成 Gloden Image</h3><ol>\n<li><p>機器下 ALB</p>\n<p> <img src=\"/images/2019/8/aws_gi_out_alb.jpg\" alt=\"機器下ALB\"></p>\n</li>\n<li><p>開啟 Ec2LaunchSettings.exe</p>\n<p> <img src=\"/images/2019/8/aws_ec2_launch_settings.jpg\" alt=\"開啟 Ec2LaunchSettings.exe\"></p>\n</li>\n<li><p>透過 Ec2LaunchSettings 關機</p>\n<p> <img src=\"/images/2019/8/aws_ec2_launch_settings_turn_off.jpg\" alt=\"透過 Ec2LaunchSettings 關機\"></p>\n</li>\n<li><p>Waitting Instance Stoped , Create Images</p>\n<p> <img src=\"/images/2019/8/aws_gi_create_images.jpg\" alt=\"Waitting Instance Stoped , Create Images\"></p>\n</li>\n</ol>\n<h3 id=\"Create-Launch-Configuration\"><a href=\"#Create-Launch-Configuration\" class=\"headerlink\" title=\"Create Launch Configuration\"></a>Create Launch Configuration</h3><p><img src=\"/images/2019/8/aws_create_lc.jpg\" alt=\"Create Launch Configuration\"></p>\n<ol>\n<li>Choose AMI<br> <img src=\"/images/2019/8/aws_choose_ami.jpg\" alt=\"Choose Gloden Image\"></li>\n<li>Choose Instance Type<br> <img src=\"/images/2019/8/aws_choose_instance_type.jpg\" alt=\"t2.small\"></li>\n<li>Configure details<br> <img src=\"/images/2019/8/aws_userdata.jpg\" alt=\"Add User Data\"></li>\n<li>Add Storage<br> <img src=\"/images/2019/8/aws_ebs.jpg\" alt=\"Set EBS\"></li>\n<li>Configure Security Group</li>\n<li>Review</li>\n</ol>\n<h3 id=\"Create-Auto-Scaling-group\"><a href=\"#Create-Auto-Scaling-group\" class=\"headerlink\" title=\"Create Auto Scaling group\"></a>Create Auto Scaling group</h3><ol>\n<li>Configure Auto Scaling group details<br> <img src=\"/images/2019/8/aws_create_asg.jpg\" alt=\"Configure Auto Scaling group details\"></li>\n<li>Configure scaling policies<blockquote>\n<p>略</p>\n</blockquote>\n</li>\n<li>Configure Notifications<blockquote>\n<p>略</p>\n</blockquote>\n</li>\n<li>Configure Tags<blockquote>\n<p>略</p>\n</blockquote>\n</li>\n<li>Review</li>\n</ol>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://docs.aws.amazon.com/zh_tw/autoscaling/ec2/userguide/create-asg-from-instance.html\" target=\"_blank\" rel=\"noopener\">使用 EC2 執行個體建立 Auto Scaling 群組 - Amazon EC2 Auto Scaling</a></li>\n<li><a href=\"https://docs.aws.amazon.com/en_us/autoscaling/ec2/userguide/LaunchConfiguration.html\" target=\"_blank\" rel=\"noopener\">Launch Configurations - Amazon EC2 Auto Scaling</a></li>\n<li><a href=\"https://aws.amazon.com/cn/blogs/china/aws-alb-route-distribute/\" target=\"_blank\" rel=\"noopener\">使用AWS Application Load Balancer</a></li>\n<li><a href=\"https://docs.aws.amazon.com/zh_tw/elasticloadbalancing/latest/network/load-balancer-target-groups.html\" target=\"_blank\" rel=\"noopener\">Network Load Balancers 的目標群組</a></li>\n<li><a href=\"https://docs.aws.amazon.com/zh_tw/elasticloadbalancing/latest/network/create-target-group.html\" target=\"_blank\" rel=\"noopener\">為 Network Load Balancer 建立目標群組</a></li>\n<li><a href=\"https://docs.aws.amazon.com/zh_tw/AmazonCloudWatch/latest/logs/QuickStartWindows2016.html#configure_cwl_download\" target=\"_blank\" rel=\"noopener\">CloudWatch Logs</a></li>\n<li><a href=\"https://docs.aws.amazon.com/zh_tw/AmazonCloudWatch/latest/monitoring/Install-CloudWatch-Agent.html\" target=\"_blank\" rel=\"noopener\">使用 CloudWatch 代理程式從 Amazon EC2 執行個體和現場部署伺服器收集指標和日誌 - Amazon CloudWatch</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>最近將一個服務掛上雲端(AWS)，使用 EC2 ，<br>並且實作了 Auto Scaling ，特別紀錄一下。</p>\n<h2 id=\"概觀\"><a href=\"#概觀\" class=\"headerlink\" title=\"概觀\"></a>概觀</h2><p>以下使用的都是 AWS 的服務</p>\n<ol>\n<li><p>Auto Scaling Group (ASG) :<br> 本篇主角，根據指定的 Policies 與 LC 加開減少機器。</p>\n</li>\n<li><p>Launch Configuration (LC) :<br> 一個 ASG 背後一定要搭配一個 LC，可以說是 ASG 的生命共同體，<br> 用來指定 EC2 的配置，並透過 <code>User Data</code> 指定實體起動時所需要執行的工作。<br> 註: 也有使用 Launch Template 的作法，這篇不會討論。</p>\n</li>\n<li><p>Target Group (TG):<br> 由 1 到多個 EC2 實體(instance)組成，用來與 ELB(ALB) 搭配。</p>\n</li>\n<li><p>ALB :<br> 流量負載平衡，與 TG 作為搭配。可以依不同條件轉導到不同 TG</p>\n</li>\n</ol>\n<p><img src=\"/images/2019/8/aws_asg_overview.jpg\" alt=\"Auto Scaling Group\"></p>\n<h3 id=\"組合零件\"><a href=\"#組合零件\" class=\"headerlink\" title=\"組合零件\"></a>組合零件</h3><p>這有點像是在玩模型玩具，各個部份的小零件可以組成一個大零件，<br>再將各個部件結合，完成我所要的功能。<br>以下是這所需要的各個零件</p>\n<ul>\n<li>Golden Image : 由實際的 EC2 Instance 建立。並包含 Cloud Watch Agent 的配置。</li>\n<li>User Data : Lanuch Configuration 的一個子項目，可以在 EC2 啟動時，執行指定的命令，比如說在 WINDOWS 透過 Powershell 抓取新版程式來建置服務。</li>\n<li>Launch Configuration : 由上述兩個零件 (Gloden Image &amp; User Data) 組成，另外還可以設定 EBS、Plocies 等設定…</li>\n<li>Target Group : 用來存放相關實體(EC2 Instance)的抽象概念, 可以設定 Health Check 來確定實體的健康情況。</li>\n<li>Auto Scaling Group : 透過 Lanuch Configuration 來建立實體，並且可以將實體放入指定的 Target Group 之中。並且可以設定 Policy 來實現 Scaling Out/In.</li>\n<li>ALB : 負載平衡的一種，透過設定，可以將 Request 導到對應的 Target Group。</li>\n</ul>\n<h2 id=\"紀錄\"><a href=\"#紀錄\" class=\"headerlink\" title=\"紀錄\"></a>紀錄</h2><h3 id=\"Add-CloudWatch-Agent\"><a href=\"#Add-CloudWatch-Agent\" class=\"headerlink\" title=\"Add CloudWatch Agent\"></a>Add CloudWatch Agent</h3><ol>\n<li><p>Login EC2 Instance</p>\n</li>\n<li><p>安裝 CloudWatch Agent</p>\n</li>\n<li><p>準備一個 Json 檔如下</p>\n <figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;  </span><br><span class=\"line\"><span class=\"attr\">\"agent\"</span>:&#123;  </span><br><span class=\"line\">    <span class=\"attr\">\"logfile\"</span>:<span class=\"string\">\"c:\\\\ProgramData\\\\Amazon\\\\AmazonCloudWatchAgent\\\\Logs\\\\amazon-cloudwatch-agent.log\"</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"attr\">\"logs\"</span>:&#123;  </span><br><span class=\"line\">    <span class=\"attr\">\"logs_collected\"</span>:&#123;  </span><br><span class=\"line\">        <span class=\"attr\">\"files\"</span>:&#123;  </span><br><span class=\"line\">            <span class=\"attr\">\"collect_list\"</span>:[  </span><br><span class=\"line\">            &#123;  </span><br><span class=\"line\">                <span class=\"attr\">\"file_path\"</span>:<span class=\"string\">\"D:\\\\logs\\\\**.log\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"log_group_name\"</span>:<span class=\"string\">\"/MY/Service/Worker\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"log_stream_name\"</span>:<span class=\"string\">\"&#123;instance_id&#125;\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"timezone\"</span>:<span class=\"string\">\"UTC\"</span>,</span><br><span class=\"line\">                <span class=\"attr\">\"timestamp_format\"</span>:<span class=\"string\">\"%Y-%m-%dT%H:%M:%S\"</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            ]</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">\"log_stream_name\"</span>:<span class=\"string\">\"default-log-stream\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"force_flush_interval\"</span>:<span class=\"number\">5</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>開啟powershell，切換目錄至 AmazonCloudWatchAgent</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> <span class=\"string\">\"C:\\Program Files\\Amazon\\AmazonCloudWatchAgent\"</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>執行以下語法</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./amazon-cloudwatch-agent-ctl.ps1 -a fetch-config -m ec2 -c file:yourjsonfile.json -s</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h3 id=\"站台加入-Health-Check\"><a href=\"#站台加入-Health-Check\" class=\"headerlink\" title=\"站台加入 Health Check\"></a>站台加入 Health Check</h3><ul>\n<li>加入靜態檔案(ex:check.html)</li>\n<li>IIS Building * 80<br><img src=\"/images/2019/8/aws_iissetting.jpg\" alt=\"IIS Building * 80\"></li>\n<li>設定 Target Group 的 Health Check (ex:/check.html)<br><img src=\"/images/2019/8/aws_tg_healthcheck.jpg\" alt=\"AWS Target Gropu Health Check\"></li>\n</ul>\n<h3 id=\"包成-Gloden-Image\"><a href=\"#包成-Gloden-Image\" class=\"headerlink\" title=\"包成 Gloden Image\"></a>包成 Gloden Image</h3><ol>\n<li><p>機器下 ALB</p>\n<p> <img src=\"/images/2019/8/aws_gi_out_alb.jpg\" alt=\"機器下ALB\"></p>\n</li>\n<li><p>開啟 Ec2LaunchSettings.exe</p>\n<p> <img src=\"/images/2019/8/aws_ec2_launch_settings.jpg\" alt=\"開啟 Ec2LaunchSettings.exe\"></p>\n</li>\n<li><p>透過 Ec2LaunchSettings 關機</p>\n<p> <img src=\"/images/2019/8/aws_ec2_launch_settings_turn_off.jpg\" alt=\"透過 Ec2LaunchSettings 關機\"></p>\n</li>\n<li><p>Waitting Instance Stoped , Create Images</p>\n<p> <img src=\"/images/2019/8/aws_gi_create_images.jpg\" alt=\"Waitting Instance Stoped , Create Images\"></p>\n</li>\n</ol>\n<h3 id=\"Create-Launch-Configuration\"><a href=\"#Create-Launch-Configuration\" class=\"headerlink\" title=\"Create Launch Configuration\"></a>Create Launch Configuration</h3><p><img src=\"/images/2019/8/aws_create_lc.jpg\" alt=\"Create Launch Configuration\"></p>\n<ol>\n<li>Choose AMI<br> <img src=\"/images/2019/8/aws_choose_ami.jpg\" alt=\"Choose Gloden Image\"></li>\n<li>Choose Instance Type<br> <img src=\"/images/2019/8/aws_choose_instance_type.jpg\" alt=\"t2.small\"></li>\n<li>Configure details<br> <img src=\"/images/2019/8/aws_userdata.jpg\" alt=\"Add User Data\"></li>\n<li>Add Storage<br> <img src=\"/images/2019/8/aws_ebs.jpg\" alt=\"Set EBS\"></li>\n<li>Configure Security Group</li>\n<li>Review</li>\n</ol>\n<h3 id=\"Create-Auto-Scaling-group\"><a href=\"#Create-Auto-Scaling-group\" class=\"headerlink\" title=\"Create Auto Scaling group\"></a>Create Auto Scaling group</h3><ol>\n<li>Configure Auto Scaling group details<br> <img src=\"/images/2019/8/aws_create_asg.jpg\" alt=\"Configure Auto Scaling group details\"></li>\n<li>Configure scaling policies<blockquote>\n<p>略</p>\n</blockquote>\n</li>\n<li>Configure Notifications<blockquote>\n<p>略</p>\n</blockquote>\n</li>\n<li>Configure Tags<blockquote>\n<p>略</p>\n</blockquote>\n</li>\n<li>Review</li>\n</ol>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://docs.aws.amazon.com/zh_tw/autoscaling/ec2/userguide/create-asg-from-instance.html\" target=\"_blank\" rel=\"noopener\">使用 EC2 執行個體建立 Auto Scaling 群組 - Amazon EC2 Auto Scaling</a></li>\n<li><a href=\"https://docs.aws.amazon.com/en_us/autoscaling/ec2/userguide/LaunchConfiguration.html\" target=\"_blank\" rel=\"noopener\">Launch Configurations - Amazon EC2 Auto Scaling</a></li>\n<li><a href=\"https://aws.amazon.com/cn/blogs/china/aws-alb-route-distribute/\" target=\"_blank\" rel=\"noopener\">使用AWS Application Load Balancer</a></li>\n<li><a href=\"https://docs.aws.amazon.com/zh_tw/elasticloadbalancing/latest/network/load-balancer-target-groups.html\" target=\"_blank\" rel=\"noopener\">Network Load Balancers 的目標群組</a></li>\n<li><a href=\"https://docs.aws.amazon.com/zh_tw/elasticloadbalancing/latest/network/create-target-group.html\" target=\"_blank\" rel=\"noopener\">為 Network Load Balancer 建立目標群組</a></li>\n<li><a href=\"https://docs.aws.amazon.com/zh_tw/AmazonCloudWatch/latest/logs/QuickStartWindows2016.html#configure_cwl_download\" target=\"_blank\" rel=\"noopener\">CloudWatch Logs</a></li>\n<li><a href=\"https://docs.aws.amazon.com/zh_tw/AmazonCloudWatch/latest/monitoring/Install-CloudWatch-Agent.html\" target=\"_blank\" rel=\"noopener\">使用 CloudWatch 代理程式從 Amazon EC2 執行個體和現場部署伺服器收集指標和日誌 - Amazon CloudWatch</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[實作筆記] ASP.Net Core Logger","date":"2019-04-06T04:21:17.000Z","_content":"\n## 要知道的事\n\n- 這是個人的學習記錄\n- 可能對你沒幫助\n- 網路上資訊很多\n- 希望對你有幫助\n\n## 概念\n\nAsp.Net Core 的 Life Cycle 由 `Program.cs` 的 `main` 方法開始(是的，就如同其它一般的程式)，  \n在 `WebHostBuilder` 中的 `ConfigureLogging` 可以提供彈性讓你設定屬於你的 LoggerProvider，\n不論是微軟提供、知名的第三方套件或是你手工自已刻一個，大致你的程式碼會如下\n\n```csharp\npublic static IWebHostBuilder CreateWebHostBuilder(string[] args) =>\n    WebHost.CreateDefaultBuilder(args)\n        .ConfigureLogging(logging=>\n        {\n            logging.ClearProviders();\n            logging.AddEventLog();\n            logging.AddFile(\"D:\\\\Temp\\\\Log.txt\");\n            logging.AddConsole();\n        })\n        .UseStartup<Startup>()\n```\n\n而在 Controller 或其它 Module 間，你只要透過建構子注入 logger 實體就可以實現 log 的功能\n\n```csharp\n    public HomeController(ILogger<HomeController> logger)\n    {\n        this._logger = logger;\n    }\n```\n\n## 預設的行為\n如果你沒有呼叫 `ConfigureLogging` 預設的行為如下述.\n\nThe default project template calls `CreateDefaultBuilder`， which adds the following logging providers:\n\n- Console\n- Debug\n- EventSource (starting in ASP.NET Core 2.2)\n\n```csharp\npublic static void Main(string[] args)\n{\n    CreateWebHostBuilder(args).Build().Run();\n}\n\npublic static IWebHostBuilder CreateWebHostBuilder(string[] args) =>\n    WebHost.CreateDefaultBuilder(args)\n        .UseStartup<Startup>();\n```\n\n### Find the Logs\n\n#### Console\n\n範例說明:在建構子中注入 `ILogger` 實體，運行網站後連到 Home\\Index 頁面，並觀察 Console\n\n```csharp\npublic class HomeController : Controller\n{\n    private readonly ILogger _logger;\n\n    /// <summary>\n    /// Initializes a new instance of the <see cref=\"HomeController\" /> class.\n    /// </summary>\n    public HomeController(ILogger<HomeController> logger)\n    {\n        this._logger = logger;\n    }\n\n    public IActionResult Index()\n    {\n        this._logger.Log(LogLevel.Information，\"HomeController Information\");\n        this._logger.Log(LogLevel.Critical，\"HomeController Critical\");\n        this._logger.Log(LogLevel.Debug，\"HomeController Debug\");\n        this._logger.Log(LogLevel.Error，\"HomeController Error\");\n        this._logger.Log(LogLevel.None，\"HomeController None\");\n        this._logger.Log(LogLevel.Trace，\"HomeController Trace\");\n        this._logger.Log(LogLevel.Warning，\"HomeController Warning\");\n        return View();\n    }\n}\n```\n\n結果如下，可以發現 `LogLevel.None`、`LogLevel.Trace` 與 `LogLevel.Warning` 並未出現在 Console 資訊當中\n\n```\ninfo: Marsen.NetCore.Site.Controllers.HomeController[0]\n      HomeController Information\ncrit: Marsen.NetCore.Site.Controllers.HomeController[0]\n      HomeController Critical\ndbug: Marsen.NetCore.Site.Controllers.HomeController[0]\n      HomeController Debug\nfail: Marsen.NetCore.Site.Controllers.HomeController[0]\n      HomeController Error\n```\n\n[LogLevel](https://docs.microsoft.com/zh-tw/dotnet/api/microsoft.extensions.logging.loglevel?view=aspnetcore-2.2)說明了 `None` 的意義就是不記錄任何訊息，\n\n| Enum | Level | Description |\n| -------- | -------- | -------- |\n| Trace    | 0    |Logs that contain the most detailed messages. These messages may contain sensitive application data. These messages are disabled by default and should never be enabled in a production environment.   |\n| Debug     | 1     | Logs that are used for interactive investigation during development. These logs should primarily contain information useful for debugging and have no long-term value.     |\n| Information     | 2     | Logs that track the general flow of the application. These logs should have long-term value.    |\n|Warning |3|Logs that highlight an abnormal or unexpected event in the application flow， but do not otherwise cause the application execution to stop.|\n| Error     | 4     | Logs that highlight when the current flow of execution is stopped due to a failure. These should indicate a failure in the current activity， not an application-wide failure.     |\n| Critical     | 5     | Logs that describe an unrecoverable application or system crash， or a catastrophic failure that requires immediate attention.     |\n| None     | 6     | Not used for writing log messages. Specifies that a logging category should not write any messages.    |\n\nLog 的作用範圍會受 `appsettings.json` 影響，  \n另外要注意 appsettings.json 的載入順序.  \n\n```json\n  \"Logging\": {\n    \"LogLevel\": {\n      \"Default\": \"Trace\"，\n      \"System\": \"Information\"，\n      \"Microsoft\": \"Information\"\n    }\n```\n\n#### Debug\n\n如同 `Console` 的行為一般，可以在 Visual Studio 的輸出(Output)>偵錯(Debug)視窗中，查詢到記錄。\n\n![](https://i.imgur.com/274witm.jpg)\n\n\n#### EventSource\n\n如同[官方文件](https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging/?view=aspnetcore-2.2#eventsource-provider)所說，我下載了 `PerfView` ，\n如下圖作了設定， \n![PerfView](/images/2019/4/perfview.jpg)  \n不過我並沒有取得記錄，  \n![PerfView Log](/images/2019/4/perfview.jpg)  \n\n錯誤訊息如下  \n `EventSource Microsoft-Extensions-Logging: Object reference not set to an instance of an object`  \n暫時不打算深追查，\nETW 可以記錄的 Memory 、Disc IO 、CPU 等資訊， \n其實與我想要的應用程式記錄有所差異，稍稍記錄一下以後也許用得到。  \n如果有人能留言給我一些方向，也是非常歡迎。  \n\n## 自訂 Filelog 與 EventLog\n\n調整一下程式\n\n```csharp\npublic static IWebHostBuilder CreateWebHostBuilder(string[] args) =>\n    WebHost.CreateDefaultBuilder(args)\n        .ConfigureLogging(logging=>\n        {\n            logging.AddEventLog();\n            logging.AddFile(\"D:\\\\Temp\\\\Log.txt\");\n        })\n        .UseStartup<Startup>()\n```\n\n這裡我使用 `Microsoft.Extensions.Logging.EventLog` 處理 EventLog 可以在 Event View 中看見記錄;  \n而 file log 我使用 `Serilog.Extensions.Logging.File` ， 特別要注意以下兩點  \n- Nuget 使用的版本為 2.0.0 以上版本，目前仍然不是穩定版本  \n- AddFile 傳入的是記錄檔的完整 Path 而非目錄  \n\n## 自訂 Elmah\nElmah 在 Net 算是一個蠻方便的工具，有提供簡易介面、可以選擇用 File 或是 Database 方式作 Logging，  \n更重要是小弟我用了 4 年，順手就研究一下。\n\n設定相當簡單， 在 `Startup.cs` 的 `ConfigureServices` 加入\n```csharp\nservices.AddElmah<XmlFileErrorLog>(options =>            \n{\n    //options.CheckPermissionAction = context => context.User.Identity.IsAuthenticated;\n    //options.Path = @\"elmah\";\n    options.LogPath = \"D:\\\\Temp\\\\elmah\";\n})\n```\n\n在 `Configure` 加入\n\n```csharp\napp.UseElmah();\n```\n\n要注意是使用 `XmlFileErrorLog` 時，要設定的 options 是 `LogPath` 而非 `Path`，  \n其實使用 File 只能說是開發環境的暫時處置，真正的 Prodction 應該將 Log 放到專門的 Database 或是 Cloud Service 之中，  \n在這裡可以看見 Elmah 的行為與 Net Core 的行為並不一致，Log 與錯誤記錄本來就不該混為一談。  \n我想我要調整一下我的想法了，不過關於 Log 暫時就到此為止。\n\n\n## 參考\n- [ASP.NET Core Logging](https://codingblast.com/asp-net-core-logging/)\n- [.NET Core Logging With LoggerFactory: Best Practices and Tips](https://stackify.com/net-core-loggerfactory-use-correctly/)\n- [Logging in ASP.NET Core](https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging/?view=aspnetcore-2.2#log-scopes)\n- [[鐵人賽 Day16] ASP.NET Core 2 系列 - 多重環境組態管理 (Multiple Environments)](https://blog.johnwu.cc/article/ironman-day16-asp-net-core-multiple-environments.html)\n- [ASP.NET Core EventLog provider](https://stackoverflow.com/questions/47773058/asp-net-core-eventlog-provider)\n- [ASP.NET Core: The MVC Request Life Cycle](http://www.techbloginterview.com/asp-net-core-the-mvc-request-life-cycle/)\n- [Monitoring and Observability in the .NET Runtime](https://mattwarren.org/2018/08/21/Monitoring-and-Observability-in-the-.NET-Runtime/)\n- [ElmahCore/ElmahCore](https://github.com/ElmahCore/ElmahCore)\n\n(fin)","source":"_posts/2019/aspdotnet_core_logging.md","raw":"---\ntitle: \"[實作筆記] ASP.Net Core Logger\"\ndate: 2019/04/06 12:21:17\ntag:\n  - .Net Framework\n---\n\n## 要知道的事\n\n- 這是個人的學習記錄\n- 可能對你沒幫助\n- 網路上資訊很多\n- 希望對你有幫助\n\n## 概念\n\nAsp.Net Core 的 Life Cycle 由 `Program.cs` 的 `main` 方法開始(是的，就如同其它一般的程式)，  \n在 `WebHostBuilder` 中的 `ConfigureLogging` 可以提供彈性讓你設定屬於你的 LoggerProvider，\n不論是微軟提供、知名的第三方套件或是你手工自已刻一個，大致你的程式碼會如下\n\n```csharp\npublic static IWebHostBuilder CreateWebHostBuilder(string[] args) =>\n    WebHost.CreateDefaultBuilder(args)\n        .ConfigureLogging(logging=>\n        {\n            logging.ClearProviders();\n            logging.AddEventLog();\n            logging.AddFile(\"D:\\\\Temp\\\\Log.txt\");\n            logging.AddConsole();\n        })\n        .UseStartup<Startup>()\n```\n\n而在 Controller 或其它 Module 間，你只要透過建構子注入 logger 實體就可以實現 log 的功能\n\n```csharp\n    public HomeController(ILogger<HomeController> logger)\n    {\n        this._logger = logger;\n    }\n```\n\n## 預設的行為\n如果你沒有呼叫 `ConfigureLogging` 預設的行為如下述.\n\nThe default project template calls `CreateDefaultBuilder`， which adds the following logging providers:\n\n- Console\n- Debug\n- EventSource (starting in ASP.NET Core 2.2)\n\n```csharp\npublic static void Main(string[] args)\n{\n    CreateWebHostBuilder(args).Build().Run();\n}\n\npublic static IWebHostBuilder CreateWebHostBuilder(string[] args) =>\n    WebHost.CreateDefaultBuilder(args)\n        .UseStartup<Startup>();\n```\n\n### Find the Logs\n\n#### Console\n\n範例說明:在建構子中注入 `ILogger` 實體，運行網站後連到 Home\\Index 頁面，並觀察 Console\n\n```csharp\npublic class HomeController : Controller\n{\n    private readonly ILogger _logger;\n\n    /// <summary>\n    /// Initializes a new instance of the <see cref=\"HomeController\" /> class.\n    /// </summary>\n    public HomeController(ILogger<HomeController> logger)\n    {\n        this._logger = logger;\n    }\n\n    public IActionResult Index()\n    {\n        this._logger.Log(LogLevel.Information，\"HomeController Information\");\n        this._logger.Log(LogLevel.Critical，\"HomeController Critical\");\n        this._logger.Log(LogLevel.Debug，\"HomeController Debug\");\n        this._logger.Log(LogLevel.Error，\"HomeController Error\");\n        this._logger.Log(LogLevel.None，\"HomeController None\");\n        this._logger.Log(LogLevel.Trace，\"HomeController Trace\");\n        this._logger.Log(LogLevel.Warning，\"HomeController Warning\");\n        return View();\n    }\n}\n```\n\n結果如下，可以發現 `LogLevel.None`、`LogLevel.Trace` 與 `LogLevel.Warning` 並未出現在 Console 資訊當中\n\n```\ninfo: Marsen.NetCore.Site.Controllers.HomeController[0]\n      HomeController Information\ncrit: Marsen.NetCore.Site.Controllers.HomeController[0]\n      HomeController Critical\ndbug: Marsen.NetCore.Site.Controllers.HomeController[0]\n      HomeController Debug\nfail: Marsen.NetCore.Site.Controllers.HomeController[0]\n      HomeController Error\n```\n\n[LogLevel](https://docs.microsoft.com/zh-tw/dotnet/api/microsoft.extensions.logging.loglevel?view=aspnetcore-2.2)說明了 `None` 的意義就是不記錄任何訊息，\n\n| Enum | Level | Description |\n| -------- | -------- | -------- |\n| Trace    | 0    |Logs that contain the most detailed messages. These messages may contain sensitive application data. These messages are disabled by default and should never be enabled in a production environment.   |\n| Debug     | 1     | Logs that are used for interactive investigation during development. These logs should primarily contain information useful for debugging and have no long-term value.     |\n| Information     | 2     | Logs that track the general flow of the application. These logs should have long-term value.    |\n|Warning |3|Logs that highlight an abnormal or unexpected event in the application flow， but do not otherwise cause the application execution to stop.|\n| Error     | 4     | Logs that highlight when the current flow of execution is stopped due to a failure. These should indicate a failure in the current activity， not an application-wide failure.     |\n| Critical     | 5     | Logs that describe an unrecoverable application or system crash， or a catastrophic failure that requires immediate attention.     |\n| None     | 6     | Not used for writing log messages. Specifies that a logging category should not write any messages.    |\n\nLog 的作用範圍會受 `appsettings.json` 影響，  \n另外要注意 appsettings.json 的載入順序.  \n\n```json\n  \"Logging\": {\n    \"LogLevel\": {\n      \"Default\": \"Trace\"，\n      \"System\": \"Information\"，\n      \"Microsoft\": \"Information\"\n    }\n```\n\n#### Debug\n\n如同 `Console` 的行為一般，可以在 Visual Studio 的輸出(Output)>偵錯(Debug)視窗中，查詢到記錄。\n\n![](https://i.imgur.com/274witm.jpg)\n\n\n#### EventSource\n\n如同[官方文件](https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging/?view=aspnetcore-2.2#eventsource-provider)所說，我下載了 `PerfView` ，\n如下圖作了設定， \n![PerfView](/images/2019/4/perfview.jpg)  \n不過我並沒有取得記錄，  \n![PerfView Log](/images/2019/4/perfview.jpg)  \n\n錯誤訊息如下  \n `EventSource Microsoft-Extensions-Logging: Object reference not set to an instance of an object`  \n暫時不打算深追查，\nETW 可以記錄的 Memory 、Disc IO 、CPU 等資訊， \n其實與我想要的應用程式記錄有所差異，稍稍記錄一下以後也許用得到。  \n如果有人能留言給我一些方向，也是非常歡迎。  \n\n## 自訂 Filelog 與 EventLog\n\n調整一下程式\n\n```csharp\npublic static IWebHostBuilder CreateWebHostBuilder(string[] args) =>\n    WebHost.CreateDefaultBuilder(args)\n        .ConfigureLogging(logging=>\n        {\n            logging.AddEventLog();\n            logging.AddFile(\"D:\\\\Temp\\\\Log.txt\");\n        })\n        .UseStartup<Startup>()\n```\n\n這裡我使用 `Microsoft.Extensions.Logging.EventLog` 處理 EventLog 可以在 Event View 中看見記錄;  \n而 file log 我使用 `Serilog.Extensions.Logging.File` ， 特別要注意以下兩點  \n- Nuget 使用的版本為 2.0.0 以上版本，目前仍然不是穩定版本  \n- AddFile 傳入的是記錄檔的完整 Path 而非目錄  \n\n## 自訂 Elmah\nElmah 在 Net 算是一個蠻方便的工具，有提供簡易介面、可以選擇用 File 或是 Database 方式作 Logging，  \n更重要是小弟我用了 4 年，順手就研究一下。\n\n設定相當簡單， 在 `Startup.cs` 的 `ConfigureServices` 加入\n```csharp\nservices.AddElmah<XmlFileErrorLog>(options =>            \n{\n    //options.CheckPermissionAction = context => context.User.Identity.IsAuthenticated;\n    //options.Path = @\"elmah\";\n    options.LogPath = \"D:\\\\Temp\\\\elmah\";\n})\n```\n\n在 `Configure` 加入\n\n```csharp\napp.UseElmah();\n```\n\n要注意是使用 `XmlFileErrorLog` 時，要設定的 options 是 `LogPath` 而非 `Path`，  \n其實使用 File 只能說是開發環境的暫時處置，真正的 Prodction 應該將 Log 放到專門的 Database 或是 Cloud Service 之中，  \n在這裡可以看見 Elmah 的行為與 Net Core 的行為並不一致，Log 與錯誤記錄本來就不該混為一談。  \n我想我要調整一下我的想法了，不過關於 Log 暫時就到此為止。\n\n\n## 參考\n- [ASP.NET Core Logging](https://codingblast.com/asp-net-core-logging/)\n- [.NET Core Logging With LoggerFactory: Best Practices and Tips](https://stackify.com/net-core-loggerfactory-use-correctly/)\n- [Logging in ASP.NET Core](https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging/?view=aspnetcore-2.2#log-scopes)\n- [[鐵人賽 Day16] ASP.NET Core 2 系列 - 多重環境組態管理 (Multiple Environments)](https://blog.johnwu.cc/article/ironman-day16-asp-net-core-multiple-environments.html)\n- [ASP.NET Core EventLog provider](https://stackoverflow.com/questions/47773058/asp-net-core-eventlog-provider)\n- [ASP.NET Core: The MVC Request Life Cycle](http://www.techbloginterview.com/asp-net-core-the-mvc-request-life-cycle/)\n- [Monitoring and Observability in the .NET Runtime](https://mattwarren.org/2018/08/21/Monitoring-and-Observability-in-the-.NET-Runtime/)\n- [ElmahCore/ElmahCore](https://github.com/ElmahCore/ElmahCore)\n\n(fin)","slug":"2019/aspdotnet_core_logging","published":1,"updated":"2019-09-08T10:08:48.895Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wm6002mb0vxs0e34mwp","content":"<h2 id=\"要知道的事\"><a href=\"#要知道的事\" class=\"headerlink\" title=\"要知道的事\"></a>要知道的事</h2><ul>\n<li>這是個人的學習記錄</li>\n<li>可能對你沒幫助</li>\n<li>網路上資訊很多</li>\n<li>希望對你有幫助</li>\n</ul>\n<h2 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h2><p>Asp.Net Core 的 Life Cycle 由 <code>Program.cs</code> 的 <code>main</code> 方法開始(是的，就如同其它一般的程式)，<br>在 <code>WebHostBuilder</code> 中的 <code>ConfigureLogging</code> 可以提供彈性讓你設定屬於你的 LoggerProvider，<br>不論是微軟提供、知名的第三方套件或是你手工自已刻一個，大致你的程式碼會如下</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> IWebHostBuilder <span class=\"title\">CreateWebHostBuilder</span>(<span class=\"params\"><span class=\"keyword\">string</span>[] args</span>) </span>=&gt;</span><br><span class=\"line\">    WebHost.CreateDefaultBuilder(args)</span><br><span class=\"line\">        .ConfigureLogging(logging=&gt;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            logging.ClearProviders();</span><br><span class=\"line\">            logging.AddEventLog();</span><br><span class=\"line\">            logging.AddFile(<span class=\"string\">\"D:\\\\Temp\\\\Log.txt\"</span>);</span><br><span class=\"line\">            logging.AddConsole();</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .UseStartup&lt;Startup&gt;()</span><br></pre></td></tr></table></figure>\n\n<p>而在 Controller 或其它 Module 間，你只要透過建構子注入 logger 實體就可以實現 log 的功能</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">HomeController</span>(<span class=\"params\">ILogger&lt;HomeController&gt; logger</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>._logger = logger;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"預設的行為\"><a href=\"#預設的行為\" class=\"headerlink\" title=\"預設的行為\"></a>預設的行為</h2><p>如果你沒有呼叫 <code>ConfigureLogging</code> 預設的行為如下述.</p>\n<p>The default project template calls <code>CreateDefaultBuilder</code>， which adds the following logging providers:</p>\n<ul>\n<li>Console</li>\n<li>Debug</li>\n<li>EventSource (starting in ASP.NET Core 2.2)</li>\n</ul>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"keyword\">string</span>[] args</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    CreateWebHostBuilder(args).Build().Run();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> IWebHostBuilder <span class=\"title\">CreateWebHostBuilder</span>(<span class=\"params\"><span class=\"keyword\">string</span>[] args</span>) </span>=&gt;</span><br><span class=\"line\">    WebHost.CreateDefaultBuilder(args)</span><br><span class=\"line\">        .UseStartup&lt;Startup&gt;();</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Find-the-Logs\"><a href=\"#Find-the-Logs\" class=\"headerlink\" title=\"Find the Logs\"></a>Find the Logs</h3><h4 id=\"Console\"><a href=\"#Console\" class=\"headerlink\" title=\"Console\"></a>Console</h4><p>範例說明:在建構子中注入 <code>ILogger</code> 實體，運行網站後連到 Home\\Index 頁面，並觀察 Console</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">HomeController</span> : <span class=\"title\">Controller</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> ILogger _logger;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Initializes a new instance of the <span class=\"doctag\">&lt;see cref=\"HomeController\" /&gt;</span> class.</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">HomeController</span>(<span class=\"params\">ILogger&lt;HomeController&gt; logger</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._logger = logger;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> IActionResult <span class=\"title\">Index</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._logger.Log(LogLevel.Information，<span class=\"string\">\"HomeController Information\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._logger.Log(LogLevel.Critical，<span class=\"string\">\"HomeController Critical\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._logger.Log(LogLevel.Debug，<span class=\"string\">\"HomeController Debug\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._logger.Log(LogLevel.Error，<span class=\"string\">\"HomeController Error\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._logger.Log(LogLevel.None，<span class=\"string\">\"HomeController None\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._logger.Log(LogLevel.Trace，<span class=\"string\">\"HomeController Trace\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._logger.Log(LogLevel.Warning，<span class=\"string\">\"HomeController Warning\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> View();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>結果如下，可以發現 <code>LogLevel.None</code>、<code>LogLevel.Trace</code> 與 <code>LogLevel.Warning</code> 並未出現在 Console 資訊當中</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">info: Marsen.NetCore.Site.Controllers.HomeController[0]</span><br><span class=\"line\">      HomeController Information</span><br><span class=\"line\">crit: Marsen.NetCore.Site.Controllers.HomeController[0]</span><br><span class=\"line\">      HomeController Critical</span><br><span class=\"line\">dbug: Marsen.NetCore.Site.Controllers.HomeController[0]</span><br><span class=\"line\">      HomeController Debug</span><br><span class=\"line\">fail: Marsen.NetCore.Site.Controllers.HomeController[0]</span><br><span class=\"line\">      HomeController Error</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://docs.microsoft.com/zh-tw/dotnet/api/microsoft.extensions.logging.loglevel?view=aspnetcore-2.2\" target=\"_blank\" rel=\"noopener\">LogLevel</a>說明了 <code>None</code> 的意義就是不記錄任何訊息，</p>\n<table>\n<thead>\n<tr>\n<th>Enum</th>\n<th>Level</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Trace</td>\n<td>0</td>\n<td>Logs that contain the most detailed messages. These messages may contain sensitive application data. These messages are disabled by default and should never be enabled in a production environment.</td>\n</tr>\n<tr>\n<td>Debug</td>\n<td>1</td>\n<td>Logs that are used for interactive investigation during development. These logs should primarily contain information useful for debugging and have no long-term value.</td>\n</tr>\n<tr>\n<td>Information</td>\n<td>2</td>\n<td>Logs that track the general flow of the application. These logs should have long-term value.</td>\n</tr>\n<tr>\n<td>Warning</td>\n<td>3</td>\n<td>Logs that highlight an abnormal or unexpected event in the application flow， but do not otherwise cause the application execution to stop.</td>\n</tr>\n<tr>\n<td>Error</td>\n<td>4</td>\n<td>Logs that highlight when the current flow of execution is stopped due to a failure. These should indicate a failure in the current activity， not an application-wide failure.</td>\n</tr>\n<tr>\n<td>Critical</td>\n<td>5</td>\n<td>Logs that describe an unrecoverable application or system crash， or a catastrophic failure that requires immediate attention.</td>\n</tr>\n<tr>\n<td>None</td>\n<td>6</td>\n<td>Not used for writing log messages. Specifies that a logging category should not write any messages.</td>\n</tr>\n</tbody></table>\n<p>Log 的作用範圍會受 <code>appsettings.json</code> 影響，<br>另外要注意 appsettings.json 的載入順序.  </p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"Logging\": &#123;</span><br><span class=\"line\">  \"LogLevel\": &#123;</span><br><span class=\"line\">    \"Default\": \"Trace\"，</span><br><span class=\"line\">    \"System\": \"Information\"，</span><br><span class=\"line\">    \"Microsoft\": \"Information\"</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Debug\"><a href=\"#Debug\" class=\"headerlink\" title=\"Debug\"></a>Debug</h4><p>如同 <code>Console</code> 的行為一般，可以在 Visual Studio 的輸出(Output)&gt;偵錯(Debug)視窗中，查詢到記錄。</p>\n<p><img src=\"https://i.imgur.com/274witm.jpg\" alt></p>\n<h4 id=\"EventSource\"><a href=\"#EventSource\" class=\"headerlink\" title=\"EventSource\"></a>EventSource</h4><p>如同<a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging/?view=aspnetcore-2.2#eventsource-provider\" target=\"_blank\" rel=\"noopener\">官方文件</a>所說，我下載了 <code>PerfView</code> ，<br>如下圖作了設定，<br><img src=\"/images/2019/4/perfview.jpg\" alt=\"PerfView\"><br>不過我並沒有取得記錄，<br><img src=\"/images/2019/4/perfview.jpg\" alt=\"PerfView Log\">  </p>\n<p>錯誤訊息如下<br> <code>EventSource Microsoft-Extensions-Logging: Object reference not set to an instance of an object</code><br>暫時不打算深追查，<br>ETW 可以記錄的 Memory 、Disc IO 、CPU 等資訊，<br>其實與我想要的應用程式記錄有所差異，稍稍記錄一下以後也許用得到。<br>如果有人能留言給我一些方向，也是非常歡迎。  </p>\n<h2 id=\"自訂-Filelog-與-EventLog\"><a href=\"#自訂-Filelog-與-EventLog\" class=\"headerlink\" title=\"自訂 Filelog 與 EventLog\"></a>自訂 Filelog 與 EventLog</h2><p>調整一下程式</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> IWebHostBuilder <span class=\"title\">CreateWebHostBuilder</span>(<span class=\"params\"><span class=\"keyword\">string</span>[] args</span>) </span>=&gt;</span><br><span class=\"line\">    WebHost.CreateDefaultBuilder(args)</span><br><span class=\"line\">        .ConfigureLogging(logging=&gt;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            logging.AddEventLog();</span><br><span class=\"line\">            logging.AddFile(<span class=\"string\">\"D:\\\\Temp\\\\Log.txt\"</span>);</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .UseStartup&lt;Startup&gt;()</span><br></pre></td></tr></table></figure>\n\n<p>這裡我使用 <code>Microsoft.Extensions.Logging.EventLog</code> 處理 EventLog 可以在 Event View 中看見記錄;<br>而 file log 我使用 <code>Serilog.Extensions.Logging.File</code> ， 特別要注意以下兩點  </p>\n<ul>\n<li>Nuget 使用的版本為 2.0.0 以上版本，目前仍然不是穩定版本  </li>\n<li>AddFile 傳入的是記錄檔的完整 Path 而非目錄  </li>\n</ul>\n<h2 id=\"自訂-Elmah\"><a href=\"#自訂-Elmah\" class=\"headerlink\" title=\"自訂 Elmah\"></a>自訂 Elmah</h2><p>Elmah 在 Net 算是一個蠻方便的工具，有提供簡易介面、可以選擇用 File 或是 Database 方式作 Logging，<br>更重要是小弟我用了 4 年，順手就研究一下。</p>\n<p>設定相當簡單， 在 <code>Startup.cs</code> 的 <code>ConfigureServices</code> 加入</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">services.AddElmah&lt;XmlFileErrorLog&gt;(options =&gt;            </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//options.CheckPermissionAction = context =&gt; context.User.Identity.IsAuthenticated;</span></span><br><span class=\"line\">    <span class=\"comment\">//options.Path = @\"elmah\";</span></span><br><span class=\"line\">    options.LogPath = <span class=\"string\">\"D:\\\\Temp\\\\elmah\"</span>;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>在 <code>Configure</code> 加入</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app.UseElmah();</span><br></pre></td></tr></table></figure>\n\n<p>要注意是使用 <code>XmlFileErrorLog</code> 時，要設定的 options 是 <code>LogPath</code> 而非 <code>Path</code>，  \n其實使用 File 只能說是開發環境的暫時處置，真正的 Prodction 應該將 Log 放到專門的 Database 或是 Cloud Service 之中，<br>在這裡可以看見 Elmah 的行為與 Net Core 的行為並不一致，Log 與錯誤記錄本來就不該混為一談。<br>我想我要調整一下我的想法了，不過關於 Log 暫時就到此為止。</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://codingblast.com/asp-net-core-logging/\" target=\"_blank\" rel=\"noopener\">ASP.NET Core Logging</a></li>\n<li><a href=\"https://stackify.com/net-core-loggerfactory-use-correctly/\" target=\"_blank\" rel=\"noopener\">.NET Core Logging With LoggerFactory: Best Practices and Tips</a></li>\n<li><a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging/?view=aspnetcore-2.2#log-scopes\" target=\"_blank\" rel=\"noopener\">Logging in ASP.NET Core</a></li>\n<li><a href=\"https://blog.johnwu.cc/article/ironman-day16-asp-net-core-multiple-environments.html\" target=\"_blank\" rel=\"noopener\">[鐵人賽 Day16] ASP.NET Core 2 系列 - 多重環境組態管理 (Multiple Environments)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/47773058/asp-net-core-eventlog-provider\" target=\"_blank\" rel=\"noopener\">ASP.NET Core EventLog provider</a></li>\n<li><a href=\"http://www.techbloginterview.com/asp-net-core-the-mvc-request-life-cycle/\" target=\"_blank\" rel=\"noopener\">ASP.NET Core: The MVC Request Life Cycle</a></li>\n<li><a href=\"https://mattwarren.org/2018/08/21/Monitoring-and-Observability-in-the-.NET-Runtime/\" target=\"_blank\" rel=\"noopener\">Monitoring and Observability in the .NET Runtime</a></li>\n<li><a href=\"https://github.com/ElmahCore/ElmahCore\" target=\"_blank\" rel=\"noopener\">ElmahCore/ElmahCore</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"要知道的事\"><a href=\"#要知道的事\" class=\"headerlink\" title=\"要知道的事\"></a>要知道的事</h2><ul>\n<li>這是個人的學習記錄</li>\n<li>可能對你沒幫助</li>\n<li>網路上資訊很多</li>\n<li>希望對你有幫助</li>\n</ul>\n<h2 id=\"概念\"><a href=\"#概念\" class=\"headerlink\" title=\"概念\"></a>概念</h2><p>Asp.Net Core 的 Life Cycle 由 <code>Program.cs</code> 的 <code>main</code> 方法開始(是的，就如同其它一般的程式)，<br>在 <code>WebHostBuilder</code> 中的 <code>ConfigureLogging</code> 可以提供彈性讓你設定屬於你的 LoggerProvider，<br>不論是微軟提供、知名的第三方套件或是你手工自已刻一個，大致你的程式碼會如下</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> IWebHostBuilder <span class=\"title\">CreateWebHostBuilder</span>(<span class=\"params\"><span class=\"keyword\">string</span>[] args</span>) </span>=&gt;</span><br><span class=\"line\">    WebHost.CreateDefaultBuilder(args)</span><br><span class=\"line\">        .ConfigureLogging(logging=&gt;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            logging.ClearProviders();</span><br><span class=\"line\">            logging.AddEventLog();</span><br><span class=\"line\">            logging.AddFile(<span class=\"string\">\"D:\\\\Temp\\\\Log.txt\"</span>);</span><br><span class=\"line\">            logging.AddConsole();</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .UseStartup&lt;Startup&gt;()</span><br></pre></td></tr></table></figure>\n\n<p>而在 Controller 或其它 Module 間，你只要透過建構子注入 logger 實體就可以實現 log 的功能</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">HomeController</span>(<span class=\"params\">ILogger&lt;HomeController&gt; logger</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>._logger = logger;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"預設的行為\"><a href=\"#預設的行為\" class=\"headerlink\" title=\"預設的行為\"></a>預設的行為</h2><p>如果你沒有呼叫 <code>ConfigureLogging</code> 預設的行為如下述.</p>\n<p>The default project template calls <code>CreateDefaultBuilder</code>， which adds the following logging providers:</p>\n<ul>\n<li>Console</li>\n<li>Debug</li>\n<li>EventSource (starting in ASP.NET Core 2.2)</li>\n</ul>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"keyword\">string</span>[] args</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    CreateWebHostBuilder(args).Build().Run();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> IWebHostBuilder <span class=\"title\">CreateWebHostBuilder</span>(<span class=\"params\"><span class=\"keyword\">string</span>[] args</span>) </span>=&gt;</span><br><span class=\"line\">    WebHost.CreateDefaultBuilder(args)</span><br><span class=\"line\">        .UseStartup&lt;Startup&gt;();</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Find-the-Logs\"><a href=\"#Find-the-Logs\" class=\"headerlink\" title=\"Find the Logs\"></a>Find the Logs</h3><h4 id=\"Console\"><a href=\"#Console\" class=\"headerlink\" title=\"Console\"></a>Console</h4><p>範例說明:在建構子中注入 <code>ILogger</code> 實體，運行網站後連到 Home\\Index 頁面，並觀察 Console</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">HomeController</span> : <span class=\"title\">Controller</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> ILogger _logger;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> Initializes a new instance of the <span class=\"doctag\">&lt;see cref=\"HomeController\" /&gt;</span> class.</span></span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">HomeController</span>(<span class=\"params\">ILogger&lt;HomeController&gt; logger</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._logger = logger;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> IActionResult <span class=\"title\">Index</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._logger.Log(LogLevel.Information，<span class=\"string\">\"HomeController Information\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._logger.Log(LogLevel.Critical，<span class=\"string\">\"HomeController Critical\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._logger.Log(LogLevel.Debug，<span class=\"string\">\"HomeController Debug\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._logger.Log(LogLevel.Error，<span class=\"string\">\"HomeController Error\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._logger.Log(LogLevel.None，<span class=\"string\">\"HomeController None\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._logger.Log(LogLevel.Trace，<span class=\"string\">\"HomeController Trace\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>._logger.Log(LogLevel.Warning，<span class=\"string\">\"HomeController Warning\"</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> View();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>結果如下，可以發現 <code>LogLevel.None</code>、<code>LogLevel.Trace</code> 與 <code>LogLevel.Warning</code> 並未出現在 Console 資訊當中</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">info: Marsen.NetCore.Site.Controllers.HomeController[0]</span><br><span class=\"line\">      HomeController Information</span><br><span class=\"line\">crit: Marsen.NetCore.Site.Controllers.HomeController[0]</span><br><span class=\"line\">      HomeController Critical</span><br><span class=\"line\">dbug: Marsen.NetCore.Site.Controllers.HomeController[0]</span><br><span class=\"line\">      HomeController Debug</span><br><span class=\"line\">fail: Marsen.NetCore.Site.Controllers.HomeController[0]</span><br><span class=\"line\">      HomeController Error</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://docs.microsoft.com/zh-tw/dotnet/api/microsoft.extensions.logging.loglevel?view=aspnetcore-2.2\" target=\"_blank\" rel=\"noopener\">LogLevel</a>說明了 <code>None</code> 的意義就是不記錄任何訊息，</p>\n<table>\n<thead>\n<tr>\n<th>Enum</th>\n<th>Level</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Trace</td>\n<td>0</td>\n<td>Logs that contain the most detailed messages. These messages may contain sensitive application data. These messages are disabled by default and should never be enabled in a production environment.</td>\n</tr>\n<tr>\n<td>Debug</td>\n<td>1</td>\n<td>Logs that are used for interactive investigation during development. These logs should primarily contain information useful for debugging and have no long-term value.</td>\n</tr>\n<tr>\n<td>Information</td>\n<td>2</td>\n<td>Logs that track the general flow of the application. These logs should have long-term value.</td>\n</tr>\n<tr>\n<td>Warning</td>\n<td>3</td>\n<td>Logs that highlight an abnormal or unexpected event in the application flow， but do not otherwise cause the application execution to stop.</td>\n</tr>\n<tr>\n<td>Error</td>\n<td>4</td>\n<td>Logs that highlight when the current flow of execution is stopped due to a failure. These should indicate a failure in the current activity， not an application-wide failure.</td>\n</tr>\n<tr>\n<td>Critical</td>\n<td>5</td>\n<td>Logs that describe an unrecoverable application or system crash， or a catastrophic failure that requires immediate attention.</td>\n</tr>\n<tr>\n<td>None</td>\n<td>6</td>\n<td>Not used for writing log messages. Specifies that a logging category should not write any messages.</td>\n</tr>\n</tbody></table>\n<p>Log 的作用範圍會受 <code>appsettings.json</code> 影響，<br>另外要注意 appsettings.json 的載入順序.  </p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"Logging\": &#123;</span><br><span class=\"line\">  \"LogLevel\": &#123;</span><br><span class=\"line\">    \"Default\": \"Trace\"，</span><br><span class=\"line\">    \"System\": \"Information\"，</span><br><span class=\"line\">    \"Microsoft\": \"Information\"</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Debug\"><a href=\"#Debug\" class=\"headerlink\" title=\"Debug\"></a>Debug</h4><p>如同 <code>Console</code> 的行為一般，可以在 Visual Studio 的輸出(Output)&gt;偵錯(Debug)視窗中，查詢到記錄。</p>\n<p><img src=\"https://i.imgur.com/274witm.jpg\" alt></p>\n<h4 id=\"EventSource\"><a href=\"#EventSource\" class=\"headerlink\" title=\"EventSource\"></a>EventSource</h4><p>如同<a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging/?view=aspnetcore-2.2#eventsource-provider\" target=\"_blank\" rel=\"noopener\">官方文件</a>所說，我下載了 <code>PerfView</code> ，<br>如下圖作了設定，<br><img src=\"/images/2019/4/perfview.jpg\" alt=\"PerfView\"><br>不過我並沒有取得記錄，<br><img src=\"/images/2019/4/perfview.jpg\" alt=\"PerfView Log\">  </p>\n<p>錯誤訊息如下<br> <code>EventSource Microsoft-Extensions-Logging: Object reference not set to an instance of an object</code><br>暫時不打算深追查，<br>ETW 可以記錄的 Memory 、Disc IO 、CPU 等資訊，<br>其實與我想要的應用程式記錄有所差異，稍稍記錄一下以後也許用得到。<br>如果有人能留言給我一些方向，也是非常歡迎。  </p>\n<h2 id=\"自訂-Filelog-與-EventLog\"><a href=\"#自訂-Filelog-與-EventLog\" class=\"headerlink\" title=\"自訂 Filelog 與 EventLog\"></a>自訂 Filelog 與 EventLog</h2><p>調整一下程式</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> IWebHostBuilder <span class=\"title\">CreateWebHostBuilder</span>(<span class=\"params\"><span class=\"keyword\">string</span>[] args</span>) </span>=&gt;</span><br><span class=\"line\">    WebHost.CreateDefaultBuilder(args)</span><br><span class=\"line\">        .ConfigureLogging(logging=&gt;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            logging.AddEventLog();</span><br><span class=\"line\">            logging.AddFile(<span class=\"string\">\"D:\\\\Temp\\\\Log.txt\"</span>);</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .UseStartup&lt;Startup&gt;()</span><br></pre></td></tr></table></figure>\n\n<p>這裡我使用 <code>Microsoft.Extensions.Logging.EventLog</code> 處理 EventLog 可以在 Event View 中看見記錄;<br>而 file log 我使用 <code>Serilog.Extensions.Logging.File</code> ， 特別要注意以下兩點  </p>\n<ul>\n<li>Nuget 使用的版本為 2.0.0 以上版本，目前仍然不是穩定版本  </li>\n<li>AddFile 傳入的是記錄檔的完整 Path 而非目錄  </li>\n</ul>\n<h2 id=\"自訂-Elmah\"><a href=\"#自訂-Elmah\" class=\"headerlink\" title=\"自訂 Elmah\"></a>自訂 Elmah</h2><p>Elmah 在 Net 算是一個蠻方便的工具，有提供簡易介面、可以選擇用 File 或是 Database 方式作 Logging，<br>更重要是小弟我用了 4 年，順手就研究一下。</p>\n<p>設定相當簡單， 在 <code>Startup.cs</code> 的 <code>ConfigureServices</code> 加入</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">services.AddElmah&lt;XmlFileErrorLog&gt;(options =&gt;            </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//options.CheckPermissionAction = context =&gt; context.User.Identity.IsAuthenticated;</span></span><br><span class=\"line\">    <span class=\"comment\">//options.Path = @\"elmah\";</span></span><br><span class=\"line\">    options.LogPath = <span class=\"string\">\"D:\\\\Temp\\\\elmah\"</span>;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>在 <code>Configure</code> 加入</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app.UseElmah();</span><br></pre></td></tr></table></figure>\n\n<p>要注意是使用 <code>XmlFileErrorLog</code> 時，要設定的 options 是 <code>LogPath</code> 而非 <code>Path</code>，  \n其實使用 File 只能說是開發環境的暫時處置，真正的 Prodction 應該將 Log 放到專門的 Database 或是 Cloud Service 之中，<br>在這裡可以看見 Elmah 的行為與 Net Core 的行為並不一致，Log 與錯誤記錄本來就不該混為一談。<br>我想我要調整一下我的想法了，不過關於 Log 暫時就到此為止。</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://codingblast.com/asp-net-core-logging/\" target=\"_blank\" rel=\"noopener\">ASP.NET Core Logging</a></li>\n<li><a href=\"https://stackify.com/net-core-loggerfactory-use-correctly/\" target=\"_blank\" rel=\"noopener\">.NET Core Logging With LoggerFactory: Best Practices and Tips</a></li>\n<li><a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/logging/?view=aspnetcore-2.2#log-scopes\" target=\"_blank\" rel=\"noopener\">Logging in ASP.NET Core</a></li>\n<li><a href=\"https://blog.johnwu.cc/article/ironman-day16-asp-net-core-multiple-environments.html\" target=\"_blank\" rel=\"noopener\">[鐵人賽 Day16] ASP.NET Core 2 系列 - 多重環境組態管理 (Multiple Environments)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/47773058/asp-net-core-eventlog-provider\" target=\"_blank\" rel=\"noopener\">ASP.NET Core EventLog provider</a></li>\n<li><a href=\"http://www.techbloginterview.com/asp-net-core-the-mvc-request-life-cycle/\" target=\"_blank\" rel=\"noopener\">ASP.NET Core: The MVC Request Life Cycle</a></li>\n<li><a href=\"https://mattwarren.org/2018/08/21/Monitoring-and-Observability-in-the-.NET-Runtime/\" target=\"_blank\" rel=\"noopener\">Monitoring and Observability in the .NET Runtime</a></li>\n<li><a href=\"https://github.com/ElmahCore/ElmahCore\" target=\"_blank\" rel=\"noopener\">ElmahCore/ElmahCore</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[實作筆記] Coding Dojo 第一個 Kata FizzBuzz","date":"2019-02-05T20:11:17.000Z","_content":"\n## 前情提要\n記錄一下 Kata 的思路。\n\n## 實例化需求\n```\n1 is 1\n2 is 2\n3 is Fizz\n4 is 4\n5 is Buzz\n6 is Fizz\n15 is FizzBuzz\n```\n\n雖然可以把上面的案例濃縮到 4 種，  \n整除 3 是 Fizz、\n整除 5 是 Buzz、\n整除 3 又整除 5 是 FizzBuzz ,\n不符合上述條件的都是原數字。\n\n有沒有必要寫這麼多測試呢？\n比如說 1、2、4 的測試是不是重複了？\n日前 91 大有過類似的討論， \n\n```\n第一個 test case 挑最簡單的，讓你可以從紅燈變綠燈。驅動出你需要的產品代碼。  \n接下來後面的幾個，都可以只是拿來「確認」是否滿足你期望的情境，  \n也就是你寫新的測試案例，你期望他就是綠燈了，然後驗證是否符合你的期望。  \n目的是「驗證」，不是「驅動」  \n```\n\n測試的不是只有「驅動開發」而已。\n而好的程式碼，也不能只依靠測試。\n\n### 第一個測試案例，1 回傳 1 \n\n我一開始就寫成這樣，所以後面的 2、4 案例也都會是綠燈。\n\n```csharp\npublic class FizzBuzz\n{\n    public string GetResult(int number)\n    {\n        return number.ToString();\n    }\n}\n```\n\n考慮另一種情況，也許有的人第一個測試案例會寫成這樣\n\n```csharp\npublic class FizzBuzz\n{\n    public string GetResult(int number)\n    {\n        return \"1\";\n    }\n}\n```\n\n這時候就有可能需要靠 2、4 的測試案例來驅動程式碼的改變。  \n實際上並沒有，第一種寫法對我來說就夠 Baby Step 了。\n\n### 第二個測試案例，3 回傳 Fizz\n\n```csharp\npublic string GetResult(int number)\n{\n    if (number % 3 == 0)\n    {\n        return \"Fizz\";\n    }\n\n    return number.ToString();\n}\n```\n\n相信這是很好理解的，雖然我的案例是從 1、2、3 而來，  \n但是在我的腦海中已經思考好了這個程式碼的「餘數規則」，  \n\n### 所有測試案例\n\n實作出一個「餘數規則」後，程式碼應該很容易隨著測試案例變成下面這個樣子，  \n用一堆 `if` 檢查「餘數」然後回傳指定的「字串」，就是我們的「規則」。\n這個時候的複雜度是 4 。\n\n```csharp\npublic class FizzBuzz\n{\n    public string GetResult(int number)\n    {\n        if (number % 5 == 0 & number % 3 == 0)\n        {\n            return \"FizzBuzz\";\n        }\n\n        if (number % 5 == 0)\n        {\n            return \"Buzz\";\n        }\n\n        if (number % 3 == 0)\n        {\n            return \"Fizz\";\n        }\n\n        return number.ToString();\n    }\n}\n```\n\n## 重構\n\n我儘量還原當初的想法，並記錄下來，  \n有許多值得改善的地方，換個順序重構起來就會更明快。\n\n### 重構餘數檢查\n\n這一步真的非常的的小，我想大多數的人甚至會跳過這步驟的重構，  \n我只是把餘數檢查抽成私有方法，可以透過 `Resharp` 快速重構。\n\n```csharp\npublic class FizzBuzz\n{\n    public string GetResult(int number)\n    {\n        if (IsDivisibleBy15(number))\n        {\n            return \"FizzBuzz\";\n        }\n\n        if (IsDivisibleBy5(number))\n        {\n            return \"Buzz\";\n        }\n\n        if (IsDivisibleBy3(number))\n        {\n            return \"Fizz\";\n        }\n\n        return number.ToString();\n    }\n\n    private bool IsDivisibleBy15(int number)\n    {\n        return IsDivisibleBy3(number) && IsDivisibleBy5(number);\n    }\n\n    private bool IsDivisibleBy5(int number)\n    {\n        return number % 5 == 0;\n    }\n\n    private bool IsDivisibleBy3(int number)\n    {\n        return number % 3 == 0;\n    }\n}\n```\n\n### 抽出 result 變數作為回傳值\n\n這裡我是作了一個舖墊，主要是我看到了 `Fizz` 與 `Buzz` 的字串重複出現在 `FizzBuzz`，  \n我預計下一階段要讓 `FizzBuzz` 是透過組合產生，而不是寫死在程式之中。\n特別要注意的事是，我為了產生 result 變數，必須在最後多作一次空字串的檢查，  \n這個時候的複雜度會達到 5 。\n\n```csharp\npublic class FizzBuzz\n{\n    public string GetResult(int number)\n    {\n        string result = string.Empty;\n        if (IsDivisibleBy15(number))\n        {\n            return \"FizzBuzz\";\n        }\n\n        if (IsDivisibleBy5(number))\n        {\n            result = \"Buzz\";\n        }\n\n        if (IsDivisibleBy3(number))\n        {\n            result = \"Fizz\";\n        }\n\n        if (string.IsNullOrEmpty(result))\n        {\n            return number.ToString();\n        }\n\n        return result;\n    }\n\n    private bool IsDivisibleBy15(int number)\n    {\n        return IsDivisibleBy3(number) && IsDivisibleBy5(number);\n    }\n\n    private bool IsDivisibleBy5(int number)\n    {\n        return number % 5 == 0;\n    }\n\n    private bool IsDivisibleBy3(int number)\n    {\n        return number % 3 == 0;\n    }\n}\n```\n\n### 組合 result 值\n這個階段 'Fizz' 與 'Buzz' 在程式中只會出現一次，  \n15 的餘數檢查也被移除了，這時的複雜度是 4 ，  \n可惜的是我沒有意識到第三個 `if` 的明顯不同，\n如果我能提早重構成 `result = number.ToString();`  \n後面的重構也許會更簡潔一點。\n\n```csharp\npublic class FizzBuzz\n{\n    public string GetResult(int number)\n    {\n        string result = string.Empty;\n        if (IsDivisibleBy3(number))\n        {\n            result += \"Fizz\";\n        }\n\n        if (IsDivisibleBy5(number))\n        {\n            result += \"Buzz\";\n        }\n\n        if (string.IsNullOrEmpty(result))\n        {\n            return number.ToString();\n        }\n\n        return result;\n    }\n\n    private bool IsDivisibleBy5(int number)\n    {\n        return number % 5 == 0;\n    }\n\n    private bool IsDivisibleBy3(int number)\n    {\n        return number % 3 == 0;\n    }\n}\n```\n\n### 實作 FizzRule Class\n這是繼 `FizzBuzz` 後產生的第二個 Class，  \n算有指標意義，這裡原本的目的是想要消除 `if`，  \n但無法一步到位，先試著把 Fizz 與 Buzz 的邏輯作分離，  \n一樣我只聚焦在 Fizz 與 Buzz 身上，  \n而忽略了 `其它` 的邏輯判斷，寫成了三元判斷除了變成一行外其實沒有其他好處。\n\n```csharp\npublic class FizzRule\n{\n    public bool Check(int number)\n    {\n        return number % 3 == 0;\n    }\n}\n```\n\n```csharp\npublic class FizzBuzz\n{\n    public string GetResult(int number)\n    {\n        string result = string.Empty;\n        var fizzRule = new FizzRule();\n        if (fizzRule.Check(number))\n        {\n            result += \"Fizz\";\n        }\n\n        if (IsDivisibleBy5(number))\n        {\n            result += \"Buzz\";\n        }\n\n        return string.IsNullOrEmpty(result) ? number.ToString() : result;\n    }\n\n    private bool IsDivisibleBy5(int number)\n    {\n        return number % 5 == 0;\n    }\n}\n```\n\n### 實作 BuzzRule Class\n一樣把 Buzz 的邏輯搬到新的 Class 中，\n這裡故意用相同的方法名，是為了下一步要抽介面。\n\n```csharp\npublic string GetResult(int number)\n{\n    string result = string.Empty;\n    var fizzRule = new FizzRule();\n    if (fizzRule.Check(number))\n    {\n        result += \"Fizz\";\n    }\n\n    var buzzRule = new BuzzRule();\n    if (buzzRule.Check(number))\n    {\n        result += \"Buzz\";\n    }\n\n    return string.IsNullOrEmpty(result) ? number.ToString() : result;\n}\n```\n\n### 介面 IRule\n終於抽出了介面，自已為聰明的把關鍵字抽離到了介面之中，  \n卻沒有考慮到真正的邏輯是組合 result 的行為仍然相依在 `FizzBuzz` Class\n\n```csharp\npublic interface IRule\n{\n    string Word { get; }\n    bool Check(int number);\n}\n```\n\n```csharp\npublic class FizzRule : IRule\n{\n    public string Word => \"Fizz\";\n\n    public bool Check(int number)\n    {\n        return number % 3 == 0;\n    }\n}\n```\n\n```csharp\npublic class BuzzRule : IRule\n{\n    public string Word => \"Buzz\";\n\n    public bool Check(int number)\n    {\n        return number % 5 == 0;\n    }\n}\n```\n\n### IRule List\n準備好了 IRule ，就是要讓 `FizzBuzz` 與 `FizzRule` 以及 `BuzzRule` 解耦的階段了，\n這步我踩得有小，可以更直接一點重構，  \n一樣的問題，我仍然沒有意識最後一個`if(?:)`其實也是一種 `IRule`，  \n也沒有意識到 `result+=XXX` 與 `return YYY?number.ToString() : result;` 其實應該是屬於 `IRule` 的一部份  \n這時的複雜度仍然是 4  \n\n```csharp\npublic class FizzBuzz\n{\n    private List<IRule> _rules = new List<IRule> {new FizzRule(), new BuzzRule()};\n\n    public string GetResult(int number)\n    {\n        string result = string.Empty;\n        var fizzRule = new FizzRule();\n        if (fizzRule.Check(number))\n        {\n            result += fizzRule.Word;\n        }\n\n        var buzzRule = new BuzzRule();\n        if (buzzRule.Check(number))\n        {\n            result += buzzRule.Word;\n        }\n\n        return string.IsNullOrEmpty(result) ? number.ToString() : result;\n    }\n}\n```\n\n### foreach List<IRule>\n自以為帥氣的完成重構，而且用 `foreach` 消除了重複的 `if`...  \n實際上複雜度完全沒有下降。\n關鍵的 `result += rule.Word;` 與  \n`return string.IsNullOrEmpty(result) ? number.ToString() : result;`  \n我繼續忽視它。  \n\n```csharp\npublic class FizzBuzz\n{\n    private List<IRule> _rules = new List<IRule> {new FizzRule(), new BuzzRule()};\n\n    public string GetResult(int number)\n    {\n        string result = string.Empty;\n        foreach (var rule in _rules)\n        {\n            if (rule.Check(number))\n            {\n                result += rule.Word;\n            }\n        }\n\n        return string.IsNullOrEmpty(result) ? number.ToString() : result;\n    }\n}\n```\n\n## 重構二、面對問題\n\n### 消除 foreach\n參考 Martin 大叔的作法，把 foreach 變成 pipelines  \n光是這個作法就讓我的複雜度從 4 下降到 2 了，  \n此時，`result += rule.Word;` 與  \n`return string.IsNullOrEmpty(result) ? number.ToString() : result;`  \n就顯得相當奇怪，第一個邏輯我認為應該放進實作`IRule`的類別之中，  \n而第二個邏輯應該是一個未被實作的 Rule 。\n\n```csharp\npublic class FizzBuzz\n{\n    private readonly List<IRule> _rules = new List<IRule>\n    {\n        new FizzRule(),\n        new BuzzRule(),\n    };\n\n    public string GetResult(int number)\n    {\n        string result = string.Empty;\n        var myRules = _rules;\n        myRules\n        .Where(r => r.Check(number))\n        .ToList()\n        .ForEach(n => result += n.Word);\n        return string.IsNullOrEmpty(result) ? number.ToString() : result;\n    }\n}\n```\n\n### 實作 Apply\n終於將`result += rule.Word;`的邏輯從 `FizzBuzz` 抽離到 `IRule` 之中，  \n再由各自的 Rule 實作，這個時候就會覺得 `IRule.Check` 與 `IRule.Word` 有點累贅，  \n基於 SOLID 原則，這部份邏輯甚至不該被揭露在 `FizzBuzz`之中。  \n\n```csharp\npublic interface IRule\n{\n    string Word { get; }\n    bool Check(int number);\n    string Apply(string input);\n}\n```\n\n```csharp\npublic class FizzBuzz\n{\n    private readonly List<IRule> _rules = new List<IRule>\n    {\n        new FizzRule(),\n        new BuzzRule(),\n    };\n\n    public string GetResult(int number)\n    {\n        string result = string.Empty;\n        _rules\n        .Where(r => r.Check(number))\n        .ToList()\n        .ForEach(n => result = n.Apply(result));\n        return string.IsNullOrEmpty(result) ? number.ToString() : result;\n    }\n}\n```\n\n### NormalRule \n終於加上 `NormalRule` Class 了，裡面只有一個方法 `Apply`，  \n這裡是為了將來的介面準備，我想讓 NormalRule 成為 `IRule` 的一部份，  \n不過可以看到的問題是，方法簽章並不一致。\n\n```csharp\npublic class FizzBuzz\n{\n    private readonly List<IRule> _rules = new List<IRule>\n    {\n        new FizzRule(),\n        new BuzzRule(),\n    };\n\n    public string GetResult(int number)\n    {\n        string result = string.Empty;\n        _rules\n            .Where(r => r.Check(number))\n            .ToList()\n            .ForEach(n => result = n.Apply(result));\n        var normalRule = new NormalRule();\n        return normalRule.Apply(number, result);\n    }\n}\n```\n\n### 修改 IRule.Apply\n在我的認知中，對 Production Code 修改介面是件危險的事，  \n這在 Kata 是可行的，但是在實際的 Production 恐怕就不夠 Baby Step 了，\n我或許應該創造一個 IRuleV2 之類的介面，而不是直接修改 `IRule`。\n\n首先編譯會不過，這會趨動我去修改 `FizzRule` 與 `BuzzRule`\n另外，這個時間點 `IRule.Check` 與 `IRule.Word` 作為 public 的資訊就顯得相當多餘了。  \n所以我會進一步將這些資訊從 `IRule` 介面中拿掉，  \n這也會使得 `FizzBuzz` Class 產生 Error，趁這個時候把 `.Where()` 與 `.ToList()` 一併拿掉，  \n但是要記得將 `IRule.Check` 與 `IRule.Word` 包含至 `IRule.Apply` 之中。  \n\n```csharp\npublic interface IRule\n{\n    string Apply(int number, string input);\n}\n```\n\n```csharp\npublic class FizzRule : IRule\n{\n    private string Word => \"Fizz\";\n\n    private bool Check(int number)\n    {\n        return number % 3 == 0;\n    }\n\n    public string Apply(int number, string input)\n    {\n        return Check(number) ? input += this.Word : input;\n    }\n}\n```\n\n### NormalRule 與 IRule\n這裡讓 `NormalRule` 實作 `IRule` 介面，  \n實際上在上面幾步已經完成了，`IRule` 反而比較像一個標籤掛在 `NormalRule` 上，  \n如此一來，就能夠在 `FizzBuzz` 裡面透過 `List<IRule>` 統整所有的規則。\n\n```csharp\npublic class FizzBuzz\n{\n    private readonly List<IRule> _rules = new List<IRule>\n    {\n        new FizzRule(),\n        new BuzzRule(),\n        new NormalRule()\n    };\n\n    public string GetResult(int number)\n    {\n        string result = string.Empty;\n        _rules\n            .ForEach(n => result = n.Apply(number, result));\n        return result;\n    }\n}\n```\n\n```csharp\npublic interface IRule\n{\n    string Apply(int number, string input);\n}\n```\n\n### 收尾\n\n作到這裡大概把我想作的東西都作掉了，  \n`if` 散落在各個 `Rules` 裡面，  \n如果是 Production Code 我想我會使用 NameSpace 與專案資料夾再作進一步的整理吧。  \n最後把 `FizzRule` 與 `BuzzRule` 的 `Check` 與 `Word` 拿掉只是一點潔癖。\n\n\n```csharp\npublic class FizzRule : IRule\n{\n    public string Apply(int number, string input)\n    {\n        return number % 3 == 0 ? input += \"Fizz\" : input;\n    }\n}\n```\n\n## 結語\n過程中一直考慮著想要拿掉所有`if`，或是套用職責鏈(Chain of Responsibility Pattern)的 Pattern，  \n現在想想都有點走歪了方向，一再忽視責職的歸屬而讓後面的重構有點吃力，  \n不過透過 TDD 仍然讓程式碼重構到了一定的程度。\n如果重來一次的話，我會選擇提早分離職責，  \n不過當中的取捨可能需要練習更多的 KATA 吧。\n\n有人說這麼重構，會不會有點 Over Design 了，  \n我想說的是，反正是練習嘛，刻意練習到過頭也只是剛好而已，  \n如果不在練習時下點苦功，在戰場上用得出來嗎？\n至少我的天賦而言，我應該是用不出來的。\n\n### 後記 1. 20190207\n\n#### Aggregate\n文章貼出後，同事的回饋，可以使用 `Aggregate` 取代 `Foreach`，  \n程式碼可以更加精鍊。\n\n```csharp\npublic class FizzBuzz\n{\n    private readonly List<IRule> _rules = new List<IRule>\n    {\n        new FizzRule(),\n        new BuzzRule(),\n        new NormalRule()\n    };\n\n    public string GetResult(int number)\n    {\n        return _rules.Aggregate(string.Empty, (r, n) => n.Apply(number, r));\n    }\n}\n```\n\n#### 參數優化\n\n把 r、n 這類較沒意義的命名改成 input 與 rule，\n單純是為了讓 `Aggreate` 的可讀性較高一些。  \n接下來這個異動的幅度較大，實務上我不會這樣作，  \n讓 `Apply` 的方法簽章順序與 `Aggreate` 一樣把 `input` String 放在最前面，  \n真的真的非常沒有必要，因為會異動到介面。\n\n```csharp\npublic class FizzBuzz\n{\n    private readonly List<IRule> _rules = new List<IRule>\n    {\n        new FizzRule(),\n        new BuzzRule(),\n        new NormalRule()\n    };\n\n    public string GetResult(int number)\n    {\n        return _rules.Aggregate(string.Empty, (input, rule) => rule.Apply(input, number));\n    }\n}\n```\n\n## 參考\n- [Coding_Dojo_Csharp](https://github.com/marsen/Coding_Dojo_Csharp/tree/fizzbuzz/20190205/UnitTestProject6)\n- [Refactoring with Loops and Collection Pipelines](https://martinfowler.com/articles/refactoring-pipelines.html?fbclid=IwAR0uG0IXa_i6JoSRPtO6s-gXj-0jOAZDNrBYRmaHAJ2_RYFpiqcrbr4Z86k)","source":"_posts/2019/coding_dojo_kata_fizzbuzz_first.md","raw":"---\ntitle: \"[實作筆記] Coding Dojo 第一個 Kata FizzBuzz\"\ndate: 2019/02/06 04:11:17\ntag:\n    - TDD\n    - 重構\n    - Unit Testing\n    - Testing\n---\n\n## 前情提要\n記錄一下 Kata 的思路。\n\n## 實例化需求\n```\n1 is 1\n2 is 2\n3 is Fizz\n4 is 4\n5 is Buzz\n6 is Fizz\n15 is FizzBuzz\n```\n\n雖然可以把上面的案例濃縮到 4 種，  \n整除 3 是 Fizz、\n整除 5 是 Buzz、\n整除 3 又整除 5 是 FizzBuzz ,\n不符合上述條件的都是原數字。\n\n有沒有必要寫這麼多測試呢？\n比如說 1、2、4 的測試是不是重複了？\n日前 91 大有過類似的討論， \n\n```\n第一個 test case 挑最簡單的，讓你可以從紅燈變綠燈。驅動出你需要的產品代碼。  \n接下來後面的幾個，都可以只是拿來「確認」是否滿足你期望的情境，  \n也就是你寫新的測試案例，你期望他就是綠燈了，然後驗證是否符合你的期望。  \n目的是「驗證」，不是「驅動」  \n```\n\n測試的不是只有「驅動開發」而已。\n而好的程式碼，也不能只依靠測試。\n\n### 第一個測試案例，1 回傳 1 \n\n我一開始就寫成這樣，所以後面的 2、4 案例也都會是綠燈。\n\n```csharp\npublic class FizzBuzz\n{\n    public string GetResult(int number)\n    {\n        return number.ToString();\n    }\n}\n```\n\n考慮另一種情況，也許有的人第一個測試案例會寫成這樣\n\n```csharp\npublic class FizzBuzz\n{\n    public string GetResult(int number)\n    {\n        return \"1\";\n    }\n}\n```\n\n這時候就有可能需要靠 2、4 的測試案例來驅動程式碼的改變。  \n實際上並沒有，第一種寫法對我來說就夠 Baby Step 了。\n\n### 第二個測試案例，3 回傳 Fizz\n\n```csharp\npublic string GetResult(int number)\n{\n    if (number % 3 == 0)\n    {\n        return \"Fizz\";\n    }\n\n    return number.ToString();\n}\n```\n\n相信這是很好理解的，雖然我的案例是從 1、2、3 而來，  \n但是在我的腦海中已經思考好了這個程式碼的「餘數規則」，  \n\n### 所有測試案例\n\n實作出一個「餘數規則」後，程式碼應該很容易隨著測試案例變成下面這個樣子，  \n用一堆 `if` 檢查「餘數」然後回傳指定的「字串」，就是我們的「規則」。\n這個時候的複雜度是 4 。\n\n```csharp\npublic class FizzBuzz\n{\n    public string GetResult(int number)\n    {\n        if (number % 5 == 0 & number % 3 == 0)\n        {\n            return \"FizzBuzz\";\n        }\n\n        if (number % 5 == 0)\n        {\n            return \"Buzz\";\n        }\n\n        if (number % 3 == 0)\n        {\n            return \"Fizz\";\n        }\n\n        return number.ToString();\n    }\n}\n```\n\n## 重構\n\n我儘量還原當初的想法，並記錄下來，  \n有許多值得改善的地方，換個順序重構起來就會更明快。\n\n### 重構餘數檢查\n\n這一步真的非常的的小，我想大多數的人甚至會跳過這步驟的重構，  \n我只是把餘數檢查抽成私有方法，可以透過 `Resharp` 快速重構。\n\n```csharp\npublic class FizzBuzz\n{\n    public string GetResult(int number)\n    {\n        if (IsDivisibleBy15(number))\n        {\n            return \"FizzBuzz\";\n        }\n\n        if (IsDivisibleBy5(number))\n        {\n            return \"Buzz\";\n        }\n\n        if (IsDivisibleBy3(number))\n        {\n            return \"Fizz\";\n        }\n\n        return number.ToString();\n    }\n\n    private bool IsDivisibleBy15(int number)\n    {\n        return IsDivisibleBy3(number) && IsDivisibleBy5(number);\n    }\n\n    private bool IsDivisibleBy5(int number)\n    {\n        return number % 5 == 0;\n    }\n\n    private bool IsDivisibleBy3(int number)\n    {\n        return number % 3 == 0;\n    }\n}\n```\n\n### 抽出 result 變數作為回傳值\n\n這裡我是作了一個舖墊，主要是我看到了 `Fizz` 與 `Buzz` 的字串重複出現在 `FizzBuzz`，  \n我預計下一階段要讓 `FizzBuzz` 是透過組合產生，而不是寫死在程式之中。\n特別要注意的事是，我為了產生 result 變數，必須在最後多作一次空字串的檢查，  \n這個時候的複雜度會達到 5 。\n\n```csharp\npublic class FizzBuzz\n{\n    public string GetResult(int number)\n    {\n        string result = string.Empty;\n        if (IsDivisibleBy15(number))\n        {\n            return \"FizzBuzz\";\n        }\n\n        if (IsDivisibleBy5(number))\n        {\n            result = \"Buzz\";\n        }\n\n        if (IsDivisibleBy3(number))\n        {\n            result = \"Fizz\";\n        }\n\n        if (string.IsNullOrEmpty(result))\n        {\n            return number.ToString();\n        }\n\n        return result;\n    }\n\n    private bool IsDivisibleBy15(int number)\n    {\n        return IsDivisibleBy3(number) && IsDivisibleBy5(number);\n    }\n\n    private bool IsDivisibleBy5(int number)\n    {\n        return number % 5 == 0;\n    }\n\n    private bool IsDivisibleBy3(int number)\n    {\n        return number % 3 == 0;\n    }\n}\n```\n\n### 組合 result 值\n這個階段 'Fizz' 與 'Buzz' 在程式中只會出現一次，  \n15 的餘數檢查也被移除了，這時的複雜度是 4 ，  \n可惜的是我沒有意識到第三個 `if` 的明顯不同，\n如果我能提早重構成 `result = number.ToString();`  \n後面的重構也許會更簡潔一點。\n\n```csharp\npublic class FizzBuzz\n{\n    public string GetResult(int number)\n    {\n        string result = string.Empty;\n        if (IsDivisibleBy3(number))\n        {\n            result += \"Fizz\";\n        }\n\n        if (IsDivisibleBy5(number))\n        {\n            result += \"Buzz\";\n        }\n\n        if (string.IsNullOrEmpty(result))\n        {\n            return number.ToString();\n        }\n\n        return result;\n    }\n\n    private bool IsDivisibleBy5(int number)\n    {\n        return number % 5 == 0;\n    }\n\n    private bool IsDivisibleBy3(int number)\n    {\n        return number % 3 == 0;\n    }\n}\n```\n\n### 實作 FizzRule Class\n這是繼 `FizzBuzz` 後產生的第二個 Class，  \n算有指標意義，這裡原本的目的是想要消除 `if`，  \n但無法一步到位，先試著把 Fizz 與 Buzz 的邏輯作分離，  \n一樣我只聚焦在 Fizz 與 Buzz 身上，  \n而忽略了 `其它` 的邏輯判斷，寫成了三元判斷除了變成一行外其實沒有其他好處。\n\n```csharp\npublic class FizzRule\n{\n    public bool Check(int number)\n    {\n        return number % 3 == 0;\n    }\n}\n```\n\n```csharp\npublic class FizzBuzz\n{\n    public string GetResult(int number)\n    {\n        string result = string.Empty;\n        var fizzRule = new FizzRule();\n        if (fizzRule.Check(number))\n        {\n            result += \"Fizz\";\n        }\n\n        if (IsDivisibleBy5(number))\n        {\n            result += \"Buzz\";\n        }\n\n        return string.IsNullOrEmpty(result) ? number.ToString() : result;\n    }\n\n    private bool IsDivisibleBy5(int number)\n    {\n        return number % 5 == 0;\n    }\n}\n```\n\n### 實作 BuzzRule Class\n一樣把 Buzz 的邏輯搬到新的 Class 中，\n這裡故意用相同的方法名，是為了下一步要抽介面。\n\n```csharp\npublic string GetResult(int number)\n{\n    string result = string.Empty;\n    var fizzRule = new FizzRule();\n    if (fizzRule.Check(number))\n    {\n        result += \"Fizz\";\n    }\n\n    var buzzRule = new BuzzRule();\n    if (buzzRule.Check(number))\n    {\n        result += \"Buzz\";\n    }\n\n    return string.IsNullOrEmpty(result) ? number.ToString() : result;\n}\n```\n\n### 介面 IRule\n終於抽出了介面，自已為聰明的把關鍵字抽離到了介面之中，  \n卻沒有考慮到真正的邏輯是組合 result 的行為仍然相依在 `FizzBuzz` Class\n\n```csharp\npublic interface IRule\n{\n    string Word { get; }\n    bool Check(int number);\n}\n```\n\n```csharp\npublic class FizzRule : IRule\n{\n    public string Word => \"Fizz\";\n\n    public bool Check(int number)\n    {\n        return number % 3 == 0;\n    }\n}\n```\n\n```csharp\npublic class BuzzRule : IRule\n{\n    public string Word => \"Buzz\";\n\n    public bool Check(int number)\n    {\n        return number % 5 == 0;\n    }\n}\n```\n\n### IRule List\n準備好了 IRule ，就是要讓 `FizzBuzz` 與 `FizzRule` 以及 `BuzzRule` 解耦的階段了，\n這步我踩得有小，可以更直接一點重構，  \n一樣的問題，我仍然沒有意識最後一個`if(?:)`其實也是一種 `IRule`，  \n也沒有意識到 `result+=XXX` 與 `return YYY?number.ToString() : result;` 其實應該是屬於 `IRule` 的一部份  \n這時的複雜度仍然是 4  \n\n```csharp\npublic class FizzBuzz\n{\n    private List<IRule> _rules = new List<IRule> {new FizzRule(), new BuzzRule()};\n\n    public string GetResult(int number)\n    {\n        string result = string.Empty;\n        var fizzRule = new FizzRule();\n        if (fizzRule.Check(number))\n        {\n            result += fizzRule.Word;\n        }\n\n        var buzzRule = new BuzzRule();\n        if (buzzRule.Check(number))\n        {\n            result += buzzRule.Word;\n        }\n\n        return string.IsNullOrEmpty(result) ? number.ToString() : result;\n    }\n}\n```\n\n### foreach List<IRule>\n自以為帥氣的完成重構，而且用 `foreach` 消除了重複的 `if`...  \n實際上複雜度完全沒有下降。\n關鍵的 `result += rule.Word;` 與  \n`return string.IsNullOrEmpty(result) ? number.ToString() : result;`  \n我繼續忽視它。  \n\n```csharp\npublic class FizzBuzz\n{\n    private List<IRule> _rules = new List<IRule> {new FizzRule(), new BuzzRule()};\n\n    public string GetResult(int number)\n    {\n        string result = string.Empty;\n        foreach (var rule in _rules)\n        {\n            if (rule.Check(number))\n            {\n                result += rule.Word;\n            }\n        }\n\n        return string.IsNullOrEmpty(result) ? number.ToString() : result;\n    }\n}\n```\n\n## 重構二、面對問題\n\n### 消除 foreach\n參考 Martin 大叔的作法，把 foreach 變成 pipelines  \n光是這個作法就讓我的複雜度從 4 下降到 2 了，  \n此時，`result += rule.Word;` 與  \n`return string.IsNullOrEmpty(result) ? number.ToString() : result;`  \n就顯得相當奇怪，第一個邏輯我認為應該放進實作`IRule`的類別之中，  \n而第二個邏輯應該是一個未被實作的 Rule 。\n\n```csharp\npublic class FizzBuzz\n{\n    private readonly List<IRule> _rules = new List<IRule>\n    {\n        new FizzRule(),\n        new BuzzRule(),\n    };\n\n    public string GetResult(int number)\n    {\n        string result = string.Empty;\n        var myRules = _rules;\n        myRules\n        .Where(r => r.Check(number))\n        .ToList()\n        .ForEach(n => result += n.Word);\n        return string.IsNullOrEmpty(result) ? number.ToString() : result;\n    }\n}\n```\n\n### 實作 Apply\n終於將`result += rule.Word;`的邏輯從 `FizzBuzz` 抽離到 `IRule` 之中，  \n再由各自的 Rule 實作，這個時候就會覺得 `IRule.Check` 與 `IRule.Word` 有點累贅，  \n基於 SOLID 原則，這部份邏輯甚至不該被揭露在 `FizzBuzz`之中。  \n\n```csharp\npublic interface IRule\n{\n    string Word { get; }\n    bool Check(int number);\n    string Apply(string input);\n}\n```\n\n```csharp\npublic class FizzBuzz\n{\n    private readonly List<IRule> _rules = new List<IRule>\n    {\n        new FizzRule(),\n        new BuzzRule(),\n    };\n\n    public string GetResult(int number)\n    {\n        string result = string.Empty;\n        _rules\n        .Where(r => r.Check(number))\n        .ToList()\n        .ForEach(n => result = n.Apply(result));\n        return string.IsNullOrEmpty(result) ? number.ToString() : result;\n    }\n}\n```\n\n### NormalRule \n終於加上 `NormalRule` Class 了，裡面只有一個方法 `Apply`，  \n這裡是為了將來的介面準備，我想讓 NormalRule 成為 `IRule` 的一部份，  \n不過可以看到的問題是，方法簽章並不一致。\n\n```csharp\npublic class FizzBuzz\n{\n    private readonly List<IRule> _rules = new List<IRule>\n    {\n        new FizzRule(),\n        new BuzzRule(),\n    };\n\n    public string GetResult(int number)\n    {\n        string result = string.Empty;\n        _rules\n            .Where(r => r.Check(number))\n            .ToList()\n            .ForEach(n => result = n.Apply(result));\n        var normalRule = new NormalRule();\n        return normalRule.Apply(number, result);\n    }\n}\n```\n\n### 修改 IRule.Apply\n在我的認知中，對 Production Code 修改介面是件危險的事，  \n這在 Kata 是可行的，但是在實際的 Production 恐怕就不夠 Baby Step 了，\n我或許應該創造一個 IRuleV2 之類的介面，而不是直接修改 `IRule`。\n\n首先編譯會不過，這會趨動我去修改 `FizzRule` 與 `BuzzRule`\n另外，這個時間點 `IRule.Check` 與 `IRule.Word` 作為 public 的資訊就顯得相當多餘了。  \n所以我會進一步將這些資訊從 `IRule` 介面中拿掉，  \n這也會使得 `FizzBuzz` Class 產生 Error，趁這個時候把 `.Where()` 與 `.ToList()` 一併拿掉，  \n但是要記得將 `IRule.Check` 與 `IRule.Word` 包含至 `IRule.Apply` 之中。  \n\n```csharp\npublic interface IRule\n{\n    string Apply(int number, string input);\n}\n```\n\n```csharp\npublic class FizzRule : IRule\n{\n    private string Word => \"Fizz\";\n\n    private bool Check(int number)\n    {\n        return number % 3 == 0;\n    }\n\n    public string Apply(int number, string input)\n    {\n        return Check(number) ? input += this.Word : input;\n    }\n}\n```\n\n### NormalRule 與 IRule\n這裡讓 `NormalRule` 實作 `IRule` 介面，  \n實際上在上面幾步已經完成了，`IRule` 反而比較像一個標籤掛在 `NormalRule` 上，  \n如此一來，就能夠在 `FizzBuzz` 裡面透過 `List<IRule>` 統整所有的規則。\n\n```csharp\npublic class FizzBuzz\n{\n    private readonly List<IRule> _rules = new List<IRule>\n    {\n        new FizzRule(),\n        new BuzzRule(),\n        new NormalRule()\n    };\n\n    public string GetResult(int number)\n    {\n        string result = string.Empty;\n        _rules\n            .ForEach(n => result = n.Apply(number, result));\n        return result;\n    }\n}\n```\n\n```csharp\npublic interface IRule\n{\n    string Apply(int number, string input);\n}\n```\n\n### 收尾\n\n作到這裡大概把我想作的東西都作掉了，  \n`if` 散落在各個 `Rules` 裡面，  \n如果是 Production Code 我想我會使用 NameSpace 與專案資料夾再作進一步的整理吧。  \n最後把 `FizzRule` 與 `BuzzRule` 的 `Check` 與 `Word` 拿掉只是一點潔癖。\n\n\n```csharp\npublic class FizzRule : IRule\n{\n    public string Apply(int number, string input)\n    {\n        return number % 3 == 0 ? input += \"Fizz\" : input;\n    }\n}\n```\n\n## 結語\n過程中一直考慮著想要拿掉所有`if`，或是套用職責鏈(Chain of Responsibility Pattern)的 Pattern，  \n現在想想都有點走歪了方向，一再忽視責職的歸屬而讓後面的重構有點吃力，  \n不過透過 TDD 仍然讓程式碼重構到了一定的程度。\n如果重來一次的話，我會選擇提早分離職責，  \n不過當中的取捨可能需要練習更多的 KATA 吧。\n\n有人說這麼重構，會不會有點 Over Design 了，  \n我想說的是，反正是練習嘛，刻意練習到過頭也只是剛好而已，  \n如果不在練習時下點苦功，在戰場上用得出來嗎？\n至少我的天賦而言，我應該是用不出來的。\n\n### 後記 1. 20190207\n\n#### Aggregate\n文章貼出後，同事的回饋，可以使用 `Aggregate` 取代 `Foreach`，  \n程式碼可以更加精鍊。\n\n```csharp\npublic class FizzBuzz\n{\n    private readonly List<IRule> _rules = new List<IRule>\n    {\n        new FizzRule(),\n        new BuzzRule(),\n        new NormalRule()\n    };\n\n    public string GetResult(int number)\n    {\n        return _rules.Aggregate(string.Empty, (r, n) => n.Apply(number, r));\n    }\n}\n```\n\n#### 參數優化\n\n把 r、n 這類較沒意義的命名改成 input 與 rule，\n單純是為了讓 `Aggreate` 的可讀性較高一些。  \n接下來這個異動的幅度較大，實務上我不會這樣作，  \n讓 `Apply` 的方法簽章順序與 `Aggreate` 一樣把 `input` String 放在最前面，  \n真的真的非常沒有必要，因為會異動到介面。\n\n```csharp\npublic class FizzBuzz\n{\n    private readonly List<IRule> _rules = new List<IRule>\n    {\n        new FizzRule(),\n        new BuzzRule(),\n        new NormalRule()\n    };\n\n    public string GetResult(int number)\n    {\n        return _rules.Aggregate(string.Empty, (input, rule) => rule.Apply(input, number));\n    }\n}\n```\n\n## 參考\n- [Coding_Dojo_Csharp](https://github.com/marsen/Coding_Dojo_Csharp/tree/fizzbuzz/20190205/UnitTestProject6)\n- [Refactoring with Loops and Collection Pipelines](https://martinfowler.com/articles/refactoring-pipelines.html?fbclid=IwAR0uG0IXa_i6JoSRPtO6s-gXj-0jOAZDNrBYRmaHAJ2_RYFpiqcrbr4Z86k)","slug":"2019/coding_dojo_kata_fizzbuzz_first","published":1,"updated":"2019-06-10T14:43:28.949Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wm9002ob0vxbpft75j1","content":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>記錄一下 Kata 的思路。</p>\n<h2 id=\"實例化需求\"><a href=\"#實例化需求\" class=\"headerlink\" title=\"實例化需求\"></a>實例化需求</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 is 1</span><br><span class=\"line\">2 is 2</span><br><span class=\"line\">3 is Fizz</span><br><span class=\"line\">4 is 4</span><br><span class=\"line\">5 is Buzz</span><br><span class=\"line\">6 is Fizz</span><br><span class=\"line\">15 is FizzBuzz</span><br></pre></td></tr></table></figure>\n\n<p>雖然可以把上面的案例濃縮到 4 種，<br>整除 3 是 Fizz、<br>整除 5 是 Buzz、<br>整除 3 又整除 5 是 FizzBuzz ,<br>不符合上述條件的都是原數字。</p>\n<p>有沒有必要寫這麼多測試呢？<br>比如說 1、2、4 的測試是不是重複了？<br>日前 91 大有過類似的討論， </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">第一個 test case 挑最簡單的，讓你可以從紅燈變綠燈。驅動出你需要的產品代碼。  </span><br><span class=\"line\">接下來後面的幾個，都可以只是拿來「確認」是否滿足你期望的情境，  </span><br><span class=\"line\">也就是你寫新的測試案例，你期望他就是綠燈了，然後驗證是否符合你的期望。  </span><br><span class=\"line\">目的是「驗證」，不是「驅動」</span><br></pre></td></tr></table></figure>\n\n<p>測試的不是只有「驅動開發」而已。<br>而好的程式碼，也不能只依靠測試。</p>\n<h3 id=\"第一個測試案例，1-回傳-1\"><a href=\"#第一個測試案例，1-回傳-1\" class=\"headerlink\" title=\"第一個測試案例，1 回傳 1\"></a>第一個測試案例，1 回傳 1</h3><p>我一開始就寫成這樣，所以後面的 2、4 案例也都會是綠燈。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number.ToString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>考慮另一種情況，也許有的人第一個測試案例會寫成這樣</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"1\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>這時候就有可能需要靠 2、4 的測試案例來驅動程式碼的改變。<br>實際上並沒有，第一種寫法對我來說就夠 Baby Step 了。</p>\n<h3 id=\"第二個測試案例，3-回傳-Fizz\"><a href=\"#第二個測試案例，3-回傳-Fizz\" class=\"headerlink\" title=\"第二個測試案例，3 回傳 Fizz\"></a>第二個測試案例，3 回傳 Fizz</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (number % <span class=\"number\">3</span> == <span class=\"number\">0</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"Fizz\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> number.ToString();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>相信這是很好理解的，雖然我的案例是從 1、2、3 而來，<br>但是在我的腦海中已經思考好了這個程式碼的「餘數規則」，  </p>\n<h3 id=\"所有測試案例\"><a href=\"#所有測試案例\" class=\"headerlink\" title=\"所有測試案例\"></a>所有測試案例</h3><p>實作出一個「餘數規則」後，程式碼應該很容易隨著測試案例變成下面這個樣子，<br>用一堆 <code>if</code> 檢查「餘數」然後回傳指定的「字串」，就是我們的「規則」。<br>這個時候的複雜度是 4 。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (number % <span class=\"number\">5</span> == <span class=\"number\">0</span> &amp; number % <span class=\"number\">3</span> == <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"FizzBuzz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (number % <span class=\"number\">5</span> == <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"Buzz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (number % <span class=\"number\">3</span> == <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"Fizz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> number.ToString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"重構\"><a href=\"#重構\" class=\"headerlink\" title=\"重構\"></a>重構</h2><p>我儘量還原當初的想法，並記錄下來，<br>有許多值得改善的地方，換個順序重構起來就會更明快。</p>\n<h3 id=\"重構餘數檢查\"><a href=\"#重構餘數檢查\" class=\"headerlink\" title=\"重構餘數檢查\"></a>重構餘數檢查</h3><p>這一步真的非常的的小，我想大多數的人甚至會跳過這步驟的重構，<br>我只是把餘數檢查抽成私有方法，可以透過 <code>Resharp</code> 快速重構。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (IsDivisibleBy15(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"FizzBuzz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (IsDivisibleBy5(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"Buzz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (IsDivisibleBy3(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"Fizz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> number.ToString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">IsDivisibleBy15</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> IsDivisibleBy3(number) &amp;&amp; IsDivisibleBy5(number);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">IsDivisibleBy5</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">5</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">IsDivisibleBy3</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">3</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"抽出-result-變數作為回傳值\"><a href=\"#抽出-result-變數作為回傳值\" class=\"headerlink\" title=\"抽出 result 變數作為回傳值\"></a>抽出 result 變數作為回傳值</h3><p>這裡我是作了一個舖墊，主要是我看到了 <code>Fizz</code> 與 <code>Buzz</code> 的字串重複出現在 <code>FizzBuzz</code>，  \n我預計下一階段要讓 <code>FizzBuzz</code> 是透過組合產生，而不是寫死在程式之中。<br>特別要注意的事是，我為了產生 result 變數，必須在最後多作一次空字串的檢查，<br>這個時候的複雜度會達到 5 。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (IsDivisibleBy15(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"FizzBuzz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (IsDivisibleBy5(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result = <span class=\"string\">\"Buzz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (IsDivisibleBy3(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result = <span class=\"string\">\"Fizz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">string</span>.IsNullOrEmpty(result))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> number.ToString();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">IsDivisibleBy15</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> IsDivisibleBy3(number) &amp;&amp; IsDivisibleBy5(number);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">IsDivisibleBy5</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">5</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">IsDivisibleBy3</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">3</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"組合-result-值\"><a href=\"#組合-result-值\" class=\"headerlink\" title=\"組合 result 值\"></a>組合 result 值</h3><p>這個階段 ‘Fizz’ 與 ‘Buzz’ 在程式中只會出現一次，<br>15 的餘數檢查也被移除了，這時的複雜度是 4 ，<br>可惜的是我沒有意識到第三個 <code>if</code> 的明顯不同，<br>如果我能提早重構成 <code>result = number.ToString();</code><br>後面的重構也許會更簡潔一點。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (IsDivisibleBy3(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result += <span class=\"string\">\"Fizz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (IsDivisibleBy5(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result += <span class=\"string\">\"Buzz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">string</span>.IsNullOrEmpty(result))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> number.ToString();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">IsDivisibleBy5</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">5</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">IsDivisibleBy3</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">3</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"實作-FizzRule-Class\"><a href=\"#實作-FizzRule-Class\" class=\"headerlink\" title=\"實作 FizzRule Class\"></a>實作 FizzRule Class</h3><p>這是繼 <code>FizzBuzz</code> 後產生的第二個 Class，<br>算有指標意義，這裡原本的目的是想要消除 <code>if</code>，  \n但無法一步到位，先試著把 Fizz 與 Buzz 的邏輯作分離，<br>一樣我只聚焦在 Fizz 與 Buzz 身上，<br>而忽略了 <code>其它</code> 的邏輯判斷，寫成了三元判斷除了變成一行外其實沒有其他好處。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzRule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">bool</span> <span class=\"title\">Check</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">3</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> fizzRule = <span class=\"keyword\">new</span> FizzRule();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (fizzRule.Check(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result += <span class=\"string\">\"Fizz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (IsDivisibleBy5(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result += <span class=\"string\">\"Buzz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.IsNullOrEmpty(result) ? number.ToString() : result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">IsDivisibleBy5</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">5</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"實作-BuzzRule-Class\"><a href=\"#實作-BuzzRule-Class\" class=\"headerlink\" title=\"實作 BuzzRule Class\"></a>實作 BuzzRule Class</h3><p>一樣把 Buzz 的邏輯搬到新的 Class 中，<br>這裡故意用相同的方法名，是為了下一步要抽介面。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> fizzRule = <span class=\"keyword\">new</span> FizzRule();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (fizzRule.Check(number))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        result += <span class=\"string\">\"Fizz\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> buzzRule = <span class=\"keyword\">new</span> BuzzRule();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (buzzRule.Check(number))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        result += <span class=\"string\">\"Buzz\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.IsNullOrEmpty(result) ? number.ToString() : result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"介面-IRule\"><a href=\"#介面-IRule\" class=\"headerlink\" title=\"介面 IRule\"></a>介面 IRule</h3><p>終於抽出了介面，自已為聰明的把關鍵字抽離到了介面之中，<br>卻沒有考慮到真正的邏輯是組合 result 的行為仍然相依在 <code>FizzBuzz</code> Class</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IRule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">string</span> Word &#123; <span class=\"keyword\">get</span>; &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">bool</span> <span class=\"title\">Check</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzRule</span> : <span class=\"title\">IRule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">string</span> Word =&gt; <span class=\"string\">\"Fizz\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">bool</span> <span class=\"title\">Check</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">3</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">BuzzRule</span> : <span class=\"title\">IRule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">string</span> Word =&gt; <span class=\"string\">\"Buzz\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">bool</span> <span class=\"title\">Check</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">5</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"IRule-List\"><a href=\"#IRule-List\" class=\"headerlink\" title=\"IRule List\"></a>IRule List</h3><p>準備好了 IRule ，就是要讓 <code>FizzBuzz</code> 與 <code>FizzRule</code> 以及 <code>BuzzRule</code> 解耦的階段了，<br>這步我踩得有小，可以更直接一點重構，<br>一樣的問題，我仍然沒有意識最後一個<code>if(?:)</code>其實也是一種 <code>IRule</code>，  \n也沒有意識到 <code>result+=XXX</code> 與 <code>return YYY?number.ToString() : result;</code> 其實應該是屬於 <code>IRule</code> 的一部份<br>這時的複雜度仍然是 4  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;IRule&gt; _rules = <span class=\"keyword\">new</span> List&lt;IRule&gt; &#123;<span class=\"keyword\">new</span> FizzRule(), <span class=\"keyword\">new</span> BuzzRule()&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> fizzRule = <span class=\"keyword\">new</span> FizzRule();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (fizzRule.Check(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result += fizzRule.Word;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">var</span> buzzRule = <span class=\"keyword\">new</span> BuzzRule();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (buzzRule.Check(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result += buzzRule.Word;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.IsNullOrEmpty(result) ? number.ToString() : result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"foreach-List\"><a href=\"#foreach-List\" class=\"headerlink\" title=\"foreach List\"></a>foreach List<irule></irule></h3><p>自以為帥氣的完成重構，而且用 <code>foreach</code> 消除了重複的 <code>if</code>…<br>實際上複雜度完全沒有下降。<br>關鍵的 <code>result += rule.Word;</code> 與<br><code>return string.IsNullOrEmpty(result) ? number.ToString() : result;</code><br>我繼續忽視它。  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;IRule&gt; _rules = <span class=\"keyword\">new</span> List&lt;IRule&gt; &#123;<span class=\"keyword\">new</span> FizzRule(), <span class=\"keyword\">new</span> BuzzRule()&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> rule <span class=\"keyword\">in</span> _rules)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (rule.Check(number))</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                result += rule.Word;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.IsNullOrEmpty(result) ? number.ToString() : result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"重構二、面對問題\"><a href=\"#重構二、面對問題\" class=\"headerlink\" title=\"重構二、面對問題\"></a>重構二、面對問題</h2><h3 id=\"消除-foreach\"><a href=\"#消除-foreach\" class=\"headerlink\" title=\"消除 foreach\"></a>消除 foreach</h3><p>參考 Martin 大叔的作法，把 foreach 變成 pipelines<br>光是這個作法就讓我的複雜度從 4 下降到 2 了，<br>此時，<code>result += rule.Word;</code> 與<br><code>return string.IsNullOrEmpty(result) ? number.ToString() : result;</code><br>就顯得相當奇怪，第一個邏輯我認為應該放進實作<code>IRule</code>的類別之中，<br>而第二個邏輯應該是一個未被實作的 Rule 。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> List&lt;IRule&gt; _rules = <span class=\"keyword\">new</span> List&lt;IRule&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> FizzRule(),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> BuzzRule(),</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> myRules = _rules;</span><br><span class=\"line\">        myRules</span><br><span class=\"line\">        .Where(r =&gt; r.Check(number))</span><br><span class=\"line\">        .ToList()</span><br><span class=\"line\">        .ForEach(n =&gt; result += n.Word);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.IsNullOrEmpty(result) ? number.ToString() : result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"實作-Apply\"><a href=\"#實作-Apply\" class=\"headerlink\" title=\"實作 Apply\"></a>實作 Apply</h3><p>終於將<code>result += rule.Word;</code>的邏輯從 <code>FizzBuzz</code> 抽離到 <code>IRule</code> 之中，<br>再由各自的 Rule 實作，這個時候就會覺得 <code>IRule.Check</code> 與 <code>IRule.Word</code> 有點累贅，<br>基於 SOLID 原則，這部份邏輯甚至不該被揭露在 <code>FizzBuzz</code>之中。  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IRule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">string</span> Word &#123; <span class=\"keyword\">get</span>; &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">bool</span> <span class=\"title\">Check</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">string</span> <span class=\"title\">Apply</span>(<span class=\"params\"><span class=\"keyword\">string</span> input</span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> List&lt;IRule&gt; _rules = <span class=\"keyword\">new</span> List&lt;IRule&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> FizzRule(),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> BuzzRule(),</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        _rules</span><br><span class=\"line\">        .Where(r =&gt; r.Check(number))</span><br><span class=\"line\">        .ToList()</span><br><span class=\"line\">        .ForEach(n =&gt; result = n.Apply(result));</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.IsNullOrEmpty(result) ? number.ToString() : result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"NormalRule\"><a href=\"#NormalRule\" class=\"headerlink\" title=\"NormalRule\"></a>NormalRule</h3><p>終於加上 <code>NormalRule</code> Class 了，裡面只有一個方法 <code>Apply</code>，  \n這裡是為了將來的介面準備，我想讓 NormalRule 成為 <code>IRule</code> 的一部份，<br>不過可以看到的問題是，方法簽章並不一致。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> List&lt;IRule&gt; _rules = <span class=\"keyword\">new</span> List&lt;IRule&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> FizzRule(),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> BuzzRule(),</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        _rules</span><br><span class=\"line\">            .Where(r =&gt; r.Check(number))</span><br><span class=\"line\">            .ToList()</span><br><span class=\"line\">            .ForEach(n =&gt; result = n.Apply(result));</span><br><span class=\"line\">        <span class=\"keyword\">var</span> normalRule = <span class=\"keyword\">new</span> NormalRule();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> normalRule.Apply(number, result);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"修改-IRule-Apply\"><a href=\"#修改-IRule-Apply\" class=\"headerlink\" title=\"修改 IRule.Apply\"></a>修改 IRule.Apply</h3><p>在我的認知中，對 Production Code 修改介面是件危險的事，<br>這在 Kata 是可行的，但是在實際的 Production 恐怕就不夠 Baby Step 了，<br>我或許應該創造一個 IRuleV2 之類的介面，而不是直接修改 <code>IRule</code>。</p>\n<p>首先編譯會不過，這會趨動我去修改 <code>FizzRule</code> 與 <code>BuzzRule</code><br>另外，這個時間點 <code>IRule.Check</code> 與 <code>IRule.Word</code> 作為 public 的資訊就顯得相當多餘了。<br>所以我會進一步將這些資訊從 <code>IRule</code> 介面中拿掉，<br>這也會使得 <code>FizzBuzz</code> Class 產生 Error，趁這個時候把 <code>.Where()</code> 與 <code>.ToList()</code> 一併拿掉，<br>但是要記得將 <code>IRule.Check</code> 與 <code>IRule.Word</code> 包含至 <code>IRule.Apply</code> 之中。  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IRule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">string</span> <span class=\"title\">Apply</span>(<span class=\"params\"><span class=\"keyword\">int</span> number, <span class=\"keyword\">string</span> input</span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzRule</span> : <span class=\"title\">IRule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">string</span> Word =&gt; <span class=\"string\">\"Fizz\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">Check</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">3</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">Apply</span>(<span class=\"params\"><span class=\"keyword\">int</span> number, <span class=\"keyword\">string</span> input</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Check(number) ? input += <span class=\"keyword\">this</span>.Word : input;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"NormalRule-與-IRule\"><a href=\"#NormalRule-與-IRule\" class=\"headerlink\" title=\"NormalRule 與 IRule\"></a>NormalRule 與 IRule</h3><p>這裡讓 <code>NormalRule</code> 實作 <code>IRule</code> 介面，<br>實際上在上面幾步已經完成了，<code>IRule</code> 反而比較像一個標籤掛在 <code>NormalRule</code> 上，<br>如此一來，就能夠在 <code>FizzBuzz</code> 裡面透過 <code>List&lt;IRule&gt;</code> 統整所有的規則。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> List&lt;IRule&gt; _rules = <span class=\"keyword\">new</span> List&lt;IRule&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> FizzRule(),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> BuzzRule(),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> NormalRule()</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        _rules</span><br><span class=\"line\">            .ForEach(n =&gt; result = n.Apply(number, result));</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IRule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">string</span> <span class=\"title\">Apply</span>(<span class=\"params\"><span class=\"keyword\">int</span> number, <span class=\"keyword\">string</span> input</span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"收尾\"><a href=\"#收尾\" class=\"headerlink\" title=\"收尾\"></a>收尾</h3><p>作到這裡大概把我想作的東西都作掉了，<br><code>if</code> 散落在各個 <code>Rules</code> 裡面，<br>如果是 Production Code 我想我會使用 NameSpace 與專案資料夾再作進一步的整理吧。<br>最後把 <code>FizzRule</code> 與 <code>BuzzRule</code> 的 <code>Check</code> 與 <code>Word</code> 拿掉只是一點潔癖。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzRule</span> : <span class=\"title\">IRule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">Apply</span>(<span class=\"params\"><span class=\"keyword\">int</span> number, <span class=\"keyword\">string</span> input</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">3</span> == <span class=\"number\">0</span> ? input += <span class=\"string\">\"Fizz\"</span> : input;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"結語\"><a href=\"#結語\" class=\"headerlink\" title=\"結語\"></a>結語</h2><p>過程中一直考慮著想要拿掉所有<code>if</code>，或是套用職責鏈(Chain of Responsibility Pattern)的 Pattern，<br>現在想想都有點走歪了方向，一再忽視責職的歸屬而讓後面的重構有點吃力，<br>不過透過 TDD 仍然讓程式碼重構到了一定的程度。<br>如果重來一次的話，我會選擇提早分離職責，<br>不過當中的取捨可能需要練習更多的 KATA 吧。</p>\n<p>有人說這麼重構，會不會有點 Over Design 了，<br>我想說的是，反正是練習嘛，刻意練習到過頭也只是剛好而已，<br>如果不在練習時下點苦功，在戰場上用得出來嗎？<br>至少我的天賦而言，我應該是用不出來的。</p>\n<h3 id=\"後記-1-20190207\"><a href=\"#後記-1-20190207\" class=\"headerlink\" title=\"後記 1. 20190207\"></a>後記 1. 20190207</h3><h4 id=\"Aggregate\"><a href=\"#Aggregate\" class=\"headerlink\" title=\"Aggregate\"></a>Aggregate</h4><p>文章貼出後，同事的回饋，可以使用 <code>Aggregate</code> 取代 <code>Foreach</code>，  \n程式碼可以更加精鍊。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> List&lt;IRule&gt; _rules = <span class=\"keyword\">new</span> List&lt;IRule&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> FizzRule(),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> BuzzRule(),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> NormalRule()</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> _rules.Aggregate(<span class=\"keyword\">string</span>.Empty, (r, n) =&gt; n.Apply(number, r));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"參數優化\"><a href=\"#參數優化\" class=\"headerlink\" title=\"參數優化\"></a>參數優化</h4><p>把 r、n 這類較沒意義的命名改成 input 與 rule，<br>單純是為了讓 <code>Aggreate</code> 的可讀性較高一些。<br>接下來這個異動的幅度較大，實務上我不會這樣作，<br>讓 <code>Apply</code> 的方法簽章順序與 <code>Aggreate</code> 一樣把 <code>input</code> String 放在最前面，<br>真的真的非常沒有必要，因為會異動到介面。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> List&lt;IRule&gt; _rules = <span class=\"keyword\">new</span> List&lt;IRule&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> FizzRule(),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> BuzzRule(),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> NormalRule()</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> _rules.Aggregate(<span class=\"keyword\">string</span>.Empty, (input, rule) =&gt; rule.Apply(input, number));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://github.com/marsen/Coding_Dojo_Csharp/tree/fizzbuzz/20190205/UnitTestProject6\" target=\"_blank\" rel=\"noopener\">Coding_Dojo_Csharp</a></li>\n<li><a href=\"https://martinfowler.com/articles/refactoring-pipelines.html?fbclid=IwAR0uG0IXa_i6JoSRPtO6s-gXj-0jOAZDNrBYRmaHAJ2_RYFpiqcrbr4Z86k\" target=\"_blank\" rel=\"noopener\">Refactoring with Loops and Collection Pipelines</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>記錄一下 Kata 的思路。</p>\n<h2 id=\"實例化需求\"><a href=\"#實例化需求\" class=\"headerlink\" title=\"實例化需求\"></a>實例化需求</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 is 1</span><br><span class=\"line\">2 is 2</span><br><span class=\"line\">3 is Fizz</span><br><span class=\"line\">4 is 4</span><br><span class=\"line\">5 is Buzz</span><br><span class=\"line\">6 is Fizz</span><br><span class=\"line\">15 is FizzBuzz</span><br></pre></td></tr></table></figure>\n\n<p>雖然可以把上面的案例濃縮到 4 種，<br>整除 3 是 Fizz、<br>整除 5 是 Buzz、<br>整除 3 又整除 5 是 FizzBuzz ,<br>不符合上述條件的都是原數字。</p>\n<p>有沒有必要寫這麼多測試呢？<br>比如說 1、2、4 的測試是不是重複了？<br>日前 91 大有過類似的討論， </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">第一個 test case 挑最簡單的，讓你可以從紅燈變綠燈。驅動出你需要的產品代碼。  </span><br><span class=\"line\">接下來後面的幾個，都可以只是拿來「確認」是否滿足你期望的情境，  </span><br><span class=\"line\">也就是你寫新的測試案例，你期望他就是綠燈了，然後驗證是否符合你的期望。  </span><br><span class=\"line\">目的是「驗證」，不是「驅動」</span><br></pre></td></tr></table></figure>\n\n<p>測試的不是只有「驅動開發」而已。<br>而好的程式碼，也不能只依靠測試。</p>\n<h3 id=\"第一個測試案例，1-回傳-1\"><a href=\"#第一個測試案例，1-回傳-1\" class=\"headerlink\" title=\"第一個測試案例，1 回傳 1\"></a>第一個測試案例，1 回傳 1</h3><p>我一開始就寫成這樣，所以後面的 2、4 案例也都會是綠燈。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number.ToString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>考慮另一種情況，也許有的人第一個測試案例會寫成這樣</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"1\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>這時候就有可能需要靠 2、4 的測試案例來驅動程式碼的改變。<br>實際上並沒有，第一種寫法對我來說就夠 Baby Step 了。</p>\n<h3 id=\"第二個測試案例，3-回傳-Fizz\"><a href=\"#第二個測試案例，3-回傳-Fizz\" class=\"headerlink\" title=\"第二個測試案例，3 回傳 Fizz\"></a>第二個測試案例，3 回傳 Fizz</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (number % <span class=\"number\">3</span> == <span class=\"number\">0</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"Fizz\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> number.ToString();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>相信這是很好理解的，雖然我的案例是從 1、2、3 而來，<br>但是在我的腦海中已經思考好了這個程式碼的「餘數規則」，  </p>\n<h3 id=\"所有測試案例\"><a href=\"#所有測試案例\" class=\"headerlink\" title=\"所有測試案例\"></a>所有測試案例</h3><p>實作出一個「餘數規則」後，程式碼應該很容易隨著測試案例變成下面這個樣子，<br>用一堆 <code>if</code> 檢查「餘數」然後回傳指定的「字串」，就是我們的「規則」。<br>這個時候的複雜度是 4 。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (number % <span class=\"number\">5</span> == <span class=\"number\">0</span> &amp; number % <span class=\"number\">3</span> == <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"FizzBuzz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (number % <span class=\"number\">5</span> == <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"Buzz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (number % <span class=\"number\">3</span> == <span class=\"number\">0</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"Fizz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> number.ToString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"重構\"><a href=\"#重構\" class=\"headerlink\" title=\"重構\"></a>重構</h2><p>我儘量還原當初的想法，並記錄下來，<br>有許多值得改善的地方，換個順序重構起來就會更明快。</p>\n<h3 id=\"重構餘數檢查\"><a href=\"#重構餘數檢查\" class=\"headerlink\" title=\"重構餘數檢查\"></a>重構餘數檢查</h3><p>這一步真的非常的的小，我想大多數的人甚至會跳過這步驟的重構，<br>我只是把餘數檢查抽成私有方法，可以透過 <code>Resharp</code> 快速重構。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (IsDivisibleBy15(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"FizzBuzz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (IsDivisibleBy5(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"Buzz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (IsDivisibleBy3(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"Fizz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> number.ToString();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">IsDivisibleBy15</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> IsDivisibleBy3(number) &amp;&amp; IsDivisibleBy5(number);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">IsDivisibleBy5</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">5</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">IsDivisibleBy3</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">3</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"抽出-result-變數作為回傳值\"><a href=\"#抽出-result-變數作為回傳值\" class=\"headerlink\" title=\"抽出 result 變數作為回傳值\"></a>抽出 result 變數作為回傳值</h3><p>這裡我是作了一個舖墊，主要是我看到了 <code>Fizz</code> 與 <code>Buzz</code> 的字串重複出現在 <code>FizzBuzz</code>，  \n我預計下一階段要讓 <code>FizzBuzz</code> 是透過組合產生，而不是寫死在程式之中。<br>特別要注意的事是，我為了產生 result 變數，必須在最後多作一次空字串的檢查，<br>這個時候的複雜度會達到 5 。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (IsDivisibleBy15(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"FizzBuzz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (IsDivisibleBy5(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result = <span class=\"string\">\"Buzz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (IsDivisibleBy3(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result = <span class=\"string\">\"Fizz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">string</span>.IsNullOrEmpty(result))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> number.ToString();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">IsDivisibleBy15</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> IsDivisibleBy3(number) &amp;&amp; IsDivisibleBy5(number);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">IsDivisibleBy5</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">5</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">IsDivisibleBy3</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">3</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"組合-result-值\"><a href=\"#組合-result-值\" class=\"headerlink\" title=\"組合 result 值\"></a>組合 result 值</h3><p>這個階段 ‘Fizz’ 與 ‘Buzz’ 在程式中只會出現一次，<br>15 的餘數檢查也被移除了，這時的複雜度是 4 ，<br>可惜的是我沒有意識到第三個 <code>if</code> 的明顯不同，<br>如果我能提早重構成 <code>result = number.ToString();</code><br>後面的重構也許會更簡潔一點。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (IsDivisibleBy3(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result += <span class=\"string\">\"Fizz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (IsDivisibleBy5(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result += <span class=\"string\">\"Buzz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">string</span>.IsNullOrEmpty(result))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> number.ToString();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">IsDivisibleBy5</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">5</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">IsDivisibleBy3</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">3</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"實作-FizzRule-Class\"><a href=\"#實作-FizzRule-Class\" class=\"headerlink\" title=\"實作 FizzRule Class\"></a>實作 FizzRule Class</h3><p>這是繼 <code>FizzBuzz</code> 後產生的第二個 Class，<br>算有指標意義，這裡原本的目的是想要消除 <code>if</code>，  \n但無法一步到位，先試著把 Fizz 與 Buzz 的邏輯作分離，<br>一樣我只聚焦在 Fizz 與 Buzz 身上，<br>而忽略了 <code>其它</code> 的邏輯判斷，寫成了三元判斷除了變成一行外其實沒有其他好處。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzRule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">bool</span> <span class=\"title\">Check</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">3</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> fizzRule = <span class=\"keyword\">new</span> FizzRule();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (fizzRule.Check(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result += <span class=\"string\">\"Fizz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (IsDivisibleBy5(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result += <span class=\"string\">\"Buzz\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.IsNullOrEmpty(result) ? number.ToString() : result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">IsDivisibleBy5</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">5</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"實作-BuzzRule-Class\"><a href=\"#實作-BuzzRule-Class\" class=\"headerlink\" title=\"實作 BuzzRule Class\"></a>實作 BuzzRule Class</h3><p>一樣把 Buzz 的邏輯搬到新的 Class 中，<br>這裡故意用相同的方法名，是為了下一步要抽介面。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> fizzRule = <span class=\"keyword\">new</span> FizzRule();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (fizzRule.Check(number))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        result += <span class=\"string\">\"Fizz\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> buzzRule = <span class=\"keyword\">new</span> BuzzRule();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (buzzRule.Check(number))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        result += <span class=\"string\">\"Buzz\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.IsNullOrEmpty(result) ? number.ToString() : result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"介面-IRule\"><a href=\"#介面-IRule\" class=\"headerlink\" title=\"介面 IRule\"></a>介面 IRule</h3><p>終於抽出了介面，自已為聰明的把關鍵字抽離到了介面之中，<br>卻沒有考慮到真正的邏輯是組合 result 的行為仍然相依在 <code>FizzBuzz</code> Class</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IRule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">string</span> Word &#123; <span class=\"keyword\">get</span>; &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">bool</span> <span class=\"title\">Check</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzRule</span> : <span class=\"title\">IRule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">string</span> Word =&gt; <span class=\"string\">\"Fizz\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">bool</span> <span class=\"title\">Check</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">3</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">BuzzRule</span> : <span class=\"title\">IRule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">string</span> Word =&gt; <span class=\"string\">\"Buzz\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">bool</span> <span class=\"title\">Check</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">5</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"IRule-List\"><a href=\"#IRule-List\" class=\"headerlink\" title=\"IRule List\"></a>IRule List</h3><p>準備好了 IRule ，就是要讓 <code>FizzBuzz</code> 與 <code>FizzRule</code> 以及 <code>BuzzRule</code> 解耦的階段了，<br>這步我踩得有小，可以更直接一點重構，<br>一樣的問題，我仍然沒有意識最後一個<code>if(?:)</code>其實也是一種 <code>IRule</code>，  \n也沒有意識到 <code>result+=XXX</code> 與 <code>return YYY?number.ToString() : result;</code> 其實應該是屬於 <code>IRule</code> 的一部份<br>這時的複雜度仍然是 4  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;IRule&gt; _rules = <span class=\"keyword\">new</span> List&lt;IRule&gt; &#123;<span class=\"keyword\">new</span> FizzRule(), <span class=\"keyword\">new</span> BuzzRule()&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> fizzRule = <span class=\"keyword\">new</span> FizzRule();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (fizzRule.Check(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result += fizzRule.Word;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">var</span> buzzRule = <span class=\"keyword\">new</span> BuzzRule();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (buzzRule.Check(number))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            result += buzzRule.Word;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.IsNullOrEmpty(result) ? number.ToString() : result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"foreach-List\"><a href=\"#foreach-List\" class=\"headerlink\" title=\"foreach List\"></a>foreach List<irule></irule></h3><p>自以為帥氣的完成重構，而且用 <code>foreach</code> 消除了重複的 <code>if</code>…<br>實際上複雜度完全沒有下降。<br>關鍵的 <code>result += rule.Word;</code> 與<br><code>return string.IsNullOrEmpty(result) ? number.ToString() : result;</code><br>我繼續忽視它。  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;IRule&gt; _rules = <span class=\"keyword\">new</span> List&lt;IRule&gt; &#123;<span class=\"keyword\">new</span> FizzRule(), <span class=\"keyword\">new</span> BuzzRule()&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> rule <span class=\"keyword\">in</span> _rules)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (rule.Check(number))</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                result += rule.Word;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.IsNullOrEmpty(result) ? number.ToString() : result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"重構二、面對問題\"><a href=\"#重構二、面對問題\" class=\"headerlink\" title=\"重構二、面對問題\"></a>重構二、面對問題</h2><h3 id=\"消除-foreach\"><a href=\"#消除-foreach\" class=\"headerlink\" title=\"消除 foreach\"></a>消除 foreach</h3><p>參考 Martin 大叔的作法，把 foreach 變成 pipelines<br>光是這個作法就讓我的複雜度從 4 下降到 2 了，<br>此時，<code>result += rule.Word;</code> 與<br><code>return string.IsNullOrEmpty(result) ? number.ToString() : result;</code><br>就顯得相當奇怪，第一個邏輯我認為應該放進實作<code>IRule</code>的類別之中，<br>而第二個邏輯應該是一個未被實作的 Rule 。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> List&lt;IRule&gt; _rules = <span class=\"keyword\">new</span> List&lt;IRule&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> FizzRule(),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> BuzzRule(),</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> myRules = _rules;</span><br><span class=\"line\">        myRules</span><br><span class=\"line\">        .Where(r =&gt; r.Check(number))</span><br><span class=\"line\">        .ToList()</span><br><span class=\"line\">        .ForEach(n =&gt; result += n.Word);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.IsNullOrEmpty(result) ? number.ToString() : result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"實作-Apply\"><a href=\"#實作-Apply\" class=\"headerlink\" title=\"實作 Apply\"></a>實作 Apply</h3><p>終於將<code>result += rule.Word;</code>的邏輯從 <code>FizzBuzz</code> 抽離到 <code>IRule</code> 之中，<br>再由各自的 Rule 實作，這個時候就會覺得 <code>IRule.Check</code> 與 <code>IRule.Word</code> 有點累贅，<br>基於 SOLID 原則，這部份邏輯甚至不該被揭露在 <code>FizzBuzz</code>之中。  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IRule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">string</span> Word &#123; <span class=\"keyword\">get</span>; &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">bool</span> <span class=\"title\">Check</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">string</span> <span class=\"title\">Apply</span>(<span class=\"params\"><span class=\"keyword\">string</span> input</span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> List&lt;IRule&gt; _rules = <span class=\"keyword\">new</span> List&lt;IRule&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> FizzRule(),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> BuzzRule(),</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        _rules</span><br><span class=\"line\">        .Where(r =&gt; r.Check(number))</span><br><span class=\"line\">        .ToList()</span><br><span class=\"line\">        .ForEach(n =&gt; result = n.Apply(result));</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.IsNullOrEmpty(result) ? number.ToString() : result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"NormalRule\"><a href=\"#NormalRule\" class=\"headerlink\" title=\"NormalRule\"></a>NormalRule</h3><p>終於加上 <code>NormalRule</code> Class 了，裡面只有一個方法 <code>Apply</code>，  \n這裡是為了將來的介面準備，我想讓 NormalRule 成為 <code>IRule</code> 的一部份，<br>不過可以看到的問題是，方法簽章並不一致。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> List&lt;IRule&gt; _rules = <span class=\"keyword\">new</span> List&lt;IRule&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> FizzRule(),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> BuzzRule(),</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        _rules</span><br><span class=\"line\">            .Where(r =&gt; r.Check(number))</span><br><span class=\"line\">            .ToList()</span><br><span class=\"line\">            .ForEach(n =&gt; result = n.Apply(result));</span><br><span class=\"line\">        <span class=\"keyword\">var</span> normalRule = <span class=\"keyword\">new</span> NormalRule();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> normalRule.Apply(number, result);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"修改-IRule-Apply\"><a href=\"#修改-IRule-Apply\" class=\"headerlink\" title=\"修改 IRule.Apply\"></a>修改 IRule.Apply</h3><p>在我的認知中，對 Production Code 修改介面是件危險的事，<br>這在 Kata 是可行的，但是在實際的 Production 恐怕就不夠 Baby Step 了，<br>我或許應該創造一個 IRuleV2 之類的介面，而不是直接修改 <code>IRule</code>。</p>\n<p>首先編譯會不過，這會趨動我去修改 <code>FizzRule</code> 與 <code>BuzzRule</code><br>另外，這個時間點 <code>IRule.Check</code> 與 <code>IRule.Word</code> 作為 public 的資訊就顯得相當多餘了。<br>所以我會進一步將這些資訊從 <code>IRule</code> 介面中拿掉，<br>這也會使得 <code>FizzBuzz</code> Class 產生 Error，趁這個時候把 <code>.Where()</code> 與 <code>.ToList()</code> 一併拿掉，<br>但是要記得將 <code>IRule.Check</code> 與 <code>IRule.Word</code> 包含至 <code>IRule.Apply</code> 之中。  </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IRule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">string</span> <span class=\"title\">Apply</span>(<span class=\"params\"><span class=\"keyword\">int</span> number, <span class=\"keyword\">string</span> input</span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzRule</span> : <span class=\"title\">IRule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">string</span> Word =&gt; <span class=\"string\">\"Fizz\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">bool</span> <span class=\"title\">Check</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">3</span> == <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">Apply</span>(<span class=\"params\"><span class=\"keyword\">int</span> number, <span class=\"keyword\">string</span> input</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> Check(number) ? input += <span class=\"keyword\">this</span>.Word : input;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"NormalRule-與-IRule\"><a href=\"#NormalRule-與-IRule\" class=\"headerlink\" title=\"NormalRule 與 IRule\"></a>NormalRule 與 IRule</h3><p>這裡讓 <code>NormalRule</code> 實作 <code>IRule</code> 介面，<br>實際上在上面幾步已經完成了，<code>IRule</code> 反而比較像一個標籤掛在 <code>NormalRule</code> 上，<br>如此一來，就能夠在 <code>FizzBuzz</code> 裡面透過 <code>List&lt;IRule&gt;</code> 統整所有的規則。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> List&lt;IRule&gt; _rules = <span class=\"keyword\">new</span> List&lt;IRule&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> FizzRule(),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> BuzzRule(),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> NormalRule()</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> result = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        _rules</span><br><span class=\"line\">            .ForEach(n =&gt; result = n.Apply(number, result));</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">IRule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">string</span> <span class=\"title\">Apply</span>(<span class=\"params\"><span class=\"keyword\">int</span> number, <span class=\"keyword\">string</span> input</span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"收尾\"><a href=\"#收尾\" class=\"headerlink\" title=\"收尾\"></a>收尾</h3><p>作到這裡大概把我想作的東西都作掉了，<br><code>if</code> 散落在各個 <code>Rules</code> 裡面，<br>如果是 Production Code 我想我會使用 NameSpace 與專案資料夾再作進一步的整理吧。<br>最後把 <code>FizzRule</code> 與 <code>BuzzRule</code> 的 <code>Check</code> 與 <code>Word</code> 拿掉只是一點潔癖。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzRule</span> : <span class=\"title\">IRule</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">Apply</span>(<span class=\"params\"><span class=\"keyword\">int</span> number, <span class=\"keyword\">string</span> input</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> number % <span class=\"number\">3</span> == <span class=\"number\">0</span> ? input += <span class=\"string\">\"Fizz\"</span> : input;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"結語\"><a href=\"#結語\" class=\"headerlink\" title=\"結語\"></a>結語</h2><p>過程中一直考慮著想要拿掉所有<code>if</code>，或是套用職責鏈(Chain of Responsibility Pattern)的 Pattern，<br>現在想想都有點走歪了方向，一再忽視責職的歸屬而讓後面的重構有點吃力，<br>不過透過 TDD 仍然讓程式碼重構到了一定的程度。<br>如果重來一次的話，我會選擇提早分離職責，<br>不過當中的取捨可能需要練習更多的 KATA 吧。</p>\n<p>有人說這麼重構，會不會有點 Over Design 了，<br>我想說的是，反正是練習嘛，刻意練習到過頭也只是剛好而已，<br>如果不在練習時下點苦功，在戰場上用得出來嗎？<br>至少我的天賦而言，我應該是用不出來的。</p>\n<h3 id=\"後記-1-20190207\"><a href=\"#後記-1-20190207\" class=\"headerlink\" title=\"後記 1. 20190207\"></a>後記 1. 20190207</h3><h4 id=\"Aggregate\"><a href=\"#Aggregate\" class=\"headerlink\" title=\"Aggregate\"></a>Aggregate</h4><p>文章貼出後，同事的回饋，可以使用 <code>Aggregate</code> 取代 <code>Foreach</code>，  \n程式碼可以更加精鍊。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> List&lt;IRule&gt; _rules = <span class=\"keyword\">new</span> List&lt;IRule&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> FizzRule(),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> BuzzRule(),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> NormalRule()</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> _rules.Aggregate(<span class=\"keyword\">string</span>.Empty, (r, n) =&gt; n.Apply(number, r));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"參數優化\"><a href=\"#參數優化\" class=\"headerlink\" title=\"參數優化\"></a>參數優化</h4><p>把 r、n 這類較沒意義的命名改成 input 與 rule，<br>單純是為了讓 <code>Aggreate</code> 的可讀性較高一些。<br>接下來這個異動的幅度較大，實務上我不會這樣作，<br>讓 <code>Apply</code> 的方法簽章順序與 <code>Aggreate</code> 一樣把 <code>input</code> String 放在最前面，<br>真的真的非常沒有必要，因為會異動到介面。</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">FizzBuzz</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> List&lt;IRule&gt; _rules = <span class=\"keyword\">new</span> List&lt;IRule&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">new</span> FizzRule(),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> BuzzRule(),</span><br><span class=\"line\">        <span class=\"keyword\">new</span> NormalRule()</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">GetResult</span>(<span class=\"params\"><span class=\"keyword\">int</span> number</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> _rules.Aggregate(<span class=\"keyword\">string</span>.Empty, (input, rule) =&gt; rule.Apply(input, number));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://github.com/marsen/Coding_Dojo_Csharp/tree/fizzbuzz/20190205/UnitTestProject6\" target=\"_blank\" rel=\"noopener\">Coding_Dojo_Csharp</a></li>\n<li><a href=\"https://martinfowler.com/articles/refactoring-pipelines.html?fbclid=IwAR0uG0IXa_i6JoSRPtO6s-gXj-0jOAZDNrBYRmaHAJ2_RYFpiqcrbr4Z86k\" target=\"_blank\" rel=\"noopener\">Refactoring with Loops and Collection Pipelines</a></li>\n</ul>\n"},{"title":"[實作筆記] CPAU 加密仿登入","date":"2019-08-20T02:46:10.000Z","_content":"\n## 前情提要\n\n登入 SQL Server 需要受到權限管控，  \n而在 Windows 中需要使用特定用戶身份登入時，  \n我們常常會選擇 runas 命令。  \n\n大概類似如下:\n\n```bash\nrunas.exe /netnoly /user:MyCompany\\Marsen \"C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\ManagementStudio\\Ssms.exe\"\n```\n\n我會寫成一個 ps (PowerShell) File 來執行這件事。\n但是會有一些問題。\n\n## 問題\n\n1. 每次登入都輸入密碼好麻煩\n2. 密碼很長又複雜，Terminal 又看不出輸入是否正確，常常會打錯\n3. 密碼如果寫在 PowerShell 中會有風險\n\n我希望點兩下就能以正確的身份開啟 SSMS 而且密碼不會被明碼存儲\n\n## CPAU\n\n1. 請先下載[CPAU](https://www.joeware.net/freetools/tools/cpau/)\\\n   - 我採用綠色安裝，如果有必要可以設為環境變數\n\n2. 準備好 PowerShell 檔,並命名為 dblogin.ps1\n  \n    ```bash\n      runas.exe /netnoly /user:MyCompany\\Marsen \"C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\ManagementStudio\\Ssms.exe\"\n    ```\n\n3. 加密,以下的語法會產生以 `MyCompany\\Marsen` 的身份登入執行 SSMS 的批次檔 `run.bat`\n\n    ```bash\n      CPAU -u MyCompany\\marsen -p *************** -ex \"C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\ManagementStudio\\Ssms.exe\" -enc -file D:\\run.bat\n    ```\n\n4. 解密\n\n    ```bash\n    CPAU -file D:\\run.bat -dec\n    ```\n\n最後只要將步驟 4 的語法存成一個 bat 檔，就可以隨時點兩下執行了。\n\n## 參考\n\n- [Runas](https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/cc771525(v%3Dws.11))\n- [CPAU](https://www.joeware.net/freetools/tools/cpau/)\n- [Rusas的替代方案CPAU](https://blog.xuite.net/billchu1109/wretch/142970080-Rusas%E7%9A%84%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88CPAU)\n\n(fin)\n","source":"_posts/2019/cpau.md","raw":"---\ntitle: \"[實作筆記] CPAU 加密仿登入\"\ndate: 2019/08/20 10:46:10\n---\n\n## 前情提要\n\n登入 SQL Server 需要受到權限管控，  \n而在 Windows 中需要使用特定用戶身份登入時，  \n我們常常會選擇 runas 命令。  \n\n大概類似如下:\n\n```bash\nrunas.exe /netnoly /user:MyCompany\\Marsen \"C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\ManagementStudio\\Ssms.exe\"\n```\n\n我會寫成一個 ps (PowerShell) File 來執行這件事。\n但是會有一些問題。\n\n## 問題\n\n1. 每次登入都輸入密碼好麻煩\n2. 密碼很長又複雜，Terminal 又看不出輸入是否正確，常常會打錯\n3. 密碼如果寫在 PowerShell 中會有風險\n\n我希望點兩下就能以正確的身份開啟 SSMS 而且密碼不會被明碼存儲\n\n## CPAU\n\n1. 請先下載[CPAU](https://www.joeware.net/freetools/tools/cpau/)\\\n   - 我採用綠色安裝，如果有必要可以設為環境變數\n\n2. 準備好 PowerShell 檔,並命名為 dblogin.ps1\n  \n    ```bash\n      runas.exe /netnoly /user:MyCompany\\Marsen \"C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\ManagementStudio\\Ssms.exe\"\n    ```\n\n3. 加密,以下的語法會產生以 `MyCompany\\Marsen` 的身份登入執行 SSMS 的批次檔 `run.bat`\n\n    ```bash\n      CPAU -u MyCompany\\marsen -p *************** -ex \"C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\ManagementStudio\\Ssms.exe\" -enc -file D:\\run.bat\n    ```\n\n4. 解密\n\n    ```bash\n    CPAU -file D:\\run.bat -dec\n    ```\n\n最後只要將步驟 4 的語法存成一個 bat 檔，就可以隨時點兩下執行了。\n\n## 參考\n\n- [Runas](https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/cc771525(v%3Dws.11))\n- [CPAU](https://www.joeware.net/freetools/tools/cpau/)\n- [Rusas的替代方案CPAU](https://blog.xuite.net/billchu1109/wretch/142970080-Rusas%E7%9A%84%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88CPAU)\n\n(fin)\n","slug":"2019/cpau","published":1,"updated":"2019-08-20T04:10:28.192Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wmb002qb0vx4msynkkj","content":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>登入 SQL Server 需要受到權限管控，<br>而在 Windows 中需要使用特定用戶身份登入時，<br>我們常常會選擇 runas 命令。  </p>\n<p>大概類似如下:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">runas.exe /netnoly /user:MyCompany\\Marsen <span class=\"string\">\"C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\ManagementStudio\\Ssms.exe\"</span></span><br></pre></td></tr></table></figure>\n\n<p>我會寫成一個 ps (PowerShell) File 來執行這件事。<br>但是會有一些問題。</p>\n<h2 id=\"問題\"><a href=\"#問題\" class=\"headerlink\" title=\"問題\"></a>問題</h2><ol>\n<li>每次登入都輸入密碼好麻煩</li>\n<li>密碼很長又複雜，Terminal 又看不出輸入是否正確，常常會打錯</li>\n<li>密碼如果寫在 PowerShell 中會有風險</li>\n</ol>\n<p>我希望點兩下就能以正確的身份開啟 SSMS 而且密碼不會被明碼存儲</p>\n<h2 id=\"CPAU\"><a href=\"#CPAU\" class=\"headerlink\" title=\"CPAU\"></a>CPAU</h2><ol>\n<li><p>請先下載<a href=\"https://www.joeware.net/freetools/tools/cpau/\" target=\"_blank\" rel=\"noopener\">CPAU</a>\\</p>\n<ul>\n<li>我採用綠色安裝，如果有必要可以設為環境變數</li>\n</ul>\n</li>\n<li><p>準備好 PowerShell 檔,並命名為 dblogin.ps1</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">runas.exe /netnoly /user:MyCompany\\Marsen <span class=\"string\">\"C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\ManagementStudio\\Ssms.exe\"</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>加密,以下的語法會產生以 <code>MyCompany\\Marsen</code> 的身份登入執行 SSMS 的批次檔 <code>run.bat</code></p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CPAU -u MyCompany\\marsen -p *************** -ex <span class=\"string\">\"C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\ManagementStudio\\Ssms.exe\"</span> -enc -file D:\\run.bat</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>解密</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CPAU -file D:\\run.bat -dec</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<p>最後只要將步驟 4 的語法存成一個 bat 檔，就可以隨時點兩下執行了。</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/cc771525(v%3Dws.11)\" target=\"_blank\" rel=\"noopener\">Runas</a></li>\n<li><a href=\"https://www.joeware.net/freetools/tools/cpau/\" target=\"_blank\" rel=\"noopener\">CPAU</a></li>\n<li><a href=\"https://blog.xuite.net/billchu1109/wretch/142970080-Rusas%E7%9A%84%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88CPAU\" target=\"_blank\" rel=\"noopener\">Rusas的替代方案CPAU</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>登入 SQL Server 需要受到權限管控，<br>而在 Windows 中需要使用特定用戶身份登入時，<br>我們常常會選擇 runas 命令。  </p>\n<p>大概類似如下:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">runas.exe /netnoly /user:MyCompany\\Marsen <span class=\"string\">\"C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\ManagementStudio\\Ssms.exe\"</span></span><br></pre></td></tr></table></figure>\n\n<p>我會寫成一個 ps (PowerShell) File 來執行這件事。<br>但是會有一些問題。</p>\n<h2 id=\"問題\"><a href=\"#問題\" class=\"headerlink\" title=\"問題\"></a>問題</h2><ol>\n<li>每次登入都輸入密碼好麻煩</li>\n<li>密碼很長又複雜，Terminal 又看不出輸入是否正確，常常會打錯</li>\n<li>密碼如果寫在 PowerShell 中會有風險</li>\n</ol>\n<p>我希望點兩下就能以正確的身份開啟 SSMS 而且密碼不會被明碼存儲</p>\n<h2 id=\"CPAU\"><a href=\"#CPAU\" class=\"headerlink\" title=\"CPAU\"></a>CPAU</h2><ol>\n<li><p>請先下載<a href=\"https://www.joeware.net/freetools/tools/cpau/\" target=\"_blank\" rel=\"noopener\">CPAU</a>\\</p>\n<ul>\n<li>我採用綠色安裝，如果有必要可以設為環境變數</li>\n</ul>\n</li>\n<li><p>準備好 PowerShell 檔,並命名為 dblogin.ps1</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">runas.exe /netnoly /user:MyCompany\\Marsen <span class=\"string\">\"C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\ManagementStudio\\Ssms.exe\"</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>加密,以下的語法會產生以 <code>MyCompany\\Marsen</code> 的身份登入執行 SSMS 的批次檔 <code>run.bat</code></p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CPAU -u MyCompany\\marsen -p *************** -ex <span class=\"string\">\"C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\ManagementStudio\\Ssms.exe\"</span> -enc -file D:\\run.bat</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>解密</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CPAU -file D:\\run.bat -dec</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<p>最後只要將步驟 4 的語法存成一個 bat 檔，就可以隨時點兩下執行了。</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/cc771525(v%3Dws.11)\" target=\"_blank\" rel=\"noopener\">Runas</a></li>\n<li><a href=\"https://www.joeware.net/freetools/tools/cpau/\" target=\"_blank\" rel=\"noopener\">CPAU</a></li>\n<li><a href=\"https://blog.xuite.net/billchu1109/wretch/142970080-Rusas%E7%9A%84%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88CPAU\" target=\"_blank\" rel=\"noopener\">Rusas的替代方案CPAU</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[生活筆記] 2019 InterView 心得分享","date":"2019-11-26T03:38:55.000Z","_content":"\n\n## 前言\n\n在 N 社 4 年了，一直以來都有一個習慣，就是每年都會定期開 CV，  \n有好的機會就去面試看看。  \n部門主管 C 哥在這部份相當開明。  \n我印象深刻是剛進公司時，他要大家寫 1 年後的履歷寄信給他再跟他 1-1。  \n他也鼓勵有好的機會就去試，重點是「以終為始」，搞清楚自已要的到底是什麼 ?  \n\n## 理由\n\n### 有比沒有好一點的敏捷\n\n我是一個理論的實踐者，如果有我認同的理想，  \n就會試著去實踐，可惜「理想很豐滿，現實很骨感」，  \n理論與實踐往往總是有一條橫溝。  \n這不是我想走的主因，但是如果我能找到橫溝一處較窄的地方。  \n我想我會毫不猶豫的走過去。  \n\n### 打不敗的通膨\n\n另一個理由就更現實了，「薪資」基本上4年來是沒有調整的，  \n當然我的計算方式比較特別。我是會考慮通膨率，  \n此外，在這個大前端的時代不知道為什麼我好像選錯了邊，  \n不得不說 F2E 的價金較高機會也較多。  \n而我在 C 社時期，其實是前後通吃的，但是不包含切版。  \n在 N 社我不止一次想轉換到 F2E 卻有以下幾個卡點，  \n\n1. 缺乏實際行動，僅止於與 F2E主管聊聊的階段\n2. 切版在 N 社 F2E 是必備技能，但不是我職涯規劃中準備投資的項目\n3. 過舊的技術棧 Angular 1.0 與 KnockOutjS 還有 KendoUI 等…\n4. F2E 與 RD 部門的 Silo\n\n重點我想還是在 1 ，其它項目其實都有漸漸在改變。\n\n### 工作內容\n\n再延申到最後一個原因，想作的事與正在作的事。  \n其實我很清楚，這兩者要相同並沒有那邊容易，  \n想作的事還很模糊，而正在作的事很無聊。  \n過去一年基本上只是在抽字串，  \n或是將功能搬到 A 市場, 再搬到 B 市場，  \n而且真的只有搬，有沒有人用都不知道，業績如何也不知道，團隊作起來很沒有成就感。  \n\n而跟主系統(台灣市場)比較起來，A/B市場規模相對小，人力也少，  \n當有產品需求調整的情況，往往犧牲的都是A/B市場的，再由我們開發補丁作修正。  \n而不是一開始就以一個國際化的產品在設計產品，這樣作下來漸漸就提不勁了。  \n\n就業一段時間應該都知道，只有功勞沒有苦勞。  \n不賺錢，沒資源，更不賺錢，更沒資源是一種惡向循環。  \n\n我的解決方案，重新定位團隊目標，  \n所以我非常強力推動幾個項目的國際版標準化，  \n因為我認為這才是我們的核心項目。  \n\n### 彼得效應\n\n彼得效應其實是我在 C 社的功課，簡單的說就是碰到天花板了。  \n不論在能力上、薪資上或是發展性上都到了一個瓶頸，  \n這問題不只在我身上，在我的同儕、我的主管以及我周邊所有的人身上，  \n我以前會考慮，要如何才能延續我技術人員的生涯?  \n特別是在這個變化如此快速的時代。  \n\n目前我還沒有一個很完整的答案，不過我周邊的人離開了原本公司之後，  \n又遇到了相同的問題，討厭的主管/討厭的政治環境/討厭的工作內容，  \n在不同的公司，卻有相同離開的理由…  \n我目前的想法，不再只以「技術人員」作考量，  \n在薪資可接受的範圍下，我作為一個人，作為「我自已」我要如何讓自已盡可能的發展 ?  \n純技術是不是自我設限 ? 主管不會領導，那我能不能反過來引導他 ?  \n環境不喜歡，我能不能改變它 ? 人不喜歡，我能不能找到志同道合的夥伴 ?  \n\n### 身體因素，眼花花心慌慌\n\n去年 5 月身體微恙，其實自已有點被嚇到，  \n劇烈的頭痛外加短暫的視力消失，  \nN 社一直以來都有鼓勵用下班時間進行一些工作的文化，  \n包含午休時間的「分享」或讀書會，對我來說沒有不好，  \n但是貪多不得，反而傷害了身體，  \n這次病後，比較會注意自已的飲食與作習，  \n畢竟留得青山在不怕沒柴燒。  \n\n## 面試記錄\n\n講了一堆現在才要進到主題。\n先講結論，我愛的人不愛我，愛我的人我不愛。\n\n### Nxxx Bxxx\n\n純網銀的公司。慕名 N 社前 HR 大主管之名而去，  \n面試機會好像很難拿到，但是我運氣蠻好的，拿到了面試機會。  \n\n總共有三面，  \n第一面是技術職的面試(60mins)，只有閒聊工作上的經驗，沒考什麼技術。  \n有三個技術主管，聊起來的感覺人都蠻和善的。  \n技術棧並不確定，但是有很多機會，什麼都可以嚐試的感覺。  \n不太熟悉敏捷，但是宣稱一定會跑測試與自動化等功能。  \n\n第二面是 N 社的前主管(30mins)，合作的機會不多，所以互相聊了一下公司的進況。  \n另外我問了一些新聞八掛(肥貓啊、排名最後啊…)，也很坦率的回應，  \n他敢說我就敢信，基本上沒有逃避閃躲問題我覺得就 Ok 了  \n\n第三面是總經理，基本上不問你問題，  \n而是請你問問題，但是我覺得我沒有準備的很好，  \n只有問一下目前的目標與挑戰，回答是「活下去」  \n\nOffer : Get  \n\n### Txxxx\n\n社群上有名的「敏捷」公司，遊戲產業，  \n剛好有認識的人介紹之下去面試。  \n\n面試的內容，程式題一題，DB題一題，  \n不過相當的簡單，不太像是在找 Senior 的題目，  \n剩下的就是閒聊，不過可能是我聊的沒有很好，另外一個可能性，就是薪資的問題所以沒有上。  \n\n感覺比較差的兩點，  \n一個是 T 社找了我兩次，  \n兩次 HR 都說不論是否錄取都會通知，  \n但是兩次都沒有通知，  \n第二次去面試前我還有特別在通訊軟體上與 HR 確認是否會告知結果，  \n但是仍然是無聲卡。  \n\n第二點是兩次面試的題目一模一樣，  \n完全沒有變化，面試官也知道但好像也不是很介意，  \n但是以我面試者的角度會覺得這間公司在招慕上沒有什麼鑑別度。  \n\nOffer : 無聲卡 * 2  \n\n### Cxxxxxxxx\n\n主要作工程師媒合平台，是我非常喜歡的一間公司，  \n也是第一次線上面試，問題蠻廣泛的，但是我覺得我都回答得出來  \n只有問了一題 ACID 我沒有回答的很好，我有另文記錄。  \n總之就是我對 DB 的認識停留在預設值，而沒有考慮應該商業需求可能的調整。  \n\n另外我作了一些線上面試的小小 Retro，稍稍記錄一下  \n\n- 面向光源，不然你會臉會很黑\n- 保持背景單調乾淨\n- 跟同居的事先說好有面試，避免臨時打擾\n- 儘可能讓攝影機高過你的頭，不然看起來會很肥\n- 就算是凌晨面試也要梳洗，看起來比較有精神\n- 網路可能有延遲，可以稍等一下再回答問題\n\nOffer : Reject  \n\n### Fxxxxxxxxx\n\n後面好像有個富爸爸的收據公司，數位轉型作 CMS，  \n而且只針對 mobile 製作，聽起來工作內容蠻輕鬆的。  \n不過他們的瓶頸在 DB ，所以要找一個後端懂SQL的人。  \n只有一面，介紹產品還有面臨的問題，  \n技術棧算蠻新的，不過沒有CI/CD與自動化等工程。  \n\nCMS 是我蠻喜歡的 Topic , N 社現在也有在作，  \n但是我最後還是拒絕了。  \n\n主要的原因可能是，我覺得技術上好像沒有辦法在那邊得到進步。  \n\nOffer : Get\n\n### axxxxxx\n\n微軟 Teams 服務的合作廠商，主要作數位電話相關。  \n也是朋友介紹的公司，應該是第二次找我，  \n因為之前沒有很強烈的離職意願，所以沒有去面試。  \n特色的早上班早下班，大概 5 點就能下班了，據說不太加班，  \n一面，與美國主管線上訪談，這次有吃到 Cxxxxxxxx 的經驗，  \n所以聊得蠻順利的，美國主管有技術底，會講中文所以溝通無礙，  \n不過我一直以為他是美國人，其實是台灣人的樣子，只是在美國待久了有點口音。  \n\n二面，跟台灣當地主管面試，介紹產品與閒聊，  \n老實說工作環境與地點還有薪資我都蠻 OK 的，  \n當初有考慮過接收 Offer 的。  \n最後就是跟朋友閒聊，朋友是 C 社的前同事。  \n基本上就是一個小公司，產業蠻穩定的，那個職位也有很多機會，  \n但是成長就要靠自已了，現在想想還是會覺得放棄可惜。  \n\nOffer : Get  \n\n## 小結  \n\n我覺得定期作面試是很有幫助的，  \n他能帶來以下的好處，  \n\n- 了解市場需求，直接面對第一線的招幕才知道現在含金量最高的技術是什麼\n- 了解自已，過程中不斷評估自已要的東西(薪資、成就感、穩定、福利、名氣…)，什麼都是假的，離開(或留下)才是真的\n- 了解不足與市場的差距(特別是技術面)\n- 與不同產業的技術主管聊天，技術只是一種手段，不要忘記背後的商業目的\n\n家家有本難唸的經，不同的公司也有不同的難處，  \n時時檢視自已所處的環境，換或不換你都可以選擇，  \n成為更好的自已。  \n開始準備 2020 的履歷囉。  \n\n最後謝謝所以推薦我與面試我的人。\n\n(fin)\n","source":"_posts/2019/interview_log.md","raw":"---\ntitle: \"[生活筆記] 2019 InterView 心得分享\"\ndate: 2019/11/26 11:38:55\n---\n\n\n## 前言\n\n在 N 社 4 年了，一直以來都有一個習慣，就是每年都會定期開 CV，  \n有好的機會就去面試看看。  \n部門主管 C 哥在這部份相當開明。  \n我印象深刻是剛進公司時，他要大家寫 1 年後的履歷寄信給他再跟他 1-1。  \n他也鼓勵有好的機會就去試，重點是「以終為始」，搞清楚自已要的到底是什麼 ?  \n\n## 理由\n\n### 有比沒有好一點的敏捷\n\n我是一個理論的實踐者，如果有我認同的理想，  \n就會試著去實踐，可惜「理想很豐滿，現實很骨感」，  \n理論與實踐往往總是有一條橫溝。  \n這不是我想走的主因，但是如果我能找到橫溝一處較窄的地方。  \n我想我會毫不猶豫的走過去。  \n\n### 打不敗的通膨\n\n另一個理由就更現實了，「薪資」基本上4年來是沒有調整的，  \n當然我的計算方式比較特別。我是會考慮通膨率，  \n此外，在這個大前端的時代不知道為什麼我好像選錯了邊，  \n不得不說 F2E 的價金較高機會也較多。  \n而我在 C 社時期，其實是前後通吃的，但是不包含切版。  \n在 N 社我不止一次想轉換到 F2E 卻有以下幾個卡點，  \n\n1. 缺乏實際行動，僅止於與 F2E主管聊聊的階段\n2. 切版在 N 社 F2E 是必備技能，但不是我職涯規劃中準備投資的項目\n3. 過舊的技術棧 Angular 1.0 與 KnockOutjS 還有 KendoUI 等…\n4. F2E 與 RD 部門的 Silo\n\n重點我想還是在 1 ，其它項目其實都有漸漸在改變。\n\n### 工作內容\n\n再延申到最後一個原因，想作的事與正在作的事。  \n其實我很清楚，這兩者要相同並沒有那邊容易，  \n想作的事還很模糊，而正在作的事很無聊。  \n過去一年基本上只是在抽字串，  \n或是將功能搬到 A 市場, 再搬到 B 市場，  \n而且真的只有搬，有沒有人用都不知道，業績如何也不知道，團隊作起來很沒有成就感。  \n\n而跟主系統(台灣市場)比較起來，A/B市場規模相對小，人力也少，  \n當有產品需求調整的情況，往往犧牲的都是A/B市場的，再由我們開發補丁作修正。  \n而不是一開始就以一個國際化的產品在設計產品，這樣作下來漸漸就提不勁了。  \n\n就業一段時間應該都知道，只有功勞沒有苦勞。  \n不賺錢，沒資源，更不賺錢，更沒資源是一種惡向循環。  \n\n我的解決方案，重新定位團隊目標，  \n所以我非常強力推動幾個項目的國際版標準化，  \n因為我認為這才是我們的核心項目。  \n\n### 彼得效應\n\n彼得效應其實是我在 C 社的功課，簡單的說就是碰到天花板了。  \n不論在能力上、薪資上或是發展性上都到了一個瓶頸，  \n這問題不只在我身上，在我的同儕、我的主管以及我周邊所有的人身上，  \n我以前會考慮，要如何才能延續我技術人員的生涯?  \n特別是在這個變化如此快速的時代。  \n\n目前我還沒有一個很完整的答案，不過我周邊的人離開了原本公司之後，  \n又遇到了相同的問題，討厭的主管/討厭的政治環境/討厭的工作內容，  \n在不同的公司，卻有相同離開的理由…  \n我目前的想法，不再只以「技術人員」作考量，  \n在薪資可接受的範圍下，我作為一個人，作為「我自已」我要如何讓自已盡可能的發展 ?  \n純技術是不是自我設限 ? 主管不會領導，那我能不能反過來引導他 ?  \n環境不喜歡，我能不能改變它 ? 人不喜歡，我能不能找到志同道合的夥伴 ?  \n\n### 身體因素，眼花花心慌慌\n\n去年 5 月身體微恙，其實自已有點被嚇到，  \n劇烈的頭痛外加短暫的視力消失，  \nN 社一直以來都有鼓勵用下班時間進行一些工作的文化，  \n包含午休時間的「分享」或讀書會，對我來說沒有不好，  \n但是貪多不得，反而傷害了身體，  \n這次病後，比較會注意自已的飲食與作習，  \n畢竟留得青山在不怕沒柴燒。  \n\n## 面試記錄\n\n講了一堆現在才要進到主題。\n先講結論，我愛的人不愛我，愛我的人我不愛。\n\n### Nxxx Bxxx\n\n純網銀的公司。慕名 N 社前 HR 大主管之名而去，  \n面試機會好像很難拿到，但是我運氣蠻好的，拿到了面試機會。  \n\n總共有三面，  \n第一面是技術職的面試(60mins)，只有閒聊工作上的經驗，沒考什麼技術。  \n有三個技術主管，聊起來的感覺人都蠻和善的。  \n技術棧並不確定，但是有很多機會，什麼都可以嚐試的感覺。  \n不太熟悉敏捷，但是宣稱一定會跑測試與自動化等功能。  \n\n第二面是 N 社的前主管(30mins)，合作的機會不多，所以互相聊了一下公司的進況。  \n另外我問了一些新聞八掛(肥貓啊、排名最後啊…)，也很坦率的回應，  \n他敢說我就敢信，基本上沒有逃避閃躲問題我覺得就 Ok 了  \n\n第三面是總經理，基本上不問你問題，  \n而是請你問問題，但是我覺得我沒有準備的很好，  \n只有問一下目前的目標與挑戰，回答是「活下去」  \n\nOffer : Get  \n\n### Txxxx\n\n社群上有名的「敏捷」公司，遊戲產業，  \n剛好有認識的人介紹之下去面試。  \n\n面試的內容，程式題一題，DB題一題，  \n不過相當的簡單，不太像是在找 Senior 的題目，  \n剩下的就是閒聊，不過可能是我聊的沒有很好，另外一個可能性，就是薪資的問題所以沒有上。  \n\n感覺比較差的兩點，  \n一個是 T 社找了我兩次，  \n兩次 HR 都說不論是否錄取都會通知，  \n但是兩次都沒有通知，  \n第二次去面試前我還有特別在通訊軟體上與 HR 確認是否會告知結果，  \n但是仍然是無聲卡。  \n\n第二點是兩次面試的題目一模一樣，  \n完全沒有變化，面試官也知道但好像也不是很介意，  \n但是以我面試者的角度會覺得這間公司在招慕上沒有什麼鑑別度。  \n\nOffer : 無聲卡 * 2  \n\n### Cxxxxxxxx\n\n主要作工程師媒合平台，是我非常喜歡的一間公司，  \n也是第一次線上面試，問題蠻廣泛的，但是我覺得我都回答得出來  \n只有問了一題 ACID 我沒有回答的很好，我有另文記錄。  \n總之就是我對 DB 的認識停留在預設值，而沒有考慮應該商業需求可能的調整。  \n\n另外我作了一些線上面試的小小 Retro，稍稍記錄一下  \n\n- 面向光源，不然你會臉會很黑\n- 保持背景單調乾淨\n- 跟同居的事先說好有面試，避免臨時打擾\n- 儘可能讓攝影機高過你的頭，不然看起來會很肥\n- 就算是凌晨面試也要梳洗，看起來比較有精神\n- 網路可能有延遲，可以稍等一下再回答問題\n\nOffer : Reject  \n\n### Fxxxxxxxxx\n\n後面好像有個富爸爸的收據公司，數位轉型作 CMS，  \n而且只針對 mobile 製作，聽起來工作內容蠻輕鬆的。  \n不過他們的瓶頸在 DB ，所以要找一個後端懂SQL的人。  \n只有一面，介紹產品還有面臨的問題，  \n技術棧算蠻新的，不過沒有CI/CD與自動化等工程。  \n\nCMS 是我蠻喜歡的 Topic , N 社現在也有在作，  \n但是我最後還是拒絕了。  \n\n主要的原因可能是，我覺得技術上好像沒有辦法在那邊得到進步。  \n\nOffer : Get\n\n### axxxxxx\n\n微軟 Teams 服務的合作廠商，主要作數位電話相關。  \n也是朋友介紹的公司，應該是第二次找我，  \n因為之前沒有很強烈的離職意願，所以沒有去面試。  \n特色的早上班早下班，大概 5 點就能下班了，據說不太加班，  \n一面，與美國主管線上訪談，這次有吃到 Cxxxxxxxx 的經驗，  \n所以聊得蠻順利的，美國主管有技術底，會講中文所以溝通無礙，  \n不過我一直以為他是美國人，其實是台灣人的樣子，只是在美國待久了有點口音。  \n\n二面，跟台灣當地主管面試，介紹產品與閒聊，  \n老實說工作環境與地點還有薪資我都蠻 OK 的，  \n當初有考慮過接收 Offer 的。  \n最後就是跟朋友閒聊，朋友是 C 社的前同事。  \n基本上就是一個小公司，產業蠻穩定的，那個職位也有很多機會，  \n但是成長就要靠自已了，現在想想還是會覺得放棄可惜。  \n\nOffer : Get  \n\n## 小結  \n\n我覺得定期作面試是很有幫助的，  \n他能帶來以下的好處，  \n\n- 了解市場需求，直接面對第一線的招幕才知道現在含金量最高的技術是什麼\n- 了解自已，過程中不斷評估自已要的東西(薪資、成就感、穩定、福利、名氣…)，什麼都是假的，離開(或留下)才是真的\n- 了解不足與市場的差距(特別是技術面)\n- 與不同產業的技術主管聊天，技術只是一種手段，不要忘記背後的商業目的\n\n家家有本難唸的經，不同的公司也有不同的難處，  \n時時檢視自已所處的環境，換或不換你都可以選擇，  \n成為更好的自已。  \n開始準備 2020 的履歷囉。  \n\n最後謝謝所以推薦我與面試我的人。\n\n(fin)\n","slug":"2019/interview_log","published":1,"updated":"2019-11-26T10:35:21.213Z","_id":"ck3fq2wmd002tb0vx2pqg4gxp","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>在 N 社 4 年了，一直以來都有一個習慣，就是每年都會定期開 CV，<br>有好的機會就去面試看看。<br>部門主管 C 哥在這部份相當開明。<br>我印象深刻是剛進公司時，他要大家寫 1 年後的履歷寄信給他再跟他 1-1。<br>他也鼓勵有好的機會就去試，重點是「以終為始」，搞清楚自已要的到底是什麼 ?  </p>\n<h2 id=\"理由\"><a href=\"#理由\" class=\"headerlink\" title=\"理由\"></a>理由</h2><h3 id=\"有比沒有好一點的敏捷\"><a href=\"#有比沒有好一點的敏捷\" class=\"headerlink\" title=\"有比沒有好一點的敏捷\"></a>有比沒有好一點的敏捷</h3><p>我是一個理論的實踐者，如果有我認同的理想，<br>就會試著去實踐，可惜「理想很豐滿，現實很骨感」，<br>理論與實踐往往總是有一條橫溝。<br>這不是我想走的主因，但是如果我能找到橫溝一處較窄的地方。<br>我想我會毫不猶豫的走過去。  </p>\n<h3 id=\"打不敗的通膨\"><a href=\"#打不敗的通膨\" class=\"headerlink\" title=\"打不敗的通膨\"></a>打不敗的通膨</h3><p>另一個理由就更現實了，「薪資」基本上4年來是沒有調整的，<br>當然我的計算方式比較特別。我是會考慮通膨率，<br>此外，在這個大前端的時代不知道為什麼我好像選錯了邊，<br>不得不說 F2E 的價金較高機會也較多。<br>而我在 C 社時期，其實是前後通吃的，但是不包含切版。<br>在 N 社我不止一次想轉換到 F2E 卻有以下幾個卡點，  </p>\n<ol>\n<li>缺乏實際行動，僅止於與 F2E主管聊聊的階段</li>\n<li>切版在 N 社 F2E 是必備技能，但不是我職涯規劃中準備投資的項目</li>\n<li>過舊的技術棧 Angular 1.0 與 KnockOutjS 還有 KendoUI 等…</li>\n<li>F2E 與 RD 部門的 Silo</li>\n</ol>\n<p>重點我想還是在 1 ，其它項目其實都有漸漸在改變。</p>\n<h3 id=\"工作內容\"><a href=\"#工作內容\" class=\"headerlink\" title=\"工作內容\"></a>工作內容</h3><p>再延申到最後一個原因，想作的事與正在作的事。<br>其實我很清楚，這兩者要相同並沒有那邊容易，<br>想作的事還很模糊，而正在作的事很無聊。<br>過去一年基本上只是在抽字串，<br>或是將功能搬到 A 市場, 再搬到 B 市場，<br>而且真的只有搬，有沒有人用都不知道，業績如何也不知道，團隊作起來很沒有成就感。  </p>\n<p>而跟主系統(台灣市場)比較起來，A/B市場規模相對小，人力也少，<br>當有產品需求調整的情況，往往犧牲的都是A/B市場的，再由我們開發補丁作修正。<br>而不是一開始就以一個國際化的產品在設計產品，這樣作下來漸漸就提不勁了。  </p>\n<p>就業一段時間應該都知道，只有功勞沒有苦勞。<br>不賺錢，沒資源，更不賺錢，更沒資源是一種惡向循環。  </p>\n<p>我的解決方案，重新定位團隊目標，<br>所以我非常強力推動幾個項目的國際版標準化，<br>因為我認為這才是我們的核心項目。  </p>\n<h3 id=\"彼得效應\"><a href=\"#彼得效應\" class=\"headerlink\" title=\"彼得效應\"></a>彼得效應</h3><p>彼得效應其實是我在 C 社的功課，簡單的說就是碰到天花板了。<br>不論在能力上、薪資上或是發展性上都到了一個瓶頸，<br>這問題不只在我身上，在我的同儕、我的主管以及我周邊所有的人身上，<br>我以前會考慮，要如何才能延續我技術人員的生涯?<br>特別是在這個變化如此快速的時代。  </p>\n<p>目前我還沒有一個很完整的答案，不過我周邊的人離開了原本公司之後，<br>又遇到了相同的問題，討厭的主管/討厭的政治環境/討厭的工作內容，<br>在不同的公司，卻有相同離開的理由…<br>我目前的想法，不再只以「技術人員」作考量，<br>在薪資可接受的範圍下，我作為一個人，作為「我自已」我要如何讓自已盡可能的發展 ?<br>純技術是不是自我設限 ? 主管不會領導，那我能不能反過來引導他 ?<br>環境不喜歡，我能不能改變它 ? 人不喜歡，我能不能找到志同道合的夥伴 ?  </p>\n<h3 id=\"身體因素，眼花花心慌慌\"><a href=\"#身體因素，眼花花心慌慌\" class=\"headerlink\" title=\"身體因素，眼花花心慌慌\"></a>身體因素，眼花花心慌慌</h3><p>去年 5 月身體微恙，其實自已有點被嚇到，<br>劇烈的頭痛外加短暫的視力消失，<br>N 社一直以來都有鼓勵用下班時間進行一些工作的文化，<br>包含午休時間的「分享」或讀書會，對我來說沒有不好，<br>但是貪多不得，反而傷害了身體，<br>這次病後，比較會注意自已的飲食與作習，<br>畢竟留得青山在不怕沒柴燒。  </p>\n<h2 id=\"面試記錄\"><a href=\"#面試記錄\" class=\"headerlink\" title=\"面試記錄\"></a>面試記錄</h2><p>講了一堆現在才要進到主題。<br>先講結論，我愛的人不愛我，愛我的人我不愛。</p>\n<h3 id=\"Nxxx-Bxxx\"><a href=\"#Nxxx-Bxxx\" class=\"headerlink\" title=\"Nxxx Bxxx\"></a>Nxxx Bxxx</h3><p>純網銀的公司。慕名 N 社前 HR 大主管之名而去，<br>面試機會好像很難拿到，但是我運氣蠻好的，拿到了面試機會。  </p>\n<p>總共有三面，<br>第一面是技術職的面試(60mins)，只有閒聊工作上的經驗，沒考什麼技術。<br>有三個技術主管，聊起來的感覺人都蠻和善的。<br>技術棧並不確定，但是有很多機會，什麼都可以嚐試的感覺。<br>不太熟悉敏捷，但是宣稱一定會跑測試與自動化等功能。  </p>\n<p>第二面是 N 社的前主管(30mins)，合作的機會不多，所以互相聊了一下公司的進況。<br>另外我問了一些新聞八掛(肥貓啊、排名最後啊…)，也很坦率的回應，<br>他敢說我就敢信，基本上沒有逃避閃躲問題我覺得就 Ok 了  </p>\n<p>第三面是總經理，基本上不問你問題，<br>而是請你問問題，但是我覺得我沒有準備的很好，<br>只有問一下目前的目標與挑戰，回答是「活下去」  </p>\n<p>Offer : Get  </p>\n<h3 id=\"Txxxx\"><a href=\"#Txxxx\" class=\"headerlink\" title=\"Txxxx\"></a>Txxxx</h3><p>社群上有名的「敏捷」公司，遊戲產業，<br>剛好有認識的人介紹之下去面試。  </p>\n<p>面試的內容，程式題一題，DB題一題，<br>不過相當的簡單，不太像是在找 Senior 的題目，<br>剩下的就是閒聊，不過可能是我聊的沒有很好，另外一個可能性，就是薪資的問題所以沒有上。  </p>\n<p>感覺比較差的兩點，<br>一個是 T 社找了我兩次，<br>兩次 HR 都說不論是否錄取都會通知，<br>但是兩次都沒有通知，<br>第二次去面試前我還有特別在通訊軟體上與 HR 確認是否會告知結果，<br>但是仍然是無聲卡。  </p>\n<p>第二點是兩次面試的題目一模一樣，<br>完全沒有變化，面試官也知道但好像也不是很介意，<br>但是以我面試者的角度會覺得這間公司在招慕上沒有什麼鑑別度。  </p>\n<p>Offer : 無聲卡 * 2  </p>\n<h3 id=\"Cxxxxxxxx\"><a href=\"#Cxxxxxxxx\" class=\"headerlink\" title=\"Cxxxxxxxx\"></a>Cxxxxxxxx</h3><p>主要作工程師媒合平台，是我非常喜歡的一間公司，<br>也是第一次線上面試，問題蠻廣泛的，但是我覺得我都回答得出來<br>只有問了一題 ACID 我沒有回答的很好，我有另文記錄。<br>總之就是我對 DB 的認識停留在預設值，而沒有考慮應該商業需求可能的調整。  </p>\n<p>另外我作了一些線上面試的小小 Retro，稍稍記錄一下  </p>\n<ul>\n<li>面向光源，不然你會臉會很黑</li>\n<li>保持背景單調乾淨</li>\n<li>跟同居的事先說好有面試，避免臨時打擾</li>\n<li>儘可能讓攝影機高過你的頭，不然看起來會很肥</li>\n<li>就算是凌晨面試也要梳洗，看起來比較有精神</li>\n<li>網路可能有延遲，可以稍等一下再回答問題</li>\n</ul>\n<p>Offer : Reject  </p>\n<h3 id=\"Fxxxxxxxxx\"><a href=\"#Fxxxxxxxxx\" class=\"headerlink\" title=\"Fxxxxxxxxx\"></a>Fxxxxxxxxx</h3><p>後面好像有個富爸爸的收據公司，數位轉型作 CMS，<br>而且只針對 mobile 製作，聽起來工作內容蠻輕鬆的。<br>不過他們的瓶頸在 DB ，所以要找一個後端懂SQL的人。<br>只有一面，介紹產品還有面臨的問題，<br>技術棧算蠻新的，不過沒有CI/CD與自動化等工程。  </p>\n<p>CMS 是我蠻喜歡的 Topic , N 社現在也有在作，<br>但是我最後還是拒絕了。  </p>\n<p>主要的原因可能是，我覺得技術上好像沒有辦法在那邊得到進步。  </p>\n<p>Offer : Get</p>\n<h3 id=\"axxxxxx\"><a href=\"#axxxxxx\" class=\"headerlink\" title=\"axxxxxx\"></a>axxxxxx</h3><p>微軟 Teams 服務的合作廠商，主要作數位電話相關。<br>也是朋友介紹的公司，應該是第二次找我，<br>因為之前沒有很強烈的離職意願，所以沒有去面試。<br>特色的早上班早下班，大概 5 點就能下班了，據說不太加班，<br>一面，與美國主管線上訪談，這次有吃到 Cxxxxxxxx 的經驗，<br>所以聊得蠻順利的，美國主管有技術底，會講中文所以溝通無礙，<br>不過我一直以為他是美國人，其實是台灣人的樣子，只是在美國待久了有點口音。  </p>\n<p>二面，跟台灣當地主管面試，介紹產品與閒聊，<br>老實說工作環境與地點還有薪資我都蠻 OK 的，<br>當初有考慮過接收 Offer 的。<br>最後就是跟朋友閒聊，朋友是 C 社的前同事。<br>基本上就是一個小公司，產業蠻穩定的，那個職位也有很多機會，<br>但是成長就要靠自已了，現在想想還是會覺得放棄可惜。  </p>\n<p>Offer : Get  </p>\n<h2 id=\"小結\"><a href=\"#小結\" class=\"headerlink\" title=\"小結\"></a>小結</h2><p>我覺得定期作面試是很有幫助的，<br>他能帶來以下的好處，  </p>\n<ul>\n<li>了解市場需求，直接面對第一線的招幕才知道現在含金量最高的技術是什麼</li>\n<li>了解自已，過程中不斷評估自已要的東西(薪資、成就感、穩定、福利、名氣…)，什麼都是假的，離開(或留下)才是真的</li>\n<li>了解不足與市場的差距(特別是技術面)</li>\n<li>與不同產業的技術主管聊天，技術只是一種手段，不要忘記背後的商業目的</li>\n</ul>\n<p>家家有本難唸的經，不同的公司也有不同的難處，<br>時時檢視自已所處的環境，換或不換你都可以選擇，<br>成為更好的自已。<br>開始準備 2020 的履歷囉。  </p>\n<p>最後謝謝所以推薦我與面試我的人。</p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>在 N 社 4 年了，一直以來都有一個習慣，就是每年都會定期開 CV，<br>有好的機會就去面試看看。<br>部門主管 C 哥在這部份相當開明。<br>我印象深刻是剛進公司時，他要大家寫 1 年後的履歷寄信給他再跟他 1-1。<br>他也鼓勵有好的機會就去試，重點是「以終為始」，搞清楚自已要的到底是什麼 ?  </p>\n<h2 id=\"理由\"><a href=\"#理由\" class=\"headerlink\" title=\"理由\"></a>理由</h2><h3 id=\"有比沒有好一點的敏捷\"><a href=\"#有比沒有好一點的敏捷\" class=\"headerlink\" title=\"有比沒有好一點的敏捷\"></a>有比沒有好一點的敏捷</h3><p>我是一個理論的實踐者，如果有我認同的理想，<br>就會試著去實踐，可惜「理想很豐滿，現實很骨感」，<br>理論與實踐往往總是有一條橫溝。<br>這不是我想走的主因，但是如果我能找到橫溝一處較窄的地方。<br>我想我會毫不猶豫的走過去。  </p>\n<h3 id=\"打不敗的通膨\"><a href=\"#打不敗的通膨\" class=\"headerlink\" title=\"打不敗的通膨\"></a>打不敗的通膨</h3><p>另一個理由就更現實了，「薪資」基本上4年來是沒有調整的，<br>當然我的計算方式比較特別。我是會考慮通膨率，<br>此外，在這個大前端的時代不知道為什麼我好像選錯了邊，<br>不得不說 F2E 的價金較高機會也較多。<br>而我在 C 社時期，其實是前後通吃的，但是不包含切版。<br>在 N 社我不止一次想轉換到 F2E 卻有以下幾個卡點，  </p>\n<ol>\n<li>缺乏實際行動，僅止於與 F2E主管聊聊的階段</li>\n<li>切版在 N 社 F2E 是必備技能，但不是我職涯規劃中準備投資的項目</li>\n<li>過舊的技術棧 Angular 1.0 與 KnockOutjS 還有 KendoUI 等…</li>\n<li>F2E 與 RD 部門的 Silo</li>\n</ol>\n<p>重點我想還是在 1 ，其它項目其實都有漸漸在改變。</p>\n<h3 id=\"工作內容\"><a href=\"#工作內容\" class=\"headerlink\" title=\"工作內容\"></a>工作內容</h3><p>再延申到最後一個原因，想作的事與正在作的事。<br>其實我很清楚，這兩者要相同並沒有那邊容易，<br>想作的事還很模糊，而正在作的事很無聊。<br>過去一年基本上只是在抽字串，<br>或是將功能搬到 A 市場, 再搬到 B 市場，<br>而且真的只有搬，有沒有人用都不知道，業績如何也不知道，團隊作起來很沒有成就感。  </p>\n<p>而跟主系統(台灣市場)比較起來，A/B市場規模相對小，人力也少，<br>當有產品需求調整的情況，往往犧牲的都是A/B市場的，再由我們開發補丁作修正。<br>而不是一開始就以一個國際化的產品在設計產品，這樣作下來漸漸就提不勁了。  </p>\n<p>就業一段時間應該都知道，只有功勞沒有苦勞。<br>不賺錢，沒資源，更不賺錢，更沒資源是一種惡向循環。  </p>\n<p>我的解決方案，重新定位團隊目標，<br>所以我非常強力推動幾個項目的國際版標準化，<br>因為我認為這才是我們的核心項目。  </p>\n<h3 id=\"彼得效應\"><a href=\"#彼得效應\" class=\"headerlink\" title=\"彼得效應\"></a>彼得效應</h3><p>彼得效應其實是我在 C 社的功課，簡單的說就是碰到天花板了。<br>不論在能力上、薪資上或是發展性上都到了一個瓶頸，<br>這問題不只在我身上，在我的同儕、我的主管以及我周邊所有的人身上，<br>我以前會考慮，要如何才能延續我技術人員的生涯?<br>特別是在這個變化如此快速的時代。  </p>\n<p>目前我還沒有一個很完整的答案，不過我周邊的人離開了原本公司之後，<br>又遇到了相同的問題，討厭的主管/討厭的政治環境/討厭的工作內容，<br>在不同的公司，卻有相同離開的理由…<br>我目前的想法，不再只以「技術人員」作考量，<br>在薪資可接受的範圍下，我作為一個人，作為「我自已」我要如何讓自已盡可能的發展 ?<br>純技術是不是自我設限 ? 主管不會領導，那我能不能反過來引導他 ?<br>環境不喜歡，我能不能改變它 ? 人不喜歡，我能不能找到志同道合的夥伴 ?  </p>\n<h3 id=\"身體因素，眼花花心慌慌\"><a href=\"#身體因素，眼花花心慌慌\" class=\"headerlink\" title=\"身體因素，眼花花心慌慌\"></a>身體因素，眼花花心慌慌</h3><p>去年 5 月身體微恙，其實自已有點被嚇到，<br>劇烈的頭痛外加短暫的視力消失，<br>N 社一直以來都有鼓勵用下班時間進行一些工作的文化，<br>包含午休時間的「分享」或讀書會，對我來說沒有不好，<br>但是貪多不得，反而傷害了身體，<br>這次病後，比較會注意自已的飲食與作習，<br>畢竟留得青山在不怕沒柴燒。  </p>\n<h2 id=\"面試記錄\"><a href=\"#面試記錄\" class=\"headerlink\" title=\"面試記錄\"></a>面試記錄</h2><p>講了一堆現在才要進到主題。<br>先講結論，我愛的人不愛我，愛我的人我不愛。</p>\n<h3 id=\"Nxxx-Bxxx\"><a href=\"#Nxxx-Bxxx\" class=\"headerlink\" title=\"Nxxx Bxxx\"></a>Nxxx Bxxx</h3><p>純網銀的公司。慕名 N 社前 HR 大主管之名而去，<br>面試機會好像很難拿到，但是我運氣蠻好的，拿到了面試機會。  </p>\n<p>總共有三面，<br>第一面是技術職的面試(60mins)，只有閒聊工作上的經驗，沒考什麼技術。<br>有三個技術主管，聊起來的感覺人都蠻和善的。<br>技術棧並不確定，但是有很多機會，什麼都可以嚐試的感覺。<br>不太熟悉敏捷，但是宣稱一定會跑測試與自動化等功能。  </p>\n<p>第二面是 N 社的前主管(30mins)，合作的機會不多，所以互相聊了一下公司的進況。<br>另外我問了一些新聞八掛(肥貓啊、排名最後啊…)，也很坦率的回應，<br>他敢說我就敢信，基本上沒有逃避閃躲問題我覺得就 Ok 了  </p>\n<p>第三面是總經理，基本上不問你問題，<br>而是請你問問題，但是我覺得我沒有準備的很好，<br>只有問一下目前的目標與挑戰，回答是「活下去」  </p>\n<p>Offer : Get  </p>\n<h3 id=\"Txxxx\"><a href=\"#Txxxx\" class=\"headerlink\" title=\"Txxxx\"></a>Txxxx</h3><p>社群上有名的「敏捷」公司，遊戲產業，<br>剛好有認識的人介紹之下去面試。  </p>\n<p>面試的內容，程式題一題，DB題一題，<br>不過相當的簡單，不太像是在找 Senior 的題目，<br>剩下的就是閒聊，不過可能是我聊的沒有很好，另外一個可能性，就是薪資的問題所以沒有上。  </p>\n<p>感覺比較差的兩點，<br>一個是 T 社找了我兩次，<br>兩次 HR 都說不論是否錄取都會通知，<br>但是兩次都沒有通知，<br>第二次去面試前我還有特別在通訊軟體上與 HR 確認是否會告知結果，<br>但是仍然是無聲卡。  </p>\n<p>第二點是兩次面試的題目一模一樣，<br>完全沒有變化，面試官也知道但好像也不是很介意，<br>但是以我面試者的角度會覺得這間公司在招慕上沒有什麼鑑別度。  </p>\n<p>Offer : 無聲卡 * 2  </p>\n<h3 id=\"Cxxxxxxxx\"><a href=\"#Cxxxxxxxx\" class=\"headerlink\" title=\"Cxxxxxxxx\"></a>Cxxxxxxxx</h3><p>主要作工程師媒合平台，是我非常喜歡的一間公司，<br>也是第一次線上面試，問題蠻廣泛的，但是我覺得我都回答得出來<br>只有問了一題 ACID 我沒有回答的很好，我有另文記錄。<br>總之就是我對 DB 的認識停留在預設值，而沒有考慮應該商業需求可能的調整。  </p>\n<p>另外我作了一些線上面試的小小 Retro，稍稍記錄一下  </p>\n<ul>\n<li>面向光源，不然你會臉會很黑</li>\n<li>保持背景單調乾淨</li>\n<li>跟同居的事先說好有面試，避免臨時打擾</li>\n<li>儘可能讓攝影機高過你的頭，不然看起來會很肥</li>\n<li>就算是凌晨面試也要梳洗，看起來比較有精神</li>\n<li>網路可能有延遲，可以稍等一下再回答問題</li>\n</ul>\n<p>Offer : Reject  </p>\n<h3 id=\"Fxxxxxxxxx\"><a href=\"#Fxxxxxxxxx\" class=\"headerlink\" title=\"Fxxxxxxxxx\"></a>Fxxxxxxxxx</h3><p>後面好像有個富爸爸的收據公司，數位轉型作 CMS，<br>而且只針對 mobile 製作，聽起來工作內容蠻輕鬆的。<br>不過他們的瓶頸在 DB ，所以要找一個後端懂SQL的人。<br>只有一面，介紹產品還有面臨的問題，<br>技術棧算蠻新的，不過沒有CI/CD與自動化等工程。  </p>\n<p>CMS 是我蠻喜歡的 Topic , N 社現在也有在作，<br>但是我最後還是拒絕了。  </p>\n<p>主要的原因可能是，我覺得技術上好像沒有辦法在那邊得到進步。  </p>\n<p>Offer : Get</p>\n<h3 id=\"axxxxxx\"><a href=\"#axxxxxx\" class=\"headerlink\" title=\"axxxxxx\"></a>axxxxxx</h3><p>微軟 Teams 服務的合作廠商，主要作數位電話相關。<br>也是朋友介紹的公司，應該是第二次找我，<br>因為之前沒有很強烈的離職意願，所以沒有去面試。<br>特色的早上班早下班，大概 5 點就能下班了，據說不太加班，<br>一面，與美國主管線上訪談，這次有吃到 Cxxxxxxxx 的經驗，<br>所以聊得蠻順利的，美國主管有技術底，會講中文所以溝通無礙，<br>不過我一直以為他是美國人，其實是台灣人的樣子，只是在美國待久了有點口音。  </p>\n<p>二面，跟台灣當地主管面試，介紹產品與閒聊，<br>老實說工作環境與地點還有薪資我都蠻 OK 的，<br>當初有考慮過接收 Offer 的。<br>最後就是跟朋友閒聊，朋友是 C 社的前同事。<br>基本上就是一個小公司，產業蠻穩定的，那個職位也有很多機會，<br>但是成長就要靠自已了，現在想想還是會覺得放棄可惜。  </p>\n<p>Offer : Get  </p>\n<h2 id=\"小結\"><a href=\"#小結\" class=\"headerlink\" title=\"小結\"></a>小結</h2><p>我覺得定期作面試是很有幫助的，<br>他能帶來以下的好處，  </p>\n<ul>\n<li>了解市場需求，直接面對第一線的招幕才知道現在含金量最高的技術是什麼</li>\n<li>了解自已，過程中不斷評估自已要的東西(薪資、成就感、穩定、福利、名氣…)，什麼都是假的，離開(或留下)才是真的</li>\n<li>了解不足與市場的差距(特別是技術面)</li>\n<li>與不同產業的技術主管聊天，技術只是一種手段，不要忘記背後的商業目的</li>\n</ul>\n<p>家家有本難唸的經，不同的公司也有不同的難處，<br>時時檢視自已所處的環境，換或不換你都可以選擇，<br>成為更好的自已。<br>開始準備 2020 的履歷囉。  </p>\n<p>最後謝謝所以推薦我與面試我的人。</p>\n<p>(fin)</p>\n"},{"title":"[N社筆記] 在公司小規模玩 Coding Dojo ","date":"2019-01-29T17:41:17.000Z","_content":"## 前情提要\n在上 91 大的([熱血 Coding Dojo 第一梯次](https://blog.marsen.me/2019/01/13/2019/91_coding_dojo_log/))的課程中，  \n我一直在思索一件事，**為什麼我作不到呢？**\n\n![我什麼時候才能成角啊](/images/2019/1/be_a_star.jpg)\n\n我不希望只是上了課之後，「喔喔喔 我好興奮啊...」就結束了，  \n所以馬上找了一起上課的兩個同事開了個簡單的 Retro  \n我只有一個問題，  \n「如果你覺得這堂課有效的話，我們要作什麼 才能帶來改變呢 ?」  \n\n## 開起小型 Dojo\n\n我們簡單的作了一個決定，我們要在公司內部建立一個 Dojo  \n並且簡單的訂定了三個目標\n\n1. 學習 Pair ，並透過 Pair 彼此學習\n2. 學習 TDD ，並透過 TDD 學習重構\n3. 學習 Vim，並提昇開發速度\n\n這三個東西都是在課堂上學習到的，幸運得是我們當中有兩位已經會基本的 Vim 指令，  \n當然也各有各的問題，ex: 不熟悉英打、沒有 Reshaper 、找不到共同的時間等…\n\n總而言之，我們就這樣開始了。\n\n### 第一個 Kata\n\n第一個 Kata 是很重要的，[Coding Dojo](http://codingdojo.org/kata/)提供我們一些選擇，\nTennis Game 與 Pocker Hand 都是很好的題目，\n但是新手上路，我們選了一個簡單的 [Fizz Buzz](http://codingdojo.org/kata/FizzBuzz/) 當作練習題目。\nFizz Buzz 的需求分析是很簡單的，  \n\n1. 傳入 1 數，可以被 3 整除，回傳 Fizz\n2. 傳入 1 數，可以被 5 整除，回傳 Buzz\n3. 傳入 1 數，可以被 3 整除，且可以被 5 整除，回傳 FizzBuzz\n4. 不符合上述條件回傳原數值\n\nSample Case:\n```\n1 → 1\n2 → 2\n3 → Fizz\n4 → 4\n5 → Buzz\n6 → Fizz\n7 → 7\n8 → 8\n9 → Fizz\n10 → Buzz\n11 → 11\n12 → Fizz\n13 → 13\n14 → 14\n15 → FizzBuzz\n```\n\n### 怎麼開始？\n首先是時間，專案很忙碌，不是所有的人都有空，  \n我要怎麼擠出時間 ？  \n\n### 利用 Timebox 與 Don't Break The chain\n每天都練習 KATA，每次 30 分鐘；  \n每天約定一個時間 30 分鐘，30 分鐘到就強制結束，  \n不論是中午的 30 分鐘，或是下班前的 30 分鐘，  \n找一個時間只要有兩個人的時間 OK 就進行 。  \n輪流當 Dirver 與 Navigator ，時間設定 5 分鐘，  \n一樣時間到就換手。\n\n```\n嚴格執行 Timebox 真的是一件很折磨人的事情，  \n特別是有一些火花的討論出現時，\n但是隨著每次的 Timebox 的結束，\n看到的成果比上一次多時，  \n那種進步感是相同明顯的。\n```\n\n很幸運的，一直到過農曆年我們都沒有中斷，  \n設定 Timebox 也確實有讓參與的人提昇，  \n包含「重構的技巧」、「打字」、「TDD」與「Vim」，  \n也有人分享工具，或是小技巧，  \n這達到我們**彼此學習**的目的。  \n\n### 回顧一下作得好的部份\n1. 雖然很困難，有線上的問題要處理，有工作項目，有一堆會議，但是我們仍然沒有中斷過一天。\n2. 完成了兩個 Kata ，經典的 FizzBuzz 還有很類似的題目 FooBarQix。\n3. 確實有從彼此身上學到東西，比如說在 Vim 裡面超好用的 `ci` 或是 AceJump 小工具。\n4. 人數控制的很好，押在 3 到 5 人，也讓大家都能參與到。\n5. 最重要的一點，看到了很多「真實」\n\n### 作得不好的部份\n1. 環境有一些前期門檻在，ex: Reshaper、已配置過的 VimRC\n2. Timebox 有時候仍會超過，主因是討論太熱情了。\n3. 整體成員都算有經驗的開發者，但是對重構仍然很弱，對壞味道麻痺(不在意重複等…)\n4. TDD 有時候沒辦法作到 Baby Step ，雖然重構是成功的，但過程有點跳躍；或是重構完才發現測試壞一大片，需要偵錯去修正。\n5. 雖然有記錄一些問題，但是常常沒有去求解答\n\n### 真實的部份\n1. 我們常常看到重複視而不見，特別是只有兩、三次的重複\n   - 這題成員的看法比較貼近大量重複再重構…我仍然有點持疑  \n2. 因為時間壓力，我們會把問題留給後人；我們不會去理解前人的設計\n   - 時間壓力可以換成任何理由\n3. Navigator 如果沒有思考 Dirver 會開 Auto\n\n我們開發者真的太有自信，在 Kata 過程出現的問題，  \n如果放到開發現場的規模，基本上就是災難，\n而實際上也是每天發生。\n\n在時限的壓力下，你不能作出多完美的設計，  \n但是你可以透過測試作出足夠好的設計，  \n測試的保護可以幫助你提早發現\n\n## 下一步是 ？\n\n一直以來有那麼多讀書會，上了那麼多課，  \n也有外訓內訓，結果卻是不了了之，\n要怎麼証明理論有效 ？  \n要怎麼導入開發現場 ？\n\n[我們的成果](https://github.com/marsen/Coding_Dojo_Csharp)\n\n## 寫在後面\n\n我不是本科系畢業，但在軟體開發上也有 7、8 年的經驗，  \n軟體的經典書籍也看過不少，  \n不論是免費的社群活動或是上萬元的課程，  \n相關的課也上了不少。  \n\n學習單一語言的特性或是設計模式、物件導向到工程上的 Code Review、Pair Programming、TDD 諸如此類等…  \n不能說沒有幫助，但總覺得現實與書上的理想好遠啊…  \n我以為我懂了，其實我根本不懂。  \n\n技術不斷推陳出新，追不勝追，  \n常常工作完後研究或是練習到半夜，  \n但是沒什麼效果，或在實務上根本用不到  \n真得很有事倍功半的無力感。  \n\n在工作上的產品或專案永遠都有**緊急又重要**的事要作，  \n人家的艾森豪矩陣有四個象限，你永遠只有一個象限，  \n生活上各種的壓力與瑣事，變成了種惡性循環，  \n像個泥沼一般，無法提昇所以下沉，下沉了更無法提昇。  \n\n這個小小實驗，就像是整個開發現場的濃縮版，  \n現場很多問題不是沒有解答，  \n但是常常一句「理論上是，但是…」，然後就沒有然後了。  \n我們太習慣短解，太過自信，讓不好的事情重複發生，  \n然後覺得自已很忙碌，很有價值感，  \n但是沒有任何改變。\n\n這個實驗我會繼續下去，期待能有好的結果，並帶來一些變化。  \n\n## 參考\n- [marsen/Coding_Dojo_Csharp](https://github.com/marsen/Coding_Dojo_Csharp)\n- [Coding Dojo](http://codingdojo.org/KataCatalogue/)\n\n(fin)","source":"_posts/2019/coding_dojo_in_company.md","raw":"---\ntitle: \"[N社筆記] 在公司小規模玩 Coding Dojo \"\ndate: 2019/01/30 01:41:17\ntag:\n  - TDD\n  - 重構\n  - Unit Testing\n  - Vim\n---\n## 前情提要\n在上 91 大的([熱血 Coding Dojo 第一梯次](https://blog.marsen.me/2019/01/13/2019/91_coding_dojo_log/))的課程中，  \n我一直在思索一件事，**為什麼我作不到呢？**\n\n![我什麼時候才能成角啊](/images/2019/1/be_a_star.jpg)\n\n我不希望只是上了課之後，「喔喔喔 我好興奮啊...」就結束了，  \n所以馬上找了一起上課的兩個同事開了個簡單的 Retro  \n我只有一個問題，  \n「如果你覺得這堂課有效的話，我們要作什麼 才能帶來改變呢 ?」  \n\n## 開起小型 Dojo\n\n我們簡單的作了一個決定，我們要在公司內部建立一個 Dojo  \n並且簡單的訂定了三個目標\n\n1. 學習 Pair ，並透過 Pair 彼此學習\n2. 學習 TDD ，並透過 TDD 學習重構\n3. 學習 Vim，並提昇開發速度\n\n這三個東西都是在課堂上學習到的，幸運得是我們當中有兩位已經會基本的 Vim 指令，  \n當然也各有各的問題，ex: 不熟悉英打、沒有 Reshaper 、找不到共同的時間等…\n\n總而言之，我們就這樣開始了。\n\n### 第一個 Kata\n\n第一個 Kata 是很重要的，[Coding Dojo](http://codingdojo.org/kata/)提供我們一些選擇，\nTennis Game 與 Pocker Hand 都是很好的題目，\n但是新手上路，我們選了一個簡單的 [Fizz Buzz](http://codingdojo.org/kata/FizzBuzz/) 當作練習題目。\nFizz Buzz 的需求分析是很簡單的，  \n\n1. 傳入 1 數，可以被 3 整除，回傳 Fizz\n2. 傳入 1 數，可以被 5 整除，回傳 Buzz\n3. 傳入 1 數，可以被 3 整除，且可以被 5 整除，回傳 FizzBuzz\n4. 不符合上述條件回傳原數值\n\nSample Case:\n```\n1 → 1\n2 → 2\n3 → Fizz\n4 → 4\n5 → Buzz\n6 → Fizz\n7 → 7\n8 → 8\n9 → Fizz\n10 → Buzz\n11 → 11\n12 → Fizz\n13 → 13\n14 → 14\n15 → FizzBuzz\n```\n\n### 怎麼開始？\n首先是時間，專案很忙碌，不是所有的人都有空，  \n我要怎麼擠出時間 ？  \n\n### 利用 Timebox 與 Don't Break The chain\n每天都練習 KATA，每次 30 分鐘；  \n每天約定一個時間 30 分鐘，30 分鐘到就強制結束，  \n不論是中午的 30 分鐘，或是下班前的 30 分鐘，  \n找一個時間只要有兩個人的時間 OK 就進行 。  \n輪流當 Dirver 與 Navigator ，時間設定 5 分鐘，  \n一樣時間到就換手。\n\n```\n嚴格執行 Timebox 真的是一件很折磨人的事情，  \n特別是有一些火花的討論出現時，\n但是隨著每次的 Timebox 的結束，\n看到的成果比上一次多時，  \n那種進步感是相同明顯的。\n```\n\n很幸運的，一直到過農曆年我們都沒有中斷，  \n設定 Timebox 也確實有讓參與的人提昇，  \n包含「重構的技巧」、「打字」、「TDD」與「Vim」，  \n也有人分享工具，或是小技巧，  \n這達到我們**彼此學習**的目的。  \n\n### 回顧一下作得好的部份\n1. 雖然很困難，有線上的問題要處理，有工作項目，有一堆會議，但是我們仍然沒有中斷過一天。\n2. 完成了兩個 Kata ，經典的 FizzBuzz 還有很類似的題目 FooBarQix。\n3. 確實有從彼此身上學到東西，比如說在 Vim 裡面超好用的 `ci` 或是 AceJump 小工具。\n4. 人數控制的很好，押在 3 到 5 人，也讓大家都能參與到。\n5. 最重要的一點，看到了很多「真實」\n\n### 作得不好的部份\n1. 環境有一些前期門檻在，ex: Reshaper、已配置過的 VimRC\n2. Timebox 有時候仍會超過，主因是討論太熱情了。\n3. 整體成員都算有經驗的開發者，但是對重構仍然很弱，對壞味道麻痺(不在意重複等…)\n4. TDD 有時候沒辦法作到 Baby Step ，雖然重構是成功的，但過程有點跳躍；或是重構完才發現測試壞一大片，需要偵錯去修正。\n5. 雖然有記錄一些問題，但是常常沒有去求解答\n\n### 真實的部份\n1. 我們常常看到重複視而不見，特別是只有兩、三次的重複\n   - 這題成員的看法比較貼近大量重複再重構…我仍然有點持疑  \n2. 因為時間壓力，我們會把問題留給後人；我們不會去理解前人的設計\n   - 時間壓力可以換成任何理由\n3. Navigator 如果沒有思考 Dirver 會開 Auto\n\n我們開發者真的太有自信，在 Kata 過程出現的問題，  \n如果放到開發現場的規模，基本上就是災難，\n而實際上也是每天發生。\n\n在時限的壓力下，你不能作出多完美的設計，  \n但是你可以透過測試作出足夠好的設計，  \n測試的保護可以幫助你提早發現\n\n## 下一步是 ？\n\n一直以來有那麼多讀書會，上了那麼多課，  \n也有外訓內訓，結果卻是不了了之，\n要怎麼証明理論有效 ？  \n要怎麼導入開發現場 ？\n\n[我們的成果](https://github.com/marsen/Coding_Dojo_Csharp)\n\n## 寫在後面\n\n我不是本科系畢業，但在軟體開發上也有 7、8 年的經驗，  \n軟體的經典書籍也看過不少，  \n不論是免費的社群活動或是上萬元的課程，  \n相關的課也上了不少。  \n\n學習單一語言的特性或是設計模式、物件導向到工程上的 Code Review、Pair Programming、TDD 諸如此類等…  \n不能說沒有幫助，但總覺得現實與書上的理想好遠啊…  \n我以為我懂了，其實我根本不懂。  \n\n技術不斷推陳出新，追不勝追，  \n常常工作完後研究或是練習到半夜，  \n但是沒什麼效果，或在實務上根本用不到  \n真得很有事倍功半的無力感。  \n\n在工作上的產品或專案永遠都有**緊急又重要**的事要作，  \n人家的艾森豪矩陣有四個象限，你永遠只有一個象限，  \n生活上各種的壓力與瑣事，變成了種惡性循環，  \n像個泥沼一般，無法提昇所以下沉，下沉了更無法提昇。  \n\n這個小小實驗，就像是整個開發現場的濃縮版，  \n現場很多問題不是沒有解答，  \n但是常常一句「理論上是，但是…」，然後就沒有然後了。  \n我們太習慣短解，太過自信，讓不好的事情重複發生，  \n然後覺得自已很忙碌，很有價值感，  \n但是沒有任何改變。\n\n這個實驗我會繼續下去，期待能有好的結果，並帶來一些變化。  \n\n## 參考\n- [marsen/Coding_Dojo_Csharp](https://github.com/marsen/Coding_Dojo_Csharp)\n- [Coding Dojo](http://codingdojo.org/KataCatalogue/)\n\n(fin)","slug":"2019/coding_dojo_in_company","published":1,"updated":"2019-06-10T14:43:28.948Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wmf002vb0vxwyddeax3","content":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>在上 91 大的(<a href=\"https://blog.marsen.me/2019/01/13/2019/91_coding_dojo_log/\">熱血 Coding Dojo 第一梯次</a>)的課程中，<br>我一直在思索一件事，<strong>為什麼我作不到呢？</strong></p>\n<p><img src=\"/images/2019/1/be_a_star.jpg\" alt=\"我什麼時候才能成角啊\"></p>\n<p>我不希望只是上了課之後，「喔喔喔 我好興奮啊…」就結束了，<br>所以馬上找了一起上課的兩個同事開了個簡單的 Retro<br>我只有一個問題，<br>「如果你覺得這堂課有效的話，我們要作什麼 才能帶來改變呢 ?」  </p>\n<h2 id=\"開起小型-Dojo\"><a href=\"#開起小型-Dojo\" class=\"headerlink\" title=\"開起小型 Dojo\"></a>開起小型 Dojo</h2><p>我們簡單的作了一個決定，我們要在公司內部建立一個 Dojo<br>並且簡單的訂定了三個目標</p>\n<ol>\n<li>學習 Pair ，並透過 Pair 彼此學習</li>\n<li>學習 TDD ，並透過 TDD 學習重構</li>\n<li>學習 Vim，並提昇開發速度</li>\n</ol>\n<p>這三個東西都是在課堂上學習到的，幸運得是我們當中有兩位已經會基本的 Vim 指令，<br>當然也各有各的問題，ex: 不熟悉英打、沒有 Reshaper 、找不到共同的時間等…</p>\n<p>總而言之，我們就這樣開始了。</p>\n<h3 id=\"第一個-Kata\"><a href=\"#第一個-Kata\" class=\"headerlink\" title=\"第一個 Kata\"></a>第一個 Kata</h3><p>第一個 Kata 是很重要的，<a href=\"http://codingdojo.org/kata/\" target=\"_blank\" rel=\"noopener\">Coding Dojo</a>提供我們一些選擇，<br>Tennis Game 與 Pocker Hand 都是很好的題目，<br>但是新手上路，我們選了一個簡單的 <a href=\"http://codingdojo.org/kata/FizzBuzz/\" target=\"_blank\" rel=\"noopener\">Fizz Buzz</a> 當作練習題目。<br>Fizz Buzz 的需求分析是很簡單的，  </p>\n<ol>\n<li>傳入 1 數，可以被 3 整除，回傳 Fizz</li>\n<li>傳入 1 數，可以被 5 整除，回傳 Buzz</li>\n<li>傳入 1 數，可以被 3 整除，且可以被 5 整除，回傳 FizzBuzz</li>\n<li>不符合上述條件回傳原數值</li>\n</ol>\n<p>Sample Case:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 → 1</span><br><span class=\"line\">2 → 2</span><br><span class=\"line\">3 → Fizz</span><br><span class=\"line\">4 → 4</span><br><span class=\"line\">5 → Buzz</span><br><span class=\"line\">6 → Fizz</span><br><span class=\"line\">7 → 7</span><br><span class=\"line\">8 → 8</span><br><span class=\"line\">9 → Fizz</span><br><span class=\"line\">10 → Buzz</span><br><span class=\"line\">11 → 11</span><br><span class=\"line\">12 → Fizz</span><br><span class=\"line\">13 → 13</span><br><span class=\"line\">14 → 14</span><br><span class=\"line\">15 → FizzBuzz</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"怎麼開始？\"><a href=\"#怎麼開始？\" class=\"headerlink\" title=\"怎麼開始？\"></a>怎麼開始？</h3><p>首先是時間，專案很忙碌，不是所有的人都有空，<br>我要怎麼擠出時間 ？  </p>\n<h3 id=\"利用-Timebox-與-Don’t-Break-The-chain\"><a href=\"#利用-Timebox-與-Don’t-Break-The-chain\" class=\"headerlink\" title=\"利用 Timebox 與 Don’t Break The chain\"></a>利用 Timebox 與 Don’t Break The chain</h3><p>每天都練習 KATA，每次 30 分鐘；<br>每天約定一個時間 30 分鐘，30 分鐘到就強制結束，<br>不論是中午的 30 分鐘，或是下班前的 30 分鐘，<br>找一個時間只要有兩個人的時間 OK 就進行 。<br>輪流當 Dirver 與 Navigator ，時間設定 5 分鐘，<br>一樣時間到就換手。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">嚴格執行 Timebox 真的是一件很折磨人的事情，  </span><br><span class=\"line\">特別是有一些火花的討論出現時，</span><br><span class=\"line\">但是隨著每次的 Timebox 的結束，</span><br><span class=\"line\">看到的成果比上一次多時，  </span><br><span class=\"line\">那種進步感是相同明顯的。</span><br></pre></td></tr></table></figure>\n\n<p>很幸運的，一直到過農曆年我們都沒有中斷，<br>設定 Timebox 也確實有讓參與的人提昇，<br>包含「重構的技巧」、「打字」、「TDD」與「Vim」，<br>也有人分享工具，或是小技巧，<br>這達到我們<strong>彼此學習</strong>的目的。  </p>\n<h3 id=\"回顧一下作得好的部份\"><a href=\"#回顧一下作得好的部份\" class=\"headerlink\" title=\"回顧一下作得好的部份\"></a>回顧一下作得好的部份</h3><ol>\n<li>雖然很困難，有線上的問題要處理，有工作項目，有一堆會議，但是我們仍然沒有中斷過一天。</li>\n<li>完成了兩個 Kata ，經典的 FizzBuzz 還有很類似的題目 FooBarQix。</li>\n<li>確實有從彼此身上學到東西，比如說在 Vim 裡面超好用的 <code>ci</code> 或是 AceJump 小工具。</li>\n<li>人數控制的很好，押在 3 到 5 人，也讓大家都能參與到。</li>\n<li>最重要的一點，看到了很多「真實」</li>\n</ol>\n<h3 id=\"作得不好的部份\"><a href=\"#作得不好的部份\" class=\"headerlink\" title=\"作得不好的部份\"></a>作得不好的部份</h3><ol>\n<li>環境有一些前期門檻在，ex: Reshaper、已配置過的 VimRC</li>\n<li>Timebox 有時候仍會超過，主因是討論太熱情了。</li>\n<li>整體成員都算有經驗的開發者，但是對重構仍然很弱，對壞味道麻痺(不在意重複等…)</li>\n<li>TDD 有時候沒辦法作到 Baby Step ，雖然重構是成功的，但過程有點跳躍；或是重構完才發現測試壞一大片，需要偵錯去修正。</li>\n<li>雖然有記錄一些問題，但是常常沒有去求解答</li>\n</ol>\n<h3 id=\"真實的部份\"><a href=\"#真實的部份\" class=\"headerlink\" title=\"真實的部份\"></a>真實的部份</h3><ol>\n<li>我們常常看到重複視而不見，特別是只有兩、三次的重複<ul>\n<li>這題成員的看法比較貼近大量重複再重構…我仍然有點持疑  </li>\n</ul>\n</li>\n<li>因為時間壓力，我們會把問題留給後人；我們不會去理解前人的設計<ul>\n<li>時間壓力可以換成任何理由</li>\n</ul>\n</li>\n<li>Navigator 如果沒有思考 Dirver 會開 Auto</li>\n</ol>\n<p>我們開發者真的太有自信，在 Kata 過程出現的問題，<br>如果放到開發現場的規模，基本上就是災難，<br>而實際上也是每天發生。</p>\n<p>在時限的壓力下，你不能作出多完美的設計，<br>但是你可以透過測試作出足夠好的設計，<br>測試的保護可以幫助你提早發現</p>\n<h2 id=\"下一步是-？\"><a href=\"#下一步是-？\" class=\"headerlink\" title=\"下一步是 ？\"></a>下一步是 ？</h2><p>一直以來有那麼多讀書會，上了那麼多課，<br>也有外訓內訓，結果卻是不了了之，<br>要怎麼証明理論有效 ？<br>要怎麼導入開發現場 ？</p>\n<p><a href=\"https://github.com/marsen/Coding_Dojo_Csharp\" target=\"_blank\" rel=\"noopener\">我們的成果</a></p>\n<h2 id=\"寫在後面\"><a href=\"#寫在後面\" class=\"headerlink\" title=\"寫在後面\"></a>寫在後面</h2><p>我不是本科系畢業，但在軟體開發上也有 7、8 年的經驗，<br>軟體的經典書籍也看過不少，<br>不論是免費的社群活動或是上萬元的課程，<br>相關的課也上了不少。  </p>\n<p>學習單一語言的特性或是設計模式、物件導向到工程上的 Code Review、Pair Programming、TDD 諸如此類等…<br>不能說沒有幫助，但總覺得現實與書上的理想好遠啊…<br>我以為我懂了，其實我根本不懂。  </p>\n<p>技術不斷推陳出新，追不勝追，<br>常常工作完後研究或是練習到半夜，<br>但是沒什麼效果，或在實務上根本用不到<br>真得很有事倍功半的無力感。  </p>\n<p>在工作上的產品或專案永遠都有<strong>緊急又重要</strong>的事要作，<br>人家的艾森豪矩陣有四個象限，你永遠只有一個象限，<br>生活上各種的壓力與瑣事，變成了種惡性循環，<br>像個泥沼一般，無法提昇所以下沉，下沉了更無法提昇。  </p>\n<p>這個小小實驗，就像是整個開發現場的濃縮版，<br>現場很多問題不是沒有解答，<br>但是常常一句「理論上是，但是…」，然後就沒有然後了。<br>我們太習慣短解，太過自信，讓不好的事情重複發生，<br>然後覺得自已很忙碌，很有價值感，<br>但是沒有任何改變。</p>\n<p>這個實驗我會繼續下去，期待能有好的結果，並帶來一些變化。  </p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://github.com/marsen/Coding_Dojo_Csharp\" target=\"_blank\" rel=\"noopener\">marsen/Coding_Dojo_Csharp</a></li>\n<li><a href=\"http://codingdojo.org/KataCatalogue/\" target=\"_blank\" rel=\"noopener\">Coding Dojo</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>在上 91 大的(<a href=\"https://blog.marsen.me/2019/01/13/2019/91_coding_dojo_log/\">熱血 Coding Dojo 第一梯次</a>)的課程中，<br>我一直在思索一件事，<strong>為什麼我作不到呢？</strong></p>\n<p><img src=\"/images/2019/1/be_a_star.jpg\" alt=\"我什麼時候才能成角啊\"></p>\n<p>我不希望只是上了課之後，「喔喔喔 我好興奮啊…」就結束了，<br>所以馬上找了一起上課的兩個同事開了個簡單的 Retro<br>我只有一個問題，<br>「如果你覺得這堂課有效的話，我們要作什麼 才能帶來改變呢 ?」  </p>\n<h2 id=\"開起小型-Dojo\"><a href=\"#開起小型-Dojo\" class=\"headerlink\" title=\"開起小型 Dojo\"></a>開起小型 Dojo</h2><p>我們簡單的作了一個決定，我們要在公司內部建立一個 Dojo<br>並且簡單的訂定了三個目標</p>\n<ol>\n<li>學習 Pair ，並透過 Pair 彼此學習</li>\n<li>學習 TDD ，並透過 TDD 學習重構</li>\n<li>學習 Vim，並提昇開發速度</li>\n</ol>\n<p>這三個東西都是在課堂上學習到的，幸運得是我們當中有兩位已經會基本的 Vim 指令，<br>當然也各有各的問題，ex: 不熟悉英打、沒有 Reshaper 、找不到共同的時間等…</p>\n<p>總而言之，我們就這樣開始了。</p>\n<h3 id=\"第一個-Kata\"><a href=\"#第一個-Kata\" class=\"headerlink\" title=\"第一個 Kata\"></a>第一個 Kata</h3><p>第一個 Kata 是很重要的，<a href=\"http://codingdojo.org/kata/\" target=\"_blank\" rel=\"noopener\">Coding Dojo</a>提供我們一些選擇，<br>Tennis Game 與 Pocker Hand 都是很好的題目，<br>但是新手上路，我們選了一個簡單的 <a href=\"http://codingdojo.org/kata/FizzBuzz/\" target=\"_blank\" rel=\"noopener\">Fizz Buzz</a> 當作練習題目。<br>Fizz Buzz 的需求分析是很簡單的，  </p>\n<ol>\n<li>傳入 1 數，可以被 3 整除，回傳 Fizz</li>\n<li>傳入 1 數，可以被 5 整除，回傳 Buzz</li>\n<li>傳入 1 數，可以被 3 整除，且可以被 5 整除，回傳 FizzBuzz</li>\n<li>不符合上述條件回傳原數值</li>\n</ol>\n<p>Sample Case:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1 → 1</span><br><span class=\"line\">2 → 2</span><br><span class=\"line\">3 → Fizz</span><br><span class=\"line\">4 → 4</span><br><span class=\"line\">5 → Buzz</span><br><span class=\"line\">6 → Fizz</span><br><span class=\"line\">7 → 7</span><br><span class=\"line\">8 → 8</span><br><span class=\"line\">9 → Fizz</span><br><span class=\"line\">10 → Buzz</span><br><span class=\"line\">11 → 11</span><br><span class=\"line\">12 → Fizz</span><br><span class=\"line\">13 → 13</span><br><span class=\"line\">14 → 14</span><br><span class=\"line\">15 → FizzBuzz</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"怎麼開始？\"><a href=\"#怎麼開始？\" class=\"headerlink\" title=\"怎麼開始？\"></a>怎麼開始？</h3><p>首先是時間，專案很忙碌，不是所有的人都有空，<br>我要怎麼擠出時間 ？  </p>\n<h3 id=\"利用-Timebox-與-Don’t-Break-The-chain\"><a href=\"#利用-Timebox-與-Don’t-Break-The-chain\" class=\"headerlink\" title=\"利用 Timebox 與 Don’t Break The chain\"></a>利用 Timebox 與 Don’t Break The chain</h3><p>每天都練習 KATA，每次 30 分鐘；<br>每天約定一個時間 30 分鐘，30 分鐘到就強制結束，<br>不論是中午的 30 分鐘，或是下班前的 30 分鐘，<br>找一個時間只要有兩個人的時間 OK 就進行 。<br>輪流當 Dirver 與 Navigator ，時間設定 5 分鐘，<br>一樣時間到就換手。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">嚴格執行 Timebox 真的是一件很折磨人的事情，  </span><br><span class=\"line\">特別是有一些火花的討論出現時，</span><br><span class=\"line\">但是隨著每次的 Timebox 的結束，</span><br><span class=\"line\">看到的成果比上一次多時，  </span><br><span class=\"line\">那種進步感是相同明顯的。</span><br></pre></td></tr></table></figure>\n\n<p>很幸運的，一直到過農曆年我們都沒有中斷，<br>設定 Timebox 也確實有讓參與的人提昇，<br>包含「重構的技巧」、「打字」、「TDD」與「Vim」，<br>也有人分享工具，或是小技巧，<br>這達到我們<strong>彼此學習</strong>的目的。  </p>\n<h3 id=\"回顧一下作得好的部份\"><a href=\"#回顧一下作得好的部份\" class=\"headerlink\" title=\"回顧一下作得好的部份\"></a>回顧一下作得好的部份</h3><ol>\n<li>雖然很困難，有線上的問題要處理，有工作項目，有一堆會議，但是我們仍然沒有中斷過一天。</li>\n<li>完成了兩個 Kata ，經典的 FizzBuzz 還有很類似的題目 FooBarQix。</li>\n<li>確實有從彼此身上學到東西，比如說在 Vim 裡面超好用的 <code>ci</code> 或是 AceJump 小工具。</li>\n<li>人數控制的很好，押在 3 到 5 人，也讓大家都能參與到。</li>\n<li>最重要的一點，看到了很多「真實」</li>\n</ol>\n<h3 id=\"作得不好的部份\"><a href=\"#作得不好的部份\" class=\"headerlink\" title=\"作得不好的部份\"></a>作得不好的部份</h3><ol>\n<li>環境有一些前期門檻在，ex: Reshaper、已配置過的 VimRC</li>\n<li>Timebox 有時候仍會超過，主因是討論太熱情了。</li>\n<li>整體成員都算有經驗的開發者，但是對重構仍然很弱，對壞味道麻痺(不在意重複等…)</li>\n<li>TDD 有時候沒辦法作到 Baby Step ，雖然重構是成功的，但過程有點跳躍；或是重構完才發現測試壞一大片，需要偵錯去修正。</li>\n<li>雖然有記錄一些問題，但是常常沒有去求解答</li>\n</ol>\n<h3 id=\"真實的部份\"><a href=\"#真實的部份\" class=\"headerlink\" title=\"真實的部份\"></a>真實的部份</h3><ol>\n<li>我們常常看到重複視而不見，特別是只有兩、三次的重複<ul>\n<li>這題成員的看法比較貼近大量重複再重構…我仍然有點持疑  </li>\n</ul>\n</li>\n<li>因為時間壓力，我們會把問題留給後人；我們不會去理解前人的設計<ul>\n<li>時間壓力可以換成任何理由</li>\n</ul>\n</li>\n<li>Navigator 如果沒有思考 Dirver 會開 Auto</li>\n</ol>\n<p>我們開發者真的太有自信，在 Kata 過程出現的問題，<br>如果放到開發現場的規模，基本上就是災難，<br>而實際上也是每天發生。</p>\n<p>在時限的壓力下，你不能作出多完美的設計，<br>但是你可以透過測試作出足夠好的設計，<br>測試的保護可以幫助你提早發現</p>\n<h2 id=\"下一步是-？\"><a href=\"#下一步是-？\" class=\"headerlink\" title=\"下一步是 ？\"></a>下一步是 ？</h2><p>一直以來有那麼多讀書會，上了那麼多課，<br>也有外訓內訓，結果卻是不了了之，<br>要怎麼証明理論有效 ？<br>要怎麼導入開發現場 ？</p>\n<p><a href=\"https://github.com/marsen/Coding_Dojo_Csharp\" target=\"_blank\" rel=\"noopener\">我們的成果</a></p>\n<h2 id=\"寫在後面\"><a href=\"#寫在後面\" class=\"headerlink\" title=\"寫在後面\"></a>寫在後面</h2><p>我不是本科系畢業，但在軟體開發上也有 7、8 年的經驗，<br>軟體的經典書籍也看過不少，<br>不論是免費的社群活動或是上萬元的課程，<br>相關的課也上了不少。  </p>\n<p>學習單一語言的特性或是設計模式、物件導向到工程上的 Code Review、Pair Programming、TDD 諸如此類等…<br>不能說沒有幫助，但總覺得現實與書上的理想好遠啊…<br>我以為我懂了，其實我根本不懂。  </p>\n<p>技術不斷推陳出新，追不勝追，<br>常常工作完後研究或是練習到半夜，<br>但是沒什麼效果，或在實務上根本用不到<br>真得很有事倍功半的無力感。  </p>\n<p>在工作上的產品或專案永遠都有<strong>緊急又重要</strong>的事要作，<br>人家的艾森豪矩陣有四個象限，你永遠只有一個象限，<br>生活上各種的壓力與瑣事，變成了種惡性循環，<br>像個泥沼一般，無法提昇所以下沉，下沉了更無法提昇。  </p>\n<p>這個小小實驗，就像是整個開發現場的濃縮版，<br>現場很多問題不是沒有解答，<br>但是常常一句「理論上是，但是…」，然後就沒有然後了。<br>我們太習慣短解，太過自信，讓不好的事情重複發生，<br>然後覺得自已很忙碌，很有價值感，<br>但是沒有任何改變。</p>\n<p>這個實驗我會繼續下去，期待能有好的結果，並帶來一些變化。  </p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://github.com/marsen/Coding_Dojo_Csharp\" target=\"_blank\" rel=\"noopener\">marsen/Coding_Dojo_Csharp</a></li>\n<li><a href=\"http://codingdojo.org/KataCatalogue/\" target=\"_blank\" rel=\"noopener\">Coding Dojo</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[實作筆記] ASP.NET 專案部署地雷-消失的靜態檔","date":"2019-04-12T08:38:16.000Z","_content":"\n## 應該知道的事\n\n- 這個是 Debug 的筆記\n- 用的是 .Net Framework 4.6 不是 .Net Core\n- 對你可能沒有幫助\n\n## 問題\n\n方案裡面有三個 Web 專案 Web1 、Web2 、Web3,\n因開發某功能需要加入一個文字靜態檔 `Iamfile.txt`  \n在部署的時候卻無法將檔案部署至網站根目錄。\n\n## 誤解\n\n對檔案按右鍵 > 屬性 > 複製的輸出目錄 > 下拉選取一律複製。\n\n![](/images/2019/4/copy_file_to_bin.jpg)\n\n很可惜，這個設定的調整會讓這個檔案在**建置**的時候輸出到指定資料夾中( Ex: \\bin )，  \n這個操作會影響 `csproj` 如下:\n\n```xml\n    <None Include=\"Iamfile.txt\">\n    +  <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>\n    </None>\n```\n\n## 正解\n\n注意 Tag 的名稱為 `None`，需要調整為 `Content`，\n目前不確定如何用 IDE 操作。\n\n```xml\n    <Content Include=\"Iamfile.txt\" />\n```\n\n## 補充\n\n找到你的 MSBuild 版本\n\n```sh\ncd C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\MSBuild\\15.0\\Bin \n```\n\n執行建置\n\n```sh\nλ MSBuild.exe D:\\Projects\\IsASolution.sln /p:Configuration=QA;DeployOnBuild=true;PublishProfile=Mall.QA.pubxml;MvcBuildViews=false;AutoVersion=True \n```\n\n執行後輸出的位置需要看你的部署檔 `*.pubxml` 如下範例  \n可以在 `D:\\Archives\\QA\\IsASolution` 找到我的輸出。\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!--\n此檔案是由您 Web 專案的發行/封裝處理程序所使用。您可以編輯此 MSBuild 檔案，\n以自訂此處理程序的行為。若要深入了解，請造訪 http://go.microsoft.com/fwlink/?LinkID=208121。\n-->\n<Project ToolsVersion=\"4.0\" xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\">\n  <PropertyGroup>\n    <WebPublishMethod>FileSystem</WebPublishMethod>\n    <LastUsedBuildConfiguration>QA</LastUsedBuildConfiguration>\n    <LastUsedPlatform>Any CPU</LastUsedPlatform>\n    <SiteUrlToLaunchAfterPublish />\n    <ExcludeApp_Data>False</ExcludeApp_Data>\n    <publishUrl>D:\\Archives\\QA\\IsASolution</publishUrl>\n    <DeleteExistingFiles>True</DeleteExistingFiles>\n    <PrecompileBeforePublish>True</PrecompileBeforePublish>\n    <EnableUpdateable>True</EnableUpdateable>\n    <DebugSymbols>False</DebugSymbols>\n    <WDPMergeOption>DonotMerge</WDPMergeOption>\n  </PropertyGroup>\n</Project\n```\n\n(fin)\n","source":"_posts/2019/csproj_content_none.md","raw":"---\ntitle: \"[實作筆記] ASP.NET 專案部署地雷-消失的靜態檔\"\ndate: 2019/04/12 16:38:16\ntag:\n- .Net Framework\n---\n\n## 應該知道的事\n\n- 這個是 Debug 的筆記\n- 用的是 .Net Framework 4.6 不是 .Net Core\n- 對你可能沒有幫助\n\n## 問題\n\n方案裡面有三個 Web 專案 Web1 、Web2 、Web3,\n因開發某功能需要加入一個文字靜態檔 `Iamfile.txt`  \n在部署的時候卻無法將檔案部署至網站根目錄。\n\n## 誤解\n\n對檔案按右鍵 > 屬性 > 複製的輸出目錄 > 下拉選取一律複製。\n\n![](/images/2019/4/copy_file_to_bin.jpg)\n\n很可惜，這個設定的調整會讓這個檔案在**建置**的時候輸出到指定資料夾中( Ex: \\bin )，  \n這個操作會影響 `csproj` 如下:\n\n```xml\n    <None Include=\"Iamfile.txt\">\n    +  <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>\n    </None>\n```\n\n## 正解\n\n注意 Tag 的名稱為 `None`，需要調整為 `Content`，\n目前不確定如何用 IDE 操作。\n\n```xml\n    <Content Include=\"Iamfile.txt\" />\n```\n\n## 補充\n\n找到你的 MSBuild 版本\n\n```sh\ncd C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\MSBuild\\15.0\\Bin \n```\n\n執行建置\n\n```sh\nλ MSBuild.exe D:\\Projects\\IsASolution.sln /p:Configuration=QA;DeployOnBuild=true;PublishProfile=Mall.QA.pubxml;MvcBuildViews=false;AutoVersion=True \n```\n\n執行後輸出的位置需要看你的部署檔 `*.pubxml` 如下範例  \n可以在 `D:\\Archives\\QA\\IsASolution` 找到我的輸出。\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!--\n此檔案是由您 Web 專案的發行/封裝處理程序所使用。您可以編輯此 MSBuild 檔案，\n以自訂此處理程序的行為。若要深入了解，請造訪 http://go.microsoft.com/fwlink/?LinkID=208121。\n-->\n<Project ToolsVersion=\"4.0\" xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\">\n  <PropertyGroup>\n    <WebPublishMethod>FileSystem</WebPublishMethod>\n    <LastUsedBuildConfiguration>QA</LastUsedBuildConfiguration>\n    <LastUsedPlatform>Any CPU</LastUsedPlatform>\n    <SiteUrlToLaunchAfterPublish />\n    <ExcludeApp_Data>False</ExcludeApp_Data>\n    <publishUrl>D:\\Archives\\QA\\IsASolution</publishUrl>\n    <DeleteExistingFiles>True</DeleteExistingFiles>\n    <PrecompileBeforePublish>True</PrecompileBeforePublish>\n    <EnableUpdateable>True</EnableUpdateable>\n    <DebugSymbols>False</DebugSymbols>\n    <WDPMergeOption>DonotMerge</WDPMergeOption>\n  </PropertyGroup>\n</Project\n```\n\n(fin)\n","slug":"2019/csproj_content_none","published":1,"updated":"2019-09-08T10:28:37.406Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wmi002yb0vxxusrpjqq","content":"<h2 id=\"應該知道的事\"><a href=\"#應該知道的事\" class=\"headerlink\" title=\"應該知道的事\"></a>應該知道的事</h2><ul>\n<li>這個是 Debug 的筆記</li>\n<li>用的是 .Net Framework 4.6 不是 .Net Core</li>\n<li>對你可能沒有幫助</li>\n</ul>\n<h2 id=\"問題\"><a href=\"#問題\" class=\"headerlink\" title=\"問題\"></a>問題</h2><p>方案裡面有三個 Web 專案 Web1 、Web2 、Web3,<br>因開發某功能需要加入一個文字靜態檔 <code>Iamfile.txt</code><br>在部署的時候卻無法將檔案部署至網站根目錄。</p>\n<h2 id=\"誤解\"><a href=\"#誤解\" class=\"headerlink\" title=\"誤解\"></a>誤解</h2><p>對檔案按右鍵 &gt; 屬性 &gt; 複製的輸出目錄 &gt; 下拉選取一律複製。</p>\n<p><img src=\"/images/2019/4/copy_file_to_bin.jpg\" alt></p>\n<p>很可惜，這個設定的調整會讓這個檔案在<strong>建置</strong>的時候輸出到指定資料夾中( Ex: \\bin )，<br>這個操作會影響 <code>csproj</code> 如下:</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">None</span> <span class=\"attr\">Include</span>=<span class=\"string\">\"Iamfile.txt\"</span>&gt;</span></span><br><span class=\"line\">+  <span class=\"tag\">&lt;<span class=\"name\">CopyToOutputDirectory</span>&gt;</span>PreserveNewest<span class=\"tag\">&lt;/<span class=\"name\">CopyToOutputDirectory</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">None</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"正解\"><a href=\"#正解\" class=\"headerlink\" title=\"正解\"></a>正解</h2><p>注意 Tag 的名稱為 <code>None</code>，需要調整為 <code>Content</code>，\n目前不確定如何用 IDE 操作。</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Content</span> <span class=\"attr\">Include</span>=<span class=\"string\">\"Iamfile.txt\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"補充\"><a href=\"#補充\" class=\"headerlink\" title=\"補充\"></a>補充</h2><p>找到你的 MSBuild 版本</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\MSBuild\\15.0\\Bin </span><br></pre></td></tr></table></figure>\n\n<p>執行建置</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">λ MSBuild.exe D:\\Projects\\IsASolution.sln /p:Configuration=QA;DeployOnBuild=<span class=\"literal\">true</span>;PublishProfile=Mall.QA.pubxml;MvcBuildViews=<span class=\"literal\">false</span>;AutoVersion=True</span><br></pre></td></tr></table></figure>\n\n<p>執行後輸出的位置需要看你的部署檔 <code>*.pubxml</code> 如下範例<br>可以在 <code>D:\\Archives\\QA\\IsASolution</code> 找到我的輸出。</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span><br><span class=\"line\"><span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">此檔案是由您 Web 專案的發行/封裝處理程序所使用。您可以編輯此 MSBuild 檔案，</span></span><br><span class=\"line\"><span class=\"comment\">以自訂此處理程序的行為。若要深入了解，請造訪 http://go.microsoft.com/fwlink/?LinkID=208121。</span></span><br><span class=\"line\"><span class=\"comment\">--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Project</span> <span class=\"attr\">ToolsVersion</span>=<span class=\"string\">\"4.0\"</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://schemas.microsoft.com/developer/msbuild/2003\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">WebPublishMethod</span>&gt;</span>FileSystem<span class=\"tag\">&lt;/<span class=\"name\">WebPublishMethod</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">LastUsedBuildConfiguration</span>&gt;</span>QA<span class=\"tag\">&lt;/<span class=\"name\">LastUsedBuildConfiguration</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">LastUsedPlatform</span>&gt;</span>Any CPU<span class=\"tag\">&lt;/<span class=\"name\">LastUsedPlatform</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">SiteUrlToLaunchAfterPublish</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ExcludeApp_Data</span>&gt;</span>False<span class=\"tag\">&lt;/<span class=\"name\">ExcludeApp_Data</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">publishUrl</span>&gt;</span>D:\\Archives\\QA\\IsASolution<span class=\"tag\">&lt;/<span class=\"name\">publishUrl</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">DeleteExistingFiles</span>&gt;</span>True<span class=\"tag\">&lt;/<span class=\"name\">DeleteExistingFiles</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">PrecompileBeforePublish</span>&gt;</span>True<span class=\"tag\">&lt;/<span class=\"name\">PrecompileBeforePublish</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">EnableUpdateable</span>&gt;</span>True<span class=\"tag\">&lt;/<span class=\"name\">EnableUpdateable</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">DebugSymbols</span>&gt;</span>False<span class=\"tag\">&lt;/<span class=\"name\">DebugSymbols</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">WDPMergeOption</span>&gt;</span>DonotMerge<span class=\"tag\">&lt;/<span class=\"name\">WDPMergeOption</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">Project</span></span></span><br></pre></td></tr></table></figure>\n\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"應該知道的事\"><a href=\"#應該知道的事\" class=\"headerlink\" title=\"應該知道的事\"></a>應該知道的事</h2><ul>\n<li>這個是 Debug 的筆記</li>\n<li>用的是 .Net Framework 4.6 不是 .Net Core</li>\n<li>對你可能沒有幫助</li>\n</ul>\n<h2 id=\"問題\"><a href=\"#問題\" class=\"headerlink\" title=\"問題\"></a>問題</h2><p>方案裡面有三個 Web 專案 Web1 、Web2 、Web3,<br>因開發某功能需要加入一個文字靜態檔 <code>Iamfile.txt</code><br>在部署的時候卻無法將檔案部署至網站根目錄。</p>\n<h2 id=\"誤解\"><a href=\"#誤解\" class=\"headerlink\" title=\"誤解\"></a>誤解</h2><p>對檔案按右鍵 &gt; 屬性 &gt; 複製的輸出目錄 &gt; 下拉選取一律複製。</p>\n<p><img src=\"/images/2019/4/copy_file_to_bin.jpg\" alt></p>\n<p>很可惜，這個設定的調整會讓這個檔案在<strong>建置</strong>的時候輸出到指定資料夾中( Ex: \\bin )，<br>這個操作會影響 <code>csproj</code> 如下:</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">None</span> <span class=\"attr\">Include</span>=<span class=\"string\">\"Iamfile.txt\"</span>&gt;</span></span><br><span class=\"line\">+  <span class=\"tag\">&lt;<span class=\"name\">CopyToOutputDirectory</span>&gt;</span>PreserveNewest<span class=\"tag\">&lt;/<span class=\"name\">CopyToOutputDirectory</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">None</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"正解\"><a href=\"#正解\" class=\"headerlink\" title=\"正解\"></a>正解</h2><p>注意 Tag 的名稱為 <code>None</code>，需要調整為 <code>Content</code>，\n目前不確定如何用 IDE 操作。</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Content</span> <span class=\"attr\">Include</span>=<span class=\"string\">\"Iamfile.txt\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"補充\"><a href=\"#補充\" class=\"headerlink\" title=\"補充\"></a>補充</h2><p>找到你的 MSBuild 版本</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Professional\\MSBuild\\15.0\\Bin </span><br></pre></td></tr></table></figure>\n\n<p>執行建置</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">λ MSBuild.exe D:\\Projects\\IsASolution.sln /p:Configuration=QA;DeployOnBuild=<span class=\"literal\">true</span>;PublishProfile=Mall.QA.pubxml;MvcBuildViews=<span class=\"literal\">false</span>;AutoVersion=True</span><br></pre></td></tr></table></figure>\n\n<p>執行後輸出的位置需要看你的部署檔 <code>*.pubxml</code> 如下範例<br>可以在 <code>D:\\Archives\\QA\\IsASolution</code> 找到我的輸出。</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span><br><span class=\"line\"><span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">此檔案是由您 Web 專案的發行/封裝處理程序所使用。您可以編輯此 MSBuild 檔案，</span></span><br><span class=\"line\"><span class=\"comment\">以自訂此處理程序的行為。若要深入了解，請造訪 http://go.microsoft.com/fwlink/?LinkID=208121。</span></span><br><span class=\"line\"><span class=\"comment\">--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Project</span> <span class=\"attr\">ToolsVersion</span>=<span class=\"string\">\"4.0\"</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://schemas.microsoft.com/developer/msbuild/2003\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">WebPublishMethod</span>&gt;</span>FileSystem<span class=\"tag\">&lt;/<span class=\"name\">WebPublishMethod</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">LastUsedBuildConfiguration</span>&gt;</span>QA<span class=\"tag\">&lt;/<span class=\"name\">LastUsedBuildConfiguration</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">LastUsedPlatform</span>&gt;</span>Any CPU<span class=\"tag\">&lt;/<span class=\"name\">LastUsedPlatform</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">SiteUrlToLaunchAfterPublish</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ExcludeApp_Data</span>&gt;</span>False<span class=\"tag\">&lt;/<span class=\"name\">ExcludeApp_Data</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">publishUrl</span>&gt;</span>D:\\Archives\\QA\\IsASolution<span class=\"tag\">&lt;/<span class=\"name\">publishUrl</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">DeleteExistingFiles</span>&gt;</span>True<span class=\"tag\">&lt;/<span class=\"name\">DeleteExistingFiles</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">PrecompileBeforePublish</span>&gt;</span>True<span class=\"tag\">&lt;/<span class=\"name\">PrecompileBeforePublish</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">EnableUpdateable</span>&gt;</span>True<span class=\"tag\">&lt;/<span class=\"name\">EnableUpdateable</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">DebugSymbols</span>&gt;</span>False<span class=\"tag\">&lt;/<span class=\"name\">DebugSymbols</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">WDPMergeOption</span>&gt;</span>DonotMerge<span class=\"tag\">&lt;/<span class=\"name\">WDPMergeOption</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">PropertyGroup</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">Project</span></span></span><br></pre></td></tr></table></figure>\n\n<p>(fin)</p>\n"},{"title":"[工作筆記] 2019 常用工具整理","date":"2019-09-26T09:41:17.000Z","_content":"\n## 輸入法\n\n- 無蝦米 (加速打字，未來不太看好，考慮更換中…)\n\n## 網站\n\n- [Slant 工具比較](https://www.slant.co/)\n- [開發常用的工具網站 JSON/YAML/SQL](https://blog.marsen.me/2019/04/11/2019/tool_sites/ )\n- [亂數假文產生器 - 中文](http://www.richyli.com/tool/loremipsum/)\n- [亂數假文產生器 - 英文](https://www.lipsum.com/feed/html)\n- [資訊收集/廢文發佈](https://zh-tw.facebook.com/)\n\n## PC 工具\n\n- 文字比較工具\n  - Win Merge  \n- Git GUI\n  - ~~GitKraken(需收費)~~\n  - Fork\n- Carnac\n  - 顯示鍵盤點擊歷程\n- Windows 用 Launchers\n  - Wox\n- 快速搜尋文件\n  - Agent Ransack\n- 跨 PC 存放檔案\n  - Dropbox\n- 截圖錄影工具\n  - ShareX\n  - Skitch  \n- 遠端桌面管理\n  - Remote Desktop Manager Free (試用中)\n  - Remote Desktop Connection Manager\n\n## 筆記工具\n\n- Evernote\n  - 專案分類\n  - 職涯規劃\n  - 已完成的項目\n- Notion\n  - GTD\n  - 周記劃\n- HackMD\n  - 暫存的記錄\n  - 會議/社群活動即時記錄\n  - Blog 草稿\n  - 共筆\n- Blog\n  - 技術實作記錄\n  - 社群活動記錄\n\n## 瀏覽器 & 外掛\n\n95% 使用 Chrome ，4% 使用 FireFox，極少情況使用其它瀏覽器\n\n### Chrome\n\n- tampermonkey\n  - 撰寫網頁小工具\n- One Tab\n  - 快速收攏大量分頁，常用在特殊主題搜尋的暫存\n- Clear Cach\n  - 清快取\n- grammarly\n  - 拼字校正\n- Bitbucket Diff Tree\n  - Bitbucket PR 差異比較\n- JSONView\n  - 當 response 為 json 時更為好讀\n- LastPass: Free Password Manager\n  - 密碼管理\n- Wappalyzer\n  - 分析網站使用的框架與技術\n- cVim\n  - 使用 Vim 的習慣操作網頁\n\n## 文件編輯器\n\n- Vim\n- NotePad++\n- 記事本\n\n## 個人工具\n\n- 桌面記時器 DesktopTimer.exe\n\n## 開發工具\n\n### VS Code\n\n- ejs\n- C#\n- Chinese (Traditional) Language Pack for Visual Studio Code\n- Cucumber (Gherkin) Full Support\n- Docker\n- Git History\n- Git Project Manager\n- GitLens — Git supercharged\n- JSON Tools\n- Markdown All in One\n- markdownlint\n- Paste URL\n- PowerShell\n- Relative Line Numbers\n- Remote - WSL\n- REST Client\n- Settings Sync\n- Snippets and Syntax Highlight for Gherkin (Cucumber)\n- Sort lines\n- SQL Server (mssql)\n- stylus\n- Swagger Viewer\n- Unique Lines\n- Vim\n- vscode-icons\n- Vue 2 Snippets\n\n### Microsoft Visual Studio Professional 2017 (預計升到 2019)\n\n- OzCode (付費軟體)\n  - 增強除錯\n- ReSharper Ultimate (付費軟體)\n  - dotCover (檢驗覆蓋率，需另外安裝)\n  - 強化重構/測試\n- ILSpy\n  - 反組譯工具\n- SpecFlow for Visual Studio 2017\n  - BDD 開發\n- GhostDoc Community for VS2017 and Later (免費版)\n  - 自動加入註解\n- ResXManger\n  - 多語系 Resource 檔編輯\n- VsVim\n  - Vim 支援工具\n- Snippet Designer\n  - Snippet 編輯管理\n- Style Cop\n  - 代碼審查\n- xUnit.net.TestGenerator\n  - 加速寫單元測試(xUnit)\n- CodeMaid\n  - 代碼審查 & 複雜度\n- Visual F# Tools [實驗性]\n- Roslyn Expression Evaluators [實驗性]\n- Roslyn Interactive Componets [實驗性]\n- Roslyn Language Service [實驗性]\n- Microsoft Library Manager\n- Develop Automated Tests VS2017\n- Visual Commander\n- Fix Mixed Tabs\n- Microsoft Visual Studio 測試平台\n- Microsoft Visual Studio Installer Projects\n- Microsoft Azure WebJobs 工具\n- Cloud Explorer for VS 2017\n\n### LINQPad 5 (付費)\n\n快速檢驗 C# 語法的小工具\n\n### Terminal\n\n- Cmder | Console Emulator\n- Windows Powershell ISE\n\n### 資料庫管理\n\n- Redis Desktop Manager (Redis)\n- SSMS (MsSQL)\n- Robo 3T (Mongo DB)\n\n### 容器管理\n\n- Docker Desktop\n- Kitematic\n\n(未完待續)\n","source":"_posts/2019/my_tools_2019.md","raw":"---\ntitle: \"[工作筆記] 2019 常用工具整理\"\ndate: 2019/09/26 17:41:17\ntag:\n  - 工作筆記\n---\n\n## 輸入法\n\n- 無蝦米 (加速打字，未來不太看好，考慮更換中…)\n\n## 網站\n\n- [Slant 工具比較](https://www.slant.co/)\n- [開發常用的工具網站 JSON/YAML/SQL](https://blog.marsen.me/2019/04/11/2019/tool_sites/ )\n- [亂數假文產生器 - 中文](http://www.richyli.com/tool/loremipsum/)\n- [亂數假文產生器 - 英文](https://www.lipsum.com/feed/html)\n- [資訊收集/廢文發佈](https://zh-tw.facebook.com/)\n\n## PC 工具\n\n- 文字比較工具\n  - Win Merge  \n- Git GUI\n  - ~~GitKraken(需收費)~~\n  - Fork\n- Carnac\n  - 顯示鍵盤點擊歷程\n- Windows 用 Launchers\n  - Wox\n- 快速搜尋文件\n  - Agent Ransack\n- 跨 PC 存放檔案\n  - Dropbox\n- 截圖錄影工具\n  - ShareX\n  - Skitch  \n- 遠端桌面管理\n  - Remote Desktop Manager Free (試用中)\n  - Remote Desktop Connection Manager\n\n## 筆記工具\n\n- Evernote\n  - 專案分類\n  - 職涯規劃\n  - 已完成的項目\n- Notion\n  - GTD\n  - 周記劃\n- HackMD\n  - 暫存的記錄\n  - 會議/社群活動即時記錄\n  - Blog 草稿\n  - 共筆\n- Blog\n  - 技術實作記錄\n  - 社群活動記錄\n\n## 瀏覽器 & 外掛\n\n95% 使用 Chrome ，4% 使用 FireFox，極少情況使用其它瀏覽器\n\n### Chrome\n\n- tampermonkey\n  - 撰寫網頁小工具\n- One Tab\n  - 快速收攏大量分頁，常用在特殊主題搜尋的暫存\n- Clear Cach\n  - 清快取\n- grammarly\n  - 拼字校正\n- Bitbucket Diff Tree\n  - Bitbucket PR 差異比較\n- JSONView\n  - 當 response 為 json 時更為好讀\n- LastPass: Free Password Manager\n  - 密碼管理\n- Wappalyzer\n  - 分析網站使用的框架與技術\n- cVim\n  - 使用 Vim 的習慣操作網頁\n\n## 文件編輯器\n\n- Vim\n- NotePad++\n- 記事本\n\n## 個人工具\n\n- 桌面記時器 DesktopTimer.exe\n\n## 開發工具\n\n### VS Code\n\n- ejs\n- C#\n- Chinese (Traditional) Language Pack for Visual Studio Code\n- Cucumber (Gherkin) Full Support\n- Docker\n- Git History\n- Git Project Manager\n- GitLens — Git supercharged\n- JSON Tools\n- Markdown All in One\n- markdownlint\n- Paste URL\n- PowerShell\n- Relative Line Numbers\n- Remote - WSL\n- REST Client\n- Settings Sync\n- Snippets and Syntax Highlight for Gherkin (Cucumber)\n- Sort lines\n- SQL Server (mssql)\n- stylus\n- Swagger Viewer\n- Unique Lines\n- Vim\n- vscode-icons\n- Vue 2 Snippets\n\n### Microsoft Visual Studio Professional 2017 (預計升到 2019)\n\n- OzCode (付費軟體)\n  - 增強除錯\n- ReSharper Ultimate (付費軟體)\n  - dotCover (檢驗覆蓋率，需另外安裝)\n  - 強化重構/測試\n- ILSpy\n  - 反組譯工具\n- SpecFlow for Visual Studio 2017\n  - BDD 開發\n- GhostDoc Community for VS2017 and Later (免費版)\n  - 自動加入註解\n- ResXManger\n  - 多語系 Resource 檔編輯\n- VsVim\n  - Vim 支援工具\n- Snippet Designer\n  - Snippet 編輯管理\n- Style Cop\n  - 代碼審查\n- xUnit.net.TestGenerator\n  - 加速寫單元測試(xUnit)\n- CodeMaid\n  - 代碼審查 & 複雜度\n- Visual F# Tools [實驗性]\n- Roslyn Expression Evaluators [實驗性]\n- Roslyn Interactive Componets [實驗性]\n- Roslyn Language Service [實驗性]\n- Microsoft Library Manager\n- Develop Automated Tests VS2017\n- Visual Commander\n- Fix Mixed Tabs\n- Microsoft Visual Studio 測試平台\n- Microsoft Visual Studio Installer Projects\n- Microsoft Azure WebJobs 工具\n- Cloud Explorer for VS 2017\n\n### LINQPad 5 (付費)\n\n快速檢驗 C# 語法的小工具\n\n### Terminal\n\n- Cmder | Console Emulator\n- Windows Powershell ISE\n\n### 資料庫管理\n\n- Redis Desktop Manager (Redis)\n- SSMS (MsSQL)\n- Robo 3T (Mongo DB)\n\n### 容器管理\n\n- Docker Desktop\n- Kitematic\n\n(未完待續)\n","slug":"2019/my_tools_2019","published":1,"updated":"2019-10-15T06:14:43.397Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wmk0030b0vxn8mv640z","content":"<h2 id=\"輸入法\"><a href=\"#輸入法\" class=\"headerlink\" title=\"輸入法\"></a>輸入法</h2><ul>\n<li>無蝦米 (加速打字，未來不太看好，考慮更換中…)</li>\n</ul>\n<h2 id=\"網站\"><a href=\"#網站\" class=\"headerlink\" title=\"網站\"></a>網站</h2><ul>\n<li><a href=\"https://www.slant.co/\" target=\"_blank\" rel=\"noopener\">Slant 工具比較</a></li>\n<li><a href=\"https://blog.marsen.me/2019/04/11/2019/tool_sites/\">開發常用的工具網站 JSON/YAML/SQL</a></li>\n<li><a href=\"http://www.richyli.com/tool/loremipsum/\" target=\"_blank\" rel=\"noopener\">亂數假文產生器 - 中文</a></li>\n<li><a href=\"https://www.lipsum.com/feed/html\" target=\"_blank\" rel=\"noopener\">亂數假文產生器 - 英文</a></li>\n<li><a href=\"https://zh-tw.facebook.com/\" target=\"_blank\" rel=\"noopener\">資訊收集/廢文發佈</a></li>\n</ul>\n<h2 id=\"PC-工具\"><a href=\"#PC-工具\" class=\"headerlink\" title=\"PC 工具\"></a>PC 工具</h2><ul>\n<li>文字比較工具<ul>\n<li>Win Merge  </li>\n</ul>\n</li>\n<li>Git GUI<ul>\n<li><del>GitKraken(需收費)</del></li>\n<li>Fork</li>\n</ul>\n</li>\n<li>Carnac<ul>\n<li>顯示鍵盤點擊歷程</li>\n</ul>\n</li>\n<li>Windows 用 Launchers<ul>\n<li>Wox</li>\n</ul>\n</li>\n<li>快速搜尋文件<ul>\n<li>Agent Ransack</li>\n</ul>\n</li>\n<li>跨 PC 存放檔案<ul>\n<li>Dropbox</li>\n</ul>\n</li>\n<li>截圖錄影工具<ul>\n<li>ShareX</li>\n<li>Skitch  </li>\n</ul>\n</li>\n<li>遠端桌面管理<ul>\n<li>Remote Desktop Manager Free (試用中)</li>\n<li>Remote Desktop Connection Manager</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"筆記工具\"><a href=\"#筆記工具\" class=\"headerlink\" title=\"筆記工具\"></a>筆記工具</h2><ul>\n<li>Evernote<ul>\n<li>專案分類</li>\n<li>職涯規劃</li>\n<li>已完成的項目</li>\n</ul>\n</li>\n<li>Notion<ul>\n<li>GTD</li>\n<li>周記劃</li>\n</ul>\n</li>\n<li>HackMD<ul>\n<li>暫存的記錄</li>\n<li>會議/社群活動即時記錄</li>\n<li>Blog 草稿</li>\n<li>共筆</li>\n</ul>\n</li>\n<li>Blog<ul>\n<li>技術實作記錄</li>\n<li>社群活動記錄</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"瀏覽器-amp-外掛\"><a href=\"#瀏覽器-amp-外掛\" class=\"headerlink\" title=\"瀏覽器 &amp; 外掛\"></a>瀏覽器 &amp; 外掛</h2><p>95% 使用 Chrome ，4% 使用 FireFox，極少情況使用其它瀏覽器</p>\n<h3 id=\"Chrome\"><a href=\"#Chrome\" class=\"headerlink\" title=\"Chrome\"></a>Chrome</h3><ul>\n<li>tampermonkey<ul>\n<li>撰寫網頁小工具</li>\n</ul>\n</li>\n<li>One Tab<ul>\n<li>快速收攏大量分頁，常用在特殊主題搜尋的暫存</li>\n</ul>\n</li>\n<li>Clear Cach<ul>\n<li>清快取</li>\n</ul>\n</li>\n<li>grammarly<ul>\n<li>拼字校正</li>\n</ul>\n</li>\n<li>Bitbucket Diff Tree<ul>\n<li>Bitbucket PR 差異比較</li>\n</ul>\n</li>\n<li>JSONView<ul>\n<li>當 response 為 json 時更為好讀</li>\n</ul>\n</li>\n<li>LastPass: Free Password Manager<ul>\n<li>密碼管理</li>\n</ul>\n</li>\n<li>Wappalyzer<ul>\n<li>分析網站使用的框架與技術</li>\n</ul>\n</li>\n<li>cVim<ul>\n<li>使用 Vim 的習慣操作網頁</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"文件編輯器\"><a href=\"#文件編輯器\" class=\"headerlink\" title=\"文件編輯器\"></a>文件編輯器</h2><ul>\n<li>Vim</li>\n<li>NotePad++</li>\n<li>記事本</li>\n</ul>\n<h2 id=\"個人工具\"><a href=\"#個人工具\" class=\"headerlink\" title=\"個人工具\"></a>個人工具</h2><ul>\n<li>桌面記時器 DesktopTimer.exe</li>\n</ul>\n<h2 id=\"開發工具\"><a href=\"#開發工具\" class=\"headerlink\" title=\"開發工具\"></a>開發工具</h2><h3 id=\"VS-Code\"><a href=\"#VS-Code\" class=\"headerlink\" title=\"VS Code\"></a>VS Code</h3><ul>\n<li>ejs</li>\n<li>C#</li>\n<li>Chinese (Traditional) Language Pack for Visual Studio Code</li>\n<li>Cucumber (Gherkin) Full Support</li>\n<li>Docker</li>\n<li>Git History</li>\n<li>Git Project Manager</li>\n<li>GitLens — Git supercharged</li>\n<li>JSON Tools</li>\n<li>Markdown All in One</li>\n<li>markdownlint</li>\n<li>Paste URL</li>\n<li>PowerShell</li>\n<li>Relative Line Numbers</li>\n<li>Remote - WSL</li>\n<li>REST Client</li>\n<li>Settings Sync</li>\n<li>Snippets and Syntax Highlight for Gherkin (Cucumber)</li>\n<li>Sort lines</li>\n<li>SQL Server (mssql)</li>\n<li>stylus</li>\n<li>Swagger Viewer</li>\n<li>Unique Lines</li>\n<li>Vim</li>\n<li>vscode-icons</li>\n<li>Vue 2 Snippets</li>\n</ul>\n<h3 id=\"Microsoft-Visual-Studio-Professional-2017-預計升到-2019\"><a href=\"#Microsoft-Visual-Studio-Professional-2017-預計升到-2019\" class=\"headerlink\" title=\"Microsoft Visual Studio Professional 2017 (預計升到 2019)\"></a>Microsoft Visual Studio Professional 2017 (預計升到 2019)</h3><ul>\n<li>OzCode (付費軟體)<ul>\n<li>增強除錯</li>\n</ul>\n</li>\n<li>ReSharper Ultimate (付費軟體)<ul>\n<li>dotCover (檢驗覆蓋率，需另外安裝)</li>\n<li>強化重構/測試</li>\n</ul>\n</li>\n<li>ILSpy<ul>\n<li>反組譯工具</li>\n</ul>\n</li>\n<li>SpecFlow for Visual Studio 2017<ul>\n<li>BDD 開發</li>\n</ul>\n</li>\n<li>GhostDoc Community for VS2017 and Later (免費版)<ul>\n<li>自動加入註解</li>\n</ul>\n</li>\n<li>ResXManger<ul>\n<li>多語系 Resource 檔編輯</li>\n</ul>\n</li>\n<li>VsVim<ul>\n<li>Vim 支援工具</li>\n</ul>\n</li>\n<li>Snippet Designer<ul>\n<li>Snippet 編輯管理</li>\n</ul>\n</li>\n<li>Style Cop<ul>\n<li>代碼審查</li>\n</ul>\n</li>\n<li>xUnit.net.TestGenerator<ul>\n<li>加速寫單元測試(xUnit)</li>\n</ul>\n</li>\n<li>CodeMaid<ul>\n<li>代碼審查 &amp; 複雜度</li>\n</ul>\n</li>\n<li>Visual F# Tools [實驗性]</li>\n<li>Roslyn Expression Evaluators [實驗性]</li>\n<li>Roslyn Interactive Componets [實驗性]</li>\n<li>Roslyn Language Service [實驗性]</li>\n<li>Microsoft Library Manager</li>\n<li>Develop Automated Tests VS2017</li>\n<li>Visual Commander</li>\n<li>Fix Mixed Tabs</li>\n<li>Microsoft Visual Studio 測試平台</li>\n<li>Microsoft Visual Studio Installer Projects</li>\n<li>Microsoft Azure WebJobs 工具</li>\n<li>Cloud Explorer for VS 2017</li>\n</ul>\n<h3 id=\"LINQPad-5-付費\"><a href=\"#LINQPad-5-付費\" class=\"headerlink\" title=\"LINQPad 5 (付費)\"></a>LINQPad 5 (付費)</h3><p>快速檢驗 C# 語法的小工具</p>\n<h3 id=\"Terminal\"><a href=\"#Terminal\" class=\"headerlink\" title=\"Terminal\"></a>Terminal</h3><ul>\n<li>Cmder | Console Emulator</li>\n<li>Windows Powershell ISE</li>\n</ul>\n<h3 id=\"資料庫管理\"><a href=\"#資料庫管理\" class=\"headerlink\" title=\"資料庫管理\"></a>資料庫管理</h3><ul>\n<li>Redis Desktop Manager (Redis)</li>\n<li>SSMS (MsSQL)</li>\n<li>Robo 3T (Mongo DB)</li>\n</ul>\n<h3 id=\"容器管理\"><a href=\"#容器管理\" class=\"headerlink\" title=\"容器管理\"></a>容器管理</h3><ul>\n<li>Docker Desktop</li>\n<li>Kitematic</li>\n</ul>\n<p>(未完待續)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"輸入法\"><a href=\"#輸入法\" class=\"headerlink\" title=\"輸入法\"></a>輸入法</h2><ul>\n<li>無蝦米 (加速打字，未來不太看好，考慮更換中…)</li>\n</ul>\n<h2 id=\"網站\"><a href=\"#網站\" class=\"headerlink\" title=\"網站\"></a>網站</h2><ul>\n<li><a href=\"https://www.slant.co/\" target=\"_blank\" rel=\"noopener\">Slant 工具比較</a></li>\n<li><a href=\"https://blog.marsen.me/2019/04/11/2019/tool_sites/\">開發常用的工具網站 JSON/YAML/SQL</a></li>\n<li><a href=\"http://www.richyli.com/tool/loremipsum/\" target=\"_blank\" rel=\"noopener\">亂數假文產生器 - 中文</a></li>\n<li><a href=\"https://www.lipsum.com/feed/html\" target=\"_blank\" rel=\"noopener\">亂數假文產生器 - 英文</a></li>\n<li><a href=\"https://zh-tw.facebook.com/\" target=\"_blank\" rel=\"noopener\">資訊收集/廢文發佈</a></li>\n</ul>\n<h2 id=\"PC-工具\"><a href=\"#PC-工具\" class=\"headerlink\" title=\"PC 工具\"></a>PC 工具</h2><ul>\n<li>文字比較工具<ul>\n<li>Win Merge  </li>\n</ul>\n</li>\n<li>Git GUI<ul>\n<li><del>GitKraken(需收費)</del></li>\n<li>Fork</li>\n</ul>\n</li>\n<li>Carnac<ul>\n<li>顯示鍵盤點擊歷程</li>\n</ul>\n</li>\n<li>Windows 用 Launchers<ul>\n<li>Wox</li>\n</ul>\n</li>\n<li>快速搜尋文件<ul>\n<li>Agent Ransack</li>\n</ul>\n</li>\n<li>跨 PC 存放檔案<ul>\n<li>Dropbox</li>\n</ul>\n</li>\n<li>截圖錄影工具<ul>\n<li>ShareX</li>\n<li>Skitch  </li>\n</ul>\n</li>\n<li>遠端桌面管理<ul>\n<li>Remote Desktop Manager Free (試用中)</li>\n<li>Remote Desktop Connection Manager</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"筆記工具\"><a href=\"#筆記工具\" class=\"headerlink\" title=\"筆記工具\"></a>筆記工具</h2><ul>\n<li>Evernote<ul>\n<li>專案分類</li>\n<li>職涯規劃</li>\n<li>已完成的項目</li>\n</ul>\n</li>\n<li>Notion<ul>\n<li>GTD</li>\n<li>周記劃</li>\n</ul>\n</li>\n<li>HackMD<ul>\n<li>暫存的記錄</li>\n<li>會議/社群活動即時記錄</li>\n<li>Blog 草稿</li>\n<li>共筆</li>\n</ul>\n</li>\n<li>Blog<ul>\n<li>技術實作記錄</li>\n<li>社群活動記錄</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"瀏覽器-amp-外掛\"><a href=\"#瀏覽器-amp-外掛\" class=\"headerlink\" title=\"瀏覽器 &amp; 外掛\"></a>瀏覽器 &amp; 外掛</h2><p>95% 使用 Chrome ，4% 使用 FireFox，極少情況使用其它瀏覽器</p>\n<h3 id=\"Chrome\"><a href=\"#Chrome\" class=\"headerlink\" title=\"Chrome\"></a>Chrome</h3><ul>\n<li>tampermonkey<ul>\n<li>撰寫網頁小工具</li>\n</ul>\n</li>\n<li>One Tab<ul>\n<li>快速收攏大量分頁，常用在特殊主題搜尋的暫存</li>\n</ul>\n</li>\n<li>Clear Cach<ul>\n<li>清快取</li>\n</ul>\n</li>\n<li>grammarly<ul>\n<li>拼字校正</li>\n</ul>\n</li>\n<li>Bitbucket Diff Tree<ul>\n<li>Bitbucket PR 差異比較</li>\n</ul>\n</li>\n<li>JSONView<ul>\n<li>當 response 為 json 時更為好讀</li>\n</ul>\n</li>\n<li>LastPass: Free Password Manager<ul>\n<li>密碼管理</li>\n</ul>\n</li>\n<li>Wappalyzer<ul>\n<li>分析網站使用的框架與技術</li>\n</ul>\n</li>\n<li>cVim<ul>\n<li>使用 Vim 的習慣操作網頁</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"文件編輯器\"><a href=\"#文件編輯器\" class=\"headerlink\" title=\"文件編輯器\"></a>文件編輯器</h2><ul>\n<li>Vim</li>\n<li>NotePad++</li>\n<li>記事本</li>\n</ul>\n<h2 id=\"個人工具\"><a href=\"#個人工具\" class=\"headerlink\" title=\"個人工具\"></a>個人工具</h2><ul>\n<li>桌面記時器 DesktopTimer.exe</li>\n</ul>\n<h2 id=\"開發工具\"><a href=\"#開發工具\" class=\"headerlink\" title=\"開發工具\"></a>開發工具</h2><h3 id=\"VS-Code\"><a href=\"#VS-Code\" class=\"headerlink\" title=\"VS Code\"></a>VS Code</h3><ul>\n<li>ejs</li>\n<li>C#</li>\n<li>Chinese (Traditional) Language Pack for Visual Studio Code</li>\n<li>Cucumber (Gherkin) Full Support</li>\n<li>Docker</li>\n<li>Git History</li>\n<li>Git Project Manager</li>\n<li>GitLens — Git supercharged</li>\n<li>JSON Tools</li>\n<li>Markdown All in One</li>\n<li>markdownlint</li>\n<li>Paste URL</li>\n<li>PowerShell</li>\n<li>Relative Line Numbers</li>\n<li>Remote - WSL</li>\n<li>REST Client</li>\n<li>Settings Sync</li>\n<li>Snippets and Syntax Highlight for Gherkin (Cucumber)</li>\n<li>Sort lines</li>\n<li>SQL Server (mssql)</li>\n<li>stylus</li>\n<li>Swagger Viewer</li>\n<li>Unique Lines</li>\n<li>Vim</li>\n<li>vscode-icons</li>\n<li>Vue 2 Snippets</li>\n</ul>\n<h3 id=\"Microsoft-Visual-Studio-Professional-2017-預計升到-2019\"><a href=\"#Microsoft-Visual-Studio-Professional-2017-預計升到-2019\" class=\"headerlink\" title=\"Microsoft Visual Studio Professional 2017 (預計升到 2019)\"></a>Microsoft Visual Studio Professional 2017 (預計升到 2019)</h3><ul>\n<li>OzCode (付費軟體)<ul>\n<li>增強除錯</li>\n</ul>\n</li>\n<li>ReSharper Ultimate (付費軟體)<ul>\n<li>dotCover (檢驗覆蓋率，需另外安裝)</li>\n<li>強化重構/測試</li>\n</ul>\n</li>\n<li>ILSpy<ul>\n<li>反組譯工具</li>\n</ul>\n</li>\n<li>SpecFlow for Visual Studio 2017<ul>\n<li>BDD 開發</li>\n</ul>\n</li>\n<li>GhostDoc Community for VS2017 and Later (免費版)<ul>\n<li>自動加入註解</li>\n</ul>\n</li>\n<li>ResXManger<ul>\n<li>多語系 Resource 檔編輯</li>\n</ul>\n</li>\n<li>VsVim<ul>\n<li>Vim 支援工具</li>\n</ul>\n</li>\n<li>Snippet Designer<ul>\n<li>Snippet 編輯管理</li>\n</ul>\n</li>\n<li>Style Cop<ul>\n<li>代碼審查</li>\n</ul>\n</li>\n<li>xUnit.net.TestGenerator<ul>\n<li>加速寫單元測試(xUnit)</li>\n</ul>\n</li>\n<li>CodeMaid<ul>\n<li>代碼審查 &amp; 複雜度</li>\n</ul>\n</li>\n<li>Visual F# Tools [實驗性]</li>\n<li>Roslyn Expression Evaluators [實驗性]</li>\n<li>Roslyn Interactive Componets [實驗性]</li>\n<li>Roslyn Language Service [實驗性]</li>\n<li>Microsoft Library Manager</li>\n<li>Develop Automated Tests VS2017</li>\n<li>Visual Commander</li>\n<li>Fix Mixed Tabs</li>\n<li>Microsoft Visual Studio 測試平台</li>\n<li>Microsoft Visual Studio Installer Projects</li>\n<li>Microsoft Azure WebJobs 工具</li>\n<li>Cloud Explorer for VS 2017</li>\n</ul>\n<h3 id=\"LINQPad-5-付費\"><a href=\"#LINQPad-5-付費\" class=\"headerlink\" title=\"LINQPad 5 (付費)\"></a>LINQPad 5 (付費)</h3><p>快速檢驗 C# 語法的小工具</p>\n<h3 id=\"Terminal\"><a href=\"#Terminal\" class=\"headerlink\" title=\"Terminal\"></a>Terminal</h3><ul>\n<li>Cmder | Console Emulator</li>\n<li>Windows Powershell ISE</li>\n</ul>\n<h3 id=\"資料庫管理\"><a href=\"#資料庫管理\" class=\"headerlink\" title=\"資料庫管理\"></a>資料庫管理</h3><ul>\n<li>Redis Desktop Manager (Redis)</li>\n<li>SSMS (MsSQL)</li>\n<li>Robo 3T (Mongo DB)</li>\n</ul>\n<h3 id=\"容器管理\"><a href=\"#容器管理\" class=\"headerlink\" title=\"容器管理\"></a>容器管理</h3><ul>\n<li>Docker Desktop</li>\n<li>Kitematic</li>\n</ul>\n<p>(未完待續)</p>\n"},{"title":"[實作筆記] 用 Github Registry 作自已的 Nuget Server","date":"2019-10-11T03:55:41.000Z","_content":"\n## 目標\n\n使用 GitHub Package Registry 建立一個自已的 Nuget Server。\n\n## 步驟\n\n### 前置作業\n\n#### 申請\n\nGitHub Package Registry 還在 Beta 階段，需要申請才能取得試用。\n過程並不複雜，在此不贅述，請再自行查找網路。\n\n#### 建立 Repository\n\n實測的結果，`nuget push` 並無法建立 Repository ，  \n並且會導致發佈失敗，故必需 **優先建立 Packages 的 Repository** 。\nRepository 可以包含多個專案，並獨立發佈(發佈指令詳見下文)。  \n\n#### 建立 .nuget 文檔\n\n請以專案名稱命名檔案，ex:`Marsen.Utility.nuget`  \n請依實際情況調整 **id**、**version** 與 **projectUrl**  \n特別是 **version** 代表的是 Packages 的版本\n更多訊息請[參考](https://docs.microsoft.com/zh-tw/nuget/reference/nuspec)\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<package xmlns=\"http://schemas.microsoft.com/packaging/2010/07/nuspec.xsd\">\n    <metadata>\n    <id>Marsen.Utility</id>\n    <version>1.0.0</version>\n    <authors>Marsen Lin</authors>\n    <description>Marsen Utility</description>\n    <language>en-US</language>\n    <projectUrl>https://github.com/marsen/Marsen.Nuget.Packages</projectUrl>\n    </metadata>\n</package>\n```\n\n### 取得授權 token\n\n請參考[Configuring NuGet for use with GitHub Package Registry](https://help.github.com/en/articles/configuring-nuget-for-use-with-github-package-registry#authenticating-to-github-package-registry) 或是 [Creating a personal access token for the command line](https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line)\n**至少需要以下權限**\n\n- [ ] repo Full control of private repositories\n  - [ ] repo:status Access commit status\n  - [ ] repo_deployment Access deployment status\n  - [ ] public_repo Access public repositories\n  - [ ] repo:invite Access repository invitations\n- [ ] write:packages Upload packages to github package registry\n- [ ] read:packages Download packages from github package registry\n\n### 下載/安裝/設定 Nuget\n\n1. [下載 Latest Nuget](https://www.nuget.org/downloads)，取得 nuget.exe\n2. 設定 Path (以 Windows 10 為例)\n    - 控制台\n    - 系統設定>進階設定\n    - 環境變數 > Path\n3. 設定完 path 記得重啟 Terminal Session\n\n### 新增 Nuget Source\n\n#### 新增\n\nName 、 Source 與 UserName 網址請依實際調整參數\nPassword 請代入 token\n\n```bash\nnuget sources Add -Name \"Marsen.Nuget sources\" /\n-Source \"https://nuget.pkg.github.com/marsen/index.json\" /\n-UserName marsen -Password 3*******************************1\n```\n\n#### 設定 Key\n\n```bash\nnuget setapikey 3*******************************1 -Source \"Marsen Nuget Sources\"\n```\n\n#### 刪除\n\n```bash\nnuget sources Remove -Name \"Marsen.Nuget sources\"\n```\n\n#### 查詢\n\n```bash\nnuget sources\n```\n\n#### 打包\n\n```bash\nnuget pack Marsen.Package.csproj -OutputDirectory c:\\local_nugets\n```\n\n#### 發佈\n\n```bash\nnuget push c:\\local_nugets\\Marsen.Utility.1.0.0.nupkg -Source \"Marsen Nuget Sources\"\n```\n\n### 結果\n\n![GitHub Package Registry](https://i.imgur.com/Qz5Rv4c.jpg)\n\n## 下一步\n\n1. 每次都要打版號好麻煩，能不能自動化 ?\n2. 透過 CI 建立，並傳入參數作為版號 ?\n3. 每次 commit 只要通過 UT 測試就發佈.beta版 ? CI 發佈正式版 ?\n\nmore...\n\n## 參考\n\n- [Configuring NuGet for use with GitHub Package Registry](https://help.github.com/en/articles/configuring-nuget-for-use-with-github-package-registry#authenticating-to-github-package-registry)\n- [Creating a personal access token for the command line](https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line)\n- <https://www.nuget.org/>\n- <https://docs.microsoft.com/zh-tw/nuget/install-nuget-client-tools>\n- <https://docs.microsoft.com/zh-tw/nuget/reference/nuspec>\n\n(fin)\n","source":"_posts/2019/github_registry_with_nuget_packages.md","raw":"---\ntitle: \"[實作筆記] 用 Github Registry 作自已的 Nuget Server\"\ndate: 2019/10/11 11:55:41\ntag:\n - 實作筆記 \n---\n\n## 目標\n\n使用 GitHub Package Registry 建立一個自已的 Nuget Server。\n\n## 步驟\n\n### 前置作業\n\n#### 申請\n\nGitHub Package Registry 還在 Beta 階段，需要申請才能取得試用。\n過程並不複雜，在此不贅述，請再自行查找網路。\n\n#### 建立 Repository\n\n實測的結果，`nuget push` 並無法建立 Repository ，  \n並且會導致發佈失敗，故必需 **優先建立 Packages 的 Repository** 。\nRepository 可以包含多個專案，並獨立發佈(發佈指令詳見下文)。  \n\n#### 建立 .nuget 文檔\n\n請以專案名稱命名檔案，ex:`Marsen.Utility.nuget`  \n請依實際情況調整 **id**、**version** 與 **projectUrl**  \n特別是 **version** 代表的是 Packages 的版本\n更多訊息請[參考](https://docs.microsoft.com/zh-tw/nuget/reference/nuspec)\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<package xmlns=\"http://schemas.microsoft.com/packaging/2010/07/nuspec.xsd\">\n    <metadata>\n    <id>Marsen.Utility</id>\n    <version>1.0.0</version>\n    <authors>Marsen Lin</authors>\n    <description>Marsen Utility</description>\n    <language>en-US</language>\n    <projectUrl>https://github.com/marsen/Marsen.Nuget.Packages</projectUrl>\n    </metadata>\n</package>\n```\n\n### 取得授權 token\n\n請參考[Configuring NuGet for use with GitHub Package Registry](https://help.github.com/en/articles/configuring-nuget-for-use-with-github-package-registry#authenticating-to-github-package-registry) 或是 [Creating a personal access token for the command line](https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line)\n**至少需要以下權限**\n\n- [ ] repo Full control of private repositories\n  - [ ] repo:status Access commit status\n  - [ ] repo_deployment Access deployment status\n  - [ ] public_repo Access public repositories\n  - [ ] repo:invite Access repository invitations\n- [ ] write:packages Upload packages to github package registry\n- [ ] read:packages Download packages from github package registry\n\n### 下載/安裝/設定 Nuget\n\n1. [下載 Latest Nuget](https://www.nuget.org/downloads)，取得 nuget.exe\n2. 設定 Path (以 Windows 10 為例)\n    - 控制台\n    - 系統設定>進階設定\n    - 環境變數 > Path\n3. 設定完 path 記得重啟 Terminal Session\n\n### 新增 Nuget Source\n\n#### 新增\n\nName 、 Source 與 UserName 網址請依實際調整參數\nPassword 請代入 token\n\n```bash\nnuget sources Add -Name \"Marsen.Nuget sources\" /\n-Source \"https://nuget.pkg.github.com/marsen/index.json\" /\n-UserName marsen -Password 3*******************************1\n```\n\n#### 設定 Key\n\n```bash\nnuget setapikey 3*******************************1 -Source \"Marsen Nuget Sources\"\n```\n\n#### 刪除\n\n```bash\nnuget sources Remove -Name \"Marsen.Nuget sources\"\n```\n\n#### 查詢\n\n```bash\nnuget sources\n```\n\n#### 打包\n\n```bash\nnuget pack Marsen.Package.csproj -OutputDirectory c:\\local_nugets\n```\n\n#### 發佈\n\n```bash\nnuget push c:\\local_nugets\\Marsen.Utility.1.0.0.nupkg -Source \"Marsen Nuget Sources\"\n```\n\n### 結果\n\n![GitHub Package Registry](https://i.imgur.com/Qz5Rv4c.jpg)\n\n## 下一步\n\n1. 每次都要打版號好麻煩，能不能自動化 ?\n2. 透過 CI 建立，並傳入參數作為版號 ?\n3. 每次 commit 只要通過 UT 測試就發佈.beta版 ? CI 發佈正式版 ?\n\nmore...\n\n## 參考\n\n- [Configuring NuGet for use with GitHub Package Registry](https://help.github.com/en/articles/configuring-nuget-for-use-with-github-package-registry#authenticating-to-github-package-registry)\n- [Creating a personal access token for the command line](https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line)\n- <https://www.nuget.org/>\n- <https://docs.microsoft.com/zh-tw/nuget/install-nuget-client-tools>\n- <https://docs.microsoft.com/zh-tw/nuget/reference/nuspec>\n\n(fin)\n","slug":"2019/github_registry_with_nuget_packages","published":1,"updated":"2019-10-17T00:55:32.968Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wmm0032b0vx3z524xlt","content":"<h2 id=\"目標\"><a href=\"#目標\" class=\"headerlink\" title=\"目標\"></a>目標</h2><p>使用 GitHub Package Registry 建立一個自已的 Nuget Server。</p>\n<h2 id=\"步驟\"><a href=\"#步驟\" class=\"headerlink\" title=\"步驟\"></a>步驟</h2><h3 id=\"前置作業\"><a href=\"#前置作業\" class=\"headerlink\" title=\"前置作業\"></a>前置作業</h3><h4 id=\"申請\"><a href=\"#申請\" class=\"headerlink\" title=\"申請\"></a>申請</h4><p>GitHub Package Registry 還在 Beta 階段，需要申請才能取得試用。<br>過程並不複雜，在此不贅述，請再自行查找網路。</p>\n<h4 id=\"建立-Repository\"><a href=\"#建立-Repository\" class=\"headerlink\" title=\"建立 Repository\"></a>建立 Repository</h4><p>實測的結果，<code>nuget push</code> 並無法建立 Repository ，<br>並且會導致發佈失敗，故必需 <strong>優先建立 Packages 的 Repository</strong> 。<br>Repository 可以包含多個專案，並獨立發佈(發佈指令詳見下文)。  </p>\n<h4 id=\"建立-nuget-文檔\"><a href=\"#建立-nuget-文檔\" class=\"headerlink\" title=\"建立 .nuget 文檔\"></a>建立 .nuget 文檔</h4><p>請以專案名稱命名檔案，ex:<code>Marsen.Utility.nuget</code><br>請依實際情況調整 <strong>id</strong>、<strong>version</strong> 與 <strong>projectUrl</strong><br>特別是 <strong>version</strong> 代表的是 Packages 的版本<br>更多訊息請<a href=\"https://docs.microsoft.com/zh-tw/nuget/reference/nuspec\" target=\"_blank\" rel=\"noopener\">參考</a></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">package</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://schemas.microsoft.com/packaging/2010/07/nuspec.xsd\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">metadata</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>Marsen.Utility<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.0.0<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">authors</span>&gt;</span>Marsen Lin<span class=\"tag\">&lt;/<span class=\"name\">authors</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">description</span>&gt;</span>Marsen Utility<span class=\"tag\">&lt;/<span class=\"name\">description</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">language</span>&gt;</span>en-US<span class=\"tag\">&lt;/<span class=\"name\">language</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">projectUrl</span>&gt;</span>https://github.com/marsen/Marsen.Nuget.Packages<span class=\"tag\">&lt;/<span class=\"name\">projectUrl</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">metadata</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">package</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"取得授權-token\"><a href=\"#取得授權-token\" class=\"headerlink\" title=\"取得授權 token\"></a>取得授權 token</h3><p>請參考<a href=\"https://help.github.com/en/articles/configuring-nuget-for-use-with-github-package-registry#authenticating-to-github-package-registry\" target=\"_blank\" rel=\"noopener\">Configuring NuGet for use with GitHub Package Registry</a> 或是 <a href=\"https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line\" target=\"_blank\" rel=\"noopener\">Creating a personal access token for the command line</a><br><strong>至少需要以下權限</strong></p>\n<ul>\n<li><input disabled type=\"checkbox\"> repo Full control of private repositories<ul>\n<li><input disabled type=\"checkbox\"> repo:status Access commit status</li>\n<li><input disabled type=\"checkbox\"> repo_deployment Access deployment status</li>\n<li><input disabled type=\"checkbox\"> public_repo Access public repositories</li>\n<li><input disabled type=\"checkbox\"> repo:invite Access repository invitations</li>\n</ul>\n</li>\n<li><input disabled type=\"checkbox\"> write:packages Upload packages to github package registry</li>\n<li><input disabled type=\"checkbox\"> read:packages Download packages from github package registry</li>\n</ul>\n<h3 id=\"下載-安裝-設定-Nuget\"><a href=\"#下載-安裝-設定-Nuget\" class=\"headerlink\" title=\"下載/安裝/設定 Nuget\"></a>下載/安裝/設定 Nuget</h3><ol>\n<li><a href=\"https://www.nuget.org/downloads\" target=\"_blank\" rel=\"noopener\">下載 Latest Nuget</a>，取得 nuget.exe</li>\n<li>設定 Path (以 Windows 10 為例)<ul>\n<li>控制台</li>\n<li>系統設定&gt;進階設定</li>\n<li>環境變數 &gt; Path</li>\n</ul>\n</li>\n<li>設定完 path 記得重啟 Terminal Session</li>\n</ol>\n<h3 id=\"新增-Nuget-Source\"><a href=\"#新增-Nuget-Source\" class=\"headerlink\" title=\"新增 Nuget Source\"></a>新增 Nuget Source</h3><h4 id=\"新增\"><a href=\"#新增\" class=\"headerlink\" title=\"新增\"></a>新增</h4><p>Name 、 Source 與 UserName 網址請依實際調整參數<br>Password 請代入 token</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nuget sources Add -Name <span class=\"string\">\"Marsen.Nuget sources\"</span> /</span><br><span class=\"line\">-Source <span class=\"string\">\"https://nuget.pkg.github.com/marsen/index.json\"</span> /</span><br><span class=\"line\">-UserName marsen -Password 3*******************************1</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"設定-Key\"><a href=\"#設定-Key\" class=\"headerlink\" title=\"設定 Key\"></a>設定 Key</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nuget setapikey 3*******************************1 -Source <span class=\"string\">\"Marsen Nuget Sources\"</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"刪除\"><a href=\"#刪除\" class=\"headerlink\" title=\"刪除\"></a>刪除</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nuget sources Remove -Name <span class=\"string\">\"Marsen.Nuget sources\"</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"查詢\"><a href=\"#查詢\" class=\"headerlink\" title=\"查詢\"></a>查詢</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nuget sources</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"打包\"><a href=\"#打包\" class=\"headerlink\" title=\"打包\"></a>打包</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nuget pack Marsen.Package.csproj -OutputDirectory c:\\local_nugets</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"發佈\"><a href=\"#發佈\" class=\"headerlink\" title=\"發佈\"></a>發佈</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nuget push c:\\local_nugets\\Marsen.Utility.1.0.0.nupkg -Source <span class=\"string\">\"Marsen Nuget Sources\"</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"結果\"><a href=\"#結果\" class=\"headerlink\" title=\"結果\"></a>結果</h3><p><img src=\"https://i.imgur.com/Qz5Rv4c.jpg\" alt=\"GitHub Package Registry\"></p>\n<h2 id=\"下一步\"><a href=\"#下一步\" class=\"headerlink\" title=\"下一步\"></a>下一步</h2><ol>\n<li>每次都要打版號好麻煩，能不能自動化 ?</li>\n<li>透過 CI 建立，並傳入參數作為版號 ?</li>\n<li>每次 commit 只要通過 UT 測試就發佈.beta版 ? CI 發佈正式版 ?</li>\n</ol>\n<p>more…</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://help.github.com/en/articles/configuring-nuget-for-use-with-github-package-registry#authenticating-to-github-package-registry\" target=\"_blank\" rel=\"noopener\">Configuring NuGet for use with GitHub Package Registry</a></li>\n<li><a href=\"https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line\" target=\"_blank\" rel=\"noopener\">Creating a personal access token for the command line</a></li>\n<li><a href=\"https://www.nuget.org/\" target=\"_blank\" rel=\"noopener\">https://www.nuget.org/</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/nuget/install-nuget-client-tools\" target=\"_blank\" rel=\"noopener\">https://docs.microsoft.com/zh-tw/nuget/install-nuget-client-tools</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/nuget/reference/nuspec\" target=\"_blank\" rel=\"noopener\">https://docs.microsoft.com/zh-tw/nuget/reference/nuspec</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"目標\"><a href=\"#目標\" class=\"headerlink\" title=\"目標\"></a>目標</h2><p>使用 GitHub Package Registry 建立一個自已的 Nuget Server。</p>\n<h2 id=\"步驟\"><a href=\"#步驟\" class=\"headerlink\" title=\"步驟\"></a>步驟</h2><h3 id=\"前置作業\"><a href=\"#前置作業\" class=\"headerlink\" title=\"前置作業\"></a>前置作業</h3><h4 id=\"申請\"><a href=\"#申請\" class=\"headerlink\" title=\"申請\"></a>申請</h4><p>GitHub Package Registry 還在 Beta 階段，需要申請才能取得試用。<br>過程並不複雜，在此不贅述，請再自行查找網路。</p>\n<h4 id=\"建立-Repository\"><a href=\"#建立-Repository\" class=\"headerlink\" title=\"建立 Repository\"></a>建立 Repository</h4><p>實測的結果，<code>nuget push</code> 並無法建立 Repository ，<br>並且會導致發佈失敗，故必需 <strong>優先建立 Packages 的 Repository</strong> 。<br>Repository 可以包含多個專案，並獨立發佈(發佈指令詳見下文)。  </p>\n<h4 id=\"建立-nuget-文檔\"><a href=\"#建立-nuget-文檔\" class=\"headerlink\" title=\"建立 .nuget 文檔\"></a>建立 .nuget 文檔</h4><p>請以專案名稱命名檔案，ex:<code>Marsen.Utility.nuget</code><br>請依實際情況調整 <strong>id</strong>、<strong>version</strong> 與 <strong>projectUrl</strong><br>特別是 <strong>version</strong> 代表的是 Packages 的版本<br>更多訊息請<a href=\"https://docs.microsoft.com/zh-tw/nuget/reference/nuspec\" target=\"_blank\" rel=\"noopener\">參考</a></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">package</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">\"http://schemas.microsoft.com/packaging/2010/07/nuspec.xsd\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">metadata</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">id</span>&gt;</span>Marsen.Utility<span class=\"tag\">&lt;/<span class=\"name\">id</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.0.0<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">authors</span>&gt;</span>Marsen Lin<span class=\"tag\">&lt;/<span class=\"name\">authors</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">description</span>&gt;</span>Marsen Utility<span class=\"tag\">&lt;/<span class=\"name\">description</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">language</span>&gt;</span>en-US<span class=\"tag\">&lt;/<span class=\"name\">language</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">projectUrl</span>&gt;</span>https://github.com/marsen/Marsen.Nuget.Packages<span class=\"tag\">&lt;/<span class=\"name\">projectUrl</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">metadata</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">package</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"取得授權-token\"><a href=\"#取得授權-token\" class=\"headerlink\" title=\"取得授權 token\"></a>取得授權 token</h3><p>請參考<a href=\"https://help.github.com/en/articles/configuring-nuget-for-use-with-github-package-registry#authenticating-to-github-package-registry\" target=\"_blank\" rel=\"noopener\">Configuring NuGet for use with GitHub Package Registry</a> 或是 <a href=\"https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line\" target=\"_blank\" rel=\"noopener\">Creating a personal access token for the command line</a><br><strong>至少需要以下權限</strong></p>\n<ul>\n<li><input disabled type=\"checkbox\"> repo Full control of private repositories<ul>\n<li><input disabled type=\"checkbox\"> repo:status Access commit status</li>\n<li><input disabled type=\"checkbox\"> repo_deployment Access deployment status</li>\n<li><input disabled type=\"checkbox\"> public_repo Access public repositories</li>\n<li><input disabled type=\"checkbox\"> repo:invite Access repository invitations</li>\n</ul>\n</li>\n<li><input disabled type=\"checkbox\"> write:packages Upload packages to github package registry</li>\n<li><input disabled type=\"checkbox\"> read:packages Download packages from github package registry</li>\n</ul>\n<h3 id=\"下載-安裝-設定-Nuget\"><a href=\"#下載-安裝-設定-Nuget\" class=\"headerlink\" title=\"下載/安裝/設定 Nuget\"></a>下載/安裝/設定 Nuget</h3><ol>\n<li><a href=\"https://www.nuget.org/downloads\" target=\"_blank\" rel=\"noopener\">下載 Latest Nuget</a>，取得 nuget.exe</li>\n<li>設定 Path (以 Windows 10 為例)<ul>\n<li>控制台</li>\n<li>系統設定&gt;進階設定</li>\n<li>環境變數 &gt; Path</li>\n</ul>\n</li>\n<li>設定完 path 記得重啟 Terminal Session</li>\n</ol>\n<h3 id=\"新增-Nuget-Source\"><a href=\"#新增-Nuget-Source\" class=\"headerlink\" title=\"新增 Nuget Source\"></a>新增 Nuget Source</h3><h4 id=\"新增\"><a href=\"#新增\" class=\"headerlink\" title=\"新增\"></a>新增</h4><p>Name 、 Source 與 UserName 網址請依實際調整參數<br>Password 請代入 token</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nuget sources Add -Name <span class=\"string\">\"Marsen.Nuget sources\"</span> /</span><br><span class=\"line\">-Source <span class=\"string\">\"https://nuget.pkg.github.com/marsen/index.json\"</span> /</span><br><span class=\"line\">-UserName marsen -Password 3*******************************1</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"設定-Key\"><a href=\"#設定-Key\" class=\"headerlink\" title=\"設定 Key\"></a>設定 Key</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nuget setapikey 3*******************************1 -Source <span class=\"string\">\"Marsen Nuget Sources\"</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"刪除\"><a href=\"#刪除\" class=\"headerlink\" title=\"刪除\"></a>刪除</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nuget sources Remove -Name <span class=\"string\">\"Marsen.Nuget sources\"</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"查詢\"><a href=\"#查詢\" class=\"headerlink\" title=\"查詢\"></a>查詢</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nuget sources</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"打包\"><a href=\"#打包\" class=\"headerlink\" title=\"打包\"></a>打包</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nuget pack Marsen.Package.csproj -OutputDirectory c:\\local_nugets</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"發佈\"><a href=\"#發佈\" class=\"headerlink\" title=\"發佈\"></a>發佈</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nuget push c:\\local_nugets\\Marsen.Utility.1.0.0.nupkg -Source <span class=\"string\">\"Marsen Nuget Sources\"</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"結果\"><a href=\"#結果\" class=\"headerlink\" title=\"結果\"></a>結果</h3><p><img src=\"https://i.imgur.com/Qz5Rv4c.jpg\" alt=\"GitHub Package Registry\"></p>\n<h2 id=\"下一步\"><a href=\"#下一步\" class=\"headerlink\" title=\"下一步\"></a>下一步</h2><ol>\n<li>每次都要打版號好麻煩，能不能自動化 ?</li>\n<li>透過 CI 建立，並傳入參數作為版號 ?</li>\n<li>每次 commit 只要通過 UT 測試就發佈.beta版 ? CI 發佈正式版 ?</li>\n</ol>\n<p>more…</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://help.github.com/en/articles/configuring-nuget-for-use-with-github-package-registry#authenticating-to-github-package-registry\" target=\"_blank\" rel=\"noopener\">Configuring NuGet for use with GitHub Package Registry</a></li>\n<li><a href=\"https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line\" target=\"_blank\" rel=\"noopener\">Creating a personal access token for the command line</a></li>\n<li><a href=\"https://www.nuget.org/\" target=\"_blank\" rel=\"noopener\">https://www.nuget.org/</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/nuget/install-nuget-client-tools\" target=\"_blank\" rel=\"noopener\">https://docs.microsoft.com/zh-tw/nuget/install-nuget-client-tools</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/nuget/reference/nuspec\" target=\"_blank\" rel=\"noopener\">https://docs.microsoft.com/zh-tw/nuget/reference/nuspec</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[學習筆記] 重構使用 Introduce Variable for Substring","date":"2019-07-09T12:02:13.000Z","_content":"\n## 要知道的事\n\n- 這是個人的學習記錄\n- 可能對你沒幫助\n- 不知不知最可怕。快不起來,因為你不覺得慢\n- 希望對你有幫助\n- 使用 Visual Studio & ReSharper\n\n## 問題\n\n> 把原本的程式\n> string url = \"<http://localhost:5000/api/v3.3/refund/PayPal/SF188964T\">\n>\n> 變成下面這樣\n>\n> string domain = \"<http://localhost:5000\";>  \n> string code = \"SF188964T\";  \n> string payType = \"PayPal\";  \n> string url = $\"{domain}/api/refund/{payType}/{code}\";  \n>\n> 你會怎麼作 ?\n\n我原本的作法，一個字一個挖出來，命名變數，再填回去。\n\n**怎麼作可以更快 ?**\n\n透過 Resharper 的 Refactor > Introduce Variable > Introduce Variable for Substring 即可快速重構。\n\n參考 91 的影片\n{% youtube Nqz8qapjjz4 %}\n\n我實測原本的開發時間約為2~3分鐘，善用工具約可以在 30 ~ 45 s 完成。\n效能提昇 400 % !!!!!(聽起來就很威)\n\n{% youtube C9jLXrh3LRg %}\n\n當然結合了 Vim 與 Visual Studio 的工具才達到這樣的速度，強烈推薦以下課程。\n\n## 我只推薦好東西\n\n[【極速開發+】 202002 第九梯次 台北](https://dotblogs.com.tw/hatelove/2019/06/17/extreme-developing-training-202002)\n\n### 課程優點\n\n1. 學心法也學作法，不是只有理論的打高空\n2. 認識同好 ，來上課的同學都是願意精進自已的人，所以身上有很多寶可以挖\n3. 認識 91 ，遇到 91 盡量挖就對了，偷到一招半式都完勝 10 年在那邊處理 NullReferenceException\n4. 學習怎麼學習\n\n## 其它本周學習事項\n\n1. 可以讓中斷點停留在 lambda express 中\n2. MSTest 請用 DescriptionAttribute 加入測試描述\n3. [.Net MVC Model Binding 若欄位為空字串預設為轉為 Null](https://docs.microsoft.com/zh-tw/dotnet/api/system.web.ui.webcontrols.boundfield.convertemptystringtonull?view=netframework-4.8)\n\n## 本周待確認事項\n\n1. 如何對 HttpClient 測試 ?\n2. 如何用 [FluentValidation](https://fluentvalidation.net/testing) 作測試 ?\n\n(fin)\n","source":"_posts/2019/introduce_variable_for_substring.md","raw":"---\ntitle: \"[學習筆記] 重構使用 Introduce Variable for Substring\"\ndate: 2019/07/09 20:02:13\n---\n\n## 要知道的事\n\n- 這是個人的學習記錄\n- 可能對你沒幫助\n- 不知不知最可怕。快不起來,因為你不覺得慢\n- 希望對你有幫助\n- 使用 Visual Studio & ReSharper\n\n## 問題\n\n> 把原本的程式\n> string url = \"<http://localhost:5000/api/v3.3/refund/PayPal/SF188964T\">\n>\n> 變成下面這樣\n>\n> string domain = \"<http://localhost:5000\";>  \n> string code = \"SF188964T\";  \n> string payType = \"PayPal\";  \n> string url = $\"{domain}/api/refund/{payType}/{code}\";  \n>\n> 你會怎麼作 ?\n\n我原本的作法，一個字一個挖出來，命名變數，再填回去。\n\n**怎麼作可以更快 ?**\n\n透過 Resharper 的 Refactor > Introduce Variable > Introduce Variable for Substring 即可快速重構。\n\n參考 91 的影片\n{% youtube Nqz8qapjjz4 %}\n\n我實測原本的開發時間約為2~3分鐘，善用工具約可以在 30 ~ 45 s 完成。\n效能提昇 400 % !!!!!(聽起來就很威)\n\n{% youtube C9jLXrh3LRg %}\n\n當然結合了 Vim 與 Visual Studio 的工具才達到這樣的速度，強烈推薦以下課程。\n\n## 我只推薦好東西\n\n[【極速開發+】 202002 第九梯次 台北](https://dotblogs.com.tw/hatelove/2019/06/17/extreme-developing-training-202002)\n\n### 課程優點\n\n1. 學心法也學作法，不是只有理論的打高空\n2. 認識同好 ，來上課的同學都是願意精進自已的人，所以身上有很多寶可以挖\n3. 認識 91 ，遇到 91 盡量挖就對了，偷到一招半式都完勝 10 年在那邊處理 NullReferenceException\n4. 學習怎麼學習\n\n## 其它本周學習事項\n\n1. 可以讓中斷點停留在 lambda express 中\n2. MSTest 請用 DescriptionAttribute 加入測試描述\n3. [.Net MVC Model Binding 若欄位為空字串預設為轉為 Null](https://docs.microsoft.com/zh-tw/dotnet/api/system.web.ui.webcontrols.boundfield.convertemptystringtonull?view=netframework-4.8)\n\n## 本周待確認事項\n\n1. 如何對 HttpClient 測試 ?\n2. 如何用 [FluentValidation](https://fluentvalidation.net/testing) 作測試 ?\n\n(fin)\n","slug":"2019/introduce_variable_for_substring","published":1,"updated":"2019-07-13T03:45:31.112Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wmn0033b0vx8zo6r8ay","content":"<h2 id=\"要知道的事\"><a href=\"#要知道的事\" class=\"headerlink\" title=\"要知道的事\"></a>要知道的事</h2><ul>\n<li>這是個人的學習記錄</li>\n<li>可能對你沒幫助</li>\n<li>不知不知最可怕。快不起來,因為你不覺得慢</li>\n<li>希望對你有幫助</li>\n<li>使用 Visual Studio &amp; ReSharper</li>\n</ul>\n<h2 id=\"問題\"><a href=\"#問題\" class=\"headerlink\" title=\"問題\"></a>問題</h2><blockquote>\n<p>把原本的程式<br>string url = “<a href=\"http://localhost:5000/api/v3.3/refund/PayPal/SF188964T&quot;\" target=\"_blank\" rel=\"noopener\">http://localhost:5000/api/v3.3/refund/PayPal/SF188964T&quot;</a></p>\n<p>變成下面這樣</p>\n<p>string domain = “<a href=\"http://localhost:5000&quot;;\" target=\"_blank\" rel=\"noopener\">http://localhost:5000&quot;;</a><br>string code = “SF188964T”;<br>string payType = “PayPal”;<br>string url = $”{domain}/api/refund/{payType}/{code}”;  </p>\n<p>你會怎麼作 ?</p>\n</blockquote>\n<p>我原本的作法，一個字一個挖出來，命名變數，再填回去。</p>\n<p><strong>怎麼作可以更快 ?</strong></p>\n<p>透過 Resharper 的 Refactor &gt; Introduce Variable &gt; Introduce Variable for Substring 即可快速重構。</p>\n<p>參考 91 的影片</p>\n<div class=\"video-container\"><iframe src=\"//www.youtube.com/embed/Nqz8qapjjz4\" frameborder=\"0\" allowfullscreen></iframe></div>\n\n<p>我實測原本的開發時間約為2~3分鐘，善用工具約可以在 30 ~ 45 s 完成。<br>效能提昇 400 % !!!!!(聽起來就很威)</p>\n<div class=\"video-container\"><iframe src=\"//www.youtube.com/embed/C9jLXrh3LRg\" frameborder=\"0\" allowfullscreen></iframe></div>\n\n<p>當然結合了 Vim 與 Visual Studio 的工具才達到這樣的速度，強烈推薦以下課程。</p>\n<h2 id=\"我只推薦好東西\"><a href=\"#我只推薦好東西\" class=\"headerlink\" title=\"我只推薦好東西\"></a>我只推薦好東西</h2><p><a href=\"https://dotblogs.com.tw/hatelove/2019/06/17/extreme-developing-training-202002\" target=\"_blank\" rel=\"noopener\">【極速開發+】 202002 第九梯次 台北</a></p>\n<h3 id=\"課程優點\"><a href=\"#課程優點\" class=\"headerlink\" title=\"課程優點\"></a>課程優點</h3><ol>\n<li>學心法也學作法，不是只有理論的打高空</li>\n<li>認識同好 ，來上課的同學都是願意精進自已的人，所以身上有很多寶可以挖</li>\n<li>認識 91 ，遇到 91 盡量挖就對了，偷到一招半式都完勝 10 年在那邊處理 NullReferenceException</li>\n<li>學習怎麼學習</li>\n</ol>\n<h2 id=\"其它本周學習事項\"><a href=\"#其它本周學習事項\" class=\"headerlink\" title=\"其它本周學習事項\"></a>其它本周學習事項</h2><ol>\n<li>可以讓中斷點停留在 lambda express 中</li>\n<li>MSTest 請用 DescriptionAttribute 加入測試描述</li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/dotnet/api/system.web.ui.webcontrols.boundfield.convertemptystringtonull?view=netframework-4.8\" target=\"_blank\" rel=\"noopener\">.Net MVC Model Binding 若欄位為空字串預設為轉為 Null</a></li>\n</ol>\n<h2 id=\"本周待確認事項\"><a href=\"#本周待確認事項\" class=\"headerlink\" title=\"本周待確認事項\"></a>本周待確認事項</h2><ol>\n<li>如何對 HttpClient 測試 ?</li>\n<li>如何用 <a href=\"https://fluentvalidation.net/testing\" target=\"_blank\" rel=\"noopener\">FluentValidation</a> 作測試 ?</li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"要知道的事\"><a href=\"#要知道的事\" class=\"headerlink\" title=\"要知道的事\"></a>要知道的事</h2><ul>\n<li>這是個人的學習記錄</li>\n<li>可能對你沒幫助</li>\n<li>不知不知最可怕。快不起來,因為你不覺得慢</li>\n<li>希望對你有幫助</li>\n<li>使用 Visual Studio &amp; ReSharper</li>\n</ul>\n<h2 id=\"問題\"><a href=\"#問題\" class=\"headerlink\" title=\"問題\"></a>問題</h2><blockquote>\n<p>把原本的程式<br>string url = “<a href=\"http://localhost:5000/api/v3.3/refund/PayPal/SF188964T&quot;\" target=\"_blank\" rel=\"noopener\">http://localhost:5000/api/v3.3/refund/PayPal/SF188964T&quot;</a></p>\n<p>變成下面這樣</p>\n<p>string domain = “<a href=\"http://localhost:5000&quot;;\" target=\"_blank\" rel=\"noopener\">http://localhost:5000&quot;;</a><br>string code = “SF188964T”;<br>string payType = “PayPal”;<br>string url = $”{domain}/api/refund/{payType}/{code}”;  </p>\n<p>你會怎麼作 ?</p>\n</blockquote>\n<p>我原本的作法，一個字一個挖出來，命名變數，再填回去。</p>\n<p><strong>怎麼作可以更快 ?</strong></p>\n<p>透過 Resharper 的 Refactor &gt; Introduce Variable &gt; Introduce Variable for Substring 即可快速重構。</p>\n<p>參考 91 的影片</p>\n<div class=\"video-container\"><iframe src=\"//www.youtube.com/embed/Nqz8qapjjz4\" frameborder=\"0\" allowfullscreen></iframe></div>\n\n<p>我實測原本的開發時間約為2~3分鐘，善用工具約可以在 30 ~ 45 s 完成。<br>效能提昇 400 % !!!!!(聽起來就很威)</p>\n<div class=\"video-container\"><iframe src=\"//www.youtube.com/embed/C9jLXrh3LRg\" frameborder=\"0\" allowfullscreen></iframe></div>\n\n<p>當然結合了 Vim 與 Visual Studio 的工具才達到這樣的速度，強烈推薦以下課程。</p>\n<h2 id=\"我只推薦好東西\"><a href=\"#我只推薦好東西\" class=\"headerlink\" title=\"我只推薦好東西\"></a>我只推薦好東西</h2><p><a href=\"https://dotblogs.com.tw/hatelove/2019/06/17/extreme-developing-training-202002\" target=\"_blank\" rel=\"noopener\">【極速開發+】 202002 第九梯次 台北</a></p>\n<h3 id=\"課程優點\"><a href=\"#課程優點\" class=\"headerlink\" title=\"課程優點\"></a>課程優點</h3><ol>\n<li>學心法也學作法，不是只有理論的打高空</li>\n<li>認識同好 ，來上課的同學都是願意精進自已的人，所以身上有很多寶可以挖</li>\n<li>認識 91 ，遇到 91 盡量挖就對了，偷到一招半式都完勝 10 年在那邊處理 NullReferenceException</li>\n<li>學習怎麼學習</li>\n</ol>\n<h2 id=\"其它本周學習事項\"><a href=\"#其它本周學習事項\" class=\"headerlink\" title=\"其它本周學習事項\"></a>其它本周學習事項</h2><ol>\n<li>可以讓中斷點停留在 lambda express 中</li>\n<li>MSTest 請用 DescriptionAttribute 加入測試描述</li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/dotnet/api/system.web.ui.webcontrols.boundfield.convertemptystringtonull?view=netframework-4.8\" target=\"_blank\" rel=\"noopener\">.Net MVC Model Binding 若欄位為空字串預設為轉為 Null</a></li>\n</ol>\n<h2 id=\"本周待確認事項\"><a href=\"#本周待確認事項\" class=\"headerlink\" title=\"本周待確認事項\"></a>本周待確認事項</h2><ol>\n<li>如何對 HttpClient 測試 ?</li>\n<li>如何用 <a href=\"https://fluentvalidation.net/testing\" target=\"_blank\" rel=\"noopener\">FluentValidation</a> 作測試 ?</li>\n</ol>\n<p>(fin)</p>\n"},{"title":"[實作筆記] 讓 SonarQube 檢查你的代碼 ","date":"2019-05-16T09:13:18.000Z","_content":"\n## 前情提要\n\n1. SonarQube 是一個開源的代碼品質(Quality)管理系統\n2. 我目前的公司 N 社是自架 SonarQube Server 再與 CI 結合\n3. 能夠透過工具讓代碼品質提昇，我訂定的目標如下\n   - 免費\n   - 能夠與 CI 結合，持續檢查代碼品質\n   - 與 Side Project 結合\n\n## 應該要知道的事\n\n1. 掃瞄環境為 Windows\n2. 掃瞄專案為 .Net Core 2.2 版\n3. 使用 PowerShell 執行 Command\n4. 也許不需要知道\n\n## 實作筆記\n\n1. 申請[SonarCloud](https://sonarcloud.io)帳號，我直接使用 Github\n\n   - 需要允許 SonarCloud 存取 Github 的專案 Repo\n   - 建立一組 Token, 用來作身份驗証，可以重複使用請勿外流\n   - 如果要刪除 Token 請至 My Account > Security 找到並 Revoke\n           ![建立 token](/images/2019/5/sonarcloud_gen.jpg)  \n           ![建立 token2](/images/2019/5/sonarcloud_gentoken.jpg)  \n   - 下載 SonarQube 執行檔，請選擇你的語言\n           ![執行命令](/images/2019/5/sonarcloud_command.jpg)\n\n2. 執行掃瞄前的準備作業\n\n   - 設定 Path (實務上我沒有設定)\n   - 切換到專案目錄底下\n\n3. 啟動掃瞄，以 .Net Core 為例\n\n```shell\n> dotnet \"{path of sonar scanner}\\SonarScanner.MSBuild.dll\" begin /k:\"{project name}\" /o:{group name} /d:sonar.host.url=\"https://sonarcloud.io\" /d:sonar.login=\"{your token}\"\n```\n\n輸出結果\n\n```shell\nUsing the .NET Core version of the Scanner for MSBuild\nPre-processing started.\n中略...\n16:40:31.855  Pre-processing succeeded.\n```\n\n1. 建置專案\n\n```shell\ndotnet build\n```\n\n輸出結果\n\n```shell\nMicrosoft (R) Build Engine version 15.9.20+g88f5fadfbe for .NET Core\nCopyright (C) Microsoft Corporation. All rights reserved.\n中略...\nBuild succeeded.\n```\n\n1. 上傳結果\n\n```shell\n> dotnet \"{path of sonar scanner}\\SonarScanner.MSBuild.dll\" end /d:sonar.login=\"{your token}\"\n```\n\n輸出結果\n\n```bash\nSonarScanner for MSBuild 4.6.1\nUsing the .NET Core version of the Scanner for MSBuild\nPost-processing started.\n中略...\nINFO: Analysis total time: 21.446 s\nINFO: ------------------------------------------------------------------------\nINFO: EXECUTION SUCCESS\nINFO: ------------------------------------------------------------------------\nINFO: Total time: 2:27.021s\nINFO: Final Memory: 24M/72M\nINFO: ------------------------------------------------------------------------\nThe SonarQube Scanner has finished\n```\n\n最後到 SonarCloud 的網站上就可以看到報告結果，  \n下一步就是將這整段流程結合 CI ，官網推薦是使用 Travis CI,\n也有相同的文件與資源，我會試試看或是使用 Jenkins,\n如果有機會能更進一步，我想結合 [OpenShift](https://www.openshift.com/) ,\n讓部署的過程中結合代碼品質檢查。\n\n![結果上傳](/images/2019/5/sonarcloud_result.jpg)\n\n## 參考\n\n- [Static Code Analysis of .NET Core Projects with SonarCloud](https://dotnetthoughts.net/static-code-analysis-of-netcore-projects/)\n- [SonarQube - 维基百科，自由的百科全书](https://zh.wikipedia.org/wiki/SonarQube)\n- [Continuous Inspection | SonarQube](https://www.sonarqube.org/)\n\n(fin)\n","source":"_posts/2019/opensource_with_sonarcloud.md","raw":"---\ntitle: \"[實作筆記] 讓 SonarQube 檢查你的代碼 \"\ndate: 2019/05/16 17:13:18\ntag:\n    - .Net Framework\n---\n\n## 前情提要\n\n1. SonarQube 是一個開源的代碼品質(Quality)管理系統\n2. 我目前的公司 N 社是自架 SonarQube Server 再與 CI 結合\n3. 能夠透過工具讓代碼品質提昇，我訂定的目標如下\n   - 免費\n   - 能夠與 CI 結合，持續檢查代碼品質\n   - 與 Side Project 結合\n\n## 應該要知道的事\n\n1. 掃瞄環境為 Windows\n2. 掃瞄專案為 .Net Core 2.2 版\n3. 使用 PowerShell 執行 Command\n4. 也許不需要知道\n\n## 實作筆記\n\n1. 申請[SonarCloud](https://sonarcloud.io)帳號，我直接使用 Github\n\n   - 需要允許 SonarCloud 存取 Github 的專案 Repo\n   - 建立一組 Token, 用來作身份驗証，可以重複使用請勿外流\n   - 如果要刪除 Token 請至 My Account > Security 找到並 Revoke\n           ![建立 token](/images/2019/5/sonarcloud_gen.jpg)  \n           ![建立 token2](/images/2019/5/sonarcloud_gentoken.jpg)  \n   - 下載 SonarQube 執行檔，請選擇你的語言\n           ![執行命令](/images/2019/5/sonarcloud_command.jpg)\n\n2. 執行掃瞄前的準備作業\n\n   - 設定 Path (實務上我沒有設定)\n   - 切換到專案目錄底下\n\n3. 啟動掃瞄，以 .Net Core 為例\n\n```shell\n> dotnet \"{path of sonar scanner}\\SonarScanner.MSBuild.dll\" begin /k:\"{project name}\" /o:{group name} /d:sonar.host.url=\"https://sonarcloud.io\" /d:sonar.login=\"{your token}\"\n```\n\n輸出結果\n\n```shell\nUsing the .NET Core version of the Scanner for MSBuild\nPre-processing started.\n中略...\n16:40:31.855  Pre-processing succeeded.\n```\n\n1. 建置專案\n\n```shell\ndotnet build\n```\n\n輸出結果\n\n```shell\nMicrosoft (R) Build Engine version 15.9.20+g88f5fadfbe for .NET Core\nCopyright (C) Microsoft Corporation. All rights reserved.\n中略...\nBuild succeeded.\n```\n\n1. 上傳結果\n\n```shell\n> dotnet \"{path of sonar scanner}\\SonarScanner.MSBuild.dll\" end /d:sonar.login=\"{your token}\"\n```\n\n輸出結果\n\n```bash\nSonarScanner for MSBuild 4.6.1\nUsing the .NET Core version of the Scanner for MSBuild\nPost-processing started.\n中略...\nINFO: Analysis total time: 21.446 s\nINFO: ------------------------------------------------------------------------\nINFO: EXECUTION SUCCESS\nINFO: ------------------------------------------------------------------------\nINFO: Total time: 2:27.021s\nINFO: Final Memory: 24M/72M\nINFO: ------------------------------------------------------------------------\nThe SonarQube Scanner has finished\n```\n\n最後到 SonarCloud 的網站上就可以看到報告結果，  \n下一步就是將這整段流程結合 CI ，官網推薦是使用 Travis CI,\n也有相同的文件與資源，我會試試看或是使用 Jenkins,\n如果有機會能更進一步，我想結合 [OpenShift](https://www.openshift.com/) ,\n讓部署的過程中結合代碼品質檢查。\n\n![結果上傳](/images/2019/5/sonarcloud_result.jpg)\n\n## 參考\n\n- [Static Code Analysis of .NET Core Projects with SonarCloud](https://dotnetthoughts.net/static-code-analysis-of-netcore-projects/)\n- [SonarQube - 维基百科，自由的百科全书](https://zh.wikipedia.org/wiki/SonarQube)\n- [Continuous Inspection | SonarQube](https://www.sonarqube.org/)\n\n(fin)\n","slug":"2019/opensource_with_sonarcloud","published":1,"updated":"2019-09-08T10:11:38.316Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wmp0035b0vxfcnuia4v","content":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><ol>\n<li>SonarQube 是一個開源的代碼品質(Quality)管理系統</li>\n<li>我目前的公司 N 社是自架 SonarQube Server 再與 CI 結合</li>\n<li>能夠透過工具讓代碼品質提昇，我訂定的目標如下<ul>\n<li>免費</li>\n<li>能夠與 CI 結合，持續檢查代碼品質</li>\n<li>與 Side Project 結合</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"應該要知道的事\"><a href=\"#應該要知道的事\" class=\"headerlink\" title=\"應該要知道的事\"></a>應該要知道的事</h2><ol>\n<li>掃瞄環境為 Windows</li>\n<li>掃瞄專案為 .Net Core 2.2 版</li>\n<li>使用 PowerShell 執行 Command</li>\n<li>也許不需要知道</li>\n</ol>\n<h2 id=\"實作筆記\"><a href=\"#實作筆記\" class=\"headerlink\" title=\"實作筆記\"></a>實作筆記</h2><ol>\n<li><p>申請<a href=\"https://sonarcloud.io\" target=\"_blank\" rel=\"noopener\">SonarCloud</a>帳號，我直接使用 Github</p>\n<ul>\n<li>需要允許 SonarCloud 存取 Github 的專案 Repo</li>\n<li>建立一組 Token, 用來作身份驗証，可以重複使用請勿外流</li>\n<li>如果要刪除 Token 請至 My Account &gt; Security 找到並 Revoke<pre><code>![建立 token](/images/2019/5/sonarcloud_gen.jpg)  \n![建立 token2](/images/2019/5/sonarcloud_gentoken.jpg)  </code></pre></li>\n<li>下載 SonarQube 執行檔，請選擇你的語言<pre><code>![執行命令](/images/2019/5/sonarcloud_command.jpg)</code></pre></li>\n</ul>\n</li>\n<li><p>執行掃瞄前的準備作業</p>\n<ul>\n<li>設定 Path (實務上我沒有設定)</li>\n<li>切換到專案目錄底下</li>\n</ul>\n</li>\n<li><p>啟動掃瞄，以 .Net Core 為例</p>\n</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> dotnet <span class=\"string\">\"&#123;path of sonar scanner&#125;\\SonarScanner.MSBuild.dll\"</span> begin /k:<span class=\"string\">\"&#123;project name&#125;\"</span> /o:&#123;group name&#125; /d:sonar.host.url=<span class=\"string\">\"https://sonarcloud.io\"</span> /d:sonar.login=<span class=\"string\">\"&#123;your token&#125;\"</span></span></span><br></pre></td></tr></table></figure>\n\n<p>輸出結果</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Using the .NET Core version of the Scanner for MSBuild</span><br><span class=\"line\">Pre-processing started.</span><br><span class=\"line\">中略...</span><br><span class=\"line\">16:40:31.855  Pre-processing succeeded.</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>建置專案</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet build</span><br></pre></td></tr></table></figure>\n\n<p>輸出結果</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Microsoft (R) Build Engine version 15.9.20+g88f5fadfbe for .NET Core</span><br><span class=\"line\">Copyright (C) Microsoft Corporation. All rights reserved.</span><br><span class=\"line\">中略...</span><br><span class=\"line\">Build succeeded.</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>上傳結果</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> dotnet <span class=\"string\">\"&#123;path of sonar scanner&#125;\\SonarScanner.MSBuild.dll\"</span> end /d:sonar.login=<span class=\"string\">\"&#123;your token&#125;\"</span></span></span><br></pre></td></tr></table></figure>\n\n<p>輸出結果</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SonarScanner <span class=\"keyword\">for</span> MSBuild 4.6.1</span><br><span class=\"line\">Using the .NET Core version of the Scanner <span class=\"keyword\">for</span> MSBuild</span><br><span class=\"line\">Post-processing started.</span><br><span class=\"line\">中略...</span><br><span class=\"line\">INFO: Analysis total time: 21.446 s</span><br><span class=\"line\">INFO: ------------------------------------------------------------------------</span><br><span class=\"line\">INFO: EXECUTION SUCCESS</span><br><span class=\"line\">INFO: ------------------------------------------------------------------------</span><br><span class=\"line\">INFO: Total time: 2:27.021s</span><br><span class=\"line\">INFO: Final Memory: 24M/72M</span><br><span class=\"line\">INFO: ------------------------------------------------------------------------</span><br><span class=\"line\">The SonarQube Scanner has finished</span><br></pre></td></tr></table></figure>\n\n<p>最後到 SonarCloud 的網站上就可以看到報告結果，<br>下一步就是將這整段流程結合 CI ，官網推薦是使用 Travis CI,<br>也有相同的文件與資源，我會試試看或是使用 Jenkins,<br>如果有機會能更進一步，我想結合 <a href=\"https://www.openshift.com/\" target=\"_blank\" rel=\"noopener\">OpenShift</a> ,<br>讓部署的過程中結合代碼品質檢查。</p>\n<p><img src=\"/images/2019/5/sonarcloud_result.jpg\" alt=\"結果上傳\"></p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://dotnetthoughts.net/static-code-analysis-of-netcore-projects/\" target=\"_blank\" rel=\"noopener\">Static Code Analysis of .NET Core Projects with SonarCloud</a></li>\n<li><a href=\"https://zh.wikipedia.org/wiki/SonarQube\" target=\"_blank\" rel=\"noopener\">SonarQube - 维基百科，自由的百科全书</a></li>\n<li><a href=\"https://www.sonarqube.org/\" target=\"_blank\" rel=\"noopener\">Continuous Inspection | SonarQube</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><ol>\n<li>SonarQube 是一個開源的代碼品質(Quality)管理系統</li>\n<li>我目前的公司 N 社是自架 SonarQube Server 再與 CI 結合</li>\n<li>能夠透過工具讓代碼品質提昇，我訂定的目標如下<ul>\n<li>免費</li>\n<li>能夠與 CI 結合，持續檢查代碼品質</li>\n<li>與 Side Project 結合</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"應該要知道的事\"><a href=\"#應該要知道的事\" class=\"headerlink\" title=\"應該要知道的事\"></a>應該要知道的事</h2><ol>\n<li>掃瞄環境為 Windows</li>\n<li>掃瞄專案為 .Net Core 2.2 版</li>\n<li>使用 PowerShell 執行 Command</li>\n<li>也許不需要知道</li>\n</ol>\n<h2 id=\"實作筆記\"><a href=\"#實作筆記\" class=\"headerlink\" title=\"實作筆記\"></a>實作筆記</h2><ol>\n<li><p>申請<a href=\"https://sonarcloud.io\" target=\"_blank\" rel=\"noopener\">SonarCloud</a>帳號，我直接使用 Github</p>\n<ul>\n<li>需要允許 SonarCloud 存取 Github 的專案 Repo</li>\n<li>建立一組 Token, 用來作身份驗証，可以重複使用請勿外流</li>\n<li>如果要刪除 Token 請至 My Account &gt; Security 找到並 Revoke<pre><code>![建立 token](/images/2019/5/sonarcloud_gen.jpg)  \n![建立 token2](/images/2019/5/sonarcloud_gentoken.jpg)  </code></pre></li>\n<li>下載 SonarQube 執行檔，請選擇你的語言<pre><code>![執行命令](/images/2019/5/sonarcloud_command.jpg)</code></pre></li>\n</ul>\n</li>\n<li><p>執行掃瞄前的準備作業</p>\n<ul>\n<li>設定 Path (實務上我沒有設定)</li>\n<li>切換到專案目錄底下</li>\n</ul>\n</li>\n<li><p>啟動掃瞄，以 .Net Core 為例</p>\n</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> dotnet <span class=\"string\">\"&#123;path of sonar scanner&#125;\\SonarScanner.MSBuild.dll\"</span> begin /k:<span class=\"string\">\"&#123;project name&#125;\"</span> /o:&#123;group name&#125; /d:sonar.host.url=<span class=\"string\">\"https://sonarcloud.io\"</span> /d:sonar.login=<span class=\"string\">\"&#123;your token&#125;\"</span></span></span><br></pre></td></tr></table></figure>\n\n<p>輸出結果</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Using the .NET Core version of the Scanner for MSBuild</span><br><span class=\"line\">Pre-processing started.</span><br><span class=\"line\">中略...</span><br><span class=\"line\">16:40:31.855  Pre-processing succeeded.</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>建置專案</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet build</span><br></pre></td></tr></table></figure>\n\n<p>輸出結果</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Microsoft (R) Build Engine version 15.9.20+g88f5fadfbe for .NET Core</span><br><span class=\"line\">Copyright (C) Microsoft Corporation. All rights reserved.</span><br><span class=\"line\">中略...</span><br><span class=\"line\">Build succeeded.</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>上傳結果</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> dotnet <span class=\"string\">\"&#123;path of sonar scanner&#125;\\SonarScanner.MSBuild.dll\"</span> end /d:sonar.login=<span class=\"string\">\"&#123;your token&#125;\"</span></span></span><br></pre></td></tr></table></figure>\n\n<p>輸出結果</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SonarScanner <span class=\"keyword\">for</span> MSBuild 4.6.1</span><br><span class=\"line\">Using the .NET Core version of the Scanner <span class=\"keyword\">for</span> MSBuild</span><br><span class=\"line\">Post-processing started.</span><br><span class=\"line\">中略...</span><br><span class=\"line\">INFO: Analysis total time: 21.446 s</span><br><span class=\"line\">INFO: ------------------------------------------------------------------------</span><br><span class=\"line\">INFO: EXECUTION SUCCESS</span><br><span class=\"line\">INFO: ------------------------------------------------------------------------</span><br><span class=\"line\">INFO: Total time: 2:27.021s</span><br><span class=\"line\">INFO: Final Memory: 24M/72M</span><br><span class=\"line\">INFO: ------------------------------------------------------------------------</span><br><span class=\"line\">The SonarQube Scanner has finished</span><br></pre></td></tr></table></figure>\n\n<p>最後到 SonarCloud 的網站上就可以看到報告結果，<br>下一步就是將這整段流程結合 CI ，官網推薦是使用 Travis CI,<br>也有相同的文件與資源，我會試試看或是使用 Jenkins,<br>如果有機會能更進一步，我想結合 <a href=\"https://www.openshift.com/\" target=\"_blank\" rel=\"noopener\">OpenShift</a> ,<br>讓部署的過程中結合代碼品質檢查。</p>\n<p><img src=\"/images/2019/5/sonarcloud_result.jpg\" alt=\"結果上傳\"></p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://dotnetthoughts.net/static-code-analysis-of-netcore-projects/\" target=\"_blank\" rel=\"noopener\">Static Code Analysis of .NET Core Projects with SonarCloud</a></li>\n<li><a href=\"https://zh.wikipedia.org/wiki/SonarQube\" target=\"_blank\" rel=\"noopener\">SonarQube - 维基百科，自由的百科全书</a></li>\n<li><a href=\"https://www.sonarqube.org/\" target=\"_blank\" rel=\"noopener\">Continuous Inspection | SonarQube</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[實作筆記] 利用 .Net Core Project Template 加速開發","date":"2019-09-01T12:46:46.000Z","_content":"\n## 要知道的事\n\n這篇是實作的紀錄，大部份資源都參考至 MSDN 線上文件  \n那裡會有更新更完整的文件支援。\n\n## 前情提要\n\n專案上作了一個跨市場的服務，以提供主服務對不同市場金流的支援。  \n首先有一個國際化的專案，用來制定 API 層級的標準化，  \n而在不同的市場，例如:馬來西亞、香港、烏克蘭等…。  \n在地化的項目需要建立外掛(Plugin)專案的方式進行開發…  \n\n建立一個全新的 Plugin 專案是一件麻煩的事，  \n首先要加入專案，再來要實作相對應的介面，  \n這裡指的是建立一個類別，然後繼承一堆介面，  \nex:IPay、IRefund、ICheck…等，  \n並不包含商務邏輯的開發與實際的 API 或 SDK 串接，  \n而在公司的標準之下，我還必須引入一堆參考或 Nuget 套件。\n同時因為國際化專案採用動態載入的機制，  \n有一些細節準則需要由 Plugin 專案遵循，才不會引發異常或 Runtime Error。\n\n## 實作筆記\n\n### 建立專案樣版 SOP\n\n1. 建立樣版資料夾，比如說 `Blog.Plugin.Template`\n2. 準備好你的專案檔與相關的必要檔案\n\n    這裡的檔案你可以拿現成專案作修改，我個人是從頭手工打造了一個全新的Plugin。  \n    並且去除所有不相關不必要的資料夾、檔案、參考與程式。  \n    簡單的來說，這是一個殼、一個專案樣版(Template)而已。\n    接下來會遇到的問題「參數化」，比如說專案的名稱，資料夾的名稱，或是程式本身的內容，會依據不同的 Plugin 專案而改變的部份。  \n    我把它分為檔案層級與內容層級的參數化。\n    - 檔案層級參數化\n\n        表示檔案名稱或是資料夾名稱等，我有動態抽換的需求。  \n        我會用 `F-*` 作為參數名稱，比如說 `F-plugin-name`\n        接下來將資料夾或檔案名稱想被抽換的部份改成參數名稱就好，參考下圖。\n        ![檔案層級參數化](https://i.imgur.com/wQVnR1h.jpg)\n\n    - 內容層級參數化\n\n        比如說 Class Name、Namespace、建構子或方法，甚至是預設的註解，  \n        簡單的說只要是檔案內容相關的文字有必要被抽換，我就會使用這個參數設定。  \n        我會直接使用 `C-*` 參數名稱，比如說 `C-plugin-name`。  \n        下面是個例子。\n        ![內容層級參數化](https://i.imgur.com/AhlYXRt.jpg)\n\n3. 建立 `.template.config` 資料夾\n\n4. 在`.template.config` 建立 `template.json`\n     `template.json` 可以說是整個專案樣版的靈魂部份，更多的訊息可以在 MSDN 找到，  \n     我只說明 `symbols` 節點的部份，它用來方置參數的訊息，所以需要建立一個自訂義的子節點，在這裡我命名為 `pluginName`，同時指定他的 type 為 parameter，  \n     透過設定 `defaultValue` 給予預設值，最後將 `fileRename` 指定為 `F-plugin-name`，  \n     將 `(C-plugin-name)` 指定為我的內容層級參數。\n\n    ```json=\n    {\n    \"$schema\": \"http://json.schemastore.org/template\",\n    \"author\": \"MarkLin\",\n    \"classifications\": [ \"Common\", \"SDK\", \"C#8\" ],\n    \"identity\": \"Marsen.Blog.Plugin.Template\",\n    \"name\": \"Marsen Blog Plugin Template\",\n    \"shortName\": \"mbp\",\n    \"tags\": {\n        \"language\": \"C#\",\n        \"type\": \"project\"\n    },  \n    \"preferNameDirectory\": true,\n    \"symbols\":{\n        \"pluginName\": {\n        \"type\": \"parameter\",\n        \"defaultValue\": \"Demo\",\n        \"fileRename\": \"F-plugin-name\",\n        \"replaces\":\"(C-plugin-name)\"\n        }\n    }\n    }\n    ```\n\n5. CLI強化，在`.template.config` 建立 `dotnetcli.host.json`\n    這個檔案建立的目的，是為了讓我接下來使用 CLI 建立專案時能夠指定傳入的參數。\n    這裡需指定 `template.json` 中的 symbol 並設定\n\n    ```json=\n    {\n      \"symbolInfo\": {\n          \"pluginName\": {\n              \"longName\": \"pluginName\",\n              \"shortName\": \"p\"\n              }\n        }\n    }\n    ```\n\n6. 執行 `dotnet new i` 註冊樣版\n    執行命令前請確定所在位置包含`.template.config` 資料夾與相關的檔案\n\n    ```bash\n    dotnet new -i ./\n    ```\n\n7. 執行 `dotnet new -u` 查詢樣版列表資訊確認安裝已完成\n\n8. 應用\n\n    在想建立專案的資料夾底下執行 `dotnet new <template_name>` 語法,  \n    並且可以透過 CLI 指定參數，我並沒有研究 GUI 的操作，有興趣的人請自行研究，  \n    如果能分享給我就不勝感激。\n\n    ```bash\n    dotnet new mbp -p Marsen2\n    ```\n\n9. 展示  \n\n{% youtube RA_lHoa5uuI %}\n\n我把這個例子放在 [Github](https://github.com/marsen/dotnet.core.project.template.sample) 上，有興趣的朋友可以試試看。\n\n## 其它\n\n### 移除專案樣板 SOP\n\n1. 執行 `dotnet new -u` 查詢樣版列表資訊，可以查到專案樣版的絕對路徑\n2. 執行 `dotnet new -u <ABSOLUTE_FILE_SYSTEM_DIRECTORY>`\n\n### 更新專案樣版\n\n直接進入專案樣版的絕對路徑\n\n### 發佈\n\n略…\n\n## 參考\n\n- [我的範例](https://github.com/marsen/dotnet.core.project.template.sample)\n- [教學課程：建立項目範本](https://docs.microsoft.com/zh-tw/dotnet/core/tutorials/cli-templates-create-item-template)\n- [教學課程：建立專案範本](https://docs.microsoft.com/zh-tw/dotnet/core/tutorials/cli-templates-create-project-template)\n- [dotnet/dotnet-template-samples](https://github.com/dotnet/dotnet-template-samples)\n- [Tips for developing templates for dotnet new](https://www.jerriepelser.com/blog/tips-for-developing-dotnet-new-templates/)\n- [JSON 結構描述保存區的 template.json 結構描述](http://json.schemastore.org/template)\n- [How to name (or rename) files based on a parameter? · Issue #1238 · dotnet/templating](https://github.com/dotnet/templating/issues/1238)\n- [Tips for developing templates for dotnet new](https://www.jerriepelser.com/blog/tips-for-developing-dotnet-new-templates/)\n\n(fin)\n","source":"_posts/2019/dotnet_core_projecte_template.md","raw":"---\ntitle: \"[實作筆記] 利用 .Net Core Project Template 加速開發\"\ndate: 2019/09/01 20:46:46\n\n---\n\n## 要知道的事\n\n這篇是實作的紀錄，大部份資源都參考至 MSDN 線上文件  \n那裡會有更新更完整的文件支援。\n\n## 前情提要\n\n專案上作了一個跨市場的服務，以提供主服務對不同市場金流的支援。  \n首先有一個國際化的專案，用來制定 API 層級的標準化，  \n而在不同的市場，例如:馬來西亞、香港、烏克蘭等…。  \n在地化的項目需要建立外掛(Plugin)專案的方式進行開發…  \n\n建立一個全新的 Plugin 專案是一件麻煩的事，  \n首先要加入專案，再來要實作相對應的介面，  \n這裡指的是建立一個類別，然後繼承一堆介面，  \nex:IPay、IRefund、ICheck…等，  \n並不包含商務邏輯的開發與實際的 API 或 SDK 串接，  \n而在公司的標準之下，我還必須引入一堆參考或 Nuget 套件。\n同時因為國際化專案採用動態載入的機制，  \n有一些細節準則需要由 Plugin 專案遵循，才不會引發異常或 Runtime Error。\n\n## 實作筆記\n\n### 建立專案樣版 SOP\n\n1. 建立樣版資料夾，比如說 `Blog.Plugin.Template`\n2. 準備好你的專案檔與相關的必要檔案\n\n    這裡的檔案你可以拿現成專案作修改，我個人是從頭手工打造了一個全新的Plugin。  \n    並且去除所有不相關不必要的資料夾、檔案、參考與程式。  \n    簡單的來說，這是一個殼、一個專案樣版(Template)而已。\n    接下來會遇到的問題「參數化」，比如說專案的名稱，資料夾的名稱，或是程式本身的內容，會依據不同的 Plugin 專案而改變的部份。  \n    我把它分為檔案層級與內容層級的參數化。\n    - 檔案層級參數化\n\n        表示檔案名稱或是資料夾名稱等，我有動態抽換的需求。  \n        我會用 `F-*` 作為參數名稱，比如說 `F-plugin-name`\n        接下來將資料夾或檔案名稱想被抽換的部份改成參數名稱就好，參考下圖。\n        ![檔案層級參數化](https://i.imgur.com/wQVnR1h.jpg)\n\n    - 內容層級參數化\n\n        比如說 Class Name、Namespace、建構子或方法，甚至是預設的註解，  \n        簡單的說只要是檔案內容相關的文字有必要被抽換，我就會使用這個參數設定。  \n        我會直接使用 `C-*` 參數名稱，比如說 `C-plugin-name`。  \n        下面是個例子。\n        ![內容層級參數化](https://i.imgur.com/AhlYXRt.jpg)\n\n3. 建立 `.template.config` 資料夾\n\n4. 在`.template.config` 建立 `template.json`\n     `template.json` 可以說是整個專案樣版的靈魂部份，更多的訊息可以在 MSDN 找到，  \n     我只說明 `symbols` 節點的部份，它用來方置參數的訊息，所以需要建立一個自訂義的子節點，在這裡我命名為 `pluginName`，同時指定他的 type 為 parameter，  \n     透過設定 `defaultValue` 給予預設值，最後將 `fileRename` 指定為 `F-plugin-name`，  \n     將 `(C-plugin-name)` 指定為我的內容層級參數。\n\n    ```json=\n    {\n    \"$schema\": \"http://json.schemastore.org/template\",\n    \"author\": \"MarkLin\",\n    \"classifications\": [ \"Common\", \"SDK\", \"C#8\" ],\n    \"identity\": \"Marsen.Blog.Plugin.Template\",\n    \"name\": \"Marsen Blog Plugin Template\",\n    \"shortName\": \"mbp\",\n    \"tags\": {\n        \"language\": \"C#\",\n        \"type\": \"project\"\n    },  \n    \"preferNameDirectory\": true,\n    \"symbols\":{\n        \"pluginName\": {\n        \"type\": \"parameter\",\n        \"defaultValue\": \"Demo\",\n        \"fileRename\": \"F-plugin-name\",\n        \"replaces\":\"(C-plugin-name)\"\n        }\n    }\n    }\n    ```\n\n5. CLI強化，在`.template.config` 建立 `dotnetcli.host.json`\n    這個檔案建立的目的，是為了讓我接下來使用 CLI 建立專案時能夠指定傳入的參數。\n    這裡需指定 `template.json` 中的 symbol 並設定\n\n    ```json=\n    {\n      \"symbolInfo\": {\n          \"pluginName\": {\n              \"longName\": \"pluginName\",\n              \"shortName\": \"p\"\n              }\n        }\n    }\n    ```\n\n6. 執行 `dotnet new i` 註冊樣版\n    執行命令前請確定所在位置包含`.template.config` 資料夾與相關的檔案\n\n    ```bash\n    dotnet new -i ./\n    ```\n\n7. 執行 `dotnet new -u` 查詢樣版列表資訊確認安裝已完成\n\n8. 應用\n\n    在想建立專案的資料夾底下執行 `dotnet new <template_name>` 語法,  \n    並且可以透過 CLI 指定參數，我並沒有研究 GUI 的操作，有興趣的人請自行研究，  \n    如果能分享給我就不勝感激。\n\n    ```bash\n    dotnet new mbp -p Marsen2\n    ```\n\n9. 展示  \n\n{% youtube RA_lHoa5uuI %}\n\n我把這個例子放在 [Github](https://github.com/marsen/dotnet.core.project.template.sample) 上，有興趣的朋友可以試試看。\n\n## 其它\n\n### 移除專案樣板 SOP\n\n1. 執行 `dotnet new -u` 查詢樣版列表資訊，可以查到專案樣版的絕對路徑\n2. 執行 `dotnet new -u <ABSOLUTE_FILE_SYSTEM_DIRECTORY>`\n\n### 更新專案樣版\n\n直接進入專案樣版的絕對路徑\n\n### 發佈\n\n略…\n\n## 參考\n\n- [我的範例](https://github.com/marsen/dotnet.core.project.template.sample)\n- [教學課程：建立項目範本](https://docs.microsoft.com/zh-tw/dotnet/core/tutorials/cli-templates-create-item-template)\n- [教學課程：建立專案範本](https://docs.microsoft.com/zh-tw/dotnet/core/tutorials/cli-templates-create-project-template)\n- [dotnet/dotnet-template-samples](https://github.com/dotnet/dotnet-template-samples)\n- [Tips for developing templates for dotnet new](https://www.jerriepelser.com/blog/tips-for-developing-dotnet-new-templates/)\n- [JSON 結構描述保存區的 template.json 結構描述](http://json.schemastore.org/template)\n- [How to name (or rename) files based on a parameter? · Issue #1238 · dotnet/templating](https://github.com/dotnet/templating/issues/1238)\n- [Tips for developing templates for dotnet new](https://www.jerriepelser.com/blog/tips-for-developing-dotnet-new-templates/)\n\n(fin)\n","slug":"2019/dotnet_core_projecte_template","published":1,"updated":"2019-09-08T09:50:33.659Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wmq0036b0vxjcv34rcb","content":"<h2 id=\"要知道的事\"><a href=\"#要知道的事\" class=\"headerlink\" title=\"要知道的事\"></a>要知道的事</h2><p>這篇是實作的紀錄，大部份資源都參考至 MSDN 線上文件<br>那裡會有更新更完整的文件支援。</p>\n<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>專案上作了一個跨市場的服務，以提供主服務對不同市場金流的支援。<br>首先有一個國際化的專案，用來制定 API 層級的標準化，<br>而在不同的市場，例如:馬來西亞、香港、烏克蘭等…。<br>在地化的項目需要建立外掛(Plugin)專案的方式進行開發…  </p>\n<p>建立一個全新的 Plugin 專案是一件麻煩的事，<br>首先要加入專案，再來要實作相對應的介面，<br>這裡指的是建立一個類別，然後繼承一堆介面，<br>ex:IPay、IRefund、ICheck…等，<br>並不包含商務邏輯的開發與實際的 API 或 SDK 串接，<br>而在公司的標準之下，我還必須引入一堆參考或 Nuget 套件。<br>同時因為國際化專案採用動態載入的機制，<br>有一些細節準則需要由 Plugin 專案遵循，才不會引發異常或 Runtime Error。</p>\n<h2 id=\"實作筆記\"><a href=\"#實作筆記\" class=\"headerlink\" title=\"實作筆記\"></a>實作筆記</h2><h3 id=\"建立專案樣版-SOP\"><a href=\"#建立專案樣版-SOP\" class=\"headerlink\" title=\"建立專案樣版 SOP\"></a>建立專案樣版 SOP</h3><ol>\n<li><p>建立樣版資料夾，比如說 <code>Blog.Plugin.Template</code></p>\n</li>\n<li><p>準備好你的專案檔與相關的必要檔案</p>\n<p> 這裡的檔案你可以拿現成專案作修改，我個人是從頭手工打造了一個全新的Plugin。<br> 並且去除所有不相關不必要的資料夾、檔案、參考與程式。<br> 簡單的來說，這是一個殼、一個專案樣版(Template)而已。<br> 接下來會遇到的問題「參數化」，比如說專案的名稱，資料夾的名稱，或是程式本身的內容，會依據不同的 Plugin 專案而改變的部份。<br> 我把它分為檔案層級與內容層級的參數化。</p>\n<ul>\n<li><p>檔案層級參數化</p>\n<p>  表示檔案名稱或是資料夾名稱等，我有動態抽換的需求。<br>  我會用 <code>F-*</code> 作為參數名稱，比如說 <code>F-plugin-name</code><br>  接下來將資料夾或檔案名稱想被抽換的部份改成參數名稱就好，參考下圖。<br>  <img src=\"https://i.imgur.com/wQVnR1h.jpg\" alt=\"檔案層級參數化\"></p>\n</li>\n<li><p>內容層級參數化</p>\n<p>  比如說 Class Name、Namespace、建構子或方法，甚至是預設的註解，<br>  簡單的說只要是檔案內容相關的文字有必要被抽換，我就會使用這個參數設定。<br>  我會直接使用 <code>C-*</code> 參數名稱，比如說 <code>C-plugin-name</code>。  \n  下面是個例子。<br>  <img src=\"https://i.imgur.com/AhlYXRt.jpg\" alt=\"內容層級參數化\"></p>\n</li>\n</ul>\n</li>\n<li><p>建立 <code>.template.config</code> 資料夾</p>\n</li>\n<li><p>在<code>.template.config</code> 建立 <code>template.json</code><br>  <code>template.json</code> 可以說是整個專案樣版的靈魂部份，更多的訊息可以在 MSDN 找到，<br>  我只說明 <code>symbols</code> 節點的部份，它用來方置參數的訊息，所以需要建立一個自訂義的子節點，在這裡我命名為 <code>pluginName</code>，同時指定他的 type 為 parameter，<br>  透過設定 <code>defaultValue</code> 給予預設值，最後將 <code>fileRename</code> 指定為 <code>F-plugin-name</code>，  \n  將 <code>(C-plugin-name)</code> 指定為我的內容層級參數。</p>\n <figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\"><span class=\"attr\">\"$schema\"</span>: <span class=\"string\">\"http://json.schemastore.org/template\"</span>,</span><br><span class=\"line\"><span class=\"attr\">\"author\"</span>: <span class=\"string\">\"MarkLin\"</span>,</span><br><span class=\"line\"><span class=\"attr\">\"classifications\"</span>: [ <span class=\"string\">\"Common\"</span>, <span class=\"string\">\"SDK\"</span>, <span class=\"string\">\"C#8\"</span> ],</span><br><span class=\"line\"><span class=\"attr\">\"identity\"</span>: <span class=\"string\">\"Marsen.Blog.Plugin.Template\"</span>,</span><br><span class=\"line\"><span class=\"attr\">\"name\"</span>: <span class=\"string\">\"Marsen Blog Plugin Template\"</span>,</span><br><span class=\"line\"><span class=\"attr\">\"shortName\"</span>: <span class=\"string\">\"mbp\"</span>,</span><br><span class=\"line\"><span class=\"attr\">\"tags\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"language\"</span>: <span class=\"string\">\"C#\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"project\"</span></span><br><span class=\"line\">&#125;,  </span><br><span class=\"line\"><span class=\"attr\">\"preferNameDirectory\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"><span class=\"attr\">\"symbols\"</span>:&#123;</span><br><span class=\"line\">    <span class=\"attr\">\"pluginName\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"parameter\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"defaultValue\"</span>: <span class=\"string\">\"Demo\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"fileRename\"</span>: <span class=\"string\">\"F-plugin-name\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"replaces\"</span>:<span class=\"string\">\"(C-plugin-name)\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>CLI強化，在<code>.template.config</code> 建立 <code>dotnetcli.host.json</code><br> 這個檔案建立的目的，是為了讓我接下來使用 CLI 建立專案時能夠指定傳入的參數。<br> 這裡需指定 <code>template.json</code> 中的 symbol 並設定</p>\n <figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"symbolInfo\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"pluginName\"</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"longName\"</span>: <span class=\"string\">\"pluginName\"</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"shortName\"</span>: <span class=\"string\">\"p\"</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>執行 <code>dotnet new i</code> 註冊樣版<br> 執行命令前請確定所在位置包含<code>.template.config</code> 資料夾與相關的檔案</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new -i ./</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>執行 <code>dotnet new -u</code> 查詢樣版列表資訊確認安裝已完成</p>\n</li>\n<li><p>應用</p>\n<p> 在想建立專案的資料夾底下執行 <code>dotnet new &lt;template_name&gt;</code> 語法,<br> 並且可以透過 CLI 指定參數，我並沒有研究 GUI 的操作，有興趣的人請自行研究，<br> 如果能分享給我就不勝感激。</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new mbp -p Marsen2</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>展示  </p>\n</li>\n</ol>\n<div class=\"video-container\"><iframe src=\"//www.youtube.com/embed/RA_lHoa5uuI\" frameborder=\"0\" allowfullscreen></iframe></div>\n\n<p>我把這個例子放在 <a href=\"https://github.com/marsen/dotnet.core.project.template.sample\" target=\"_blank\" rel=\"noopener\">Github</a> 上，有興趣的朋友可以試試看。</p>\n<h2 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h2><h3 id=\"移除專案樣板-SOP\"><a href=\"#移除專案樣板-SOP\" class=\"headerlink\" title=\"移除專案樣板 SOP\"></a>移除專案樣板 SOP</h3><ol>\n<li>執行 <code>dotnet new -u</code> 查詢樣版列表資訊，可以查到專案樣版的絕對路徑</li>\n<li>執行 <code>dotnet new -u &lt;ABSOLUTE_FILE_SYSTEM_DIRECTORY&gt;</code></li>\n</ol>\n<h3 id=\"更新專案樣版\"><a href=\"#更新專案樣版\" class=\"headerlink\" title=\"更新專案樣版\"></a>更新專案樣版</h3><p>直接進入專案樣版的絕對路徑</p>\n<h3 id=\"發佈\"><a href=\"#發佈\" class=\"headerlink\" title=\"發佈\"></a>發佈</h3><p>略…</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://github.com/marsen/dotnet.core.project.template.sample\" target=\"_blank\" rel=\"noopener\">我的範例</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/dotnet/core/tutorials/cli-templates-create-item-template\" target=\"_blank\" rel=\"noopener\">教學課程：建立項目範本</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/dotnet/core/tutorials/cli-templates-create-project-template\" target=\"_blank\" rel=\"noopener\">教學課程：建立專案範本</a></li>\n<li><a href=\"https://github.com/dotnet/dotnet-template-samples\" target=\"_blank\" rel=\"noopener\">dotnet/dotnet-template-samples</a></li>\n<li><a href=\"https://www.jerriepelser.com/blog/tips-for-developing-dotnet-new-templates/\" target=\"_blank\" rel=\"noopener\">Tips for developing templates for dotnet new</a></li>\n<li><a href=\"http://json.schemastore.org/template\" target=\"_blank\" rel=\"noopener\">JSON 結構描述保存區的 template.json 結構描述</a></li>\n<li><a href=\"https://github.com/dotnet/templating/issues/1238\" target=\"_blank\" rel=\"noopener\">How to name (or rename) files based on a parameter? · Issue #1238 · dotnet/templating</a></li>\n<li><a href=\"https://www.jerriepelser.com/blog/tips-for-developing-dotnet-new-templates/\" target=\"_blank\" rel=\"noopener\">Tips for developing templates for dotnet new</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"要知道的事\"><a href=\"#要知道的事\" class=\"headerlink\" title=\"要知道的事\"></a>要知道的事</h2><p>這篇是實作的紀錄，大部份資源都參考至 MSDN 線上文件<br>那裡會有更新更完整的文件支援。</p>\n<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>專案上作了一個跨市場的服務，以提供主服務對不同市場金流的支援。<br>首先有一個國際化的專案，用來制定 API 層級的標準化，<br>而在不同的市場，例如:馬來西亞、香港、烏克蘭等…。<br>在地化的項目需要建立外掛(Plugin)專案的方式進行開發…  </p>\n<p>建立一個全新的 Plugin 專案是一件麻煩的事，<br>首先要加入專案，再來要實作相對應的介面，<br>這裡指的是建立一個類別，然後繼承一堆介面，<br>ex:IPay、IRefund、ICheck…等，<br>並不包含商務邏輯的開發與實際的 API 或 SDK 串接，<br>而在公司的標準之下，我還必須引入一堆參考或 Nuget 套件。<br>同時因為國際化專案採用動態載入的機制，<br>有一些細節準則需要由 Plugin 專案遵循，才不會引發異常或 Runtime Error。</p>\n<h2 id=\"實作筆記\"><a href=\"#實作筆記\" class=\"headerlink\" title=\"實作筆記\"></a>實作筆記</h2><h3 id=\"建立專案樣版-SOP\"><a href=\"#建立專案樣版-SOP\" class=\"headerlink\" title=\"建立專案樣版 SOP\"></a>建立專案樣版 SOP</h3><ol>\n<li><p>建立樣版資料夾，比如說 <code>Blog.Plugin.Template</code></p>\n</li>\n<li><p>準備好你的專案檔與相關的必要檔案</p>\n<p> 這裡的檔案你可以拿現成專案作修改，我個人是從頭手工打造了一個全新的Plugin。<br> 並且去除所有不相關不必要的資料夾、檔案、參考與程式。<br> 簡單的來說，這是一個殼、一個專案樣版(Template)而已。<br> 接下來會遇到的問題「參數化」，比如說專案的名稱，資料夾的名稱，或是程式本身的內容，會依據不同的 Plugin 專案而改變的部份。<br> 我把它分為檔案層級與內容層級的參數化。</p>\n<ul>\n<li><p>檔案層級參數化</p>\n<p>  表示檔案名稱或是資料夾名稱等，我有動態抽換的需求。<br>  我會用 <code>F-*</code> 作為參數名稱，比如說 <code>F-plugin-name</code><br>  接下來將資料夾或檔案名稱想被抽換的部份改成參數名稱就好，參考下圖。<br>  <img src=\"https://i.imgur.com/wQVnR1h.jpg\" alt=\"檔案層級參數化\"></p>\n</li>\n<li><p>內容層級參數化</p>\n<p>  比如說 Class Name、Namespace、建構子或方法，甚至是預設的註解，<br>  簡單的說只要是檔案內容相關的文字有必要被抽換，我就會使用這個參數設定。<br>  我會直接使用 <code>C-*</code> 參數名稱，比如說 <code>C-plugin-name</code>。  \n  下面是個例子。<br>  <img src=\"https://i.imgur.com/AhlYXRt.jpg\" alt=\"內容層級參數化\"></p>\n</li>\n</ul>\n</li>\n<li><p>建立 <code>.template.config</code> 資料夾</p>\n</li>\n<li><p>在<code>.template.config</code> 建立 <code>template.json</code><br>  <code>template.json</code> 可以說是整個專案樣版的靈魂部份，更多的訊息可以在 MSDN 找到，<br>  我只說明 <code>symbols</code> 節點的部份，它用來方置參數的訊息，所以需要建立一個自訂義的子節點，在這裡我命名為 <code>pluginName</code>，同時指定他的 type 為 parameter，<br>  透過設定 <code>defaultValue</code> 給予預設值，最後將 <code>fileRename</code> 指定為 <code>F-plugin-name</code>，  \n  將 <code>(C-plugin-name)</code> 指定為我的內容層級參數。</p>\n <figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\"><span class=\"attr\">\"$schema\"</span>: <span class=\"string\">\"http://json.schemastore.org/template\"</span>,</span><br><span class=\"line\"><span class=\"attr\">\"author\"</span>: <span class=\"string\">\"MarkLin\"</span>,</span><br><span class=\"line\"><span class=\"attr\">\"classifications\"</span>: [ <span class=\"string\">\"Common\"</span>, <span class=\"string\">\"SDK\"</span>, <span class=\"string\">\"C#8\"</span> ],</span><br><span class=\"line\"><span class=\"attr\">\"identity\"</span>: <span class=\"string\">\"Marsen.Blog.Plugin.Template\"</span>,</span><br><span class=\"line\"><span class=\"attr\">\"name\"</span>: <span class=\"string\">\"Marsen Blog Plugin Template\"</span>,</span><br><span class=\"line\"><span class=\"attr\">\"shortName\"</span>: <span class=\"string\">\"mbp\"</span>,</span><br><span class=\"line\"><span class=\"attr\">\"tags\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"language\"</span>: <span class=\"string\">\"C#\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"project\"</span></span><br><span class=\"line\">&#125;,  </span><br><span class=\"line\"><span class=\"attr\">\"preferNameDirectory\"</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"><span class=\"attr\">\"symbols\"</span>:&#123;</span><br><span class=\"line\">    <span class=\"attr\">\"pluginName\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"parameter\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"defaultValue\"</span>: <span class=\"string\">\"Demo\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"fileRename\"</span>: <span class=\"string\">\"F-plugin-name\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"replaces\"</span>:<span class=\"string\">\"(C-plugin-name)\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>CLI強化，在<code>.template.config</code> 建立 <code>dotnetcli.host.json</code><br> 這個檔案建立的目的，是為了讓我接下來使用 CLI 建立專案時能夠指定傳入的參數。<br> 這裡需指定 <code>template.json</code> 中的 symbol 並設定</p>\n <figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"symbolInfo\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"pluginName\"</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"longName\"</span>: <span class=\"string\">\"pluginName\"</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"shortName\"</span>: <span class=\"string\">\"p\"</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>執行 <code>dotnet new i</code> 註冊樣版<br> 執行命令前請確定所在位置包含<code>.template.config</code> 資料夾與相關的檔案</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new -i ./</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>執行 <code>dotnet new -u</code> 查詢樣版列表資訊確認安裝已完成</p>\n</li>\n<li><p>應用</p>\n<p> 在想建立專案的資料夾底下執行 <code>dotnet new &lt;template_name&gt;</code> 語法,<br> 並且可以透過 CLI 指定參數，我並沒有研究 GUI 的操作，有興趣的人請自行研究，<br> 如果能分享給我就不勝感激。</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet new mbp -p Marsen2</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>展示  </p>\n</li>\n</ol>\n<div class=\"video-container\"><iframe src=\"//www.youtube.com/embed/RA_lHoa5uuI\" frameborder=\"0\" allowfullscreen></iframe></div>\n\n<p>我把這個例子放在 <a href=\"https://github.com/marsen/dotnet.core.project.template.sample\" target=\"_blank\" rel=\"noopener\">Github</a> 上，有興趣的朋友可以試試看。</p>\n<h2 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h2><h3 id=\"移除專案樣板-SOP\"><a href=\"#移除專案樣板-SOP\" class=\"headerlink\" title=\"移除專案樣板 SOP\"></a>移除專案樣板 SOP</h3><ol>\n<li>執行 <code>dotnet new -u</code> 查詢樣版列表資訊，可以查到專案樣版的絕對路徑</li>\n<li>執行 <code>dotnet new -u &lt;ABSOLUTE_FILE_SYSTEM_DIRECTORY&gt;</code></li>\n</ol>\n<h3 id=\"更新專案樣版\"><a href=\"#更新專案樣版\" class=\"headerlink\" title=\"更新專案樣版\"></a>更新專案樣版</h3><p>直接進入專案樣版的絕對路徑</p>\n<h3 id=\"發佈\"><a href=\"#發佈\" class=\"headerlink\" title=\"發佈\"></a>發佈</h3><p>略…</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://github.com/marsen/dotnet.core.project.template.sample\" target=\"_blank\" rel=\"noopener\">我的範例</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/dotnet/core/tutorials/cli-templates-create-item-template\" target=\"_blank\" rel=\"noopener\">教學課程：建立項目範本</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/dotnet/core/tutorials/cli-templates-create-project-template\" target=\"_blank\" rel=\"noopener\">教學課程：建立專案範本</a></li>\n<li><a href=\"https://github.com/dotnet/dotnet-template-samples\" target=\"_blank\" rel=\"noopener\">dotnet/dotnet-template-samples</a></li>\n<li><a href=\"https://www.jerriepelser.com/blog/tips-for-developing-dotnet-new-templates/\" target=\"_blank\" rel=\"noopener\">Tips for developing templates for dotnet new</a></li>\n<li><a href=\"http://json.schemastore.org/template\" target=\"_blank\" rel=\"noopener\">JSON 結構描述保存區的 template.json 結構描述</a></li>\n<li><a href=\"https://github.com/dotnet/templating/issues/1238\" target=\"_blank\" rel=\"noopener\">How to name (or rename) files based on a parameter? · Issue #1238 · dotnet/templating</a></li>\n<li><a href=\"https://www.jerriepelser.com/blog/tips-for-developing-dotnet-new-templates/\" target=\"_blank\" rel=\"noopener\">Tips for developing templates for dotnet new</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[實作筆記]查找與重建 Table 的索引值","date":"2019-01-05T05:13:29.000Z","_content":"\n查詢指定 Table 目前的索引值\n\nDBCC CHECKIDENT (yourtable)\n\nExample\n\n```sql\nUSE AdventureWorks2012;  \nGO  \nDBCC CHECKIDENT ('Person.AddressType');  \nGO  DBCC CHECKIDENT (memberAccount)\n```\n\n重新建立你的索引值\n\nDBCC CHECKIDENT (yourtable, reseed, new index)\n\n```sql\nUSE AdventureWorks2012;  \nGO  \nDBCC CHECKIDENT ('Person.AddressType', RESEED, 10);  \nGO  \n```\n\n## 參考\n\n- [DBCC CHECKIDENT (Transact-SQL)](https://docs.microsoft.com/zh-tw/sql/t-sql/database-console-commands/dbcc-checkident-transact-sql?view=sql-server-2017)\n\n\n(fin)","source":"_posts/2019/reseed.md","raw":"---\ntitle: \"[實作筆記]查找與重建 Table 的索引值\"\ndate: 2019/01/05 13:13:29\ntag:\n    - SQL\n---\n\n查詢指定 Table 目前的索引值\n\nDBCC CHECKIDENT (yourtable)\n\nExample\n\n```sql\nUSE AdventureWorks2012;  \nGO  \nDBCC CHECKIDENT ('Person.AddressType');  \nGO  DBCC CHECKIDENT (memberAccount)\n```\n\n重新建立你的索引值\n\nDBCC CHECKIDENT (yourtable, reseed, new index)\n\n```sql\nUSE AdventureWorks2012;  \nGO  \nDBCC CHECKIDENT ('Person.AddressType', RESEED, 10);  \nGO  \n```\n\n## 參考\n\n- [DBCC CHECKIDENT (Transact-SQL)](https://docs.microsoft.com/zh-tw/sql/t-sql/database-console-commands/dbcc-checkident-transact-sql?view=sql-server-2017)\n\n\n(fin)","slug":"2019/reseed","published":1,"updated":"2019-06-10T14:43:28.954Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wms0037b0vxdzldsjmb","content":"<p>查詢指定 Table 目前的索引值</p>\n<p>DBCC CHECKIDENT (yourtable)</p>\n<p>Example</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">USE</span> AdventureWorks2012;  </span><br><span class=\"line\">GO  </span><br><span class=\"line\">DBCC CHECKIDENT ('Person.AddressType');  </span><br><span class=\"line\">GO  DBCC CHECKIDENT (memberAccount)</span><br></pre></td></tr></table></figure>\n\n<p>重新建立你的索引值</p>\n<p>DBCC CHECKIDENT (yourtable, reseed, new index)</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">USE</span> AdventureWorks2012;  </span><br><span class=\"line\">GO  </span><br><span class=\"line\">DBCC CHECKIDENT ('Person.AddressType', RESEED, 10);  </span><br><span class=\"line\">GO</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://docs.microsoft.com/zh-tw/sql/t-sql/database-console-commands/dbcc-checkident-transact-sql?view=sql-server-2017\" target=\"_blank\" rel=\"noopener\">DBCC CHECKIDENT (Transact-SQL)</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<p>查詢指定 Table 目前的索引值</p>\n<p>DBCC CHECKIDENT (yourtable)</p>\n<p>Example</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">USE</span> AdventureWorks2012;  </span><br><span class=\"line\">GO  </span><br><span class=\"line\">DBCC CHECKIDENT ('Person.AddressType');  </span><br><span class=\"line\">GO  DBCC CHECKIDENT (memberAccount)</span><br></pre></td></tr></table></figure>\n\n<p>重新建立你的索引值</p>\n<p>DBCC CHECKIDENT (yourtable, reseed, new index)</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">USE</span> AdventureWorks2012;  </span><br><span class=\"line\">GO  </span><br><span class=\"line\">DBCC CHECKIDENT ('Person.AddressType', RESEED, 10);  </span><br><span class=\"line\">GO</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://docs.microsoft.com/zh-tw/sql/t-sql/database-console-commands/dbcc-checkident-transact-sql?view=sql-server-2017\" target=\"_blank\" rel=\"noopener\">DBCC CHECKIDENT (Transact-SQL)</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[實作筆記]在 Windows Subsystem for Linux 執行 docker","date":"2019-01-07T09:18:13.000Z","_content":"\n## 前情提要\n\n最近開始學 [Docker](https://www.docker.com/)， 這個神器大概在 C 社時期就有聽過了，  \n不過一直沒有機會在實務上接觸，雖然有自已摸一點，但就只有皮毛而已，\n在 A 社有機會由同事開課，並提供 EC2 作實驗，就趁這個機會作一點深入的學習。\n\n一開始有一個很天真的想法，**我想在 Windows 內建的 Linux 子系統 Ubantu 安裝 Docker**，  \n沒想到最後是脫褲子放屁，不過過程蠻有趣的，稍微記錄一下。\n\n## 操作步驟\n\n1. Windows 10 安裝 Ubantu\n2. 在 Ubantu 安裝 Docker\n\n    更新 apt-get\n\n    ```bash\n    sudo apt-get update\n    ```\n\n    允許 apt-get 透過 https\n\n    ```bash\n    sudo apt-get install \\\n        apt-transport-https \\\n        ca-certificates \\\n        curl \\\n        software-properties-common\n    ```\n\n    加入 Docker 官方 GPG KEY\n\n    ```shell\n    curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\n    ```\n\n    然後可以驗証一下\n\n    ```shell\n    sudo apt-key fingerprint 0EBFCD88\n    ```\n\n    加入 Docker 的 apt-repository\n\n    ```shell\n    $ sudo add-apt-repository \\\n    \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n    $(lsb_release -cs) \\\n    stable\"\n    ```\n\n    再次更新 apt-get\n\n    ```shell\n    sudo apt-get update\n    ```\n\n    安裝 Docker CE\n\n    ```shell\n    sudo apt-get install docker-ce\n    ```\n\n3. Run Docker\n\n```shell\nsudo docker container run hello-world\n```\n\n我都會失敗如下\n\n```shell\ndocker: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?.\nSee 'docker run --help'.\n```\n\n## 如何解決\n\n1. Windows 上要安裝 Docker for Windows\n2. 勾選 Docker for Windows → Setting → Expose deamon on tcp://localhost:2375 Without TLS\n![Docker](/images/2019/1/docker.jpg)\n\n3. 回到 Ubantu , 執行以下命令\n\n指定 Docker Host 在路徑\n\n```bash\ndocker -H localhost:2375 images\n```\n\n如果不想每次指定的話…請參考以下命令\n\n```bash\nexport DOCKER_HOST=localhost:2375\n```\n\n![執行結果](/images/2019/1/ubantu_docker.jpg)\n\n## 學到的事\n\n- Docker 有 Host(Deamon) 與 Client 之分\n- 在 Windows 上的 VM(Ubantu) 再安裝 Docker Deamon 是行不通的(細節我並不清楚，求補充…)\n- 我還不夠了解 Windows Container 與 Linux Container 的差異\n  - [Windows Container FAQ - 官網沒有說的事](https://columns.chicken-house.net/2016/09/05/windows-container-faq/)\n  - [LCOW Labs: Linux Container On Windows](https://columns.chicken-house.net/2017/10/04/lcow/)\n  - more ...\n- ~~繞了一圈，一事無成~~\n\n## 參考\n\n- [Installing the Docker client on Windows Subsystem for Linux (Ubuntu)](https://medium.com/@sebagomez/installing-the-docker-client-on-ubuntus-windows-subsystem-for-linux-612b392a44c4)\n- [Get Docker CE for Ubuntu](https://docs.docker.com/install/linux/docker-ce/ubuntu/)\n- [取得 Ubuntu - Microsoft Store zh-TW](https://www.microsoft.com/zh-tw/p/ubuntu/9nblggh4msv6?activetab=pivot%3Aoverviewtab) \n- [Docker CE Desktop Windows](https://hub.docker.com/editions/community/docker-ce-desktop-windows)\n- [如何安裝 Docker for Windows ?](https://oomusou.io/docker/docker-for-windows/)\n- [Windows 上的 Linux 容器](https://docs.microsoft.com/zh-tw/virtualization/windowscontainers/deploy-containers/linux-containers)\n\n(fin)\n","source":"_posts/2019/run_docker_on_window_subsystem_for_Linux_Ubuntu.md","raw":"---\ntitle: \"[實作筆記]在 Windows Subsystem for Linux 執行 docker\"\ndate: 2019/01/07 17:18:13\ntag:\n    - Docker\n    - Container\n---\n\n## 前情提要\n\n最近開始學 [Docker](https://www.docker.com/)， 這個神器大概在 C 社時期就有聽過了，  \n不過一直沒有機會在實務上接觸，雖然有自已摸一點，但就只有皮毛而已，\n在 A 社有機會由同事開課，並提供 EC2 作實驗，就趁這個機會作一點深入的學習。\n\n一開始有一個很天真的想法，**我想在 Windows 內建的 Linux 子系統 Ubantu 安裝 Docker**，  \n沒想到最後是脫褲子放屁，不過過程蠻有趣的，稍微記錄一下。\n\n## 操作步驟\n\n1. Windows 10 安裝 Ubantu\n2. 在 Ubantu 安裝 Docker\n\n    更新 apt-get\n\n    ```bash\n    sudo apt-get update\n    ```\n\n    允許 apt-get 透過 https\n\n    ```bash\n    sudo apt-get install \\\n        apt-transport-https \\\n        ca-certificates \\\n        curl \\\n        software-properties-common\n    ```\n\n    加入 Docker 官方 GPG KEY\n\n    ```shell\n    curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\n    ```\n\n    然後可以驗証一下\n\n    ```shell\n    sudo apt-key fingerprint 0EBFCD88\n    ```\n\n    加入 Docker 的 apt-repository\n\n    ```shell\n    $ sudo add-apt-repository \\\n    \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n    $(lsb_release -cs) \\\n    stable\"\n    ```\n\n    再次更新 apt-get\n\n    ```shell\n    sudo apt-get update\n    ```\n\n    安裝 Docker CE\n\n    ```shell\n    sudo apt-get install docker-ce\n    ```\n\n3. Run Docker\n\n```shell\nsudo docker container run hello-world\n```\n\n我都會失敗如下\n\n```shell\ndocker: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?.\nSee 'docker run --help'.\n```\n\n## 如何解決\n\n1. Windows 上要安裝 Docker for Windows\n2. 勾選 Docker for Windows → Setting → Expose deamon on tcp://localhost:2375 Without TLS\n![Docker](/images/2019/1/docker.jpg)\n\n3. 回到 Ubantu , 執行以下命令\n\n指定 Docker Host 在路徑\n\n```bash\ndocker -H localhost:2375 images\n```\n\n如果不想每次指定的話…請參考以下命令\n\n```bash\nexport DOCKER_HOST=localhost:2375\n```\n\n![執行結果](/images/2019/1/ubantu_docker.jpg)\n\n## 學到的事\n\n- Docker 有 Host(Deamon) 與 Client 之分\n- 在 Windows 上的 VM(Ubantu) 再安裝 Docker Deamon 是行不通的(細節我並不清楚，求補充…)\n- 我還不夠了解 Windows Container 與 Linux Container 的差異\n  - [Windows Container FAQ - 官網沒有說的事](https://columns.chicken-house.net/2016/09/05/windows-container-faq/)\n  - [LCOW Labs: Linux Container On Windows](https://columns.chicken-house.net/2017/10/04/lcow/)\n  - more ...\n- ~~繞了一圈，一事無成~~\n\n## 參考\n\n- [Installing the Docker client on Windows Subsystem for Linux (Ubuntu)](https://medium.com/@sebagomez/installing-the-docker-client-on-ubuntus-windows-subsystem-for-linux-612b392a44c4)\n- [Get Docker CE for Ubuntu](https://docs.docker.com/install/linux/docker-ce/ubuntu/)\n- [取得 Ubuntu - Microsoft Store zh-TW](https://www.microsoft.com/zh-tw/p/ubuntu/9nblggh4msv6?activetab=pivot%3Aoverviewtab) \n- [Docker CE Desktop Windows](https://hub.docker.com/editions/community/docker-ce-desktop-windows)\n- [如何安裝 Docker for Windows ?](https://oomusou.io/docker/docker-for-windows/)\n- [Windows 上的 Linux 容器](https://docs.microsoft.com/zh-tw/virtualization/windowscontainers/deploy-containers/linux-containers)\n\n(fin)\n","slug":"2019/run_docker_on_window_subsystem_for_Linux_Ubuntu","published":1,"updated":"2019-08-25T20:06:07.434Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wmu0039b0vx7j0cx62f","content":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>最近開始學 <a href=\"https://www.docker.com/\" target=\"_blank\" rel=\"noopener\">Docker</a>， 這個神器大概在 C 社時期就有聽過了，<br>不過一直沒有機會在實務上接觸，雖然有自已摸一點，但就只有皮毛而已，<br>在 A 社有機會由同事開課，並提供 EC2 作實驗，就趁這個機會作一點深入的學習。</p>\n<p>一開始有一個很天真的想法，<strong>我想在 Windows 內建的 Linux 子系統 Ubantu 安裝 Docker</strong>，  \n沒想到最後是脫褲子放屁，不過過程蠻有趣的，稍微記錄一下。</p>\n<h2 id=\"操作步驟\"><a href=\"#操作步驟\" class=\"headerlink\" title=\"操作步驟\"></a>操作步驟</h2><ol>\n<li><p>Windows 10 安裝 Ubantu</p>\n</li>\n<li><p>在 Ubantu 安裝 Docker</p>\n<p> 更新 apt-get</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get update</span><br></pre></td></tr></table></figure>\n\n<p> 允許 apt-get 透過 https</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install \\</span><br><span class=\"line\">    apt-transport-https \\</span><br><span class=\"line\">    ca-certificates \\</span><br><span class=\"line\">    curl \\</span><br><span class=\"line\">    software-properties-common</span><br></pre></td></tr></table></figure>\n\n<p> 加入 Docker 官方 GPG KEY</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span><br></pre></td></tr></table></figure>\n\n<p> 然後可以驗証一下</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-key fingerprint 0EBFCD88</span><br></pre></td></tr></table></figure>\n\n<p> 加入 Docker 的 apt-repository</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> sudo add-apt-repository \\</span></span><br><span class=\"line\">\"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\</span><br><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\">(lsb_release -cs) \\</span></span><br><span class=\"line\">stable\"</span><br></pre></td></tr></table></figure>\n\n<p> 再次更新 apt-get</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get update</span><br></pre></td></tr></table></figure>\n\n<p> 安裝 Docker CE</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install docker-ce</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Run Docker</p>\n</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo docker container run hello-world</span><br></pre></td></tr></table></figure>\n\n<p>我都會失敗如下</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?.</span><br><span class=\"line\">See 'docker run --help'.</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"如何解決\"><a href=\"#如何解決\" class=\"headerlink\" title=\"如何解決\"></a>如何解決</h2><ol>\n<li><p>Windows 上要安裝 Docker for Windows</p>\n</li>\n<li><p>勾選 Docker for Windows → Setting → Expose deamon on tcp://localhost:2375 Without TLS<br><img src=\"/images/2019/1/docker.jpg\" alt=\"Docker\"></p>\n</li>\n<li><p>回到 Ubantu , 執行以下命令</p>\n</li>\n</ol>\n<p>指定 Docker Host 在路徑</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker -H localhost:2375 images</span><br></pre></td></tr></table></figure>\n\n<p>如果不想每次指定的話…請參考以下命令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> DOCKER_HOST=localhost:2375</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/images/2019/1/ubantu_docker.jpg\" alt=\"執行結果\"></p>\n<h2 id=\"學到的事\"><a href=\"#學到的事\" class=\"headerlink\" title=\"學到的事\"></a>學到的事</h2><ul>\n<li>Docker 有 Host(Deamon) 與 Client 之分</li>\n<li>在 Windows 上的 VM(Ubantu) 再安裝 Docker Deamon 是行不通的(細節我並不清楚，求補充…)</li>\n<li>我還不夠了解 Windows Container 與 Linux Container 的差異<ul>\n<li><a href=\"https://columns.chicken-house.net/2016/09/05/windows-container-faq/\" target=\"_blank\" rel=\"noopener\">Windows Container FAQ - 官網沒有說的事</a></li>\n<li><a href=\"https://columns.chicken-house.net/2017/10/04/lcow/\" target=\"_blank\" rel=\"noopener\">LCOW Labs: Linux Container On Windows</a></li>\n<li>more …</li>\n</ul>\n</li>\n<li><del>繞了一圈，一事無成</del></li>\n</ul>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://medium.com/@sebagomez/installing-the-docker-client-on-ubuntus-windows-subsystem-for-linux-612b392a44c4\" target=\"_blank\" rel=\"noopener\">Installing the Docker client on Windows Subsystem for Linux (Ubuntu)</a></li>\n<li><a href=\"https://docs.docker.com/install/linux/docker-ce/ubuntu/\" target=\"_blank\" rel=\"noopener\">Get Docker CE for Ubuntu</a></li>\n<li><a href=\"https://www.microsoft.com/zh-tw/p/ubuntu/9nblggh4msv6?activetab=pivot%3Aoverviewtab\" target=\"_blank\" rel=\"noopener\">取得 Ubuntu - Microsoft Store zh-TW</a> </li>\n<li><a href=\"https://hub.docker.com/editions/community/docker-ce-desktop-windows\" target=\"_blank\" rel=\"noopener\">Docker CE Desktop Windows</a></li>\n<li><a href=\"https://oomusou.io/docker/docker-for-windows/\" target=\"_blank\" rel=\"noopener\">如何安裝 Docker for Windows ?</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/virtualization/windowscontainers/deploy-containers/linux-containers\" target=\"_blank\" rel=\"noopener\">Windows 上的 Linux 容器</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>最近開始學 <a href=\"https://www.docker.com/\" target=\"_blank\" rel=\"noopener\">Docker</a>， 這個神器大概在 C 社時期就有聽過了，<br>不過一直沒有機會在實務上接觸，雖然有自已摸一點，但就只有皮毛而已，<br>在 A 社有機會由同事開課，並提供 EC2 作實驗，就趁這個機會作一點深入的學習。</p>\n<p>一開始有一個很天真的想法，<strong>我想在 Windows 內建的 Linux 子系統 Ubantu 安裝 Docker</strong>，  \n沒想到最後是脫褲子放屁，不過過程蠻有趣的，稍微記錄一下。</p>\n<h2 id=\"操作步驟\"><a href=\"#操作步驟\" class=\"headerlink\" title=\"操作步驟\"></a>操作步驟</h2><ol>\n<li><p>Windows 10 安裝 Ubantu</p>\n</li>\n<li><p>在 Ubantu 安裝 Docker</p>\n<p> 更新 apt-get</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get update</span><br></pre></td></tr></table></figure>\n\n<p> 允許 apt-get 透過 https</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install \\</span><br><span class=\"line\">    apt-transport-https \\</span><br><span class=\"line\">    ca-certificates \\</span><br><span class=\"line\">    curl \\</span><br><span class=\"line\">    software-properties-common</span><br></pre></td></tr></table></figure>\n\n<p> 加入 Docker 官方 GPG KEY</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span><br></pre></td></tr></table></figure>\n\n<p> 然後可以驗証一下</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-key fingerprint 0EBFCD88</span><br></pre></td></tr></table></figure>\n\n<p> 加入 Docker 的 apt-repository</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> sudo add-apt-repository \\</span></span><br><span class=\"line\">\"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\</span><br><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\">(lsb_release -cs) \\</span></span><br><span class=\"line\">stable\"</span><br></pre></td></tr></table></figure>\n\n<p> 再次更新 apt-get</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get update</span><br></pre></td></tr></table></figure>\n\n<p> 安裝 Docker CE</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install docker-ce</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Run Docker</p>\n</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo docker container run hello-world</span><br></pre></td></tr></table></figure>\n\n<p>我都會失敗如下</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?.</span><br><span class=\"line\">See 'docker run --help'.</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"如何解決\"><a href=\"#如何解決\" class=\"headerlink\" title=\"如何解決\"></a>如何解決</h2><ol>\n<li><p>Windows 上要安裝 Docker for Windows</p>\n</li>\n<li><p>勾選 Docker for Windows → Setting → Expose deamon on tcp://localhost:2375 Without TLS<br><img src=\"/images/2019/1/docker.jpg\" alt=\"Docker\"></p>\n</li>\n<li><p>回到 Ubantu , 執行以下命令</p>\n</li>\n</ol>\n<p>指定 Docker Host 在路徑</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker -H localhost:2375 images</span><br></pre></td></tr></table></figure>\n\n<p>如果不想每次指定的話…請參考以下命令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> DOCKER_HOST=localhost:2375</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/images/2019/1/ubantu_docker.jpg\" alt=\"執行結果\"></p>\n<h2 id=\"學到的事\"><a href=\"#學到的事\" class=\"headerlink\" title=\"學到的事\"></a>學到的事</h2><ul>\n<li>Docker 有 Host(Deamon) 與 Client 之分</li>\n<li>在 Windows 上的 VM(Ubantu) 再安裝 Docker Deamon 是行不通的(細節我並不清楚，求補充…)</li>\n<li>我還不夠了解 Windows Container 與 Linux Container 的差異<ul>\n<li><a href=\"https://columns.chicken-house.net/2016/09/05/windows-container-faq/\" target=\"_blank\" rel=\"noopener\">Windows Container FAQ - 官網沒有說的事</a></li>\n<li><a href=\"https://columns.chicken-house.net/2017/10/04/lcow/\" target=\"_blank\" rel=\"noopener\">LCOW Labs: Linux Container On Windows</a></li>\n<li>more …</li>\n</ul>\n</li>\n<li><del>繞了一圈，一事無成</del></li>\n</ul>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://medium.com/@sebagomez/installing-the-docker-client-on-ubuntus-windows-subsystem-for-linux-612b392a44c4\" target=\"_blank\" rel=\"noopener\">Installing the Docker client on Windows Subsystem for Linux (Ubuntu)</a></li>\n<li><a href=\"https://docs.docker.com/install/linux/docker-ce/ubuntu/\" target=\"_blank\" rel=\"noopener\">Get Docker CE for Ubuntu</a></li>\n<li><a href=\"https://www.microsoft.com/zh-tw/p/ubuntu/9nblggh4msv6?activetab=pivot%3Aoverviewtab\" target=\"_blank\" rel=\"noopener\">取得 Ubuntu - Microsoft Store zh-TW</a> </li>\n<li><a href=\"https://hub.docker.com/editions/community/docker-ce-desktop-windows\" target=\"_blank\" rel=\"noopener\">Docker CE Desktop Windows</a></li>\n<li><a href=\"https://oomusou.io/docker/docker-for-windows/\" target=\"_blank\" rel=\"noopener\">如何安裝 Docker for Windows ?</a></li>\n<li><a href=\"https://docs.microsoft.com/zh-tw/virtualization/windowscontainers/deploy-containers/linux-containers\" target=\"_blank\" rel=\"noopener\">Windows 上的 Linux 容器</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[實作筆記] Stripe 串接","date":"2019-06-17T04:56:17.000Z","_content":"\n## Agenda\n\n- Stripe 簡介\n- 註冊\n- 付款\n\n## Stripe 簡介\n\n> Stripe是一家提供讓個人或公司在網際網路上接受付款服務的科技公司。  \n> Stripe提供在網上接受付款所需的技術、避免信用卡詐騙技術及銀行基礎設施  \n\n– 引述自 Wiki\n\n> Our mission is to increase  \n> the GDP of the internet  \n\n– 引述自 Stripe 官網\n\n業務範圍大多為歐美，亞洲方面支援香港、新加坡與日本等國…\n\n## 註冊\n\n只需要透過信箱即可[註冊](https://dashboard.stripe.com/register)，  \n註冊後需要到信箱收取確認信以開通帳戶，\n如果真的要在線上使用需要提供公司相關的資訊，  \n但以開發者而言，此時的 Stripe 已經提供一組測試 api 供你使用，  \n隨後即可以登入後台操作。  \n**請在 Dashboard 的左邊側欄>開發者>API 密鑰，取得Secret key** ，  \n在後面呼叫 API 中都會使用這組 Secret Key 請特別留意。\n\n## 付款\n\n這裡只介紹 Stripe 信用卡的付款方法，\n並根據 [Stripe 文件](https://stripe.com/doc)整理一些資訊給大家。  \n\n如下圖，這是一個標準的 Stripe 結帳流程，  \n![stripe overview](/images/2019/6/01-overview.png)\n\n主要的兩個步驟在 `Create Source` 與 `Create Charge` ，  \n這裡會透過呼叫 [Stripe API](https://stripe.com/docs/api) 以完成付款流程。  \n\n下面會介紹幾種信用卡的付款方式， 僅供參考，實際作業請以最新的 Stripe 文件為準。  \n過程中如有呼叫 API 都會用 curl 帶過，\nSecret Key 一律以 `sk` 表示， Public Key 以 `pk` 表示  \nStripe 有提供多種語言的範例或是提供 SDK 或 Libary， 請親自去看它們的文件囉。\n\n### 使用 Checkout Session\n\n#### Step 1. 建立 Session\n\n```bash\ncurl https://api.stripe.com/v1/checkout/sessions \\\n  -u sk_test_dAa6L6BL4gZDuscgJcl3an8K00aJL2yIaW: \\\n  -d payment_method_types[]=card \\\n  -d line_items[][name]=T-shirt \\\n  -d line_items[][description]=\"Comfortable cotton t-shirt\" \\\n  -d line_items[][images][]=\"https://example.com/t-shirt.png\" \\\n  -d line_items[][amount]=500 \\\n  -d line_items[][currency]=hkd \\\n  -d line_items[][quantity]=1 \\\n  -d success_url=\"https://example.com/success\" \\\n  -d cancel_url=\"https://example.com/cancel\"\n```\n\n#### Step 2. 建立 CheckOut 頁面\n\nStep 1 會取得一組 session_id ，請填入頁面中的`{session_id}`，\n`pk` 請填入 `public key`\n\n```html\n<script src=\"https://js.stripe.com/v3/\"></script>\n<script>\nvar stripe = Stripe('pk');\nstripe.redirectToCheckout({\n  // Make the id field from the Checkout Session creation API response\n  // available to this file， so you can provide it as parameter here\n  // instead of the {{CHECKOUT_SESSION_ID}} placeholder.\n  sessionId: '{session_id}'\n}).then(function (result) {\n  // If `redirectToCheckout` fails due to a browser or network\n  // error， display the localized error message to your customer\n  // using `result.error.message`.\n});\n</script>\n```\n\n#### Step 3. 載入頁面\n\n調整你的付款流程，引導消費者到 Step 2. 的頁面，  \n會自動轉導到 Stripe 的標準頁，並且出現填寫信用卡的資訊，  \n消費者需要手動輸入卡號後，確認付款。  \n如果確認會引導至 Step 1 的 `success_url`  \n消費者取消的話會引導至 Step 1 的 `cancel_url`  \n\n#### 說明\n\n這是標準的第三方串接步驟，可以發現在 Step 3 的時候，  \n消費者會被帶離你原本的站台到 Stripe 的付款頁面，  \n這樣的好處是你不需要經手敏感的資料，像是信用卡卡號，  \n但是有時候，轉導到外部頁面會讓消費者不安進而中斷結帳，  \n那我們可以參考其它的作法。  \n\n### 使用 Source\n\n一般來說，Source 是 Stripe 最常用的付款方式，  \n但在歐洲相關規定調整後，信用卡不再建議使用這個 API。  \n可以參考官方文件的[說明](https://stripe.com/docs/sources/cards)\n\n> Card Payments with Sources  \n> Use Sources to accept card payments from around the world.  \n>\n> Use of this API is no longer recommended. We recommend adopting the Payment Intents API.  \n> This new integration lets you benefit from Dynamic 3D Secure and helps you prepare for  \n> Strong Customer Authentication regulation in Europe.\n\n\n不過理論上您的客戶中沒有歐洲人的話，還是可以呼叫這個 API ，  \n作法如下:\n\n#### Step 1. Create Source 並指定 Type 為 Card\n\n```bash\ncurl https://api.stripe.com/v1/sources\n  -u sk\n  -d type=card\n  -d currency=hkd\n  -d owner[email]=\"jenny.rosen@example.com\"\n  -d card[number]={{cardNumber}}\n  -d card[exp_month]=12\n  -d card[exp_year]=2020\n  -d card[cvc]=123  \n```\n\n#### Step 2. Charge With Source\n\nStep 1 可以取得 source id，利用 source id 呼叫 charge API 付款   \n\n```bash\ncurl https://api.stripe.com/v1/charges\n  -u sk\n  -d source={{source id}}\n  -d amount=411\n  -d currency=hkd\n  -d description=\"Charge for jenny.rosen@example.com\"\n  -d metadata[a]=\"b\"\n  -d metadata[b]=123\n```\n\n### 使用 Token\n\n不過 Sorce 信用卡在[官方文件](https://stripe.com/docs/payments/payment-methods#transitioning)上不再被建議使用，\n我們可以看看另一個類似的方法 *Token*\n\n#### Step 1. Create Token 並傳入卡號\n\n```bash\ncurl https://api.stripe.com/v1/tokens\n  -u sk\n  -d card[number]={{cardNumber}}\n  -d card[exp_month]=12\n  -d card[exp_year]=2020\n  -d card[cvc]=123\n```\n\n#### Step 2. Charge With Token\n\nStep 1 可以取得 token id，利用 source id 呼叫 charge API 付款\n\n```bash\ncurl https://api.stripe.com/v1/charges\n  -u sk\n  -d source={{token id}}\n  -d amount=412\n  -d currency=hkd\n  -d description=\"Charge for jenny.rosen@example.com\"\n  -d metadata[a]=\"c\"\n  -d metadata[b]=663\n```\n\n### 使用 Payment Intent\n\n終於來到 Payment Intent 了，  \n實際上這是目前 Stripe 最推薦的信用卡支付方式，  \n呼叫的作法也很類似於 Source 與 Token，  \n沒什麼特別考量的話，建議使用這個付款方式。\n\n#### Step 1. Create Payment Method 並傳入卡號\n\n```bash\ncurl https://api.stripe.com/v1/payment_methods\n  -u sk\n  -X POST  \n  -d type=card  \n  -d card[number]={{cardNumber}}\n  -d card[exp_month]=12  \n  -d card[exp_year]=2020  \n  -d card[cvc]=123  \n```\n\n#### Step 2. Create Payment Intent With Payment Method\n\nStep 1 可以取得 payment method id，  \n利用 payment method id 呼叫 payment intents API 付款\n\n```bash\ncurl https://api.stripe.com/v1/payment_intents  \n  -u sk  \n  -d payment_method={{payment method id}}\n  -d amount=555  \n  -d currency=hkd  \n  -d confirmation_method=manual  \n  -d confirm=true  \n\n```\n\n## 小結\n\n想快速成立訂單請用 Session 的作法，  \n想要避免轉換率下降，請使用 Payment Intents。\n\n## 參考\n\n- [Online payment processing for internet businesses - Stripe](https://stripe.com/en-hk)\n- [DashBoard](https://dashboard.stripe.com/)\n- [Documentation | Stripe](https://stripe.com/docs)\n- [Stripe API Reference](https://stripe.com/docs/api)\n- [Stripe Wiki](https://zh.wikipedia.org/wiki/Stripe)\n\n(fin)\n","source":"_posts/2019/stripe_payment.md","raw":"---\ntitle: \"[實作筆記] Stripe 串接\"\ndate: 2019/06/17 12:56:17\ntag:\n  - API\n---\n\n## Agenda\n\n- Stripe 簡介\n- 註冊\n- 付款\n\n## Stripe 簡介\n\n> Stripe是一家提供讓個人或公司在網際網路上接受付款服務的科技公司。  \n> Stripe提供在網上接受付款所需的技術、避免信用卡詐騙技術及銀行基礎設施  \n\n– 引述自 Wiki\n\n> Our mission is to increase  \n> the GDP of the internet  \n\n– 引述自 Stripe 官網\n\n業務範圍大多為歐美，亞洲方面支援香港、新加坡與日本等國…\n\n## 註冊\n\n只需要透過信箱即可[註冊](https://dashboard.stripe.com/register)，  \n註冊後需要到信箱收取確認信以開通帳戶，\n如果真的要在線上使用需要提供公司相關的資訊，  \n但以開發者而言，此時的 Stripe 已經提供一組測試 api 供你使用，  \n隨後即可以登入後台操作。  \n**請在 Dashboard 的左邊側欄>開發者>API 密鑰，取得Secret key** ，  \n在後面呼叫 API 中都會使用這組 Secret Key 請特別留意。\n\n## 付款\n\n這裡只介紹 Stripe 信用卡的付款方法，\n並根據 [Stripe 文件](https://stripe.com/doc)整理一些資訊給大家。  \n\n如下圖，這是一個標準的 Stripe 結帳流程，  \n![stripe overview](/images/2019/6/01-overview.png)\n\n主要的兩個步驟在 `Create Source` 與 `Create Charge` ，  \n這裡會透過呼叫 [Stripe API](https://stripe.com/docs/api) 以完成付款流程。  \n\n下面會介紹幾種信用卡的付款方式， 僅供參考，實際作業請以最新的 Stripe 文件為準。  \n過程中如有呼叫 API 都會用 curl 帶過，\nSecret Key 一律以 `sk` 表示， Public Key 以 `pk` 表示  \nStripe 有提供多種語言的範例或是提供 SDK 或 Libary， 請親自去看它們的文件囉。\n\n### 使用 Checkout Session\n\n#### Step 1. 建立 Session\n\n```bash\ncurl https://api.stripe.com/v1/checkout/sessions \\\n  -u sk_test_dAa6L6BL4gZDuscgJcl3an8K00aJL2yIaW: \\\n  -d payment_method_types[]=card \\\n  -d line_items[][name]=T-shirt \\\n  -d line_items[][description]=\"Comfortable cotton t-shirt\" \\\n  -d line_items[][images][]=\"https://example.com/t-shirt.png\" \\\n  -d line_items[][amount]=500 \\\n  -d line_items[][currency]=hkd \\\n  -d line_items[][quantity]=1 \\\n  -d success_url=\"https://example.com/success\" \\\n  -d cancel_url=\"https://example.com/cancel\"\n```\n\n#### Step 2. 建立 CheckOut 頁面\n\nStep 1 會取得一組 session_id ，請填入頁面中的`{session_id}`，\n`pk` 請填入 `public key`\n\n```html\n<script src=\"https://js.stripe.com/v3/\"></script>\n<script>\nvar stripe = Stripe('pk');\nstripe.redirectToCheckout({\n  // Make the id field from the Checkout Session creation API response\n  // available to this file， so you can provide it as parameter here\n  // instead of the {{CHECKOUT_SESSION_ID}} placeholder.\n  sessionId: '{session_id}'\n}).then(function (result) {\n  // If `redirectToCheckout` fails due to a browser or network\n  // error， display the localized error message to your customer\n  // using `result.error.message`.\n});\n</script>\n```\n\n#### Step 3. 載入頁面\n\n調整你的付款流程，引導消費者到 Step 2. 的頁面，  \n會自動轉導到 Stripe 的標準頁，並且出現填寫信用卡的資訊，  \n消費者需要手動輸入卡號後，確認付款。  \n如果確認會引導至 Step 1 的 `success_url`  \n消費者取消的話會引導至 Step 1 的 `cancel_url`  \n\n#### 說明\n\n這是標準的第三方串接步驟，可以發現在 Step 3 的時候，  \n消費者會被帶離你原本的站台到 Stripe 的付款頁面，  \n這樣的好處是你不需要經手敏感的資料，像是信用卡卡號，  \n但是有時候，轉導到外部頁面會讓消費者不安進而中斷結帳，  \n那我們可以參考其它的作法。  \n\n### 使用 Source\n\n一般來說，Source 是 Stripe 最常用的付款方式，  \n但在歐洲相關規定調整後，信用卡不再建議使用這個 API。  \n可以參考官方文件的[說明](https://stripe.com/docs/sources/cards)\n\n> Card Payments with Sources  \n> Use Sources to accept card payments from around the world.  \n>\n> Use of this API is no longer recommended. We recommend adopting the Payment Intents API.  \n> This new integration lets you benefit from Dynamic 3D Secure and helps you prepare for  \n> Strong Customer Authentication regulation in Europe.\n\n\n不過理論上您的客戶中沒有歐洲人的話，還是可以呼叫這個 API ，  \n作法如下:\n\n#### Step 1. Create Source 並指定 Type 為 Card\n\n```bash\ncurl https://api.stripe.com/v1/sources\n  -u sk\n  -d type=card\n  -d currency=hkd\n  -d owner[email]=\"jenny.rosen@example.com\"\n  -d card[number]={{cardNumber}}\n  -d card[exp_month]=12\n  -d card[exp_year]=2020\n  -d card[cvc]=123  \n```\n\n#### Step 2. Charge With Source\n\nStep 1 可以取得 source id，利用 source id 呼叫 charge API 付款   \n\n```bash\ncurl https://api.stripe.com/v1/charges\n  -u sk\n  -d source={{source id}}\n  -d amount=411\n  -d currency=hkd\n  -d description=\"Charge for jenny.rosen@example.com\"\n  -d metadata[a]=\"b\"\n  -d metadata[b]=123\n```\n\n### 使用 Token\n\n不過 Sorce 信用卡在[官方文件](https://stripe.com/docs/payments/payment-methods#transitioning)上不再被建議使用，\n我們可以看看另一個類似的方法 *Token*\n\n#### Step 1. Create Token 並傳入卡號\n\n```bash\ncurl https://api.stripe.com/v1/tokens\n  -u sk\n  -d card[number]={{cardNumber}}\n  -d card[exp_month]=12\n  -d card[exp_year]=2020\n  -d card[cvc]=123\n```\n\n#### Step 2. Charge With Token\n\nStep 1 可以取得 token id，利用 source id 呼叫 charge API 付款\n\n```bash\ncurl https://api.stripe.com/v1/charges\n  -u sk\n  -d source={{token id}}\n  -d amount=412\n  -d currency=hkd\n  -d description=\"Charge for jenny.rosen@example.com\"\n  -d metadata[a]=\"c\"\n  -d metadata[b]=663\n```\n\n### 使用 Payment Intent\n\n終於來到 Payment Intent 了，  \n實際上這是目前 Stripe 最推薦的信用卡支付方式，  \n呼叫的作法也很類似於 Source 與 Token，  \n沒什麼特別考量的話，建議使用這個付款方式。\n\n#### Step 1. Create Payment Method 並傳入卡號\n\n```bash\ncurl https://api.stripe.com/v1/payment_methods\n  -u sk\n  -X POST  \n  -d type=card  \n  -d card[number]={{cardNumber}}\n  -d card[exp_month]=12  \n  -d card[exp_year]=2020  \n  -d card[cvc]=123  \n```\n\n#### Step 2. Create Payment Intent With Payment Method\n\nStep 1 可以取得 payment method id，  \n利用 payment method id 呼叫 payment intents API 付款\n\n```bash\ncurl https://api.stripe.com/v1/payment_intents  \n  -u sk  \n  -d payment_method={{payment method id}}\n  -d amount=555  \n  -d currency=hkd  \n  -d confirmation_method=manual  \n  -d confirm=true  \n\n```\n\n## 小結\n\n想快速成立訂單請用 Session 的作法，  \n想要避免轉換率下降，請使用 Payment Intents。\n\n## 參考\n\n- [Online payment processing for internet businesses - Stripe](https://stripe.com/en-hk)\n- [DashBoard](https://dashboard.stripe.com/)\n- [Documentation | Stripe](https://stripe.com/docs)\n- [Stripe API Reference](https://stripe.com/docs/api)\n- [Stripe Wiki](https://zh.wikipedia.org/wiki/Stripe)\n\n(fin)\n","slug":"2019/stripe_payment","published":1,"updated":"2019-06-18T01:57:16.503Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wmw003ab0vxsqf2wf7c","content":"<h2 id=\"Agenda\"><a href=\"#Agenda\" class=\"headerlink\" title=\"Agenda\"></a>Agenda</h2><ul>\n<li>Stripe 簡介</li>\n<li>註冊</li>\n<li>付款</li>\n</ul>\n<h2 id=\"Stripe-簡介\"><a href=\"#Stripe-簡介\" class=\"headerlink\" title=\"Stripe 簡介\"></a>Stripe 簡介</h2><blockquote>\n<p>Stripe是一家提供讓個人或公司在網際網路上接受付款服務的科技公司。<br>Stripe提供在網上接受付款所需的技術、避免信用卡詐騙技術及銀行基礎設施  </p>\n</blockquote>\n<p>– 引述自 Wiki</p>\n<blockquote>\n<p>Our mission is to increase<br>the GDP of the internet  </p>\n</blockquote>\n<p>– 引述自 Stripe 官網</p>\n<p>業務範圍大多為歐美，亞洲方面支援香港、新加坡與日本等國…</p>\n<h2 id=\"註冊\"><a href=\"#註冊\" class=\"headerlink\" title=\"註冊\"></a>註冊</h2><p>只需要透過信箱即可<a href=\"https://dashboard.stripe.com/register\" target=\"_blank\" rel=\"noopener\">註冊</a>，  \n註冊後需要到信箱收取確認信以開通帳戶，<br>如果真的要在線上使用需要提供公司相關的資訊，<br>但以開發者而言，此時的 Stripe 已經提供一組測試 api 供你使用，<br>隨後即可以登入後台操作。<br><strong>請在 Dashboard 的左邊側欄&gt;開發者&gt;API 密鑰，取得Secret key</strong> ，<br>在後面呼叫 API 中都會使用這組 Secret Key 請特別留意。</p>\n<h2 id=\"付款\"><a href=\"#付款\" class=\"headerlink\" title=\"付款\"></a>付款</h2><p>這裡只介紹 Stripe 信用卡的付款方法，<br>並根據 <a href=\"https://stripe.com/doc\" target=\"_blank\" rel=\"noopener\">Stripe 文件</a>整理一些資訊給大家。  </p>\n<p>如下圖，這是一個標準的 Stripe 結帳流程，<br><img src=\"/images/2019/6/01-overview.png\" alt=\"stripe overview\"></p>\n<p>主要的兩個步驟在 <code>Create Source</code> 與 <code>Create Charge</code> ，<br>這裡會透過呼叫 <a href=\"https://stripe.com/docs/api\" target=\"_blank\" rel=\"noopener\">Stripe API</a> 以完成付款流程。  </p>\n<p>下面會介紹幾種信用卡的付款方式， 僅供參考，實際作業請以最新的 Stripe 文件為準。<br>過程中如有呼叫 API 都會用 curl 帶過，<br>Secret Key 一律以 <code>sk</code> 表示， Public Key 以 <code>pk</code> 表示<br>Stripe 有提供多種語言的範例或是提供 SDK 或 Libary， 請親自去看它們的文件囉。</p>\n<h3 id=\"使用-Checkout-Session\"><a href=\"#使用-Checkout-Session\" class=\"headerlink\" title=\"使用 Checkout Session\"></a>使用 Checkout Session</h3><h4 id=\"Step-1-建立-Session\"><a href=\"#Step-1-建立-Session\" class=\"headerlink\" title=\"Step 1. 建立 Session\"></a>Step 1. 建立 Session</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl https://api.stripe.com/v1/checkout/sessions \\</span><br><span class=\"line\">  -u sk_test_dAa6L6BL4gZDuscgJcl3an8K00aJL2yIaW: \\</span><br><span class=\"line\">  -d payment_method_types[]=card \\</span><br><span class=\"line\">  -d line_items[][name]=T-shirt \\</span><br><span class=\"line\">  -d line_items[][description]=<span class=\"string\">\"Comfortable cotton t-shirt\"</span> \\</span><br><span class=\"line\">  -d line_items[][images][]=<span class=\"string\">\"https://example.com/t-shirt.png\"</span> \\</span><br><span class=\"line\">  -d line_items[][amount]=500 \\</span><br><span class=\"line\">  -d line_items[][currency]=hkd \\</span><br><span class=\"line\">  -d line_items[][quantity]=1 \\</span><br><span class=\"line\">  -d success_url=<span class=\"string\">\"https://example.com/success\"</span> \\</span><br><span class=\"line\">  -d cancel_url=<span class=\"string\">\"https://example.com/cancel\"</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Step-2-建立-CheckOut-頁面\"><a href=\"#Step-2-建立-CheckOut-頁面\" class=\"headerlink\" title=\"Step 2. 建立 CheckOut 頁面\"></a>Step 2. 建立 CheckOut 頁面</h4><p>Step 1 會取得一組 session_id ，請填入頁面中的<code>{session_id}</code>，\n<code>pk</code> 請填入 <code>public key</code></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://js.stripe.com/v3/\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">var</span> stripe = Stripe(<span class=\"string\">'pk'</span>);</span></span><br><span class=\"line\"><span class=\"undefined\">stripe.redirectToCheckout(&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"comment\">// Make the id field from the Checkout Session creation API response</span></span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"comment\">// available to this file， so you can provide it as parameter here</span></span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"comment\">// instead of the &#123;&#123;CHECKOUT_SESSION_ID&#125;&#125; placeholder.</span></span></span><br><span class=\"line\"><span class=\"javascript\">  sessionId: <span class=\"string\">'&#123;session_id&#125;'</span></span></span><br><span class=\"line\"><span class=\"javascript\">&#125;).then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">result</span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"comment\">// If `redirectToCheckout` fails due to a browser or network</span></span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"comment\">// error， display the localized error message to your customer</span></span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"comment\">// using `result.error.message`.</span></span></span><br><span class=\"line\"><span class=\"undefined\">&#125;);</span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Step-3-載入頁面\"><a href=\"#Step-3-載入頁面\" class=\"headerlink\" title=\"Step 3. 載入頁面\"></a>Step 3. 載入頁面</h4><p>調整你的付款流程，引導消費者到 Step 2. 的頁面，<br>會自動轉導到 Stripe 的標準頁，並且出現填寫信用卡的資訊，<br>消費者需要手動輸入卡號後，確認付款。<br>如果確認會引導至 Step 1 的 <code>success_url</code><br>消費者取消的話會引導至 Step 1 的 <code>cancel_url</code>  </p>\n<h4 id=\"說明\"><a href=\"#說明\" class=\"headerlink\" title=\"說明\"></a>說明</h4><p>這是標準的第三方串接步驟，可以發現在 Step 3 的時候，<br>消費者會被帶離你原本的站台到 Stripe 的付款頁面，<br>這樣的好處是你不需要經手敏感的資料，像是信用卡卡號，<br>但是有時候，轉導到外部頁面會讓消費者不安進而中斷結帳，<br>那我們可以參考其它的作法。  </p>\n<h3 id=\"使用-Source\"><a href=\"#使用-Source\" class=\"headerlink\" title=\"使用 Source\"></a>使用 Source</h3><p>一般來說，Source 是 Stripe 最常用的付款方式，<br>但在歐洲相關規定調整後，信用卡不再建議使用這個 API。<br>可以參考官方文件的<a href=\"https://stripe.com/docs/sources/cards\" target=\"_blank\" rel=\"noopener\">說明</a></p>\n<blockquote>\n<p>Card Payments with Sources<br>Use Sources to accept card payments from around the world.  </p>\n<p>Use of this API is no longer recommended. We recommend adopting the Payment Intents API.<br>This new integration lets you benefit from Dynamic 3D Secure and helps you prepare for<br>Strong Customer Authentication regulation in Europe.</p>\n</blockquote>\n<p>不過理論上您的客戶中沒有歐洲人的話，還是可以呼叫這個 API ，<br>作法如下:</p>\n<h4 id=\"Step-1-Create-Source-並指定-Type-為-Card\"><a href=\"#Step-1-Create-Source-並指定-Type-為-Card\" class=\"headerlink\" title=\"Step 1. Create Source 並指定 Type 為 Card\"></a>Step 1. Create Source 並指定 Type 為 Card</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl https://api.stripe.com/v1/sources</span><br><span class=\"line\">  -u sk</span><br><span class=\"line\">  -d <span class=\"built_in\">type</span>=card</span><br><span class=\"line\">  -d currency=hkd</span><br><span class=\"line\">  -d owner[email]=<span class=\"string\">\"jenny.rosen@example.com\"</span></span><br><span class=\"line\">  -d card[number]=&#123;&#123;cardNumber&#125;&#125;</span><br><span class=\"line\">  -d card[exp_month]=12</span><br><span class=\"line\">  -d card[exp_year]=2020</span><br><span class=\"line\">  -d card[cvc]=123</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Step-2-Charge-With-Source\"><a href=\"#Step-2-Charge-With-Source\" class=\"headerlink\" title=\"Step 2. Charge With Source\"></a>Step 2. Charge With Source</h4><p>Step 1 可以取得 source id，利用 source id 呼叫 charge API 付款   </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl https://api.stripe.com/v1/charges</span><br><span class=\"line\">  -u sk</span><br><span class=\"line\">  -d <span class=\"built_in\">source</span>=&#123;&#123;<span class=\"built_in\">source</span> id&#125;&#125;</span><br><span class=\"line\">  -d amount=411</span><br><span class=\"line\">  -d currency=hkd</span><br><span class=\"line\">  -d description=<span class=\"string\">\"Charge for jenny.rosen@example.com\"</span></span><br><span class=\"line\">  -d metadata[a]=<span class=\"string\">\"b\"</span></span><br><span class=\"line\">  -d metadata[b]=123</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"使用-Token\"><a href=\"#使用-Token\" class=\"headerlink\" title=\"使用 Token\"></a>使用 Token</h3><p>不過 Sorce 信用卡在<a href=\"https://stripe.com/docs/payments/payment-methods#transitioning\" target=\"_blank\" rel=\"noopener\">官方文件</a>上不再被建議使用，<br>我們可以看看另一個類似的方法 <em>Token</em></p>\n<h4 id=\"Step-1-Create-Token-並傳入卡號\"><a href=\"#Step-1-Create-Token-並傳入卡號\" class=\"headerlink\" title=\"Step 1. Create Token 並傳入卡號\"></a>Step 1. Create Token 並傳入卡號</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl https://api.stripe.com/v1/tokens</span><br><span class=\"line\">  -u sk</span><br><span class=\"line\">  -d card[number]=&#123;&#123;cardNumber&#125;&#125;</span><br><span class=\"line\">  -d card[exp_month]=12</span><br><span class=\"line\">  -d card[exp_year]=2020</span><br><span class=\"line\">  -d card[cvc]=123</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Step-2-Charge-With-Token\"><a href=\"#Step-2-Charge-With-Token\" class=\"headerlink\" title=\"Step 2. Charge With Token\"></a>Step 2. Charge With Token</h4><p>Step 1 可以取得 token id，利用 source id 呼叫 charge API 付款</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl https://api.stripe.com/v1/charges</span><br><span class=\"line\">  -u sk</span><br><span class=\"line\">  -d <span class=\"built_in\">source</span>=&#123;&#123;token id&#125;&#125;</span><br><span class=\"line\">  -d amount=412</span><br><span class=\"line\">  -d currency=hkd</span><br><span class=\"line\">  -d description=<span class=\"string\">\"Charge for jenny.rosen@example.com\"</span></span><br><span class=\"line\">  -d metadata[a]=<span class=\"string\">\"c\"</span></span><br><span class=\"line\">  -d metadata[b]=663</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"使用-Payment-Intent\"><a href=\"#使用-Payment-Intent\" class=\"headerlink\" title=\"使用 Payment Intent\"></a>使用 Payment Intent</h3><p>終於來到 Payment Intent 了，<br>實際上這是目前 Stripe 最推薦的信用卡支付方式，<br>呼叫的作法也很類似於 Source 與 Token，<br>沒什麼特別考量的話，建議使用這個付款方式。</p>\n<h4 id=\"Step-1-Create-Payment-Method-並傳入卡號\"><a href=\"#Step-1-Create-Payment-Method-並傳入卡號\" class=\"headerlink\" title=\"Step 1. Create Payment Method 並傳入卡號\"></a>Step 1. Create Payment Method 並傳入卡號</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl https://api.stripe.com/v1/payment_methods</span><br><span class=\"line\">  -u sk</span><br><span class=\"line\">  -X POST  </span><br><span class=\"line\">  -d <span class=\"built_in\">type</span>=card  </span><br><span class=\"line\">  -d card[number]=&#123;&#123;cardNumber&#125;&#125;</span><br><span class=\"line\">  -d card[exp_month]=12  </span><br><span class=\"line\">  -d card[exp_year]=2020  </span><br><span class=\"line\">  -d card[cvc]=123</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Step-2-Create-Payment-Intent-With-Payment-Method\"><a href=\"#Step-2-Create-Payment-Intent-With-Payment-Method\" class=\"headerlink\" title=\"Step 2. Create Payment Intent With Payment Method\"></a>Step 2. Create Payment Intent With Payment Method</h4><p>Step 1 可以取得 payment method id，<br>利用 payment method id 呼叫 payment intents API 付款</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl https://api.stripe.com/v1/payment_intents  </span><br><span class=\"line\">  -u sk  </span><br><span class=\"line\">  -d payment_method=&#123;&#123;payment method id&#125;&#125;</span><br><span class=\"line\">  -d amount=555  </span><br><span class=\"line\">  -d currency=hkd  </span><br><span class=\"line\">  -d confirmation_method=manual  </span><br><span class=\"line\">  -d confirm=<span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"小結\"><a href=\"#小結\" class=\"headerlink\" title=\"小結\"></a>小結</h2><p>想快速成立訂單請用 Session 的作法，<br>想要避免轉換率下降，請使用 Payment Intents。</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://stripe.com/en-hk\" target=\"_blank\" rel=\"noopener\">Online payment processing for internet businesses - Stripe</a></li>\n<li><a href=\"https://dashboard.stripe.com/\" target=\"_blank\" rel=\"noopener\">DashBoard</a></li>\n<li><a href=\"https://stripe.com/docs\" target=\"_blank\" rel=\"noopener\">Documentation | Stripe</a></li>\n<li><a href=\"https://stripe.com/docs/api\" target=\"_blank\" rel=\"noopener\">Stripe API Reference</a></li>\n<li><a href=\"https://zh.wikipedia.org/wiki/Stripe\" target=\"_blank\" rel=\"noopener\">Stripe Wiki</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Agenda\"><a href=\"#Agenda\" class=\"headerlink\" title=\"Agenda\"></a>Agenda</h2><ul>\n<li>Stripe 簡介</li>\n<li>註冊</li>\n<li>付款</li>\n</ul>\n<h2 id=\"Stripe-簡介\"><a href=\"#Stripe-簡介\" class=\"headerlink\" title=\"Stripe 簡介\"></a>Stripe 簡介</h2><blockquote>\n<p>Stripe是一家提供讓個人或公司在網際網路上接受付款服務的科技公司。<br>Stripe提供在網上接受付款所需的技術、避免信用卡詐騙技術及銀行基礎設施  </p>\n</blockquote>\n<p>– 引述自 Wiki</p>\n<blockquote>\n<p>Our mission is to increase<br>the GDP of the internet  </p>\n</blockquote>\n<p>– 引述自 Stripe 官網</p>\n<p>業務範圍大多為歐美，亞洲方面支援香港、新加坡與日本等國…</p>\n<h2 id=\"註冊\"><a href=\"#註冊\" class=\"headerlink\" title=\"註冊\"></a>註冊</h2><p>只需要透過信箱即可<a href=\"https://dashboard.stripe.com/register\" target=\"_blank\" rel=\"noopener\">註冊</a>，  \n註冊後需要到信箱收取確認信以開通帳戶，<br>如果真的要在線上使用需要提供公司相關的資訊，<br>但以開發者而言，此時的 Stripe 已經提供一組測試 api 供你使用，<br>隨後即可以登入後台操作。<br><strong>請在 Dashboard 的左邊側欄&gt;開發者&gt;API 密鑰，取得Secret key</strong> ，<br>在後面呼叫 API 中都會使用這組 Secret Key 請特別留意。</p>\n<h2 id=\"付款\"><a href=\"#付款\" class=\"headerlink\" title=\"付款\"></a>付款</h2><p>這裡只介紹 Stripe 信用卡的付款方法，<br>並根據 <a href=\"https://stripe.com/doc\" target=\"_blank\" rel=\"noopener\">Stripe 文件</a>整理一些資訊給大家。  </p>\n<p>如下圖，這是一個標準的 Stripe 結帳流程，<br><img src=\"/images/2019/6/01-overview.png\" alt=\"stripe overview\"></p>\n<p>主要的兩個步驟在 <code>Create Source</code> 與 <code>Create Charge</code> ，<br>這裡會透過呼叫 <a href=\"https://stripe.com/docs/api\" target=\"_blank\" rel=\"noopener\">Stripe API</a> 以完成付款流程。  </p>\n<p>下面會介紹幾種信用卡的付款方式， 僅供參考，實際作業請以最新的 Stripe 文件為準。<br>過程中如有呼叫 API 都會用 curl 帶過，<br>Secret Key 一律以 <code>sk</code> 表示， Public Key 以 <code>pk</code> 表示<br>Stripe 有提供多種語言的範例或是提供 SDK 或 Libary， 請親自去看它們的文件囉。</p>\n<h3 id=\"使用-Checkout-Session\"><a href=\"#使用-Checkout-Session\" class=\"headerlink\" title=\"使用 Checkout Session\"></a>使用 Checkout Session</h3><h4 id=\"Step-1-建立-Session\"><a href=\"#Step-1-建立-Session\" class=\"headerlink\" title=\"Step 1. 建立 Session\"></a>Step 1. 建立 Session</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl https://api.stripe.com/v1/checkout/sessions \\</span><br><span class=\"line\">  -u sk_test_dAa6L6BL4gZDuscgJcl3an8K00aJL2yIaW: \\</span><br><span class=\"line\">  -d payment_method_types[]=card \\</span><br><span class=\"line\">  -d line_items[][name]=T-shirt \\</span><br><span class=\"line\">  -d line_items[][description]=<span class=\"string\">\"Comfortable cotton t-shirt\"</span> \\</span><br><span class=\"line\">  -d line_items[][images][]=<span class=\"string\">\"https://example.com/t-shirt.png\"</span> \\</span><br><span class=\"line\">  -d line_items[][amount]=500 \\</span><br><span class=\"line\">  -d line_items[][currency]=hkd \\</span><br><span class=\"line\">  -d line_items[][quantity]=1 \\</span><br><span class=\"line\">  -d success_url=<span class=\"string\">\"https://example.com/success\"</span> \\</span><br><span class=\"line\">  -d cancel_url=<span class=\"string\">\"https://example.com/cancel\"</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Step-2-建立-CheckOut-頁面\"><a href=\"#Step-2-建立-CheckOut-頁面\" class=\"headerlink\" title=\"Step 2. 建立 CheckOut 頁面\"></a>Step 2. 建立 CheckOut 頁面</h4><p>Step 1 會取得一組 session_id ，請填入頁面中的<code>{session_id}</code>，\n<code>pk</code> 請填入 <code>public key</code></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://js.stripe.com/v3/\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">var</span> stripe = Stripe(<span class=\"string\">'pk'</span>);</span></span><br><span class=\"line\"><span class=\"undefined\">stripe.redirectToCheckout(&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"comment\">// Make the id field from the Checkout Session creation API response</span></span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"comment\">// available to this file， so you can provide it as parameter here</span></span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"comment\">// instead of the &#123;&#123;CHECKOUT_SESSION_ID&#125;&#125; placeholder.</span></span></span><br><span class=\"line\"><span class=\"javascript\">  sessionId: <span class=\"string\">'&#123;session_id&#125;'</span></span></span><br><span class=\"line\"><span class=\"javascript\">&#125;).then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">result</span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"comment\">// If `redirectToCheckout` fails due to a browser or network</span></span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"comment\">// error， display the localized error message to your customer</span></span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"comment\">// using `result.error.message`.</span></span></span><br><span class=\"line\"><span class=\"undefined\">&#125;);</span></span><br><span class=\"line\"><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Step-3-載入頁面\"><a href=\"#Step-3-載入頁面\" class=\"headerlink\" title=\"Step 3. 載入頁面\"></a>Step 3. 載入頁面</h4><p>調整你的付款流程，引導消費者到 Step 2. 的頁面，<br>會自動轉導到 Stripe 的標準頁，並且出現填寫信用卡的資訊，<br>消費者需要手動輸入卡號後，確認付款。<br>如果確認會引導至 Step 1 的 <code>success_url</code><br>消費者取消的話會引導至 Step 1 的 <code>cancel_url</code>  </p>\n<h4 id=\"說明\"><a href=\"#說明\" class=\"headerlink\" title=\"說明\"></a>說明</h4><p>這是標準的第三方串接步驟，可以發現在 Step 3 的時候，<br>消費者會被帶離你原本的站台到 Stripe 的付款頁面，<br>這樣的好處是你不需要經手敏感的資料，像是信用卡卡號，<br>但是有時候，轉導到外部頁面會讓消費者不安進而中斷結帳，<br>那我們可以參考其它的作法。  </p>\n<h3 id=\"使用-Source\"><a href=\"#使用-Source\" class=\"headerlink\" title=\"使用 Source\"></a>使用 Source</h3><p>一般來說，Source 是 Stripe 最常用的付款方式，<br>但在歐洲相關規定調整後，信用卡不再建議使用這個 API。<br>可以參考官方文件的<a href=\"https://stripe.com/docs/sources/cards\" target=\"_blank\" rel=\"noopener\">說明</a></p>\n<blockquote>\n<p>Card Payments with Sources<br>Use Sources to accept card payments from around the world.  </p>\n<p>Use of this API is no longer recommended. We recommend adopting the Payment Intents API.<br>This new integration lets you benefit from Dynamic 3D Secure and helps you prepare for<br>Strong Customer Authentication regulation in Europe.</p>\n</blockquote>\n<p>不過理論上您的客戶中沒有歐洲人的話，還是可以呼叫這個 API ，<br>作法如下:</p>\n<h4 id=\"Step-1-Create-Source-並指定-Type-為-Card\"><a href=\"#Step-1-Create-Source-並指定-Type-為-Card\" class=\"headerlink\" title=\"Step 1. Create Source 並指定 Type 為 Card\"></a>Step 1. Create Source 並指定 Type 為 Card</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl https://api.stripe.com/v1/sources</span><br><span class=\"line\">  -u sk</span><br><span class=\"line\">  -d <span class=\"built_in\">type</span>=card</span><br><span class=\"line\">  -d currency=hkd</span><br><span class=\"line\">  -d owner[email]=<span class=\"string\">\"jenny.rosen@example.com\"</span></span><br><span class=\"line\">  -d card[number]=&#123;&#123;cardNumber&#125;&#125;</span><br><span class=\"line\">  -d card[exp_month]=12</span><br><span class=\"line\">  -d card[exp_year]=2020</span><br><span class=\"line\">  -d card[cvc]=123</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Step-2-Charge-With-Source\"><a href=\"#Step-2-Charge-With-Source\" class=\"headerlink\" title=\"Step 2. Charge With Source\"></a>Step 2. Charge With Source</h4><p>Step 1 可以取得 source id，利用 source id 呼叫 charge API 付款   </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl https://api.stripe.com/v1/charges</span><br><span class=\"line\">  -u sk</span><br><span class=\"line\">  -d <span class=\"built_in\">source</span>=&#123;&#123;<span class=\"built_in\">source</span> id&#125;&#125;</span><br><span class=\"line\">  -d amount=411</span><br><span class=\"line\">  -d currency=hkd</span><br><span class=\"line\">  -d description=<span class=\"string\">\"Charge for jenny.rosen@example.com\"</span></span><br><span class=\"line\">  -d metadata[a]=<span class=\"string\">\"b\"</span></span><br><span class=\"line\">  -d metadata[b]=123</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"使用-Token\"><a href=\"#使用-Token\" class=\"headerlink\" title=\"使用 Token\"></a>使用 Token</h3><p>不過 Sorce 信用卡在<a href=\"https://stripe.com/docs/payments/payment-methods#transitioning\" target=\"_blank\" rel=\"noopener\">官方文件</a>上不再被建議使用，<br>我們可以看看另一個類似的方法 <em>Token</em></p>\n<h4 id=\"Step-1-Create-Token-並傳入卡號\"><a href=\"#Step-1-Create-Token-並傳入卡號\" class=\"headerlink\" title=\"Step 1. Create Token 並傳入卡號\"></a>Step 1. Create Token 並傳入卡號</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl https://api.stripe.com/v1/tokens</span><br><span class=\"line\">  -u sk</span><br><span class=\"line\">  -d card[number]=&#123;&#123;cardNumber&#125;&#125;</span><br><span class=\"line\">  -d card[exp_month]=12</span><br><span class=\"line\">  -d card[exp_year]=2020</span><br><span class=\"line\">  -d card[cvc]=123</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Step-2-Charge-With-Token\"><a href=\"#Step-2-Charge-With-Token\" class=\"headerlink\" title=\"Step 2. Charge With Token\"></a>Step 2. Charge With Token</h4><p>Step 1 可以取得 token id，利用 source id 呼叫 charge API 付款</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl https://api.stripe.com/v1/charges</span><br><span class=\"line\">  -u sk</span><br><span class=\"line\">  -d <span class=\"built_in\">source</span>=&#123;&#123;token id&#125;&#125;</span><br><span class=\"line\">  -d amount=412</span><br><span class=\"line\">  -d currency=hkd</span><br><span class=\"line\">  -d description=<span class=\"string\">\"Charge for jenny.rosen@example.com\"</span></span><br><span class=\"line\">  -d metadata[a]=<span class=\"string\">\"c\"</span></span><br><span class=\"line\">  -d metadata[b]=663</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"使用-Payment-Intent\"><a href=\"#使用-Payment-Intent\" class=\"headerlink\" title=\"使用 Payment Intent\"></a>使用 Payment Intent</h3><p>終於來到 Payment Intent 了，<br>實際上這是目前 Stripe 最推薦的信用卡支付方式，<br>呼叫的作法也很類似於 Source 與 Token，<br>沒什麼特別考量的話，建議使用這個付款方式。</p>\n<h4 id=\"Step-1-Create-Payment-Method-並傳入卡號\"><a href=\"#Step-1-Create-Payment-Method-並傳入卡號\" class=\"headerlink\" title=\"Step 1. Create Payment Method 並傳入卡號\"></a>Step 1. Create Payment Method 並傳入卡號</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl https://api.stripe.com/v1/payment_methods</span><br><span class=\"line\">  -u sk</span><br><span class=\"line\">  -X POST  </span><br><span class=\"line\">  -d <span class=\"built_in\">type</span>=card  </span><br><span class=\"line\">  -d card[number]=&#123;&#123;cardNumber&#125;&#125;</span><br><span class=\"line\">  -d card[exp_month]=12  </span><br><span class=\"line\">  -d card[exp_year]=2020  </span><br><span class=\"line\">  -d card[cvc]=123</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Step-2-Create-Payment-Intent-With-Payment-Method\"><a href=\"#Step-2-Create-Payment-Intent-With-Payment-Method\" class=\"headerlink\" title=\"Step 2. Create Payment Intent With Payment Method\"></a>Step 2. Create Payment Intent With Payment Method</h4><p>Step 1 可以取得 payment method id，<br>利用 payment method id 呼叫 payment intents API 付款</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl https://api.stripe.com/v1/payment_intents  </span><br><span class=\"line\">  -u sk  </span><br><span class=\"line\">  -d payment_method=&#123;&#123;payment method id&#125;&#125;</span><br><span class=\"line\">  -d amount=555  </span><br><span class=\"line\">  -d currency=hkd  </span><br><span class=\"line\">  -d confirmation_method=manual  </span><br><span class=\"line\">  -d confirm=<span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"小結\"><a href=\"#小結\" class=\"headerlink\" title=\"小結\"></a>小結</h2><p>想快速成立訂單請用 Session 的作法，<br>想要避免轉換率下降，請使用 Payment Intents。</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://stripe.com/en-hk\" target=\"_blank\" rel=\"noopener\">Online payment processing for internet businesses - Stripe</a></li>\n<li><a href=\"https://dashboard.stripe.com/\" target=\"_blank\" rel=\"noopener\">DashBoard</a></li>\n<li><a href=\"https://stripe.com/docs\" target=\"_blank\" rel=\"noopener\">Documentation | Stripe</a></li>\n<li><a href=\"https://stripe.com/docs/api\" target=\"_blank\" rel=\"noopener\">Stripe API Reference</a></li>\n<li><a href=\"https://zh.wikipedia.org/wiki/Stripe\" target=\"_blank\" rel=\"noopener\">Stripe Wiki</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[生活筆記] Swing Dance 雜記","date":"2019-11-07T09:03:56.000Z","_content":"\n學習 Swing 大概滿周年了，最初的理由已經有點忘記了;\n為了避免忘掉更多東西，還是隨手記錄一下自已的一些小小想法。\n\n## 波動的感覺\n\n在新手期的階段有一件有趣的事，在牽起 Follower 手的時候，\n大概就知道這個人有沒有跳過舞，基本上會有波動從對方的手傳遞過來，\n正常來說這個波動應該是上下的，有時候會遇到左右或是扭扭的波動，\n也有波平如鏡的狀況。\n\nLindy 的基本動作之一是 Bounce，它帶來的波動應該是上下，而且是下律動的。\n所以如果感覺到不太一樣的波，大概可以猜這個人之前有跳過別的舞蹈，\n準確率還蠻高的，只是現在我好像感覺不太到了。\n\n## 與武術的關係\n\n上面提到了波，就聊聊舞與武的關係，因為不知道為何我腦海總會出現「波動拳」三個字。\n除了波以外，練基本步跟 Bounce 就好像是在蹲馬步，跟 Follower 練習就好像在練套路(Kata)\n而 Social 場合就像是賽際過招，年度大型 Event 就是天下武術大會的概念。\n\n## 目的\n\n跳舞的目的很抽象，不像其它的運動，有明確的目的，例如把球投進籃子裡或是率先衝過終點線。\n我給自已訂了一些目標與原則，\n首先要讓 Follower 感到安全，\n同時不能讓他感到無聊，整個過程必須是有趣的，\n最後一定要讓 Follower 跳得好看。\n如果 Follower 被誇獎跳得很美，Leader 才算成功。\n\n## 規則\n\n一開始學習給的一些自我約束，不一一說明原委，反正我就是喜歡沒事找事作\n\n1. 不要找同一個人一直跳舞，儘可能每首都換\n2. 全場通殺，小一點的 Social 場合儘量跟每個人都跳到\n3. Follower 永遠是對的，如果 Follower 跟錯了，想想是不是自已的 Leading 不夠明確\n4. Last Song , 可以的話最後一首一定要跳\n\n## 教室\n\nBig Apple(BA)、Swing Taiwan(ST)、YM Swing(YM)、Lindy Island(艾倫)、JF Swing(JF)、Naughty Swing\n\n台北我知道的教室大概就這幾間(2019)，第一次是在 ST 上的，後來時間對不上就去 YM 學了一陣子(半年以上)，\nLindy Island 上過一期 Swing Out(四堂)，Naughty Swing 上過一次 Solo 。\n上面的教室括號內是教室的簡稱，然後我是按照某種神祕規則排序的，不知道有人看得出來嗎 ?\n\n## 給一年前的我的建議\n\n1. 不要先學 Charleston 。\n2. 照教室開課的順序去學，但是覺得困難的話，與其往下上，不如上複習班\n3. 不同教室類似的課通常會錯開，時間許可的話都去上。\n4. 常去 Socail 多聽音樂，練習、練習、練習\n5. Solo 比想像中的好玩，一定要試試\n6. Keep Learning\n\n(fin)\n","source":"_posts/2019/swing_dance_log.md","raw":"---\ntitle: \"[生活筆記] Swing Dance 雜記\"\ndate: 2019/11/07 17:03:56\n---\n\n學習 Swing 大概滿周年了，最初的理由已經有點忘記了;\n為了避免忘掉更多東西，還是隨手記錄一下自已的一些小小想法。\n\n## 波動的感覺\n\n在新手期的階段有一件有趣的事，在牽起 Follower 手的時候，\n大概就知道這個人有沒有跳過舞，基本上會有波動從對方的手傳遞過來，\n正常來說這個波動應該是上下的，有時候會遇到左右或是扭扭的波動，\n也有波平如鏡的狀況。\n\nLindy 的基本動作之一是 Bounce，它帶來的波動應該是上下，而且是下律動的。\n所以如果感覺到不太一樣的波，大概可以猜這個人之前有跳過別的舞蹈，\n準確率還蠻高的，只是現在我好像感覺不太到了。\n\n## 與武術的關係\n\n上面提到了波，就聊聊舞與武的關係，因為不知道為何我腦海總會出現「波動拳」三個字。\n除了波以外，練基本步跟 Bounce 就好像是在蹲馬步，跟 Follower 練習就好像在練套路(Kata)\n而 Social 場合就像是賽際過招，年度大型 Event 就是天下武術大會的概念。\n\n## 目的\n\n跳舞的目的很抽象，不像其它的運動，有明確的目的，例如把球投進籃子裡或是率先衝過終點線。\n我給自已訂了一些目標與原則，\n首先要讓 Follower 感到安全，\n同時不能讓他感到無聊，整個過程必須是有趣的，\n最後一定要讓 Follower 跳得好看。\n如果 Follower 被誇獎跳得很美，Leader 才算成功。\n\n## 規則\n\n一開始學習給的一些自我約束，不一一說明原委，反正我就是喜歡沒事找事作\n\n1. 不要找同一個人一直跳舞，儘可能每首都換\n2. 全場通殺，小一點的 Social 場合儘量跟每個人都跳到\n3. Follower 永遠是對的，如果 Follower 跟錯了，想想是不是自已的 Leading 不夠明確\n4. Last Song , 可以的話最後一首一定要跳\n\n## 教室\n\nBig Apple(BA)、Swing Taiwan(ST)、YM Swing(YM)、Lindy Island(艾倫)、JF Swing(JF)、Naughty Swing\n\n台北我知道的教室大概就這幾間(2019)，第一次是在 ST 上的，後來時間對不上就去 YM 學了一陣子(半年以上)，\nLindy Island 上過一期 Swing Out(四堂)，Naughty Swing 上過一次 Solo 。\n上面的教室括號內是教室的簡稱，然後我是按照某種神祕規則排序的，不知道有人看得出來嗎 ?\n\n## 給一年前的我的建議\n\n1. 不要先學 Charleston 。\n2. 照教室開課的順序去學，但是覺得困難的話，與其往下上，不如上複習班\n3. 不同教室類似的課通常會錯開，時間許可的話都去上。\n4. 常去 Socail 多聽音樂，練習、練習、練習\n5. Solo 比想像中的好玩，一定要試試\n6. Keep Learning\n\n(fin)\n","slug":"2019/swing_dance_log","published":1,"updated":"2019-11-07T09:05:54.609Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wmy003cb0vxj7nxew60","content":"<p>學習 Swing 大概滿周年了，最初的理由已經有點忘記了;<br>為了避免忘掉更多東西，還是隨手記錄一下自已的一些小小想法。</p>\n<h2 id=\"波動的感覺\"><a href=\"#波動的感覺\" class=\"headerlink\" title=\"波動的感覺\"></a>波動的感覺</h2><p>在新手期的階段有一件有趣的事，在牽起 Follower 手的時候，<br>大概就知道這個人有沒有跳過舞，基本上會有波動從對方的手傳遞過來，<br>正常來說這個波動應該是上下的，有時候會遇到左右或是扭扭的波動，<br>也有波平如鏡的狀況。</p>\n<p>Lindy 的基本動作之一是 Bounce，它帶來的波動應該是上下，而且是下律動的。<br>所以如果感覺到不太一樣的波，大概可以猜這個人之前有跳過別的舞蹈，<br>準確率還蠻高的，只是現在我好像感覺不太到了。</p>\n<h2 id=\"與武術的關係\"><a href=\"#與武術的關係\" class=\"headerlink\" title=\"與武術的關係\"></a>與武術的關係</h2><p>上面提到了波，就聊聊舞與武的關係，因為不知道為何我腦海總會出現「波動拳」三個字。<br>除了波以外，練基本步跟 Bounce 就好像是在蹲馬步，跟 Follower 練習就好像在練套路(Kata)<br>而 Social 場合就像是賽際過招，年度大型 Event 就是天下武術大會的概念。</p>\n<h2 id=\"目的\"><a href=\"#目的\" class=\"headerlink\" title=\"目的\"></a>目的</h2><p>跳舞的目的很抽象，不像其它的運動，有明確的目的，例如把球投進籃子裡或是率先衝過終點線。<br>我給自已訂了一些目標與原則，<br>首先要讓 Follower 感到安全，<br>同時不能讓他感到無聊，整個過程必須是有趣的，<br>最後一定要讓 Follower 跳得好看。<br>如果 Follower 被誇獎跳得很美，Leader 才算成功。</p>\n<h2 id=\"規則\"><a href=\"#規則\" class=\"headerlink\" title=\"規則\"></a>規則</h2><p>一開始學習給的一些自我約束，不一一說明原委，反正我就是喜歡沒事找事作</p>\n<ol>\n<li>不要找同一個人一直跳舞，儘可能每首都換</li>\n<li>全場通殺，小一點的 Social 場合儘量跟每個人都跳到</li>\n<li>Follower 永遠是對的，如果 Follower 跟錯了，想想是不是自已的 Leading 不夠明確</li>\n<li>Last Song , 可以的話最後一首一定要跳</li>\n</ol>\n<h2 id=\"教室\"><a href=\"#教室\" class=\"headerlink\" title=\"教室\"></a>教室</h2><p>Big Apple(BA)、Swing Taiwan(ST)、YM Swing(YM)、Lindy Island(艾倫)、JF Swing(JF)、Naughty Swing</p>\n<p>台北我知道的教室大概就這幾間(2019)，第一次是在 ST 上的，後來時間對不上就去 YM 學了一陣子(半年以上)，<br>Lindy Island 上過一期 Swing Out(四堂)，Naughty Swing 上過一次 Solo 。<br>上面的教室括號內是教室的簡稱，然後我是按照某種神祕規則排序的，不知道有人看得出來嗎 ?</p>\n<h2 id=\"給一年前的我的建議\"><a href=\"#給一年前的我的建議\" class=\"headerlink\" title=\"給一年前的我的建議\"></a>給一年前的我的建議</h2><ol>\n<li>不要先學 Charleston 。</li>\n<li>照教室開課的順序去學，但是覺得困難的話，與其往下上，不如上複習班</li>\n<li>不同教室類似的課通常會錯開，時間許可的話都去上。</li>\n<li>常去 Socail 多聽音樂，練習、練習、練習</li>\n<li>Solo 比想像中的好玩，一定要試試</li>\n<li>Keep Learning</li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<p>學習 Swing 大概滿周年了，最初的理由已經有點忘記了;<br>為了避免忘掉更多東西，還是隨手記錄一下自已的一些小小想法。</p>\n<h2 id=\"波動的感覺\"><a href=\"#波動的感覺\" class=\"headerlink\" title=\"波動的感覺\"></a>波動的感覺</h2><p>在新手期的階段有一件有趣的事，在牽起 Follower 手的時候，<br>大概就知道這個人有沒有跳過舞，基本上會有波動從對方的手傳遞過來，<br>正常來說這個波動應該是上下的，有時候會遇到左右或是扭扭的波動，<br>也有波平如鏡的狀況。</p>\n<p>Lindy 的基本動作之一是 Bounce，它帶來的波動應該是上下，而且是下律動的。<br>所以如果感覺到不太一樣的波，大概可以猜這個人之前有跳過別的舞蹈，<br>準確率還蠻高的，只是現在我好像感覺不太到了。</p>\n<h2 id=\"與武術的關係\"><a href=\"#與武術的關係\" class=\"headerlink\" title=\"與武術的關係\"></a>與武術的關係</h2><p>上面提到了波，就聊聊舞與武的關係，因為不知道為何我腦海總會出現「波動拳」三個字。<br>除了波以外，練基本步跟 Bounce 就好像是在蹲馬步，跟 Follower 練習就好像在練套路(Kata)<br>而 Social 場合就像是賽際過招，年度大型 Event 就是天下武術大會的概念。</p>\n<h2 id=\"目的\"><a href=\"#目的\" class=\"headerlink\" title=\"目的\"></a>目的</h2><p>跳舞的目的很抽象，不像其它的運動，有明確的目的，例如把球投進籃子裡或是率先衝過終點線。<br>我給自已訂了一些目標與原則，<br>首先要讓 Follower 感到安全，<br>同時不能讓他感到無聊，整個過程必須是有趣的，<br>最後一定要讓 Follower 跳得好看。<br>如果 Follower 被誇獎跳得很美，Leader 才算成功。</p>\n<h2 id=\"規則\"><a href=\"#規則\" class=\"headerlink\" title=\"規則\"></a>規則</h2><p>一開始學習給的一些自我約束，不一一說明原委，反正我就是喜歡沒事找事作</p>\n<ol>\n<li>不要找同一個人一直跳舞，儘可能每首都換</li>\n<li>全場通殺，小一點的 Social 場合儘量跟每個人都跳到</li>\n<li>Follower 永遠是對的，如果 Follower 跟錯了，想想是不是自已的 Leading 不夠明確</li>\n<li>Last Song , 可以的話最後一首一定要跳</li>\n</ol>\n<h2 id=\"教室\"><a href=\"#教室\" class=\"headerlink\" title=\"教室\"></a>教室</h2><p>Big Apple(BA)、Swing Taiwan(ST)、YM Swing(YM)、Lindy Island(艾倫)、JF Swing(JF)、Naughty Swing</p>\n<p>台北我知道的教室大概就這幾間(2019)，第一次是在 ST 上的，後來時間對不上就去 YM 學了一陣子(半年以上)，<br>Lindy Island 上過一期 Swing Out(四堂)，Naughty Swing 上過一次 Solo 。<br>上面的教室括號內是教室的簡稱，然後我是按照某種神祕規則排序的，不知道有人看得出來嗎 ?</p>\n<h2 id=\"給一年前的我的建議\"><a href=\"#給一年前的我的建議\" class=\"headerlink\" title=\"給一年前的我的建議\"></a>給一年前的我的建議</h2><ol>\n<li>不要先學 Charleston 。</li>\n<li>照教室開課的順序去學，但是覺得困難的話，與其往下上，不如上複習班</li>\n<li>不同教室類似的課通常會錯開，時間許可的話都去上。</li>\n<li>常去 Socail 多聽音樂，練習、練習、練習</li>\n<li>Solo 比想像中的好玩，一定要試試</li>\n<li>Keep Learning</li>\n</ol>\n<p>(fin)</p>\n"},{"title":"[工作筆記] 好用的線上工具","date":"2019-04-11T03:16:21.000Z","_content":"\n## .Net Config Transformation Online\n[Web.config Transformation Tester](https://webconfigtransformationtester.apphb.com/)\n\n## JSON \n### JSON C# Class\n- [json2csharp - generate c# classes from json](http://json2csharp.com/)\n\n### JSON Query Online\n- [Home - Online JSON Query Tester](http://www.jsonquerytool.com/)\n\n### JSON Format\n- [JSON Formatter &amp; Validator](https://jsonformatter.curiousconcept.com/)\n- [Online JSON Viewer](http://jsonviewer.stack.hu/)\n\n## YAML\n### Check\n- [YAMLlint - The YAML Validator](http://www.yamllint.com/)\n\n## SQL Format\n[Format SQL Statements Online - sqlformat.org](https://sqlformat.org/)\n\n(fin)","source":"_posts/2019/tool_sites.md","raw":"---\ntitle: \"[工作筆記] 好用的線上工具\"\ndate: 2019/04/11 11:16:21\n---\n\n## .Net Config Transformation Online\n[Web.config Transformation Tester](https://webconfigtransformationtester.apphb.com/)\n\n## JSON \n### JSON C# Class\n- [json2csharp - generate c# classes from json](http://json2csharp.com/)\n\n### JSON Query Online\n- [Home - Online JSON Query Tester](http://www.jsonquerytool.com/)\n\n### JSON Format\n- [JSON Formatter &amp; Validator](https://jsonformatter.curiousconcept.com/)\n- [Online JSON Viewer](http://jsonviewer.stack.hu/)\n\n## YAML\n### Check\n- [YAMLlint - The YAML Validator](http://www.yamllint.com/)\n\n## SQL Format\n[Format SQL Statements Online - sqlformat.org](https://sqlformat.org/)\n\n(fin)","slug":"2019/tool_sites","published":1,"updated":"2019-09-26T09:46:04.293Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wmz003db0vxkse7olbs","content":"<h2 id=\"Net-Config-Transformation-Online\"><a href=\"#Net-Config-Transformation-Online\" class=\"headerlink\" title=\".Net Config Transformation Online\"></a>.Net Config Transformation Online</h2><p><a href=\"https://webconfigtransformationtester.apphb.com/\" target=\"_blank\" rel=\"noopener\">Web.config Transformation Tester</a></p>\n<h2 id=\"JSON\"><a href=\"#JSON\" class=\"headerlink\" title=\"JSON\"></a>JSON</h2><h3 id=\"JSON-C-Class\"><a href=\"#JSON-C-Class\" class=\"headerlink\" title=\"JSON C# Class\"></a>JSON C# Class</h3><ul>\n<li><a href=\"http://json2csharp.com/\" target=\"_blank\" rel=\"noopener\">json2csharp - generate c# classes from json</a></li>\n</ul>\n<h3 id=\"JSON-Query-Online\"><a href=\"#JSON-Query-Online\" class=\"headerlink\" title=\"JSON Query Online\"></a>JSON Query Online</h3><ul>\n<li><a href=\"http://www.jsonquerytool.com/\" target=\"_blank\" rel=\"noopener\">Home - Online JSON Query Tester</a></li>\n</ul>\n<h3 id=\"JSON-Format\"><a href=\"#JSON-Format\" class=\"headerlink\" title=\"JSON Format\"></a>JSON Format</h3><ul>\n<li><a href=\"https://jsonformatter.curiousconcept.com/\" target=\"_blank\" rel=\"noopener\">JSON Formatter &amp; Validator</a></li>\n<li><a href=\"http://jsonviewer.stack.hu/\" target=\"_blank\" rel=\"noopener\">Online JSON Viewer</a></li>\n</ul>\n<h2 id=\"YAML\"><a href=\"#YAML\" class=\"headerlink\" title=\"YAML\"></a>YAML</h2><h3 id=\"Check\"><a href=\"#Check\" class=\"headerlink\" title=\"Check\"></a>Check</h3><ul>\n<li><a href=\"http://www.yamllint.com/\" target=\"_blank\" rel=\"noopener\">YAMLlint - The YAML Validator</a></li>\n</ul>\n<h2 id=\"SQL-Format\"><a href=\"#SQL-Format\" class=\"headerlink\" title=\"SQL Format\"></a>SQL Format</h2><p><a href=\"https://sqlformat.org/\" target=\"_blank\" rel=\"noopener\">Format SQL Statements Online - sqlformat.org</a></p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Net-Config-Transformation-Online\"><a href=\"#Net-Config-Transformation-Online\" class=\"headerlink\" title=\".Net Config Transformation Online\"></a>.Net Config Transformation Online</h2><p><a href=\"https://webconfigtransformationtester.apphb.com/\" target=\"_blank\" rel=\"noopener\">Web.config Transformation Tester</a></p>\n<h2 id=\"JSON\"><a href=\"#JSON\" class=\"headerlink\" title=\"JSON\"></a>JSON</h2><h3 id=\"JSON-C-Class\"><a href=\"#JSON-C-Class\" class=\"headerlink\" title=\"JSON C# Class\"></a>JSON C# Class</h3><ul>\n<li><a href=\"http://json2csharp.com/\" target=\"_blank\" rel=\"noopener\">json2csharp - generate c# classes from json</a></li>\n</ul>\n<h3 id=\"JSON-Query-Online\"><a href=\"#JSON-Query-Online\" class=\"headerlink\" title=\"JSON Query Online\"></a>JSON Query Online</h3><ul>\n<li><a href=\"http://www.jsonquerytool.com/\" target=\"_blank\" rel=\"noopener\">Home - Online JSON Query Tester</a></li>\n</ul>\n<h3 id=\"JSON-Format\"><a href=\"#JSON-Format\" class=\"headerlink\" title=\"JSON Format\"></a>JSON Format</h3><ul>\n<li><a href=\"https://jsonformatter.curiousconcept.com/\" target=\"_blank\" rel=\"noopener\">JSON Formatter &amp; Validator</a></li>\n<li><a href=\"http://jsonviewer.stack.hu/\" target=\"_blank\" rel=\"noopener\">Online JSON Viewer</a></li>\n</ul>\n<h2 id=\"YAML\"><a href=\"#YAML\" class=\"headerlink\" title=\"YAML\"></a>YAML</h2><h3 id=\"Check\"><a href=\"#Check\" class=\"headerlink\" title=\"Check\"></a>Check</h3><ul>\n<li><a href=\"http://www.yamllint.com/\" target=\"_blank\" rel=\"noopener\">YAMLlint - The YAML Validator</a></li>\n</ul>\n<h2 id=\"SQL-Format\"><a href=\"#SQL-Format\" class=\"headerlink\" title=\"SQL Format\"></a>SQL Format</h2><p><a href=\"https://sqlformat.org/\" target=\"_blank\" rel=\"noopener\">Format SQL Statements Online - sqlformat.org</a></p>\n<p>(fin)</p>\n"},{"title":"[實作筆記] Unit Testing With TypeScript","date":"2019-05-16T05:18:16.000Z","_content":"\n## 前情提要\n\n- 難得有機會寫前端的東西\n- 其實只有寫 JavaScript\n- 我要用 TypeScript 寫\n- 合理的軟體工序 TDD\n- 所以我要寫測試\n- node 版本 v8.11.1\n- npm 版本 5.6.0\n- typescript 版本 3.3.3333\n\n## Context & User Stories  \n\n來自前端的需求，在一個日曆工具要加入對可選日期判斷的邏輯。  \n原始需求如下，g、h、i、j 可以透過修改日曆元件選項調整，  \n而細微的日期與時間判斷需要撰寫新的方法作判斷。  \n\n### 原始需求\n\n> a. 每週一過中午12點不能選週二及以前的日期  \n> b. 每週二過中午12點不能選週三及以前的日期  \n> c. 每週三過中午12點不能選週四及以前的日期  \n> d. 每週四過中午12點不能選週五及以前的日期  \n> e. 每週五過中午12點不能選隔週一及以前的日期  \n> f. 每週日都不能選  \n> g. ~~90天以後的日期不能選~~  \n> h. ~~需指導我們如何讓特定日期不能選，以因應遇到國定假日的狀況~~  \n> i. ~~預設為選擇最近一個可以使用的日期~~  \n> j. ~~改成中文~~  \n\n## 測試環境準備\n\n### 使用 Mocha 與 Chai\n\n```shell\nnpm i -D chai mocha nyc ts-node typescript\n```\n\n#### 安裝 [TypeScript](https://www.typescriptlang.org)\n安裝至專案\n\n```shell\n$ npm i -D typescript ts-node\n```\n\n安裝至全域\n\n```shell\n$ npm i -g typescript\n```\n建立專案 `tsconfig.json`\n```\n$ tsc --init\n```\n\n#### 安裝 [MochaJs](https://mochajs.org/)\n\n```shell\nnpm i -D mocha @types/mocha\n```\n\n#### 安裝 [Chai](https://www.chaijs.com/)\n```shell\nnpm i -D Chai @types/chai\n```\n\n#### 設定測試\npackage.json\\\n```script\n\"scripts\":{\n    \"test\": \"mocha -r ts-node/register tests/**/*.test.ts\",\n}\n```\n\n#### 寫測試\n\n```script\nimport { expect } from 'chai';\nimport Calculator from '../src/calculate';\n\ndescribe('calculate', function() {\n  it('add', function() {\n    let result = Calculator.Sum(5, 2);\n    expect(result).equal(7);\n  }); \n});\n```\n\n#### 實作代碼\n```script\nexport default class calculator {\n    static Sum(a: number, b: number): number {\n  \n    }\n```\n\n#### 執行測試\n```shell\nnpm t\n```\n\n#### 修正代碼\n```script\nexport default class calculator {\n    static Sum(a: number, b: number): number {\n        let c = a + b;\n        eturn c;\n    }\n```\n\n#### 測試結果\n\n```shell\n  calculate\n    √ add\n\n\n  1 passing (61ms)\n```\n\n## 測試覆蓋率\n// TODO\n\n### 安裝 nyc\n\n```shell\nnpm i -D nyc\n```\n\n### 設定 scripts\n\n```script\n\"scripts\":{    \n     \"testCover\": \"nyc -r lcov -e .ts -x \\\"*.test.ts\\\" mocha -r ts-node/register tests/**/*.test.ts && nyc report\",\n}\n```\n\n### 執行 \n\n```shell\n> npm run testCover\n```\n\n### 執行結果\n\n```shell\n略過測試部份\n------------------------|----------|----------|----------|----------|-------------------|\nFile                    |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |\n------------------------|----------|----------|----------|----------|-------------------|\nAll files               |      100 |      100 |    98.63 |      100 |                   |\n src                    |      100 |      100 |     87.5 |      100 |                   |\n  Calculator.ts         |      100 |      100 |      100 |      100 |                   |\n  beforeShowDay.ts      |      100 |      100 |       80 |      100 |                   |\n tests                  |      100 |      100 |      100 |      100 |                   |\n  beforeShowDay.test.ts |      100 |      100 |      100 |      100 |                   |\n  calculator.test.ts    |      100 |      100 |      100 |      100 |                   |\n------------------------|----------|----------|----------|----------|-------------------|\n```\n\n## 完整 Test Cases  \n\n>  今天是 2019/3/30 號星期六 12:05  \n>    √ 日曆上 2019/4/02 星期二 出貨 可以選  \n>    √ 日曆上 2019/4/02 星期二 設定為國定假日, 出貨 不可以選  \n>\n>  今天是 2019/3/24 號星期日 12:05  \n>    √ 日曆上 2019/3/25 星期一 出貨 不可以選  \n>    √ 日曆上 2019/3/26 星期二 出貨 可以選  \n>\n>  今天是 2019/3/23 號星期六 12:05  \n>    √ 日曆上 2019/3/25 星期一 出貨 不可以選  \n>    √ 日曆上 2019/3/26 星期二 出貨 可以選  \n>\n>  今天是 2019/3/22 號星期五 23:05  \n>    √ 日曆上 2019/3/25 星期一 出貨 不可以選  \n>    √ 日曆上 2019/3/26 星期二 出貨 可以選  \n>\n>  今天是 2019/3/21 號星期四 01:30  \n>    √ 日曆上 2019/3/21 星期四 出貨 不可以選  \n>    √ 日曆上 2019/3/22 星期五 出貨 可以選  \n>\n>  今天是 2019/3/22 號星期五 23:05  \n>    √ 日曆上 2019/3/25 星期一 出貨 不可以選  \n>    √ 日曆上 2019/3/26 星期二 出貨 可以選  \n>\n>  今天是 2019/3/19 號星期二 23:05  \n>    √ 日曆上 2019/3/21 星期四 出貨 可以選  \n>\n>  今天是 2019/3/22 號星期五 12:59  \n>    √ 日曆上 2019/3/22 星期五 出貨 不能選,因為現在時間超過 12 點  \n>    √ 日曆上 2019/3/25 星期一 出貨 不能選,因為現在時間超過 12 點  \n>    √ 日曆上 2019/3/26 星期二 出貨 可以選  \n>    √ 日曆上 2019/4/1 星期一 出貨 可以選  \n>    √ 日曆上 2019/3/23 星期六 出貨 不能選,因為現在時間超過 12 點  \n>\n>  今天是 2019/3/21 號星期四 23:59  \n>    √ 日曆上 2019/3/21 星期四 出貨 不能選,因為現在時間超過 12 點  \n>\n>  今天是 2019/3/18 號星期一12:00  \n>    √ 日曆上 2019/3/18 星期一 出貨 不能選,因為現在是12點  \n>    √ 日曆上 2019/3/19 星期二 出貨 不能選,因為現在是12點  \n>    √ 日曆上 2019/3/20 星期三 出貨 可以選  \n>    √ 日曆上 2019/3/21 星期四 出貨 可以選  \n>\n>  今天是 2019/3/18 號星期一10:00  \n>    √ 日曆上 2019/3/24 星期日 出貨;不能選,因為週日都不能選  \n>    √ 日曆上 2019/3/18 星期一 出貨 不可以選,因為當天不能選  \n>    √ 日曆上 2019/3/19 星期二 出貨 可以選  \n>    √ 日曆上 2019/3/20 星期三 出貨 可以選  \n\n## 心得\n\n能堅持「工序」是專業人士的表現，  \n我相信這是一種實務上能保持品質與速度的作法。  \n特別是越大規模越複雜的專案，  \n避免掉進焦油坑的方法就是一開始就別踩下去。  \n\n寫測試案例也是一種技能，在這次的 Case 中，  \nE2E測試是相對困難的，受限於時間與日期，  \n單元測試可以控制時間反而成了絕妙的工具。\n\n我一開始寫的測試並不優良，涵蓋的情境不夠(註:這裡並非指程式碼的函蓋率)，  \n但是與 PO 反覆確認之後，調試出的情境終於滿足了需求，  \n看來我還要增進一下寫測試案例的能力。\n\n最後，下次再試試用 `Jest` 寫寫看。\n\n## 參考\n - [TSUnitTestsSetup](http:// https://github.com/ChiragRupani/TSUnitTestsSetup)\n - [Writing unit tests in TypeScript](https://medium.com/@RupaniChirag/writing-unit-tests-in-typescript-d4719b8a0a40)\n\n(fin)","source":"_posts/2019/typescript_unit_test.md","raw":"---\ntitle: \"[實作筆記] Unit Testing With TypeScript\"\ndate: 2019/05/16 13:18:16\ntag:\n    - Unit Testing\n    - TDD\n    - TypeScript\n    - Node.js\n---\n\n## 前情提要\n\n- 難得有機會寫前端的東西\n- 其實只有寫 JavaScript\n- 我要用 TypeScript 寫\n- 合理的軟體工序 TDD\n- 所以我要寫測試\n- node 版本 v8.11.1\n- npm 版本 5.6.0\n- typescript 版本 3.3.3333\n\n## Context & User Stories  \n\n來自前端的需求，在一個日曆工具要加入對可選日期判斷的邏輯。  \n原始需求如下，g、h、i、j 可以透過修改日曆元件選項調整，  \n而細微的日期與時間判斷需要撰寫新的方法作判斷。  \n\n### 原始需求\n\n> a. 每週一過中午12點不能選週二及以前的日期  \n> b. 每週二過中午12點不能選週三及以前的日期  \n> c. 每週三過中午12點不能選週四及以前的日期  \n> d. 每週四過中午12點不能選週五及以前的日期  \n> e. 每週五過中午12點不能選隔週一及以前的日期  \n> f. 每週日都不能選  \n> g. ~~90天以後的日期不能選~~  \n> h. ~~需指導我們如何讓特定日期不能選，以因應遇到國定假日的狀況~~  \n> i. ~~預設為選擇最近一個可以使用的日期~~  \n> j. ~~改成中文~~  \n\n## 測試環境準備\n\n### 使用 Mocha 與 Chai\n\n```shell\nnpm i -D chai mocha nyc ts-node typescript\n```\n\n#### 安裝 [TypeScript](https://www.typescriptlang.org)\n安裝至專案\n\n```shell\n$ npm i -D typescript ts-node\n```\n\n安裝至全域\n\n```shell\n$ npm i -g typescript\n```\n建立專案 `tsconfig.json`\n```\n$ tsc --init\n```\n\n#### 安裝 [MochaJs](https://mochajs.org/)\n\n```shell\nnpm i -D mocha @types/mocha\n```\n\n#### 安裝 [Chai](https://www.chaijs.com/)\n```shell\nnpm i -D Chai @types/chai\n```\n\n#### 設定測試\npackage.json\\\n```script\n\"scripts\":{\n    \"test\": \"mocha -r ts-node/register tests/**/*.test.ts\",\n}\n```\n\n#### 寫測試\n\n```script\nimport { expect } from 'chai';\nimport Calculator from '../src/calculate';\n\ndescribe('calculate', function() {\n  it('add', function() {\n    let result = Calculator.Sum(5, 2);\n    expect(result).equal(7);\n  }); \n});\n```\n\n#### 實作代碼\n```script\nexport default class calculator {\n    static Sum(a: number, b: number): number {\n  \n    }\n```\n\n#### 執行測試\n```shell\nnpm t\n```\n\n#### 修正代碼\n```script\nexport default class calculator {\n    static Sum(a: number, b: number): number {\n        let c = a + b;\n        eturn c;\n    }\n```\n\n#### 測試結果\n\n```shell\n  calculate\n    √ add\n\n\n  1 passing (61ms)\n```\n\n## 測試覆蓋率\n// TODO\n\n### 安裝 nyc\n\n```shell\nnpm i -D nyc\n```\n\n### 設定 scripts\n\n```script\n\"scripts\":{    \n     \"testCover\": \"nyc -r lcov -e .ts -x \\\"*.test.ts\\\" mocha -r ts-node/register tests/**/*.test.ts && nyc report\",\n}\n```\n\n### 執行 \n\n```shell\n> npm run testCover\n```\n\n### 執行結果\n\n```shell\n略過測試部份\n------------------------|----------|----------|----------|----------|-------------------|\nFile                    |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |\n------------------------|----------|----------|----------|----------|-------------------|\nAll files               |      100 |      100 |    98.63 |      100 |                   |\n src                    |      100 |      100 |     87.5 |      100 |                   |\n  Calculator.ts         |      100 |      100 |      100 |      100 |                   |\n  beforeShowDay.ts      |      100 |      100 |       80 |      100 |                   |\n tests                  |      100 |      100 |      100 |      100 |                   |\n  beforeShowDay.test.ts |      100 |      100 |      100 |      100 |                   |\n  calculator.test.ts    |      100 |      100 |      100 |      100 |                   |\n------------------------|----------|----------|----------|----------|-------------------|\n```\n\n## 完整 Test Cases  \n\n>  今天是 2019/3/30 號星期六 12:05  \n>    √ 日曆上 2019/4/02 星期二 出貨 可以選  \n>    √ 日曆上 2019/4/02 星期二 設定為國定假日, 出貨 不可以選  \n>\n>  今天是 2019/3/24 號星期日 12:05  \n>    √ 日曆上 2019/3/25 星期一 出貨 不可以選  \n>    √ 日曆上 2019/3/26 星期二 出貨 可以選  \n>\n>  今天是 2019/3/23 號星期六 12:05  \n>    √ 日曆上 2019/3/25 星期一 出貨 不可以選  \n>    √ 日曆上 2019/3/26 星期二 出貨 可以選  \n>\n>  今天是 2019/3/22 號星期五 23:05  \n>    √ 日曆上 2019/3/25 星期一 出貨 不可以選  \n>    √ 日曆上 2019/3/26 星期二 出貨 可以選  \n>\n>  今天是 2019/3/21 號星期四 01:30  \n>    √ 日曆上 2019/3/21 星期四 出貨 不可以選  \n>    √ 日曆上 2019/3/22 星期五 出貨 可以選  \n>\n>  今天是 2019/3/22 號星期五 23:05  \n>    √ 日曆上 2019/3/25 星期一 出貨 不可以選  \n>    √ 日曆上 2019/3/26 星期二 出貨 可以選  \n>\n>  今天是 2019/3/19 號星期二 23:05  \n>    √ 日曆上 2019/3/21 星期四 出貨 可以選  \n>\n>  今天是 2019/3/22 號星期五 12:59  \n>    √ 日曆上 2019/3/22 星期五 出貨 不能選,因為現在時間超過 12 點  \n>    √ 日曆上 2019/3/25 星期一 出貨 不能選,因為現在時間超過 12 點  \n>    √ 日曆上 2019/3/26 星期二 出貨 可以選  \n>    √ 日曆上 2019/4/1 星期一 出貨 可以選  \n>    √ 日曆上 2019/3/23 星期六 出貨 不能選,因為現在時間超過 12 點  \n>\n>  今天是 2019/3/21 號星期四 23:59  \n>    √ 日曆上 2019/3/21 星期四 出貨 不能選,因為現在時間超過 12 點  \n>\n>  今天是 2019/3/18 號星期一12:00  \n>    √ 日曆上 2019/3/18 星期一 出貨 不能選,因為現在是12點  \n>    √ 日曆上 2019/3/19 星期二 出貨 不能選,因為現在是12點  \n>    √ 日曆上 2019/3/20 星期三 出貨 可以選  \n>    √ 日曆上 2019/3/21 星期四 出貨 可以選  \n>\n>  今天是 2019/3/18 號星期一10:00  \n>    √ 日曆上 2019/3/24 星期日 出貨;不能選,因為週日都不能選  \n>    √ 日曆上 2019/3/18 星期一 出貨 不可以選,因為當天不能選  \n>    √ 日曆上 2019/3/19 星期二 出貨 可以選  \n>    √ 日曆上 2019/3/20 星期三 出貨 可以選  \n\n## 心得\n\n能堅持「工序」是專業人士的表現，  \n我相信這是一種實務上能保持品質與速度的作法。  \n特別是越大規模越複雜的專案，  \n避免掉進焦油坑的方法就是一開始就別踩下去。  \n\n寫測試案例也是一種技能，在這次的 Case 中，  \nE2E測試是相對困難的，受限於時間與日期，  \n單元測試可以控制時間反而成了絕妙的工具。\n\n我一開始寫的測試並不優良，涵蓋的情境不夠(註:這裡並非指程式碼的函蓋率)，  \n但是與 PO 反覆確認之後，調試出的情境終於滿足了需求，  \n看來我還要增進一下寫測試案例的能力。\n\n最後，下次再試試用 `Jest` 寫寫看。\n\n## 參考\n - [TSUnitTestsSetup](http:// https://github.com/ChiragRupani/TSUnitTestsSetup)\n - [Writing unit tests in TypeScript](https://medium.com/@RupaniChirag/writing-unit-tests-in-typescript-d4719b8a0a40)\n\n(fin)","slug":"2019/typescript_unit_test","published":1,"updated":"2019-06-10T14:43:28.967Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wn1003fb0vxcxwxz4zf","content":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><ul>\n<li>難得有機會寫前端的東西</li>\n<li>其實只有寫 JavaScript</li>\n<li>我要用 TypeScript 寫</li>\n<li>合理的軟體工序 TDD</li>\n<li>所以我要寫測試</li>\n<li>node 版本 v8.11.1</li>\n<li>npm 版本 5.6.0</li>\n<li>typescript 版本 3.3.3333</li>\n</ul>\n<h2 id=\"Context-amp-User-Stories\"><a href=\"#Context-amp-User-Stories\" class=\"headerlink\" title=\"Context &amp; User Stories\"></a>Context &amp; User Stories</h2><p>來自前端的需求，在一個日曆工具要加入對可選日期判斷的邏輯。<br>原始需求如下，g、h、i、j 可以透過修改日曆元件選項調整，<br>而細微的日期與時間判斷需要撰寫新的方法作判斷。  </p>\n<h3 id=\"原始需求\"><a href=\"#原始需求\" class=\"headerlink\" title=\"原始需求\"></a>原始需求</h3><blockquote>\n<p>a. 每週一過中午12點不能選週二及以前的日期<br>b. 每週二過中午12點不能選週三及以前的日期<br>c. 每週三過中午12點不能選週四及以前的日期<br>d. 每週四過中午12點不能選週五及以前的日期<br>e. 每週五過中午12點不能選隔週一及以前的日期<br>f. 每週日都不能選<br>g. <del>90天以後的日期不能選</del><br>h. <del>需指導我們如何讓特定日期不能選，以因應遇到國定假日的狀況</del><br>i. <del>預設為選擇最近一個可以使用的日期</del><br>j. <del>改成中文</del>  </p>\n</blockquote>\n<h2 id=\"測試環境準備\"><a href=\"#測試環境準備\" class=\"headerlink\" title=\"測試環境準備\"></a>測試環境準備</h2><h3 id=\"使用-Mocha-與-Chai\"><a href=\"#使用-Mocha-與-Chai\" class=\"headerlink\" title=\"使用 Mocha 與 Chai\"></a>使用 Mocha 與 Chai</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D chai mocha nyc ts-node typescript</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"安裝-TypeScript\"><a href=\"#安裝-TypeScript\" class=\"headerlink\" title=\"安裝 TypeScript\"></a>安裝 <a href=\"https://www.typescriptlang.org\" target=\"_blank\" rel=\"noopener\">TypeScript</a></h4><p>安裝至專案</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> npm i -D typescript ts-node</span></span><br></pre></td></tr></table></figure>\n\n<p>安裝至全域</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> npm i -g typescript</span></span><br></pre></td></tr></table></figure>\n\n<p>建立專案 <code>tsconfig.json</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ tsc --init</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"安裝-MochaJs\"><a href=\"#安裝-MochaJs\" class=\"headerlink\" title=\"安裝 MochaJs\"></a>安裝 <a href=\"https://mochajs.org/\" target=\"_blank\" rel=\"noopener\">MochaJs</a></h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D mocha @types/mocha</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"安裝-Chai\"><a href=\"#安裝-Chai\" class=\"headerlink\" title=\"安裝 Chai\"></a>安裝 <a href=\"https://www.chaijs.com/\" target=\"_blank\" rel=\"noopener\">Chai</a></h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D Chai @types/chai</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"設定測試\"><a href=\"#設定測試\" class=\"headerlink\" title=\"設定測試\"></a>設定測試</h4><p>package.json\\</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;scripts&quot;:&#123;</span><br><span class=\"line\">    &quot;test&quot;: &quot;mocha -r ts-node/register tests/**/*.test.ts&quot;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"寫測試\"><a href=\"#寫測試\" class=\"headerlink\" title=\"寫測試\"></a>寫測試</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123; expect &#125; from &apos;chai&apos;;</span><br><span class=\"line\">import Calculator from &apos;../src/calculate&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">describe(&apos;calculate&apos;, function() &#123;</span><br><span class=\"line\">  it(&apos;add&apos;, function() &#123;</span><br><span class=\"line\">    let result = Calculator.Sum(5, 2);</span><br><span class=\"line\">    expect(result).equal(7);</span><br><span class=\"line\">  &#125;); </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"實作代碼\"><a href=\"#實作代碼\" class=\"headerlink\" title=\"實作代碼\"></a>實作代碼</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export default class calculator &#123;</span><br><span class=\"line\">    static Sum(a: number, b: number): number &#123;</span><br><span class=\"line\">  </span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"執行測試\"><a href=\"#執行測試\" class=\"headerlink\" title=\"執行測試\"></a>執行測試</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm t</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"修正代碼\"><a href=\"#修正代碼\" class=\"headerlink\" title=\"修正代碼\"></a>修正代碼</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export default class calculator &#123;</span><br><span class=\"line\">    static Sum(a: number, b: number): number &#123;</span><br><span class=\"line\">        let c = a + b;</span><br><span class=\"line\">        eturn c;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"測試結果\"><a href=\"#測試結果\" class=\"headerlink\" title=\"測試結果\"></a>測試結果</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">calculate</span><br><span class=\"line\">  √ add</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">1 passing (61ms)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"測試覆蓋率\"><a href=\"#測試覆蓋率\" class=\"headerlink\" title=\"測試覆蓋率\"></a>測試覆蓋率</h2><p>// TODO</p>\n<h3 id=\"安裝-nyc\"><a href=\"#安裝-nyc\" class=\"headerlink\" title=\"安裝 nyc\"></a>安裝 nyc</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D nyc</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"設定-scripts\"><a href=\"#設定-scripts\" class=\"headerlink\" title=\"設定 scripts\"></a>設定 scripts</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;scripts&quot;:&#123;    </span><br><span class=\"line\">     &quot;testCover&quot;: &quot;nyc -r lcov -e .ts -x \\&quot;*.test.ts\\&quot; mocha -r ts-node/register tests/**/*.test.ts &amp;&amp; nyc report&quot;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"執行\"><a href=\"#執行\" class=\"headerlink\" title=\"執行\"></a>執行</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> npm run testCover</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"執行結果\"><a href=\"#執行結果\" class=\"headerlink\" title=\"執行結果\"></a>執行結果</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">略過測試部份</span><br><span class=\"line\">------------------------|----------|----------|----------|----------|-------------------|</span><br><span class=\"line\">File                    |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |</span><br><span class=\"line\">------------------------|----------|----------|----------|----------|-------------------|</span><br><span class=\"line\">All files               |      100 |      100 |    98.63 |      100 |                   |</span><br><span class=\"line\"> src                    |      100 |      100 |     87.5 |      100 |                   |</span><br><span class=\"line\">  Calculator.ts         |      100 |      100 |      100 |      100 |                   |</span><br><span class=\"line\">  beforeShowDay.ts      |      100 |      100 |       80 |      100 |                   |</span><br><span class=\"line\"> tests                  |      100 |      100 |      100 |      100 |                   |</span><br><span class=\"line\">  beforeShowDay.test.ts |      100 |      100 |      100 |      100 |                   |</span><br><span class=\"line\">  calculator.test.ts    |      100 |      100 |      100 |      100 |                   |</span><br><span class=\"line\">------------------------|----------|----------|----------|----------|-------------------|</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"完整-Test-Cases\"><a href=\"#完整-Test-Cases\" class=\"headerlink\" title=\"完整 Test Cases\"></a>完整 Test Cases</h2><blockquote>\n<p> 今天是 2019/3/30 號星期六 12:05<br>   √ 日曆上 2019/4/02 星期二 出貨 可以選<br>   √ 日曆上 2019/4/02 星期二 設定為國定假日, 出貨 不可以選  </p>\n<p> 今天是 2019/3/24 號星期日 12:05<br>   √ 日曆上 2019/3/25 星期一 出貨 不可以選<br>   √ 日曆上 2019/3/26 星期二 出貨 可以選  </p>\n<p> 今天是 2019/3/23 號星期六 12:05<br>   √ 日曆上 2019/3/25 星期一 出貨 不可以選<br>   √ 日曆上 2019/3/26 星期二 出貨 可以選  </p>\n<p> 今天是 2019/3/22 號星期五 23:05<br>   √ 日曆上 2019/3/25 星期一 出貨 不可以選<br>   √ 日曆上 2019/3/26 星期二 出貨 可以選  </p>\n<p> 今天是 2019/3/21 號星期四 01:30<br>   √ 日曆上 2019/3/21 星期四 出貨 不可以選<br>   √ 日曆上 2019/3/22 星期五 出貨 可以選  </p>\n<p> 今天是 2019/3/22 號星期五 23:05<br>   √ 日曆上 2019/3/25 星期一 出貨 不可以選<br>   √ 日曆上 2019/3/26 星期二 出貨 可以選  </p>\n<p> 今天是 2019/3/19 號星期二 23:05<br>   √ 日曆上 2019/3/21 星期四 出貨 可以選  </p>\n<p> 今天是 2019/3/22 號星期五 12:59<br>   √ 日曆上 2019/3/22 星期五 出貨 不能選,因為現在時間超過 12 點<br>   √ 日曆上 2019/3/25 星期一 出貨 不能選,因為現在時間超過 12 點<br>   √ 日曆上 2019/3/26 星期二 出貨 可以選<br>   √ 日曆上 2019/4/1 星期一 出貨 可以選<br>   √ 日曆上 2019/3/23 星期六 出貨 不能選,因為現在時間超過 12 點  </p>\n<p> 今天是 2019/3/21 號星期四 23:59<br>   √ 日曆上 2019/3/21 星期四 出貨 不能選,因為現在時間超過 12 點  </p>\n<p> 今天是 2019/3/18 號星期一12:00<br>   √ 日曆上 2019/3/18 星期一 出貨 不能選,因為現在是12點<br>   √ 日曆上 2019/3/19 星期二 出貨 不能選,因為現在是12點<br>   √ 日曆上 2019/3/20 星期三 出貨 可以選<br>   √ 日曆上 2019/3/21 星期四 出貨 可以選  </p>\n<p> 今天是 2019/3/18 號星期一10:00<br>   √ 日曆上 2019/3/24 星期日 出貨;不能選,因為週日都不能選<br>   √ 日曆上 2019/3/18 星期一 出貨 不可以選,因為當天不能選<br>   √ 日曆上 2019/3/19 星期二 出貨 可以選<br>   √ 日曆上 2019/3/20 星期三 出貨 可以選  </p>\n</blockquote>\n<h2 id=\"心得\"><a href=\"#心得\" class=\"headerlink\" title=\"心得\"></a>心得</h2><p>能堅持「工序」是專業人士的表現，<br>我相信這是一種實務上能保持品質與速度的作法。<br>特別是越大規模越複雜的專案，<br>避免掉進焦油坑的方法就是一開始就別踩下去。  </p>\n<p>寫測試案例也是一種技能，在這次的 Case 中，<br>E2E測試是相對困難的，受限於時間與日期，<br>單元測試可以控制時間反而成了絕妙的工具。</p>\n<p>我一開始寫的測試並不優良，涵蓋的情境不夠(註:這裡並非指程式碼的函蓋率)，<br>但是與 PO 反覆確認之後，調試出的情境終於滿足了需求，<br>看來我還要增進一下寫測試案例的能力。</p>\n<p>最後，下次再試試用 <code>Jest</code> 寫寫看。</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li>[TSUnitTestsSetup](http:// <a href=\"https://github.com/ChiragRupani/TSUnitTestsSetup\" target=\"_blank\" rel=\"noopener\">https://github.com/ChiragRupani/TSUnitTestsSetup</a>)</li>\n<li><a href=\"https://medium.com/@RupaniChirag/writing-unit-tests-in-typescript-d4719b8a0a40\" target=\"_blank\" rel=\"noopener\">Writing unit tests in TypeScript</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><ul>\n<li>難得有機會寫前端的東西</li>\n<li>其實只有寫 JavaScript</li>\n<li>我要用 TypeScript 寫</li>\n<li>合理的軟體工序 TDD</li>\n<li>所以我要寫測試</li>\n<li>node 版本 v8.11.1</li>\n<li>npm 版本 5.6.0</li>\n<li>typescript 版本 3.3.3333</li>\n</ul>\n<h2 id=\"Context-amp-User-Stories\"><a href=\"#Context-amp-User-Stories\" class=\"headerlink\" title=\"Context &amp; User Stories\"></a>Context &amp; User Stories</h2><p>來自前端的需求，在一個日曆工具要加入對可選日期判斷的邏輯。<br>原始需求如下，g、h、i、j 可以透過修改日曆元件選項調整，<br>而細微的日期與時間判斷需要撰寫新的方法作判斷。  </p>\n<h3 id=\"原始需求\"><a href=\"#原始需求\" class=\"headerlink\" title=\"原始需求\"></a>原始需求</h3><blockquote>\n<p>a. 每週一過中午12點不能選週二及以前的日期<br>b. 每週二過中午12點不能選週三及以前的日期<br>c. 每週三過中午12點不能選週四及以前的日期<br>d. 每週四過中午12點不能選週五及以前的日期<br>e. 每週五過中午12點不能選隔週一及以前的日期<br>f. 每週日都不能選<br>g. <del>90天以後的日期不能選</del><br>h. <del>需指導我們如何讓特定日期不能選，以因應遇到國定假日的狀況</del><br>i. <del>預設為選擇最近一個可以使用的日期</del><br>j. <del>改成中文</del>  </p>\n</blockquote>\n<h2 id=\"測試環境準備\"><a href=\"#測試環境準備\" class=\"headerlink\" title=\"測試環境準備\"></a>測試環境準備</h2><h3 id=\"使用-Mocha-與-Chai\"><a href=\"#使用-Mocha-與-Chai\" class=\"headerlink\" title=\"使用 Mocha 與 Chai\"></a>使用 Mocha 與 Chai</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D chai mocha nyc ts-node typescript</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"安裝-TypeScript\"><a href=\"#安裝-TypeScript\" class=\"headerlink\" title=\"安裝 TypeScript\"></a>安裝 <a href=\"https://www.typescriptlang.org\" target=\"_blank\" rel=\"noopener\">TypeScript</a></h4><p>安裝至專案</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> npm i -D typescript ts-node</span></span><br></pre></td></tr></table></figure>\n\n<p>安裝至全域</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\"> npm i -g typescript</span></span><br></pre></td></tr></table></figure>\n\n<p>建立專案 <code>tsconfig.json</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ tsc --init</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"安裝-MochaJs\"><a href=\"#安裝-MochaJs\" class=\"headerlink\" title=\"安裝 MochaJs\"></a>安裝 <a href=\"https://mochajs.org/\" target=\"_blank\" rel=\"noopener\">MochaJs</a></h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D mocha @types/mocha</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"安裝-Chai\"><a href=\"#安裝-Chai\" class=\"headerlink\" title=\"安裝 Chai\"></a>安裝 <a href=\"https://www.chaijs.com/\" target=\"_blank\" rel=\"noopener\">Chai</a></h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D Chai @types/chai</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"設定測試\"><a href=\"#設定測試\" class=\"headerlink\" title=\"設定測試\"></a>設定測試</h4><p>package.json\\</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;scripts&quot;:&#123;</span><br><span class=\"line\">    &quot;test&quot;: &quot;mocha -r ts-node/register tests/**/*.test.ts&quot;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"寫測試\"><a href=\"#寫測試\" class=\"headerlink\" title=\"寫測試\"></a>寫測試</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123; expect &#125; from &apos;chai&apos;;</span><br><span class=\"line\">import Calculator from &apos;../src/calculate&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">describe(&apos;calculate&apos;, function() &#123;</span><br><span class=\"line\">  it(&apos;add&apos;, function() &#123;</span><br><span class=\"line\">    let result = Calculator.Sum(5, 2);</span><br><span class=\"line\">    expect(result).equal(7);</span><br><span class=\"line\">  &#125;); </span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"實作代碼\"><a href=\"#實作代碼\" class=\"headerlink\" title=\"實作代碼\"></a>實作代碼</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export default class calculator &#123;</span><br><span class=\"line\">    static Sum(a: number, b: number): number &#123;</span><br><span class=\"line\">  </span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"執行測試\"><a href=\"#執行測試\" class=\"headerlink\" title=\"執行測試\"></a>執行測試</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm t</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"修正代碼\"><a href=\"#修正代碼\" class=\"headerlink\" title=\"修正代碼\"></a>修正代碼</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export default class calculator &#123;</span><br><span class=\"line\">    static Sum(a: number, b: number): number &#123;</span><br><span class=\"line\">        let c = a + b;</span><br><span class=\"line\">        eturn c;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"測試結果\"><a href=\"#測試結果\" class=\"headerlink\" title=\"測試結果\"></a>測試結果</h4><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">calculate</span><br><span class=\"line\">  √ add</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">1 passing (61ms)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"測試覆蓋率\"><a href=\"#測試覆蓋率\" class=\"headerlink\" title=\"測試覆蓋率\"></a>測試覆蓋率</h2><p>// TODO</p>\n<h3 id=\"安裝-nyc\"><a href=\"#安裝-nyc\" class=\"headerlink\" title=\"安裝 nyc\"></a>安裝 nyc</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i -D nyc</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"設定-scripts\"><a href=\"#設定-scripts\" class=\"headerlink\" title=\"設定 scripts\"></a>設定 scripts</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;scripts&quot;:&#123;    </span><br><span class=\"line\">     &quot;testCover&quot;: &quot;nyc -r lcov -e .ts -x \\&quot;*.test.ts\\&quot; mocha -r ts-node/register tests/**/*.test.ts &amp;&amp; nyc report&quot;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"執行\"><a href=\"#執行\" class=\"headerlink\" title=\"執行\"></a>執行</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\"> npm run testCover</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"執行結果\"><a href=\"#執行結果\" class=\"headerlink\" title=\"執行結果\"></a>執行結果</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">略過測試部份</span><br><span class=\"line\">------------------------|----------|----------|----------|----------|-------------------|</span><br><span class=\"line\">File                    |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |</span><br><span class=\"line\">------------------------|----------|----------|----------|----------|-------------------|</span><br><span class=\"line\">All files               |      100 |      100 |    98.63 |      100 |                   |</span><br><span class=\"line\"> src                    |      100 |      100 |     87.5 |      100 |                   |</span><br><span class=\"line\">  Calculator.ts         |      100 |      100 |      100 |      100 |                   |</span><br><span class=\"line\">  beforeShowDay.ts      |      100 |      100 |       80 |      100 |                   |</span><br><span class=\"line\"> tests                  |      100 |      100 |      100 |      100 |                   |</span><br><span class=\"line\">  beforeShowDay.test.ts |      100 |      100 |      100 |      100 |                   |</span><br><span class=\"line\">  calculator.test.ts    |      100 |      100 |      100 |      100 |                   |</span><br><span class=\"line\">------------------------|----------|----------|----------|----------|-------------------|</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"完整-Test-Cases\"><a href=\"#完整-Test-Cases\" class=\"headerlink\" title=\"完整 Test Cases\"></a>完整 Test Cases</h2><blockquote>\n<p> 今天是 2019/3/30 號星期六 12:05<br>   √ 日曆上 2019/4/02 星期二 出貨 可以選<br>   √ 日曆上 2019/4/02 星期二 設定為國定假日, 出貨 不可以選  </p>\n<p> 今天是 2019/3/24 號星期日 12:05<br>   √ 日曆上 2019/3/25 星期一 出貨 不可以選<br>   √ 日曆上 2019/3/26 星期二 出貨 可以選  </p>\n<p> 今天是 2019/3/23 號星期六 12:05<br>   √ 日曆上 2019/3/25 星期一 出貨 不可以選<br>   √ 日曆上 2019/3/26 星期二 出貨 可以選  </p>\n<p> 今天是 2019/3/22 號星期五 23:05<br>   √ 日曆上 2019/3/25 星期一 出貨 不可以選<br>   √ 日曆上 2019/3/26 星期二 出貨 可以選  </p>\n<p> 今天是 2019/3/21 號星期四 01:30<br>   √ 日曆上 2019/3/21 星期四 出貨 不可以選<br>   √ 日曆上 2019/3/22 星期五 出貨 可以選  </p>\n<p> 今天是 2019/3/22 號星期五 23:05<br>   √ 日曆上 2019/3/25 星期一 出貨 不可以選<br>   √ 日曆上 2019/3/26 星期二 出貨 可以選  </p>\n<p> 今天是 2019/3/19 號星期二 23:05<br>   √ 日曆上 2019/3/21 星期四 出貨 可以選  </p>\n<p> 今天是 2019/3/22 號星期五 12:59<br>   √ 日曆上 2019/3/22 星期五 出貨 不能選,因為現在時間超過 12 點<br>   √ 日曆上 2019/3/25 星期一 出貨 不能選,因為現在時間超過 12 點<br>   √ 日曆上 2019/3/26 星期二 出貨 可以選<br>   √ 日曆上 2019/4/1 星期一 出貨 可以選<br>   √ 日曆上 2019/3/23 星期六 出貨 不能選,因為現在時間超過 12 點  </p>\n<p> 今天是 2019/3/21 號星期四 23:59<br>   √ 日曆上 2019/3/21 星期四 出貨 不能選,因為現在時間超過 12 點  </p>\n<p> 今天是 2019/3/18 號星期一12:00<br>   √ 日曆上 2019/3/18 星期一 出貨 不能選,因為現在是12點<br>   √ 日曆上 2019/3/19 星期二 出貨 不能選,因為現在是12點<br>   √ 日曆上 2019/3/20 星期三 出貨 可以選<br>   √ 日曆上 2019/3/21 星期四 出貨 可以選  </p>\n<p> 今天是 2019/3/18 號星期一10:00<br>   √ 日曆上 2019/3/24 星期日 出貨;不能選,因為週日都不能選<br>   √ 日曆上 2019/3/18 星期一 出貨 不可以選,因為當天不能選<br>   √ 日曆上 2019/3/19 星期二 出貨 可以選<br>   √ 日曆上 2019/3/20 星期三 出貨 可以選  </p>\n</blockquote>\n<h2 id=\"心得\"><a href=\"#心得\" class=\"headerlink\" title=\"心得\"></a>心得</h2><p>能堅持「工序」是專業人士的表現，<br>我相信這是一種實務上能保持品質與速度的作法。<br>特別是越大規模越複雜的專案，<br>避免掉進焦油坑的方法就是一開始就別踩下去。  </p>\n<p>寫測試案例也是一種技能，在這次的 Case 中，<br>E2E測試是相對困難的，受限於時間與日期，<br>單元測試可以控制時間反而成了絕妙的工具。</p>\n<p>我一開始寫的測試並不優良，涵蓋的情境不夠(註:這裡並非指程式碼的函蓋率)，<br>但是與 PO 反覆確認之後，調試出的情境終於滿足了需求，<br>看來我還要增進一下寫測試案例的能力。</p>\n<p>最後，下次再試試用 <code>Jest</code> 寫寫看。</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li>[TSUnitTestsSetup](http:// <a href=\"https://github.com/ChiragRupani/TSUnitTestsSetup\" target=\"_blank\" rel=\"noopener\">https://github.com/ChiragRupani/TSUnitTestsSetup</a>)</li>\n<li><a href=\"https://medium.com/@RupaniChirag/writing-unit-tests-in-typescript-d4719b8a0a40\" target=\"_blank\" rel=\"noopener\">Writing unit tests in TypeScript</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[閱讀筆記]其實，你不是沒有時間","date":"2017-03-25T16:08:46.000Z","_content":"\n## 六個工具與餐盤\n- 原則:**工具簡單至上**\n- 面對突發狀況\n\n1. 月計劃表 (`google calendar`)\n\t- 與自已約會(保留給自已的時間)^註1^\n\t- 工作與私人不要分開\n\t- 日期與期限 \n2. Todo List (`inbox`)\n\t- 提醒與集中管理\n\t- 每天都要檢查一遍^註2^ \n3. 日計劃表 (`google calendar`)\n\t- 當日約會 & 活動清單\n\t- 活動清單是你當天的籌碼 也是出現突發 \n4. 隨手記 (`筆記本&Evernote`)\n\t- 接受任務，再轉到其他工具之中^註3^\t \n5. 隨身資料庫 (`google drive`)\n\t- 將整理過的資料封存在隨手可得的地方 \n \tex: 上課或分享的簡報、 專案記錄等…有大量圖片、文件等\n6. 溝通工具 (`line & slack`)\n\t- 一天檢查電子郵件3~6次就夠了\n\n## 把時間變空間(視覺化)\n- 個人、家庭、工作取得平衡\n- 安排30分鐘規劃一天的活動\n\t- 創造性活動安排在精力最佳的時段\n\t- 安排獨處的時間\n\t- 安排恢復精力的時間\n\t- 預留時間給可能發生的突發事件\n- 將所有的事情分為紅綠黃(灰)^註4^，綠色應該越多越好，灰色越少越好。\n<table>\n<tr><td>6 am</td><td>7 am</td><td>8 am</td><td>9 am</td><td>10 am</td><td>11 am</td><td>12 am</td><td>1 pm</td></tr>\n<tr><td>5 am</td><td colspan=\"3\" rowspan=\"4\" valign=\"top\">本日活動</td><td colspan=\"3\" rowspan=\"4\" valign=\"top\">隨手記</td><td>2 pm</td></tr>\n<tr><td>4 am</td><td>3 pm</td></tr>\n<tr><td>3 am</td><td>4 pm</td></tr>\n<tr><td>2 am</td><td>5 pm</td></tr>\n<tr><td>1 am</td><td>12 am</td><td>11 pm</td><td>10 pm</td><td>9 pm</td><td>8 pm</td><td>7 pm</td><td>6 pm</td></tr>\n</table>\n\n## 應變執行，計劃趕不上變化\n- 調整事情的順序\n- 養成習慣\n- 臨機應變\n- 小心多工\n- 保留風格\n\n## 註\n1. 分別為聖的時間，請參考`與時間作朋友`\n2. 利用分別為聖的時間檢查\n3. 餐盤中間的區塊可以用來作當日的活動清單 & 隨手記\n4. 可以參考四象限 重要-緊急(紅)、不重要-緊急(黃)、重要-不緊急(綠)、不重要-不緊急(灰)\n\n(fin)\n","source":"_posts/2017/books/book_attack_your_day.md","raw":"---\ntitle: \"[閱讀筆記]其實，你不是沒有時間\"\ndate: 2017/03/26 00:08:46\ntag:\n  - 時間管理\n  - 閱讀筆記\n---\n\n## 六個工具與餐盤\n- 原則:**工具簡單至上**\n- 面對突發狀況\n\n1. 月計劃表 (`google calendar`)\n\t- 與自已約會(保留給自已的時間)^註1^\n\t- 工作與私人不要分開\n\t- 日期與期限 \n2. Todo List (`inbox`)\n\t- 提醒與集中管理\n\t- 每天都要檢查一遍^註2^ \n3. 日計劃表 (`google calendar`)\n\t- 當日約會 & 活動清單\n\t- 活動清單是你當天的籌碼 也是出現突發 \n4. 隨手記 (`筆記本&Evernote`)\n\t- 接受任務，再轉到其他工具之中^註3^\t \n5. 隨身資料庫 (`google drive`)\n\t- 將整理過的資料封存在隨手可得的地方 \n \tex: 上課或分享的簡報、 專案記錄等…有大量圖片、文件等\n6. 溝通工具 (`line & slack`)\n\t- 一天檢查電子郵件3~6次就夠了\n\n## 把時間變空間(視覺化)\n- 個人、家庭、工作取得平衡\n- 安排30分鐘規劃一天的活動\n\t- 創造性活動安排在精力最佳的時段\n\t- 安排獨處的時間\n\t- 安排恢復精力的時間\n\t- 預留時間給可能發生的突發事件\n- 將所有的事情分為紅綠黃(灰)^註4^，綠色應該越多越好，灰色越少越好。\n<table>\n<tr><td>6 am</td><td>7 am</td><td>8 am</td><td>9 am</td><td>10 am</td><td>11 am</td><td>12 am</td><td>1 pm</td></tr>\n<tr><td>5 am</td><td colspan=\"3\" rowspan=\"4\" valign=\"top\">本日活動</td><td colspan=\"3\" rowspan=\"4\" valign=\"top\">隨手記</td><td>2 pm</td></tr>\n<tr><td>4 am</td><td>3 pm</td></tr>\n<tr><td>3 am</td><td>4 pm</td></tr>\n<tr><td>2 am</td><td>5 pm</td></tr>\n<tr><td>1 am</td><td>12 am</td><td>11 pm</td><td>10 pm</td><td>9 pm</td><td>8 pm</td><td>7 pm</td><td>6 pm</td></tr>\n</table>\n\n## 應變執行，計劃趕不上變化\n- 調整事情的順序\n- 養成習慣\n- 臨機應變\n- 小心多工\n- 保留風格\n\n## 註\n1. 分別為聖的時間，請參考`與時間作朋友`\n2. 利用分別為聖的時間檢查\n3. 餐盤中間的區塊可以用來作當日的活動清單 & 隨手記\n4. 可以參考四象限 重要-緊急(紅)、不重要-緊急(黃)、重要-不緊急(綠)、不重要-不緊急(灰)\n\n(fin)\n","slug":"2017/books/book_attack_your_day","published":1,"updated":"2019-06-10T14:43:28.879Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wp9005qb0vxmyyuztcm","content":"<h2 id=\"六個工具與餐盤\"><a href=\"#六個工具與餐盤\" class=\"headerlink\" title=\"六個工具與餐盤\"></a>六個工具與餐盤</h2><ul>\n<li>原則:<strong>工具簡單至上</strong></li>\n<li>面對突發狀況</li>\n</ul>\n<ol>\n<li>月計劃表 (<code>google calendar</code>)<ul>\n<li>與自已約會(保留給自已的時間)^註1^</li>\n<li>工作與私人不要分開</li>\n<li>日期與期限 </li>\n</ul>\n</li>\n<li>Todo List (<code>inbox</code>)<ul>\n<li>提醒與集中管理</li>\n<li>每天都要檢查一遍^註2^ </li>\n</ul>\n</li>\n<li>日計劃表 (<code>google calendar</code>)<ul>\n<li>當日約會 &amp; 活動清單</li>\n<li>活動清單是你當天的籌碼 也是出現突發 </li>\n</ul>\n</li>\n<li>隨手記 (<code>筆記本&amp;Evernote</code>)<ul>\n<li>接受任務，再轉到其他工具之中^註3^     </li>\n</ul>\n</li>\n<li>隨身資料庫 (<code>google drive</code>)<ul>\n<li>將整理過的資料封存在隨手可得的地方<br>ex: 上課或分享的簡報、 專案記錄等…有大量圖片、文件等</li>\n</ul>\n</li>\n<li>溝通工具 (<code>line &amp; slack</code>)<ul>\n<li>一天檢查電子郵件3~6次就夠了</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"把時間變空間-視覺化\"><a href=\"#把時間變空間-視覺化\" class=\"headerlink\" title=\"把時間變空間(視覺化)\"></a>把時間變空間(視覺化)</h2><ul>\n<li>個人、家庭、工作取得平衡</li>\n<li>安排30分鐘規劃一天的活動<ul>\n<li>創造性活動安排在精力最佳的時段</li>\n<li>安排獨處的時間</li>\n<li>安排恢復精力的時間</li>\n<li>預留時間給可能發生的突發事件</li>\n</ul>\n</li>\n<li>將所有的事情分為紅綠黃(灰)^註4^，綠色應該越多越好，灰色越少越好。<table>\n<tr><td>6 am</td><td>7 am</td><td>8 am</td><td>9 am</td><td>10 am</td><td>11 am</td><td>12 am</td><td>1 pm</td></tr>\n<tr><td>5 am</td><td colspan=\"3\" rowspan=\"4\" valign=\"top\">本日活動</td><td colspan=\"3\" rowspan=\"4\" valign=\"top\">隨手記</td><td>2 pm</td></tr>\n<tr><td>4 am</td><td>3 pm</td></tr>\n<tr><td>3 am</td><td>4 pm</td></tr>\n<tr><td>2 am</td><td>5 pm</td></tr>\n<tr><td>1 am</td><td>12 am</td><td>11 pm</td><td>10 pm</td><td>9 pm</td><td>8 pm</td><td>7 pm</td><td>6 pm</td></tr>\n</table>\n\n</li>\n</ul>\n<h2 id=\"應變執行，計劃趕不上變化\"><a href=\"#應變執行，計劃趕不上變化\" class=\"headerlink\" title=\"應變執行，計劃趕不上變化\"></a>應變執行，計劃趕不上變化</h2><ul>\n<li>調整事情的順序</li>\n<li>養成習慣</li>\n<li>臨機應變</li>\n<li>小心多工</li>\n<li>保留風格</li>\n</ul>\n<h2 id=\"註\"><a href=\"#註\" class=\"headerlink\" title=\"註\"></a>註</h2><ol>\n<li>分別為聖的時間，請參考<code>與時間作朋友</code></li>\n<li>利用分別為聖的時間檢查</li>\n<li>餐盤中間的區塊可以用來作當日的活動清單 &amp; 隨手記</li>\n<li>可以參考四象限 重要-緊急(紅)、不重要-緊急(黃)、重要-不緊急(綠)、不重要-不緊急(灰)</li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"六個工具與餐盤\"><a href=\"#六個工具與餐盤\" class=\"headerlink\" title=\"六個工具與餐盤\"></a>六個工具與餐盤</h2><ul>\n<li>原則:<strong>工具簡單至上</strong></li>\n<li>面對突發狀況</li>\n</ul>\n<ol>\n<li>月計劃表 (<code>google calendar</code>)<ul>\n<li>與自已約會(保留給自已的時間)^註1^</li>\n<li>工作與私人不要分開</li>\n<li>日期與期限 </li>\n</ul>\n</li>\n<li>Todo List (<code>inbox</code>)<ul>\n<li>提醒與集中管理</li>\n<li>每天都要檢查一遍^註2^ </li>\n</ul>\n</li>\n<li>日計劃表 (<code>google calendar</code>)<ul>\n<li>當日約會 &amp; 活動清單</li>\n<li>活動清單是你當天的籌碼 也是出現突發 </li>\n</ul>\n</li>\n<li>隨手記 (<code>筆記本&amp;Evernote</code>)<ul>\n<li>接受任務，再轉到其他工具之中^註3^     </li>\n</ul>\n</li>\n<li>隨身資料庫 (<code>google drive</code>)<ul>\n<li>將整理過的資料封存在隨手可得的地方<br>ex: 上課或分享的簡報、 專案記錄等…有大量圖片、文件等</li>\n</ul>\n</li>\n<li>溝通工具 (<code>line &amp; slack</code>)<ul>\n<li>一天檢查電子郵件3~6次就夠了</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"把時間變空間-視覺化\"><a href=\"#把時間變空間-視覺化\" class=\"headerlink\" title=\"把時間變空間(視覺化)\"></a>把時間變空間(視覺化)</h2><ul>\n<li>個人、家庭、工作取得平衡</li>\n<li>安排30分鐘規劃一天的活動<ul>\n<li>創造性活動安排在精力最佳的時段</li>\n<li>安排獨處的時間</li>\n<li>安排恢復精力的時間</li>\n<li>預留時間給可能發生的突發事件</li>\n</ul>\n</li>\n<li>將所有的事情分為紅綠黃(灰)^註4^，綠色應該越多越好，灰色越少越好。<table>\n<tr><td>6 am</td><td>7 am</td><td>8 am</td><td>9 am</td><td>10 am</td><td>11 am</td><td>12 am</td><td>1 pm</td></tr>\n<tr><td>5 am</td><td colspan=\"3\" rowspan=\"4\" valign=\"top\">本日活動</td><td colspan=\"3\" rowspan=\"4\" valign=\"top\">隨手記</td><td>2 pm</td></tr>\n<tr><td>4 am</td><td>3 pm</td></tr>\n<tr><td>3 am</td><td>4 pm</td></tr>\n<tr><td>2 am</td><td>5 pm</td></tr>\n<tr><td>1 am</td><td>12 am</td><td>11 pm</td><td>10 pm</td><td>9 pm</td><td>8 pm</td><td>7 pm</td><td>6 pm</td></tr>\n</table>\n\n</li>\n</ul>\n<h2 id=\"應變執行，計劃趕不上變化\"><a href=\"#應變執行，計劃趕不上變化\" class=\"headerlink\" title=\"應變執行，計劃趕不上變化\"></a>應變執行，計劃趕不上變化</h2><ul>\n<li>調整事情的順序</li>\n<li>養成習慣</li>\n<li>臨機應變</li>\n<li>小心多工</li>\n<li>保留風格</li>\n</ul>\n<h2 id=\"註\"><a href=\"#註\" class=\"headerlink\" title=\"註\"></a>註</h2><ol>\n<li>分別為聖的時間，請參考<code>與時間作朋友</code></li>\n<li>利用分別為聖的時間檢查</li>\n<li>餐盤中間的區塊可以用來作當日的活動清單 &amp; 隨手記</li>\n<li>可以參考四象限 重要-緊急(紅)、不重要-緊急(黃)、重要-不緊急(綠)、不重要-不緊急(灰)</li>\n</ol>\n<p>(fin)</p>\n"},{"title":"20171023本周要聞/心得/學習擷錄","date":"2017-10-23T03:47:27.000Z","_content":"\n1. [Docker 宣布拥抱 Kubernetes](https://mp.weixin.qq.com/s/n_Gnn5sJ0PkwhQhWUc0UeQ)\n\n    ```\n    Docker Swarm与整个Docker平台紧密集成，然而并非所有人都愿意选择Swarm。 \n    Hykes表示，默认的Swarm已经限制了Docker用户的完整体验，\n    为此，Docker公司计划提供一个无缝平台，同时支持包含Swarm和Kubernetes集群的异构部署。\n    Docker企业版（EE）将很快为Kuberenetes和Swarm提供全套Docker管理服务\n    ```\n\n2. 免費字哪裡找？使用[google font](https://fonts.google.com)\n\n3. 使用TypeScript開發nodejs發生以下錯誤(使用gulp編譯成js)\n    ```\n    error TS2693: 'Promise' only refers to a type, but is being used as a value here.\n    ```\n    安裝 `@types/es6-promise` 以解決問題\n    ```\n    npm i --save-dev  @types/es6-promise\n    ```\n4. 使用 `netstat -ano` 指令在 windows 上查詢佔用的 port 與 PID\n5. 執行 `npm ls moduleName` 可以列出目前專案所以相依該模組的模組\n6. 執行 `npm update` 更新目前專案的模組\n7. `package.json`裡面的的節點`dependencies`放的是與專案相關的模組， \n\t而`devDependencies`放的是與開發相關的模組。ex:`gulp`, \n \t請考慮你使用的模組，是為了開發？還是產品真的會用到。\n8. 想法\n\t- 懶人包應是協助跨越門檻與看見全貌的工具，\n      雖然難以避免代入個人的價值觀，但是刻意為之是不好的。\n\t- 自我批判是一種建立反饋的最好方式，比起以公司\\社群\\世界最好的人要求自已，\n      以最好的自已去要求自已理應該最恰當的，錄影、看鏡子之類的方式... 。\n\n9. [叫人意想不到的激勵科學 (TED 中英文字幕)] (https://www.youtube.com/watch?v=rFVhkIrVDzM)\n    1. 自主性\n    2. 掌握度\n    3. 使命感\n\n(fin)\t","source":"_posts/2017/weekly_learn/20171023.md","raw":"---\ntitle: \"20171023本周要聞/心得/學習擷錄\"\ndate: 2017/10/23 11:47:27\ntag:\n  - Kubernetes\n  - Docker\n  - Container\n  - TypeScript\n  - Node.js\n  - 記錄\n---\n\n1. [Docker 宣布拥抱 Kubernetes](https://mp.weixin.qq.com/s/n_Gnn5sJ0PkwhQhWUc0UeQ)\n\n    ```\n    Docker Swarm与整个Docker平台紧密集成，然而并非所有人都愿意选择Swarm。 \n    Hykes表示，默认的Swarm已经限制了Docker用户的完整体验，\n    为此，Docker公司计划提供一个无缝平台，同时支持包含Swarm和Kubernetes集群的异构部署。\n    Docker企业版（EE）将很快为Kuberenetes和Swarm提供全套Docker管理服务\n    ```\n\n2. 免費字哪裡找？使用[google font](https://fonts.google.com)\n\n3. 使用TypeScript開發nodejs發生以下錯誤(使用gulp編譯成js)\n    ```\n    error TS2693: 'Promise' only refers to a type, but is being used as a value here.\n    ```\n    安裝 `@types/es6-promise` 以解決問題\n    ```\n    npm i --save-dev  @types/es6-promise\n    ```\n4. 使用 `netstat -ano` 指令在 windows 上查詢佔用的 port 與 PID\n5. 執行 `npm ls moduleName` 可以列出目前專案所以相依該模組的模組\n6. 執行 `npm update` 更新目前專案的模組\n7. `package.json`裡面的的節點`dependencies`放的是與專案相關的模組， \n\t而`devDependencies`放的是與開發相關的模組。ex:`gulp`, \n \t請考慮你使用的模組，是為了開發？還是產品真的會用到。\n8. 想法\n\t- 懶人包應是協助跨越門檻與看見全貌的工具，\n      雖然難以避免代入個人的價值觀，但是刻意為之是不好的。\n\t- 自我批判是一種建立反饋的最好方式，比起以公司\\社群\\世界最好的人要求自已，\n      以最好的自已去要求自已理應該最恰當的，錄影、看鏡子之類的方式... 。\n\n9. [叫人意想不到的激勵科學 (TED 中英文字幕)] (https://www.youtube.com/watch?v=rFVhkIrVDzM)\n    1. 自主性\n    2. 掌握度\n    3. 使命感\n\n(fin)\t","slug":"2017/weekly_learn/20171023","published":1,"updated":"2019-08-25T20:00:08.802Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wpc005tb0vx61ylo5yd","content":"<ol>\n<li><p><a href=\"https://mp.weixin.qq.com/s/n_Gnn5sJ0PkwhQhWUc0UeQ\" target=\"_blank\" rel=\"noopener\">Docker 宣布拥抱 Kubernetes</a></p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Docker Swarm与整个Docker平台紧密集成，然而并非所有人都愿意选择Swarm。 </span><br><span class=\"line\">Hykes表示，默认的Swarm已经限制了Docker用户的完整体验，</span><br><span class=\"line\">为此，Docker公司计划提供一个无缝平台，同时支持包含Swarm和Kubernetes集群的异构部署。</span><br><span class=\"line\">Docker企业版（EE）将很快为Kuberenetes和Swarm提供全套Docker管理服务</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>免費字哪裡找？使用<a href=\"https://fonts.google.com\" target=\"_blank\" rel=\"noopener\">google font</a></p>\n</li>\n<li><p>使用TypeScript開發nodejs發生以下錯誤(使用gulp編譯成js)</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">error TS2693: &apos;Promise&apos; only refers to a type, but is being used as a value here.</span><br></pre></td></tr></table></figure>\n\n<p> 安裝 <code>@types/es6-promise</code> 以解決問題</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i --save-dev  @types/es6-promise</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>使用 <code>netstat -ano</code> 指令在 windows 上查詢佔用的 port 與 PID</p>\n</li>\n<li><p>執行 <code>npm ls moduleName</code> 可以列出目前專案所以相依該模組的模組</p>\n</li>\n<li><p>執行 <code>npm update</code> 更新目前專案的模組</p>\n</li>\n<li><p><code>package.json</code>裡面的的節點<code>dependencies</code>放的是與專案相關的模組，<br> 而<code>devDependencies</code>放的是與開發相關的模組。ex:<code>gulp</code>, \n  請考慮你使用的模組，是為了開發？還是產品真的會用到。</p>\n</li>\n<li><p>想法</p>\n<ul>\n<li>懶人包應是協助跨越門檻與看見全貌的工具，<br>雖然難以避免代入個人的價值觀，但是刻意為之是不好的。</li>\n<li>自我批判是一種建立反饋的最好方式，比起以公司\\社群\\世界最好的人要求自已，<br>以最好的自已去要求自已理應該最恰當的，錄影、看鏡子之類的方式… 。</li>\n</ul>\n</li>\n<li><p>[叫人意想不到的激勵科學 (TED 中英文字幕)] (<a href=\"https://www.youtube.com/watch?v=rFVhkIrVDzM\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=rFVhkIrVDzM</a>)</p>\n<ol>\n<li>自主性</li>\n<li>掌握度</li>\n<li>使命感</li>\n</ol>\n</li>\n</ol>\n<p>(fin)    </p>\n","site":{"data":{}},"excerpt":"","more":"<ol>\n<li><p><a href=\"https://mp.weixin.qq.com/s/n_Gnn5sJ0PkwhQhWUc0UeQ\" target=\"_blank\" rel=\"noopener\">Docker 宣布拥抱 Kubernetes</a></p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Docker Swarm与整个Docker平台紧密集成，然而并非所有人都愿意选择Swarm。 </span><br><span class=\"line\">Hykes表示，默认的Swarm已经限制了Docker用户的完整体验，</span><br><span class=\"line\">为此，Docker公司计划提供一个无缝平台，同时支持包含Swarm和Kubernetes集群的异构部署。</span><br><span class=\"line\">Docker企业版（EE）将很快为Kuberenetes和Swarm提供全套Docker管理服务</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>免費字哪裡找？使用<a href=\"https://fonts.google.com\" target=\"_blank\" rel=\"noopener\">google font</a></p>\n</li>\n<li><p>使用TypeScript開發nodejs發生以下錯誤(使用gulp編譯成js)</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">error TS2693: &apos;Promise&apos; only refers to a type, but is being used as a value here.</span><br></pre></td></tr></table></figure>\n\n<p> 安裝 <code>@types/es6-promise</code> 以解決問題</p>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i --save-dev  @types/es6-promise</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>使用 <code>netstat -ano</code> 指令在 windows 上查詢佔用的 port 與 PID</p>\n</li>\n<li><p>執行 <code>npm ls moduleName</code> 可以列出目前專案所以相依該模組的模組</p>\n</li>\n<li><p>執行 <code>npm update</code> 更新目前專案的模組</p>\n</li>\n<li><p><code>package.json</code>裡面的的節點<code>dependencies</code>放的是與專案相關的模組，<br> 而<code>devDependencies</code>放的是與開發相關的模組。ex:<code>gulp</code>, \n  請考慮你使用的模組，是為了開發？還是產品真的會用到。</p>\n</li>\n<li><p>想法</p>\n<ul>\n<li>懶人包應是協助跨越門檻與看見全貌的工具，<br>雖然難以避免代入個人的價值觀，但是刻意為之是不好的。</li>\n<li>自我批判是一種建立反饋的最好方式，比起以公司\\社群\\世界最好的人要求自已，<br>以最好的自已去要求自已理應該最恰當的，錄影、看鏡子之類的方式… 。</li>\n</ul>\n</li>\n<li><p>[叫人意想不到的激勵科學 (TED 中英文字幕)] (<a href=\"https://www.youtube.com/watch?v=rFVhkIrVDzM\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=rFVhkIrVDzM</a>)</p>\n<ol>\n<li>自主性</li>\n<li>掌握度</li>\n<li>使命感</li>\n</ol>\n</li>\n</ol>\n<p>(fin)    </p>\n"},{"title":"單元測試與重構記錄(二) 發問篇","date":"2017-12-08T11:04:42.000Z","_content":"## Q1 Controller 要測試嗎？\n### Logics in controller \n```csharp\n[Route(\"Member/Get/{Id}\")]\npublic JsonResult GetMemeberList(long Id, string cc = \"f\")\n{\n    var cleanCache = false;\n    //// logics here\n    if (this.IsFromCompany() && cc == \"t\")\n    {\n        //// do something ...\n    }\n\n    try\n    {\n        var memeberList = this.memeberService.GetmemeberList(Id, cleanCache);            \n        //// logics here\n        if (memeberList.Any())\n        {\n            //// do something ...\n        }\n        else\n        {\n            //// do something ...\n        }\n\n        return this.Json(result, JsonRequestBehavior.AllowGet);\n    }\n    catch (Exception ex)\n    {\n        //// logics here\n        //// do something ...                \n    }\n}\n```\n#### 自問自答\n我認為要，\n但是對於WebAPI回傳的`JsonResult`或是`ActionResult` \n需要轉形才能作驗証  \n可以考慮整合測試勝於單元測試,\nController的通常是面對 Client Side 的呼叫.\n\n## Q2 當 Controller 只有取資料的邏輯\n### No Logics in Controller \n```csharp\npublic ActionResult Index()\n{    \n    return this.Service.GetIndex();\n}\n```\n\n## Q3 當 Service 只有取資料的邏輯\n### No Logics in Service \n```csharp\npublic Member Get(long id)\n{    \n    return this.DataAccessor.GetMember(id);\n}\n```\n#### 自問自答\n我認為不要,\n要測試商業邏輯,不要在意覆蓋率\n\n## Q4. 當Service只有取Catch資料的邏輯\n### No Logics in Service , just call another service\n```csharp\npublic Member Get(long id)\n{   \n    var enableCache = true;\n    var result = this.CacheService.GetCacheData(\n        cacheKey,\n        () => {\n            return this.DataAccessor.GetMember(id);\n        },\n        enableCache\n    );    \n}\n```\n#### 自問自答\n同上,仍然不需要,\n要測試商業邏輯,不要在意覆蓋率, \n要注意的或許是`CacheService.GetCacheData`是不是有包測試 ?\n一般來說,Cache的功能很泛用,測試的報酬率很高\n\n## Q5. 承上,當邏輯存在Func參數之中？\n### Logics in Func \n```csharp\npublic Member Get(long id)\n{   \n    var enableCache = true;\n    var result = this.CacheService.GetCacheData(\n        cacheKey,\n        () => {\n            //// logics here\n            if(id > 9487)\n            {\n                return this.MemberAccessor.GetMember(id);\n            }else\n            {\n                return this.MemberV2Accessor.GetMember(id);\n            }\n            \n        },\n        enableCache\n    );    \n}\n```\n#### 自問自答\n暫時無解,\n或許是這樣Pattern不適合測試,需要調整架構嗎？\n為了測試多包成一個公開方法,反而失去匿名函數的彈性優點,\n不在匿名函數內寫邏輯更不合理,待求解答\n\n## Q6.當邏輯在DA層或ORM的Query中要如何測試？\n### Logics in ORM\n```csharp\n上略...\nusing (var transactionScope = new TransactionScope(TransactionScopeOption.Required, transactionOptions))\n{\n    using (Entities context = Entities.CreateNew(isReadOnly: true))\n    {\n        //// logics here\n        var query = from a in context.Activies.Valids()\n                    where a.Activies_StartDateTime <= startTime &&\n                    a.Activies_EndDateTime >= now &&\n                    a.Activies_ShopId == shopId &&\n                    a.ActiviesCondition.Any(i => i.Activies_ValidFlag\n                    && TypeList.Contains(i.Activies_TypeDef))                    \n                    select a;\n    }\n}\n```\n#### 自問自答\n不適用單元測試,應該整合測試作包覆\n\n## Q7. 當邏輯在MappingProfile該如何測試?\n### Logics in MappingProfile\n```csharp\nprotected override void Configure()\n{\nMapper.CreateMap<PageEntity, UserPageEntity>()\n\t  .ForMember(i => i.Id, s => s.MapFrom(i => i.User_Id))\n\t  .ForMember(i => i.Title, s => s.MapFrom(i => i.User_Name))\n\t  .ForMember(i => i.PageName, s => s.MapFrom(i => i.User_Name + i.User_LastName))\n\t  .ForMember(i => i.LightBox, s => s.MapFrom(i => i.User_Sex == \"male\" ? true : false));\n}\n```\n#### 自問自答\n要作測試,檢查欄位Mapping是否正確,\n但實務上若重用性不高,寫MappingProfile不如直接在代碼內轉換.\n可以少寫MappingProfile的測試.\n\n待解答...\n(fin)","source":"_posts/2017/test_learn/integrated_testing_partice2_question.md","raw":"---\ntitle: \"單元測試與重構記錄(二) 發問篇\"\ndate: 2017/12/08 19:04:42\ntag:\n  - Unit Testing\n  - Integrated Testing\n---\n## Q1 Controller 要測試嗎？\n### Logics in controller \n```csharp\n[Route(\"Member/Get/{Id}\")]\npublic JsonResult GetMemeberList(long Id, string cc = \"f\")\n{\n    var cleanCache = false;\n    //// logics here\n    if (this.IsFromCompany() && cc == \"t\")\n    {\n        //// do something ...\n    }\n\n    try\n    {\n        var memeberList = this.memeberService.GetmemeberList(Id, cleanCache);            \n        //// logics here\n        if (memeberList.Any())\n        {\n            //// do something ...\n        }\n        else\n        {\n            //// do something ...\n        }\n\n        return this.Json(result, JsonRequestBehavior.AllowGet);\n    }\n    catch (Exception ex)\n    {\n        //// logics here\n        //// do something ...                \n    }\n}\n```\n#### 自問自答\n我認為要，\n但是對於WebAPI回傳的`JsonResult`或是`ActionResult` \n需要轉形才能作驗証  \n可以考慮整合測試勝於單元測試,\nController的通常是面對 Client Side 的呼叫.\n\n## Q2 當 Controller 只有取資料的邏輯\n### No Logics in Controller \n```csharp\npublic ActionResult Index()\n{    \n    return this.Service.GetIndex();\n}\n```\n\n## Q3 當 Service 只有取資料的邏輯\n### No Logics in Service \n```csharp\npublic Member Get(long id)\n{    \n    return this.DataAccessor.GetMember(id);\n}\n```\n#### 自問自答\n我認為不要,\n要測試商業邏輯,不要在意覆蓋率\n\n## Q4. 當Service只有取Catch資料的邏輯\n### No Logics in Service , just call another service\n```csharp\npublic Member Get(long id)\n{   \n    var enableCache = true;\n    var result = this.CacheService.GetCacheData(\n        cacheKey,\n        () => {\n            return this.DataAccessor.GetMember(id);\n        },\n        enableCache\n    );    \n}\n```\n#### 自問自答\n同上,仍然不需要,\n要測試商業邏輯,不要在意覆蓋率, \n要注意的或許是`CacheService.GetCacheData`是不是有包測試 ?\n一般來說,Cache的功能很泛用,測試的報酬率很高\n\n## Q5. 承上,當邏輯存在Func參數之中？\n### Logics in Func \n```csharp\npublic Member Get(long id)\n{   \n    var enableCache = true;\n    var result = this.CacheService.GetCacheData(\n        cacheKey,\n        () => {\n            //// logics here\n            if(id > 9487)\n            {\n                return this.MemberAccessor.GetMember(id);\n            }else\n            {\n                return this.MemberV2Accessor.GetMember(id);\n            }\n            \n        },\n        enableCache\n    );    \n}\n```\n#### 自問自答\n暫時無解,\n或許是這樣Pattern不適合測試,需要調整架構嗎？\n為了測試多包成一個公開方法,反而失去匿名函數的彈性優點,\n不在匿名函數內寫邏輯更不合理,待求解答\n\n## Q6.當邏輯在DA層或ORM的Query中要如何測試？\n### Logics in ORM\n```csharp\n上略...\nusing (var transactionScope = new TransactionScope(TransactionScopeOption.Required, transactionOptions))\n{\n    using (Entities context = Entities.CreateNew(isReadOnly: true))\n    {\n        //// logics here\n        var query = from a in context.Activies.Valids()\n                    where a.Activies_StartDateTime <= startTime &&\n                    a.Activies_EndDateTime >= now &&\n                    a.Activies_ShopId == shopId &&\n                    a.ActiviesCondition.Any(i => i.Activies_ValidFlag\n                    && TypeList.Contains(i.Activies_TypeDef))                    \n                    select a;\n    }\n}\n```\n#### 自問自答\n不適用單元測試,應該整合測試作包覆\n\n## Q7. 當邏輯在MappingProfile該如何測試?\n### Logics in MappingProfile\n```csharp\nprotected override void Configure()\n{\nMapper.CreateMap<PageEntity, UserPageEntity>()\n\t  .ForMember(i => i.Id, s => s.MapFrom(i => i.User_Id))\n\t  .ForMember(i => i.Title, s => s.MapFrom(i => i.User_Name))\n\t  .ForMember(i => i.PageName, s => s.MapFrom(i => i.User_Name + i.User_LastName))\n\t  .ForMember(i => i.LightBox, s => s.MapFrom(i => i.User_Sex == \"male\" ? true : false));\n}\n```\n#### 自問自答\n要作測試,檢查欄位Mapping是否正確,\n但實務上若重用性不高,寫MappingProfile不如直接在代碼內轉換.\n可以少寫MappingProfile的測試.\n\n待解答...\n(fin)","slug":"2017/test_learn/integrated_testing_partice2_question","published":1,"updated":"2019-06-10T14:43:28.894Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wpd005vb0vxzh9w85ek","content":"<h2 id=\"Q1-Controller-要測試嗎？\"><a href=\"#Q1-Controller-要測試嗎？\" class=\"headerlink\" title=\"Q1 Controller 要測試嗎？\"></a>Q1 Controller 要測試嗎？</h2><h3 id=\"Logics-in-controller\"><a href=\"#Logics-in-controller\" class=\"headerlink\" title=\"Logics in controller\"></a>Logics in controller</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">Route(<span class=\"meta-string\">\"Member/Get/&#123;Id&#125;\"</span>)</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> JsonResult <span class=\"title\">GetMemeberList</span>(<span class=\"params\"><span class=\"keyword\">long</span> Id, <span class=\"keyword\">string</span> cc = <span class=\"string\">\"f\"</span></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> cleanCache = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>/ logics here</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.IsFromCompany() &amp;&amp; cc == <span class=\"string\">\"t\"</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>/ do something ...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">try</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> memeberList = <span class=\"keyword\">this</span>.memeberService.GetmemeberList(Id, cleanCache);            </span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>/ logics here</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (memeberList.Any())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\"><span class=\"doctag\">///</span>/ do something ...</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\"><span class=\"doctag\">///</span>/ do something ...</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.Json(result, JsonRequestBehavior.AllowGet);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">catch</span> (Exception ex)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>/ logics here</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>/ do something ...                </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"自問自答\"><a href=\"#自問自答\" class=\"headerlink\" title=\"自問自答\"></a>自問自答</h4><p>我認為要，<br>但是對於WebAPI回傳的<code>JsonResult</code>或是<code>ActionResult</code><br>需要轉形才能作驗証<br>可以考慮整合測試勝於單元測試,<br>Controller的通常是面對 Client Side 的呼叫.</p>\n<h2 id=\"Q2-當-Controller-只有取資料的邏輯\"><a href=\"#Q2-當-Controller-只有取資料的邏輯\" class=\"headerlink\" title=\"Q2 當 Controller 只有取資料的邏輯\"></a>Q2 當 Controller 只有取資料的邏輯</h2><h3 id=\"No-Logics-in-Controller\"><a href=\"#No-Logics-in-Controller\" class=\"headerlink\" title=\"No Logics in Controller\"></a>No Logics in Controller</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> ActionResult <span class=\"title\">Index</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.Service.GetIndex();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Q3-當-Service-只有取資料的邏輯\"><a href=\"#Q3-當-Service-只有取資料的邏輯\" class=\"headerlink\" title=\"Q3 當 Service 只有取資料的邏輯\"></a>Q3 當 Service 只有取資料的邏輯</h2><h3 id=\"No-Logics-in-Service\"><a href=\"#No-Logics-in-Service\" class=\"headerlink\" title=\"No Logics in Service\"></a>No Logics in Service</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> Member <span class=\"title\">Get</span>(<span class=\"params\"><span class=\"keyword\">long</span> id</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.DataAccessor.GetMember(id);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"自問自答-1\"><a href=\"#自問自答-1\" class=\"headerlink\" title=\"自問自答\"></a>自問自答</h4><p>我認為不要,<br>要測試商業邏輯,不要在意覆蓋率</p>\n<h2 id=\"Q4-當Service只有取Catch資料的邏輯\"><a href=\"#Q4-當Service只有取Catch資料的邏輯\" class=\"headerlink\" title=\"Q4. 當Service只有取Catch資料的邏輯\"></a>Q4. 當Service只有取Catch資料的邏輯</h2><h3 id=\"No-Logics-in-Service-just-call-another-service\"><a href=\"#No-Logics-in-Service-just-call-another-service\" class=\"headerlink\" title=\"No Logics in Service , just call another service\"></a>No Logics in Service , just call another service</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> Member <span class=\"title\">Get</span>(<span class=\"params\"><span class=\"keyword\">long</span> id</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;   </span><br><span class=\"line\">    <span class=\"keyword\">var</span> enableCache = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> result = <span class=\"keyword\">this</span>.CacheService.GetCacheData(</span><br><span class=\"line\">        cacheKey,</span><br><span class=\"line\">        () =&gt; &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.DataAccessor.GetMember(id);</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        enableCache</span><br><span class=\"line\">    );    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"自問自答-2\"><a href=\"#自問自答-2\" class=\"headerlink\" title=\"自問自答\"></a>自問自答</h4><p>同上,仍然不需要,<br>要測試商業邏輯,不要在意覆蓋率,<br>要注意的或許是<code>CacheService.GetCacheData</code>是不是有包測試 ?<br>一般來說,Cache的功能很泛用,測試的報酬率很高</p>\n<h2 id=\"Q5-承上-當邏輯存在Func參數之中？\"><a href=\"#Q5-承上-當邏輯存在Func參數之中？\" class=\"headerlink\" title=\"Q5. 承上,當邏輯存在Func參數之中？\"></a>Q5. 承上,當邏輯存在Func參數之中？</h2><h3 id=\"Logics-in-Func\"><a href=\"#Logics-in-Func\" class=\"headerlink\" title=\"Logics in Func\"></a>Logics in Func</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> Member <span class=\"title\">Get</span>(<span class=\"params\"><span class=\"keyword\">long</span> id</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;   </span><br><span class=\"line\">    <span class=\"keyword\">var</span> enableCache = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> result = <span class=\"keyword\">this</span>.CacheService.GetCacheData(</span><br><span class=\"line\">        cacheKey,</span><br><span class=\"line\">        () =&gt; &#123;</span><br><span class=\"line\">            <span class=\"comment\"><span class=\"doctag\">///</span>/ logics here</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(id &gt; <span class=\"number\">9487</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.MemberAccessor.GetMember(id);</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.MemberV2Accessor.GetMember(id);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        enableCache</span><br><span class=\"line\">    );    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"自問自答-3\"><a href=\"#自問自答-3\" class=\"headerlink\" title=\"自問自答\"></a>自問自答</h4><p>暫時無解,<br>或許是這樣Pattern不適合測試,需要調整架構嗎？<br>為了測試多包成一個公開方法,反而失去匿名函數的彈性優點,<br>不在匿名函數內寫邏輯更不合理,待求解答</p>\n<h2 id=\"Q6-當邏輯在DA層或ORM的Query中要如何測試？\"><a href=\"#Q6-當邏輯在DA層或ORM的Query中要如何測試？\" class=\"headerlink\" title=\"Q6.當邏輯在DA層或ORM的Query中要如何測試？\"></a>Q6.當邏輯在DA層或ORM的Query中要如何測試？</h2><h3 id=\"Logics-in-ORM\"><a href=\"#Logics-in-ORM\" class=\"headerlink\" title=\"Logics in ORM\"></a>Logics in ORM</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">上略...</span><br><span class=\"line\"><span class=\"keyword\">using</span> (<span class=\"keyword\">var</span> transactionScope = <span class=\"keyword\">new</span> TransactionScope(TransactionScopeOption.Required, transactionOptions))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">using</span> (Entities context = Entities.CreateNew(isReadOnly: <span class=\"literal\">true</span>))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>/ logics here</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> query = <span class=\"keyword\">from</span> a <span class=\"keyword\">in</span> context.Activies.Valids()</span><br><span class=\"line\">                    <span class=\"keyword\">where</span> a.Activies_StartDateTime &lt;= startTime &amp;&amp;</span><br><span class=\"line\">                    a.Activies_EndDateTime &gt;= now &amp;&amp;</span><br><span class=\"line\">                    a.Activies_ShopId == shopId &amp;&amp;</span><br><span class=\"line\">                    a.ActiviesCondition.Any(i =&gt; i.Activies_ValidFlag</span><br><span class=\"line\">                    &amp;&amp; TypeList.Contains(i.Activies_TypeDef))                    </span><br><span class=\"line\">                    <span class=\"keyword\">select</span> a;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"自問自答-4\"><a href=\"#自問自答-4\" class=\"headerlink\" title=\"自問自答\"></a>自問自答</h4><p>不適用單元測試,應該整合測試作包覆</p>\n<h2 id=\"Q7-當邏輯在MappingProfile該如何測試\"><a href=\"#Q7-當邏輯在MappingProfile該如何測試\" class=\"headerlink\" title=\"Q7. 當邏輯在MappingProfile該如何測試?\"></a>Q7. 當邏輯在MappingProfile該如何測試?</h2><h3 id=\"Logics-in-MappingProfile\"><a href=\"#Logics-in-MappingProfile\" class=\"headerlink\" title=\"Logics in MappingProfile\"></a>Logics in MappingProfile</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">Configure</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">Mapper.CreateMap&lt;PageEntity, UserPageEntity&gt;()</span><br><span class=\"line\">\t  .ForMember(i =&gt; i.Id, s =&gt; s.MapFrom(i =&gt; i.User_Id))</span><br><span class=\"line\">\t  .ForMember(i =&gt; i.Title, s =&gt; s.MapFrom(i =&gt; i.User_Name))</span><br><span class=\"line\">\t  .ForMember(i =&gt; i.PageName, s =&gt; s.MapFrom(i =&gt; i.User_Name + i.User_LastName))</span><br><span class=\"line\">\t  .ForMember(i =&gt; i.LightBox, s =&gt; s.MapFrom(i =&gt; i.User_Sex == <span class=\"string\">\"male\"</span> ? <span class=\"literal\">true</span> : <span class=\"literal\">false</span>));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"自問自答-5\"><a href=\"#自問自答-5\" class=\"headerlink\" title=\"自問自答\"></a>自問自答</h4><p>要作測試,檢查欄位Mapping是否正確,<br>但實務上若重用性不高,寫MappingProfile不如直接在代碼內轉換.<br>可以少寫MappingProfile的測試.</p>\n<p>待解答…<br>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Q1-Controller-要測試嗎？\"><a href=\"#Q1-Controller-要測試嗎？\" class=\"headerlink\" title=\"Q1 Controller 要測試嗎？\"></a>Q1 Controller 要測試嗎？</h2><h3 id=\"Logics-in-controller\"><a href=\"#Logics-in-controller\" class=\"headerlink\" title=\"Logics in controller\"></a>Logics in controller</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"meta\">Route(<span class=\"meta-string\">\"Member/Get/&#123;Id&#125;\"</span>)</span>]</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> JsonResult <span class=\"title\">GetMemeberList</span>(<span class=\"params\"><span class=\"keyword\">long</span> Id, <span class=\"keyword\">string</span> cc = <span class=\"string\">\"f\"</span></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> cleanCache = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    <span class=\"comment\"><span class=\"doctag\">///</span>/ logics here</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.IsFromCompany() &amp;&amp; cc == <span class=\"string\">\"t\"</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>/ do something ...</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">try</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> memeberList = <span class=\"keyword\">this</span>.memeberService.GetmemeberList(Id, cleanCache);            </span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>/ logics here</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (memeberList.Any())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\"><span class=\"doctag\">///</span>/ do something ...</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"comment\"><span class=\"doctag\">///</span>/ do something ...</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.Json(result, JsonRequestBehavior.AllowGet);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">catch</span> (Exception ex)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>/ logics here</span></span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>/ do something ...                </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"自問自答\"><a href=\"#自問自答\" class=\"headerlink\" title=\"自問自答\"></a>自問自答</h4><p>我認為要，<br>但是對於WebAPI回傳的<code>JsonResult</code>或是<code>ActionResult</code><br>需要轉形才能作驗証<br>可以考慮整合測試勝於單元測試,<br>Controller的通常是面對 Client Side 的呼叫.</p>\n<h2 id=\"Q2-當-Controller-只有取資料的邏輯\"><a href=\"#Q2-當-Controller-只有取資料的邏輯\" class=\"headerlink\" title=\"Q2 當 Controller 只有取資料的邏輯\"></a>Q2 當 Controller 只有取資料的邏輯</h2><h3 id=\"No-Logics-in-Controller\"><a href=\"#No-Logics-in-Controller\" class=\"headerlink\" title=\"No Logics in Controller\"></a>No Logics in Controller</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> ActionResult <span class=\"title\">Index</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.Service.GetIndex();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Q3-當-Service-只有取資料的邏輯\"><a href=\"#Q3-當-Service-只有取資料的邏輯\" class=\"headerlink\" title=\"Q3 當 Service 只有取資料的邏輯\"></a>Q3 當 Service 只有取資料的邏輯</h2><h3 id=\"No-Logics-in-Service\"><a href=\"#No-Logics-in-Service\" class=\"headerlink\" title=\"No Logics in Service\"></a>No Logics in Service</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> Member <span class=\"title\">Get</span>(<span class=\"params\"><span class=\"keyword\">long</span> id</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.DataAccessor.GetMember(id);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"自問自答-1\"><a href=\"#自問自答-1\" class=\"headerlink\" title=\"自問自答\"></a>自問自答</h4><p>我認為不要,<br>要測試商業邏輯,不要在意覆蓋率</p>\n<h2 id=\"Q4-當Service只有取Catch資料的邏輯\"><a href=\"#Q4-當Service只有取Catch資料的邏輯\" class=\"headerlink\" title=\"Q4. 當Service只有取Catch資料的邏輯\"></a>Q4. 當Service只有取Catch資料的邏輯</h2><h3 id=\"No-Logics-in-Service-just-call-another-service\"><a href=\"#No-Logics-in-Service-just-call-another-service\" class=\"headerlink\" title=\"No Logics in Service , just call another service\"></a>No Logics in Service , just call another service</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> Member <span class=\"title\">Get</span>(<span class=\"params\"><span class=\"keyword\">long</span> id</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;   </span><br><span class=\"line\">    <span class=\"keyword\">var</span> enableCache = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> result = <span class=\"keyword\">this</span>.CacheService.GetCacheData(</span><br><span class=\"line\">        cacheKey,</span><br><span class=\"line\">        () =&gt; &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.DataAccessor.GetMember(id);</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        enableCache</span><br><span class=\"line\">    );    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"自問自答-2\"><a href=\"#自問自答-2\" class=\"headerlink\" title=\"自問自答\"></a>自問自答</h4><p>同上,仍然不需要,<br>要測試商業邏輯,不要在意覆蓋率,<br>要注意的或許是<code>CacheService.GetCacheData</code>是不是有包測試 ?<br>一般來說,Cache的功能很泛用,測試的報酬率很高</p>\n<h2 id=\"Q5-承上-當邏輯存在Func參數之中？\"><a href=\"#Q5-承上-當邏輯存在Func參數之中？\" class=\"headerlink\" title=\"Q5. 承上,當邏輯存在Func參數之中？\"></a>Q5. 承上,當邏輯存在Func參數之中？</h2><h3 id=\"Logics-in-Func\"><a href=\"#Logics-in-Func\" class=\"headerlink\" title=\"Logics in Func\"></a>Logics in Func</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> Member <span class=\"title\">Get</span>(<span class=\"params\"><span class=\"keyword\">long</span> id</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;   </span><br><span class=\"line\">    <span class=\"keyword\">var</span> enableCache = <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> result = <span class=\"keyword\">this</span>.CacheService.GetCacheData(</span><br><span class=\"line\">        cacheKey,</span><br><span class=\"line\">        () =&gt; &#123;</span><br><span class=\"line\">            <span class=\"comment\"><span class=\"doctag\">///</span>/ logics here</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(id &gt; <span class=\"number\">9487</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.MemberAccessor.GetMember(id);</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.MemberV2Accessor.GetMember(id);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        enableCache</span><br><span class=\"line\">    );    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"自問自答-3\"><a href=\"#自問自答-3\" class=\"headerlink\" title=\"自問自答\"></a>自問自答</h4><p>暫時無解,<br>或許是這樣Pattern不適合測試,需要調整架構嗎？<br>為了測試多包成一個公開方法,反而失去匿名函數的彈性優點,<br>不在匿名函數內寫邏輯更不合理,待求解答</p>\n<h2 id=\"Q6-當邏輯在DA層或ORM的Query中要如何測試？\"><a href=\"#Q6-當邏輯在DA層或ORM的Query中要如何測試？\" class=\"headerlink\" title=\"Q6.當邏輯在DA層或ORM的Query中要如何測試？\"></a>Q6.當邏輯在DA層或ORM的Query中要如何測試？</h2><h3 id=\"Logics-in-ORM\"><a href=\"#Logics-in-ORM\" class=\"headerlink\" title=\"Logics in ORM\"></a>Logics in ORM</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">上略...</span><br><span class=\"line\"><span class=\"keyword\">using</span> (<span class=\"keyword\">var</span> transactionScope = <span class=\"keyword\">new</span> TransactionScope(TransactionScopeOption.Required, transactionOptions))</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">using</span> (Entities context = Entities.CreateNew(isReadOnly: <span class=\"literal\">true</span>))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\"><span class=\"doctag\">///</span>/ logics here</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> query = <span class=\"keyword\">from</span> a <span class=\"keyword\">in</span> context.Activies.Valids()</span><br><span class=\"line\">                    <span class=\"keyword\">where</span> a.Activies_StartDateTime &lt;= startTime &amp;&amp;</span><br><span class=\"line\">                    a.Activies_EndDateTime &gt;= now &amp;&amp;</span><br><span class=\"line\">                    a.Activies_ShopId == shopId &amp;&amp;</span><br><span class=\"line\">                    a.ActiviesCondition.Any(i =&gt; i.Activies_ValidFlag</span><br><span class=\"line\">                    &amp;&amp; TypeList.Contains(i.Activies_TypeDef))                    </span><br><span class=\"line\">                    <span class=\"keyword\">select</span> a;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"自問自答-4\"><a href=\"#自問自答-4\" class=\"headerlink\" title=\"自問自答\"></a>自問自答</h4><p>不適用單元測試,應該整合測試作包覆</p>\n<h2 id=\"Q7-當邏輯在MappingProfile該如何測試\"><a href=\"#Q7-當邏輯在MappingProfile該如何測試\" class=\"headerlink\" title=\"Q7. 當邏輯在MappingProfile該如何測試?\"></a>Q7. 當邏輯在MappingProfile該如何測試?</h2><h3 id=\"Logics-in-MappingProfile\"><a href=\"#Logics-in-MappingProfile\" class=\"headerlink\" title=\"Logics in MappingProfile\"></a>Logics in MappingProfile</h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">override</span> <span class=\"keyword\">void</span> <span class=\"title\">Configure</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">Mapper.CreateMap&lt;PageEntity, UserPageEntity&gt;()</span><br><span class=\"line\">\t  .ForMember(i =&gt; i.Id, s =&gt; s.MapFrom(i =&gt; i.User_Id))</span><br><span class=\"line\">\t  .ForMember(i =&gt; i.Title, s =&gt; s.MapFrom(i =&gt; i.User_Name))</span><br><span class=\"line\">\t  .ForMember(i =&gt; i.PageName, s =&gt; s.MapFrom(i =&gt; i.User_Name + i.User_LastName))</span><br><span class=\"line\">\t  .ForMember(i =&gt; i.LightBox, s =&gt; s.MapFrom(i =&gt; i.User_Sex == <span class=\"string\">\"male\"</span> ? <span class=\"literal\">true</span> : <span class=\"literal\">false</span>));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"自問自答-5\"><a href=\"#自問自答-5\" class=\"headerlink\" title=\"自問自答\"></a>自問自答</h4><p>要作測試,檢查欄位Mapping是否正確,<br>但實務上若重用性不高,寫MappingProfile不如直接在代碼內轉換.<br>可以少寫MappingProfile的測試.</p>\n<p>待解答…<br>(fin)</p>\n"},{"title":"[閱讀筆記]異數","date":"2017-10-22T09:10:46.000Z","_content":"\n# 心得小結(2017.一讀)\n作者認為成功的主要原因是優勢的累績與努力，\n我們常說時間花在哪裡，成就就在哪裡，\n但是許多傑出的例子(莫札特與比爾。蓋茲)， \n除了努力外，還有幸運的(?)際遇，\n在很小的時候就開始邁向傑出，\n這讓我想到福原愛;從小就接觸桌球又有母親(導師)親自調校，\n但作者最終歸向時代與文化，兩個不可控的因素。\n努力只能讓你成為比一般人好的人，\n而加上際遇(時代與文化)，才能成為傑出(ex:世界前100之類)，\n相比「我比別人更認真-刻意練習．讓自己發光」，\n**我**書比較強調導師與信念(熱情)的重要性，\n而**異數**比較偏向命定論。\n\n並沒有很推薦，但是書中的馬太效應，\n以及透過學習別的語言來改變文化帶來的**業**，\n值得反思 .\n\n\n# 筆記\n## ch1 好上加好的馬太效應 \n1. 成功是優勢的累積\n2. 我們把成功與個人特質畫上等號，其他人因而失去出頭的機會。  \n我們制定出來的規則反而壓抑成就，我們太早宣布某些人是失敗者。  \n\n## ch2 一萬個小時的努力\n1. 他們的成功不完全是自已打造出來的，也是他們生長的時代造就的。\n\n## ch3 天才的迷思\n## ch4 天才的迷思．II\n- 才智和成就沒有絕對關係\n- 抽象智能與實用智能\n\t- 實用智能:社交常識與處事能力(後天習得，家庭)，知道在什麼時候用什麼方式以及說什麼，以達到最大效果\n- 階級的文化優勢\n\t- 勞動階級和貧窮人家的孩子，保守不信任別人，厭惡權威，拙於交際\n\n*feedback:* \n1. 千里馬常有，伯樂不常有。\n2. 我是勞動階級和貧窮人家的孩子\n3. 人脈的重要性。\n4. 如何與權威人士交際？\n\n## ch5 猶太律師的啟示\n1. 什麼都作，有生意上門就好了\n2. 機會其實是隱藏在逆境當中\n3. 你的父母是做什麼的，和你日後的成就大有關係\n4. 只要夠聰明就夠了\n\n\n*feedback*\n1. [七年級最慘的是哪一年次？](https://www.evernote.com/shard/s36/sh/79c0d125-1dc3-4a7e-aa46-5264b223d29d/d8bcb5338bbbf4fe)\n2. 生逢其時 vs 生不逢時\n\n\n## ch 6 以血還血\n## ch 7 空中危機\n1. 文化的影響\n2. 以大韓航空空難為例-文化的包袱\n3. 用語言改變文化的包袱(ex:英文)\n\n## ch 8 稻米文化與數學能力\n## ch 9 知識力學校\n## 後記 從牙買加到加拿大\n1. 亞洲數字發音較有規則且合乎邏輯\n2. 成功者的共通點就是努力\n\n## 書單\n1. 意外的百萬富翁(Jobs 傳記)\n\n## 其它\n1. 廖月娟的翻譯很不錯，感覺不出來是在讀外國人寫的書。\n2. [台灣財富排名690萬人是月光族230萬人有超3千萬資產](https://www.mobile01.com/topicdetail.php?f=291&t=5107472)\n\n(fin)","source":"_posts/2018/books/book_outliers_the_story_of_success.md","raw":"---\ntitle: \"[閱讀筆記]異數\"\ndate: 2017/10/22 17:10:46\ntag:\n  - 閱讀筆記\n---\n\n# 心得小結(2017.一讀)\n作者認為成功的主要原因是優勢的累績與努力，\n我們常說時間花在哪裡，成就就在哪裡，\n但是許多傑出的例子(莫札特與比爾。蓋茲)， \n除了努力外，還有幸運的(?)際遇，\n在很小的時候就開始邁向傑出，\n這讓我想到福原愛;從小就接觸桌球又有母親(導師)親自調校，\n但作者最終歸向時代與文化，兩個不可控的因素。\n努力只能讓你成為比一般人好的人，\n而加上際遇(時代與文化)，才能成為傑出(ex:世界前100之類)，\n相比「我比別人更認真-刻意練習．讓自己發光」，\n**我**書比較強調導師與信念(熱情)的重要性，\n而**異數**比較偏向命定論。\n\n並沒有很推薦，但是書中的馬太效應，\n以及透過學習別的語言來改變文化帶來的**業**，\n值得反思 .\n\n\n# 筆記\n## ch1 好上加好的馬太效應 \n1. 成功是優勢的累積\n2. 我們把成功與個人特質畫上等號，其他人因而失去出頭的機會。  \n我們制定出來的規則反而壓抑成就，我們太早宣布某些人是失敗者。  \n\n## ch2 一萬個小時的努力\n1. 他們的成功不完全是自已打造出來的，也是他們生長的時代造就的。\n\n## ch3 天才的迷思\n## ch4 天才的迷思．II\n- 才智和成就沒有絕對關係\n- 抽象智能與實用智能\n\t- 實用智能:社交常識與處事能力(後天習得，家庭)，知道在什麼時候用什麼方式以及說什麼，以達到最大效果\n- 階級的文化優勢\n\t- 勞動階級和貧窮人家的孩子，保守不信任別人，厭惡權威，拙於交際\n\n*feedback:* \n1. 千里馬常有，伯樂不常有。\n2. 我是勞動階級和貧窮人家的孩子\n3. 人脈的重要性。\n4. 如何與權威人士交際？\n\n## ch5 猶太律師的啟示\n1. 什麼都作，有生意上門就好了\n2. 機會其實是隱藏在逆境當中\n3. 你的父母是做什麼的，和你日後的成就大有關係\n4. 只要夠聰明就夠了\n\n\n*feedback*\n1. [七年級最慘的是哪一年次？](https://www.evernote.com/shard/s36/sh/79c0d125-1dc3-4a7e-aa46-5264b223d29d/d8bcb5338bbbf4fe)\n2. 生逢其時 vs 生不逢時\n\n\n## ch 6 以血還血\n## ch 7 空中危機\n1. 文化的影響\n2. 以大韓航空空難為例-文化的包袱\n3. 用語言改變文化的包袱(ex:英文)\n\n## ch 8 稻米文化與數學能力\n## ch 9 知識力學校\n## 後記 從牙買加到加拿大\n1. 亞洲數字發音較有規則且合乎邏輯\n2. 成功者的共通點就是努力\n\n## 書單\n1. 意外的百萬富翁(Jobs 傳記)\n\n## 其它\n1. 廖月娟的翻譯很不錯，感覺不出來是在讀外國人寫的書。\n2. [台灣財富排名690萬人是月光族230萬人有超3千萬資產](https://www.mobile01.com/topicdetail.php?f=291&t=5107472)\n\n(fin)","slug":"2018/books/book_outliers_the_story_of_success","published":1,"updated":"2019-06-10T14:43:28.899Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wpf005yb0vx92trd188","content":"<h1 id=\"心得小結-2017-一讀\"><a href=\"#心得小結-2017-一讀\" class=\"headerlink\" title=\"心得小結(2017.一讀)\"></a>心得小結(2017.一讀)</h1><p>作者認為成功的主要原因是優勢的累績與努力，<br>我們常說時間花在哪裡，成就就在哪裡，<br>但是許多傑出的例子(莫札特與比爾。蓋茲)，<br>除了努力外，還有幸運的(?)際遇，<br>在很小的時候就開始邁向傑出，<br>這讓我想到福原愛;從小就接觸桌球又有母親(導師)親自調校，<br>但作者最終歸向時代與文化，兩個不可控的因素。<br>努力只能讓你成為比一般人好的人，<br>而加上際遇(時代與文化)，才能成為傑出(ex:世界前100之類)，<br>相比「我比別人更認真-刻意練習．讓自己發光」，<br><strong>我</strong>書比較強調導師與信念(熱情)的重要性，<br>而<strong>異數</strong>比較偏向命定論。</p>\n<p>並沒有很推薦，但是書中的馬太效應，<br>以及透過學習別的語言來改變文化帶來的<strong>業</strong>，\n值得反思 .</p>\n<h1 id=\"筆記\"><a href=\"#筆記\" class=\"headerlink\" title=\"筆記\"></a>筆記</h1><h2 id=\"ch1-好上加好的馬太效應\"><a href=\"#ch1-好上加好的馬太效應\" class=\"headerlink\" title=\"ch1 好上加好的馬太效應\"></a>ch1 好上加好的馬太效應</h2><ol>\n<li>成功是優勢的累積</li>\n<li>我們把成功與個人特質畫上等號，其他人因而失去出頭的機會。<br>我們制定出來的規則反而壓抑成就，我們太早宣布某些人是失敗者。  </li>\n</ol>\n<h2 id=\"ch2-一萬個小時的努力\"><a href=\"#ch2-一萬個小時的努力\" class=\"headerlink\" title=\"ch2 一萬個小時的努力\"></a>ch2 一萬個小時的努力</h2><ol>\n<li>他們的成功不完全是自已打造出來的，也是他們生長的時代造就的。</li>\n</ol>\n<h2 id=\"ch3-天才的迷思\"><a href=\"#ch3-天才的迷思\" class=\"headerlink\" title=\"ch3 天才的迷思\"></a>ch3 天才的迷思</h2><h2 id=\"ch4-天才的迷思．II\"><a href=\"#ch4-天才的迷思．II\" class=\"headerlink\" title=\"ch4 天才的迷思．II\"></a>ch4 天才的迷思．II</h2><ul>\n<li>才智和成就沒有絕對關係</li>\n<li>抽象智能與實用智能<ul>\n<li>實用智能:社交常識與處事能力(後天習得，家庭)，知道在什麼時候用什麼方式以及說什麼，以達到最大效果</li>\n</ul>\n</li>\n<li>階級的文化優勢<ul>\n<li>勞動階級和貧窮人家的孩子，保守不信任別人，厭惡權威，拙於交際</li>\n</ul>\n</li>\n</ul>\n<p><em>feedback:</em> </p>\n<ol>\n<li>千里馬常有，伯樂不常有。</li>\n<li>我是勞動階級和貧窮人家的孩子</li>\n<li>人脈的重要性。</li>\n<li>如何與權威人士交際？</li>\n</ol>\n<h2 id=\"ch5-猶太律師的啟示\"><a href=\"#ch5-猶太律師的啟示\" class=\"headerlink\" title=\"ch5 猶太律師的啟示\"></a>ch5 猶太律師的啟示</h2><ol>\n<li>什麼都作，有生意上門就好了</li>\n<li>機會其實是隱藏在逆境當中</li>\n<li>你的父母是做什麼的，和你日後的成就大有關係</li>\n<li>只要夠聰明就夠了</li>\n</ol>\n<p><em>feedback</em></p>\n<ol>\n<li><a href=\"https://www.evernote.com/shard/s36/sh/79c0d125-1dc3-4a7e-aa46-5264b223d29d/d8bcb5338bbbf4fe\" target=\"_blank\" rel=\"noopener\">七年級最慘的是哪一年次？</a></li>\n<li>生逢其時 vs 生不逢時</li>\n</ol>\n<h2 id=\"ch-6-以血還血\"><a href=\"#ch-6-以血還血\" class=\"headerlink\" title=\"ch 6 以血還血\"></a>ch 6 以血還血</h2><h2 id=\"ch-7-空中危機\"><a href=\"#ch-7-空中危機\" class=\"headerlink\" title=\"ch 7 空中危機\"></a>ch 7 空中危機</h2><ol>\n<li>文化的影響</li>\n<li>以大韓航空空難為例-文化的包袱</li>\n<li>用語言改變文化的包袱(ex:英文)</li>\n</ol>\n<h2 id=\"ch-8-稻米文化與數學能力\"><a href=\"#ch-8-稻米文化與數學能力\" class=\"headerlink\" title=\"ch 8 稻米文化與數學能力\"></a>ch 8 稻米文化與數學能力</h2><h2 id=\"ch-9-知識力學校\"><a href=\"#ch-9-知識力學校\" class=\"headerlink\" title=\"ch 9 知識力學校\"></a>ch 9 知識力學校</h2><h2 id=\"後記-從牙買加到加拿大\"><a href=\"#後記-從牙買加到加拿大\" class=\"headerlink\" title=\"後記 從牙買加到加拿大\"></a>後記 從牙買加到加拿大</h2><ol>\n<li>亞洲數字發音較有規則且合乎邏輯</li>\n<li>成功者的共通點就是努力</li>\n</ol>\n<h2 id=\"書單\"><a href=\"#書單\" class=\"headerlink\" title=\"書單\"></a>書單</h2><ol>\n<li>意外的百萬富翁(Jobs 傳記)</li>\n</ol>\n<h2 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h2><ol>\n<li>廖月娟的翻譯很不錯，感覺不出來是在讀外國人寫的書。</li>\n<li><a href=\"https://www.mobile01.com/topicdetail.php?f=291&t=5107472\" target=\"_blank\" rel=\"noopener\">台灣財富排名690萬人是月光族230萬人有超3千萬資產</a></li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"心得小結-2017-一讀\"><a href=\"#心得小結-2017-一讀\" class=\"headerlink\" title=\"心得小結(2017.一讀)\"></a>心得小結(2017.一讀)</h1><p>作者認為成功的主要原因是優勢的累績與努力，<br>我們常說時間花在哪裡，成就就在哪裡，<br>但是許多傑出的例子(莫札特與比爾。蓋茲)，<br>除了努力外，還有幸運的(?)際遇，<br>在很小的時候就開始邁向傑出，<br>這讓我想到福原愛;從小就接觸桌球又有母親(導師)親自調校，<br>但作者最終歸向時代與文化，兩個不可控的因素。<br>努力只能讓你成為比一般人好的人，<br>而加上際遇(時代與文化)，才能成為傑出(ex:世界前100之類)，<br>相比「我比別人更認真-刻意練習．讓自己發光」，<br><strong>我</strong>書比較強調導師與信念(熱情)的重要性，<br>而<strong>異數</strong>比較偏向命定論。</p>\n<p>並沒有很推薦，但是書中的馬太效應，<br>以及透過學習別的語言來改變文化帶來的<strong>業</strong>，\n值得反思 .</p>\n<h1 id=\"筆記\"><a href=\"#筆記\" class=\"headerlink\" title=\"筆記\"></a>筆記</h1><h2 id=\"ch1-好上加好的馬太效應\"><a href=\"#ch1-好上加好的馬太效應\" class=\"headerlink\" title=\"ch1 好上加好的馬太效應\"></a>ch1 好上加好的馬太效應</h2><ol>\n<li>成功是優勢的累積</li>\n<li>我們把成功與個人特質畫上等號，其他人因而失去出頭的機會。<br>我們制定出來的規則反而壓抑成就，我們太早宣布某些人是失敗者。  </li>\n</ol>\n<h2 id=\"ch2-一萬個小時的努力\"><a href=\"#ch2-一萬個小時的努力\" class=\"headerlink\" title=\"ch2 一萬個小時的努力\"></a>ch2 一萬個小時的努力</h2><ol>\n<li>他們的成功不完全是自已打造出來的，也是他們生長的時代造就的。</li>\n</ol>\n<h2 id=\"ch3-天才的迷思\"><a href=\"#ch3-天才的迷思\" class=\"headerlink\" title=\"ch3 天才的迷思\"></a>ch3 天才的迷思</h2><h2 id=\"ch4-天才的迷思．II\"><a href=\"#ch4-天才的迷思．II\" class=\"headerlink\" title=\"ch4 天才的迷思．II\"></a>ch4 天才的迷思．II</h2><ul>\n<li>才智和成就沒有絕對關係</li>\n<li>抽象智能與實用智能<ul>\n<li>實用智能:社交常識與處事能力(後天習得，家庭)，知道在什麼時候用什麼方式以及說什麼，以達到最大效果</li>\n</ul>\n</li>\n<li>階級的文化優勢<ul>\n<li>勞動階級和貧窮人家的孩子，保守不信任別人，厭惡權威，拙於交際</li>\n</ul>\n</li>\n</ul>\n<p><em>feedback:</em> </p>\n<ol>\n<li>千里馬常有，伯樂不常有。</li>\n<li>我是勞動階級和貧窮人家的孩子</li>\n<li>人脈的重要性。</li>\n<li>如何與權威人士交際？</li>\n</ol>\n<h2 id=\"ch5-猶太律師的啟示\"><a href=\"#ch5-猶太律師的啟示\" class=\"headerlink\" title=\"ch5 猶太律師的啟示\"></a>ch5 猶太律師的啟示</h2><ol>\n<li>什麼都作，有生意上門就好了</li>\n<li>機會其實是隱藏在逆境當中</li>\n<li>你的父母是做什麼的，和你日後的成就大有關係</li>\n<li>只要夠聰明就夠了</li>\n</ol>\n<p><em>feedback</em></p>\n<ol>\n<li><a href=\"https://www.evernote.com/shard/s36/sh/79c0d125-1dc3-4a7e-aa46-5264b223d29d/d8bcb5338bbbf4fe\" target=\"_blank\" rel=\"noopener\">七年級最慘的是哪一年次？</a></li>\n<li>生逢其時 vs 生不逢時</li>\n</ol>\n<h2 id=\"ch-6-以血還血\"><a href=\"#ch-6-以血還血\" class=\"headerlink\" title=\"ch 6 以血還血\"></a>ch 6 以血還血</h2><h2 id=\"ch-7-空中危機\"><a href=\"#ch-7-空中危機\" class=\"headerlink\" title=\"ch 7 空中危機\"></a>ch 7 空中危機</h2><ol>\n<li>文化的影響</li>\n<li>以大韓航空空難為例-文化的包袱</li>\n<li>用語言改變文化的包袱(ex:英文)</li>\n</ol>\n<h2 id=\"ch-8-稻米文化與數學能力\"><a href=\"#ch-8-稻米文化與數學能力\" class=\"headerlink\" title=\"ch 8 稻米文化與數學能力\"></a>ch 8 稻米文化與數學能力</h2><h2 id=\"ch-9-知識力學校\"><a href=\"#ch-9-知識力學校\" class=\"headerlink\" title=\"ch 9 知識力學校\"></a>ch 9 知識力學校</h2><h2 id=\"後記-從牙買加到加拿大\"><a href=\"#後記-從牙買加到加拿大\" class=\"headerlink\" title=\"後記 從牙買加到加拿大\"></a>後記 從牙買加到加拿大</h2><ol>\n<li>亞洲數字發音較有規則且合乎邏輯</li>\n<li>成功者的共通點就是努力</li>\n</ol>\n<h2 id=\"書單\"><a href=\"#書單\" class=\"headerlink\" title=\"書單\"></a>書單</h2><ol>\n<li>意外的百萬富翁(Jobs 傳記)</li>\n</ol>\n<h2 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h2><ol>\n<li>廖月娟的翻譯很不錯，感覺不出來是在讀外國人寫的書。</li>\n<li><a href=\"https://www.mobile01.com/topicdetail.php?f=291&t=5107472\" target=\"_blank\" rel=\"noopener\">台灣財富排名690萬人是月光族230萬人有超3千萬資產</a></li>\n</ol>\n<p>(fin)</p>\n"},{"title":"Visual Studio 2017 MSTest Framework 異常修正","date":"2017-12-11T03:17:08.000Z","_content":"## 應該要知道的事\n\n- 這是踩雷筆記\n- 2017的筆記可能會隨時間變得沒有參考價值\n- Visual Studio 2017的問題,並不一定適用其他版本\n- 最後面會有不定時補充\n\n## 情境\n\n![載入測試時發生例外狀況](https://i.imgur.com/FDDtc9V.jpg)\n原本使用 Visual Studio 2015 建立的測試專案,\n升級到 Visual Studio 2017 後, 發生以下錯誤\n```\n[2017/12/11 上午 02:09:59 Error] 測試探索程式 'SpecRunTestDiscoverer' \n載入測試時發生例外狀況。例外狀況: 無法載入檔案或組件 \n'Microsoft.VisualStudio.QualityTools.UnitTestFramework,\nVersion=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a'\n或其相依性的其中之一。 系統找不到指定的檔案。\n```\n\n## 導致結果\n\n![原本的測試數量為1942,變成459,遺失了7成5的測試案例.](https://i.imgur.com/2REPRzG.jpg)\n1. 測試專案會找不到測試,或是測試數量不正確.\n2. 可以使用 Visual Studio 2015 重新執行探測索測試,即可排除問題.\n\n## VS2015 已移除或未安裝該怎麼辦？\n\n透過MsTest直接加入 \n`Microsoft.VisualStudio.QualityTools.UnitTestFramework` \n的參考已經是舊的方法了, \n#### 在 Visual Studio 2017 建議的解決方案如下:\n* 移除方案中所有對 `Microsoft.VisualStudio.QualityTools.UnitTestFramework` 的參考\n* 透過 `Nuget` 安裝 `MSTest.TestAdapter` \n* 透過 `Nuget` 安裝 `MSTest.TestFramework`\n* 關閉 Visual Studio 2017\n* 移除 `%temp%\\VisualStudioTestExplorerExtensions`內所有檔案\n* 重啟 Visual Studio 2017 並建置以觸發探索測試\n![透過 Nuget 安裝 MSTest.TestAdapter/MSTest.TestFramework](https://i.imgur.com/RPI77KN.jpg)\n![重啟 Visual Studio 2017 並建置以觸發探索測試](https://i.imgur.com/JQ7zf2S.jpg)\n\n## 參考\n- [Unit test fail - cannot load Microsoft.VisualStudio.TestPlatform.TestFramework.Extensions](https://developercommunity.visualstudio.com/content/problem/14673/unit-test-fail-cannot-load-microsoftvisualstudiote.html)\n\n(fin)\n\n## 補充 \n- 2018/06/02 : \nVisual Studio 2017 15.7.* 的版本之後 ,\n`%temp%\\VisualStudioTestExplorerExtensions` 消失了 ,\n不過正常情況建置後 , visual studio 探索測試仍然可以正確找到測試。\n","source":"_posts/2017/test_learn/vs2017_mstest_with_nuget.md","raw":"---\ntitle: \"Visual Studio 2017 MSTest Framework 異常修正\"\ndate: 2017/12/11 11:17:08\ntag:\n  - MsTest\n  - Visual Studio\n---\n## 應該要知道的事\n\n- 這是踩雷筆記\n- 2017的筆記可能會隨時間變得沒有參考價值\n- Visual Studio 2017的問題,並不一定適用其他版本\n- 最後面會有不定時補充\n\n## 情境\n\n![載入測試時發生例外狀況](https://i.imgur.com/FDDtc9V.jpg)\n原本使用 Visual Studio 2015 建立的測試專案,\n升級到 Visual Studio 2017 後, 發生以下錯誤\n```\n[2017/12/11 上午 02:09:59 Error] 測試探索程式 'SpecRunTestDiscoverer' \n載入測試時發生例外狀況。例外狀況: 無法載入檔案或組件 \n'Microsoft.VisualStudio.QualityTools.UnitTestFramework,\nVersion=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a'\n或其相依性的其中之一。 系統找不到指定的檔案。\n```\n\n## 導致結果\n\n![原本的測試數量為1942,變成459,遺失了7成5的測試案例.](https://i.imgur.com/2REPRzG.jpg)\n1. 測試專案會找不到測試,或是測試數量不正確.\n2. 可以使用 Visual Studio 2015 重新執行探測索測試,即可排除問題.\n\n## VS2015 已移除或未安裝該怎麼辦？\n\n透過MsTest直接加入 \n`Microsoft.VisualStudio.QualityTools.UnitTestFramework` \n的參考已經是舊的方法了, \n#### 在 Visual Studio 2017 建議的解決方案如下:\n* 移除方案中所有對 `Microsoft.VisualStudio.QualityTools.UnitTestFramework` 的參考\n* 透過 `Nuget` 安裝 `MSTest.TestAdapter` \n* 透過 `Nuget` 安裝 `MSTest.TestFramework`\n* 關閉 Visual Studio 2017\n* 移除 `%temp%\\VisualStudioTestExplorerExtensions`內所有檔案\n* 重啟 Visual Studio 2017 並建置以觸發探索測試\n![透過 Nuget 安裝 MSTest.TestAdapter/MSTest.TestFramework](https://i.imgur.com/RPI77KN.jpg)\n![重啟 Visual Studio 2017 並建置以觸發探索測試](https://i.imgur.com/JQ7zf2S.jpg)\n\n## 參考\n- [Unit test fail - cannot load Microsoft.VisualStudio.TestPlatform.TestFramework.Extensions](https://developercommunity.visualstudio.com/content/problem/14673/unit-test-fail-cannot-load-microsoftvisualstudiote.html)\n\n(fin)\n\n## 補充 \n- 2018/06/02 : \nVisual Studio 2017 15.7.* 的版本之後 ,\n`%temp%\\VisualStudioTestExplorerExtensions` 消失了 ,\n不過正常情況建置後 , visual studio 探索測試仍然可以正確找到測試。\n","slug":"2017/test_learn/vs2017_mstest_with_nuget","published":1,"updated":"2019-06-10T14:43:28.894Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wpg0060b0vxb5yjjgnl","content":"<h2 id=\"應該要知道的事\"><a href=\"#應該要知道的事\" class=\"headerlink\" title=\"應該要知道的事\"></a>應該要知道的事</h2><ul>\n<li>這是踩雷筆記</li>\n<li>2017的筆記可能會隨時間變得沒有參考價值</li>\n<li>Visual Studio 2017的問題,並不一定適用其他版本</li>\n<li>最後面會有不定時補充</li>\n</ul>\n<h2 id=\"情境\"><a href=\"#情境\" class=\"headerlink\" title=\"情境\"></a>情境</h2><p><img src=\"https://i.imgur.com/FDDtc9V.jpg\" alt=\"載入測試時發生例外狀況\"><br>原本使用 Visual Studio 2015 建立的測試專案,<br>升級到 Visual Studio 2017 後, 發生以下錯誤</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[2017/12/11 上午 02:09:59 Error] 測試探索程式 &apos;SpecRunTestDiscoverer&apos; </span><br><span class=\"line\">載入測試時發生例外狀況。例外狀況: 無法載入檔案或組件 </span><br><span class=\"line\">&apos;Microsoft.VisualStudio.QualityTools.UnitTestFramework,</span><br><span class=\"line\">Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a&apos;</span><br><span class=\"line\">或其相依性的其中之一。 系統找不到指定的檔案。</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"導致結果\"><a href=\"#導致結果\" class=\"headerlink\" title=\"導致結果\"></a>導致結果</h2><p><img src=\"https://i.imgur.com/2REPRzG.jpg\" alt=\"原本的測試數量為1942,變成459,遺失了7成5的測試案例.\"></p>\n<ol>\n<li>測試專案會找不到測試,或是測試數量不正確.</li>\n<li>可以使用 Visual Studio 2015 重新執行探測索測試,即可排除問題.</li>\n</ol>\n<h2 id=\"VS2015-已移除或未安裝該怎麼辦？\"><a href=\"#VS2015-已移除或未安裝該怎麼辦？\" class=\"headerlink\" title=\"VS2015 已移除或未安裝該怎麼辦？\"></a>VS2015 已移除或未安裝該怎麼辦？</h2><p>透過MsTest直接加入<br><code>Microsoft.VisualStudio.QualityTools.UnitTestFramework</code><br>的參考已經是舊的方法了, </p>\n<h4 id=\"在-Visual-Studio-2017-建議的解決方案如下\"><a href=\"#在-Visual-Studio-2017-建議的解決方案如下\" class=\"headerlink\" title=\"在 Visual Studio 2017 建議的解決方案如下:\"></a>在 Visual Studio 2017 建議的解決方案如下:</h4><ul>\n<li>移除方案中所有對 <code>Microsoft.VisualStudio.QualityTools.UnitTestFramework</code> 的參考</li>\n<li>透過 <code>Nuget</code> 安裝 <code>MSTest.TestAdapter</code> </li>\n<li>透過 <code>Nuget</code> 安裝 <code>MSTest.TestFramework</code></li>\n<li>關閉 Visual Studio 2017</li>\n<li>移除 <code>%temp%\\VisualStudioTestExplorerExtensions</code>內所有檔案</li>\n<li>重啟 Visual Studio 2017 並建置以觸發探索測試<br><img src=\"https://i.imgur.com/RPI77KN.jpg\" alt=\"透過 Nuget 安裝 MSTest.TestAdapter/MSTest.TestFramework\"><br><img src=\"https://i.imgur.com/JQ7zf2S.jpg\" alt=\"重啟 Visual Studio 2017 並建置以觸發探索測試\"></li>\n</ul>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://developercommunity.visualstudio.com/content/problem/14673/unit-test-fail-cannot-load-microsoftvisualstudiote.html\" target=\"_blank\" rel=\"noopener\">Unit test fail - cannot load Microsoft.VisualStudio.TestPlatform.TestFramework.Extensions</a></li>\n</ul>\n<p>(fin)</p>\n<h2 id=\"補充\"><a href=\"#補充\" class=\"headerlink\" title=\"補充\"></a>補充</h2><ul>\n<li>2018/06/02 :<br>Visual Studio 2017 15.7.* 的版本之後 ,<br><code>%temp%\\VisualStudioTestExplorerExtensions</code> 消失了 ,<br>不過正常情況建置後 , visual studio 探索測試仍然可以正確找到測試。</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"應該要知道的事\"><a href=\"#應該要知道的事\" class=\"headerlink\" title=\"應該要知道的事\"></a>應該要知道的事</h2><ul>\n<li>這是踩雷筆記</li>\n<li>2017的筆記可能會隨時間變得沒有參考價值</li>\n<li>Visual Studio 2017的問題,並不一定適用其他版本</li>\n<li>最後面會有不定時補充</li>\n</ul>\n<h2 id=\"情境\"><a href=\"#情境\" class=\"headerlink\" title=\"情境\"></a>情境</h2><p><img src=\"https://i.imgur.com/FDDtc9V.jpg\" alt=\"載入測試時發生例外狀況\"><br>原本使用 Visual Studio 2015 建立的測試專案,<br>升級到 Visual Studio 2017 後, 發生以下錯誤</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[2017/12/11 上午 02:09:59 Error] 測試探索程式 &apos;SpecRunTestDiscoverer&apos; </span><br><span class=\"line\">載入測試時發生例外狀況。例外狀況: 無法載入檔案或組件 </span><br><span class=\"line\">&apos;Microsoft.VisualStudio.QualityTools.UnitTestFramework,</span><br><span class=\"line\">Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a&apos;</span><br><span class=\"line\">或其相依性的其中之一。 系統找不到指定的檔案。</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"導致結果\"><a href=\"#導致結果\" class=\"headerlink\" title=\"導致結果\"></a>導致結果</h2><p><img src=\"https://i.imgur.com/2REPRzG.jpg\" alt=\"原本的測試數量為1942,變成459,遺失了7成5的測試案例.\"></p>\n<ol>\n<li>測試專案會找不到測試,或是測試數量不正確.</li>\n<li>可以使用 Visual Studio 2015 重新執行探測索測試,即可排除問題.</li>\n</ol>\n<h2 id=\"VS2015-已移除或未安裝該怎麼辦？\"><a href=\"#VS2015-已移除或未安裝該怎麼辦？\" class=\"headerlink\" title=\"VS2015 已移除或未安裝該怎麼辦？\"></a>VS2015 已移除或未安裝該怎麼辦？</h2><p>透過MsTest直接加入<br><code>Microsoft.VisualStudio.QualityTools.UnitTestFramework</code><br>的參考已經是舊的方法了, </p>\n<h4 id=\"在-Visual-Studio-2017-建議的解決方案如下\"><a href=\"#在-Visual-Studio-2017-建議的解決方案如下\" class=\"headerlink\" title=\"在 Visual Studio 2017 建議的解決方案如下:\"></a>在 Visual Studio 2017 建議的解決方案如下:</h4><ul>\n<li>移除方案中所有對 <code>Microsoft.VisualStudio.QualityTools.UnitTestFramework</code> 的參考</li>\n<li>透過 <code>Nuget</code> 安裝 <code>MSTest.TestAdapter</code> </li>\n<li>透過 <code>Nuget</code> 安裝 <code>MSTest.TestFramework</code></li>\n<li>關閉 Visual Studio 2017</li>\n<li>移除 <code>%temp%\\VisualStudioTestExplorerExtensions</code>內所有檔案</li>\n<li>重啟 Visual Studio 2017 並建置以觸發探索測試<br><img src=\"https://i.imgur.com/RPI77KN.jpg\" alt=\"透過 Nuget 安裝 MSTest.TestAdapter/MSTest.TestFramework\"><br><img src=\"https://i.imgur.com/JQ7zf2S.jpg\" alt=\"重啟 Visual Studio 2017 並建置以觸發探索測試\"></li>\n</ul>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://developercommunity.visualstudio.com/content/problem/14673/unit-test-fail-cannot-load-microsoftvisualstudiote.html\" target=\"_blank\" rel=\"noopener\">Unit test fail - cannot load Microsoft.VisualStudio.TestPlatform.TestFramework.Extensions</a></li>\n</ul>\n<p>(fin)</p>\n<h2 id=\"補充\"><a href=\"#補充\" class=\"headerlink\" title=\"補充\"></a>補充</h2><ul>\n<li>2018/06/02 :<br>Visual Studio 2017 15.7.* 的版本之後 ,<br><code>%temp%\\VisualStudioTestExplorerExtensions</code> 消失了 ,<br>不過正常情況建置後 , visual studio 探索測試仍然可以正確找到測試。</li>\n</ul>\n"},{"title":"[閱讀筆記]拿破崙不是敗在滑鐵盧戰役而是金融戰爭","date":"2018-10-02T02:22:43.000Z","_content":"\n\n- 猶太教典\n\t- 財富是要塞，貧苦是廢墟\n\t- 金錢並非罪惡、並非詛咒，而是給予人的祝福\n\t- 有三件事情會傷人:煩惱、爭吵、空錢包。其中尤以空錢包最為傷人\n\n- 伊斯蘭人\n\t- 發明複式簿記\n\t- 損益表(銷售額與支出費用)\n\t- 資產負債表(資產與負債)\n\n- 內克爾\n\t- 公開透明引發法國大革命\n\n- 第一艘蒸汽船停駛\n\t- 既得利益者(運河公司與船東)的反對\n\n- 緬甸因英國殖民政策引發種族問題\n\t- 社會地位，英國人 > 中國/印度人 > 克倫族(少數民族) > 緬甸人\n\t- 獨立後，克倫族反而持續遭受迫害至今\n\t\n- 猶太人待過的金融重鎮\n\t- 西班牙\n\t- 荷蘭 阿姆斯特丹\n\t- 英國 倫敦\n\t- 美國 紐約\n\n- 一次大戰\n\t- 四打一的圍毆(英法俄美vs德)\n\t- 德國的優勢，與土耳其建鐵路，與奧匈帝國相同語言，若統一會成為歐陸強國\n\t- 美國產石油，英國產煤，能源革命導致需求轉向\n\n- 希特勒\n\t- 凡爾賽條約是個源頭\n\t- 希特勒被提名過諾貝爾獎\n\t- 一開始的「侵略」是「收復國土」\n\n- 二戰的好處\n\t- 亞非各國的獨立\n\n- 共產主義\n\t- 建立平等社會\n\t- 平均分配財富\n\t- 蘇聯未受大蕭條影響\n\t- 短期的極權，有效;長期的極權，腐敗\n\t- 蘇聯比其它國家更不平等\n\t- 「當下有事情該作，只要沒納入事前計劃中就不能作;而當下發現沒必要作的事情，只要已經在計劃裡就非作不可，所以完全無法發揮第一線人員的創意」\n\n- 凱因斯\n\t- 二戰對德不合理條款的警告\n\t- 對「廢除德匯兌保護條款」的警告\n\t- 美元本位的警告\n\n- 亡國模式\n\t- 富人有逃(節)稅特權\n\t- 國家對窮人課重稅\n\t- 貧富差距變大\n\n(fin)","source":"_posts/2018/books/book_history_of_finance.md","raw":"---\ntitle: \"[閱讀筆記]拿破崙不是敗在滑鐵盧戰役而是金融戰爭\"\ndate: 2018/10/02 10:22:43\ntag:\n    - 閱讀筆記\n---\n\n\n- 猶太教典\n\t- 財富是要塞，貧苦是廢墟\n\t- 金錢並非罪惡、並非詛咒，而是給予人的祝福\n\t- 有三件事情會傷人:煩惱、爭吵、空錢包。其中尤以空錢包最為傷人\n\n- 伊斯蘭人\n\t- 發明複式簿記\n\t- 損益表(銷售額與支出費用)\n\t- 資產負債表(資產與負債)\n\n- 內克爾\n\t- 公開透明引發法國大革命\n\n- 第一艘蒸汽船停駛\n\t- 既得利益者(運河公司與船東)的反對\n\n- 緬甸因英國殖民政策引發種族問題\n\t- 社會地位，英國人 > 中國/印度人 > 克倫族(少數民族) > 緬甸人\n\t- 獨立後，克倫族反而持續遭受迫害至今\n\t\n- 猶太人待過的金融重鎮\n\t- 西班牙\n\t- 荷蘭 阿姆斯特丹\n\t- 英國 倫敦\n\t- 美國 紐約\n\n- 一次大戰\n\t- 四打一的圍毆(英法俄美vs德)\n\t- 德國的優勢，與土耳其建鐵路，與奧匈帝國相同語言，若統一會成為歐陸強國\n\t- 美國產石油，英國產煤，能源革命導致需求轉向\n\n- 希特勒\n\t- 凡爾賽條約是個源頭\n\t- 希特勒被提名過諾貝爾獎\n\t- 一開始的「侵略」是「收復國土」\n\n- 二戰的好處\n\t- 亞非各國的獨立\n\n- 共產主義\n\t- 建立平等社會\n\t- 平均分配財富\n\t- 蘇聯未受大蕭條影響\n\t- 短期的極權，有效;長期的極權，腐敗\n\t- 蘇聯比其它國家更不平等\n\t- 「當下有事情該作，只要沒納入事前計劃中就不能作;而當下發現沒必要作的事情，只要已經在計劃裡就非作不可，所以完全無法發揮第一線人員的創意」\n\n- 凱因斯\n\t- 二戰對德不合理條款的警告\n\t- 對「廢除德匯兌保護條款」的警告\n\t- 美元本位的警告\n\n- 亡國模式\n\t- 富人有逃(節)稅特權\n\t- 國家對窮人課重稅\n\t- 貧富差距變大\n\n(fin)","slug":"2018/books/book_history_of_finance","published":1,"updated":"2019-06-10T14:43:28.898Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wph0063b0vx72e7bnqx","content":"<ul>\n<li><p>猶太教典</p>\n<ul>\n<li>財富是要塞，貧苦是廢墟</li>\n<li>金錢並非罪惡、並非詛咒，而是給予人的祝福</li>\n<li>有三件事情會傷人:煩惱、爭吵、空錢包。其中尤以空錢包最為傷人</li>\n</ul>\n</li>\n<li><p>伊斯蘭人</p>\n<ul>\n<li>發明複式簿記</li>\n<li>損益表(銷售額與支出費用)</li>\n<li>資產負債表(資產與負債)</li>\n</ul>\n</li>\n<li><p>內克爾</p>\n<ul>\n<li>公開透明引發法國大革命</li>\n</ul>\n</li>\n<li><p>第一艘蒸汽船停駛</p>\n<ul>\n<li>既得利益者(運河公司與船東)的反對</li>\n</ul>\n</li>\n<li><p>緬甸因英國殖民政策引發種族問題</p>\n<ul>\n<li>社會地位，英國人 &gt; 中國/印度人 &gt; 克倫族(少數民族) &gt; 緬甸人</li>\n<li>獨立後，克倫族反而持續遭受迫害至今</li>\n</ul>\n</li>\n<li><p>猶太人待過的金融重鎮</p>\n<ul>\n<li>西班牙</li>\n<li>荷蘭 阿姆斯特丹</li>\n<li>英國 倫敦</li>\n<li>美國 紐約</li>\n</ul>\n</li>\n<li><p>一次大戰</p>\n<ul>\n<li>四打一的圍毆(英法俄美vs德)</li>\n<li>德國的優勢，與土耳其建鐵路，與奧匈帝國相同語言，若統一會成為歐陸強國</li>\n<li>美國產石油，英國產煤，能源革命導致需求轉向</li>\n</ul>\n</li>\n<li><p>希特勒</p>\n<ul>\n<li>凡爾賽條約是個源頭</li>\n<li>希特勒被提名過諾貝爾獎</li>\n<li>一開始的「侵略」是「收復國土」</li>\n</ul>\n</li>\n<li><p>二戰的好處</p>\n<ul>\n<li>亞非各國的獨立</li>\n</ul>\n</li>\n<li><p>共產主義</p>\n<ul>\n<li>建立平等社會</li>\n<li>平均分配財富</li>\n<li>蘇聯未受大蕭條影響</li>\n<li>短期的極權，有效;長期的極權，腐敗</li>\n<li>蘇聯比其它國家更不平等</li>\n<li>「當下有事情該作，只要沒納入事前計劃中就不能作;而當下發現沒必要作的事情，只要已經在計劃裡就非作不可，所以完全無法發揮第一線人員的創意」</li>\n</ul>\n</li>\n<li><p>凱因斯</p>\n<ul>\n<li>二戰對德不合理條款的警告</li>\n<li>對「廢除德匯兌保護條款」的警告</li>\n<li>美元本位的警告</li>\n</ul>\n</li>\n<li><p>亡國模式</p>\n<ul>\n<li>富人有逃(節)稅特權</li>\n<li>國家對窮人課重稅</li>\n<li>貧富差距變大</li>\n</ul>\n</li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<ul>\n<li><p>猶太教典</p>\n<ul>\n<li>財富是要塞，貧苦是廢墟</li>\n<li>金錢並非罪惡、並非詛咒，而是給予人的祝福</li>\n<li>有三件事情會傷人:煩惱、爭吵、空錢包。其中尤以空錢包最為傷人</li>\n</ul>\n</li>\n<li><p>伊斯蘭人</p>\n<ul>\n<li>發明複式簿記</li>\n<li>損益表(銷售額與支出費用)</li>\n<li>資產負債表(資產與負債)</li>\n</ul>\n</li>\n<li><p>內克爾</p>\n<ul>\n<li>公開透明引發法國大革命</li>\n</ul>\n</li>\n<li><p>第一艘蒸汽船停駛</p>\n<ul>\n<li>既得利益者(運河公司與船東)的反對</li>\n</ul>\n</li>\n<li><p>緬甸因英國殖民政策引發種族問題</p>\n<ul>\n<li>社會地位，英國人 &gt; 中國/印度人 &gt; 克倫族(少數民族) &gt; 緬甸人</li>\n<li>獨立後，克倫族反而持續遭受迫害至今</li>\n</ul>\n</li>\n<li><p>猶太人待過的金融重鎮</p>\n<ul>\n<li>西班牙</li>\n<li>荷蘭 阿姆斯特丹</li>\n<li>英國 倫敦</li>\n<li>美國 紐約</li>\n</ul>\n</li>\n<li><p>一次大戰</p>\n<ul>\n<li>四打一的圍毆(英法俄美vs德)</li>\n<li>德國的優勢，與土耳其建鐵路，與奧匈帝國相同語言，若統一會成為歐陸強國</li>\n<li>美國產石油，英國產煤，能源革命導致需求轉向</li>\n</ul>\n</li>\n<li><p>希特勒</p>\n<ul>\n<li>凡爾賽條約是個源頭</li>\n<li>希特勒被提名過諾貝爾獎</li>\n<li>一開始的「侵略」是「收復國土」</li>\n</ul>\n</li>\n<li><p>二戰的好處</p>\n<ul>\n<li>亞非各國的獨立</li>\n</ul>\n</li>\n<li><p>共產主義</p>\n<ul>\n<li>建立平等社會</li>\n<li>平均分配財富</li>\n<li>蘇聯未受大蕭條影響</li>\n<li>短期的極權，有效;長期的極權，腐敗</li>\n<li>蘇聯比其它國家更不平等</li>\n<li>「當下有事情該作，只要沒納入事前計劃中就不能作;而當下發現沒必要作的事情，只要已經在計劃裡就非作不可，所以完全無法發揮第一線人員的創意」</li>\n</ul>\n</li>\n<li><p>凱因斯</p>\n<ul>\n<li>二戰對德不合理條款的警告</li>\n<li>對「廢除德匯兌保護條款」的警告</li>\n<li>美元本位的警告</li>\n</ul>\n</li>\n<li><p>亡國模式</p>\n<ul>\n<li>富人有逃(節)稅特權</li>\n<li>國家對窮人課重稅</li>\n<li>貧富差距變大</li>\n</ul>\n</li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[閱讀筆記]誰搬走我的乳酪? 堅持與PIVOT","date":"2018-10-21T11:19:41.000Z","_content":"\n\n## 故事簡述\n\n一個大的迷宮裡面有許多乳酪，  \n四個角色「哈哈」、「猶豫」、「好鼻鼠」、「飛腿鼠」  \n「哈哈」是主角，它們在迷宮裡找乳酪，  \n每個人喜歡的乳酪都不相同，一開始他們找到了一個大乳酪站，  \n但是隨著時間過去，乳酪消失了，  \n「好鼻鼠」、「飛腿鼠」很快的離開尋找新的乳酪，  \n「哈哈」與「猶豫」在原處停留了一陣子，  \n最後「哈哈」終於啟程去尋找乳酪的心路歷程…  \n\n## 心得\n「哈哈」是主角，  \n「猶豫」代表過去的自已，  \n「好鼻鼠」、「飛腿鼠」分別代表兩種成功的人，  \n一種是有敏銳的嗅覺，能快速找到「乳酪」所在的方向  \n另一種是行動派，能快速嚐試迷宮的各個走道。  \n\n迷宮意謂著這個世界，乳酪讓人生成功與幸福的事物。  \n是的，乳酪是會改變的，就像是**人生的目標也會改變**，  \n不論是人生的階段的不同，或是市場的變化或是單純心境的改變。  \n你的乳酪就是會改變。  \n\n我想起「牧羊少年奇幻之旅」的商人，他永遠不會去麥加(假的乳酪)，反而期待著去麥加  \n才是他真正的乳酪。真實的生活上也是這樣，我們會訂定很多目標，  \n但是許多目標不是你真正熱情所在，反而訂目標這個行為會成為安慰自已的碎屑乳酪，  \n訂目標多容易不是嗎？比起實踐它。\n\n最近在看另一本書「OKR工作法」，裡面也有提到訂定目標(乳酪)的原則。  \n1. 目標要明確方向且鼓舞人心\n2. 要有時間限制\n3. 由獨立團隊來執行目標\n\n我只談第一點，但在工作上很少有目標讓自已能振奮起來的，  \n缺乏獎勵是其一，不合個人目標是其二，說一套作一套是其三。  \n當然我相信有的幸運兒會工作與個人目標契合的，  \n缺乏獎勵在台灣是常態，但我認為獎勵只是特效藥，  \n最糟糕的是說一套作一套，目前有點陷入這樣的困境了。\n\n我的乳酪究竟是什麼呢 ?  \n不要停在沒有乳酪的地方，但是離開的時機很關鍵啊…  \n這個小寓言仍然是很樂觀的，完全沒有描述在尋找乳酪的路上餓死情境。  \n我的乳酪究竟是什麼呢 ?  \n\n\n## 哈哈的牆上筆記\n「有了乳酪，你就會快樂」\n「乳酪對你愈重要，你就愈想擁有它」\n「如果你不改變自已，你就會被淘汰」\n「如果你對未來無所謂畏懼的話，你會怎麼作?」\n「雖然比較晚才開始，但也比從來都沒有開始要好得多了!」\n「要常常嗅一嗅乳酪的氣味，如此你才會知道它何時開始變質!」\n「往新的方向移動能幫助你找到新乳酪!」\n「當你擺脫了自已的恐懼，你就會感到無比的暢快和舒適!」\n「在還沒有享用乳酪前，先想像我正在享用那些乳酪，這會幫助我快點找到乳酪!」\n「你愈找放棄舊乳酪，你就會愈快找到新乳酪!」\n「進入迷宮裡尋找新的乳酪，比繼續停留在已經沒有乳酪的地方要安全得多了!」\n「食古不化的想法，不會幫助你找到新的乳酪。」\n「當你覺得你會發現並享受新的乳酪時，你就會改變你的路徑。」\n「及早注意事情的小變化，就能幫助提早適應即將到來的大變化。」\n\n> 變化是會發生的\n> 預期改變的到來\n> 觀察變化\n> 迅速地適應變化\n> 改變自已\n> 享受自已的改變\n> 隨時準備好迅速地適應改變並再度享用美味的乳酪\n \n(fin)","source":"_posts/2018/books/who_moved_my_cheese.md","raw":"---\ntitle: \"[閱讀筆記]誰搬走我的乳酪? 堅持與PIVOT\"\ndate: 2018/10/21 19:19:41\ntag:\n  - 閱讀筆記\n---\n\n\n## 故事簡述\n\n一個大的迷宮裡面有許多乳酪，  \n四個角色「哈哈」、「猶豫」、「好鼻鼠」、「飛腿鼠」  \n「哈哈」是主角，它們在迷宮裡找乳酪，  \n每個人喜歡的乳酪都不相同，一開始他們找到了一個大乳酪站，  \n但是隨著時間過去，乳酪消失了，  \n「好鼻鼠」、「飛腿鼠」很快的離開尋找新的乳酪，  \n「哈哈」與「猶豫」在原處停留了一陣子，  \n最後「哈哈」終於啟程去尋找乳酪的心路歷程…  \n\n## 心得\n「哈哈」是主角，  \n「猶豫」代表過去的自已，  \n「好鼻鼠」、「飛腿鼠」分別代表兩種成功的人，  \n一種是有敏銳的嗅覺，能快速找到「乳酪」所在的方向  \n另一種是行動派，能快速嚐試迷宮的各個走道。  \n\n迷宮意謂著這個世界，乳酪讓人生成功與幸福的事物。  \n是的，乳酪是會改變的，就像是**人生的目標也會改變**，  \n不論是人生的階段的不同，或是市場的變化或是單純心境的改變。  \n你的乳酪就是會改變。  \n\n我想起「牧羊少年奇幻之旅」的商人，他永遠不會去麥加(假的乳酪)，反而期待著去麥加  \n才是他真正的乳酪。真實的生活上也是這樣，我們會訂定很多目標，  \n但是許多目標不是你真正熱情所在，反而訂目標這個行為會成為安慰自已的碎屑乳酪，  \n訂目標多容易不是嗎？比起實踐它。\n\n最近在看另一本書「OKR工作法」，裡面也有提到訂定目標(乳酪)的原則。  \n1. 目標要明確方向且鼓舞人心\n2. 要有時間限制\n3. 由獨立團隊來執行目標\n\n我只談第一點，但在工作上很少有目標讓自已能振奮起來的，  \n缺乏獎勵是其一，不合個人目標是其二，說一套作一套是其三。  \n當然我相信有的幸運兒會工作與個人目標契合的，  \n缺乏獎勵在台灣是常態，但我認為獎勵只是特效藥，  \n最糟糕的是說一套作一套，目前有點陷入這樣的困境了。\n\n我的乳酪究竟是什麼呢 ?  \n不要停在沒有乳酪的地方，但是離開的時機很關鍵啊…  \n這個小寓言仍然是很樂觀的，完全沒有描述在尋找乳酪的路上餓死情境。  \n我的乳酪究竟是什麼呢 ?  \n\n\n## 哈哈的牆上筆記\n「有了乳酪，你就會快樂」\n「乳酪對你愈重要，你就愈想擁有它」\n「如果你不改變自已，你就會被淘汰」\n「如果你對未來無所謂畏懼的話，你會怎麼作?」\n「雖然比較晚才開始，但也比從來都沒有開始要好得多了!」\n「要常常嗅一嗅乳酪的氣味，如此你才會知道它何時開始變質!」\n「往新的方向移動能幫助你找到新乳酪!」\n「當你擺脫了自已的恐懼，你就會感到無比的暢快和舒適!」\n「在還沒有享用乳酪前，先想像我正在享用那些乳酪，這會幫助我快點找到乳酪!」\n「你愈找放棄舊乳酪，你就會愈快找到新乳酪!」\n「進入迷宮裡尋找新的乳酪，比繼續停留在已經沒有乳酪的地方要安全得多了!」\n「食古不化的想法，不會幫助你找到新的乳酪。」\n「當你覺得你會發現並享受新的乳酪時，你就會改變你的路徑。」\n「及早注意事情的小變化，就能幫助提早適應即將到來的大變化。」\n\n> 變化是會發生的\n> 預期改變的到來\n> 觀察變化\n> 迅速地適應變化\n> 改變自已\n> 享受自已的改變\n> 隨時準備好迅速地適應改變並再度享用美味的乳酪\n \n(fin)","slug":"2018/books/who_moved_my_cheese","published":1,"updated":"2019-06-10T14:43:28.906Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wpi0065b0vx68h05c5q","content":"<h2 id=\"故事簡述\"><a href=\"#故事簡述\" class=\"headerlink\" title=\"故事簡述\"></a>故事簡述</h2><p>一個大的迷宮裡面有許多乳酪，<br>四個角色「哈哈」、「猶豫」、「好鼻鼠」、「飛腿鼠」<br>「哈哈」是主角，它們在迷宮裡找乳酪，<br>每個人喜歡的乳酪都不相同，一開始他們找到了一個大乳酪站，<br>但是隨著時間過去，乳酪消失了，<br>「好鼻鼠」、「飛腿鼠」很快的離開尋找新的乳酪，<br>「哈哈」與「猶豫」在原處停留了一陣子，<br>最後「哈哈」終於啟程去尋找乳酪的心路歷程…  </p>\n<h2 id=\"心得\"><a href=\"#心得\" class=\"headerlink\" title=\"心得\"></a>心得</h2><p>「哈哈」是主角，<br>「猶豫」代表過去的自已，<br>「好鼻鼠」、「飛腿鼠」分別代表兩種成功的人，<br>一種是有敏銳的嗅覺，能快速找到「乳酪」所在的方向<br>另一種是行動派，能快速嚐試迷宮的各個走道。  </p>\n<p>迷宮意謂著這個世界，乳酪讓人生成功與幸福的事物。<br>是的，乳酪是會改變的，就像是<strong>人生的目標也會改變</strong>，  \n不論是人生的階段的不同，或是市場的變化或是單純心境的改變。<br>你的乳酪就是會改變。  </p>\n<p>我想起「牧羊少年奇幻之旅」的商人，他永遠不會去麥加(假的乳酪)，反而期待著去麥加<br>才是他真正的乳酪。真實的生活上也是這樣，我們會訂定很多目標，<br>但是許多目標不是你真正熱情所在，反而訂目標這個行為會成為安慰自已的碎屑乳酪，<br>訂目標多容易不是嗎？比起實踐它。</p>\n<p>最近在看另一本書「OKR工作法」，裡面也有提到訂定目標(乳酪)的原則。  </p>\n<ol>\n<li>目標要明確方向且鼓舞人心</li>\n<li>要有時間限制</li>\n<li>由獨立團隊來執行目標</li>\n</ol>\n<p>我只談第一點，但在工作上很少有目標讓自已能振奮起來的，<br>缺乏獎勵是其一，不合個人目標是其二，說一套作一套是其三。<br>當然我相信有的幸運兒會工作與個人目標契合的，<br>缺乏獎勵在台灣是常態，但我認為獎勵只是特效藥，<br>最糟糕的是說一套作一套，目前有點陷入這樣的困境了。</p>\n<p>我的乳酪究竟是什麼呢 ?<br>不要停在沒有乳酪的地方，但是離開的時機很關鍵啊…<br>這個小寓言仍然是很樂觀的，完全沒有描述在尋找乳酪的路上餓死情境。<br>我的乳酪究竟是什麼呢 ?  </p>\n<h2 id=\"哈哈的牆上筆記\"><a href=\"#哈哈的牆上筆記\" class=\"headerlink\" title=\"哈哈的牆上筆記\"></a>哈哈的牆上筆記</h2><p>「有了乳酪，你就會快樂」<br>「乳酪對你愈重要，你就愈想擁有它」<br>「如果你不改變自已，你就會被淘汰」<br>「如果你對未來無所謂畏懼的話，你會怎麼作?」<br>「雖然比較晚才開始，但也比從來都沒有開始要好得多了!」<br>「要常常嗅一嗅乳酪的氣味，如此你才會知道它何時開始變質!」<br>「往新的方向移動能幫助你找到新乳酪!」<br>「當你擺脫了自已的恐懼，你就會感到無比的暢快和舒適!」<br>「在還沒有享用乳酪前，先想像我正在享用那些乳酪，這會幫助我快點找到乳酪!」<br>「你愈找放棄舊乳酪，你就會愈快找到新乳酪!」<br>「進入迷宮裡尋找新的乳酪，比繼續停留在已經沒有乳酪的地方要安全得多了!」<br>「食古不化的想法，不會幫助你找到新的乳酪。」<br>「當你覺得你會發現並享受新的乳酪時，你就會改變你的路徑。」<br>「及早注意事情的小變化，就能幫助提早適應即將到來的大變化。」</p>\n<blockquote>\n<p>變化是會發生的<br>預期改變的到來<br>觀察變化<br>迅速地適應變化<br>改變自已<br>享受自已的改變<br>隨時準備好迅速地適應改變並再度享用美味的乳酪</p>\n</blockquote>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"故事簡述\"><a href=\"#故事簡述\" class=\"headerlink\" title=\"故事簡述\"></a>故事簡述</h2><p>一個大的迷宮裡面有許多乳酪，<br>四個角色「哈哈」、「猶豫」、「好鼻鼠」、「飛腿鼠」<br>「哈哈」是主角，它們在迷宮裡找乳酪，<br>每個人喜歡的乳酪都不相同，一開始他們找到了一個大乳酪站，<br>但是隨著時間過去，乳酪消失了，<br>「好鼻鼠」、「飛腿鼠」很快的離開尋找新的乳酪，<br>「哈哈」與「猶豫」在原處停留了一陣子，<br>最後「哈哈」終於啟程去尋找乳酪的心路歷程…  </p>\n<h2 id=\"心得\"><a href=\"#心得\" class=\"headerlink\" title=\"心得\"></a>心得</h2><p>「哈哈」是主角，<br>「猶豫」代表過去的自已，<br>「好鼻鼠」、「飛腿鼠」分別代表兩種成功的人，<br>一種是有敏銳的嗅覺，能快速找到「乳酪」所在的方向<br>另一種是行動派，能快速嚐試迷宮的各個走道。  </p>\n<p>迷宮意謂著這個世界，乳酪讓人生成功與幸福的事物。<br>是的，乳酪是會改變的，就像是<strong>人生的目標也會改變</strong>，  \n不論是人生的階段的不同，或是市場的變化或是單純心境的改變。<br>你的乳酪就是會改變。  </p>\n<p>我想起「牧羊少年奇幻之旅」的商人，他永遠不會去麥加(假的乳酪)，反而期待著去麥加<br>才是他真正的乳酪。真實的生活上也是這樣，我們會訂定很多目標，<br>但是許多目標不是你真正熱情所在，反而訂目標這個行為會成為安慰自已的碎屑乳酪，<br>訂目標多容易不是嗎？比起實踐它。</p>\n<p>最近在看另一本書「OKR工作法」，裡面也有提到訂定目標(乳酪)的原則。  </p>\n<ol>\n<li>目標要明確方向且鼓舞人心</li>\n<li>要有時間限制</li>\n<li>由獨立團隊來執行目標</li>\n</ol>\n<p>我只談第一點，但在工作上很少有目標讓自已能振奮起來的，<br>缺乏獎勵是其一，不合個人目標是其二，說一套作一套是其三。<br>當然我相信有的幸運兒會工作與個人目標契合的，<br>缺乏獎勵在台灣是常態，但我認為獎勵只是特效藥，<br>最糟糕的是說一套作一套，目前有點陷入這樣的困境了。</p>\n<p>我的乳酪究竟是什麼呢 ?<br>不要停在沒有乳酪的地方，但是離開的時機很關鍵啊…<br>這個小寓言仍然是很樂觀的，完全沒有描述在尋找乳酪的路上餓死情境。<br>我的乳酪究竟是什麼呢 ?  </p>\n<h2 id=\"哈哈的牆上筆記\"><a href=\"#哈哈的牆上筆記\" class=\"headerlink\" title=\"哈哈的牆上筆記\"></a>哈哈的牆上筆記</h2><p>「有了乳酪，你就會快樂」<br>「乳酪對你愈重要，你就愈想擁有它」<br>「如果你不改變自已，你就會被淘汰」<br>「如果你對未來無所謂畏懼的話，你會怎麼作?」<br>「雖然比較晚才開始，但也比從來都沒有開始要好得多了!」<br>「要常常嗅一嗅乳酪的氣味，如此你才會知道它何時開始變質!」<br>「往新的方向移動能幫助你找到新乳酪!」<br>「當你擺脫了自已的恐懼，你就會感到無比的暢快和舒適!」<br>「在還沒有享用乳酪前，先想像我正在享用那些乳酪，這會幫助我快點找到乳酪!」<br>「你愈找放棄舊乳酪，你就會愈快找到新乳酪!」<br>「進入迷宮裡尋找新的乳酪，比繼續停留在已經沒有乳酪的地方要安全得多了!」<br>「食古不化的想法，不會幫助你找到新的乳酪。」<br>「當你覺得你會發現並享受新的乳酪時，你就會改變你的路徑。」<br>「及早注意事情的小變化，就能幫助提早適應即將到來的大變化。」</p>\n<blockquote>\n<p>變化是會發生的<br>預期改變的到來<br>觀察變化<br>迅速地適應變化<br>改變自已<br>享受自已的改變<br>隨時準備好迅速地適應改變並再度享用美味的乳酪</p>\n</blockquote>\n<p>(fin)</p>\n"},{"title":"[閱讀筆記]The Great Scrum Master 第二章","date":"2018-07-25T02:43:19.000Z","_content":"## 大綱\n- 心態模式\n    - 教導和輔導\n    - 移除障礙\n    - 引導\n    - 教練\n    - 觀察\n\n### 教導和輔導\n初期需要一再解釋為什麼要實施 Scrum 和 Agile 方法和如何運作， \n團隊成熟後，共享經驗，並且更多的實踐\n\n### 移除障礙\n排除團隊的障礙，是將**責任、活動和所有權**都下放給團隊，讓團隊可以自行解決問題\n```\n實務上資安、權限和風險上的控管似乎不可行?\n雖然說信任團隊，但是上述的角度來看，這些限制是必要之惡。\n新創團隊怎麼作 ? 規模擴大後的團隊又該怎麼作 ? \n系統思考?\n```\n\n### 引導\n確保會議有效率，使每次談話有目標/結果。\n\n```\n開會前確認討論的主題與範圍，\n開會中確保有效討論與時間控制; \n開會完產出相對的決定/行為/文件。\n其中以行為最為重要，也是所謂的action item\n或是下一步清單。\n```\n- [無效會議的3種狀況：會而不議、議而不決、決而不行](http://www.cheers.com.tw/blog/blogTopic.action?id=662&nid=10065)\n\n### 教練\nScrum Master 最重要技能之一，關注個人成長也關注團隊自組織、責任感與所有權\n\n```\n不知道這本書在供三小，知道的人請告訴我\n我比較推薦以下這篇的說法，教導是單向的，教練則是的迴圈\n教導比較像是說明、講解、指示;或許有點像上課、聽演講或是看一本書\n教練比較有互動性，除了上述所說也包含了給予回饋、示範與局部修正\n指導者與被指導者都會參與其中。\n```\n- [The difference between teaching and coaching](https://www.projectidealism.com/posts/2010/03/difference-between-teaching-and.html)\n\n\n### 觀察\n\n觀察、聆聽而不是干預;保持耐心再採取行動。\n\n```\n20180724讀書會回饋:\n1. Scurm Master 要有意識的不作為(Actively Doing Nothing)\n2. 移除障礙:還是先觀察，讓團隊自行解決問題，個人的問題或許不是團隊的問題; \n    站立會議是個人尋求團隊意見的好時機。\n3. 引導的方法就是問問題與對話。\n4. 引導分為個人與團隊\n    - 個人\n        引導作對方想作或是 Scurm Master 想作的事 \n    - 團隊\n        尋找一個目標，發散 → 收斂 → 執行\n        再找下一個目標，發散 → 收斂 → 執行\n        持續這樣的步驟，並隨時回頭看看效果如何，\n        有些想法或許會被錯過\n```\n\n## 其它\n### 教練的實例\n提問篇\nhttps://www.youtube.com/watch?v=ucSdnwSTJSo\n解答篇\nhttps://www.youtube.com/watch?v=gJRMatocP7o\nCoaching example : Kasatkina\nhttps://www.facebook.com/NextGenTPE/videos/450757555322367/\nCoaching example : 跆拳道\nhttps://www.youtube.com/watch?v=zcCm9QichHk\nCoaching example : 空手道\nhttps://youtu.be/ooAOc9Fwg0U\n\n(fin)","source":"_posts/2018/books/book_the_great_scurm_master_ch2.md","raw":"---\ntitle: \"[閱讀筆記]The Great Scrum Master 第二章\"\ndate: 2018/07/25 10:43:19\ntag:\n  - Scrum\n  - 閱讀筆記\n  - Agile\n---\n## 大綱\n- 心態模式\n    - 教導和輔導\n    - 移除障礙\n    - 引導\n    - 教練\n    - 觀察\n\n### 教導和輔導\n初期需要一再解釋為什麼要實施 Scrum 和 Agile 方法和如何運作， \n團隊成熟後，共享經驗，並且更多的實踐\n\n### 移除障礙\n排除團隊的障礙，是將**責任、活動和所有權**都下放給團隊，讓團隊可以自行解決問題\n```\n實務上資安、權限和風險上的控管似乎不可行?\n雖然說信任團隊，但是上述的角度來看，這些限制是必要之惡。\n新創團隊怎麼作 ? 規模擴大後的團隊又該怎麼作 ? \n系統思考?\n```\n\n### 引導\n確保會議有效率，使每次談話有目標/結果。\n\n```\n開會前確認討論的主題與範圍，\n開會中確保有效討論與時間控制; \n開會完產出相對的決定/行為/文件。\n其中以行為最為重要，也是所謂的action item\n或是下一步清單。\n```\n- [無效會議的3種狀況：會而不議、議而不決、決而不行](http://www.cheers.com.tw/blog/blogTopic.action?id=662&nid=10065)\n\n### 教練\nScrum Master 最重要技能之一，關注個人成長也關注團隊自組織、責任感與所有權\n\n```\n不知道這本書在供三小，知道的人請告訴我\n我比較推薦以下這篇的說法，教導是單向的，教練則是的迴圈\n教導比較像是說明、講解、指示;或許有點像上課、聽演講或是看一本書\n教練比較有互動性，除了上述所說也包含了給予回饋、示範與局部修正\n指導者與被指導者都會參與其中。\n```\n- [The difference between teaching and coaching](https://www.projectidealism.com/posts/2010/03/difference-between-teaching-and.html)\n\n\n### 觀察\n\n觀察、聆聽而不是干預;保持耐心再採取行動。\n\n```\n20180724讀書會回饋:\n1. Scurm Master 要有意識的不作為(Actively Doing Nothing)\n2. 移除障礙:還是先觀察，讓團隊自行解決問題，個人的問題或許不是團隊的問題; \n    站立會議是個人尋求團隊意見的好時機。\n3. 引導的方法就是問問題與對話。\n4. 引導分為個人與團隊\n    - 個人\n        引導作對方想作或是 Scurm Master 想作的事 \n    - 團隊\n        尋找一個目標，發散 → 收斂 → 執行\n        再找下一個目標，發散 → 收斂 → 執行\n        持續這樣的步驟，並隨時回頭看看效果如何，\n        有些想法或許會被錯過\n```\n\n## 其它\n### 教練的實例\n提問篇\nhttps://www.youtube.com/watch?v=ucSdnwSTJSo\n解答篇\nhttps://www.youtube.com/watch?v=gJRMatocP7o\nCoaching example : Kasatkina\nhttps://www.facebook.com/NextGenTPE/videos/450757555322367/\nCoaching example : 跆拳道\nhttps://www.youtube.com/watch?v=zcCm9QichHk\nCoaching example : 空手道\nhttps://youtu.be/ooAOc9Fwg0U\n\n(fin)","slug":"2018/books/book_the_great_scurm_master_ch2","published":1,"updated":"2019-06-10T14:43:28.903Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wpk0068b0vxqpmzhpxo","content":"<h2 id=\"大綱\"><a href=\"#大綱\" class=\"headerlink\" title=\"大綱\"></a>大綱</h2><ul>\n<li>心態模式<ul>\n<li>教導和輔導</li>\n<li>移除障礙</li>\n<li>引導</li>\n<li>教練</li>\n<li>觀察</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"教導和輔導\"><a href=\"#教導和輔導\" class=\"headerlink\" title=\"教導和輔導\"></a>教導和輔導</h3><p>初期需要一再解釋為什麼要實施 Scrum 和 Agile 方法和如何運作，<br>團隊成熟後，共享經驗，並且更多的實踐</p>\n<h3 id=\"移除障礙\"><a href=\"#移除障礙\" class=\"headerlink\" title=\"移除障礙\"></a>移除障礙</h3><p>排除團隊的障礙，是將<strong>責任、活動和所有權</strong>都下放給團隊，讓團隊可以自行解決問題</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">實務上資安、權限和風險上的控管似乎不可行?</span><br><span class=\"line\">雖然說信任團隊，但是上述的角度來看，這些限制是必要之惡。</span><br><span class=\"line\">新創團隊怎麼作 ? 規模擴大後的團隊又該怎麼作 ? </span><br><span class=\"line\">系統思考?</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"引導\"><a href=\"#引導\" class=\"headerlink\" title=\"引導\"></a>引導</h3><p>確保會議有效率，使每次談話有目標/結果。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">開會前確認討論的主題與範圍，</span><br><span class=\"line\">開會中確保有效討論與時間控制; </span><br><span class=\"line\">開會完產出相對的決定/行為/文件。</span><br><span class=\"line\">其中以行為最為重要，也是所謂的action item</span><br><span class=\"line\">或是下一步清單。</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><a href=\"http://www.cheers.com.tw/blog/blogTopic.action?id=662&nid=10065\" target=\"_blank\" rel=\"noopener\">無效會議的3種狀況：會而不議、議而不決、決而不行</a></li>\n</ul>\n<h3 id=\"教練\"><a href=\"#教練\" class=\"headerlink\" title=\"教練\"></a>教練</h3><p>Scrum Master 最重要技能之一，關注個人成長也關注團隊自組織、責任感與所有權</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">不知道這本書在供三小，知道的人請告訴我</span><br><span class=\"line\">我比較推薦以下這篇的說法，教導是單向的，教練則是的迴圈</span><br><span class=\"line\">教導比較像是說明、講解、指示;或許有點像上課、聽演講或是看一本書</span><br><span class=\"line\">教練比較有互動性，除了上述所說也包含了給予回饋、示範與局部修正</span><br><span class=\"line\">指導者與被指導者都會參與其中。</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><a href=\"https://www.projectidealism.com/posts/2010/03/difference-between-teaching-and.html\" target=\"_blank\" rel=\"noopener\">The difference between teaching and coaching</a></li>\n</ul>\n<h3 id=\"觀察\"><a href=\"#觀察\" class=\"headerlink\" title=\"觀察\"></a>觀察</h3><p>觀察、聆聽而不是干預;保持耐心再採取行動。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">20180724讀書會回饋:</span><br><span class=\"line\">1. Scurm Master 要有意識的不作為(Actively Doing Nothing)</span><br><span class=\"line\">2. 移除障礙:還是先觀察，讓團隊自行解決問題，個人的問題或許不是團隊的問題; </span><br><span class=\"line\">    站立會議是個人尋求團隊意見的好時機。</span><br><span class=\"line\">3. 引導的方法就是問問題與對話。</span><br><span class=\"line\">4. 引導分為個人與團隊</span><br><span class=\"line\">    - 個人</span><br><span class=\"line\">        引導作對方想作或是 Scurm Master 想作的事 </span><br><span class=\"line\">    - 團隊</span><br><span class=\"line\">        尋找一個目標，發散 → 收斂 → 執行</span><br><span class=\"line\">        再找下一個目標，發散 → 收斂 → 執行</span><br><span class=\"line\">        持續這樣的步驟，並隨時回頭看看效果如何，</span><br><span class=\"line\">        有些想法或許會被錯過</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h2><h3 id=\"教練的實例\"><a href=\"#教練的實例\" class=\"headerlink\" title=\"教練的實例\"></a>教練的實例</h3><p>提問篇<br><a href=\"https://www.youtube.com/watch?v=ucSdnwSTJSo\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=ucSdnwSTJSo</a><br>解答篇<br><a href=\"https://www.youtube.com/watch?v=gJRMatocP7o\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=gJRMatocP7o</a><br>Coaching example : Kasatkina<br><a href=\"https://www.facebook.com/NextGenTPE/videos/450757555322367/\" target=\"_blank\" rel=\"noopener\">https://www.facebook.com/NextGenTPE/videos/450757555322367/</a><br>Coaching example : 跆拳道<br><a href=\"https://www.youtube.com/watch?v=zcCm9QichHk\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=zcCm9QichHk</a><br>Coaching example : 空手道<br><a href=\"https://youtu.be/ooAOc9Fwg0U\" target=\"_blank\" rel=\"noopener\">https://youtu.be/ooAOc9Fwg0U</a></p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"大綱\"><a href=\"#大綱\" class=\"headerlink\" title=\"大綱\"></a>大綱</h2><ul>\n<li>心態模式<ul>\n<li>教導和輔導</li>\n<li>移除障礙</li>\n<li>引導</li>\n<li>教練</li>\n<li>觀察</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"教導和輔導\"><a href=\"#教導和輔導\" class=\"headerlink\" title=\"教導和輔導\"></a>教導和輔導</h3><p>初期需要一再解釋為什麼要實施 Scrum 和 Agile 方法和如何運作，<br>團隊成熟後，共享經驗，並且更多的實踐</p>\n<h3 id=\"移除障礙\"><a href=\"#移除障礙\" class=\"headerlink\" title=\"移除障礙\"></a>移除障礙</h3><p>排除團隊的障礙，是將<strong>責任、活動和所有權</strong>都下放給團隊，讓團隊可以自行解決問題</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">實務上資安、權限和風險上的控管似乎不可行?</span><br><span class=\"line\">雖然說信任團隊，但是上述的角度來看，這些限制是必要之惡。</span><br><span class=\"line\">新創團隊怎麼作 ? 規模擴大後的團隊又該怎麼作 ? </span><br><span class=\"line\">系統思考?</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"引導\"><a href=\"#引導\" class=\"headerlink\" title=\"引導\"></a>引導</h3><p>確保會議有效率，使每次談話有目標/結果。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">開會前確認討論的主題與範圍，</span><br><span class=\"line\">開會中確保有效討論與時間控制; </span><br><span class=\"line\">開會完產出相對的決定/行為/文件。</span><br><span class=\"line\">其中以行為最為重要，也是所謂的action item</span><br><span class=\"line\">或是下一步清單。</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><a href=\"http://www.cheers.com.tw/blog/blogTopic.action?id=662&nid=10065\" target=\"_blank\" rel=\"noopener\">無效會議的3種狀況：會而不議、議而不決、決而不行</a></li>\n</ul>\n<h3 id=\"教練\"><a href=\"#教練\" class=\"headerlink\" title=\"教練\"></a>教練</h3><p>Scrum Master 最重要技能之一，關注個人成長也關注團隊自組織、責任感與所有權</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">不知道這本書在供三小，知道的人請告訴我</span><br><span class=\"line\">我比較推薦以下這篇的說法，教導是單向的，教練則是的迴圈</span><br><span class=\"line\">教導比較像是說明、講解、指示;或許有點像上課、聽演講或是看一本書</span><br><span class=\"line\">教練比較有互動性，除了上述所說也包含了給予回饋、示範與局部修正</span><br><span class=\"line\">指導者與被指導者都會參與其中。</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><a href=\"https://www.projectidealism.com/posts/2010/03/difference-between-teaching-and.html\" target=\"_blank\" rel=\"noopener\">The difference between teaching and coaching</a></li>\n</ul>\n<h3 id=\"觀察\"><a href=\"#觀察\" class=\"headerlink\" title=\"觀察\"></a>觀察</h3><p>觀察、聆聽而不是干預;保持耐心再採取行動。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">20180724讀書會回饋:</span><br><span class=\"line\">1. Scurm Master 要有意識的不作為(Actively Doing Nothing)</span><br><span class=\"line\">2. 移除障礙:還是先觀察，讓團隊自行解決問題，個人的問題或許不是團隊的問題; </span><br><span class=\"line\">    站立會議是個人尋求團隊意見的好時機。</span><br><span class=\"line\">3. 引導的方法就是問問題與對話。</span><br><span class=\"line\">4. 引導分為個人與團隊</span><br><span class=\"line\">    - 個人</span><br><span class=\"line\">        引導作對方想作或是 Scurm Master 想作的事 </span><br><span class=\"line\">    - 團隊</span><br><span class=\"line\">        尋找一個目標，發散 → 收斂 → 執行</span><br><span class=\"line\">        再找下一個目標，發散 → 收斂 → 執行</span><br><span class=\"line\">        持續這樣的步驟，並隨時回頭看看效果如何，</span><br><span class=\"line\">        有些想法或許會被錯過</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h2><h3 id=\"教練的實例\"><a href=\"#教練的實例\" class=\"headerlink\" title=\"教練的實例\"></a>教練的實例</h3><p>提問篇<br><a href=\"https://www.youtube.com/watch?v=ucSdnwSTJSo\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=ucSdnwSTJSo</a><br>解答篇<br><a href=\"https://www.youtube.com/watch?v=gJRMatocP7o\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=gJRMatocP7o</a><br>Coaching example : Kasatkina<br><a href=\"https://www.facebook.com/NextGenTPE/videos/450757555322367/\" target=\"_blank\" rel=\"noopener\">https://www.facebook.com/NextGenTPE/videos/450757555322367/</a><br>Coaching example : 跆拳道<br><a href=\"https://www.youtube.com/watch?v=zcCm9QichHk\" target=\"_blank\" rel=\"noopener\">https://www.youtube.com/watch?v=zcCm9QichHk</a><br>Coaching example : 空手道<br><a href=\"https://youtu.be/ooAOc9Fwg0U\" target=\"_blank\" rel=\"noopener\">https://youtu.be/ooAOc9Fwg0U</a></p>\n<p>(fin)</p>\n"},{"title":"[閱讀筆記]The Great Scrum Master 第一章","date":"2018-07-15T02:19:08.000Z","_content":"\n#ScrumMasterWay\n\n## 大綱\n- Scrum Master 的角色與責任\n    - 自組織\n    - Scrum Master 的目標\n    - Scrum Master Pattern\n        - Scrum Master 是團隊成員\n        - Scrum Master 是 Product Owner\n        - Scrum Master 是人事經理\n        - Scrum Master 兼任多支團隊\n    - Scrum Master 領導\n        - 僕人式領導\n\n## CH1 Scrum Master 的角色與責任\n- 不是團隊的祕書\n- 不是額外的開銷\n- 負責創造高績效團隊\n- Agile 與 Scrum 思想的專家(信徒)\n\n\n###### 質疑:\n```\n我一直認為盲信是相當危險的，這個世界與其說*沒有銀子彈*，\n不如說沒有狼人，或是說你面對的永遠不只是狼人，而是未知。\n現場看到太多的 Scrum But(我比較喜歡叫 Scrum Buffet 或敏捷自助餐)\n當人人都說「敏捷大法好」的時候，我分不清邪教大典/直銷與敏捷的差別了…\n還是鬼島就是神祕力量能將好東西質變成孬東西呢？\n```\n### 自組織\n**我們應該如何組織我們自已，達成目標?**\n- 決定誰作什麼\n- 協助對方\n- 學習新知\n- 劃分優先級\n\nScrum Master 要提醒個人，團隊是一個實體，比個人更重要\n\n### Scrum Master 的目標\n- Scrum Master 建立自組織的團隊\n- Scrum Master 教練與引導\n- Scrum Master 不負責交付\n- Scrum Master 負責排除障礙(而非斟茶遞水的祕書)\n- Scrum Master 鼓勵團隊承擔責任\n\n### Scrum Master Pattern\n\n#### Scrum Master 是團隊成員\n- con\n\t- 參與過多，缺乏系統觀點與系統思考的能力\n\t- 缺乏領導能力與變革管理的技能\n\t- sprint無法按時完成時，通常會不太願意改進團隊\n\t- 缺乏將進一步提昇團隊的能力\n- pro\n\t- 通常與團隊高度互相信任\n\t- 了解團隊的優缺點\n- result\n\t- Scrum Master 角色被邊緣化\n\t- Scrum Master 變成團隊助理或無事可作 \n\n#### Scrum Master 是 Product Owner\n- con\n\t- 角色本身會互相衝突\n\t- \n- pro\n\t- Product Owner 較容易被視作團隊的一份子\n- result\n\t- Scrum Master 角色會被忽略\n\t- Product Owner 控制所有事情\n\t- 團隊缺乏自組織\n\n#### Scrum Master 是人事經理\n- con\n\t- 團隊對 Scrum Master 缺乏信任\n\t- 往往變成下命令，教導而非輔導\t\n- pro\n\t- 優秀的領導者當 Scrum Master 可以加速過渡轉型期\n- result\n\t- 可以縮短轉型期\n\t- 團隊對缺乏自組織、自信與所有權\n\n#### Scrum Master 兼任多支團隊\n- con\n\t- Scrum Master 缺乏時間\n\t- 不同團隊同時發生問題時無法即時引導\n\t- 通常兼任超過三支團隊會缺乏足夠訊息\n- pro\n\t- Scrum Master 能快速學習\n\t- 較能了解不同團隊有不同文化\n\t\n- result\n\t- Scrum Master 能累積更多經驗\n\t- Scrum Master 在系統思考上表現較好\n\t- 更有可能將 Scrum 應用於整個組織\n\n###### 回饋\n```\n20180717 讀書會\nQ:Scrum Master 應該先成為觀察者的角色，\n再進一步作引導或指導，兼任多支團隊的情況下，\n可能會受限於環境，導致無法作第一線的觀察，而導致效果不佳。\nA:較成熟的團隊可以稍微放一下，多參與初心團隊，\n自組織的成熟團隊就不必要每件事。\nfeedback:\n1. 不成熟的 Scrum Mater 應該跟著成熟的 Scrum Master 共事。\n2. 不成熟的團隊應由成熟的 Scrum Mater 帶領。\n3. 成熟的團隊 Scrum Mater 的角色仍在，但是可以淡出。 \n```\n\n### Scrum Master 領導\n- Scrum Master要注重整個組織，非單一支 Scrum 團隊，\n- 關心長期目標與策略。\n- 領導者不是由時間表所趨動的。\n\n#### 僕人式領導\n- 傾聽\n- 同理心\n- 治療關係\n- 要意示到自已是領導者(你要帶領團隊到何方?)\n- 說服而非權威\n- 承諾他人成長\n- Big Picture --- 在日常與短期目標之中，抱持繪製遠景的能力\n- 管家 --- 抱持開放與服務他人\n- 先見之明 --- 經驗與直覺\n- 建立共同體\n\n(fin)","source":"_posts/2018/books/book_the_great_scurm_master_ch1.md","raw":"---\ntitle: \"[閱讀筆記]The Great Scrum Master 第一章\"\ndate: 2018/07/15 10:19:08\ntag:\n  - Scrum\n  - 閱讀筆記\n  - Agile\n---\n\n#ScrumMasterWay\n\n## 大綱\n- Scrum Master 的角色與責任\n    - 自組織\n    - Scrum Master 的目標\n    - Scrum Master Pattern\n        - Scrum Master 是團隊成員\n        - Scrum Master 是 Product Owner\n        - Scrum Master 是人事經理\n        - Scrum Master 兼任多支團隊\n    - Scrum Master 領導\n        - 僕人式領導\n\n## CH1 Scrum Master 的角色與責任\n- 不是團隊的祕書\n- 不是額外的開銷\n- 負責創造高績效團隊\n- Agile 與 Scrum 思想的專家(信徒)\n\n\n###### 質疑:\n```\n我一直認為盲信是相當危險的，這個世界與其說*沒有銀子彈*，\n不如說沒有狼人，或是說你面對的永遠不只是狼人，而是未知。\n現場看到太多的 Scrum But(我比較喜歡叫 Scrum Buffet 或敏捷自助餐)\n當人人都說「敏捷大法好」的時候，我分不清邪教大典/直銷與敏捷的差別了…\n還是鬼島就是神祕力量能將好東西質變成孬東西呢？\n```\n### 自組織\n**我們應該如何組織我們自已，達成目標?**\n- 決定誰作什麼\n- 協助對方\n- 學習新知\n- 劃分優先級\n\nScrum Master 要提醒個人，團隊是一個實體，比個人更重要\n\n### Scrum Master 的目標\n- Scrum Master 建立自組織的團隊\n- Scrum Master 教練與引導\n- Scrum Master 不負責交付\n- Scrum Master 負責排除障礙(而非斟茶遞水的祕書)\n- Scrum Master 鼓勵團隊承擔責任\n\n### Scrum Master Pattern\n\n#### Scrum Master 是團隊成員\n- con\n\t- 參與過多，缺乏系統觀點與系統思考的能力\n\t- 缺乏領導能力與變革管理的技能\n\t- sprint無法按時完成時，通常會不太願意改進團隊\n\t- 缺乏將進一步提昇團隊的能力\n- pro\n\t- 通常與團隊高度互相信任\n\t- 了解團隊的優缺點\n- result\n\t- Scrum Master 角色被邊緣化\n\t- Scrum Master 變成團隊助理或無事可作 \n\n#### Scrum Master 是 Product Owner\n- con\n\t- 角色本身會互相衝突\n\t- \n- pro\n\t- Product Owner 較容易被視作團隊的一份子\n- result\n\t- Scrum Master 角色會被忽略\n\t- Product Owner 控制所有事情\n\t- 團隊缺乏自組織\n\n#### Scrum Master 是人事經理\n- con\n\t- 團隊對 Scrum Master 缺乏信任\n\t- 往往變成下命令，教導而非輔導\t\n- pro\n\t- 優秀的領導者當 Scrum Master 可以加速過渡轉型期\n- result\n\t- 可以縮短轉型期\n\t- 團隊對缺乏自組織、自信與所有權\n\n#### Scrum Master 兼任多支團隊\n- con\n\t- Scrum Master 缺乏時間\n\t- 不同團隊同時發生問題時無法即時引導\n\t- 通常兼任超過三支團隊會缺乏足夠訊息\n- pro\n\t- Scrum Master 能快速學習\n\t- 較能了解不同團隊有不同文化\n\t\n- result\n\t- Scrum Master 能累積更多經驗\n\t- Scrum Master 在系統思考上表現較好\n\t- 更有可能將 Scrum 應用於整個組織\n\n###### 回饋\n```\n20180717 讀書會\nQ:Scrum Master 應該先成為觀察者的角色，\n再進一步作引導或指導，兼任多支團隊的情況下，\n可能會受限於環境，導致無法作第一線的觀察，而導致效果不佳。\nA:較成熟的團隊可以稍微放一下，多參與初心團隊，\n自組織的成熟團隊就不必要每件事。\nfeedback:\n1. 不成熟的 Scrum Mater 應該跟著成熟的 Scrum Master 共事。\n2. 不成熟的團隊應由成熟的 Scrum Mater 帶領。\n3. 成熟的團隊 Scrum Mater 的角色仍在，但是可以淡出。 \n```\n\n### Scrum Master 領導\n- Scrum Master要注重整個組織，非單一支 Scrum 團隊，\n- 關心長期目標與策略。\n- 領導者不是由時間表所趨動的。\n\n#### 僕人式領導\n- 傾聽\n- 同理心\n- 治療關係\n- 要意示到自已是領導者(你要帶領團隊到何方?)\n- 說服而非權威\n- 承諾他人成長\n- Big Picture --- 在日常與短期目標之中，抱持繪製遠景的能力\n- 管家 --- 抱持開放與服務他人\n- 先見之明 --- 經驗與直覺\n- 建立共同體\n\n(fin)","slug":"2018/books/book_the_great_scurm_master_ch1","published":1,"updated":"2019-06-10T14:43:28.902Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wpl006ab0vx0v3gt3m1","content":"<p>#ScrumMasterWay</p>\n<h2 id=\"大綱\"><a href=\"#大綱\" class=\"headerlink\" title=\"大綱\"></a>大綱</h2><ul>\n<li>Scrum Master 的角色與責任<ul>\n<li>自組織</li>\n<li>Scrum Master 的目標</li>\n<li>Scrum Master Pattern<ul>\n<li>Scrum Master 是團隊成員</li>\n<li>Scrum Master 是 Product Owner</li>\n<li>Scrum Master 是人事經理</li>\n<li>Scrum Master 兼任多支團隊</li>\n</ul>\n</li>\n<li>Scrum Master 領導<ul>\n<li>僕人式領導</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"CH1-Scrum-Master-的角色與責任\"><a href=\"#CH1-Scrum-Master-的角色與責任\" class=\"headerlink\" title=\"CH1 Scrum Master 的角色與責任\"></a>CH1 Scrum Master 的角色與責任</h2><ul>\n<li>不是團隊的祕書</li>\n<li>不是額外的開銷</li>\n<li>負責創造高績效團隊</li>\n<li>Agile 與 Scrum 思想的專家(信徒)</li>\n</ul>\n<h6 id=\"質疑\"><a href=\"#質疑\" class=\"headerlink\" title=\"質疑:\"></a>質疑:</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">我一直認為盲信是相當危險的，這個世界與其說*沒有銀子彈*，</span><br><span class=\"line\">不如說沒有狼人，或是說你面對的永遠不只是狼人，而是未知。</span><br><span class=\"line\">現場看到太多的 Scrum But(我比較喜歡叫 Scrum Buffet 或敏捷自助餐)</span><br><span class=\"line\">當人人都說「敏捷大法好」的時候，我分不清邪教大典/直銷與敏捷的差別了…</span><br><span class=\"line\">還是鬼島就是神祕力量能將好東西質變成孬東西呢？</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"自組織\"><a href=\"#自組織\" class=\"headerlink\" title=\"自組織\"></a>自組織</h3><p><strong>我們應該如何組織我們自已，達成目標?</strong></p>\n<ul>\n<li>決定誰作什麼</li>\n<li>協助對方</li>\n<li>學習新知</li>\n<li>劃分優先級</li>\n</ul>\n<p>Scrum Master 要提醒個人，團隊是一個實體，比個人更重要</p>\n<h3 id=\"Scrum-Master-的目標\"><a href=\"#Scrum-Master-的目標\" class=\"headerlink\" title=\"Scrum Master 的目標\"></a>Scrum Master 的目標</h3><ul>\n<li>Scrum Master 建立自組織的團隊</li>\n<li>Scrum Master 教練與引導</li>\n<li>Scrum Master 不負責交付</li>\n<li>Scrum Master 負責排除障礙(而非斟茶遞水的祕書)</li>\n<li>Scrum Master 鼓勵團隊承擔責任</li>\n</ul>\n<h3 id=\"Scrum-Master-Pattern\"><a href=\"#Scrum-Master-Pattern\" class=\"headerlink\" title=\"Scrum Master Pattern\"></a>Scrum Master Pattern</h3><h4 id=\"Scrum-Master-是團隊成員\"><a href=\"#Scrum-Master-是團隊成員\" class=\"headerlink\" title=\"Scrum Master 是團隊成員\"></a>Scrum Master 是團隊成員</h4><ul>\n<li>con<ul>\n<li>參與過多，缺乏系統觀點與系統思考的能力</li>\n<li>缺乏領導能力與變革管理的技能</li>\n<li>sprint無法按時完成時，通常會不太願意改進團隊</li>\n<li>缺乏將進一步提昇團隊的能力</li>\n</ul>\n</li>\n<li>pro<ul>\n<li>通常與團隊高度互相信任</li>\n<li>了解團隊的優缺點</li>\n</ul>\n</li>\n<li>result<ul>\n<li>Scrum Master 角色被邊緣化</li>\n<li>Scrum Master 變成團隊助理或無事可作 </li>\n</ul>\n</li>\n</ul>\n<h4 id=\"Scrum-Master-是-Product-Owner\"><a href=\"#Scrum-Master-是-Product-Owner\" class=\"headerlink\" title=\"Scrum Master 是 Product Owner\"></a>Scrum Master 是 Product Owner</h4><ul>\n<li>con<ul>\n<li>角色本身會互相衝突</li>\n<li></li>\n</ul>\n</li>\n<li>pro<ul>\n<li>Product Owner 較容易被視作團隊的一份子</li>\n</ul>\n</li>\n<li>result<ul>\n<li>Scrum Master 角色會被忽略</li>\n<li>Product Owner 控制所有事情</li>\n<li>團隊缺乏自組織</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"Scrum-Master-是人事經理\"><a href=\"#Scrum-Master-是人事經理\" class=\"headerlink\" title=\"Scrum Master 是人事經理\"></a>Scrum Master 是人事經理</h4><ul>\n<li>con<ul>\n<li>團隊對 Scrum Master 缺乏信任</li>\n<li>往往變成下命令，教導而非輔導    </li>\n</ul>\n</li>\n<li>pro<ul>\n<li>優秀的領導者當 Scrum Master 可以加速過渡轉型期</li>\n</ul>\n</li>\n<li>result<ul>\n<li>可以縮短轉型期</li>\n<li>團隊對缺乏自組織、自信與所有權</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"Scrum-Master-兼任多支團隊\"><a href=\"#Scrum-Master-兼任多支團隊\" class=\"headerlink\" title=\"Scrum Master 兼任多支團隊\"></a>Scrum Master 兼任多支團隊</h4><ul>\n<li><p>con</p>\n<ul>\n<li>Scrum Master 缺乏時間</li>\n<li>不同團隊同時發生問題時無法即時引導</li>\n<li>通常兼任超過三支團隊會缺乏足夠訊息</li>\n</ul>\n</li>\n<li><p>pro</p>\n<ul>\n<li>Scrum Master 能快速學習</li>\n<li>較能了解不同團隊有不同文化</li>\n</ul>\n</li>\n<li><p>result</p>\n<ul>\n<li>Scrum Master 能累積更多經驗</li>\n<li>Scrum Master 在系統思考上表現較好</li>\n<li>更有可能將 Scrum 應用於整個組織</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"回饋\"><a href=\"#回饋\" class=\"headerlink\" title=\"回饋\"></a>回饋</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">20180717 讀書會</span><br><span class=\"line\">Q:Scrum Master 應該先成為觀察者的角色，</span><br><span class=\"line\">再進一步作引導或指導，兼任多支團隊的情況下，</span><br><span class=\"line\">可能會受限於環境，導致無法作第一線的觀察，而導致效果不佳。</span><br><span class=\"line\">A:較成熟的團隊可以稍微放一下，多參與初心團隊，</span><br><span class=\"line\">自組織的成熟團隊就不必要每件事。</span><br><span class=\"line\">feedback:</span><br><span class=\"line\">1. 不成熟的 Scrum Mater 應該跟著成熟的 Scrum Master 共事。</span><br><span class=\"line\">2. 不成熟的團隊應由成熟的 Scrum Mater 帶領。</span><br><span class=\"line\">3. 成熟的團隊 Scrum Mater 的角色仍在，但是可以淡出。</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Scrum-Master-領導\"><a href=\"#Scrum-Master-領導\" class=\"headerlink\" title=\"Scrum Master 領導\"></a>Scrum Master 領導</h3><ul>\n<li>Scrum Master要注重整個組織，非單一支 Scrum 團隊，</li>\n<li>關心長期目標與策略。</li>\n<li>領導者不是由時間表所趨動的。</li>\n</ul>\n<h4 id=\"僕人式領導\"><a href=\"#僕人式領導\" class=\"headerlink\" title=\"僕人式領導\"></a>僕人式領導</h4><ul>\n<li>傾聽</li>\n<li>同理心</li>\n<li>治療關係</li>\n<li>要意示到自已是領導者(你要帶領團隊到何方?)</li>\n<li>說服而非權威</li>\n<li>承諾他人成長</li>\n<li>Big Picture — 在日常與短期目標之中，抱持繪製遠景的能力</li>\n<li>管家 — 抱持開放與服務他人</li>\n<li>先見之明 — 經驗與直覺</li>\n<li>建立共同體</li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<p>#ScrumMasterWay</p>\n<h2 id=\"大綱\"><a href=\"#大綱\" class=\"headerlink\" title=\"大綱\"></a>大綱</h2><ul>\n<li>Scrum Master 的角色與責任<ul>\n<li>自組織</li>\n<li>Scrum Master 的目標</li>\n<li>Scrum Master Pattern<ul>\n<li>Scrum Master 是團隊成員</li>\n<li>Scrum Master 是 Product Owner</li>\n<li>Scrum Master 是人事經理</li>\n<li>Scrum Master 兼任多支團隊</li>\n</ul>\n</li>\n<li>Scrum Master 領導<ul>\n<li>僕人式領導</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"CH1-Scrum-Master-的角色與責任\"><a href=\"#CH1-Scrum-Master-的角色與責任\" class=\"headerlink\" title=\"CH1 Scrum Master 的角色與責任\"></a>CH1 Scrum Master 的角色與責任</h2><ul>\n<li>不是團隊的祕書</li>\n<li>不是額外的開銷</li>\n<li>負責創造高績效團隊</li>\n<li>Agile 與 Scrum 思想的專家(信徒)</li>\n</ul>\n<h6 id=\"質疑\"><a href=\"#質疑\" class=\"headerlink\" title=\"質疑:\"></a>質疑:</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">我一直認為盲信是相當危險的，這個世界與其說*沒有銀子彈*，</span><br><span class=\"line\">不如說沒有狼人，或是說你面對的永遠不只是狼人，而是未知。</span><br><span class=\"line\">現場看到太多的 Scrum But(我比較喜歡叫 Scrum Buffet 或敏捷自助餐)</span><br><span class=\"line\">當人人都說「敏捷大法好」的時候，我分不清邪教大典/直銷與敏捷的差別了…</span><br><span class=\"line\">還是鬼島就是神祕力量能將好東西質變成孬東西呢？</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"自組織\"><a href=\"#自組織\" class=\"headerlink\" title=\"自組織\"></a>自組織</h3><p><strong>我們應該如何組織我們自已，達成目標?</strong></p>\n<ul>\n<li>決定誰作什麼</li>\n<li>協助對方</li>\n<li>學習新知</li>\n<li>劃分優先級</li>\n</ul>\n<p>Scrum Master 要提醒個人，團隊是一個實體，比個人更重要</p>\n<h3 id=\"Scrum-Master-的目標\"><a href=\"#Scrum-Master-的目標\" class=\"headerlink\" title=\"Scrum Master 的目標\"></a>Scrum Master 的目標</h3><ul>\n<li>Scrum Master 建立自組織的團隊</li>\n<li>Scrum Master 教練與引導</li>\n<li>Scrum Master 不負責交付</li>\n<li>Scrum Master 負責排除障礙(而非斟茶遞水的祕書)</li>\n<li>Scrum Master 鼓勵團隊承擔責任</li>\n</ul>\n<h3 id=\"Scrum-Master-Pattern\"><a href=\"#Scrum-Master-Pattern\" class=\"headerlink\" title=\"Scrum Master Pattern\"></a>Scrum Master Pattern</h3><h4 id=\"Scrum-Master-是團隊成員\"><a href=\"#Scrum-Master-是團隊成員\" class=\"headerlink\" title=\"Scrum Master 是團隊成員\"></a>Scrum Master 是團隊成員</h4><ul>\n<li>con<ul>\n<li>參與過多，缺乏系統觀點與系統思考的能力</li>\n<li>缺乏領導能力與變革管理的技能</li>\n<li>sprint無法按時完成時，通常會不太願意改進團隊</li>\n<li>缺乏將進一步提昇團隊的能力</li>\n</ul>\n</li>\n<li>pro<ul>\n<li>通常與團隊高度互相信任</li>\n<li>了解團隊的優缺點</li>\n</ul>\n</li>\n<li>result<ul>\n<li>Scrum Master 角色被邊緣化</li>\n<li>Scrum Master 變成團隊助理或無事可作 </li>\n</ul>\n</li>\n</ul>\n<h4 id=\"Scrum-Master-是-Product-Owner\"><a href=\"#Scrum-Master-是-Product-Owner\" class=\"headerlink\" title=\"Scrum Master 是 Product Owner\"></a>Scrum Master 是 Product Owner</h4><ul>\n<li>con<ul>\n<li>角色本身會互相衝突</li>\n<li></li>\n</ul>\n</li>\n<li>pro<ul>\n<li>Product Owner 較容易被視作團隊的一份子</li>\n</ul>\n</li>\n<li>result<ul>\n<li>Scrum Master 角色會被忽略</li>\n<li>Product Owner 控制所有事情</li>\n<li>團隊缺乏自組織</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"Scrum-Master-是人事經理\"><a href=\"#Scrum-Master-是人事經理\" class=\"headerlink\" title=\"Scrum Master 是人事經理\"></a>Scrum Master 是人事經理</h4><ul>\n<li>con<ul>\n<li>團隊對 Scrum Master 缺乏信任</li>\n<li>往往變成下命令，教導而非輔導    </li>\n</ul>\n</li>\n<li>pro<ul>\n<li>優秀的領導者當 Scrum Master 可以加速過渡轉型期</li>\n</ul>\n</li>\n<li>result<ul>\n<li>可以縮短轉型期</li>\n<li>團隊對缺乏自組織、自信與所有權</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"Scrum-Master-兼任多支團隊\"><a href=\"#Scrum-Master-兼任多支團隊\" class=\"headerlink\" title=\"Scrum Master 兼任多支團隊\"></a>Scrum Master 兼任多支團隊</h4><ul>\n<li><p>con</p>\n<ul>\n<li>Scrum Master 缺乏時間</li>\n<li>不同團隊同時發生問題時無法即時引導</li>\n<li>通常兼任超過三支團隊會缺乏足夠訊息</li>\n</ul>\n</li>\n<li><p>pro</p>\n<ul>\n<li>Scrum Master 能快速學習</li>\n<li>較能了解不同團隊有不同文化</li>\n</ul>\n</li>\n<li><p>result</p>\n<ul>\n<li>Scrum Master 能累積更多經驗</li>\n<li>Scrum Master 在系統思考上表現較好</li>\n<li>更有可能將 Scrum 應用於整個組織</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"回饋\"><a href=\"#回饋\" class=\"headerlink\" title=\"回饋\"></a>回饋</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">20180717 讀書會</span><br><span class=\"line\">Q:Scrum Master 應該先成為觀察者的角色，</span><br><span class=\"line\">再進一步作引導或指導，兼任多支團隊的情況下，</span><br><span class=\"line\">可能會受限於環境，導致無法作第一線的觀察，而導致效果不佳。</span><br><span class=\"line\">A:較成熟的團隊可以稍微放一下，多參與初心團隊，</span><br><span class=\"line\">自組織的成熟團隊就不必要每件事。</span><br><span class=\"line\">feedback:</span><br><span class=\"line\">1. 不成熟的 Scrum Mater 應該跟著成熟的 Scrum Master 共事。</span><br><span class=\"line\">2. 不成熟的團隊應由成熟的 Scrum Mater 帶領。</span><br><span class=\"line\">3. 成熟的團隊 Scrum Mater 的角色仍在，但是可以淡出。</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Scrum-Master-領導\"><a href=\"#Scrum-Master-領導\" class=\"headerlink\" title=\"Scrum Master 領導\"></a>Scrum Master 領導</h3><ul>\n<li>Scrum Master要注重整個組織，非單一支 Scrum 團隊，</li>\n<li>關心長期目標與策略。</li>\n<li>領導者不是由時間表所趨動的。</li>\n</ul>\n<h4 id=\"僕人式領導\"><a href=\"#僕人式領導\" class=\"headerlink\" title=\"僕人式領導\"></a>僕人式領導</h4><ul>\n<li>傾聽</li>\n<li>同理心</li>\n<li>治療關係</li>\n<li>要意示到自已是領導者(你要帶領團隊到何方?)</li>\n<li>說服而非權威</li>\n<li>承諾他人成長</li>\n<li>Big Picture — 在日常與短期目標之中，抱持繪製遠景的能力</li>\n<li>管家 — 抱持開放與服務他人</li>\n<li>先見之明 — 經驗與直覺</li>\n<li>建立共同體</li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[閱讀筆記]The Great Scrum Master 第三章","date":"2018-07-23T10:49:19.000Z","_content":"\n###### #ScrumMasterWay\n\n## 第一個層次 --- 我的團隊\nScrum Master 只對開發團隊負責，  \n**「如何讓自已每天都發揮作用?」**  \n建立具有敏捷思維與 Scurm 價值觀的自組織團隊是個長期活動。  \n第一步是觀察，並抑制親力親為的衝動(具體建議/親自排解障礙)，\n\n可能的問題在於，團隊缺乏理解、所有權、責任感與經驗;  \n或是團隊的抵制。  \n\n```\n回饋:\n沒有主管並不會讓團隊自組織！給團隊解決不能只靠再想想\nhttps://www.facebook.com/91agile/posts/986977734810178\n```\n### Scurm 的價值觀\n- 承諾、專注、開放、尊重、勇氣\n--- ScrumAlliance 《Scaling Lean & Agile Development》\n- 誠實、開放、勇氣、尊重、專注、信任、授權和合作\n---Kenneth S.Rubin《Essential Scrum》\n- 謙虛、尊重、信任\n--- 《Debugging Teams: Better Productivity through Collaboration》\n![](https://i.imgur.com/INV1pyF.png)\n\n\n\n## 第二個層次 --- 關係\n- Scurm Team\n\t- 建立連貫、自信的團隊\n\t- 將 PO 整合進入團隊 \n\t- 建立三個角色平衡的關係\n- 利害關係人\n\t- 客戶、用戶、經理、銷售人員、維運人員、客服、其它團隊\n\t- 將自組織用于參與的所有人員\n\n\t這需要 Scurm Master 對 Scurm 定義、理解與解釋的能力，  \n\t不只是會議/角色或產出物，而是從文化、價值觀與思維方式對 Scurm 的內化。  \n\t在這層次下，需要建立靈活的虛擬團隊擁有所有權，承擔某些責任，  \n\t有些團隊在解決問題後就可以淡出，有的要維持一段時間。  \n    \n```\n開發團隊與 Scrum 團隊不是組織中唯一的團隊 ?\n持續存在的團隊 ? 專案團隊 ? DevOps ? \n短暫存在的團隊 ? 救火團 ? 跨專案團隊 ? \n這些團隊的資源從何而來 ?\n持續存在又特殊的團隊? 維運?\n花很多時間釐清問題，卻沒有辦法解決問題?\n受限於什麼原因 ? \n技術不足 ? 沒有人領導 ? 沒有所有權 ? 風險導向 ? 不受重視 ?\n```\n\n## 第三個層次---整個系統\nScrum 是「一種生活方式」，成為生活哲學的一部份，改造整個系統(世界)。\n\n### 提示\n- 先觀察\n- 幫助團隊，讓團隊移除障礙\n- 引導不是讀一本書或上一次課\n- 教練法是提出問題的能力([你會問問題嗎?](http://www.books.com.tw/products/0010478689))\n- 不要停留在開發層次，融入工作生活之中\n\n```\n太高大上了，跟不上…\n問個問題，如果障礙是組織內的要員或大主管呢 ? \n\n```\n\n## Scrum Master 小組\n如果要讓組織敏捷，核心是一個強大的 Scrum Master 小組。  \n如果組織在「第一個層次 --- 我的團隊」中擁有一個強大的 Scrum Master 小組，  \n那麼 Scrum Master 只需要完善團隊就好了;  \n比起單獨創立完善一個 Scrum Team 或是依賴 Agile Couch，  \nScrum Master 小組是改變組織最好的起點。  \n\n### Scrum Master 小組的目標\n- 替其它人作好系統層次的準備\n- 關注整個系統\n- 建立虛擬組織讓人參與並擁有所有權\n\n### 挑戰\n- Scurm Master 否定 Scrum Master 小組的價值\n- 防衛心理:\n\t- 缺乏同理心，從別的團隊角度觀察事情\n\t- 缺乏系統觀點與思維\n\t- 缺乏管理變革經驗\n\n## 組織即系統\n將組織視為系統而非階層架構。\n- 系統思考，了解彼此的關系與動態\n- 觀注 impact mapping\n\n## Cynefin 框架\n- 簡單明確(Simple / Obvious)\t\n\t你只需要分類，選擇最佳解即可\n- 人為/物理複雜(Complicated)\n\t像是組裝模型，你需要先分析計劃，\n\t當事情變得**簡單明確**即可。\n\t沒有最佳解，只有最適合的選擇\n- 抽象/化學複雜(Complex)\n\t重複實驗評估，直到事情逐漸明確可以進行下一步，\n\t通常要大量的試錯才能有解答\n- 混亂(Chaotic)\n\t你只能依賴直覺，先逃離危險，分析情況後再決定下一步\n- 無序(Disorder / Confusion)\n\t如果你無法分辨情況，就是處理無序的狀態\n\t先搜集資訊，分析再前進\n![](https://upload.wikimedia.org/wikipedia/commons/f/f7/Cynefin_framework_by_Edwin_Stoop.jpg)\n\n## 練習\n1. Obvious : 多語抽換字串\n2. Complicated : 整個 sprint 範圍多個頁面抽換;\nRD彼此衝突 / Merge Before Build 造成的衝突與浪費\n3. Complex : 風險控管多種理由不準上線\n4. Chaotic : 上線後引發 SQL 問題當下是混亂的\n\n## 回饋\n\n```\n1.\n組織或團隊會抗拒改變;\n又或者組識本身的價值觀與 Scurm 有所抵觸。\n以這個層面來說 Scurm Master 能作得很有限，\n所以又有 Agile Coach 的產生 ? → 說穿了就是顧問 ?\n第一現場的工作者給的問題，如果不虛心接受\n以現場角度思考，全盤歸疚於心態問題，是在逃避問題\n抱著過往成功不放，不願具體改變或聆聽異議，  \n由上而下獨幹而非由下而上改變，喊喊口號「速度感起來了!」  \n敏捷淪為口號，實踐就成了宗教儀式。\n不論是 Scurm Master 或是 Agile Coach 都是觀察者/顧問的角色，\n```\n```\n轉型的路上我質疑一切\n質疑主管、質疑公司、質疑理論、質疑作法; \n甚至質疑我自已，然後我的心態還不能崩了，\n真是有病…\n要正心，保持陽光。\n```\n\n\n```\nUnit Tests Team ?\n為什麼有這樣的想法 ? 單元測試很重要，卻沒有人寫。\n原因1. 沒有時間\n原因2. 流程內未包含寫單元測試與執行單元測試，\nScurm 的 User Story 或 Task 也不會包含，驗收條件也不包含 Unit Tests。\n原因3. 責任規屬不明? QA Team 專心作測試，RD Team 專心作開發\n沒有一個團隊專門來處理單元測試\n原因4. 導入失敗 \n\t- 跨領域 BeckEnd、F2E、IOS、Android 缺乏足夠知識\n\t- 跨專案開發資源就不夠了，怎麼寫測試 ?\n\t- 遺留代碼難以開發，技術水平不夠，缺乏領頭羊。\n\t- 讀書會成為逆向宣傳。\n\t- 沒有人專職導入，導入船過水無痕。 \n```\n\n![](https://i.imgur.com/151g6vV.jpg)\n\n## 參考\n\n- [Scurm的價值觀](https://ruddyblog.wordpress.com/tag/scrum價值觀/)\n- [Scrum價值觀問題溯源](https://www.jianshu.com/p/1293bfe84446)\n- [Cynefin 框架](https://en.wikipedia.org/wiki/Cynefin_framework)\n- [決策於渾沌之中](https://www.hbrtaiwan.com/article_content_AR0000595.html)\n- [Stacey Matrix and Cynefin framework](https://www.jianshu.com/p/a17aaadb4d80)","source":"_posts/2018/books/book_the_great_scurm_master_ch3.md","raw":"---\ntitle: \"[閱讀筆記]The Great Scrum Master 第三章\"\ndate: 2018/07/23 18:49:19\ntag:\n  - Scrum\n  - 閱讀筆記\n  - Agile\n---\n\n###### #ScrumMasterWay\n\n## 第一個層次 --- 我的團隊\nScrum Master 只對開發團隊負責，  \n**「如何讓自已每天都發揮作用?」**  \n建立具有敏捷思維與 Scurm 價值觀的自組織團隊是個長期活動。  \n第一步是觀察，並抑制親力親為的衝動(具體建議/親自排解障礙)，\n\n可能的問題在於，團隊缺乏理解、所有權、責任感與經驗;  \n或是團隊的抵制。  \n\n```\n回饋:\n沒有主管並不會讓團隊自組織！給團隊解決不能只靠再想想\nhttps://www.facebook.com/91agile/posts/986977734810178\n```\n### Scurm 的價值觀\n- 承諾、專注、開放、尊重、勇氣\n--- ScrumAlliance 《Scaling Lean & Agile Development》\n- 誠實、開放、勇氣、尊重、專注、信任、授權和合作\n---Kenneth S.Rubin《Essential Scrum》\n- 謙虛、尊重、信任\n--- 《Debugging Teams: Better Productivity through Collaboration》\n![](https://i.imgur.com/INV1pyF.png)\n\n\n\n## 第二個層次 --- 關係\n- Scurm Team\n\t- 建立連貫、自信的團隊\n\t- 將 PO 整合進入團隊 \n\t- 建立三個角色平衡的關係\n- 利害關係人\n\t- 客戶、用戶、經理、銷售人員、維運人員、客服、其它團隊\n\t- 將自組織用于參與的所有人員\n\n\t這需要 Scurm Master 對 Scurm 定義、理解與解釋的能力，  \n\t不只是會議/角色或產出物，而是從文化、價值觀與思維方式對 Scurm 的內化。  \n\t在這層次下，需要建立靈活的虛擬團隊擁有所有權，承擔某些責任，  \n\t有些團隊在解決問題後就可以淡出，有的要維持一段時間。  \n    \n```\n開發團隊與 Scrum 團隊不是組織中唯一的團隊 ?\n持續存在的團隊 ? 專案團隊 ? DevOps ? \n短暫存在的團隊 ? 救火團 ? 跨專案團隊 ? \n這些團隊的資源從何而來 ?\n持續存在又特殊的團隊? 維運?\n花很多時間釐清問題，卻沒有辦法解決問題?\n受限於什麼原因 ? \n技術不足 ? 沒有人領導 ? 沒有所有權 ? 風險導向 ? 不受重視 ?\n```\n\n## 第三個層次---整個系統\nScrum 是「一種生活方式」，成為生活哲學的一部份，改造整個系統(世界)。\n\n### 提示\n- 先觀察\n- 幫助團隊，讓團隊移除障礙\n- 引導不是讀一本書或上一次課\n- 教練法是提出問題的能力([你會問問題嗎?](http://www.books.com.tw/products/0010478689))\n- 不要停留在開發層次，融入工作生活之中\n\n```\n太高大上了，跟不上…\n問個問題，如果障礙是組織內的要員或大主管呢 ? \n\n```\n\n## Scrum Master 小組\n如果要讓組織敏捷，核心是一個強大的 Scrum Master 小組。  \n如果組織在「第一個層次 --- 我的團隊」中擁有一個強大的 Scrum Master 小組，  \n那麼 Scrum Master 只需要完善團隊就好了;  \n比起單獨創立完善一個 Scrum Team 或是依賴 Agile Couch，  \nScrum Master 小組是改變組織最好的起點。  \n\n### Scrum Master 小組的目標\n- 替其它人作好系統層次的準備\n- 關注整個系統\n- 建立虛擬組織讓人參與並擁有所有權\n\n### 挑戰\n- Scurm Master 否定 Scrum Master 小組的價值\n- 防衛心理:\n\t- 缺乏同理心，從別的團隊角度觀察事情\n\t- 缺乏系統觀點與思維\n\t- 缺乏管理變革經驗\n\n## 組織即系統\n將組織視為系統而非階層架構。\n- 系統思考，了解彼此的關系與動態\n- 觀注 impact mapping\n\n## Cynefin 框架\n- 簡單明確(Simple / Obvious)\t\n\t你只需要分類，選擇最佳解即可\n- 人為/物理複雜(Complicated)\n\t像是組裝模型，你需要先分析計劃，\n\t當事情變得**簡單明確**即可。\n\t沒有最佳解，只有最適合的選擇\n- 抽象/化學複雜(Complex)\n\t重複實驗評估，直到事情逐漸明確可以進行下一步，\n\t通常要大量的試錯才能有解答\n- 混亂(Chaotic)\n\t你只能依賴直覺，先逃離危險，分析情況後再決定下一步\n- 無序(Disorder / Confusion)\n\t如果你無法分辨情況，就是處理無序的狀態\n\t先搜集資訊，分析再前進\n![](https://upload.wikimedia.org/wikipedia/commons/f/f7/Cynefin_framework_by_Edwin_Stoop.jpg)\n\n## 練習\n1. Obvious : 多語抽換字串\n2. Complicated : 整個 sprint 範圍多個頁面抽換;\nRD彼此衝突 / Merge Before Build 造成的衝突與浪費\n3. Complex : 風險控管多種理由不準上線\n4. Chaotic : 上線後引發 SQL 問題當下是混亂的\n\n## 回饋\n\n```\n1.\n組織或團隊會抗拒改變;\n又或者組識本身的價值觀與 Scurm 有所抵觸。\n以這個層面來說 Scurm Master 能作得很有限，\n所以又有 Agile Coach 的產生 ? → 說穿了就是顧問 ?\n第一現場的工作者給的問題，如果不虛心接受\n以現場角度思考，全盤歸疚於心態問題，是在逃避問題\n抱著過往成功不放，不願具體改變或聆聽異議，  \n由上而下獨幹而非由下而上改變，喊喊口號「速度感起來了!」  \n敏捷淪為口號，實踐就成了宗教儀式。\n不論是 Scurm Master 或是 Agile Coach 都是觀察者/顧問的角色，\n```\n```\n轉型的路上我質疑一切\n質疑主管、質疑公司、質疑理論、質疑作法; \n甚至質疑我自已，然後我的心態還不能崩了，\n真是有病…\n要正心，保持陽光。\n```\n\n\n```\nUnit Tests Team ?\n為什麼有這樣的想法 ? 單元測試很重要，卻沒有人寫。\n原因1. 沒有時間\n原因2. 流程內未包含寫單元測試與執行單元測試，\nScurm 的 User Story 或 Task 也不會包含，驗收條件也不包含 Unit Tests。\n原因3. 責任規屬不明? QA Team 專心作測試，RD Team 專心作開發\n沒有一個團隊專門來處理單元測試\n原因4. 導入失敗 \n\t- 跨領域 BeckEnd、F2E、IOS、Android 缺乏足夠知識\n\t- 跨專案開發資源就不夠了，怎麼寫測試 ?\n\t- 遺留代碼難以開發，技術水平不夠，缺乏領頭羊。\n\t- 讀書會成為逆向宣傳。\n\t- 沒有人專職導入，導入船過水無痕。 \n```\n\n![](https://i.imgur.com/151g6vV.jpg)\n\n## 參考\n\n- [Scurm的價值觀](https://ruddyblog.wordpress.com/tag/scrum價值觀/)\n- [Scrum價值觀問題溯源](https://www.jianshu.com/p/1293bfe84446)\n- [Cynefin 框架](https://en.wikipedia.org/wiki/Cynefin_framework)\n- [決策於渾沌之中](https://www.hbrtaiwan.com/article_content_AR0000595.html)\n- [Stacey Matrix and Cynefin framework](https://www.jianshu.com/p/a17aaadb4d80)","slug":"2018/books/book_the_great_scurm_master_ch3","published":1,"updated":"2019-06-10T14:43:28.904Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wpn006cb0vx3o2j4bzi","content":"<h6 id=\"ScrumMasterWay\"><a href=\"#ScrumMasterWay\" class=\"headerlink\" title=\"#ScrumMasterWay\"></a>#ScrumMasterWay</h6><h2 id=\"第一個層次-—-我的團隊\"><a href=\"#第一個層次-—-我的團隊\" class=\"headerlink\" title=\"第一個層次 — 我的團隊\"></a>第一個層次 — 我的團隊</h2><p>Scrum Master 只對開發團隊負責，<br><strong>「如何讓自已每天都發揮作用?」</strong><br>建立具有敏捷思維與 Scurm 價值觀的自組織團隊是個長期活動。<br>第一步是觀察，並抑制親力親為的衝動(具體建議/親自排解障礙)，</p>\n<p>可能的問題在於，團隊缺乏理解、所有權、責任感與經驗;<br>或是團隊的抵制。  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">回饋:</span><br><span class=\"line\">沒有主管並不會讓團隊自組織！給團隊解決不能只靠再想想</span><br><span class=\"line\">https://www.facebook.com/91agile/posts/986977734810178</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Scurm-的價值觀\"><a href=\"#Scurm-的價值觀\" class=\"headerlink\" title=\"Scurm 的價值觀\"></a>Scurm 的價值觀</h3><ul>\n<li>承諾、專注、開放、尊重、勇氣</li>\n<li>– ScrumAlliance 《Scaling Lean &amp; Agile Development》</li>\n<li>誠實、開放、勇氣、尊重、專注、信任、授權和合作</li>\n<li>–Kenneth S.Rubin《Essential Scrum》</li>\n<li>謙虛、尊重、信任</li>\n<li>– 《Debugging Teams: Better Productivity through Collaboration》<br><img src=\"https://i.imgur.com/INV1pyF.png\" alt></li>\n</ul>\n<h2 id=\"第二個層次-—-關係\"><a href=\"#第二個層次-—-關係\" class=\"headerlink\" title=\"第二個層次 — 關係\"></a>第二個層次 — 關係</h2><ul>\n<li><p>Scurm Team</p>\n<ul>\n<li>建立連貫、自信的團隊</li>\n<li>將 PO 整合進入團隊 </li>\n<li>建立三個角色平衡的關係</li>\n</ul>\n</li>\n<li><p>利害關係人</p>\n<ul>\n<li><p>客戶、用戶、經理、銷售人員、維運人員、客服、其它團隊</p>\n</li>\n<li><p>將自組織用于參與的所有人員</p>\n<p>這需要 Scurm Master 對 Scurm 定義、理解與解釋的能力，<br>不只是會議/角色或產出物，而是從文化、價值觀與思維方式對 Scurm 的內化。<br>在這層次下，需要建立靈活的虛擬團隊擁有所有權，承擔某些責任，<br>有些團隊在解決問題後就可以淡出，有的要維持一段時間。  </p>\n</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">開發團隊與 Scrum 團隊不是組織中唯一的團隊 ?</span><br><span class=\"line\">持續存在的團隊 ? 專案團隊 ? DevOps ? </span><br><span class=\"line\">短暫存在的團隊 ? 救火團 ? 跨專案團隊 ? </span><br><span class=\"line\">這些團隊的資源從何而來 ?</span><br><span class=\"line\">持續存在又特殊的團隊? 維運?</span><br><span class=\"line\">花很多時間釐清問題，卻沒有辦法解決問題?</span><br><span class=\"line\">受限於什麼原因 ? </span><br><span class=\"line\">技術不足 ? 沒有人領導 ? 沒有所有權 ? 風險導向 ? 不受重視 ?</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"第三個層次—整個系統\"><a href=\"#第三個層次—整個系統\" class=\"headerlink\" title=\"第三個層次—整個系統\"></a>第三個層次—整個系統</h2><p>Scrum 是「一種生活方式」，成為生活哲學的一部份，改造整個系統(世界)。</p>\n<h3 id=\"提示\"><a href=\"#提示\" class=\"headerlink\" title=\"提示\"></a>提示</h3><ul>\n<li>先觀察</li>\n<li>幫助團隊，讓團隊移除障礙</li>\n<li>引導不是讀一本書或上一次課</li>\n<li>教練法是提出問題的能力(<a href=\"http://www.books.com.tw/products/0010478689\" target=\"_blank\" rel=\"noopener\">你會問問題嗎?</a>)</li>\n<li>不要停留在開發層次，融入工作生活之中</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">太高大上了，跟不上…</span><br><span class=\"line\">問個問題，如果障礙是組織內的要員或大主管呢 ?</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Scrum-Master-小組\"><a href=\"#Scrum-Master-小組\" class=\"headerlink\" title=\"Scrum Master 小組\"></a>Scrum Master 小組</h2><p>如果要讓組織敏捷，核心是一個強大的 Scrum Master 小組。<br>如果組織在「第一個層次 — 我的團隊」中擁有一個強大的 Scrum Master 小組，<br>那麼 Scrum Master 只需要完善團隊就好了;<br>比起單獨創立完善一個 Scrum Team 或是依賴 Agile Couch，<br>Scrum Master 小組是改變組織最好的起點。  </p>\n<h3 id=\"Scrum-Master-小組的目標\"><a href=\"#Scrum-Master-小組的目標\" class=\"headerlink\" title=\"Scrum Master 小組的目標\"></a>Scrum Master 小組的目標</h3><ul>\n<li>替其它人作好系統層次的準備</li>\n<li>關注整個系統</li>\n<li>建立虛擬組織讓人參與並擁有所有權</li>\n</ul>\n<h3 id=\"挑戰\"><a href=\"#挑戰\" class=\"headerlink\" title=\"挑戰\"></a>挑戰</h3><ul>\n<li>Scurm Master 否定 Scrum Master 小組的價值</li>\n<li>防衛心理:<ul>\n<li>缺乏同理心，從別的團隊角度觀察事情</li>\n<li>缺乏系統觀點與思維</li>\n<li>缺乏管理變革經驗</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"組織即系統\"><a href=\"#組織即系統\" class=\"headerlink\" title=\"組織即系統\"></a>組織即系統</h2><p>將組織視為系統而非階層架構。</p>\n<ul>\n<li>系統思考，了解彼此的關系與動態</li>\n<li>觀注 impact mapping</li>\n</ul>\n<h2 id=\"Cynefin-框架\"><a href=\"#Cynefin-框架\" class=\"headerlink\" title=\"Cynefin 框架\"></a>Cynefin 框架</h2><ul>\n<li>簡單明確(Simple / Obvious)<br>  你只需要分類，選擇最佳解即可</li>\n<li>人為/物理複雜(Complicated)<br>  像是組裝模型，你需要先分析計劃，<br>  當事情變得<strong>簡單明確</strong>即可。<br>  沒有最佳解，只有最適合的選擇</li>\n<li>抽象/化學複雜(Complex)<br>  重複實驗評估，直到事情逐漸明確可以進行下一步，<br>  通常要大量的試錯才能有解答</li>\n<li>混亂(Chaotic)<br>  你只能依賴直覺，先逃離危險，分析情況後再決定下一步</li>\n<li>無序(Disorder / Confusion)<br>  如果你無法分辨情況，就是處理無序的狀態<br>  先搜集資訊，分析再前進<br><img src=\"https://upload.wikimedia.org/wikipedia/commons/f/f7/Cynefin_framework_by_Edwin_Stoop.jpg\" alt></li>\n</ul>\n<h2 id=\"練習\"><a href=\"#練習\" class=\"headerlink\" title=\"練習\"></a>練習</h2><ol>\n<li>Obvious : 多語抽換字串</li>\n<li>Complicated : 整個 sprint 範圍多個頁面抽換;<br>RD彼此衝突 / Merge Before Build 造成的衝突與浪費</li>\n<li>Complex : 風險控管多種理由不準上線</li>\n<li>Chaotic : 上線後引發 SQL 問題當下是混亂的</li>\n</ol>\n<h2 id=\"回饋\"><a href=\"#回饋\" class=\"headerlink\" title=\"回饋\"></a>回饋</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.</span><br><span class=\"line\">組織或團隊會抗拒改變;</span><br><span class=\"line\">又或者組識本身的價值觀與 Scurm 有所抵觸。</span><br><span class=\"line\">以這個層面來說 Scurm Master 能作得很有限，</span><br><span class=\"line\">所以又有 Agile Coach 的產生 ? → 說穿了就是顧問 ?</span><br><span class=\"line\">第一現場的工作者給的問題，如果不虛心接受</span><br><span class=\"line\">以現場角度思考，全盤歸疚於心態問題，是在逃避問題</span><br><span class=\"line\">抱著過往成功不放，不願具體改變或聆聽異議，  </span><br><span class=\"line\">由上而下獨幹而非由下而上改變，喊喊口號「速度感起來了!」  </span><br><span class=\"line\">敏捷淪為口號，實踐就成了宗教儀式。</span><br><span class=\"line\">不論是 Scurm Master 或是 Agile Coach 都是觀察者/顧問的角色，</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">轉型的路上我質疑一切</span><br><span class=\"line\">質疑主管、質疑公司、質疑理論、質疑作法; </span><br><span class=\"line\">甚至質疑我自已，然後我的心態還不能崩了，</span><br><span class=\"line\">真是有病…</span><br><span class=\"line\">要正心，保持陽光。</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Unit Tests Team ?</span><br><span class=\"line\">為什麼有這樣的想法 ? 單元測試很重要，卻沒有人寫。</span><br><span class=\"line\">原因1. 沒有時間</span><br><span class=\"line\">原因2. 流程內未包含寫單元測試與執行單元測試，</span><br><span class=\"line\">Scurm 的 User Story 或 Task 也不會包含，驗收條件也不包含 Unit Tests。</span><br><span class=\"line\">原因3. 責任規屬不明? QA Team 專心作測試，RD Team 專心作開發</span><br><span class=\"line\">沒有一個團隊專門來處理單元測試</span><br><span class=\"line\">原因4. 導入失敗 </span><br><span class=\"line\">\t- 跨領域 BeckEnd、F2E、IOS、Android 缺乏足夠知識</span><br><span class=\"line\">\t- 跨專案開發資源就不夠了，怎麼寫測試 ?</span><br><span class=\"line\">\t- 遺留代碼難以開發，技術水平不夠，缺乏領頭羊。</span><br><span class=\"line\">\t- 讀書會成為逆向宣傳。</span><br><span class=\"line\">\t- 沒有人專職導入，導入船過水無痕。</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://i.imgur.com/151g6vV.jpg\" alt></p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://ruddyblog.wordpress.com/tag/scrum價值觀/\" target=\"_blank\" rel=\"noopener\">Scurm的價值觀</a></li>\n<li><a href=\"https://www.jianshu.com/p/1293bfe84446\" target=\"_blank\" rel=\"noopener\">Scrum價值觀問題溯源</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Cynefin_framework\" target=\"_blank\" rel=\"noopener\">Cynefin 框架</a></li>\n<li><a href=\"https://www.hbrtaiwan.com/article_content_AR0000595.html\" target=\"_blank\" rel=\"noopener\">決策於渾沌之中</a></li>\n<li><a href=\"https://www.jianshu.com/p/a17aaadb4d80\" target=\"_blank\" rel=\"noopener\">Stacey Matrix and Cynefin framework</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h6 id=\"ScrumMasterWay\"><a href=\"#ScrumMasterWay\" class=\"headerlink\" title=\"#ScrumMasterWay\"></a>#ScrumMasterWay</h6><h2 id=\"第一個層次-—-我的團隊\"><a href=\"#第一個層次-—-我的團隊\" class=\"headerlink\" title=\"第一個層次 — 我的團隊\"></a>第一個層次 — 我的團隊</h2><p>Scrum Master 只對開發團隊負責，<br><strong>「如何讓自已每天都發揮作用?」</strong><br>建立具有敏捷思維與 Scurm 價值觀的自組織團隊是個長期活動。<br>第一步是觀察，並抑制親力親為的衝動(具體建議/親自排解障礙)，</p>\n<p>可能的問題在於，團隊缺乏理解、所有權、責任感與經驗;<br>或是團隊的抵制。  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">回饋:</span><br><span class=\"line\">沒有主管並不會讓團隊自組織！給團隊解決不能只靠再想想</span><br><span class=\"line\">https://www.facebook.com/91agile/posts/986977734810178</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Scurm-的價值觀\"><a href=\"#Scurm-的價值觀\" class=\"headerlink\" title=\"Scurm 的價值觀\"></a>Scurm 的價值觀</h3><ul>\n<li>承諾、專注、開放、尊重、勇氣</li>\n<li>– ScrumAlliance 《Scaling Lean &amp; Agile Development》</li>\n<li>誠實、開放、勇氣、尊重、專注、信任、授權和合作</li>\n<li>–Kenneth S.Rubin《Essential Scrum》</li>\n<li>謙虛、尊重、信任</li>\n<li>– 《Debugging Teams: Better Productivity through Collaboration》<br><img src=\"https://i.imgur.com/INV1pyF.png\" alt></li>\n</ul>\n<h2 id=\"第二個層次-—-關係\"><a href=\"#第二個層次-—-關係\" class=\"headerlink\" title=\"第二個層次 — 關係\"></a>第二個層次 — 關係</h2><ul>\n<li><p>Scurm Team</p>\n<ul>\n<li>建立連貫、自信的團隊</li>\n<li>將 PO 整合進入團隊 </li>\n<li>建立三個角色平衡的關係</li>\n</ul>\n</li>\n<li><p>利害關係人</p>\n<ul>\n<li><p>客戶、用戶、經理、銷售人員、維運人員、客服、其它團隊</p>\n</li>\n<li><p>將自組織用于參與的所有人員</p>\n<p>這需要 Scurm Master 對 Scurm 定義、理解與解釋的能力，<br>不只是會議/角色或產出物，而是從文化、價值觀與思維方式對 Scurm 的內化。<br>在這層次下，需要建立靈活的虛擬團隊擁有所有權，承擔某些責任，<br>有些團隊在解決問題後就可以淡出，有的要維持一段時間。  </p>\n</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">開發團隊與 Scrum 團隊不是組織中唯一的團隊 ?</span><br><span class=\"line\">持續存在的團隊 ? 專案團隊 ? DevOps ? </span><br><span class=\"line\">短暫存在的團隊 ? 救火團 ? 跨專案團隊 ? </span><br><span class=\"line\">這些團隊的資源從何而來 ?</span><br><span class=\"line\">持續存在又特殊的團隊? 維運?</span><br><span class=\"line\">花很多時間釐清問題，卻沒有辦法解決問題?</span><br><span class=\"line\">受限於什麼原因 ? </span><br><span class=\"line\">技術不足 ? 沒有人領導 ? 沒有所有權 ? 風險導向 ? 不受重視 ?</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"第三個層次—整個系統\"><a href=\"#第三個層次—整個系統\" class=\"headerlink\" title=\"第三個層次—整個系統\"></a>第三個層次—整個系統</h2><p>Scrum 是「一種生活方式」，成為生活哲學的一部份，改造整個系統(世界)。</p>\n<h3 id=\"提示\"><a href=\"#提示\" class=\"headerlink\" title=\"提示\"></a>提示</h3><ul>\n<li>先觀察</li>\n<li>幫助團隊，讓團隊移除障礙</li>\n<li>引導不是讀一本書或上一次課</li>\n<li>教練法是提出問題的能力(<a href=\"http://www.books.com.tw/products/0010478689\" target=\"_blank\" rel=\"noopener\">你會問問題嗎?</a>)</li>\n<li>不要停留在開發層次，融入工作生活之中</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">太高大上了，跟不上…</span><br><span class=\"line\">問個問題，如果障礙是組織內的要員或大主管呢 ?</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Scrum-Master-小組\"><a href=\"#Scrum-Master-小組\" class=\"headerlink\" title=\"Scrum Master 小組\"></a>Scrum Master 小組</h2><p>如果要讓組織敏捷，核心是一個強大的 Scrum Master 小組。<br>如果組織在「第一個層次 — 我的團隊」中擁有一個強大的 Scrum Master 小組，<br>那麼 Scrum Master 只需要完善團隊就好了;<br>比起單獨創立完善一個 Scrum Team 或是依賴 Agile Couch，<br>Scrum Master 小組是改變組織最好的起點。  </p>\n<h3 id=\"Scrum-Master-小組的目標\"><a href=\"#Scrum-Master-小組的目標\" class=\"headerlink\" title=\"Scrum Master 小組的目標\"></a>Scrum Master 小組的目標</h3><ul>\n<li>替其它人作好系統層次的準備</li>\n<li>關注整個系統</li>\n<li>建立虛擬組織讓人參與並擁有所有權</li>\n</ul>\n<h3 id=\"挑戰\"><a href=\"#挑戰\" class=\"headerlink\" title=\"挑戰\"></a>挑戰</h3><ul>\n<li>Scurm Master 否定 Scrum Master 小組的價值</li>\n<li>防衛心理:<ul>\n<li>缺乏同理心，從別的團隊角度觀察事情</li>\n<li>缺乏系統觀點與思維</li>\n<li>缺乏管理變革經驗</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"組織即系統\"><a href=\"#組織即系統\" class=\"headerlink\" title=\"組織即系統\"></a>組織即系統</h2><p>將組織視為系統而非階層架構。</p>\n<ul>\n<li>系統思考，了解彼此的關系與動態</li>\n<li>觀注 impact mapping</li>\n</ul>\n<h2 id=\"Cynefin-框架\"><a href=\"#Cynefin-框架\" class=\"headerlink\" title=\"Cynefin 框架\"></a>Cynefin 框架</h2><ul>\n<li>簡單明確(Simple / Obvious)<br>  你只需要分類，選擇最佳解即可</li>\n<li>人為/物理複雜(Complicated)<br>  像是組裝模型，你需要先分析計劃，<br>  當事情變得<strong>簡單明確</strong>即可。<br>  沒有最佳解，只有最適合的選擇</li>\n<li>抽象/化學複雜(Complex)<br>  重複實驗評估，直到事情逐漸明確可以進行下一步，<br>  通常要大量的試錯才能有解答</li>\n<li>混亂(Chaotic)<br>  你只能依賴直覺，先逃離危險，分析情況後再決定下一步</li>\n<li>無序(Disorder / Confusion)<br>  如果你無法分辨情況，就是處理無序的狀態<br>  先搜集資訊，分析再前進<br><img src=\"https://upload.wikimedia.org/wikipedia/commons/f/f7/Cynefin_framework_by_Edwin_Stoop.jpg\" alt></li>\n</ul>\n<h2 id=\"練習\"><a href=\"#練習\" class=\"headerlink\" title=\"練習\"></a>練習</h2><ol>\n<li>Obvious : 多語抽換字串</li>\n<li>Complicated : 整個 sprint 範圍多個頁面抽換;<br>RD彼此衝突 / Merge Before Build 造成的衝突與浪費</li>\n<li>Complex : 風險控管多種理由不準上線</li>\n<li>Chaotic : 上線後引發 SQL 問題當下是混亂的</li>\n</ol>\n<h2 id=\"回饋\"><a href=\"#回饋\" class=\"headerlink\" title=\"回饋\"></a>回饋</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.</span><br><span class=\"line\">組織或團隊會抗拒改變;</span><br><span class=\"line\">又或者組識本身的價值觀與 Scurm 有所抵觸。</span><br><span class=\"line\">以這個層面來說 Scurm Master 能作得很有限，</span><br><span class=\"line\">所以又有 Agile Coach 的產生 ? → 說穿了就是顧問 ?</span><br><span class=\"line\">第一現場的工作者給的問題，如果不虛心接受</span><br><span class=\"line\">以現場角度思考，全盤歸疚於心態問題，是在逃避問題</span><br><span class=\"line\">抱著過往成功不放，不願具體改變或聆聽異議，  </span><br><span class=\"line\">由上而下獨幹而非由下而上改變，喊喊口號「速度感起來了!」  </span><br><span class=\"line\">敏捷淪為口號，實踐就成了宗教儀式。</span><br><span class=\"line\">不論是 Scurm Master 或是 Agile Coach 都是觀察者/顧問的角色，</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">轉型的路上我質疑一切</span><br><span class=\"line\">質疑主管、質疑公司、質疑理論、質疑作法; </span><br><span class=\"line\">甚至質疑我自已，然後我的心態還不能崩了，</span><br><span class=\"line\">真是有病…</span><br><span class=\"line\">要正心，保持陽光。</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Unit Tests Team ?</span><br><span class=\"line\">為什麼有這樣的想法 ? 單元測試很重要，卻沒有人寫。</span><br><span class=\"line\">原因1. 沒有時間</span><br><span class=\"line\">原因2. 流程內未包含寫單元測試與執行單元測試，</span><br><span class=\"line\">Scurm 的 User Story 或 Task 也不會包含，驗收條件也不包含 Unit Tests。</span><br><span class=\"line\">原因3. 責任規屬不明? QA Team 專心作測試，RD Team 專心作開發</span><br><span class=\"line\">沒有一個團隊專門來處理單元測試</span><br><span class=\"line\">原因4. 導入失敗 </span><br><span class=\"line\">\t- 跨領域 BeckEnd、F2E、IOS、Android 缺乏足夠知識</span><br><span class=\"line\">\t- 跨專案開發資源就不夠了，怎麼寫測試 ?</span><br><span class=\"line\">\t- 遺留代碼難以開發，技術水平不夠，缺乏領頭羊。</span><br><span class=\"line\">\t- 讀書會成為逆向宣傳。</span><br><span class=\"line\">\t- 沒有人專職導入，導入船過水無痕。</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://i.imgur.com/151g6vV.jpg\" alt></p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://ruddyblog.wordpress.com/tag/scrum價值觀/\" target=\"_blank\" rel=\"noopener\">Scurm的價值觀</a></li>\n<li><a href=\"https://www.jianshu.com/p/1293bfe84446\" target=\"_blank\" rel=\"noopener\">Scrum價值觀問題溯源</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Cynefin_framework\" target=\"_blank\" rel=\"noopener\">Cynefin 框架</a></li>\n<li><a href=\"https://www.hbrtaiwan.com/article_content_AR0000595.html\" target=\"_blank\" rel=\"noopener\">決策於渾沌之中</a></li>\n<li><a href=\"https://www.jianshu.com/p/a17aaadb4d80\" target=\"_blank\" rel=\"noopener\">Stacey Matrix and Cynefin framework</a></li>\n</ul>\n"},{"title":"[學習筆記]允許 IAM User 存取 AWS Billing Console","date":"2018-04-04T09:08:44.000Z","_content":"\n## 前情提要\n設定了 IAM User Account 也給予了 Administrator 的權限,  \n不過仍然看不到 Billing 的頁面資訊 .  \n\n![](https://i.imgur.com/1Ge6pGi.jpg)\n\n這帶來了很大的不方便, 因為如果要看 Billing 的資訊就要切換到 Root Account  \n而建立 Administrator IAM Account 的用意本來就是要儘可能不使用 Root Account 作登入.  \n檢查了權限,明明就有設定 Read Billing 但是仍然看不到.  \n\n## 解決方法\n實際上要進入 Billing Console 其實要有兩個步驟  \n1. 權限要設定,更多細節可以參考這篇[文章](https://aws.amazon.com/blogs/security/enhanced-iam-capabilities-for-the-aws-billing-console/)(2014)\n2. 要透過 Root Account 在 [Account Settings](https://console.aws.amazon.com/billing/home#/account) 頁面設定, 允許 IAM user 存取 Billing Console  \n\n![](https://i.imgur.com/yBXaLPJ.jpg)\n\n\n\n## 參考\n- [Don’t Forget to Enable Access to the Billing Console!](https://aws.amazon.com/blogs/security/dont-forget-to-enable-access-to-the-billing-console/)\n\n(fin)","source":"_posts/2018/cloud_learn/aws_access_billing_console.md","raw":"---\ntitle: \"[學習筆記]允許 IAM User 存取 AWS Billing Console\"\ndate: 2018/04/04 17:08:44\ntag:\n  - AWS\n---\n\n## 前情提要\n設定了 IAM User Account 也給予了 Administrator 的權限,  \n不過仍然看不到 Billing 的頁面資訊 .  \n\n![](https://i.imgur.com/1Ge6pGi.jpg)\n\n這帶來了很大的不方便, 因為如果要看 Billing 的資訊就要切換到 Root Account  \n而建立 Administrator IAM Account 的用意本來就是要儘可能不使用 Root Account 作登入.  \n檢查了權限,明明就有設定 Read Billing 但是仍然看不到.  \n\n## 解決方法\n實際上要進入 Billing Console 其實要有兩個步驟  \n1. 權限要設定,更多細節可以參考這篇[文章](https://aws.amazon.com/blogs/security/enhanced-iam-capabilities-for-the-aws-billing-console/)(2014)\n2. 要透過 Root Account 在 [Account Settings](https://console.aws.amazon.com/billing/home#/account) 頁面設定, 允許 IAM user 存取 Billing Console  \n\n![](https://i.imgur.com/yBXaLPJ.jpg)\n\n\n\n## 參考\n- [Don’t Forget to Enable Access to the Billing Console!](https://aws.amazon.com/blogs/security/dont-forget-to-enable-access-to-the-billing-console/)\n\n(fin)","slug":"2018/cloud_learn/aws_access_billing_console","published":1,"updated":"2019-06-10T14:43:28.907Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wpp006fb0vx1shsf928","content":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>設定了 IAM User Account 也給予了 Administrator 的權限,<br>不過仍然看不到 Billing 的頁面資訊 .  </p>\n<p><img src=\"https://i.imgur.com/1Ge6pGi.jpg\" alt></p>\n<p>這帶來了很大的不方便, 因為如果要看 Billing 的資訊就要切換到 Root Account<br>而建立 Administrator IAM Account 的用意本來就是要儘可能不使用 Root Account 作登入.<br>檢查了權限,明明就有設定 Read Billing 但是仍然看不到.  </p>\n<h2 id=\"解決方法\"><a href=\"#解決方法\" class=\"headerlink\" title=\"解決方法\"></a>解決方法</h2><p>實際上要進入 Billing Console 其實要有兩個步驟  </p>\n<ol>\n<li>權限要設定,更多細節可以參考這篇<a href=\"https://aws.amazon.com/blogs/security/enhanced-iam-capabilities-for-the-aws-billing-console/\" target=\"_blank\" rel=\"noopener\">文章</a>(2014)</li>\n<li>要透過 Root Account 在 <a href=\"https://console.aws.amazon.com/billing/home#/account\" target=\"_blank\" rel=\"noopener\">Account Settings</a> 頁面設定, 允許 IAM user 存取 Billing Console  </li>\n</ol>\n<p><img src=\"https://i.imgur.com/yBXaLPJ.jpg\" alt></p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://aws.amazon.com/blogs/security/dont-forget-to-enable-access-to-the-billing-console/\" target=\"_blank\" rel=\"noopener\">Don’t Forget to Enable Access to the Billing Console!</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>設定了 IAM User Account 也給予了 Administrator 的權限,<br>不過仍然看不到 Billing 的頁面資訊 .  </p>\n<p><img src=\"https://i.imgur.com/1Ge6pGi.jpg\" alt></p>\n<p>這帶來了很大的不方便, 因為如果要看 Billing 的資訊就要切換到 Root Account<br>而建立 Administrator IAM Account 的用意本來就是要儘可能不使用 Root Account 作登入.<br>檢查了權限,明明就有設定 Read Billing 但是仍然看不到.  </p>\n<h2 id=\"解決方法\"><a href=\"#解決方法\" class=\"headerlink\" title=\"解決方法\"></a>解決方法</h2><p>實際上要進入 Billing Console 其實要有兩個步驟  </p>\n<ol>\n<li>權限要設定,更多細節可以參考這篇<a href=\"https://aws.amazon.com/blogs/security/enhanced-iam-capabilities-for-the-aws-billing-console/\" target=\"_blank\" rel=\"noopener\">文章</a>(2014)</li>\n<li>要透過 Root Account 在 <a href=\"https://console.aws.amazon.com/billing/home#/account\" target=\"_blank\" rel=\"noopener\">Account Settings</a> 頁面設定, 允許 IAM user 存取 Billing Console  </li>\n</ol>\n<p><img src=\"https://i.imgur.com/yBXaLPJ.jpg\" alt></p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://aws.amazon.com/blogs/security/dont-forget-to-enable-access-to-the-billing-console/\" target=\"_blank\" rel=\"noopener\">Don’t Forget to Enable Access to the Billing Console!</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[閱讀筆記]穀倉效應 ","date":"2018-05-28T17:23:10.000Z","_content":"\n## 第七章 取下鏡片: 醫生如何避免經濟專家的錯誤\n\n\n\n<div style=\"max-width:854px\"><div style=\"position:relative;height:0;padding-bottom:56.25%\"><iframe src=\"https://embed.ted.com/talks/lang/zh-tw/ursus_wehrli_tidies_up_art\" width=\"854\" height=\"480\" style=\"position:absolute;left:0;top:0;width:100%;height:100%\" frameborder=\"0\" scrolling=\"no\" allowfullscreen></iframe></div></div>\n\n### 克里夫蘭臨床醫學中心的歷史\n\n*1880 AD*\n草創時期隨克里夫蘭城市發展落成。\n\n一次大戰後,參考自軍醫的「小組合作模式」, \n改變醫院的運作模式。\n*---不同的背景人才組成的醫療小組---*\n固定薪資,分享紅利\n\n二次大戰後,克里夫蘭城市開始走下坡,  \n但靠著創意和明星醫師成功擴張醫院。\n\n二十世紀末,員工成長至4萬人,穀倉與官僚問題漸增,\n\n透過**空橋/電子系統/地道系統/機器人**等設施...,\n致力追求無縫連接。\n\n**隱憂: 技術與組織變得愈來愈複雜,反而是一種穀倉**\n\n### 醫生的故事\n\n寇斯巴洛夫有閱讀障礙,所以成績不好;\n\n用圖像式記憶法才完成學業;\n\n但是在實務層面卻大放異彩;\n當上了克里夫蘭臨床醫學中心執行長。\n\n越戰後的反思,為什麼醫界不是採取團隊工作?\n\n所以加入了克里夫蘭臨床醫學中心。\n\n結合縫紉發展改良了心臟手術。\n**創新就是要挑戰既有界線**\n\n### 改革\n\n1. 拿掉醫師與護士的界線\n`(Front-Backend?DevOps?Sales/BD/PD/RD?)`\n\n以患者與疾病為核心;\n不以醫界既有科別區分,成立新部門\n\n比如說,脊椎病症: \n神經內科/心理科/生醫影像科/整型外科 more ...\n~~`→ 大馬: rd1/rd2/.../Rd5/app/f2e/ait/PD`~~\n\n特殊規劃小組,制定改革時間表\n~~`One Team ? SRG ?`~~\n\n2. 外部體系(保險公司/醫療協會)仍是專門分科, \n所以又成立影子部門\n\n4. 改善空間,不只是功能性,鼓勵逗留與聊天\n\n結果\n\n1. 醫療浪費減少,成本更低,「把照顧病患而非官僚體制放第一」\n2. 每位醫生診斷時會想到不一只種界定分類方式\n3. 改善空間帶來的互動不亞於會議\n4. 急救中心轉診速度提昇\n\n### 原本的優勢\n\n- 固定薪資制,醫生不會為了績效多作治療\n- 原本就有的團隊合作文化\n\n### 小結與反思 \n1. 反思現有的分類,甚至加以顛覆\n2. 專業分工是組織變得複雜的龐大後的必然結果\n3. 創新就是要挑戰既有界線\n4. 以患者與疾病為核心 ? \n`→ 我們以○○為核心?股東、客戶、產品、品質、速度、員工`\n5. 我們作的不對,我們必須改變\n6. 改革會一直遇到問題,我們有解決問題的機制嗎 ?\n7. 克里夫蘭臨床醫學中心是從上到下的改革,我們的組織是嗎 ?\n\n(fin)","source":"_posts/2018/books/the_silo_effect_7.md","raw":"---\ntitle: \"[閱讀筆記]穀倉效應 \"\ndate: 2018/05/29 01:23:10\ntag:\n  - 閱讀筆記\n---\n\n## 第七章 取下鏡片: 醫生如何避免經濟專家的錯誤\n\n\n\n<div style=\"max-width:854px\"><div style=\"position:relative;height:0;padding-bottom:56.25%\"><iframe src=\"https://embed.ted.com/talks/lang/zh-tw/ursus_wehrli_tidies_up_art\" width=\"854\" height=\"480\" style=\"position:absolute;left:0;top:0;width:100%;height:100%\" frameborder=\"0\" scrolling=\"no\" allowfullscreen></iframe></div></div>\n\n### 克里夫蘭臨床醫學中心的歷史\n\n*1880 AD*\n草創時期隨克里夫蘭城市發展落成。\n\n一次大戰後,參考自軍醫的「小組合作模式」, \n改變醫院的運作模式。\n*---不同的背景人才組成的醫療小組---*\n固定薪資,分享紅利\n\n二次大戰後,克里夫蘭城市開始走下坡,  \n但靠著創意和明星醫師成功擴張醫院。\n\n二十世紀末,員工成長至4萬人,穀倉與官僚問題漸增,\n\n透過**空橋/電子系統/地道系統/機器人**等設施...,\n致力追求無縫連接。\n\n**隱憂: 技術與組織變得愈來愈複雜,反而是一種穀倉**\n\n### 醫生的故事\n\n寇斯巴洛夫有閱讀障礙,所以成績不好;\n\n用圖像式記憶法才完成學業;\n\n但是在實務層面卻大放異彩;\n當上了克里夫蘭臨床醫學中心執行長。\n\n越戰後的反思,為什麼醫界不是採取團隊工作?\n\n所以加入了克里夫蘭臨床醫學中心。\n\n結合縫紉發展改良了心臟手術。\n**創新就是要挑戰既有界線**\n\n### 改革\n\n1. 拿掉醫師與護士的界線\n`(Front-Backend?DevOps?Sales/BD/PD/RD?)`\n\n以患者與疾病為核心;\n不以醫界既有科別區分,成立新部門\n\n比如說,脊椎病症: \n神經內科/心理科/生醫影像科/整型外科 more ...\n~~`→ 大馬: rd1/rd2/.../Rd5/app/f2e/ait/PD`~~\n\n特殊規劃小組,制定改革時間表\n~~`One Team ? SRG ?`~~\n\n2. 外部體系(保險公司/醫療協會)仍是專門分科, \n所以又成立影子部門\n\n4. 改善空間,不只是功能性,鼓勵逗留與聊天\n\n結果\n\n1. 醫療浪費減少,成本更低,「把照顧病患而非官僚體制放第一」\n2. 每位醫生診斷時會想到不一只種界定分類方式\n3. 改善空間帶來的互動不亞於會議\n4. 急救中心轉診速度提昇\n\n### 原本的優勢\n\n- 固定薪資制,醫生不會為了績效多作治療\n- 原本就有的團隊合作文化\n\n### 小結與反思 \n1. 反思現有的分類,甚至加以顛覆\n2. 專業分工是組織變得複雜的龐大後的必然結果\n3. 創新就是要挑戰既有界線\n4. 以患者與疾病為核心 ? \n`→ 我們以○○為核心?股東、客戶、產品、品質、速度、員工`\n5. 我們作的不對,我們必須改變\n6. 改革會一直遇到問題,我們有解決問題的機制嗎 ?\n7. 克里夫蘭臨床醫學中心是從上到下的改革,我們的組織是嗎 ?\n\n(fin)","slug":"2018/books/the_silo_effect_7","published":1,"updated":"2019-06-10T14:43:28.905Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wpq006hb0vxhyvjdnel","content":"<h2 id=\"第七章-取下鏡片-醫生如何避免經濟專家的錯誤\"><a href=\"#第七章-取下鏡片-醫生如何避免經濟專家的錯誤\" class=\"headerlink\" title=\"第七章 取下鏡片: 醫生如何避免經濟專家的錯誤\"></a>第七章 取下鏡片: 醫生如何避免經濟專家的錯誤</h2><div style=\"max-width:854px\"><div style=\"position:relative;height:0;padding-bottom:56.25%\"><iframe src=\"https://embed.ted.com/talks/lang/zh-tw/ursus_wehrli_tidies_up_art\" width=\"854\" height=\"480\" style=\"position:absolute;left:0;top:0;width:100%;height:100%\" frameborder=\"0\" scrolling=\"no\" allowfullscreen></iframe></div></div>\n\n<h3 id=\"克里夫蘭臨床醫學中心的歷史\"><a href=\"#克里夫蘭臨床醫學中心的歷史\" class=\"headerlink\" title=\"克里夫蘭臨床醫學中心的歷史\"></a>克里夫蘭臨床醫學中心的歷史</h3><p><em>1880 AD</em><br>草創時期隨克里夫蘭城市發展落成。</p>\n<p>一次大戰後,參考自軍醫的「小組合作模式」,<br>改變醫院的運作模式。<br><em>—不同的背景人才組成的醫療小組—</em><br>固定薪資,分享紅利</p>\n<p>二次大戰後,克里夫蘭城市開始走下坡,<br>但靠著創意和明星醫師成功擴張醫院。</p>\n<p>二十世紀末,員工成長至4萬人,穀倉與官僚問題漸增,</p>\n<p>透過<strong>空橋/電子系統/地道系統/機器人</strong>等設施…,<br>致力追求無縫連接。</p>\n<p><strong>隱憂: 技術與組織變得愈來愈複雜,反而是一種穀倉</strong></p>\n<h3 id=\"醫生的故事\"><a href=\"#醫生的故事\" class=\"headerlink\" title=\"醫生的故事\"></a>醫生的故事</h3><p>寇斯巴洛夫有閱讀障礙,所以成績不好;</p>\n<p>用圖像式記憶法才完成學業;</p>\n<p>但是在實務層面卻大放異彩;<br>當上了克里夫蘭臨床醫學中心執行長。</p>\n<p>越戰後的反思,為什麼醫界不是採取團隊工作?</p>\n<p>所以加入了克里夫蘭臨床醫學中心。</p>\n<p>結合縫紉發展改良了心臟手術。<br><strong>創新就是要挑戰既有界線</strong></p>\n<h3 id=\"改革\"><a href=\"#改革\" class=\"headerlink\" title=\"改革\"></a>改革</h3><ol>\n<li>拿掉醫師與護士的界線<br><code>(Front-Backend?DevOps?Sales/BD/PD/RD?)</code></li>\n</ol>\n<p>以患者與疾病為核心;<br>不以醫界既有科別區分,成立新部門</p>\n<p>比如說,脊椎病症:<br>神經內科/心理科/生醫影像科/整型外科 more …<br><del><code>→ 大馬: rd1/rd2/.../Rd5/app/f2e/ait/PD</code></del></p>\n<p>特殊規劃小組,制定改革時間表<br><del><code>One Team ? SRG ?</code></del></p>\n<ol start=\"2\">\n<li><p>外部體系(保險公司/醫療協會)仍是專門分科,<br>所以又成立影子部門</p>\n</li>\n<li><p>改善空間,不只是功能性,鼓勵逗留與聊天</p>\n</li>\n</ol>\n<p>結果</p>\n<ol>\n<li>醫療浪費減少,成本更低,「把照顧病患而非官僚體制放第一」</li>\n<li>每位醫生診斷時會想到不一只種界定分類方式</li>\n<li>改善空間帶來的互動不亞於會議</li>\n<li>急救中心轉診速度提昇</li>\n</ol>\n<h3 id=\"原本的優勢\"><a href=\"#原本的優勢\" class=\"headerlink\" title=\"原本的優勢\"></a>原本的優勢</h3><ul>\n<li>固定薪資制,醫生不會為了績效多作治療</li>\n<li>原本就有的團隊合作文化</li>\n</ul>\n<h3 id=\"小結與反思\"><a href=\"#小結與反思\" class=\"headerlink\" title=\"小結與反思\"></a>小結與反思</h3><ol>\n<li>反思現有的分類,甚至加以顛覆</li>\n<li>專業分工是組織變得複雜的龐大後的必然結果</li>\n<li>創新就是要挑戰既有界線</li>\n<li>以患者與疾病為核心 ?<br><code>→ 我們以○○為核心?股東、客戶、產品、品質、速度、員工</code></li>\n<li>我們作的不對,我們必須改變</li>\n<li>改革會一直遇到問題,我們有解決問題的機制嗎 ?</li>\n<li>克里夫蘭臨床醫學中心是從上到下的改革,我們的組織是嗎 ?</li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"第七章-取下鏡片-醫生如何避免經濟專家的錯誤\"><a href=\"#第七章-取下鏡片-醫生如何避免經濟專家的錯誤\" class=\"headerlink\" title=\"第七章 取下鏡片: 醫生如何避免經濟專家的錯誤\"></a>第七章 取下鏡片: 醫生如何避免經濟專家的錯誤</h2><div style=\"max-width:854px\"><div style=\"position:relative;height:0;padding-bottom:56.25%\"><iframe src=\"https://embed.ted.com/talks/lang/zh-tw/ursus_wehrli_tidies_up_art\" width=\"854\" height=\"480\" style=\"position:absolute;left:0;top:0;width:100%;height:100%\" frameborder=\"0\" scrolling=\"no\" allowfullscreen></iframe></div></div>\n\n<h3 id=\"克里夫蘭臨床醫學中心的歷史\"><a href=\"#克里夫蘭臨床醫學中心的歷史\" class=\"headerlink\" title=\"克里夫蘭臨床醫學中心的歷史\"></a>克里夫蘭臨床醫學中心的歷史</h3><p><em>1880 AD</em><br>草創時期隨克里夫蘭城市發展落成。</p>\n<p>一次大戰後,參考自軍醫的「小組合作模式」,<br>改變醫院的運作模式。<br><em>—不同的背景人才組成的醫療小組—</em><br>固定薪資,分享紅利</p>\n<p>二次大戰後,克里夫蘭城市開始走下坡,<br>但靠著創意和明星醫師成功擴張醫院。</p>\n<p>二十世紀末,員工成長至4萬人,穀倉與官僚問題漸增,</p>\n<p>透過<strong>空橋/電子系統/地道系統/機器人</strong>等設施…,<br>致力追求無縫連接。</p>\n<p><strong>隱憂: 技術與組織變得愈來愈複雜,反而是一種穀倉</strong></p>\n<h3 id=\"醫生的故事\"><a href=\"#醫生的故事\" class=\"headerlink\" title=\"醫生的故事\"></a>醫生的故事</h3><p>寇斯巴洛夫有閱讀障礙,所以成績不好;</p>\n<p>用圖像式記憶法才完成學業;</p>\n<p>但是在實務層面卻大放異彩;<br>當上了克里夫蘭臨床醫學中心執行長。</p>\n<p>越戰後的反思,為什麼醫界不是採取團隊工作?</p>\n<p>所以加入了克里夫蘭臨床醫學中心。</p>\n<p>結合縫紉發展改良了心臟手術。<br><strong>創新就是要挑戰既有界線</strong></p>\n<h3 id=\"改革\"><a href=\"#改革\" class=\"headerlink\" title=\"改革\"></a>改革</h3><ol>\n<li>拿掉醫師與護士的界線<br><code>(Front-Backend?DevOps?Sales/BD/PD/RD?)</code></li>\n</ol>\n<p>以患者與疾病為核心;<br>不以醫界既有科別區分,成立新部門</p>\n<p>比如說,脊椎病症:<br>神經內科/心理科/生醫影像科/整型外科 more …<br><del><code>→ 大馬: rd1/rd2/.../Rd5/app/f2e/ait/PD</code></del></p>\n<p>特殊規劃小組,制定改革時間表<br><del><code>One Team ? SRG ?</code></del></p>\n<ol start=\"2\">\n<li><p>外部體系(保險公司/醫療協會)仍是專門分科,<br>所以又成立影子部門</p>\n</li>\n<li><p>改善空間,不只是功能性,鼓勵逗留與聊天</p>\n</li>\n</ol>\n<p>結果</p>\n<ol>\n<li>醫療浪費減少,成本更低,「把照顧病患而非官僚體制放第一」</li>\n<li>每位醫生診斷時會想到不一只種界定分類方式</li>\n<li>改善空間帶來的互動不亞於會議</li>\n<li>急救中心轉診速度提昇</li>\n</ol>\n<h3 id=\"原本的優勢\"><a href=\"#原本的優勢\" class=\"headerlink\" title=\"原本的優勢\"></a>原本的優勢</h3><ul>\n<li>固定薪資制,醫生不會為了績效多作治療</li>\n<li>原本就有的團隊合作文化</li>\n</ul>\n<h3 id=\"小結與反思\"><a href=\"#小結與反思\" class=\"headerlink\" title=\"小結與反思\"></a>小結與反思</h3><ol>\n<li>反思現有的分類,甚至加以顛覆</li>\n<li>專業分工是組織變得複雜的龐大後的必然結果</li>\n<li>創新就是要挑戰既有界線</li>\n<li>以患者與疾病為核心 ?<br><code>→ 我們以○○為核心?股東、客戶、產品、品質、速度、員工</code></li>\n<li>我們作的不對,我們必須改變</li>\n<li>改革會一直遇到問題,我們有解決問題的機制嗎 ?</li>\n<li>克里夫蘭臨床醫學中心是從上到下的改革,我們的組織是嗎 ?</li>\n</ol>\n<p>(fin)</p>\n"},{"title":"[學習筆記]AWS EC2 學習筆記 AWS CLI 與 Login","date":"2018-03-25T15:01:24.000Z","_content":"\n## [安裝 AWS CLI](https://docs.aws.amazon.com/zh_cn/cli/latest/userguide/installing.html)\n\n## [配置 AWS CLI](https://docs.aws.amazon.com/zh_cn/cli/latest/userguide/cli-chap-getting-started.html#cli-quick-configuration)\n\n## EC2 開機\n\n![EC2 開機](https://i.imgur.com/dNGygaT.jpg)\n\n- 直接開機跳過網路設定(也還沒有辦法設)\n- 第5步驟設定 TAG ,對找尋 ec2 的 instance 很有幫助\n\n## 設定 [Putty](https://docs.aws.amazon.com/zh_cn/AWSEC2/latest/UserGuide/putty.html?icmpid=docs_ec2_console) \n\n## 連線機器\n\n![連線機器](https://i.imgur.com/xIQsEac.jpg)\n\nex:  \n\n```bash\nssh -i /path/my-key-pair.pem ec2-user@ec2-198-51-100-1.compute-1.amazonaws.com\n```\n\n### 預設連線帳戶\n\n> For Amazon Linux, the user name is `ec2-user`.\n> For Centos, the user name is `centos`. \n> For Debian, the user name is `admin` or `root`. \n> For Fedora, the user name is `ec2-user`. \n> For RHEL, the user name is `ec2-user` or `root`. \n> For SUSE, the user name is `ec2-user` or `root`. \n> For Ubuntu, the user name is `ubuntu` or `root`. \n> Otherwise, if `ec2-user` and `root` don't work, check with your AMI provider.\n\nwindows 好像是 Administrator ? 求補充\n\n## Docker\n\n### 安裝 Docker\n\n```bash\nsudo yum install docker\n```\n\n### 啟動 Docker 服務，並讓它隨系統啟動自動載入\n\n```bash\nsudo service docker start\nsudo chkconfig docker on\n```\n\n### 雷包\n\n- 重啟機器的話 public dns 會改變.(意味連線的命令參數會變)\n- 注意使用的AIM, 不同的 Linux OS 會有不同的套件執行命令\n- ubuntu `apt-get`\n- CentOS `yum`\n\n### 參考\n\n- [Docker —— 從入門到實踐](https://philipzheng.gitbooks.io/docker_practice)\n- [全面易懂的Docker指令大全](https://www.gitbook.com/book/joshhu/dockercommands/details)\n\n(fin)\n","source":"_posts/2018/cloud_learn/aws_cli_login.md","raw":"---\ntitle: \"[學習筆記]AWS EC2 學習筆記 AWS CLI 與 Login\"\ndate: 2018/03/25 23:01:24\ntag:\n  - AWS\n  - Docker\n  - Container \n---\n\n## [安裝 AWS CLI](https://docs.aws.amazon.com/zh_cn/cli/latest/userguide/installing.html)\n\n## [配置 AWS CLI](https://docs.aws.amazon.com/zh_cn/cli/latest/userguide/cli-chap-getting-started.html#cli-quick-configuration)\n\n## EC2 開機\n\n![EC2 開機](https://i.imgur.com/dNGygaT.jpg)\n\n- 直接開機跳過網路設定(也還沒有辦法設)\n- 第5步驟設定 TAG ,對找尋 ec2 的 instance 很有幫助\n\n## 設定 [Putty](https://docs.aws.amazon.com/zh_cn/AWSEC2/latest/UserGuide/putty.html?icmpid=docs_ec2_console) \n\n## 連線機器\n\n![連線機器](https://i.imgur.com/xIQsEac.jpg)\n\nex:  \n\n```bash\nssh -i /path/my-key-pair.pem ec2-user@ec2-198-51-100-1.compute-1.amazonaws.com\n```\n\n### 預設連線帳戶\n\n> For Amazon Linux, the user name is `ec2-user`.\n> For Centos, the user name is `centos`. \n> For Debian, the user name is `admin` or `root`. \n> For Fedora, the user name is `ec2-user`. \n> For RHEL, the user name is `ec2-user` or `root`. \n> For SUSE, the user name is `ec2-user` or `root`. \n> For Ubuntu, the user name is `ubuntu` or `root`. \n> Otherwise, if `ec2-user` and `root` don't work, check with your AMI provider.\n\nwindows 好像是 Administrator ? 求補充\n\n## Docker\n\n### 安裝 Docker\n\n```bash\nsudo yum install docker\n```\n\n### 啟動 Docker 服務，並讓它隨系統啟動自動載入\n\n```bash\nsudo service docker start\nsudo chkconfig docker on\n```\n\n### 雷包\n\n- 重啟機器的話 public dns 會改變.(意味連線的命令參數會變)\n- 注意使用的AIM, 不同的 Linux OS 會有不同的套件執行命令\n- ubuntu `apt-get`\n- CentOS `yum`\n\n### 參考\n\n- [Docker —— 從入門到實踐](https://philipzheng.gitbooks.io/docker_practice)\n- [全面易懂的Docker指令大全](https://www.gitbook.com/book/joshhu/dockercommands/details)\n\n(fin)\n","slug":"2018/cloud_learn/aws_cli_login","published":1,"updated":"2019-08-25T20:00:16.404Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wps006kb0vx8c2ffnl6","content":"<h2 id=\"安裝-AWS-CLI\"><a href=\"#安裝-AWS-CLI\" class=\"headerlink\" title=\"安裝 AWS CLI\"></a><a href=\"https://docs.aws.amazon.com/zh_cn/cli/latest/userguide/installing.html\" target=\"_blank\" rel=\"noopener\">安裝 AWS CLI</a></h2><h2 id=\"配置-AWS-CLI\"><a href=\"#配置-AWS-CLI\" class=\"headerlink\" title=\"配置 AWS CLI\"></a><a href=\"https://docs.aws.amazon.com/zh_cn/cli/latest/userguide/cli-chap-getting-started.html#cli-quick-configuration\" target=\"_blank\" rel=\"noopener\">配置 AWS CLI</a></h2><h2 id=\"EC2-開機\"><a href=\"#EC2-開機\" class=\"headerlink\" title=\"EC2 開機\"></a>EC2 開機</h2><p><img src=\"https://i.imgur.com/dNGygaT.jpg\" alt=\"EC2 開機\"></p>\n<ul>\n<li>直接開機跳過網路設定(也還沒有辦法設)</li>\n<li>第5步驟設定 TAG ,對找尋 ec2 的 instance 很有幫助</li>\n</ul>\n<h2 id=\"設定-Putty\"><a href=\"#設定-Putty\" class=\"headerlink\" title=\"設定 Putty\"></a>設定 <a href=\"https://docs.aws.amazon.com/zh_cn/AWSEC2/latest/UserGuide/putty.html?icmpid=docs_ec2_console\" target=\"_blank\" rel=\"noopener\">Putty</a></h2><h2 id=\"連線機器\"><a href=\"#連線機器\" class=\"headerlink\" title=\"連線機器\"></a>連線機器</h2><p><img src=\"https://i.imgur.com/xIQsEac.jpg\" alt=\"連線機器\"></p>\n<p>ex:  </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh -i /path/my-key-pair.pem ec2-user@ec2-198-51-100-1.compute-1.amazonaws.com</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"預設連線帳戶\"><a href=\"#預設連線帳戶\" class=\"headerlink\" title=\"預設連線帳戶\"></a>預設連線帳戶</h3><blockquote>\n<p>For Amazon Linux, the user name is <code>ec2-user</code>.\nFor Centos, the user name is <code>centos</code>. \nFor Debian, the user name is <code>admin</code> or <code>root</code>. \nFor Fedora, the user name is <code>ec2-user</code>. \nFor RHEL, the user name is <code>ec2-user</code> or <code>root</code>. \nFor SUSE, the user name is <code>ec2-user</code> or <code>root</code>. \nFor Ubuntu, the user name is <code>ubuntu</code> or <code>root</code>. \nOtherwise, if <code>ec2-user</code> and <code>root</code> don’t work, check with your AMI provider.</p>\n</blockquote>\n<p>windows 好像是 Administrator ? 求補充</p>\n<h2 id=\"Docker\"><a href=\"#Docker\" class=\"headerlink\" title=\"Docker\"></a>Docker</h2><h3 id=\"安裝-Docker\"><a href=\"#安裝-Docker\" class=\"headerlink\" title=\"安裝 Docker\"></a>安裝 Docker</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install docker</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"啟動-Docker-服務，並讓它隨系統啟動自動載入\"><a href=\"#啟動-Docker-服務，並讓它隨系統啟動自動載入\" class=\"headerlink\" title=\"啟動 Docker 服務，並讓它隨系統啟動自動載入\"></a>啟動 Docker 服務，並讓它隨系統啟動自動載入</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo service docker start</span><br><span class=\"line\">sudo chkconfig docker on</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"雷包\"><a href=\"#雷包\" class=\"headerlink\" title=\"雷包\"></a>雷包</h3><ul>\n<li>重啟機器的話 public dns 會改變.(意味連線的命令參數會變)</li>\n<li>注意使用的AIM, 不同的 Linux OS 會有不同的套件執行命令</li>\n<li>ubuntu <code>apt-get</code></li>\n<li>CentOS <code>yum</code></li>\n</ul>\n<h3 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h3><ul>\n<li><a href=\"https://philipzheng.gitbooks.io/docker_practice\" target=\"_blank\" rel=\"noopener\">Docker —— 從入門到實踐</a></li>\n<li><a href=\"https://www.gitbook.com/book/joshhu/dockercommands/details\" target=\"_blank\" rel=\"noopener\">全面易懂的Docker指令大全</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"安裝-AWS-CLI\"><a href=\"#安裝-AWS-CLI\" class=\"headerlink\" title=\"安裝 AWS CLI\"></a><a href=\"https://docs.aws.amazon.com/zh_cn/cli/latest/userguide/installing.html\" target=\"_blank\" rel=\"noopener\">安裝 AWS CLI</a></h2><h2 id=\"配置-AWS-CLI\"><a href=\"#配置-AWS-CLI\" class=\"headerlink\" title=\"配置 AWS CLI\"></a><a href=\"https://docs.aws.amazon.com/zh_cn/cli/latest/userguide/cli-chap-getting-started.html#cli-quick-configuration\" target=\"_blank\" rel=\"noopener\">配置 AWS CLI</a></h2><h2 id=\"EC2-開機\"><a href=\"#EC2-開機\" class=\"headerlink\" title=\"EC2 開機\"></a>EC2 開機</h2><p><img src=\"https://i.imgur.com/dNGygaT.jpg\" alt=\"EC2 開機\"></p>\n<ul>\n<li>直接開機跳過網路設定(也還沒有辦法設)</li>\n<li>第5步驟設定 TAG ,對找尋 ec2 的 instance 很有幫助</li>\n</ul>\n<h2 id=\"設定-Putty\"><a href=\"#設定-Putty\" class=\"headerlink\" title=\"設定 Putty\"></a>設定 <a href=\"https://docs.aws.amazon.com/zh_cn/AWSEC2/latest/UserGuide/putty.html?icmpid=docs_ec2_console\" target=\"_blank\" rel=\"noopener\">Putty</a></h2><h2 id=\"連線機器\"><a href=\"#連線機器\" class=\"headerlink\" title=\"連線機器\"></a>連線機器</h2><p><img src=\"https://i.imgur.com/xIQsEac.jpg\" alt=\"連線機器\"></p>\n<p>ex:  </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh -i /path/my-key-pair.pem ec2-user@ec2-198-51-100-1.compute-1.amazonaws.com</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"預設連線帳戶\"><a href=\"#預設連線帳戶\" class=\"headerlink\" title=\"預設連線帳戶\"></a>預設連線帳戶</h3><blockquote>\n<p>For Amazon Linux, the user name is <code>ec2-user</code>.\nFor Centos, the user name is <code>centos</code>. \nFor Debian, the user name is <code>admin</code> or <code>root</code>. \nFor Fedora, the user name is <code>ec2-user</code>. \nFor RHEL, the user name is <code>ec2-user</code> or <code>root</code>. \nFor SUSE, the user name is <code>ec2-user</code> or <code>root</code>. \nFor Ubuntu, the user name is <code>ubuntu</code> or <code>root</code>. \nOtherwise, if <code>ec2-user</code> and <code>root</code> don’t work, check with your AMI provider.</p>\n</blockquote>\n<p>windows 好像是 Administrator ? 求補充</p>\n<h2 id=\"Docker\"><a href=\"#Docker\" class=\"headerlink\" title=\"Docker\"></a>Docker</h2><h3 id=\"安裝-Docker\"><a href=\"#安裝-Docker\" class=\"headerlink\" title=\"安裝 Docker\"></a>安裝 Docker</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install docker</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"啟動-Docker-服務，並讓它隨系統啟動自動載入\"><a href=\"#啟動-Docker-服務，並讓它隨系統啟動自動載入\" class=\"headerlink\" title=\"啟動 Docker 服務，並讓它隨系統啟動自動載入\"></a>啟動 Docker 服務，並讓它隨系統啟動自動載入</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo service docker start</span><br><span class=\"line\">sudo chkconfig docker on</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"雷包\"><a href=\"#雷包\" class=\"headerlink\" title=\"雷包\"></a>雷包</h3><ul>\n<li>重啟機器的話 public dns 會改變.(意味連線的命令參數會變)</li>\n<li>注意使用的AIM, 不同的 Linux OS 會有不同的套件執行命令</li>\n<li>ubuntu <code>apt-get</code></li>\n<li>CentOS <code>yum</code></li>\n</ul>\n<h3 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h3><ul>\n<li><a href=\"https://philipzheng.gitbooks.io/docker_practice\" target=\"_blank\" rel=\"noopener\">Docker —— 從入門到實踐</a></li>\n<li><a href=\"https://www.gitbook.com/book/joshhu/dockercommands/details\" target=\"_blank\" rel=\"noopener\">全面易懂的Docker指令大全</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[N社筆記]敏捷路上跌倒站起來 2018/11/18","date":"2018-11-18T03:42:21.000Z","_content":"\n#### 工程人員一定要分析後才能投點嗎 ?(有關 Planning 會議很長)\n\n> 記得設定 Timebox。\nScurm 是經驗法則，可以拿已經作過投點的 Item 作為比較基準。\n如果有未知與風險，當下不要過度鑽入細節。\n你可以\n- 開一個小的 Task 用來作調研與評估\n- 開一個很大 Task 之後再用來 BreakDown\n- 如果它是高價值又高風險，就優先作它吧\n\n#### 如何加速會議進行?\n\n> 決議與會議之外。先讓人看見問題與目標，與可能的方向。\nSM 應該更關注決定的過程，而非決定的本身。\n\n#### 焦點討論法(如何問問題)\n\nO↓ 事實(每個人看到的都不一樣)\n↑R 感受(相同的事實不同的人不同的感受) → 往複 OR ，取得共識(有共識才透明)\nInterpretive 意義與價值觀\nDecisional 決定\n\n#### Bussiness DevOps  \n![](https://imgur.com/x0imNlo.jpg)\n![](https://i.imgur.com/A04B5uG.jpg)\n\n#### 迭代與增量真的有幫助嗎 ? (Agile 之前我們怎麼工作的?/Scrum 真的好嗎 ?)\n\n看情境\n> Agile 適合應付變化，而目前的世界變化很大。\n不要為了 Scurm 而 Scurm 。\n那樣會變成盲從，看見你的需要，務實的變革。\n\n#### 用一個問題打敗一個問題(Ruddy老師引導法)\n\n找到核心的問題，然後問 「怎麼作 ?」\n學員回答後，老師常常會說「這是一個方法」，然後給予回饋。\n\n> 這句話的潛台詞是「還有其它的方法」。\n\n####  團隊成員恐懼端到端的開發(新手SM與新手團隊)\n- 讓 1 個 Sprint 先完成 1個最高優先級的Item (初期導入 Scurm 怎麼作?)\n\n> Scurm 對團隊的要求其實蠻高的，\n但是我們不需要端到端的工程師，而是團隊。\n巴士因子可以是個判斷指標。\n另外限制理論[求補充]告訴我們瓶頸會跑來跑去，所以要持續觀注與改善。\n\n#### 團隊估點從 100 → 200 (Data Team 從沒有信心 Commit 到 $#@...)\n\n> 這個點數的增長不合理，而且還是以時數點數，\n沒有任何東西可以讓一天變成 48 小時(喔…有人說，加班可以讓8小時變16小時)\n持續觀注，如果失敗了就讓它失敗吧…\n但是要失敗的有意義。\n\n##### 後續\n11/23 團隊作的工作量實際上達到 254/3xx (Commit 3xx，完成254。)，\nsprint 是成功的，但是 Velocity 是失準的。\n> 小心得: \n> 1. 所謂的 Commit 如果不是對自已 Commit 起不了激勵作用，  \n> 如果 Team 與 PO 不認為「我們是一個Team」，而還是分 PMO 與 R&D\n> 那麼 Commit 就會變成畫押背鍋的儀式。\n> 2. 氣象報告失準怎麼辦，颱風沒來大家都開心嗎？(從 100→254，是效率大爆發，還是浮報點數了？)\n\n#### Scrum 的神奇魔力\n![](https://i.imgur.com/T3BV4F3.png)\n\n#### 當老闆就是 PO (PO 與 Scrum Master 出現了階級關係)\n- 找一個小 PO (作 PO 真正該作的事)\n\n> 正視真正的問題是「你沒有 PO」\n\n#### 當 Team 在兩個作法兩難的時候\n- 作一個 Check Point，保留可以回來重新審視的機會\n\n> 現實中有遇到類似的狀況，\n執行的當下會列出所有的優缺點，再作選擇。\n作完之後問自已，再作一次你會怎麼選擇 ?\n\n#### 成員本來會多作優化，跑 Scurm 之後沒在 Task 之上的事不作了。ex:重構、優化…)\n\n> 在 DoD 應該可以解決這個問題，如果現況不會有問題，為什麼要作?\n先作 Task 有列出來東西我覺得基本上是對的。\nSM 的問題是「認為該作，但是沒有技術 Know How 所以不知道該列什麼?」\n那還沒有跑 Scrum 前如何評量這個項目的效果呢?\n至少在 Scrum 中我認為可以透過 Velocity 作為指標。\n也可以透過 DoD 決定品質的程度(ex:)。\n另外，重構不是重作，\n重構應該是時時發生的，寫測試可以讓這件事被量化， \n難以測試的代碼本身就有一定的壞味道(工程實踐與遇到的困難就以後再寫了…)。\n\n#### Team 不該 Challenge Item Value 嗎 ?(這樣跟以前需求來就作有什麼不同?)\n\n> 在 Scrum 中,\nPO 觀注 Why ,觀注產品價值 ,觀注市場與策略\nTeam 可以決定怎麼作，與 PO 討論理解為什麼要這麼作，\n並不是所謂的「需求來就作」，而把 PMO 的角色拿掉，\n是為了減少隔閤，讓團隊更接近商務端。\n聽起來這個情境，Team 與 PO 仍有抗拒心理...\n\n\n#### 身兼開發的 Scrum Master\n\nTeam(1+1+1+1...) x SM (0.9 or 1.1) = 生產力\n讓 SM 成為乘數，而不要成為加數\n\n> 小地雷:如果乘數小於1(如何評量SM指數?)\n\n#### 業務單位的務實\n\n> 業務/老闆會說，我才不管什麼開發方法，\n作出來就好了(黑貓白貓能抓老鼠就是好貓...)\n很務實，但是很傷害團隊…，不要有機會讓團隊聽到這種話\n\n#### 結束就結束了。\n\n## 參考\n- [[心得] ScrumMaster自我突破訓練營](https://medium.com/terryisbloggingonagile/%E5%BF%83%E5%BE%97-scrummaster%E8%87%AA%E6%88%91%E7%AA%81%E7%A0%B4%E8%A8%93%E7%B7%B4%E7%87%9F-3ce6f7c8c6)\n- [ScrumMaster 自我突破訓練營 in 91APP ：ScrumMaster的生存之道](https://medium.com/@imfufu/scrummaster-%E8%87%AA%E6%88%91%E7%AA%81%E7%A0%B4%E8%A8%93%E7%B7%B4%E7%87%9F-in-91app-scrummaster%E7%9A%84%E7%94%9F%E5%AD%98%E4%B9%8B%E9%81%93-678f0774d967)\n- [ORID簡報- By 茶米](https://drive.google.com/file/d/1CmJJGP7dpnSUzUP3ZrA8nNO1a6aKxM0Z/view?usp=sharing)\n- [Scrum Master自我突破訓練營 — 心得分享](https://medium.com/@linchi/scrum-master%E8%87%AA%E6%88%91%E7%AA%81%E7%A0%B4%E8%A8%93%E7%B7%B4%E7%87%9F-%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB-9846fa255a27)\n\n(fin)","source":"_posts/2018/csm/91app_scrum_masters_growth_camp.md","raw":"---\ntitle: \"[N社筆記]敏捷路上跌倒站起來 2018/11/18\"\ndate: 2018/11/18 11:42:21\ntag:\n    - Scrum\n    - Agile\n---\n\n#### 工程人員一定要分析後才能投點嗎 ?(有關 Planning 會議很長)\n\n> 記得設定 Timebox。\nScurm 是經驗法則，可以拿已經作過投點的 Item 作為比較基準。\n如果有未知與風險，當下不要過度鑽入細節。\n你可以\n- 開一個小的 Task 用來作調研與評估\n- 開一個很大 Task 之後再用來 BreakDown\n- 如果它是高價值又高風險，就優先作它吧\n\n#### 如何加速會議進行?\n\n> 決議與會議之外。先讓人看見問題與目標，與可能的方向。\nSM 應該更關注決定的過程，而非決定的本身。\n\n#### 焦點討論法(如何問問題)\n\nO↓ 事實(每個人看到的都不一樣)\n↑R 感受(相同的事實不同的人不同的感受) → 往複 OR ，取得共識(有共識才透明)\nInterpretive 意義與價值觀\nDecisional 決定\n\n#### Bussiness DevOps  \n![](https://imgur.com/x0imNlo.jpg)\n![](https://i.imgur.com/A04B5uG.jpg)\n\n#### 迭代與增量真的有幫助嗎 ? (Agile 之前我們怎麼工作的?/Scrum 真的好嗎 ?)\n\n看情境\n> Agile 適合應付變化，而目前的世界變化很大。\n不要為了 Scurm 而 Scurm 。\n那樣會變成盲從，看見你的需要，務實的變革。\n\n#### 用一個問題打敗一個問題(Ruddy老師引導法)\n\n找到核心的問題，然後問 「怎麼作 ?」\n學員回答後，老師常常會說「這是一個方法」，然後給予回饋。\n\n> 這句話的潛台詞是「還有其它的方法」。\n\n####  團隊成員恐懼端到端的開發(新手SM與新手團隊)\n- 讓 1 個 Sprint 先完成 1個最高優先級的Item (初期導入 Scurm 怎麼作?)\n\n> Scurm 對團隊的要求其實蠻高的，\n但是我們不需要端到端的工程師，而是團隊。\n巴士因子可以是個判斷指標。\n另外限制理論[求補充]告訴我們瓶頸會跑來跑去，所以要持續觀注與改善。\n\n#### 團隊估點從 100 → 200 (Data Team 從沒有信心 Commit 到 $#@...)\n\n> 這個點數的增長不合理，而且還是以時數點數，\n沒有任何東西可以讓一天變成 48 小時(喔…有人說，加班可以讓8小時變16小時)\n持續觀注，如果失敗了就讓它失敗吧…\n但是要失敗的有意義。\n\n##### 後續\n11/23 團隊作的工作量實際上達到 254/3xx (Commit 3xx，完成254。)，\nsprint 是成功的，但是 Velocity 是失準的。\n> 小心得: \n> 1. 所謂的 Commit 如果不是對自已 Commit 起不了激勵作用，  \n> 如果 Team 與 PO 不認為「我們是一個Team」，而還是分 PMO 與 R&D\n> 那麼 Commit 就會變成畫押背鍋的儀式。\n> 2. 氣象報告失準怎麼辦，颱風沒來大家都開心嗎？(從 100→254，是效率大爆發，還是浮報點數了？)\n\n#### Scrum 的神奇魔力\n![](https://i.imgur.com/T3BV4F3.png)\n\n#### 當老闆就是 PO (PO 與 Scrum Master 出現了階級關係)\n- 找一個小 PO (作 PO 真正該作的事)\n\n> 正視真正的問題是「你沒有 PO」\n\n#### 當 Team 在兩個作法兩難的時候\n- 作一個 Check Point，保留可以回來重新審視的機會\n\n> 現實中有遇到類似的狀況，\n執行的當下會列出所有的優缺點，再作選擇。\n作完之後問自已，再作一次你會怎麼選擇 ?\n\n#### 成員本來會多作優化，跑 Scurm 之後沒在 Task 之上的事不作了。ex:重構、優化…)\n\n> 在 DoD 應該可以解決這個問題，如果現況不會有問題，為什麼要作?\n先作 Task 有列出來東西我覺得基本上是對的。\nSM 的問題是「認為該作，但是沒有技術 Know How 所以不知道該列什麼?」\n那還沒有跑 Scrum 前如何評量這個項目的效果呢?\n至少在 Scrum 中我認為可以透過 Velocity 作為指標。\n也可以透過 DoD 決定品質的程度(ex:)。\n另外，重構不是重作，\n重構應該是時時發生的，寫測試可以讓這件事被量化， \n難以測試的代碼本身就有一定的壞味道(工程實踐與遇到的困難就以後再寫了…)。\n\n#### Team 不該 Challenge Item Value 嗎 ?(這樣跟以前需求來就作有什麼不同?)\n\n> 在 Scrum 中,\nPO 觀注 Why ,觀注產品價值 ,觀注市場與策略\nTeam 可以決定怎麼作，與 PO 討論理解為什麼要這麼作，\n並不是所謂的「需求來就作」，而把 PMO 的角色拿掉，\n是為了減少隔閤，讓團隊更接近商務端。\n聽起來這個情境，Team 與 PO 仍有抗拒心理...\n\n\n#### 身兼開發的 Scrum Master\n\nTeam(1+1+1+1...) x SM (0.9 or 1.1) = 生產力\n讓 SM 成為乘數，而不要成為加數\n\n> 小地雷:如果乘數小於1(如何評量SM指數?)\n\n#### 業務單位的務實\n\n> 業務/老闆會說，我才不管什麼開發方法，\n作出來就好了(黑貓白貓能抓老鼠就是好貓...)\n很務實，但是很傷害團隊…，不要有機會讓團隊聽到這種話\n\n#### 結束就結束了。\n\n## 參考\n- [[心得] ScrumMaster自我突破訓練營](https://medium.com/terryisbloggingonagile/%E5%BF%83%E5%BE%97-scrummaster%E8%87%AA%E6%88%91%E7%AA%81%E7%A0%B4%E8%A8%93%E7%B7%B4%E7%87%9F-3ce6f7c8c6)\n- [ScrumMaster 自我突破訓練營 in 91APP ：ScrumMaster的生存之道](https://medium.com/@imfufu/scrummaster-%E8%87%AA%E6%88%91%E7%AA%81%E7%A0%B4%E8%A8%93%E7%B7%B4%E7%87%9F-in-91app-scrummaster%E7%9A%84%E7%94%9F%E5%AD%98%E4%B9%8B%E9%81%93-678f0774d967)\n- [ORID簡報- By 茶米](https://drive.google.com/file/d/1CmJJGP7dpnSUzUP3ZrA8nNO1a6aKxM0Z/view?usp=sharing)\n- [Scrum Master自我突破訓練營 — 心得分享](https://medium.com/@linchi/scrum-master%E8%87%AA%E6%88%91%E7%AA%81%E7%A0%B4%E8%A8%93%E7%B7%B4%E7%87%9F-%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB-9846fa255a27)\n\n(fin)","slug":"2018/csm/91app_scrum_masters_growth_camp","published":1,"updated":"2019-06-10T14:43:28.914Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wpt006mb0vxs52b5xvb","content":"<h4 id=\"工程人員一定要分析後才能投點嗎-有關-Planning-會議很長\"><a href=\"#工程人員一定要分析後才能投點嗎-有關-Planning-會議很長\" class=\"headerlink\" title=\"工程人員一定要分析後才能投點嗎 ?(有關 Planning 會議很長)\"></a>工程人員一定要分析後才能投點嗎 ?(有關 Planning 會議很長)</h4><blockquote>\n<p>記得設定 Timebox。<br>Scurm 是經驗法則，可以拿已經作過投點的 Item 作為比較基準。<br>如果有未知與風險，當下不要過度鑽入細節。<br>你可以</p>\n<ul>\n<li>開一個小的 Task 用來作調研與評估</li>\n<li>開一個很大 Task 之後再用來 BreakDown</li>\n<li>如果它是高價值又高風險，就優先作它吧</li>\n</ul>\n</blockquote>\n<h4 id=\"如何加速會議進行\"><a href=\"#如何加速會議進行\" class=\"headerlink\" title=\"如何加速會議進行?\"></a>如何加速會議進行?</h4><blockquote>\n<p>決議與會議之外。先讓人看見問題與目標，與可能的方向。<br>SM 應該更關注決定的過程，而非決定的本身。</p>\n</blockquote>\n<h4 id=\"焦點討論法-如何問問題\"><a href=\"#焦點討論法-如何問問題\" class=\"headerlink\" title=\"焦點討論法(如何問問題)\"></a>焦點討論法(如何問問題)</h4><p>O↓ 事實(每個人看到的都不一樣)<br>↑R 感受(相同的事實不同的人不同的感受) → 往複 OR ，取得共識(有共識才透明)<br>Interpretive 意義與價值觀<br>Decisional 決定</p>\n<h4 id=\"Bussiness-DevOps\"><a href=\"#Bussiness-DevOps\" class=\"headerlink\" title=\"Bussiness DevOps\"></a>Bussiness DevOps</h4><p><img src=\"https://imgur.com/x0imNlo.jpg\" alt><br><img src=\"https://i.imgur.com/A04B5uG.jpg\" alt></p>\n<h4 id=\"迭代與增量真的有幫助嗎-Agile-之前我們怎麼工作的-Scrum-真的好嗎\"><a href=\"#迭代與增量真的有幫助嗎-Agile-之前我們怎麼工作的-Scrum-真的好嗎\" class=\"headerlink\" title=\"迭代與增量真的有幫助嗎 ? (Agile 之前我們怎麼工作的?/Scrum 真的好嗎 ?)\"></a>迭代與增量真的有幫助嗎 ? (Agile 之前我們怎麼工作的?/Scrum 真的好嗎 ?)</h4><p>看情境</p>\n<blockquote>\n<p>Agile 適合應付變化，而目前的世界變化很大。<br>不要為了 Scurm 而 Scurm 。<br>那樣會變成盲從，看見你的需要，務實的變革。</p>\n</blockquote>\n<h4 id=\"用一個問題打敗一個問題-Ruddy老師引導法\"><a href=\"#用一個問題打敗一個問題-Ruddy老師引導法\" class=\"headerlink\" title=\"用一個問題打敗一個問題(Ruddy老師引導法)\"></a>用一個問題打敗一個問題(Ruddy老師引導法)</h4><p>找到核心的問題，然後問 「怎麼作 ?」<br>學員回答後，老師常常會說「這是一個方法」，然後給予回饋。</p>\n<blockquote>\n<p>這句話的潛台詞是「還有其它的方法」。</p>\n</blockquote>\n<h4 id=\"團隊成員恐懼端到端的開發-新手SM與新手團隊\"><a href=\"#團隊成員恐懼端到端的開發-新手SM與新手團隊\" class=\"headerlink\" title=\"團隊成員恐懼端到端的開發(新手SM與新手團隊)\"></a>團隊成員恐懼端到端的開發(新手SM與新手團隊)</h4><ul>\n<li>讓 1 個 Sprint 先完成 1個最高優先級的Item (初期導入 Scurm 怎麼作?)</li>\n</ul>\n<blockquote>\n<p>Scurm 對團隊的要求其實蠻高的，<br>但是我們不需要端到端的工程師，而是團隊。<br>巴士因子可以是個判斷指標。<br>另外限制理論[求補充]告訴我們瓶頸會跑來跑去，所以要持續觀注與改善。</p>\n</blockquote>\n<h4 id=\"團隊估點從-100-→-200-Data-Team-從沒有信心-Commit-到-…\"><a href=\"#團隊估點從-100-→-200-Data-Team-從沒有信心-Commit-到-…\" class=\"headerlink\" title=\"團隊估點從 100 → 200 (Data Team 從沒有信心 Commit 到 $#@…)\"></a>團隊估點從 100 → 200 (Data Team 從沒有信心 Commit 到 $#@…)</h4><blockquote>\n<p>這個點數的增長不合理，而且還是以時數點數，<br>沒有任何東西可以讓一天變成 48 小時(喔…有人說，加班可以讓8小時變16小時)<br>持續觀注，如果失敗了就讓它失敗吧…<br>但是要失敗的有意義。</p>\n</blockquote>\n<h5 id=\"後續\"><a href=\"#後續\" class=\"headerlink\" title=\"後續\"></a>後續</h5><p>11/23 團隊作的工作量實際上達到 254/3xx (Commit 3xx，完成254。)，<br>sprint 是成功的，但是 Velocity 是失準的。</p>\n<blockquote>\n<p>小心得: </p>\n<ol>\n<li>所謂的 Commit 如果不是對自已 Commit 起不了激勵作用，<br>如果 Team 與 PO 不認為「我們是一個Team」，而還是分 PMO 與 R&amp;D<br>那麼 Commit 就會變成畫押背鍋的儀式。</li>\n<li>氣象報告失準怎麼辦，颱風沒來大家都開心嗎？(從 100→254，是效率大爆發，還是浮報點數了？)</li>\n</ol>\n</blockquote>\n<h4 id=\"Scrum-的神奇魔力\"><a href=\"#Scrum-的神奇魔力\" class=\"headerlink\" title=\"Scrum 的神奇魔力\"></a>Scrum 的神奇魔力</h4><p><img src=\"https://i.imgur.com/T3BV4F3.png\" alt></p>\n<h4 id=\"當老闆就是-PO-PO-與-Scrum-Master-出現了階級關係\"><a href=\"#當老闆就是-PO-PO-與-Scrum-Master-出現了階級關係\" class=\"headerlink\" title=\"當老闆就是 PO (PO 與 Scrum Master 出現了階級關係)\"></a>當老闆就是 PO (PO 與 Scrum Master 出現了階級關係)</h4><ul>\n<li>找一個小 PO (作 PO 真正該作的事)</li>\n</ul>\n<blockquote>\n<p>正視真正的問題是「你沒有 PO」</p>\n</blockquote>\n<h4 id=\"當-Team-在兩個作法兩難的時候\"><a href=\"#當-Team-在兩個作法兩難的時候\" class=\"headerlink\" title=\"當 Team 在兩個作法兩難的時候\"></a>當 Team 在兩個作法兩難的時候</h4><ul>\n<li>作一個 Check Point，保留可以回來重新審視的機會</li>\n</ul>\n<blockquote>\n<p>現實中有遇到類似的狀況，<br>執行的當下會列出所有的優缺點，再作選擇。<br>作完之後問自已，再作一次你會怎麼選擇 ?</p>\n</blockquote>\n<h4 id=\"成員本來會多作優化，跑-Scurm-之後沒在-Task-之上的事不作了。ex-重構、優化…\"><a href=\"#成員本來會多作優化，跑-Scurm-之後沒在-Task-之上的事不作了。ex-重構、優化…\" class=\"headerlink\" title=\"成員本來會多作優化，跑 Scurm 之後沒在 Task 之上的事不作了。ex:重構、優化…)\"></a>成員本來會多作優化，跑 Scurm 之後沒在 Task 之上的事不作了。ex:重構、優化…)</h4><blockquote>\n<p>在 DoD 應該可以解決這個問題，如果現況不會有問題，為什麼要作?<br>先作 Task 有列出來東西我覺得基本上是對的。<br>SM 的問題是「認為該作，但是沒有技術 Know How 所以不知道該列什麼?」<br>那還沒有跑 Scrum 前如何評量這個項目的效果呢?<br>至少在 Scrum 中我認為可以透過 Velocity 作為指標。<br>也可以透過 DoD 決定品質的程度(ex:)。<br>另外，重構不是重作，<br>重構應該是時時發生的，寫測試可以讓這件事被量化，<br>難以測試的代碼本身就有一定的壞味道(工程實踐與遇到的困難就以後再寫了…)。</p>\n</blockquote>\n<h4 id=\"Team-不該-Challenge-Item-Value-嗎-這樣跟以前需求來就作有什麼不同\"><a href=\"#Team-不該-Challenge-Item-Value-嗎-這樣跟以前需求來就作有什麼不同\" class=\"headerlink\" title=\"Team 不該 Challenge Item Value 嗎 ?(這樣跟以前需求來就作有什麼不同?)\"></a>Team 不該 Challenge Item Value 嗎 ?(這樣跟以前需求來就作有什麼不同?)</h4><blockquote>\n<p>在 Scrum 中,<br>PO 觀注 Why ,觀注產品價值 ,觀注市場與策略<br>Team 可以決定怎麼作，與 PO 討論理解為什麼要這麼作，<br>並不是所謂的「需求來就作」，而把 PMO 的角色拿掉，<br>是為了減少隔閤，讓團隊更接近商務端。<br>聽起來這個情境，Team 與 PO 仍有抗拒心理…</p>\n</blockquote>\n<h4 id=\"身兼開發的-Scrum-Master\"><a href=\"#身兼開發的-Scrum-Master\" class=\"headerlink\" title=\"身兼開發的 Scrum Master\"></a>身兼開發的 Scrum Master</h4><p>Team(1+1+1+1…) x SM (0.9 or 1.1) = 生產力<br>讓 SM 成為乘數，而不要成為加數</p>\n<blockquote>\n<p>小地雷:如果乘數小於1(如何評量SM指數?)</p>\n</blockquote>\n<h4 id=\"業務單位的務實\"><a href=\"#業務單位的務實\" class=\"headerlink\" title=\"業務單位的務實\"></a>業務單位的務實</h4><blockquote>\n<p>業務/老闆會說，我才不管什麼開發方法，<br>作出來就好了(黑貓白貓能抓老鼠就是好貓…)<br>很務實，但是很傷害團隊…，不要有機會讓團隊聽到這種話</p>\n</blockquote>\n<h4 id=\"結束就結束了。\"><a href=\"#結束就結束了。\" class=\"headerlink\" title=\"結束就結束了。\"></a>結束就結束了。</h4><h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://medium.com/terryisbloggingonagile/%E5%BF%83%E5%BE%97-scrummaster%E8%87%AA%E6%88%91%E7%AA%81%E7%A0%B4%E8%A8%93%E7%B7%B4%E7%87%9F-3ce6f7c8c6\" target=\"_blank\" rel=\"noopener\">[心得] ScrumMaster自我突破訓練營</a></li>\n<li><a href=\"https://medium.com/@imfufu/scrummaster-%E8%87%AA%E6%88%91%E7%AA%81%E7%A0%B4%E8%A8%93%E7%B7%B4%E7%87%9F-in-91app-scrummaster%E7%9A%84%E7%94%9F%E5%AD%98%E4%B9%8B%E9%81%93-678f0774d967\" target=\"_blank\" rel=\"noopener\">ScrumMaster 自我突破訓練營 in 91APP ：ScrumMaster的生存之道</a></li>\n<li><a href=\"https://drive.google.com/file/d/1CmJJGP7dpnSUzUP3ZrA8nNO1a6aKxM0Z/view?usp=sharing\" target=\"_blank\" rel=\"noopener\">ORID簡報- By 茶米</a></li>\n<li><a href=\"https://medium.com/@linchi/scrum-master%E8%87%AA%E6%88%91%E7%AA%81%E7%A0%B4%E8%A8%93%E7%B7%B4%E7%87%9F-%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB-9846fa255a27\" target=\"_blank\" rel=\"noopener\">Scrum Master自我突破訓練營 — 心得分享</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"工程人員一定要分析後才能投點嗎-有關-Planning-會議很長\"><a href=\"#工程人員一定要分析後才能投點嗎-有關-Planning-會議很長\" class=\"headerlink\" title=\"工程人員一定要分析後才能投點嗎 ?(有關 Planning 會議很長)\"></a>工程人員一定要分析後才能投點嗎 ?(有關 Planning 會議很長)</h4><blockquote>\n<p>記得設定 Timebox。<br>Scurm 是經驗法則，可以拿已經作過投點的 Item 作為比較基準。<br>如果有未知與風險，當下不要過度鑽入細節。<br>你可以</p>\n<ul>\n<li>開一個小的 Task 用來作調研與評估</li>\n<li>開一個很大 Task 之後再用來 BreakDown</li>\n<li>如果它是高價值又高風險，就優先作它吧</li>\n</ul>\n</blockquote>\n<h4 id=\"如何加速會議進行\"><a href=\"#如何加速會議進行\" class=\"headerlink\" title=\"如何加速會議進行?\"></a>如何加速會議進行?</h4><blockquote>\n<p>決議與會議之外。先讓人看見問題與目標，與可能的方向。<br>SM 應該更關注決定的過程，而非決定的本身。</p>\n</blockquote>\n<h4 id=\"焦點討論法-如何問問題\"><a href=\"#焦點討論法-如何問問題\" class=\"headerlink\" title=\"焦點討論法(如何問問題)\"></a>焦點討論法(如何問問題)</h4><p>O↓ 事實(每個人看到的都不一樣)<br>↑R 感受(相同的事實不同的人不同的感受) → 往複 OR ，取得共識(有共識才透明)<br>Interpretive 意義與價值觀<br>Decisional 決定</p>\n<h4 id=\"Bussiness-DevOps\"><a href=\"#Bussiness-DevOps\" class=\"headerlink\" title=\"Bussiness DevOps\"></a>Bussiness DevOps</h4><p><img src=\"https://imgur.com/x0imNlo.jpg\" alt><br><img src=\"https://i.imgur.com/A04B5uG.jpg\" alt></p>\n<h4 id=\"迭代與增量真的有幫助嗎-Agile-之前我們怎麼工作的-Scrum-真的好嗎\"><a href=\"#迭代與增量真的有幫助嗎-Agile-之前我們怎麼工作的-Scrum-真的好嗎\" class=\"headerlink\" title=\"迭代與增量真的有幫助嗎 ? (Agile 之前我們怎麼工作的?/Scrum 真的好嗎 ?)\"></a>迭代與增量真的有幫助嗎 ? (Agile 之前我們怎麼工作的?/Scrum 真的好嗎 ?)</h4><p>看情境</p>\n<blockquote>\n<p>Agile 適合應付變化，而目前的世界變化很大。<br>不要為了 Scurm 而 Scurm 。<br>那樣會變成盲從，看見你的需要，務實的變革。</p>\n</blockquote>\n<h4 id=\"用一個問題打敗一個問題-Ruddy老師引導法\"><a href=\"#用一個問題打敗一個問題-Ruddy老師引導法\" class=\"headerlink\" title=\"用一個問題打敗一個問題(Ruddy老師引導法)\"></a>用一個問題打敗一個問題(Ruddy老師引導法)</h4><p>找到核心的問題，然後問 「怎麼作 ?」<br>學員回答後，老師常常會說「這是一個方法」，然後給予回饋。</p>\n<blockquote>\n<p>這句話的潛台詞是「還有其它的方法」。</p>\n</blockquote>\n<h4 id=\"團隊成員恐懼端到端的開發-新手SM與新手團隊\"><a href=\"#團隊成員恐懼端到端的開發-新手SM與新手團隊\" class=\"headerlink\" title=\"團隊成員恐懼端到端的開發(新手SM與新手團隊)\"></a>團隊成員恐懼端到端的開發(新手SM與新手團隊)</h4><ul>\n<li>讓 1 個 Sprint 先完成 1個最高優先級的Item (初期導入 Scurm 怎麼作?)</li>\n</ul>\n<blockquote>\n<p>Scurm 對團隊的要求其實蠻高的，<br>但是我們不需要端到端的工程師，而是團隊。<br>巴士因子可以是個判斷指標。<br>另外限制理論[求補充]告訴我們瓶頸會跑來跑去，所以要持續觀注與改善。</p>\n</blockquote>\n<h4 id=\"團隊估點從-100-→-200-Data-Team-從沒有信心-Commit-到-…\"><a href=\"#團隊估點從-100-→-200-Data-Team-從沒有信心-Commit-到-…\" class=\"headerlink\" title=\"團隊估點從 100 → 200 (Data Team 從沒有信心 Commit 到 $#@…)\"></a>團隊估點從 100 → 200 (Data Team 從沒有信心 Commit 到 $#@…)</h4><blockquote>\n<p>這個點數的增長不合理，而且還是以時數點數，<br>沒有任何東西可以讓一天變成 48 小時(喔…有人說，加班可以讓8小時變16小時)<br>持續觀注，如果失敗了就讓它失敗吧…<br>但是要失敗的有意義。</p>\n</blockquote>\n<h5 id=\"後續\"><a href=\"#後續\" class=\"headerlink\" title=\"後續\"></a>後續</h5><p>11/23 團隊作的工作量實際上達到 254/3xx (Commit 3xx，完成254。)，<br>sprint 是成功的，但是 Velocity 是失準的。</p>\n<blockquote>\n<p>小心得: </p>\n<ol>\n<li>所謂的 Commit 如果不是對自已 Commit 起不了激勵作用，<br>如果 Team 與 PO 不認為「我們是一個Team」，而還是分 PMO 與 R&amp;D<br>那麼 Commit 就會變成畫押背鍋的儀式。</li>\n<li>氣象報告失準怎麼辦，颱風沒來大家都開心嗎？(從 100→254，是效率大爆發，還是浮報點數了？)</li>\n</ol>\n</blockquote>\n<h4 id=\"Scrum-的神奇魔力\"><a href=\"#Scrum-的神奇魔力\" class=\"headerlink\" title=\"Scrum 的神奇魔力\"></a>Scrum 的神奇魔力</h4><p><img src=\"https://i.imgur.com/T3BV4F3.png\" alt></p>\n<h4 id=\"當老闆就是-PO-PO-與-Scrum-Master-出現了階級關係\"><a href=\"#當老闆就是-PO-PO-與-Scrum-Master-出現了階級關係\" class=\"headerlink\" title=\"當老闆就是 PO (PO 與 Scrum Master 出現了階級關係)\"></a>當老闆就是 PO (PO 與 Scrum Master 出現了階級關係)</h4><ul>\n<li>找一個小 PO (作 PO 真正該作的事)</li>\n</ul>\n<blockquote>\n<p>正視真正的問題是「你沒有 PO」</p>\n</blockquote>\n<h4 id=\"當-Team-在兩個作法兩難的時候\"><a href=\"#當-Team-在兩個作法兩難的時候\" class=\"headerlink\" title=\"當 Team 在兩個作法兩難的時候\"></a>當 Team 在兩個作法兩難的時候</h4><ul>\n<li>作一個 Check Point，保留可以回來重新審視的機會</li>\n</ul>\n<blockquote>\n<p>現實中有遇到類似的狀況，<br>執行的當下會列出所有的優缺點，再作選擇。<br>作完之後問自已，再作一次你會怎麼選擇 ?</p>\n</blockquote>\n<h4 id=\"成員本來會多作優化，跑-Scurm-之後沒在-Task-之上的事不作了。ex-重構、優化…\"><a href=\"#成員本來會多作優化，跑-Scurm-之後沒在-Task-之上的事不作了。ex-重構、優化…\" class=\"headerlink\" title=\"成員本來會多作優化，跑 Scurm 之後沒在 Task 之上的事不作了。ex:重構、優化…)\"></a>成員本來會多作優化，跑 Scurm 之後沒在 Task 之上的事不作了。ex:重構、優化…)</h4><blockquote>\n<p>在 DoD 應該可以解決這個問題，如果現況不會有問題，為什麼要作?<br>先作 Task 有列出來東西我覺得基本上是對的。<br>SM 的問題是「認為該作，但是沒有技術 Know How 所以不知道該列什麼?」<br>那還沒有跑 Scrum 前如何評量這個項目的效果呢?<br>至少在 Scrum 中我認為可以透過 Velocity 作為指標。<br>也可以透過 DoD 決定品質的程度(ex:)。<br>另外，重構不是重作，<br>重構應該是時時發生的，寫測試可以讓這件事被量化，<br>難以測試的代碼本身就有一定的壞味道(工程實踐與遇到的困難就以後再寫了…)。</p>\n</blockquote>\n<h4 id=\"Team-不該-Challenge-Item-Value-嗎-這樣跟以前需求來就作有什麼不同\"><a href=\"#Team-不該-Challenge-Item-Value-嗎-這樣跟以前需求來就作有什麼不同\" class=\"headerlink\" title=\"Team 不該 Challenge Item Value 嗎 ?(這樣跟以前需求來就作有什麼不同?)\"></a>Team 不該 Challenge Item Value 嗎 ?(這樣跟以前需求來就作有什麼不同?)</h4><blockquote>\n<p>在 Scrum 中,<br>PO 觀注 Why ,觀注產品價值 ,觀注市場與策略<br>Team 可以決定怎麼作，與 PO 討論理解為什麼要這麼作，<br>並不是所謂的「需求來就作」，而把 PMO 的角色拿掉，<br>是為了減少隔閤，讓團隊更接近商務端。<br>聽起來這個情境，Team 與 PO 仍有抗拒心理…</p>\n</blockquote>\n<h4 id=\"身兼開發的-Scrum-Master\"><a href=\"#身兼開發的-Scrum-Master\" class=\"headerlink\" title=\"身兼開發的 Scrum Master\"></a>身兼開發的 Scrum Master</h4><p>Team(1+1+1+1…) x SM (0.9 or 1.1) = 生產力<br>讓 SM 成為乘數，而不要成為加數</p>\n<blockquote>\n<p>小地雷:如果乘數小於1(如何評量SM指數?)</p>\n</blockquote>\n<h4 id=\"業務單位的務實\"><a href=\"#業務單位的務實\" class=\"headerlink\" title=\"業務單位的務實\"></a>業務單位的務實</h4><blockquote>\n<p>業務/老闆會說，我才不管什麼開發方法，<br>作出來就好了(黑貓白貓能抓老鼠就是好貓…)<br>很務實，但是很傷害團隊…，不要有機會讓團隊聽到這種話</p>\n</blockquote>\n<h4 id=\"結束就結束了。\"><a href=\"#結束就結束了。\" class=\"headerlink\" title=\"結束就結束了。\"></a>結束就結束了。</h4><h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://medium.com/terryisbloggingonagile/%E5%BF%83%E5%BE%97-scrummaster%E8%87%AA%E6%88%91%E7%AA%81%E7%A0%B4%E8%A8%93%E7%B7%B4%E7%87%9F-3ce6f7c8c6\" target=\"_blank\" rel=\"noopener\">[心得] ScrumMaster自我突破訓練營</a></li>\n<li><a href=\"https://medium.com/@imfufu/scrummaster-%E8%87%AA%E6%88%91%E7%AA%81%E7%A0%B4%E8%A8%93%E7%B7%B4%E7%87%9F-in-91app-scrummaster%E7%9A%84%E7%94%9F%E5%AD%98%E4%B9%8B%E9%81%93-678f0774d967\" target=\"_blank\" rel=\"noopener\">ScrumMaster 自我突破訓練營 in 91APP ：ScrumMaster的生存之道</a></li>\n<li><a href=\"https://drive.google.com/file/d/1CmJJGP7dpnSUzUP3ZrA8nNO1a6aKxM0Z/view?usp=sharing\" target=\"_blank\" rel=\"noopener\">ORID簡報- By 茶米</a></li>\n<li><a href=\"https://medium.com/@linchi/scrum-master%E8%87%AA%E6%88%91%E7%AA%81%E7%A0%B4%E8%A8%93%E7%B7%B4%E7%87%9F-%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB-9846fa255a27\" target=\"_blank\" rel=\"noopener\">Scrum Master自我突破訓練營 — 心得分享</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[學習筆記]AWS EC2開機筆記","date":"2017-12-08T08:42:42.000Z","_content":"## 應該知道的事\n- 這個是教育訓練的筆記\n- 使用web console 建立ec2\n- 使用cli 建立ec2\n- 2017的筆記可能會隨時間變得沒有參考價值\n- 關鍵參數都打馬賽克,沒有牽扯到EBS/S3/VPC\n- 對你可能沒有幫助\n\n## Web Console\n\n1. login AWS\n\n2. 進入EC2\n![](https://i.imgur.com/hRFwjzr.jpg)\n\n3. Launch Instance\n![](https://i.imgur.com/g9vlacA.jpg)\n\n4. 選擇AMI(Amazon Machine Image )\n![](https://i.imgur.com/dVKPsAp.jpg)\n\n5. 選擇Instance Type(有錢隨便選,沒錢選t2.nano)\n![](https://i.imgur.com/61gG2pd.jpg)\n\n6. 設定 Instance Details\n![](https://i.imgur.com/NkbKrzL.jpg)\n\n7. 如果想在開機的時候自動安裝一些程式,可以在`Advanced Details` 加語法\nwindows AMI請用 `Powershell`\n![](https://i.imgur.com/bJxWlgd.jpg)\n\n8. 加硬碟\n![](https://i.imgur.com/MP9igLc.jpg)\n\n9. 加tag\n![](https://i.imgur.com/xDTx2nv.jpg)\n\n10. 設定Configure Security Group\n![](https://i.imgur.com/wximWw1.jpg)\n\n11. 預覽與啟動\n![](https://i.imgur.com/6Y4fcOI.jpg)\n\n12. 最後一步,選擇key-pair \n![](https://i.imgur.com/fRhUafI.jpg)\n\n\n\n\n## CLI command\n\n```\naws ec2 run-instances --image-id ami-da9e2cbc --count 1 --instance-type t2.nano --subnet-id subnet-cxxxxxxx --user-data file://userdata.sh --tag-specifications \"ResourceType=instance,Tags=[{Key=Environment,Value=AWS-Training},{Key=Name,Value=AWS-Training_MarkLin}]\" --security-group-ids sg-XXXXXX --key-name marktest.japan.training\n```\n\n## 參考文章\n- [run-instances](http://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html)\n\n(fin)\n","source":"_posts/2018/cloud_learn/aws_creat_ec2_instance.md","raw":"---\ntitle: \"[學習筆記]AWS EC2開機筆記\"\ndate: 2017/12/08 16:42:42\ntag:\n  - AWS\n  - EC2\n---\n## 應該知道的事\n- 這個是教育訓練的筆記\n- 使用web console 建立ec2\n- 使用cli 建立ec2\n- 2017的筆記可能會隨時間變得沒有參考價值\n- 關鍵參數都打馬賽克,沒有牽扯到EBS/S3/VPC\n- 對你可能沒有幫助\n\n## Web Console\n\n1. login AWS\n\n2. 進入EC2\n![](https://i.imgur.com/hRFwjzr.jpg)\n\n3. Launch Instance\n![](https://i.imgur.com/g9vlacA.jpg)\n\n4. 選擇AMI(Amazon Machine Image )\n![](https://i.imgur.com/dVKPsAp.jpg)\n\n5. 選擇Instance Type(有錢隨便選,沒錢選t2.nano)\n![](https://i.imgur.com/61gG2pd.jpg)\n\n6. 設定 Instance Details\n![](https://i.imgur.com/NkbKrzL.jpg)\n\n7. 如果想在開機的時候自動安裝一些程式,可以在`Advanced Details` 加語法\nwindows AMI請用 `Powershell`\n![](https://i.imgur.com/bJxWlgd.jpg)\n\n8. 加硬碟\n![](https://i.imgur.com/MP9igLc.jpg)\n\n9. 加tag\n![](https://i.imgur.com/xDTx2nv.jpg)\n\n10. 設定Configure Security Group\n![](https://i.imgur.com/wximWw1.jpg)\n\n11. 預覽與啟動\n![](https://i.imgur.com/6Y4fcOI.jpg)\n\n12. 最後一步,選擇key-pair \n![](https://i.imgur.com/fRhUafI.jpg)\n\n\n\n\n## CLI command\n\n```\naws ec2 run-instances --image-id ami-da9e2cbc --count 1 --instance-type t2.nano --subnet-id subnet-cxxxxxxx --user-data file://userdata.sh --tag-specifications \"ResourceType=instance,Tags=[{Key=Environment,Value=AWS-Training},{Key=Name,Value=AWS-Training_MarkLin}]\" --security-group-ids sg-XXXXXX --key-name marktest.japan.training\n```\n\n## 參考文章\n- [run-instances](http://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html)\n\n(fin)\n","slug":"2018/cloud_learn/aws_creat_ec2_instance","published":1,"updated":"2019-06-10T14:43:28.911Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wpv006pb0vxpa6u544s","content":"<h2 id=\"應該知道的事\"><a href=\"#應該知道的事\" class=\"headerlink\" title=\"應該知道的事\"></a>應該知道的事</h2><ul>\n<li>這個是教育訓練的筆記</li>\n<li>使用web console 建立ec2</li>\n<li>使用cli 建立ec2</li>\n<li>2017的筆記可能會隨時間變得沒有參考價值</li>\n<li>關鍵參數都打馬賽克,沒有牽扯到EBS/S3/VPC</li>\n<li>對你可能沒有幫助</li>\n</ul>\n<h2 id=\"Web-Console\"><a href=\"#Web-Console\" class=\"headerlink\" title=\"Web Console\"></a>Web Console</h2><ol>\n<li><p>login AWS</p>\n</li>\n<li><p>進入EC2<br><img src=\"https://i.imgur.com/hRFwjzr.jpg\" alt></p>\n</li>\n<li><p>Launch Instance<br><img src=\"https://i.imgur.com/g9vlacA.jpg\" alt></p>\n</li>\n<li><p>選擇AMI(Amazon Machine Image )<br><img src=\"https://i.imgur.com/dVKPsAp.jpg\" alt></p>\n</li>\n<li><p>選擇Instance Type(有錢隨便選,沒錢選t2.nano)<br><img src=\"https://i.imgur.com/61gG2pd.jpg\" alt></p>\n</li>\n<li><p>設定 Instance Details<br><img src=\"https://i.imgur.com/NkbKrzL.jpg\" alt></p>\n</li>\n<li><p>如果想在開機的時候自動安裝一些程式,可以在<code>Advanced Details</code> 加語法<br>windows AMI請用 <code>Powershell</code><br><img src=\"https://i.imgur.com/bJxWlgd.jpg\" alt></p>\n</li>\n<li><p>加硬碟<br><img src=\"https://i.imgur.com/MP9igLc.jpg\" alt></p>\n</li>\n<li><p>加tag<br><img src=\"https://i.imgur.com/xDTx2nv.jpg\" alt></p>\n</li>\n<li><p>設定Configure Security Group<br><img src=\"https://i.imgur.com/wximWw1.jpg\" alt></p>\n</li>\n<li><p>預覽與啟動<br><img src=\"https://i.imgur.com/6Y4fcOI.jpg\" alt></p>\n</li>\n<li><p>最後一步,選擇key-pair<br><img src=\"https://i.imgur.com/fRhUafI.jpg\" alt></p>\n</li>\n</ol>\n<h2 id=\"CLI-command\"><a href=\"#CLI-command\" class=\"headerlink\" title=\"CLI command\"></a>CLI command</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">aws ec2 run-instances --image-id ami-da9e2cbc --count 1 --instance-type t2.nano --subnet-id subnet-cxxxxxxx --user-data file://userdata.sh --tag-specifications &quot;ResourceType=instance,Tags=[&#123;Key=Environment,Value=AWS-Training&#125;,&#123;Key=Name,Value=AWS-Training_MarkLin&#125;]&quot; --security-group-ids sg-XXXXXX --key-name marktest.japan.training</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"參考文章\"><a href=\"#參考文章\" class=\"headerlink\" title=\"參考文章\"></a>參考文章</h2><ul>\n<li><a href=\"http://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html\" target=\"_blank\" rel=\"noopener\">run-instances</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"應該知道的事\"><a href=\"#應該知道的事\" class=\"headerlink\" title=\"應該知道的事\"></a>應該知道的事</h2><ul>\n<li>這個是教育訓練的筆記</li>\n<li>使用web console 建立ec2</li>\n<li>使用cli 建立ec2</li>\n<li>2017的筆記可能會隨時間變得沒有參考價值</li>\n<li>關鍵參數都打馬賽克,沒有牽扯到EBS/S3/VPC</li>\n<li>對你可能沒有幫助</li>\n</ul>\n<h2 id=\"Web-Console\"><a href=\"#Web-Console\" class=\"headerlink\" title=\"Web Console\"></a>Web Console</h2><ol>\n<li><p>login AWS</p>\n</li>\n<li><p>進入EC2<br><img src=\"https://i.imgur.com/hRFwjzr.jpg\" alt></p>\n</li>\n<li><p>Launch Instance<br><img src=\"https://i.imgur.com/g9vlacA.jpg\" alt></p>\n</li>\n<li><p>選擇AMI(Amazon Machine Image )<br><img src=\"https://i.imgur.com/dVKPsAp.jpg\" alt></p>\n</li>\n<li><p>選擇Instance Type(有錢隨便選,沒錢選t2.nano)<br><img src=\"https://i.imgur.com/61gG2pd.jpg\" alt></p>\n</li>\n<li><p>設定 Instance Details<br><img src=\"https://i.imgur.com/NkbKrzL.jpg\" alt></p>\n</li>\n<li><p>如果想在開機的時候自動安裝一些程式,可以在<code>Advanced Details</code> 加語法<br>windows AMI請用 <code>Powershell</code><br><img src=\"https://i.imgur.com/bJxWlgd.jpg\" alt></p>\n</li>\n<li><p>加硬碟<br><img src=\"https://i.imgur.com/MP9igLc.jpg\" alt></p>\n</li>\n<li><p>加tag<br><img src=\"https://i.imgur.com/xDTx2nv.jpg\" alt></p>\n</li>\n<li><p>設定Configure Security Group<br><img src=\"https://i.imgur.com/wximWw1.jpg\" alt></p>\n</li>\n<li><p>預覽與啟動<br><img src=\"https://i.imgur.com/6Y4fcOI.jpg\" alt></p>\n</li>\n<li><p>最後一步,選擇key-pair<br><img src=\"https://i.imgur.com/fRhUafI.jpg\" alt></p>\n</li>\n</ol>\n<h2 id=\"CLI-command\"><a href=\"#CLI-command\" class=\"headerlink\" title=\"CLI command\"></a>CLI command</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">aws ec2 run-instances --image-id ami-da9e2cbc --count 1 --instance-type t2.nano --subnet-id subnet-cxxxxxxx --user-data file://userdata.sh --tag-specifications &quot;ResourceType=instance,Tags=[&#123;Key=Environment,Value=AWS-Training&#125;,&#123;Key=Name,Value=AWS-Training_MarkLin&#125;]&quot; --security-group-ids sg-XXXXXX --key-name marktest.japan.training</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"參考文章\"><a href=\"#參考文章\" class=\"headerlink\" title=\"參考文章\"></a>參考文章</h2><ul>\n<li><a href=\"http://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html\" target=\"_blank\" rel=\"noopener\">run-instances</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[學習筆記]AWS 註冊到建立安全性帳戶","date":"2018-01-26T06:24:16.000Z","_content":"## 該知道的事\n\n1. 僅作為學習 AWS 的過程記錄用\n2. 可能對你有幫助\n3. 可能對你沒幫助\n4. 有沒有幫助都歡迎你提出問題與討論 \n\n## 創建帳號\n\n這段蠻簡單的,不贅敘 \n特別一提的事`可以使用有VISA的金融卡作金額控管`\n比起信用卡動輒數萬到數十萬的額度,\n金融卡可以更彈性,而且精準的控制預算.\n\n另外說一下,現在AWS有一年的免費額度(已經有好一陣子了),  \n~~在註冊流程跳過付款方式的設定,~~  \n~~實際上也是可以操作的AWS的(目前只有設定IAM).~~\n(2018/01/31更新)\n確定`可以使用有VISA的金融卡`開戶,\n另外當要實際使用 AWS 的服務時 EX: EC2, Lambda etc... \n需要綁定信用卡(VISA金融卡也可以)才能繼續使用.\n\n綁定的過程會需要輸入電話,  \nAWS 會撥一通電話給你,  \n螢幕上會出現4個數字,  \n照畫面輸入即可完成信用卡(VISA金融卡)的驗証.\n\n## 權限控管\n\n### Root User\n![](https://i.imgur.com/kRBApSO.jpg)\n完成註冊後,一開始只能使用email登入,這個帳號可以存取AWS所有服務.\nAWS**不建議使用Root User作為日常的管理帳戶, Root User 應該只被用來建立第一個IAM**\n\n#### 重點項目\n1. Root User 啟用 [MFA](https://aws.amazon.com/iam/details/mfa/)\n![](https://i.imgur.com/X3T5poV.jpg)\n首先要下載驗証程式(Google Authenticator),\n然後下一步到以下畫面時, 用Authenticator掃瞄QR Code,\n**連續輸入兩次授權碼(輸入完第一組後,等待新的授權碼出現再輸入)**\n![](https://i.imgur.com/viNBe2p.jpg)\n可以在 [IAM Console](https://console.aws.amazon.com/iam/home) 檢查成功了沒\n![](https://i.imgur.com/JcC9NVz.jpg)\n\n2. 建立 IAM User 與指定 Group 權限\nAWS IAM 的權限觀念是透過 User 與 Group 來組合的,\n權限是授與 Group , 而 User 隸屬於 Group 便擁有其權限,\n同時 AWS 提供多組(347組)預設的 Policies, 讓人選擇\n當然也可以建立自已的 Policy. \n**不確定有沒有反向的 Policy ,*\n*如果有當不同的 Group Policy 有衝突時該如何處理.*\n\n![](https://i.imgur.com/Ry9M2sj.jpg)\n建立使用者時, 使用AutoGenerated Password時\n要記得取得 password\n在最後一步會按下show就會顯示\n![](https://i.imgur.com/8DOmpsg.jpg)\n\n3. 設定 AWS Account ID 與 Alias\n![](https://i.imgur.com/ETV1LMR.jpg)\n\n\n## Q & A\n1. 如何禁用 Root user 登入 ? 可以停用而不刪除一個 user account 嗎？\n```\nroot account 無法停用\nIAM User 可以透過 disable passwd 方式停用\nroot account 基本的 practice\n1. 啟用 MFA\n2. 移除 Access Creditenail\n概念就跟 Winodws Administrator or Linux root 一樣\n需要時再用\n```\n\n## 參考\n- [Root User Account](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_root-user.html)\n- [建立第一個IAM USER](https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#create-iam-users)\n\n(fin)","source":"_posts/2018/cloud_learn/aws_startup_with_iam.md","raw":"---\ntitle: \"[學習筆記]AWS 註冊到建立安全性帳戶\"\ndate: 2018/01/26 14:24:16\ntag:\n  - AWS\n  - IAM\n  - Root User\n---\n## 該知道的事\n\n1. 僅作為學習 AWS 的過程記錄用\n2. 可能對你有幫助\n3. 可能對你沒幫助\n4. 有沒有幫助都歡迎你提出問題與討論 \n\n## 創建帳號\n\n這段蠻簡單的,不贅敘 \n特別一提的事`可以使用有VISA的金融卡作金額控管`\n比起信用卡動輒數萬到數十萬的額度,\n金融卡可以更彈性,而且精準的控制預算.\n\n另外說一下,現在AWS有一年的免費額度(已經有好一陣子了),  \n~~在註冊流程跳過付款方式的設定,~~  \n~~實際上也是可以操作的AWS的(目前只有設定IAM).~~\n(2018/01/31更新)\n確定`可以使用有VISA的金融卡`開戶,\n另外當要實際使用 AWS 的服務時 EX: EC2, Lambda etc... \n需要綁定信用卡(VISA金融卡也可以)才能繼續使用.\n\n綁定的過程會需要輸入電話,  \nAWS 會撥一通電話給你,  \n螢幕上會出現4個數字,  \n照畫面輸入即可完成信用卡(VISA金融卡)的驗証.\n\n## 權限控管\n\n### Root User\n![](https://i.imgur.com/kRBApSO.jpg)\n完成註冊後,一開始只能使用email登入,這個帳號可以存取AWS所有服務.\nAWS**不建議使用Root User作為日常的管理帳戶, Root User 應該只被用來建立第一個IAM**\n\n#### 重點項目\n1. Root User 啟用 [MFA](https://aws.amazon.com/iam/details/mfa/)\n![](https://i.imgur.com/X3T5poV.jpg)\n首先要下載驗証程式(Google Authenticator),\n然後下一步到以下畫面時, 用Authenticator掃瞄QR Code,\n**連續輸入兩次授權碼(輸入完第一組後,等待新的授權碼出現再輸入)**\n![](https://i.imgur.com/viNBe2p.jpg)\n可以在 [IAM Console](https://console.aws.amazon.com/iam/home) 檢查成功了沒\n![](https://i.imgur.com/JcC9NVz.jpg)\n\n2. 建立 IAM User 與指定 Group 權限\nAWS IAM 的權限觀念是透過 User 與 Group 來組合的,\n權限是授與 Group , 而 User 隸屬於 Group 便擁有其權限,\n同時 AWS 提供多組(347組)預設的 Policies, 讓人選擇\n當然也可以建立自已的 Policy. \n**不確定有沒有反向的 Policy ,*\n*如果有當不同的 Group Policy 有衝突時該如何處理.*\n\n![](https://i.imgur.com/Ry9M2sj.jpg)\n建立使用者時, 使用AutoGenerated Password時\n要記得取得 password\n在最後一步會按下show就會顯示\n![](https://i.imgur.com/8DOmpsg.jpg)\n\n3. 設定 AWS Account ID 與 Alias\n![](https://i.imgur.com/ETV1LMR.jpg)\n\n\n## Q & A\n1. 如何禁用 Root user 登入 ? 可以停用而不刪除一個 user account 嗎？\n```\nroot account 無法停用\nIAM User 可以透過 disable passwd 方式停用\nroot account 基本的 practice\n1. 啟用 MFA\n2. 移除 Access Creditenail\n概念就跟 Winodws Administrator or Linux root 一樣\n需要時再用\n```\n\n## 參考\n- [Root User Account](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_root-user.html)\n- [建立第一個IAM USER](https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#create-iam-users)\n\n(fin)","slug":"2018/cloud_learn/aws_startup_with_iam","published":1,"updated":"2019-06-10T14:43:28.911Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wpv006rb0vx434wknhy","content":"<h2 id=\"該知道的事\"><a href=\"#該知道的事\" class=\"headerlink\" title=\"該知道的事\"></a>該知道的事</h2><ol>\n<li>僅作為學習 AWS 的過程記錄用</li>\n<li>可能對你有幫助</li>\n<li>可能對你沒幫助</li>\n<li>有沒有幫助都歡迎你提出問題與討論 </li>\n</ol>\n<h2 id=\"創建帳號\"><a href=\"#創建帳號\" class=\"headerlink\" title=\"創建帳號\"></a>創建帳號</h2><p>這段蠻簡單的,不贅敘<br>特別一提的事<code>可以使用有VISA的金融卡作金額控管</code><br>比起信用卡動輒數萬到數十萬的額度,<br>金融卡可以更彈性,而且精準的控制預算.</p>\n<p>另外說一下,現在AWS有一年的免費額度(已經有好一陣子了),<br><del>在註冊流程跳過付款方式的設定,</del><br><del>實際上也是可以操作的AWS的(目前只有設定IAM).</del><br>(2018/01/31更新)<br>確定<code>可以使用有VISA的金融卡</code>開戶,<br>另外當要實際使用 AWS 的服務時 EX: EC2, Lambda etc…<br>需要綁定信用卡(VISA金融卡也可以)才能繼續使用.</p>\n<p>綁定的過程會需要輸入電話,<br>AWS 會撥一通電話給你,<br>螢幕上會出現4個數字,<br>照畫面輸入即可完成信用卡(VISA金融卡)的驗証.</p>\n<h2 id=\"權限控管\"><a href=\"#權限控管\" class=\"headerlink\" title=\"權限控管\"></a>權限控管</h2><h3 id=\"Root-User\"><a href=\"#Root-User\" class=\"headerlink\" title=\"Root User\"></a>Root User</h3><p><img src=\"https://i.imgur.com/kRBApSO.jpg\" alt><br>完成註冊後,一開始只能使用email登入,這個帳號可以存取AWS所有服務.<br>AWS<strong>不建議使用Root User作為日常的管理帳戶, Root User 應該只被用來建立第一個IAM</strong></p>\n<h4 id=\"重點項目\"><a href=\"#重點項目\" class=\"headerlink\" title=\"重點項目\"></a>重點項目</h4><ol>\n<li>Root User 啟用 <a href=\"https://aws.amazon.com/iam/details/mfa/\" target=\"_blank\" rel=\"noopener\">MFA</a><br><img src=\"https://i.imgur.com/X3T5poV.jpg\" alt><br>首先要下載驗証程式(Google Authenticator),<br>然後下一步到以下畫面時, 用Authenticator掃瞄QR Code,</li>\n</ol>\n<p><strong>連續輸入兩次授權碼(輸入完第一組後,等待新的授權碼出現再輸入)</strong><br><img src=\"https://i.imgur.com/viNBe2p.jpg\" alt><br>可以在 <a href=\"https://console.aws.amazon.com/iam/home\" target=\"_blank\" rel=\"noopener\">IAM Console</a> 檢查成功了沒<br><img src=\"https://i.imgur.com/JcC9NVz.jpg\" alt></p>\n<ol start=\"2\">\n<li>建立 IAM User 與指定 Group 權限<br>AWS IAM 的權限觀念是透過 User 與 Group 來組合的,<br>權限是授與 Group , 而 User 隸屬於 Group 便擁有其權限,<br>同時 AWS 提供多組(347組)預設的 Policies, 讓人選擇<br>當然也可以建立自已的 Policy. </li>\n</ol>\n<p><em>*不確定有沒有反向的 Policy ,</em><br><em>如果有當不同的 Group Policy 有衝突時該如何處理.</em></p>\n<p><img src=\"https://i.imgur.com/Ry9M2sj.jpg\" alt><br>建立使用者時, 使用AutoGenerated Password時<br>要記得取得 password<br>在最後一步會按下show就會顯示<br><img src=\"https://i.imgur.com/8DOmpsg.jpg\" alt></p>\n<ol start=\"3\">\n<li>設定 AWS Account ID 與 Alias<br><img src=\"https://i.imgur.com/ETV1LMR.jpg\" alt></li>\n</ol>\n<h2 id=\"Q-amp-A\"><a href=\"#Q-amp-A\" class=\"headerlink\" title=\"Q &amp; A\"></a>Q &amp; A</h2><ol>\n<li>如何禁用 Root user 登入 ? 可以停用而不刪除一個 user account 嗎？<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root account 無法停用</span><br><span class=\"line\">IAM User 可以透過 disable passwd 方式停用</span><br><span class=\"line\">root account 基本的 practice</span><br><span class=\"line\">1. 啟用 MFA</span><br><span class=\"line\">2. 移除 Access Creditenail</span><br><span class=\"line\">概念就跟 Winodws Administrator or Linux root 一樣</span><br><span class=\"line\">需要時再用</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_root-user.html\" target=\"_blank\" rel=\"noopener\">Root User Account</a></li>\n<li><a href=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#create-iam-users\" target=\"_blank\" rel=\"noopener\">建立第一個IAM USER</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"該知道的事\"><a href=\"#該知道的事\" class=\"headerlink\" title=\"該知道的事\"></a>該知道的事</h2><ol>\n<li>僅作為學習 AWS 的過程記錄用</li>\n<li>可能對你有幫助</li>\n<li>可能對你沒幫助</li>\n<li>有沒有幫助都歡迎你提出問題與討論 </li>\n</ol>\n<h2 id=\"創建帳號\"><a href=\"#創建帳號\" class=\"headerlink\" title=\"創建帳號\"></a>創建帳號</h2><p>這段蠻簡單的,不贅敘<br>特別一提的事<code>可以使用有VISA的金融卡作金額控管</code><br>比起信用卡動輒數萬到數十萬的額度,<br>金融卡可以更彈性,而且精準的控制預算.</p>\n<p>另外說一下,現在AWS有一年的免費額度(已經有好一陣子了),<br><del>在註冊流程跳過付款方式的設定,</del><br><del>實際上也是可以操作的AWS的(目前只有設定IAM).</del><br>(2018/01/31更新)<br>確定<code>可以使用有VISA的金融卡</code>開戶,<br>另外當要實際使用 AWS 的服務時 EX: EC2, Lambda etc…<br>需要綁定信用卡(VISA金融卡也可以)才能繼續使用.</p>\n<p>綁定的過程會需要輸入電話,<br>AWS 會撥一通電話給你,<br>螢幕上會出現4個數字,<br>照畫面輸入即可完成信用卡(VISA金融卡)的驗証.</p>\n<h2 id=\"權限控管\"><a href=\"#權限控管\" class=\"headerlink\" title=\"權限控管\"></a>權限控管</h2><h3 id=\"Root-User\"><a href=\"#Root-User\" class=\"headerlink\" title=\"Root User\"></a>Root User</h3><p><img src=\"https://i.imgur.com/kRBApSO.jpg\" alt><br>完成註冊後,一開始只能使用email登入,這個帳號可以存取AWS所有服務.<br>AWS<strong>不建議使用Root User作為日常的管理帳戶, Root User 應該只被用來建立第一個IAM</strong></p>\n<h4 id=\"重點項目\"><a href=\"#重點項目\" class=\"headerlink\" title=\"重點項目\"></a>重點項目</h4><ol>\n<li>Root User 啟用 <a href=\"https://aws.amazon.com/iam/details/mfa/\" target=\"_blank\" rel=\"noopener\">MFA</a><br><img src=\"https://i.imgur.com/X3T5poV.jpg\" alt><br>首先要下載驗証程式(Google Authenticator),<br>然後下一步到以下畫面時, 用Authenticator掃瞄QR Code,</li>\n</ol>\n<p><strong>連續輸入兩次授權碼(輸入完第一組後,等待新的授權碼出現再輸入)</strong><br><img src=\"https://i.imgur.com/viNBe2p.jpg\" alt><br>可以在 <a href=\"https://console.aws.amazon.com/iam/home\" target=\"_blank\" rel=\"noopener\">IAM Console</a> 檢查成功了沒<br><img src=\"https://i.imgur.com/JcC9NVz.jpg\" alt></p>\n<ol start=\"2\">\n<li>建立 IAM User 與指定 Group 權限<br>AWS IAM 的權限觀念是透過 User 與 Group 來組合的,<br>權限是授與 Group , 而 User 隸屬於 Group 便擁有其權限,<br>同時 AWS 提供多組(347組)預設的 Policies, 讓人選擇<br>當然也可以建立自已的 Policy. </li>\n</ol>\n<p><em>*不確定有沒有反向的 Policy ,</em><br><em>如果有當不同的 Group Policy 有衝突時該如何處理.</em></p>\n<p><img src=\"https://i.imgur.com/Ry9M2sj.jpg\" alt><br>建立使用者時, 使用AutoGenerated Password時<br>要記得取得 password<br>在最後一步會按下show就會顯示<br><img src=\"https://i.imgur.com/8DOmpsg.jpg\" alt></p>\n<ol start=\"3\">\n<li>設定 AWS Account ID 與 Alias<br><img src=\"https://i.imgur.com/ETV1LMR.jpg\" alt></li>\n</ol>\n<h2 id=\"Q-amp-A\"><a href=\"#Q-amp-A\" class=\"headerlink\" title=\"Q &amp; A\"></a>Q &amp; A</h2><ol>\n<li>如何禁用 Root user 登入 ? 可以停用而不刪除一個 user account 嗎？<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root account 無法停用</span><br><span class=\"line\">IAM User 可以透過 disable passwd 方式停用</span><br><span class=\"line\">root account 基本的 practice</span><br><span class=\"line\">1. 啟用 MFA</span><br><span class=\"line\">2. 移除 Access Creditenail</span><br><span class=\"line\">概念就跟 Winodws Administrator or Linux root 一樣</span><br><span class=\"line\">需要時再用</span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_root-user.html\" target=\"_blank\" rel=\"noopener\">Root User Account</a></li>\n<li><a href=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#create-iam-users\" target=\"_blank\" rel=\"noopener\">建立第一個IAM USER</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"CSM Day1","date":"2018-10-27T13:10:01.000Z","_content":"\n#### 課程簡介\n- Scrum Master 認証課程\n- 講師 ： [呂毅(Lv Yi)](https://blog.odd-e.com/yilv/)\n- 課前請看過 [Scurm Guide](https://scrumguides.org/docs/scrumguide/v2017/2017-Scrum-Guide-Chinese-Simplified.pdf) 與 [Scurm Primer](http://scrumprimer.org/scrum_primer_cn.pdf)\n\n\n#### 燃盡圖的壞味道\n\n如下，請忽略文字  \n上圖使用 Item 作為 y 軸單位 ，下圖使用 Task 作為 y 軸單位，  \n上圖直到最後一天，才瞬間完成所有 Item ，我稱之為跳崖式  \n下圖是在 Sprint 的過程中，Task 增加了，有可能是亂入也有可能是建立 Task 時不準確，我稱之為登山式。\n\n![&#x71C3;&#x76E1;&#x5716;&#x7684;&#x58DE;&#x5473;&#x9053;](/images/2018/csm/day_1/6B161347-8331-4BA7-89D2-61DA1DAD61B1.jpg)\n\n上圖的例子還算是樂觀的，畢竟最後 Sprint 都完成了，實務上更多是 Sprint Failed 。\n\n> 我在 C 公司時是使用 Task ， N 公司是使用 Item ，在 N 公司與 Scrum Master 討論都建議使用 Item 繪製，  \n> 最主要立論都在於 Item 才有價值，而 Task 只細部的工作項而已。但對於我的角色而言\\(Team Member\\)，  \n> 能看見 Task 起伏很重要，往上爬待表 Task 變多了，可能的原因有插件、未預期的項目等…，可以作。  \n>   \n> 一個大原則， PO 看 Item，Team 看 Task。  \n>   \n> Product Backlog 使用 Item 沒有問題，因為是 PO 在看的。  \n> Sprint Backlog 可以兩種都用，Task 燃盡圖可以看見 Task 的增加，或許使用 Kanban 就足夠了。  \n>   \n> **重點是，看見後要作什麼 ？**\n\n#### 觀注點的不同\n\n![PO &#x89C0;&#x6CE8; WHY &amp; WHAT &#xFF1B;Team &#x89C0;&#x6CE8; WHAT &amp; HOW](/images/2018/csm/day_1/00795F54-2654-4581-94BE-27068D4486DD.jpg)\n\n如上圖右下，在 Scrum 的角色中，PO 觀注 WHY & WHAT ； Team 觀注 WHAT & HOW ； 而 Scrum Master 觀注的點\n\n> 上圖中間的部份，則是我個人猜想，世界上大部份事情都可以被拆成 3+1；  \n> 恰巧這個 Context 符合我的猜想，就是市場、產品、錢，那個 1 我沒想到就順手先畫了下來。  \n> PO 觀注產品，目的要儘快的丟到市場去作測試，而達到盈利\\(錢\\)的目標。所以他要思考市場反應背後的原因\\(WHY\\)，  \n> 設想策略，提供產品\\(WHAT\\)，最後才會 Break Down 成一個個 Product Log 再進到 Scrum 的循環之中，  \n> 當團隊成功的交付了可發佈的產品，PO 才有了武器去市場作戰，才有機會取得回饋。\n\n* Time\n  * PO 觀注 Sprint\n  * Team 觀注 Daily\n* Scope\n  * PO 觀注 Item\n  * Team 觀注 Task\n* Cost\n  * PO 觀注 Teams\n  * Team 觀注 members\n\n\n\n\n![&#x5C08;&#x6848;&#x7BA1;&#x7406;&#x7684;&#x4E09;&#x500B;&#x7DAD;&#x5EA6;&#xFF0C;Time&#x3001;Cost &#x8207; Scope](/images/2018/csm/day_1/7D811AFE-A4C8-4FB4-BD90-B65FDFE0B6BE.jpg)\n\n### Done 、Undone & Debt\n\n＊建議先看影片([中文字幕支援](http://player.youku.com/embed/XMzMyNDIwMjYwOA)，[原始影片](https://www.youtube.com/watch?v=IyNPeTn8fpo))。\n\n> 如果你有杰出的工程團隊、最好的開發工具、運用正確的工程實踐\\(TDD、Code Review、Pair Programming etc…\\)、、\n對 Business Domain 與 Tech Domain 有深入理解 ,開發時不受干擾，並且擁有足夠的資源\n\n{% blockquote style=\"info\" %}\n太理想了嗎 ？\n\n* 在現實的考量中如何堅持開發者的良好實踐？ \n* 在缺乏實踐的環境如何導入？ \n* 在缺乏經驗的情況下如何學習 ？ \n* 在焦油坑中如何實踐 ？ \n* 你有說「不」的勇氣嗎？\n{% endblockquote %}\n\n回過頭來，如何定義完成，在 Scrum 的框架中對完成保留了很大的空間，PO 與 Team 的角度可能不儘相同，  \n所以由團隊來定義，模糊的空間很大。  \n\n> 同樣的定義用來指導開發團隊，讓團隊知道在短衝計劃會議中可以選擇多少產品待辦事項。 \n> 每一個短衝的目的是交付潛在可發佈的功能增量，而這些功能符合 Scrum 團隊目前對 「完成」之定義。\n\n{% blockquote style=\"info\" %}\n由 PO 主導的 DoD 會由商務與 PO 個人績效導向\\(如果有的話\\)，而工程上的重要實踐往往會被犧牲，  \n一方面是團隊成員對專業的堅持度不夠，一方面或許整體公司的開發文化就是如此。  \n\n這些事項是不是該落入 Task 之中 呢？\n\n* Retro 後產生的 Action Item \n* 教育訓練 \n{% endblockquote %}\n\nUnDone 的工作項目有很多，這意味著半成品\\(浪費\\)。\nUndone 的項目可是五花八門包羅萬像的，技術債、文件製作、修復錯誤等…，只要不符合完成的定義，是不是都算 Undone 呢 ？  \n但是有的時候的 Sprint Goal 是需要欠下一些債的，這中間是一個取捨與權衡的，所以記得保持透明；  \n你或許需要一個 Undone Sprint 來消弭這些 Undone Task。\n\n![\"Undone Work\"](/images/2018/csm/day_1/undone_work.jpg)\n\n注意 Undone 是會影響開發速率的，在 **Scrum 之中開發速率應該是個關鍵指標**，  \n不論你用 KPI、MBO 或 OKR 都應該觀注這個指標。  \n而速率是由經驗法則測得。當然有時為了快速交付，有些暫解是在所難免，要小心[ LeBlanc's Law](https://en.wikipedia.org/wiki/Talk%3AList_of_eponymous_laws#Proposal_to_add_LeBlanc's_law)，  \n這些債務除了團隊反應之外，更可以透過觀察速率指標，評估適當的時機消除與改善。  \n  \n在 Time、Cost 與 Scope 都被鎖死的情況下，結果往往是犧牲了品質。   \n~~舉例說明： 這個東西 11 月底要，不能 Delay ，交由你們作\\(不準增加開發成本\\)，功能我全都要。~~  \n\n> 品質的犧牲我竟然相對覺得還好…更可怕的是，「管理者」為了滿足那個鐵三角，而作出一些虛妄狡詐之事。  \n不僅僅是犧牲了品質，更給了高層錯誤訊息，甚至形成惡性循環，讓領導者作出錯誤判斷，更進一步的損耗品質。  \n最後成本提高、時間拉長與交付範圍不得不縮小，這不僅僅是鐵三角崩潰，連透明度與互信與也會失去。  \n\n**學習債 & Cross Learning**  \n  \nScrum Team 的成員組成有個前提，團隊具備完成端到端的開發的所有技能。  \n\n* 開發團隊 3~9 人\n* **開發團隊是跨職能的，團隊擁有產出產品增量所需要的所有技能。**\n\n如果產品所需的 Skill Set 很大，[巴士因子](https://zh.wikipedia.org/wiki/巴士因子)就容易過低；  \n比如說一個七人的團隊，要製作一個包含 Web、App\\(包含 iOS 、 Android \\)的產品。  \n人力與能力配置假設如下，而且 DoD 的定義為所有載具的交付，那麼這個團隊的風險極高 ； 實際的經驗會變成 Mini Water Fall。  \n這也意味著每當工作移轉到某個職能的負責人身上，當下就形成瓶頸。  \n\n| Alice |  Bob | Carol | Dave | Eve | Frank | Grace |\n| :--- | :--- | :--- | :--- | :--- | :--- | :--- |\n| UI/UX | Front-End | Back-End | iOS | Android | DBA | Tester |\n\n讓我們換個情境來說明，同樣的七個人，如果每個具備的 Skill Set 彼此能夠互相援助，巴士因子就提高了，而工作分配會更容易些，  \n較不易形成個人瓶頸\\(當然還是有可能，比如說這個 Sprint 的 Items 都落在 DBA 身上之類 …\\)，很明顯這樣的團隊組成更能適應變化。  \n\n| Alice |  Bob | Carol | Dave | Eve | Frank | Grace |\n| :--- | :--- | :--- | :--- | :--- | :--- | :--- |\n| UI/UX | Front-End | Back-End | iOS | Android | DBA | Tester |\n| Tester | Back-End | Front-End | Android | iOS | Front-End | Back-End |\n|  | UI/UX | iOS | Tester | Back-End |  | Android |\n\n![&#x4F60;&#x4E0D;&#x7528;&#x6A23;&#x6A23;&#x7CBE;&#x901A;&#xFF0C;&#x4F46;&#x662F;&#x4F60;&#x6700;&#x597D;&#x662F;&#x7DF4;&#x5C71;&#x578B;&#x3002;](/images/2018/csm/day_1/cross_learning.jpg)\n{% blockquote %}\n上面的團隊很理想，在人力市場上卻很難得到你想要的牌，所以才需要訓練，但是要花時間。  \n但在開花結果之前會發生什麼事呢 ？   \n人員可能會離職、團隊會異動、團隊中有成員認為專精勝於通才\\(強調一下，這沒有對錯，只是價值觀的不同\\)\n{% endblockquote %}\n\n(以上為 Day 1， 不保証有 Day 2)\n\n### 心得小結\n\n- Scurm 跟生產力沒有關係\n- PO 與 Team 的觀注點是不同的\n- Scrum Master 更觀注過程\n- Scrum Master 要有意識的不作為\n- 專任的 Scrum Master 能有更好的發揮，但在初期你也需要被培訓，並在實作中學習，你不見得會擁有那樣的環境。\n- 更多時候是文化與組織架構的問題，你需要透過系統思考來審視\n- Cross-Learning：Scrum 對團隊的要求更高，但本身的設計也會促使團隊成長。\n- 維持團隊的穩定，良好的工程實踐，維持交付速率，隨著經驗成長。\n- Change Your Company。\n- 開發人員的陽光、空氣、水；陽光的心態、空間(權限與能力)、薪水。\n\n### 同場加映\n- ~~[A同學筆記]尚欠~~\n- [C同學筆記-CSPO](https://medium.com/@linchi/cspo-%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98-53c1b80f7be7)\n- [D同學筆記-CSM](https://x790116.github.io/tags/csm/)\n- [D同學筆記-CSPO](https://x790116.github.io/tags/cspo/)\n- [F同學筆記](https://www.evernote.com/client/snv?noteGuid=22261834-28b5-4056-98fd-7cbde9071622&noteKey=ef7b52d4c68fffe3447051a0f2945c80&sn=https%3A%2F%2Fwww.evernote.com%2Fshard%2Fs246%2Fsh%2F22261834-28b5-4056-98fd-7cbde9071622%2Fef7b52d4c68fffe3447051a0f2945c80&title=CSM%252BCSM%2Bnote)\n\n(fin)","source":"_posts/2018/csm/day_1.md","raw":"---\ntitle: \"CSM Day1\"\ndate: 2018/10/27 21:10:01\ntag:\n    - Scrum\n    - Agile\n---\n\n#### 課程簡介\n- Scrum Master 認証課程\n- 講師 ： [呂毅(Lv Yi)](https://blog.odd-e.com/yilv/)\n- 課前請看過 [Scurm Guide](https://scrumguides.org/docs/scrumguide/v2017/2017-Scrum-Guide-Chinese-Simplified.pdf) 與 [Scurm Primer](http://scrumprimer.org/scrum_primer_cn.pdf)\n\n\n#### 燃盡圖的壞味道\n\n如下，請忽略文字  \n上圖使用 Item 作為 y 軸單位 ，下圖使用 Task 作為 y 軸單位，  \n上圖直到最後一天，才瞬間完成所有 Item ，我稱之為跳崖式  \n下圖是在 Sprint 的過程中，Task 增加了，有可能是亂入也有可能是建立 Task 時不準確，我稱之為登山式。\n\n![&#x71C3;&#x76E1;&#x5716;&#x7684;&#x58DE;&#x5473;&#x9053;](/images/2018/csm/day_1/6B161347-8331-4BA7-89D2-61DA1DAD61B1.jpg)\n\n上圖的例子還算是樂觀的，畢竟最後 Sprint 都完成了，實務上更多是 Sprint Failed 。\n\n> 我在 C 公司時是使用 Task ， N 公司是使用 Item ，在 N 公司與 Scrum Master 討論都建議使用 Item 繪製，  \n> 最主要立論都在於 Item 才有價值，而 Task 只細部的工作項而已。但對於我的角色而言\\(Team Member\\)，  \n> 能看見 Task 起伏很重要，往上爬待表 Task 變多了，可能的原因有插件、未預期的項目等…，可以作。  \n>   \n> 一個大原則， PO 看 Item，Team 看 Task。  \n>   \n> Product Backlog 使用 Item 沒有問題，因為是 PO 在看的。  \n> Sprint Backlog 可以兩種都用，Task 燃盡圖可以看見 Task 的增加，或許使用 Kanban 就足夠了。  \n>   \n> **重點是，看見後要作什麼 ？**\n\n#### 觀注點的不同\n\n![PO &#x89C0;&#x6CE8; WHY &amp; WHAT &#xFF1B;Team &#x89C0;&#x6CE8; WHAT &amp; HOW](/images/2018/csm/day_1/00795F54-2654-4581-94BE-27068D4486DD.jpg)\n\n如上圖右下，在 Scrum 的角色中，PO 觀注 WHY & WHAT ； Team 觀注 WHAT & HOW ； 而 Scrum Master 觀注的點\n\n> 上圖中間的部份，則是我個人猜想，世界上大部份事情都可以被拆成 3+1；  \n> 恰巧這個 Context 符合我的猜想，就是市場、產品、錢，那個 1 我沒想到就順手先畫了下來。  \n> PO 觀注產品，目的要儘快的丟到市場去作測試，而達到盈利\\(錢\\)的目標。所以他要思考市場反應背後的原因\\(WHY\\)，  \n> 設想策略，提供產品\\(WHAT\\)，最後才會 Break Down 成一個個 Product Log 再進到 Scrum 的循環之中，  \n> 當團隊成功的交付了可發佈的產品，PO 才有了武器去市場作戰，才有機會取得回饋。\n\n* Time\n  * PO 觀注 Sprint\n  * Team 觀注 Daily\n* Scope\n  * PO 觀注 Item\n  * Team 觀注 Task\n* Cost\n  * PO 觀注 Teams\n  * Team 觀注 members\n\n\n\n\n![&#x5C08;&#x6848;&#x7BA1;&#x7406;&#x7684;&#x4E09;&#x500B;&#x7DAD;&#x5EA6;&#xFF0C;Time&#x3001;Cost &#x8207; Scope](/images/2018/csm/day_1/7D811AFE-A4C8-4FB4-BD90-B65FDFE0B6BE.jpg)\n\n### Done 、Undone & Debt\n\n＊建議先看影片([中文字幕支援](http://player.youku.com/embed/XMzMyNDIwMjYwOA)，[原始影片](https://www.youtube.com/watch?v=IyNPeTn8fpo))。\n\n> 如果你有杰出的工程團隊、最好的開發工具、運用正確的工程實踐\\(TDD、Code Review、Pair Programming etc…\\)、、\n對 Business Domain 與 Tech Domain 有深入理解 ,開發時不受干擾，並且擁有足夠的資源\n\n{% blockquote style=\"info\" %}\n太理想了嗎 ？\n\n* 在現實的考量中如何堅持開發者的良好實踐？ \n* 在缺乏實踐的環境如何導入？ \n* 在缺乏經驗的情況下如何學習 ？ \n* 在焦油坑中如何實踐 ？ \n* 你有說「不」的勇氣嗎？\n{% endblockquote %}\n\n回過頭來，如何定義完成，在 Scrum 的框架中對完成保留了很大的空間，PO 與 Team 的角度可能不儘相同，  \n所以由團隊來定義，模糊的空間很大。  \n\n> 同樣的定義用來指導開發團隊，讓團隊知道在短衝計劃會議中可以選擇多少產品待辦事項。 \n> 每一個短衝的目的是交付潛在可發佈的功能增量，而這些功能符合 Scrum 團隊目前對 「完成」之定義。\n\n{% blockquote style=\"info\" %}\n由 PO 主導的 DoD 會由商務與 PO 個人績效導向\\(如果有的話\\)，而工程上的重要實踐往往會被犧牲，  \n一方面是團隊成員對專業的堅持度不夠，一方面或許整體公司的開發文化就是如此。  \n\n這些事項是不是該落入 Task 之中 呢？\n\n* Retro 後產生的 Action Item \n* 教育訓練 \n{% endblockquote %}\n\nUnDone 的工作項目有很多，這意味著半成品\\(浪費\\)。\nUndone 的項目可是五花八門包羅萬像的，技術債、文件製作、修復錯誤等…，只要不符合完成的定義，是不是都算 Undone 呢 ？  \n但是有的時候的 Sprint Goal 是需要欠下一些債的，這中間是一個取捨與權衡的，所以記得保持透明；  \n你或許需要一個 Undone Sprint 來消弭這些 Undone Task。\n\n![\"Undone Work\"](/images/2018/csm/day_1/undone_work.jpg)\n\n注意 Undone 是會影響開發速率的，在 **Scrum 之中開發速率應該是個關鍵指標**，  \n不論你用 KPI、MBO 或 OKR 都應該觀注這個指標。  \n而速率是由經驗法則測得。當然有時為了快速交付，有些暫解是在所難免，要小心[ LeBlanc's Law](https://en.wikipedia.org/wiki/Talk%3AList_of_eponymous_laws#Proposal_to_add_LeBlanc's_law)，  \n這些債務除了團隊反應之外，更可以透過觀察速率指標，評估適當的時機消除與改善。  \n  \n在 Time、Cost 與 Scope 都被鎖死的情況下，結果往往是犧牲了品質。   \n~~舉例說明： 這個東西 11 月底要，不能 Delay ，交由你們作\\(不準增加開發成本\\)，功能我全都要。~~  \n\n> 品質的犧牲我竟然相對覺得還好…更可怕的是，「管理者」為了滿足那個鐵三角，而作出一些虛妄狡詐之事。  \n不僅僅是犧牲了品質，更給了高層錯誤訊息，甚至形成惡性循環，讓領導者作出錯誤判斷，更進一步的損耗品質。  \n最後成本提高、時間拉長與交付範圍不得不縮小，這不僅僅是鐵三角崩潰，連透明度與互信與也會失去。  \n\n**學習債 & Cross Learning**  \n  \nScrum Team 的成員組成有個前提，團隊具備完成端到端的開發的所有技能。  \n\n* 開發團隊 3~9 人\n* **開發團隊是跨職能的，團隊擁有產出產品增量所需要的所有技能。**\n\n如果產品所需的 Skill Set 很大，[巴士因子](https://zh.wikipedia.org/wiki/巴士因子)就容易過低；  \n比如說一個七人的團隊，要製作一個包含 Web、App\\(包含 iOS 、 Android \\)的產品。  \n人力與能力配置假設如下，而且 DoD 的定義為所有載具的交付，那麼這個團隊的風險極高 ； 實際的經驗會變成 Mini Water Fall。  \n這也意味著每當工作移轉到某個職能的負責人身上，當下就形成瓶頸。  \n\n| Alice |  Bob | Carol | Dave | Eve | Frank | Grace |\n| :--- | :--- | :--- | :--- | :--- | :--- | :--- |\n| UI/UX | Front-End | Back-End | iOS | Android | DBA | Tester |\n\n讓我們換個情境來說明，同樣的七個人，如果每個具備的 Skill Set 彼此能夠互相援助，巴士因子就提高了，而工作分配會更容易些，  \n較不易形成個人瓶頸\\(當然還是有可能，比如說這個 Sprint 的 Items 都落在 DBA 身上之類 …\\)，很明顯這樣的團隊組成更能適應變化。  \n\n| Alice |  Bob | Carol | Dave | Eve | Frank | Grace |\n| :--- | :--- | :--- | :--- | :--- | :--- | :--- |\n| UI/UX | Front-End | Back-End | iOS | Android | DBA | Tester |\n| Tester | Back-End | Front-End | Android | iOS | Front-End | Back-End |\n|  | UI/UX | iOS | Tester | Back-End |  | Android |\n\n![&#x4F60;&#x4E0D;&#x7528;&#x6A23;&#x6A23;&#x7CBE;&#x901A;&#xFF0C;&#x4F46;&#x662F;&#x4F60;&#x6700;&#x597D;&#x662F;&#x7DF4;&#x5C71;&#x578B;&#x3002;](/images/2018/csm/day_1/cross_learning.jpg)\n{% blockquote %}\n上面的團隊很理想，在人力市場上卻很難得到你想要的牌，所以才需要訓練，但是要花時間。  \n但在開花結果之前會發生什麼事呢 ？   \n人員可能會離職、團隊會異動、團隊中有成員認為專精勝於通才\\(強調一下，這沒有對錯，只是價值觀的不同\\)\n{% endblockquote %}\n\n(以上為 Day 1， 不保証有 Day 2)\n\n### 心得小結\n\n- Scurm 跟生產力沒有關係\n- PO 與 Team 的觀注點是不同的\n- Scrum Master 更觀注過程\n- Scrum Master 要有意識的不作為\n- 專任的 Scrum Master 能有更好的發揮，但在初期你也需要被培訓，並在實作中學習，你不見得會擁有那樣的環境。\n- 更多時候是文化與組織架構的問題，你需要透過系統思考來審視\n- Cross-Learning：Scrum 對團隊的要求更高，但本身的設計也會促使團隊成長。\n- 維持團隊的穩定，良好的工程實踐，維持交付速率，隨著經驗成長。\n- Change Your Company。\n- 開發人員的陽光、空氣、水；陽光的心態、空間(權限與能力)、薪水。\n\n### 同場加映\n- ~~[A同學筆記]尚欠~~\n- [C同學筆記-CSPO](https://medium.com/@linchi/cspo-%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98-53c1b80f7be7)\n- [D同學筆記-CSM](https://x790116.github.io/tags/csm/)\n- [D同學筆記-CSPO](https://x790116.github.io/tags/cspo/)\n- [F同學筆記](https://www.evernote.com/client/snv?noteGuid=22261834-28b5-4056-98fd-7cbde9071622&noteKey=ef7b52d4c68fffe3447051a0f2945c80&sn=https%3A%2F%2Fwww.evernote.com%2Fshard%2Fs246%2Fsh%2F22261834-28b5-4056-98fd-7cbde9071622%2Fef7b52d4c68fffe3447051a0f2945c80&title=CSM%252BCSM%2Bnote)\n\n(fin)","slug":"2018/csm/day_1","published":1,"updated":"2019-06-10T14:43:28.914Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wpw006ub0vxfvimb53u","content":"<h4 id=\"課程簡介\"><a href=\"#課程簡介\" class=\"headerlink\" title=\"課程簡介\"></a>課程簡介</h4><ul>\n<li>Scrum Master 認証課程</li>\n<li>講師 ： <a href=\"https://blog.odd-e.com/yilv/\" target=\"_blank\" rel=\"noopener\">呂毅(Lv Yi)</a></li>\n<li>課前請看過 <a href=\"https://scrumguides.org/docs/scrumguide/v2017/2017-Scrum-Guide-Chinese-Simplified.pdf\" target=\"_blank\" rel=\"noopener\">Scurm Guide</a> 與 <a href=\"http://scrumprimer.org/scrum_primer_cn.pdf\" target=\"_blank\" rel=\"noopener\">Scurm Primer</a></li>\n</ul>\n<h4 id=\"燃盡圖的壞味道\"><a href=\"#燃盡圖的壞味道\" class=\"headerlink\" title=\"燃盡圖的壞味道\"></a>燃盡圖的壞味道</h4><p>如下，請忽略文字<br>上圖使用 Item 作為 y 軸單位 ，下圖使用 Task 作為 y 軸單位，<br>上圖直到最後一天，才瞬間完成所有 Item ，我稱之為跳崖式<br>下圖是在 Sprint 的過程中，Task 增加了，有可能是亂入也有可能是建立 Task 時不準確，我稱之為登山式。</p>\n<p><img src=\"/images/2018/csm/day_1/6B161347-8331-4BA7-89D2-61DA1DAD61B1.jpg\" alt=\"&#x71C3;&#x76E1;&#x5716;&#x7684;&#x58DE;&#x5473;&#x9053;\"></p>\n<p>上圖的例子還算是樂觀的，畢竟最後 Sprint 都完成了，實務上更多是 Sprint Failed 。</p>\n<blockquote>\n<p>我在 C 公司時是使用 Task ， N 公司是使用 Item ，在 N 公司與 Scrum Master 討論都建議使用 Item 繪製，<br>最主要立論都在於 Item 才有價值，而 Task 只細部的工作項而已。但對於我的角色而言(Team Member)，  \n能看見 Task 起伏很重要，往上爬待表 Task 變多了，可能的原因有插件、未預期的項目等…，可以作。  </p>\n<p>一個大原則， PO 看 Item，Team 看 Task。  </p>\n<p>Product Backlog 使用 Item 沒有問題，因為是 PO 在看的。<br>Sprint Backlog 可以兩種都用，Task 燃盡圖可以看見 Task 的增加，或許使用 Kanban 就足夠了。  </p>\n<p><strong>重點是，看見後要作什麼 ？</strong></p>\n</blockquote>\n<h4 id=\"觀注點的不同\"><a href=\"#觀注點的不同\" class=\"headerlink\" title=\"觀注點的不同\"></a>觀注點的不同</h4><p><img src=\"/images/2018/csm/day_1/00795F54-2654-4581-94BE-27068D4486DD.jpg\" alt=\"PO &#x89C0;&#x6CE8; WHY &amp; WHAT &#xFF1B;Team &#x89C0;&#x6CE8; WHAT &amp; HOW\"></p>\n<p>如上圖右下，在 Scrum 的角色中，PO 觀注 WHY &amp; WHAT ； Team 觀注 WHAT &amp; HOW ； 而 Scrum Master 觀注的點</p>\n<blockquote>\n<p>上圖中間的部份，則是我個人猜想，世界上大部份事情都可以被拆成 3+1；<br>恰巧這個 Context 符合我的猜想，就是市場、產品、錢，那個 1 我沒想到就順手先畫了下來。<br>PO 觀注產品，目的要儘快的丟到市場去作測試，而達到盈利(錢)的目標。所以他要思考市場反應背後的原因(WHY)，  \n設想策略，提供產品(WHAT)，最後才會 Break Down 成一個個 Product Log 再進到 Scrum 的循環之中，<br>當團隊成功的交付了可發佈的產品，PO 才有了武器去市場作戰，才有機會取得回饋。</p>\n</blockquote>\n<ul>\n<li>Time<ul>\n<li>PO 觀注 Sprint</li>\n<li>Team 觀注 Daily</li>\n</ul>\n</li>\n<li>Scope<ul>\n<li>PO 觀注 Item</li>\n<li>Team 觀注 Task</li>\n</ul>\n</li>\n<li>Cost<ul>\n<li>PO 觀注 Teams</li>\n<li>Team 觀注 members</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/images/2018/csm/day_1/7D811AFE-A4C8-4FB4-BD90-B65FDFE0B6BE.jpg\" alt=\"&#x5C08;&#x6848;&#x7BA1;&#x7406;&#x7684;&#x4E09;&#x500B;&#x7DAD;&#x5EA6;&#xFF0C;Time&#x3001;Cost &#x8207; Scope\"></p>\n<h3 id=\"Done-、Undone-amp-Debt\"><a href=\"#Done-、Undone-amp-Debt\" class=\"headerlink\" title=\"Done 、Undone &amp; Debt\"></a>Done 、Undone &amp; Debt</h3><p>＊建議先看影片(<a href=\"http://player.youku.com/embed/XMzMyNDIwMjYwOA\" target=\"_blank\" rel=\"noopener\">中文字幕支援</a>，<a href=\"https://www.youtube.com/watch?v=IyNPeTn8fpo\" target=\"_blank\" rel=\"noopener\">原始影片</a>)。</p>\n<blockquote>\n<p>如果你有杰出的工程團隊、最好的開發工具、運用正確的工程實踐(TDD、Code Review、Pair Programming etc…)、、<br>對 Business Domain 與 Tech Domain 有深入理解 ,開發時不受干擾，並且擁有足夠的資源</p>\n</blockquote>\n<blockquote><p>太理想了嗎 ？</p>\n<ul>\n<li>在現實的考量中如何堅持開發者的良好實踐？ </li>\n<li>在缺乏實踐的環境如何導入？ </li>\n<li>在缺乏經驗的情況下如何學習 ？ </li>\n<li>在焦油坑中如何實踐 ？ </li>\n<li>你有說「不」的勇氣嗎？</li>\n</ul>\n<footer><strong>style=info</strong></footer></blockquote>\n\n<p>回過頭來，如何定義完成，在 Scrum 的框架中對完成保留了很大的空間，PO 與 Team 的角度可能不儘相同，<br>所以由團隊來定義，模糊的空間很大。  </p>\n<blockquote>\n<p>同樣的定義用來指導開發團隊，讓團隊知道在短衝計劃會議中可以選擇多少產品待辦事項。<br>每一個短衝的目的是交付潛在可發佈的功能增量，而這些功能符合 Scrum 團隊目前對 「完成」之定義。</p>\n</blockquote>\n<blockquote><p>由 PO 主導的 DoD 會由商務與 PO 個人績效導向(如果有的話)，而工程上的重要實踐往往會被犧牲，<br>一方面是團隊成員對專業的堅持度不夠，一方面或許整體公司的開發文化就是如此。  </p>\n<p>這些事項是不是該落入 Task 之中 呢？</p>\n<ul>\n<li>Retro 後產生的 Action Item </li>\n<li>教育訓練 </li>\n</ul>\n<footer><strong>style=info</strong></footer></blockquote>\n\n<p>UnDone 的工作項目有很多，這意味著半成品(浪費)。\nUndone 的項目可是五花八門包羅萬像的，技術債、文件製作、修復錯誤等…，只要不符合完成的定義，是不是都算 Undone 呢 ？<br>但是有的時候的 Sprint Goal 是需要欠下一些債的，這中間是一個取捨與權衡的，所以記得保持透明；<br>你或許需要一個 Undone Sprint 來消弭這些 Undone Task。</p>\n<p><img src=\"/images/2018/csm/day_1/undone_work.jpg\" alt=\"&quot;Undone Work&quot;\"></p>\n<p>注意 Undone 是會影響開發速率的，在 <strong>Scrum 之中開發速率應該是個關鍵指標</strong>，  \n不論你用 KPI、MBO 或 OKR 都應該觀注這個指標。<br>而速率是由經驗法則測得。當然有時為了快速交付，有些暫解是在所難免，要小心<a href=\"https://en.wikipedia.org/wiki/Talk%3AList_of_eponymous_laws#Proposal_to_add_LeBlanc's_law\" target=\"_blank\" rel=\"noopener\"> LeBlanc’s Law</a>，  \n這些債務除了團隊反應之外，更可以透過觀察速率指標，評估適當的時機消除與改善。  </p>\n<p>在 Time、Cost 與 Scope 都被鎖死的情況下，結果往往是犧牲了品質。<br><del>舉例說明： 這個東西 11 月底要，不能 Delay ，交由你們作(不準增加開發成本)，功能我全都要。</del>  </p>\n<blockquote>\n<p>品質的犧牲我竟然相對覺得還好…更可怕的是，「管理者」為了滿足那個鐵三角，而作出一些虛妄狡詐之事。<br>不僅僅是犧牲了品質，更給了高層錯誤訊息，甚至形成惡性循環，讓領導者作出錯誤判斷，更進一步的損耗品質。<br>最後成本提高、時間拉長與交付範圍不得不縮小，這不僅僅是鐵三角崩潰，連透明度與互信與也會失去。  </p>\n</blockquote>\n<p><strong>學習債 &amp; Cross Learning</strong>  </p>\n<p>Scrum Team 的成員組成有個前提，團隊具備完成端到端的開發的所有技能。  </p>\n<ul>\n<li>開發團隊 3~9 人</li>\n<li><strong>開發團隊是跨職能的，團隊擁有產出產品增量所需要的所有技能。</strong></li>\n</ul>\n<p>如果產品所需的 Skill Set 很大，<a href=\"https://zh.wikipedia.org/wiki/巴士因子\" target=\"_blank\" rel=\"noopener\">巴士因子</a>就容易過低；<br>比如說一個七人的團隊，要製作一個包含 Web、App(包含 iOS 、 Android )的產品。<br>人力與能力配置假設如下，而且 DoD 的定義為所有載具的交付，那麼這個團隊的風險極高 ； 實際的經驗會變成 Mini Water Fall。<br>這也意味著每當工作移轉到某個職能的負責人身上，當下就形成瓶頸。  </p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Alice</th>\n<th align=\"left\">Bob</th>\n<th align=\"left\">Carol</th>\n<th align=\"left\">Dave</th>\n<th align=\"left\">Eve</th>\n<th align=\"left\">Frank</th>\n<th align=\"left\">Grace</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">UI/UX</td>\n<td align=\"left\">Front-End</td>\n<td align=\"left\">Back-End</td>\n<td align=\"left\">iOS</td>\n<td align=\"left\">Android</td>\n<td align=\"left\">DBA</td>\n<td align=\"left\">Tester</td>\n</tr>\n</tbody></table>\n<p>讓我們換個情境來說明，同樣的七個人，如果每個具備的 Skill Set 彼此能夠互相援助，巴士因子就提高了，而工作分配會更容易些，<br>較不易形成個人瓶頸(當然還是有可能，比如說這個 Sprint 的 Items 都落在 DBA 身上之類 …)，很明顯這樣的團隊組成更能適應變化。  </p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Alice</th>\n<th align=\"left\">Bob</th>\n<th align=\"left\">Carol</th>\n<th align=\"left\">Dave</th>\n<th align=\"left\">Eve</th>\n<th align=\"left\">Frank</th>\n<th align=\"left\">Grace</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">UI/UX</td>\n<td align=\"left\">Front-End</td>\n<td align=\"left\">Back-End</td>\n<td align=\"left\">iOS</td>\n<td align=\"left\">Android</td>\n<td align=\"left\">DBA</td>\n<td align=\"left\">Tester</td>\n</tr>\n<tr>\n<td align=\"left\">Tester</td>\n<td align=\"left\">Back-End</td>\n<td align=\"left\">Front-End</td>\n<td align=\"left\">Android</td>\n<td align=\"left\">iOS</td>\n<td align=\"left\">Front-End</td>\n<td align=\"left\">Back-End</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\">UI/UX</td>\n<td align=\"left\">iOS</td>\n<td align=\"left\">Tester</td>\n<td align=\"left\">Back-End</td>\n<td align=\"left\"></td>\n<td align=\"left\">Android</td>\n</tr>\n</tbody></table>\n<p><img src=\"/images/2018/csm/day_1/cross_learning.jpg\" alt=\"&#x4F60;&#x4E0D;&#x7528;&#x6A23;&#x6A23;&#x7CBE;&#x901A;&#xFF0C;&#x4F46;&#x662F;&#x4F60;&#x6700;&#x597D;&#x662F;&#x7DF4;&#x5C71;&#x578B;&#x3002;\"></p>\n<blockquote><p>上面的團隊很理想，在人力市場上卻很難得到你想要的牌，所以才需要訓練，但是要花時間。<br>但在開花結果之前會發生什麼事呢 ？<br>人員可能會離職、團隊會異動、團隊中有成員認為專精勝於通才(強調一下，這沒有對錯，只是價值觀的不同)</p>\n</blockquote>\n\n<p>(以上為 Day 1， 不保証有 Day 2)</p>\n<h3 id=\"心得小結\"><a href=\"#心得小結\" class=\"headerlink\" title=\"心得小結\"></a>心得小結</h3><ul>\n<li>Scurm 跟生產力沒有關係</li>\n<li>PO 與 Team 的觀注點是不同的</li>\n<li>Scrum Master 更觀注過程</li>\n<li>Scrum Master 要有意識的不作為</li>\n<li>專任的 Scrum Master 能有更好的發揮，但在初期你也需要被培訓，並在實作中學習，你不見得會擁有那樣的環境。</li>\n<li>更多時候是文化與組織架構的問題，你需要透過系統思考來審視</li>\n<li>Cross-Learning：Scrum 對團隊的要求更高，但本身的設計也會促使團隊成長。</li>\n<li>維持團隊的穩定，良好的工程實踐，維持交付速率，隨著經驗成長。</li>\n<li>Change Your Company。</li>\n<li>開發人員的陽光、空氣、水；陽光的心態、空間(權限與能力)、薪水。</li>\n</ul>\n<h3 id=\"同場加映\"><a href=\"#同場加映\" class=\"headerlink\" title=\"同場加映\"></a>同場加映</h3><ul>\n<li><del>[A同學筆記]尚欠</del></li>\n<li><a href=\"https://medium.com/@linchi/cspo-%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98-53c1b80f7be7\" target=\"_blank\" rel=\"noopener\">C同學筆記-CSPO</a></li>\n<li><a href=\"https://x790116.github.io/tags/csm/\" target=\"_blank\" rel=\"noopener\">D同學筆記-CSM</a></li>\n<li><a href=\"https://x790116.github.io/tags/cspo/\" target=\"_blank\" rel=\"noopener\">D同學筆記-CSPO</a></li>\n<li><a href=\"https://www.evernote.com/client/snv?noteGuid=22261834-28b5-4056-98fd-7cbde9071622&noteKey=ef7b52d4c68fffe3447051a0f2945c80&sn=https%3A%2F%2Fwww.evernote.com%2Fshard%2Fs246%2Fsh%2F22261834-28b5-4056-98fd-7cbde9071622%2Fef7b52d4c68fffe3447051a0f2945c80&title=CSM%252BCSM%2Bnote\" target=\"_blank\" rel=\"noopener\">F同學筆記</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"課程簡介\"><a href=\"#課程簡介\" class=\"headerlink\" title=\"課程簡介\"></a>課程簡介</h4><ul>\n<li>Scrum Master 認証課程</li>\n<li>講師 ： <a href=\"https://blog.odd-e.com/yilv/\" target=\"_blank\" rel=\"noopener\">呂毅(Lv Yi)</a></li>\n<li>課前請看過 <a href=\"https://scrumguides.org/docs/scrumguide/v2017/2017-Scrum-Guide-Chinese-Simplified.pdf\" target=\"_blank\" rel=\"noopener\">Scurm Guide</a> 與 <a href=\"http://scrumprimer.org/scrum_primer_cn.pdf\" target=\"_blank\" rel=\"noopener\">Scurm Primer</a></li>\n</ul>\n<h4 id=\"燃盡圖的壞味道\"><a href=\"#燃盡圖的壞味道\" class=\"headerlink\" title=\"燃盡圖的壞味道\"></a>燃盡圖的壞味道</h4><p>如下，請忽略文字<br>上圖使用 Item 作為 y 軸單位 ，下圖使用 Task 作為 y 軸單位，<br>上圖直到最後一天，才瞬間完成所有 Item ，我稱之為跳崖式<br>下圖是在 Sprint 的過程中，Task 增加了，有可能是亂入也有可能是建立 Task 時不準確，我稱之為登山式。</p>\n<p><img src=\"/images/2018/csm/day_1/6B161347-8331-4BA7-89D2-61DA1DAD61B1.jpg\" alt=\"&#x71C3;&#x76E1;&#x5716;&#x7684;&#x58DE;&#x5473;&#x9053;\"></p>\n<p>上圖的例子還算是樂觀的，畢竟最後 Sprint 都完成了，實務上更多是 Sprint Failed 。</p>\n<blockquote>\n<p>我在 C 公司時是使用 Task ， N 公司是使用 Item ，在 N 公司與 Scrum Master 討論都建議使用 Item 繪製，<br>最主要立論都在於 Item 才有價值，而 Task 只細部的工作項而已。但對於我的角色而言(Team Member)，  \n能看見 Task 起伏很重要，往上爬待表 Task 變多了，可能的原因有插件、未預期的項目等…，可以作。  </p>\n<p>一個大原則， PO 看 Item，Team 看 Task。  </p>\n<p>Product Backlog 使用 Item 沒有問題，因為是 PO 在看的。<br>Sprint Backlog 可以兩種都用，Task 燃盡圖可以看見 Task 的增加，或許使用 Kanban 就足夠了。  </p>\n<p><strong>重點是，看見後要作什麼 ？</strong></p>\n</blockquote>\n<h4 id=\"觀注點的不同\"><a href=\"#觀注點的不同\" class=\"headerlink\" title=\"觀注點的不同\"></a>觀注點的不同</h4><p><img src=\"/images/2018/csm/day_1/00795F54-2654-4581-94BE-27068D4486DD.jpg\" alt=\"PO &#x89C0;&#x6CE8; WHY &amp; WHAT &#xFF1B;Team &#x89C0;&#x6CE8; WHAT &amp; HOW\"></p>\n<p>如上圖右下，在 Scrum 的角色中，PO 觀注 WHY &amp; WHAT ； Team 觀注 WHAT &amp; HOW ； 而 Scrum Master 觀注的點</p>\n<blockquote>\n<p>上圖中間的部份，則是我個人猜想，世界上大部份事情都可以被拆成 3+1；<br>恰巧這個 Context 符合我的猜想，就是市場、產品、錢，那個 1 我沒想到就順手先畫了下來。<br>PO 觀注產品，目的要儘快的丟到市場去作測試，而達到盈利(錢)的目標。所以他要思考市場反應背後的原因(WHY)，  \n設想策略，提供產品(WHAT)，最後才會 Break Down 成一個個 Product Log 再進到 Scrum 的循環之中，<br>當團隊成功的交付了可發佈的產品，PO 才有了武器去市場作戰，才有機會取得回饋。</p>\n</blockquote>\n<ul>\n<li>Time<ul>\n<li>PO 觀注 Sprint</li>\n<li>Team 觀注 Daily</li>\n</ul>\n</li>\n<li>Scope<ul>\n<li>PO 觀注 Item</li>\n<li>Team 觀注 Task</li>\n</ul>\n</li>\n<li>Cost<ul>\n<li>PO 觀注 Teams</li>\n<li>Team 觀注 members</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/images/2018/csm/day_1/7D811AFE-A4C8-4FB4-BD90-B65FDFE0B6BE.jpg\" alt=\"&#x5C08;&#x6848;&#x7BA1;&#x7406;&#x7684;&#x4E09;&#x500B;&#x7DAD;&#x5EA6;&#xFF0C;Time&#x3001;Cost &#x8207; Scope\"></p>\n<h3 id=\"Done-、Undone-amp-Debt\"><a href=\"#Done-、Undone-amp-Debt\" class=\"headerlink\" title=\"Done 、Undone &amp; Debt\"></a>Done 、Undone &amp; Debt</h3><p>＊建議先看影片(<a href=\"http://player.youku.com/embed/XMzMyNDIwMjYwOA\" target=\"_blank\" rel=\"noopener\">中文字幕支援</a>，<a href=\"https://www.youtube.com/watch?v=IyNPeTn8fpo\" target=\"_blank\" rel=\"noopener\">原始影片</a>)。</p>\n<blockquote>\n<p>如果你有杰出的工程團隊、最好的開發工具、運用正確的工程實踐(TDD、Code Review、Pair Programming etc…)、、<br>對 Business Domain 與 Tech Domain 有深入理解 ,開發時不受干擾，並且擁有足夠的資源</p>\n</blockquote>\n<blockquote><p>太理想了嗎 ？</p>\n<ul>\n<li>在現實的考量中如何堅持開發者的良好實踐？ </li>\n<li>在缺乏實踐的環境如何導入？ </li>\n<li>在缺乏經驗的情況下如何學習 ？ </li>\n<li>在焦油坑中如何實踐 ？ </li>\n<li>你有說「不」的勇氣嗎？</li>\n</ul>\n<footer><strong>style=info</strong></footer></blockquote>\n\n<p>回過頭來，如何定義完成，在 Scrum 的框架中對完成保留了很大的空間，PO 與 Team 的角度可能不儘相同，<br>所以由團隊來定義，模糊的空間很大。  </p>\n<blockquote>\n<p>同樣的定義用來指導開發團隊，讓團隊知道在短衝計劃會議中可以選擇多少產品待辦事項。<br>每一個短衝的目的是交付潛在可發佈的功能增量，而這些功能符合 Scrum 團隊目前對 「完成」之定義。</p>\n</blockquote>\n<blockquote><p>由 PO 主導的 DoD 會由商務與 PO 個人績效導向(如果有的話)，而工程上的重要實踐往往會被犧牲，<br>一方面是團隊成員對專業的堅持度不夠，一方面或許整體公司的開發文化就是如此。  </p>\n<p>這些事項是不是該落入 Task 之中 呢？</p>\n<ul>\n<li>Retro 後產生的 Action Item </li>\n<li>教育訓練 </li>\n</ul>\n<footer><strong>style=info</strong></footer></blockquote>\n\n<p>UnDone 的工作項目有很多，這意味著半成品(浪費)。\nUndone 的項目可是五花八門包羅萬像的，技術債、文件製作、修復錯誤等…，只要不符合完成的定義，是不是都算 Undone 呢 ？<br>但是有的時候的 Sprint Goal 是需要欠下一些債的，這中間是一個取捨與權衡的，所以記得保持透明；<br>你或許需要一個 Undone Sprint 來消弭這些 Undone Task。</p>\n<p><img src=\"/images/2018/csm/day_1/undone_work.jpg\" alt=\"&quot;Undone Work&quot;\"></p>\n<p>注意 Undone 是會影響開發速率的，在 <strong>Scrum 之中開發速率應該是個關鍵指標</strong>，  \n不論你用 KPI、MBO 或 OKR 都應該觀注這個指標。<br>而速率是由經驗法則測得。當然有時為了快速交付，有些暫解是在所難免，要小心<a href=\"https://en.wikipedia.org/wiki/Talk%3AList_of_eponymous_laws#Proposal_to_add_LeBlanc's_law\" target=\"_blank\" rel=\"noopener\"> LeBlanc’s Law</a>，  \n這些債務除了團隊反應之外，更可以透過觀察速率指標，評估適當的時機消除與改善。  </p>\n<p>在 Time、Cost 與 Scope 都被鎖死的情況下，結果往往是犧牲了品質。<br><del>舉例說明： 這個東西 11 月底要，不能 Delay ，交由你們作(不準增加開發成本)，功能我全都要。</del>  </p>\n<blockquote>\n<p>品質的犧牲我竟然相對覺得還好…更可怕的是，「管理者」為了滿足那個鐵三角，而作出一些虛妄狡詐之事。<br>不僅僅是犧牲了品質，更給了高層錯誤訊息，甚至形成惡性循環，讓領導者作出錯誤判斷，更進一步的損耗品質。<br>最後成本提高、時間拉長與交付範圍不得不縮小，這不僅僅是鐵三角崩潰，連透明度與互信與也會失去。  </p>\n</blockquote>\n<p><strong>學習債 &amp; Cross Learning</strong>  </p>\n<p>Scrum Team 的成員組成有個前提，團隊具備完成端到端的開發的所有技能。  </p>\n<ul>\n<li>開發團隊 3~9 人</li>\n<li><strong>開發團隊是跨職能的，團隊擁有產出產品增量所需要的所有技能。</strong></li>\n</ul>\n<p>如果產品所需的 Skill Set 很大，<a href=\"https://zh.wikipedia.org/wiki/巴士因子\" target=\"_blank\" rel=\"noopener\">巴士因子</a>就容易過低；<br>比如說一個七人的團隊，要製作一個包含 Web、App(包含 iOS 、 Android )的產品。<br>人力與能力配置假設如下，而且 DoD 的定義為所有載具的交付，那麼這個團隊的風險極高 ； 實際的經驗會變成 Mini Water Fall。<br>這也意味著每當工作移轉到某個職能的負責人身上，當下就形成瓶頸。  </p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Alice</th>\n<th align=\"left\">Bob</th>\n<th align=\"left\">Carol</th>\n<th align=\"left\">Dave</th>\n<th align=\"left\">Eve</th>\n<th align=\"left\">Frank</th>\n<th align=\"left\">Grace</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">UI/UX</td>\n<td align=\"left\">Front-End</td>\n<td align=\"left\">Back-End</td>\n<td align=\"left\">iOS</td>\n<td align=\"left\">Android</td>\n<td align=\"left\">DBA</td>\n<td align=\"left\">Tester</td>\n</tr>\n</tbody></table>\n<p>讓我們換個情境來說明，同樣的七個人，如果每個具備的 Skill Set 彼此能夠互相援助，巴士因子就提高了，而工作分配會更容易些，<br>較不易形成個人瓶頸(當然還是有可能，比如說這個 Sprint 的 Items 都落在 DBA 身上之類 …)，很明顯這樣的團隊組成更能適應變化。  </p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Alice</th>\n<th align=\"left\">Bob</th>\n<th align=\"left\">Carol</th>\n<th align=\"left\">Dave</th>\n<th align=\"left\">Eve</th>\n<th align=\"left\">Frank</th>\n<th align=\"left\">Grace</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">UI/UX</td>\n<td align=\"left\">Front-End</td>\n<td align=\"left\">Back-End</td>\n<td align=\"left\">iOS</td>\n<td align=\"left\">Android</td>\n<td align=\"left\">DBA</td>\n<td align=\"left\">Tester</td>\n</tr>\n<tr>\n<td align=\"left\">Tester</td>\n<td align=\"left\">Back-End</td>\n<td align=\"left\">Front-End</td>\n<td align=\"left\">Android</td>\n<td align=\"left\">iOS</td>\n<td align=\"left\">Front-End</td>\n<td align=\"left\">Back-End</td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\">UI/UX</td>\n<td align=\"left\">iOS</td>\n<td align=\"left\">Tester</td>\n<td align=\"left\">Back-End</td>\n<td align=\"left\"></td>\n<td align=\"left\">Android</td>\n</tr>\n</tbody></table>\n<p><img src=\"/images/2018/csm/day_1/cross_learning.jpg\" alt=\"&#x4F60;&#x4E0D;&#x7528;&#x6A23;&#x6A23;&#x7CBE;&#x901A;&#xFF0C;&#x4F46;&#x662F;&#x4F60;&#x6700;&#x597D;&#x662F;&#x7DF4;&#x5C71;&#x578B;&#x3002;\"></p>\n<blockquote><p>上面的團隊很理想，在人力市場上卻很難得到你想要的牌，所以才需要訓練，但是要花時間。<br>但在開花結果之前會發生什麼事呢 ？<br>人員可能會離職、團隊會異動、團隊中有成員認為專精勝於通才(強調一下，這沒有對錯，只是價值觀的不同)</p>\n</blockquote>\n\n<p>(以上為 Day 1， 不保証有 Day 2)</p>\n<h3 id=\"心得小結\"><a href=\"#心得小結\" class=\"headerlink\" title=\"心得小結\"></a>心得小結</h3><ul>\n<li>Scurm 跟生產力沒有關係</li>\n<li>PO 與 Team 的觀注點是不同的</li>\n<li>Scrum Master 更觀注過程</li>\n<li>Scrum Master 要有意識的不作為</li>\n<li>專任的 Scrum Master 能有更好的發揮，但在初期你也需要被培訓，並在實作中學習，你不見得會擁有那樣的環境。</li>\n<li>更多時候是文化與組織架構的問題，你需要透過系統思考來審視</li>\n<li>Cross-Learning：Scrum 對團隊的要求更高，但本身的設計也會促使團隊成長。</li>\n<li>維持團隊的穩定，良好的工程實踐，維持交付速率，隨著經驗成長。</li>\n<li>Change Your Company。</li>\n<li>開發人員的陽光、空氣、水；陽光的心態、空間(權限與能力)、薪水。</li>\n</ul>\n<h3 id=\"同場加映\"><a href=\"#同場加映\" class=\"headerlink\" title=\"同場加映\"></a>同場加映</h3><ul>\n<li><del>[A同學筆記]尚欠</del></li>\n<li><a href=\"https://medium.com/@linchi/cspo-%E5%BF%83%E5%BE%97%E7%AD%86%E8%A8%98-53c1b80f7be7\" target=\"_blank\" rel=\"noopener\">C同學筆記-CSPO</a></li>\n<li><a href=\"https://x790116.github.io/tags/csm/\" target=\"_blank\" rel=\"noopener\">D同學筆記-CSM</a></li>\n<li><a href=\"https://x790116.github.io/tags/cspo/\" target=\"_blank\" rel=\"noopener\">D同學筆記-CSPO</a></li>\n<li><a href=\"https://www.evernote.com/client/snv?noteGuid=22261834-28b5-4056-98fd-7cbde9071622&noteKey=ef7b52d4c68fffe3447051a0f2945c80&sn=https%3A%2F%2Fwww.evernote.com%2Fshard%2Fs246%2Fsh%2F22261834-28b5-4056-98fd-7cbde9071622%2Fef7b52d4c68fffe3447051a0f2945c80&title=CSM%252BCSM%2Bnote\" target=\"_blank\" rel=\"noopener\">F同學筆記</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"CSM Day2-1 Planning","date":"2018-11-03T15:47:10.000Z","_content":"\n\n>** 雖然實施部分的 Scrum 是可能的，但結果並不是 Scrum。Scrum，  \n  只有在完整的時候才會存在，也才能有效的成為其他技巧、方法論、和實務發揮的運作舞臺。  \n  --- Scrum Guide 結語**\n\n\n\n## Planning \\(with 2~4 hours timebox\\)\n\n### Planning 第一階段\n\n* 說明要作什麼\\(What\\)。\n* 對Item估點。\n  * 基於 Velocity\n  * 基於 Commitment\n\n#### 估計的方法\n\n有 Size \\(大、中、小\\) 或點數\\(Story Point、Planning Poker\\)等方法，  \n實務上都使用點數較多，原因是多個項目的加總，在比較時點數較有感覺。  \n\n參考下例：  \nSprint 1 有 4 個 Item，Size 是分別是大、大、中、小。點數分別是 13、13、5、2。  \nSprint 2 有 5 個 Item，Size 是分別是大、中、中、中、小。點數分別是 13、8、8、5、1。\n\n| Sprint | Size | 點數 |\n| :--- | :--- | :--- |\n| Sprint 1 | 2大、1中、1小 | 13+13+5+2 = 33 |\n| Sprint 2 | 1大、3中、1小 | 13+8+8+5+1 = 35 |\n\n> Velocity-Driven 或 Commitment-Driven 哪個比較好呢？  \n> 大多數的 Scrum Master 恐怕會跟你說團隊決定。  \n> 兩者的差異點在哪裡呢 ？ **Scrum 是立基於經驗導向的流程控制理論**  \n> Velocity 有數據佐証，較為客觀；但是 Team members 與 Backlog Item 其實都是會變動的\\(理想上當然是穩定更好\\)，  \n> 如果 PO 與 Team 的互信足夠，  Commitment 其實也可以符合經驗導向，比如說：「 我的Develop Team 平均每個 Sprint裡面可以交付 90% 的 Item。」  \n> 換句話說還是團隊決定，但是彈性是很大的，或許 Develop Team 有信心時使用 Commitment ，而團隊缺乏信心時或許可以用過往的 Velocity 作為標準。  \n\n### Planning 第二階段\n\n* 組織 Task 以達到溝通與完成 Items 的目的\n* 接受來自第一階段的 Backlog Items\n  * 要相信「Velocity」\n  * 不要馬上分派 Task\n    * 會形成 Silo ，被分派者會提早將專注力從 Item 移到 Task 上\n    * 保持專注在 Item 上\n* 對Task估時。\n  * 估時請包含假勤/會議/教育訓練…etc\n  * 別忘了 Backlog Refactoring 的時間\n  * 在 Time box 裡估完成估計的 Task\n  * Maintain → 用經驗法則抓一點 Buffer 吧\n  * 用小時去估時 ex:1~8，如果超過 8 小時稍後再作進一步的工作拆解\n  * Task 如果仍有模糊不清的部份，可以先估一個較大的時數，再進一步拆解\n  * 隨著 Sprint 進行，隨時調整 Task \\(增/刪/修\\)\n\n![Sprint Backlog&#x5E38;&#x5E38;&#x6703;&#x9577;&#x9019;&#x6A23;](/images/2018/csm/day_2/Sprint_Backlog_Burndown.jpg)\n\n* 這是用來估計而非報告，不要混為一談；Scrum 在乎的是結果，而非時間。\n* 只管相對大小，ex: Task A 與 Task B，由 Alice 與 Bob 領走可能會如下呈現\n\n  * Task A Alice 領走估時 8 hours，Task B Bob 領走估時 4 hours\n  * Task A Bob 領走估時 2 hours，Task B Alice 領走估時 4 hours\n  * 其實不用追究原因，或是是否相同，這因人而異，不求準確\n    * 我自已的理解是\n      * 而是某人估了高時數時，能不能有人來支援他？\n      * 能不能透估時發現 Team Member 的能力差異，並引入其它方法提升 Member 能力 \\(ex: Pair Programming、Sharing、讀書會...\\)\n      * 承上一點，注意佔用 Sprint 的時間，並回頭檢核是否有效；**沒有比較的改善，只是自我滿足。**\n\n> **Sprint Backlog**  \n> Tasks to turn product backlog into working product functionality.  \n> Tasks are estimated in hours , usually 1-8 .  \n> Team with more than 8 hours are broken down later .  \n> Team members sign up for tasks , they aren't assigned .  \n> Estimated work remaining is updated daily .  \n> Any team member can add, delete or change the Sprint Backlog work for the Sprint emerges  \n> If work unclear, define a Sprint Backlog with a larger amount of time break it down later .  \n> Update work remaining as more is known, as items are worked\n\n## Scrum Master 的 Check List\n\n* Product Backlog Item 排序\n  * 上一個 Sprint 未完成的 Item \n  * Review Meeting 的反饋所產生的 Action Item\n  * Acceptance Criteria 是否已經定義清楚了？\n    * 需視 Scrum Team的流程定義\n    * User Story 的 Descriptions & Acceptance criteria希望是PO與團隊一起共同完成。\n      * 實務上蠻花時間的，寫出來的效果也不見得很好。\\(\\*也許是我們的操作方法不對\\)\n    * User story是用來溝通的，不是用來寫的！\n  * 是否有人請假？ \n    * 可以提前確認\n    * 有人請假要評估是否吃得下？\n    * 吃不吃得下由團隊評估\n\n> PO 在 Sprint 中一直塞東西是不是一種不信任團隊的壞味道？  \n> Team 毫無反應，就只是個接 Task 的 Team 是不是也是一種不信任？\n\n![OKR in Scrum](/images/2018/csm/day_2/OKR_in_Scrum.jpg)\n\n> 我對 OKR 與 Sprint Goal 的認知。  \n> 不難理解為什麼 RD 會覺得干我屁事，~~又沒加薪也沒獎金，  \n> 看了兩本書、用口說說就能讓人激勵人心太不且實際了~~。  \n> 比如說：[作功德](https://www.ettoday.net/news/20171125/1059745.htm)，最後反而會讓第一線人當成幹話，幹話聽多了失去信任就更糟糕了。\n\n## Team\n\n適當的領取 Item，過多的 Item 進去，只會在 Sprint 結束時，有一堆半成品。  \n而半成品在面對\\(市場\\)變化，失去產品的彈性。\n\n> 軟體\\(代碼\\)的優化與重構只作一半，算不算是半成品？  \n> 軟體隨著架構或相依的套件升級或補丁，在 Sprint 期間通常會有必要升級或是改變寫法。  \n> 最後就變成下圖，擁有各種版本的 Code Base。\n\n![](/images/2018/csm/day_2/V1_V2_V3_V4_VVV.jpg)\n\n> 這會拖慢開發速度，讓新進成員難以理解，也難以用 Code Review 或自動化 Tool 解決，  \n> 目前比較理想的解法是 Pair-Programming 與時時重構。\n>\n> **可是，PO願意花費這個時間去調整嗎？** \n> 可以用 Veloctiy 變低當作參考嗎？Veloctiy 變低的原因有很多種。\n> 又或者由 Team 自行決定？\n> Team 要能自組織要多久時間呢 ？**「不是拿掉主管，團隊就能自組織」**; \n> 如果是跨 Team 共同開發的產品又該如何？\n> Arch 的調整需要更其它或上層的團隊允可(這也會占用不少時間)\n> 把產品拆掉變成多個服務？讓團隊成為服務 Ower ？\n> 拆成服務又需要多久時間呢？\n> 組織架構調整？\n> \n> **當對 PO 來說，這是沒有商業價值的事。**，實務上該怎麼作？或該怎麼量化呢？  \n> 註記：或許這只是個過度理想化的偽議題，畢竟「凡存在，必合理」。\n\n\n![&#x597D;&#x50CF;&#x6709;&#x9EDE;&#x61C2;&#x4E86;&#xFF0C;&#x53C8;&#x6709;&#x9EDE;&#x4E0D;&#x61C2;&#x2026;](/images/2018/csm/day_2/thinking.jpg)\n\n(fin)","source":"_posts/2018/csm/day_2_1.md","raw":"---\ntitle: \"CSM Day2-1 Planning\" \ndate: 2018/11/3 23:47:10\ntag:\n    - Scrum\n    - Agile\n---\n\n\n>** 雖然實施部分的 Scrum 是可能的，但結果並不是 Scrum。Scrum，  \n  只有在完整的時候才會存在，也才能有效的成為其他技巧、方法論、和實務發揮的運作舞臺。  \n  --- Scrum Guide 結語**\n\n\n\n## Planning \\(with 2~4 hours timebox\\)\n\n### Planning 第一階段\n\n* 說明要作什麼\\(What\\)。\n* 對Item估點。\n  * 基於 Velocity\n  * 基於 Commitment\n\n#### 估計的方法\n\n有 Size \\(大、中、小\\) 或點數\\(Story Point、Planning Poker\\)等方法，  \n實務上都使用點數較多，原因是多個項目的加總，在比較時點數較有感覺。  \n\n參考下例：  \nSprint 1 有 4 個 Item，Size 是分別是大、大、中、小。點數分別是 13、13、5、2。  \nSprint 2 有 5 個 Item，Size 是分別是大、中、中、中、小。點數分別是 13、8、8、5、1。\n\n| Sprint | Size | 點數 |\n| :--- | :--- | :--- |\n| Sprint 1 | 2大、1中、1小 | 13+13+5+2 = 33 |\n| Sprint 2 | 1大、3中、1小 | 13+8+8+5+1 = 35 |\n\n> Velocity-Driven 或 Commitment-Driven 哪個比較好呢？  \n> 大多數的 Scrum Master 恐怕會跟你說團隊決定。  \n> 兩者的差異點在哪裡呢 ？ **Scrum 是立基於經驗導向的流程控制理論**  \n> Velocity 有數據佐証，較為客觀；但是 Team members 與 Backlog Item 其實都是會變動的\\(理想上當然是穩定更好\\)，  \n> 如果 PO 與 Team 的互信足夠，  Commitment 其實也可以符合經驗導向，比如說：「 我的Develop Team 平均每個 Sprint裡面可以交付 90% 的 Item。」  \n> 換句話說還是團隊決定，但是彈性是很大的，或許 Develop Team 有信心時使用 Commitment ，而團隊缺乏信心時或許可以用過往的 Velocity 作為標準。  \n\n### Planning 第二階段\n\n* 組織 Task 以達到溝通與完成 Items 的目的\n* 接受來自第一階段的 Backlog Items\n  * 要相信「Velocity」\n  * 不要馬上分派 Task\n    * 會形成 Silo ，被分派者會提早將專注力從 Item 移到 Task 上\n    * 保持專注在 Item 上\n* 對Task估時。\n  * 估時請包含假勤/會議/教育訓練…etc\n  * 別忘了 Backlog Refactoring 的時間\n  * 在 Time box 裡估完成估計的 Task\n  * Maintain → 用經驗法則抓一點 Buffer 吧\n  * 用小時去估時 ex:1~8，如果超過 8 小時稍後再作進一步的工作拆解\n  * Task 如果仍有模糊不清的部份，可以先估一個較大的時數，再進一步拆解\n  * 隨著 Sprint 進行，隨時調整 Task \\(增/刪/修\\)\n\n![Sprint Backlog&#x5E38;&#x5E38;&#x6703;&#x9577;&#x9019;&#x6A23;](/images/2018/csm/day_2/Sprint_Backlog_Burndown.jpg)\n\n* 這是用來估計而非報告，不要混為一談；Scrum 在乎的是結果，而非時間。\n* 只管相對大小，ex: Task A 與 Task B，由 Alice 與 Bob 領走可能會如下呈現\n\n  * Task A Alice 領走估時 8 hours，Task B Bob 領走估時 4 hours\n  * Task A Bob 領走估時 2 hours，Task B Alice 領走估時 4 hours\n  * 其實不用追究原因，或是是否相同，這因人而異，不求準確\n    * 我自已的理解是\n      * 而是某人估了高時數時，能不能有人來支援他？\n      * 能不能透估時發現 Team Member 的能力差異，並引入其它方法提升 Member 能力 \\(ex: Pair Programming、Sharing、讀書會...\\)\n      * 承上一點，注意佔用 Sprint 的時間，並回頭檢核是否有效；**沒有比較的改善，只是自我滿足。**\n\n> **Sprint Backlog**  \n> Tasks to turn product backlog into working product functionality.  \n> Tasks are estimated in hours , usually 1-8 .  \n> Team with more than 8 hours are broken down later .  \n> Team members sign up for tasks , they aren't assigned .  \n> Estimated work remaining is updated daily .  \n> Any team member can add, delete or change the Sprint Backlog work for the Sprint emerges  \n> If work unclear, define a Sprint Backlog with a larger amount of time break it down later .  \n> Update work remaining as more is known, as items are worked\n\n## Scrum Master 的 Check List\n\n* Product Backlog Item 排序\n  * 上一個 Sprint 未完成的 Item \n  * Review Meeting 的反饋所產生的 Action Item\n  * Acceptance Criteria 是否已經定義清楚了？\n    * 需視 Scrum Team的流程定義\n    * User Story 的 Descriptions & Acceptance criteria希望是PO與團隊一起共同完成。\n      * 實務上蠻花時間的，寫出來的效果也不見得很好。\\(\\*也許是我們的操作方法不對\\)\n    * User story是用來溝通的，不是用來寫的！\n  * 是否有人請假？ \n    * 可以提前確認\n    * 有人請假要評估是否吃得下？\n    * 吃不吃得下由團隊評估\n\n> PO 在 Sprint 中一直塞東西是不是一種不信任團隊的壞味道？  \n> Team 毫無反應，就只是個接 Task 的 Team 是不是也是一種不信任？\n\n![OKR in Scrum](/images/2018/csm/day_2/OKR_in_Scrum.jpg)\n\n> 我對 OKR 與 Sprint Goal 的認知。  \n> 不難理解為什麼 RD 會覺得干我屁事，~~又沒加薪也沒獎金，  \n> 看了兩本書、用口說說就能讓人激勵人心太不且實際了~~。  \n> 比如說：[作功德](https://www.ettoday.net/news/20171125/1059745.htm)，最後反而會讓第一線人當成幹話，幹話聽多了失去信任就更糟糕了。\n\n## Team\n\n適當的領取 Item，過多的 Item 進去，只會在 Sprint 結束時，有一堆半成品。  \n而半成品在面對\\(市場\\)變化，失去產品的彈性。\n\n> 軟體\\(代碼\\)的優化與重構只作一半，算不算是半成品？  \n> 軟體隨著架構或相依的套件升級或補丁，在 Sprint 期間通常會有必要升級或是改變寫法。  \n> 最後就變成下圖，擁有各種版本的 Code Base。\n\n![](/images/2018/csm/day_2/V1_V2_V3_V4_VVV.jpg)\n\n> 這會拖慢開發速度，讓新進成員難以理解，也難以用 Code Review 或自動化 Tool 解決，  \n> 目前比較理想的解法是 Pair-Programming 與時時重構。\n>\n> **可是，PO願意花費這個時間去調整嗎？** \n> 可以用 Veloctiy 變低當作參考嗎？Veloctiy 變低的原因有很多種。\n> 又或者由 Team 自行決定？\n> Team 要能自組織要多久時間呢 ？**「不是拿掉主管，團隊就能自組織」**; \n> 如果是跨 Team 共同開發的產品又該如何？\n> Arch 的調整需要更其它或上層的團隊允可(這也會占用不少時間)\n> 把產品拆掉變成多個服務？讓團隊成為服務 Ower ？\n> 拆成服務又需要多久時間呢？\n> 組織架構調整？\n> \n> **當對 PO 來說，這是沒有商業價值的事。**，實務上該怎麼作？或該怎麼量化呢？  \n> 註記：或許這只是個過度理想化的偽議題，畢竟「凡存在，必合理」。\n\n\n![&#x597D;&#x50CF;&#x6709;&#x9EDE;&#x61C2;&#x4E86;&#xFF0C;&#x53C8;&#x6709;&#x9EDE;&#x4E0D;&#x61C2;&#x2026;](/images/2018/csm/day_2/thinking.jpg)\n\n(fin)","slug":"2018/csm/day_2_1","published":1,"updated":"2019-06-10T14:43:28.916Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wpx006wb0vx7tsgbm9p","content":"<blockquote>\n<p>** 雖然實施部分的 Scrum 是可能的，但結果並不是 Scrum。Scrum，<br>  只有在完整的時候才會存在，也才能有效的成為其他技巧、方法論、和實務發揮的運作舞臺。<br>  — Scrum Guide 結語**</p>\n</blockquote>\n<h2 id=\"Planning-with-2-4-hours-timebox\"><a href=\"#Planning-with-2-4-hours-timebox\" class=\"headerlink\" title=\"Planning (with 2~4 hours timebox)\"></a>Planning (with 2~4 hours timebox)</h2><h3 id=\"Planning-第一階段\"><a href=\"#Planning-第一階段\" class=\"headerlink\" title=\"Planning 第一階段\"></a>Planning 第一階段</h3><ul>\n<li>說明要作什麼(What)。</li>\n<li>對Item估點。<ul>\n<li>基於 Velocity</li>\n<li>基於 Commitment</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"估計的方法\"><a href=\"#估計的方法\" class=\"headerlink\" title=\"估計的方法\"></a>估計的方法</h4><p>有 Size (大、中、小) 或點數(Story Point、Planning Poker)等方法，<br>實務上都使用點數較多，原因是多個項目的加總，在比較時點數較有感覺。  </p>\n<p>參考下例：<br>Sprint 1 有 4 個 Item，Size 是分別是大、大、中、小。點數分別是 13、13、5、2。<br>Sprint 2 有 5 個 Item，Size 是分別是大、中、中、中、小。點數分別是 13、8、8、5、1。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Sprint</th>\n<th align=\"left\">Size</th>\n<th align=\"left\">點數</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">Sprint 1</td>\n<td align=\"left\">2大、1中、1小</td>\n<td align=\"left\">13+13+5+2 = 33</td>\n</tr>\n<tr>\n<td align=\"left\">Sprint 2</td>\n<td align=\"left\">1大、3中、1小</td>\n<td align=\"left\">13+8+8+5+1 = 35</td>\n</tr>\n</tbody></table>\n<blockquote>\n<p>Velocity-Driven 或 Commitment-Driven 哪個比較好呢？<br>大多數的 Scrum Master 恐怕會跟你說團隊決定。<br>兩者的差異點在哪裡呢 ？ <strong>Scrum 是立基於經驗導向的流程控制理論</strong><br>Velocity 有數據佐証，較為客觀；但是 Team members 與 Backlog Item 其實都是會變動的(理想上當然是穩定更好)，  \n如果 PO 與 Team 的互信足夠，  Commitment 其實也可以符合經驗導向，比如說：「 我的Develop Team 平均每個 Sprint裡面可以交付 90% 的 Item。」<br>換句話說還是團隊決定，但是彈性是很大的，或許 Develop Team 有信心時使用 Commitment ，而團隊缺乏信心時或許可以用過往的 Velocity 作為標準。  </p>\n</blockquote>\n<h3 id=\"Planning-第二階段\"><a href=\"#Planning-第二階段\" class=\"headerlink\" title=\"Planning 第二階段\"></a>Planning 第二階段</h3><ul>\n<li>組織 Task 以達到溝通與完成 Items 的目的</li>\n<li>接受來自第一階段的 Backlog Items<ul>\n<li>要相信「Velocity」</li>\n<li>不要馬上分派 Task<ul>\n<li>會形成 Silo ，被分派者會提早將專注力從 Item 移到 Task 上</li>\n<li>保持專注在 Item 上</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>對Task估時。<ul>\n<li>估時請包含假勤/會議/教育訓練…etc</li>\n<li>別忘了 Backlog Refactoring 的時間</li>\n<li>在 Time box 裡估完成估計的 Task</li>\n<li>Maintain → 用經驗法則抓一點 Buffer 吧</li>\n<li>用小時去估時 ex:1~8，如果超過 8 小時稍後再作進一步的工作拆解</li>\n<li>Task 如果仍有模糊不清的部份，可以先估一個較大的時數，再進一步拆解</li>\n<li>隨著 Sprint 進行，隨時調整 Task (增/刪/修)</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/images/2018/csm/day_2/Sprint_Backlog_Burndown.jpg\" alt=\"Sprint Backlog&#x5E38;&#x5E38;&#x6703;&#x9577;&#x9019;&#x6A23;\"></p>\n<ul>\n<li><p>這是用來估計而非報告，不要混為一談；Scrum 在乎的是結果，而非時間。</p>\n</li>\n<li><p>只管相對大小，ex: Task A 與 Task B，由 Alice 與 Bob 領走可能會如下呈現</p>\n<ul>\n<li>Task A Alice 領走估時 8 hours，Task B Bob 領走估時 4 hours</li>\n<li>Task A Bob 領走估時 2 hours，Task B Alice 領走估時 4 hours</li>\n<li>其實不用追究原因，或是是否相同，這因人而異，不求準確<ul>\n<li>我自已的理解是<ul>\n<li>而是某人估了高時數時，能不能有人來支援他？</li>\n<li>能不能透估時發現 Team Member 的能力差異，並引入其它方法提升 Member 能力 (ex: Pair Programming、Sharing、讀書會…)</li>\n<li>承上一點，注意佔用 Sprint 的時間，並回頭檢核是否有效；<strong>沒有比較的改善，只是自我滿足。</strong></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p><strong>Sprint Backlog</strong><br>Tasks to turn product backlog into working product functionality.<br>Tasks are estimated in hours , usually 1-8 .<br>Team with more than 8 hours are broken down later .<br>Team members sign up for tasks , they aren’t assigned .<br>Estimated work remaining is updated daily .<br>Any team member can add, delete or change the Sprint Backlog work for the Sprint emerges<br>If work unclear, define a Sprint Backlog with a larger amount of time break it down later .<br>Update work remaining as more is known, as items are worked</p>\n</blockquote>\n<h2 id=\"Scrum-Master-的-Check-List\"><a href=\"#Scrum-Master-的-Check-List\" class=\"headerlink\" title=\"Scrum Master 的 Check List\"></a>Scrum Master 的 Check List</h2><ul>\n<li>Product Backlog Item 排序<ul>\n<li>上一個 Sprint 未完成的 Item </li>\n<li>Review Meeting 的反饋所產生的 Action Item</li>\n<li>Acceptance Criteria 是否已經定義清楚了？<ul>\n<li>需視 Scrum Team的流程定義</li>\n<li>User Story 的 Descriptions &amp; Acceptance criteria希望是PO與團隊一起共同完成。<ul>\n<li>實務上蠻花時間的，寫出來的效果也不見得很好。(*也許是我們的操作方法不對)</li>\n</ul>\n</li>\n<li>User story是用來溝通的，不是用來寫的！</li>\n</ul>\n</li>\n<li>是否有人請假？ <ul>\n<li>可以提前確認</li>\n<li>有人請假要評估是否吃得下？</li>\n<li>吃不吃得下由團隊評估</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>PO 在 Sprint 中一直塞東西是不是一種不信任團隊的壞味道？<br>Team 毫無反應，就只是個接 Task 的 Team 是不是也是一種不信任？</p>\n</blockquote>\n<p><img src=\"/images/2018/csm/day_2/OKR_in_Scrum.jpg\" alt=\"OKR in Scrum\"></p>\n<blockquote>\n<p>我對 OKR 與 Sprint Goal 的認知。<br>不難理解為什麼 RD 會覺得干我屁事，<del>又沒加薪也沒獎金，<br>看了兩本書、用口說說就能讓人激勵人心太不且實際了</del>。  \n比如說：<a href=\"https://www.ettoday.net/news/20171125/1059745.htm\" target=\"_blank\" rel=\"noopener\">作功德</a>，最後反而會讓第一線人當成幹話，幹話聽多了失去信任就更糟糕了。</p>\n</blockquote>\n<h2 id=\"Team\"><a href=\"#Team\" class=\"headerlink\" title=\"Team\"></a>Team</h2><p>適當的領取 Item，過多的 Item 進去，只會在 Sprint 結束時，有一堆半成品。<br>而半成品在面對(市場)變化，失去產品的彈性。</p>\n<blockquote>\n<p>軟體(代碼)的優化與重構只作一半，算不算是半成品？<br>軟體隨著架構或相依的套件升級或補丁，在 Sprint 期間通常會有必要升級或是改變寫法。<br>最後就變成下圖，擁有各種版本的 Code Base。</p>\n</blockquote>\n<p><img src=\"/images/2018/csm/day_2/V1_V2_V3_V4_VVV.jpg\" alt></p>\n<blockquote>\n<p>這會拖慢開發速度，讓新進成員難以理解，也難以用 Code Review 或自動化 Tool 解決，<br>目前比較理想的解法是 Pair-Programming 與時時重構。</p>\n<p><strong>可是，PO願意花費這個時間去調整嗎？</strong><br>可以用 Veloctiy 變低當作參考嗎？Veloctiy 變低的原因有很多種。<br>又或者由 Team 自行決定？<br>Team 要能自組織要多久時間呢 ？<strong>「不是拿掉主管，團隊就能自組織」</strong>; \n如果是跨 Team 共同開發的產品又該如何？<br>Arch 的調整需要更其它或上層的團隊允可(這也會占用不少時間)<br>把產品拆掉變成多個服務？讓團隊成為服務 Ower ？<br>拆成服務又需要多久時間呢？<br>組織架構調整？</p>\n<p><strong>當對 PO 來說，這是沒有商業價值的事。</strong>，實務上該怎麼作？或該怎麼量化呢？<br>註記：或許這只是個過度理想化的偽議題，畢竟「凡存在，必合理」。</p>\n</blockquote>\n<p><img src=\"/images/2018/csm/day_2/thinking.jpg\" alt=\"&#x597D;&#x50CF;&#x6709;&#x9EDE;&#x61C2;&#x4E86;&#xFF0C;&#x53C8;&#x6709;&#x9EDE;&#x4E0D;&#x61C2;&#x2026;\"></p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>** 雖然實施部分的 Scrum 是可能的，但結果並不是 Scrum。Scrum，<br>  只有在完整的時候才會存在，也才能有效的成為其他技巧、方法論、和實務發揮的運作舞臺。<br>  — Scrum Guide 結語**</p>\n</blockquote>\n<h2 id=\"Planning-with-2-4-hours-timebox\"><a href=\"#Planning-with-2-4-hours-timebox\" class=\"headerlink\" title=\"Planning (with 2~4 hours timebox)\"></a>Planning (with 2~4 hours timebox)</h2><h3 id=\"Planning-第一階段\"><a href=\"#Planning-第一階段\" class=\"headerlink\" title=\"Planning 第一階段\"></a>Planning 第一階段</h3><ul>\n<li>說明要作什麼(What)。</li>\n<li>對Item估點。<ul>\n<li>基於 Velocity</li>\n<li>基於 Commitment</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"估計的方法\"><a href=\"#估計的方法\" class=\"headerlink\" title=\"估計的方法\"></a>估計的方法</h4><p>有 Size (大、中、小) 或點數(Story Point、Planning Poker)等方法，<br>實務上都使用點數較多，原因是多個項目的加總，在比較時點數較有感覺。  </p>\n<p>參考下例：<br>Sprint 1 有 4 個 Item，Size 是分別是大、大、中、小。點數分別是 13、13、5、2。<br>Sprint 2 有 5 個 Item，Size 是分別是大、中、中、中、小。點數分別是 13、8、8、5、1。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Sprint</th>\n<th align=\"left\">Size</th>\n<th align=\"left\">點數</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">Sprint 1</td>\n<td align=\"left\">2大、1中、1小</td>\n<td align=\"left\">13+13+5+2 = 33</td>\n</tr>\n<tr>\n<td align=\"left\">Sprint 2</td>\n<td align=\"left\">1大、3中、1小</td>\n<td align=\"left\">13+8+8+5+1 = 35</td>\n</tr>\n</tbody></table>\n<blockquote>\n<p>Velocity-Driven 或 Commitment-Driven 哪個比較好呢？<br>大多數的 Scrum Master 恐怕會跟你說團隊決定。<br>兩者的差異點在哪裡呢 ？ <strong>Scrum 是立基於經驗導向的流程控制理論</strong><br>Velocity 有數據佐証，較為客觀；但是 Team members 與 Backlog Item 其實都是會變動的(理想上當然是穩定更好)，  \n如果 PO 與 Team 的互信足夠，  Commitment 其實也可以符合經驗導向，比如說：「 我的Develop Team 平均每個 Sprint裡面可以交付 90% 的 Item。」<br>換句話說還是團隊決定，但是彈性是很大的，或許 Develop Team 有信心時使用 Commitment ，而團隊缺乏信心時或許可以用過往的 Velocity 作為標準。  </p>\n</blockquote>\n<h3 id=\"Planning-第二階段\"><a href=\"#Planning-第二階段\" class=\"headerlink\" title=\"Planning 第二階段\"></a>Planning 第二階段</h3><ul>\n<li>組織 Task 以達到溝通與完成 Items 的目的</li>\n<li>接受來自第一階段的 Backlog Items<ul>\n<li>要相信「Velocity」</li>\n<li>不要馬上分派 Task<ul>\n<li>會形成 Silo ，被分派者會提早將專注力從 Item 移到 Task 上</li>\n<li>保持專注在 Item 上</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>對Task估時。<ul>\n<li>估時請包含假勤/會議/教育訓練…etc</li>\n<li>別忘了 Backlog Refactoring 的時間</li>\n<li>在 Time box 裡估完成估計的 Task</li>\n<li>Maintain → 用經驗法則抓一點 Buffer 吧</li>\n<li>用小時去估時 ex:1~8，如果超過 8 小時稍後再作進一步的工作拆解</li>\n<li>Task 如果仍有模糊不清的部份，可以先估一個較大的時數，再進一步拆解</li>\n<li>隨著 Sprint 進行，隨時調整 Task (增/刪/修)</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/images/2018/csm/day_2/Sprint_Backlog_Burndown.jpg\" alt=\"Sprint Backlog&#x5E38;&#x5E38;&#x6703;&#x9577;&#x9019;&#x6A23;\"></p>\n<ul>\n<li><p>這是用來估計而非報告，不要混為一談；Scrum 在乎的是結果，而非時間。</p>\n</li>\n<li><p>只管相對大小，ex: Task A 與 Task B，由 Alice 與 Bob 領走可能會如下呈現</p>\n<ul>\n<li>Task A Alice 領走估時 8 hours，Task B Bob 領走估時 4 hours</li>\n<li>Task A Bob 領走估時 2 hours，Task B Alice 領走估時 4 hours</li>\n<li>其實不用追究原因，或是是否相同，這因人而異，不求準確<ul>\n<li>我自已的理解是<ul>\n<li>而是某人估了高時數時，能不能有人來支援他？</li>\n<li>能不能透估時發現 Team Member 的能力差異，並引入其它方法提升 Member 能力 (ex: Pair Programming、Sharing、讀書會…)</li>\n<li>承上一點，注意佔用 Sprint 的時間，並回頭檢核是否有效；<strong>沒有比較的改善，只是自我滿足。</strong></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p><strong>Sprint Backlog</strong><br>Tasks to turn product backlog into working product functionality.<br>Tasks are estimated in hours , usually 1-8 .<br>Team with more than 8 hours are broken down later .<br>Team members sign up for tasks , they aren’t assigned .<br>Estimated work remaining is updated daily .<br>Any team member can add, delete or change the Sprint Backlog work for the Sprint emerges<br>If work unclear, define a Sprint Backlog with a larger amount of time break it down later .<br>Update work remaining as more is known, as items are worked</p>\n</blockquote>\n<h2 id=\"Scrum-Master-的-Check-List\"><a href=\"#Scrum-Master-的-Check-List\" class=\"headerlink\" title=\"Scrum Master 的 Check List\"></a>Scrum Master 的 Check List</h2><ul>\n<li>Product Backlog Item 排序<ul>\n<li>上一個 Sprint 未完成的 Item </li>\n<li>Review Meeting 的反饋所產生的 Action Item</li>\n<li>Acceptance Criteria 是否已經定義清楚了？<ul>\n<li>需視 Scrum Team的流程定義</li>\n<li>User Story 的 Descriptions &amp; Acceptance criteria希望是PO與團隊一起共同完成。<ul>\n<li>實務上蠻花時間的，寫出來的效果也不見得很好。(*也許是我們的操作方法不對)</li>\n</ul>\n</li>\n<li>User story是用來溝通的，不是用來寫的！</li>\n</ul>\n</li>\n<li>是否有人請假？ <ul>\n<li>可以提前確認</li>\n<li>有人請假要評估是否吃得下？</li>\n<li>吃不吃得下由團隊評估</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>PO 在 Sprint 中一直塞東西是不是一種不信任團隊的壞味道？<br>Team 毫無反應，就只是個接 Task 的 Team 是不是也是一種不信任？</p>\n</blockquote>\n<p><img src=\"/images/2018/csm/day_2/OKR_in_Scrum.jpg\" alt=\"OKR in Scrum\"></p>\n<blockquote>\n<p>我對 OKR 與 Sprint Goal 的認知。<br>不難理解為什麼 RD 會覺得干我屁事，<del>又沒加薪也沒獎金，<br>看了兩本書、用口說說就能讓人激勵人心太不且實際了</del>。  \n比如說：<a href=\"https://www.ettoday.net/news/20171125/1059745.htm\" target=\"_blank\" rel=\"noopener\">作功德</a>，最後反而會讓第一線人當成幹話，幹話聽多了失去信任就更糟糕了。</p>\n</blockquote>\n<h2 id=\"Team\"><a href=\"#Team\" class=\"headerlink\" title=\"Team\"></a>Team</h2><p>適當的領取 Item，過多的 Item 進去，只會在 Sprint 結束時，有一堆半成品。<br>而半成品在面對(市場)變化，失去產品的彈性。</p>\n<blockquote>\n<p>軟體(代碼)的優化與重構只作一半，算不算是半成品？<br>軟體隨著架構或相依的套件升級或補丁，在 Sprint 期間通常會有必要升級或是改變寫法。<br>最後就變成下圖，擁有各種版本的 Code Base。</p>\n</blockquote>\n<p><img src=\"/images/2018/csm/day_2/V1_V2_V3_V4_VVV.jpg\" alt></p>\n<blockquote>\n<p>這會拖慢開發速度，讓新進成員難以理解，也難以用 Code Review 或自動化 Tool 解決，<br>目前比較理想的解法是 Pair-Programming 與時時重構。</p>\n<p><strong>可是，PO願意花費這個時間去調整嗎？</strong><br>可以用 Veloctiy 變低當作參考嗎？Veloctiy 變低的原因有很多種。<br>又或者由 Team 自行決定？<br>Team 要能自組織要多久時間呢 ？<strong>「不是拿掉主管，團隊就能自組織」</strong>; \n如果是跨 Team 共同開發的產品又該如何？<br>Arch 的調整需要更其它或上層的團隊允可(這也會占用不少時間)<br>把產品拆掉變成多個服務？讓團隊成為服務 Ower ？<br>拆成服務又需要多久時間呢？<br>組織架構調整？</p>\n<p><strong>當對 PO 來說，這是沒有商業價值的事。</strong>，實務上該怎麼作？或該怎麼量化呢？<br>註記：或許這只是個過度理想化的偽議題，畢竟「凡存在，必合理」。</p>\n</blockquote>\n<p><img src=\"/images/2018/csm/day_2/thinking.jpg\" alt=\"&#x597D;&#x50CF;&#x6709;&#x9EDE;&#x61C2;&#x4E86;&#xFF0C;&#x53C8;&#x6709;&#x9EDE;&#x4E0D;&#x61C2;&#x2026;\"></p>\n<p>(fin)</p>\n"},{"title":"CSM Day2-2 Daily Scrum 與 Sprint Review 與 Retrospective","date":"2018-11-03T16:08:47.000Z","_content":"\n#### 課程簡介\n- Scrum Master 認証課程\n- 講師 ： [呂毅(Lv Yi)](https://blog.odd-e.com/yilv/)\n- 課前請看過 [Scurm Guide](https://scrumguides.org/docs/scrumguide/v2017/2017-Scrum-Guide-Chinese-Simplified.pdf) 與 [Scurm Primer](http://scrumprimer.org/scrum_primer_cn.pdf)\n\n### Daily Scrum\n\n* 建議 Time Box 15 mins，每日同時同地進行，注意避免超時。\n* 目的是 Adapt，觀注 Item 而非 Task。\n* Scrum Master 不是會議的中心；避免讓團隊成員變成對 Scrum Master 或 PO 報告。\n* Scrum Master 應減少(避免成為中心)\n  * 發言\n  * 眼神接觸\n* PO不一定需要每天參與Daily Scrum，但參與有助於問題的釐清\n* 不討論細節，只確認現況\\(Reality Check\\)與目標\\(Goal\\)的差距，細節可會後釐清\n\n補充: \n\n* [GROW](https://wiki.mbalib.com/zh-tw/GROW%E6%A8%A1%E5%9E%8B)\n* 有的人就是很話澇，曾有團隊給每個成員紅/黃牌，當有人說得太久就給牌警告 XDDD\n* Scrum Master 可以作的事\n  * Does the team find the daily scrum useful ？ 成員有沒有發現站立的好處 ？\n  * Do they manage themselves ？ 團隊是否自組織了？\n  * Do they share their work ？ 他們的工作是共享的嗎 ？\n  * Do they come prepared ？ 他們\\(這個Sprint/Item/Task\\)準備好了嗎 ？\n  * Do they report unclear ？他們的說明是否易懂？\n  * Does it take too long ？是不是太耗時了？\n\n> 我在 C 社是下午 5:30 執行 Daily Scrum，在 N 社是早上 10:30。  \n> 個人比較喜歡 C 社的作法，但有可能是被制約了，因為那是我第一個跑 Scrum 的團隊。\n\n主觀的比較一下優缺點\n\n|   |優點|缺點|\n|---|---|---|\n|下午執行的|站立完就可以下班了。|站立講不清楚就會拖到下班，人性會選擇甘脆不講。  |\n|   |一早來就可以根據昨天的站立進行開發。 |第二天一來忘了昨天說什麼了啦|\n|上午執行的|站完就可以開始一天的工作。|10:30 站立就會有人10:30才進公司，提早來反而沒人問\\(但是安靜\\)  |\n|   |剛站完比較不會忘|如果有會後討論，一不小心就中午了呢(一ω一)|\n\n### Sprint Review & Retrospective\n\n#### Review\n\n* 展示我們完成了「什麼\\(What\\)」\\(面對 Stakeholder 練習別說技術語言\\)\n* 建立 Product Owner 與 Stakeholder 的信任\n* 取得來自 Product Owner 與 Stakeholder 的 Feedback \n* 圍繞著 Product 進行 Inspect 與 Adapt\n* Team Member 完成某些 Task 或 Item 之時，就可以找 PO 進行 View \\(Just In Time Review\\)\n \n\n![-](/images/2018/csm/day_2/done&accept.jpg)\n\n#### Retrospective\n\n* 觀注我們是「怎麼\\(How\\)」作的\n* 圍繞著 Process 進行 Inspect 與 Adapt\n* 從經驗中學習，增進溝通\n* 幫助團隊關注改善 Process\n* 關注重複發生的問題\n  * 有時是組織性的問題\n  * 有時是團隊的問題\n\n> **「每個人的觀點都是對的；但不完全是對的。」**  \n> 上面這句話，要兩句同時看才完整。\n\n#### 回饋\n\n> 盲人摸象的啟示，沒有人錯；但組合起來就不是大象。  \n> 不論那隻大象是你的團隊、組織、公司或是這個社會。  \n> [專案開始之初，首重看見全貌](https://ruddyblog.wordpress.com/2017/10/27/%E7%9C%8B%E8%A6%8B%E5%85%A8%E8%B2%8C/)。[看見全貌之後，確認自己在哪裡!](https://ruddyblog.wordpress.com/2018/05/) --- Ruddy Lee\\(李智樺\\)  N 社敏捷教練  \n> 幸福的秘密,就是去欣賞世界上所有的奇特景觀,但不要忘記了湯匙裡的油。　--- 牧羊少年奇幻之旅\n\n### Product Owner & Product Blog & Refinement\n\n#### Product Owner\n\n* 對產品有遠景\n* 定義產品的功能，決定發佈的日期與內容\n* 對功能作排序\\(價值、成本、風險…etc\\)\n* 對產品獲利能力負責\n\n> 為什麼 Scrum 的設計上只有一個 PO ，這讓下決定變得簡單；但實務上這件事不容易。  \n> 在 C 社期間與 Boss 的距離較短\\(公司規模小\\)， 但是 Boss 也是喜歡透過一個 PM 來作代理人，在 N 社公司規模更大，PMO 基本上是個巨型團隊，即使是 PO 仍需要與其它部門確認、核可、討論才能決定。不論大小，在工作實務上仍然像個 PM 或是窗口與代理人。\n\n#### Product Backlog\n\n* 要包含功能性與技術性的需求 Items\n* Items 將被拆解為工作項目\\(Tasks\\)\n* 只對高優先的項目作細部分解。\n  * 價值、緊急程度需要可測量\n* 多個團隊應該共用一份 Product Backlog\n* 由商業計劃驅動，有時候你需要客戶的協助\n\n**好的 Product Backlog** ，可以協助團隊 Refinement\n\n* Ordered\n* Detailed Appropriately\n* Dynamic\n* Estimated\n\n#### Refinement\n\n* 最高優先的 Item 可以提前 2-3 個 Sprint 執行 Refinement\n* PO 與 Team 一起進行\n* 你可以在 Sprint 中期進行一次\n* 可以透過 User Story Mapping 進行討論\n\n> User Story 的目的是用來達溝通的，  \n> 溝通最大的目的在於分享觀點與學習，不要僅僅流於形式。\n\n> 實務上 Refinement 隨時會發生，關鍵的成員討論並決策。  \n> 而且不難實現，隨時 Refinement 是第一線的開發人員很自然的思維與生態。  \n> PO 在場的話更好，但是不是必要的。特別要記得設定 Time Box，避免討論多與實踐。\n\n#### Walking Skeleton \n\n這裡有關一些 User Story Mapping 的東西，我不清楚故不作說明，未來再作補充。  \n我們可以把 Y 軸的分群當作一個一個 Feature，很明顯我們不需要把每件事作到 100% ，那樣太慢而且沒有意義。\n\n我們應該先完成 X 軸最上方一列的 Items ，要儘可能的簡單，完成一個完整可動的骨架。  \n它的圖形會如下；\n\n![Walking Skeleton](/images/2018/csm/day_2/walking_skeleton.jpg)\n\n它不代表要被交付，它只完成了一個最簡單的閉環，能提供最基本的回饋\\(不需來自真正的客戶\\)。  \n當完成了 Walking Skeleton ，在這個基礎上我們可以填加其它的增量，應該在前 1~2 Sprint 就完成它。  \n  \nScrum Master 應該與 PO 一起找到 Walking Skeleton，在一個 Release 前 1/3 的時間就應該完成 Walking Skeleton。未必要 Release 它，因為它很可能是相當粗糙的，但是儘早完成可以幫助團隊降低風險，而且完成後 Value 的選擇將可視化，同時也完成了基本的 Architecture 。  \n  \n當然所有部份都不完整，但是可以隨著時間逐漸完成。有些項目我們可能永遠不會作，因為不符成本。另外如果一個完整的 Walking Skeleton 無法在一個 Sprint 裡完成，請選擇 Risk 高的優先作。\n\n#### 估時\n\n對每個 Item 估點數，請參考 Planning 的部份；但是點數對客戶與老闆其實沒有辦法理解，最重要轉換成時間。關鍵還是 Velocity ，這是團隊的戰鬥力，假設總共的點數估計為 50 點，團隊每個 Sprint 可以完成 10 點，團隊就需要 5 個 Sprint，以一個 Sprint 2周來算，這樣就可以向客戶或老闆承諾 10周的時間。\n\n> 這裡的例子有點不懂，正常的 Scrum 估時只會專注在一個 Sprint，而 Product Back Log 如果沒有被估點的話，如何換算成點數？更如何向客戶或老闆提供這樣的數據？\n\n估時很適用 Fibonacci 數列，F: 1、2、3、5 、8、13、21、…，很多的工具都有提供，主要以相對大小來比較對一件事情的看法。此外，不要因此被工具限制住了，比如說團隊無法在 8 跟 13 之間，就選擇個中間值吧，「?」也是一張重要的牌，這代表未知、混沌與風險。可以在所有的 Item 中挑選一個的當作基礎，每比較完一個項目，也再次作為比較基礎。「40」、「100」這樣的大牌也有其意義，這意味著 Item 過大，可以再作分解。  \n  \n較成熟的團隊，也可以拿過去曾經估計過的 Items 作為一組「Reference Pool」，通常不需要估到很精準。\n\n> 這樣的估計方法，需求的 Items 類型是不是需要很穩定 ？舉例來說，我們的產品如果包含 App、Web 與 Desktop ，團隊成員的 Skill Set 又很小，某些類型的工作只能由少數人開發，隨著 Sprint 有時候需要作 App、有時候需要作 Web；有時候兩者都需要作，這樣的估時算穩定嗎 ？  \n> 這是不是表示說 Scrum Team 所需要的團隊組成其實很高？又或是我需要將產品拆成 App、Web 不過這樣不就又回到 Component Team 了 ？那在導入 Scrum 的初期，人員的挑選要找通材，或是學習能力極強的人？\n\n#### Splitting\n\n`The perfect is the enemy of the good`\n\nTask 也可以應用 Walking Skeleton 的方式切割，儘早讓整合測試發生，不用一步到位。如果有外部相依，可以考慮先用 Stubbing 的方式隔開，這可能會讓「整合測試」不完整 。\n\n![Splitting Ways](/images/2018/csm/day_2/splitting.jpg)\n\n> 用 Walking Skeleton 的方式開發，QA 會反映沒有什麼好測試的，Sprint 的初期 QA 都在寫測項，等待 RD 完成開發，最後幾天拼命測試。如果先開發 Walking Skeleton QA 會反應這樣的測試並不完整？而 PO會反應這樣的東西沒有商業價值。\n\n#### 開始第一個 Sprint\n\n1. 組成團隊\\(PO、SM、Team\\)，這會挑戰目前的組織架構，這是難的地方。\n2. 創建最初的 Product Backlog\n3. 決定 Sprint 長短\n4. Define Value & DoD\n\n#### 參考\n\n* [Agile Retrospectives: Making Good Teams Great](https://books.google.com.tw/books/about/Agile_Retrospectives.html?id=zA5QDwAAQBAJ&source=kp_cover&redir_esc=y)\n* [Project Retrospectives: A Handbook for Team Reviews](https://www.amazon.com/Project-Retrospectives-Handbook-Team-Reviews/dp/0932633447)\n* [User Story Mapping: Discover the Whole Story, Build the Right Product](https://www.tenlong.com.tw/products/9789863479468)\n* [用户故事地图\\(User Story Mapping\\)之初体验](https://devopshub.cn/2016/01/10/user-story-mapping-for-the-first-time/)\n\n(fin)","source":"_posts/2018/csm/day_2_2.md","raw":"---\ntitle: \"CSM Day2-2 Daily Scrum 與 Sprint Review 與 Retrospective\"\ndate: 2018/11/4 00:08:47\ntag:\n    - Scrum\n    - Agile\n---\n\n#### 課程簡介\n- Scrum Master 認証課程\n- 講師 ： [呂毅(Lv Yi)](https://blog.odd-e.com/yilv/)\n- 課前請看過 [Scurm Guide](https://scrumguides.org/docs/scrumguide/v2017/2017-Scrum-Guide-Chinese-Simplified.pdf) 與 [Scurm Primer](http://scrumprimer.org/scrum_primer_cn.pdf)\n\n### Daily Scrum\n\n* 建議 Time Box 15 mins，每日同時同地進行，注意避免超時。\n* 目的是 Adapt，觀注 Item 而非 Task。\n* Scrum Master 不是會議的中心；避免讓團隊成員變成對 Scrum Master 或 PO 報告。\n* Scrum Master 應減少(避免成為中心)\n  * 發言\n  * 眼神接觸\n* PO不一定需要每天參與Daily Scrum，但參與有助於問題的釐清\n* 不討論細節，只確認現況\\(Reality Check\\)與目標\\(Goal\\)的差距，細節可會後釐清\n\n補充: \n\n* [GROW](https://wiki.mbalib.com/zh-tw/GROW%E6%A8%A1%E5%9E%8B)\n* 有的人就是很話澇，曾有團隊給每個成員紅/黃牌，當有人說得太久就給牌警告 XDDD\n* Scrum Master 可以作的事\n  * Does the team find the daily scrum useful ？ 成員有沒有發現站立的好處 ？\n  * Do they manage themselves ？ 團隊是否自組織了？\n  * Do they share their work ？ 他們的工作是共享的嗎 ？\n  * Do they come prepared ？ 他們\\(這個Sprint/Item/Task\\)準備好了嗎 ？\n  * Do they report unclear ？他們的說明是否易懂？\n  * Does it take too long ？是不是太耗時了？\n\n> 我在 C 社是下午 5:30 執行 Daily Scrum，在 N 社是早上 10:30。  \n> 個人比較喜歡 C 社的作法，但有可能是被制約了，因為那是我第一個跑 Scrum 的團隊。\n\n主觀的比較一下優缺點\n\n|   |優點|缺點|\n|---|---|---|\n|下午執行的|站立完就可以下班了。|站立講不清楚就會拖到下班，人性會選擇甘脆不講。  |\n|   |一早來就可以根據昨天的站立進行開發。 |第二天一來忘了昨天說什麼了啦|\n|上午執行的|站完就可以開始一天的工作。|10:30 站立就會有人10:30才進公司，提早來反而沒人問\\(但是安靜\\)  |\n|   |剛站完比較不會忘|如果有會後討論，一不小心就中午了呢(一ω一)|\n\n### Sprint Review & Retrospective\n\n#### Review\n\n* 展示我們完成了「什麼\\(What\\)」\\(面對 Stakeholder 練習別說技術語言\\)\n* 建立 Product Owner 與 Stakeholder 的信任\n* 取得來自 Product Owner 與 Stakeholder 的 Feedback \n* 圍繞著 Product 進行 Inspect 與 Adapt\n* Team Member 完成某些 Task 或 Item 之時，就可以找 PO 進行 View \\(Just In Time Review\\)\n \n\n![-](/images/2018/csm/day_2/done&accept.jpg)\n\n#### Retrospective\n\n* 觀注我們是「怎麼\\(How\\)」作的\n* 圍繞著 Process 進行 Inspect 與 Adapt\n* 從經驗中學習，增進溝通\n* 幫助團隊關注改善 Process\n* 關注重複發生的問題\n  * 有時是組織性的問題\n  * 有時是團隊的問題\n\n> **「每個人的觀點都是對的；但不完全是對的。」**  \n> 上面這句話，要兩句同時看才完整。\n\n#### 回饋\n\n> 盲人摸象的啟示，沒有人錯；但組合起來就不是大象。  \n> 不論那隻大象是你的團隊、組織、公司或是這個社會。  \n> [專案開始之初，首重看見全貌](https://ruddyblog.wordpress.com/2017/10/27/%E7%9C%8B%E8%A6%8B%E5%85%A8%E8%B2%8C/)。[看見全貌之後，確認自己在哪裡!](https://ruddyblog.wordpress.com/2018/05/) --- Ruddy Lee\\(李智樺\\)  N 社敏捷教練  \n> 幸福的秘密,就是去欣賞世界上所有的奇特景觀,但不要忘記了湯匙裡的油。　--- 牧羊少年奇幻之旅\n\n### Product Owner & Product Blog & Refinement\n\n#### Product Owner\n\n* 對產品有遠景\n* 定義產品的功能，決定發佈的日期與內容\n* 對功能作排序\\(價值、成本、風險…etc\\)\n* 對產品獲利能力負責\n\n> 為什麼 Scrum 的設計上只有一個 PO ，這讓下決定變得簡單；但實務上這件事不容易。  \n> 在 C 社期間與 Boss 的距離較短\\(公司規模小\\)， 但是 Boss 也是喜歡透過一個 PM 來作代理人，在 N 社公司規模更大，PMO 基本上是個巨型團隊，即使是 PO 仍需要與其它部門確認、核可、討論才能決定。不論大小，在工作實務上仍然像個 PM 或是窗口與代理人。\n\n#### Product Backlog\n\n* 要包含功能性與技術性的需求 Items\n* Items 將被拆解為工作項目\\(Tasks\\)\n* 只對高優先的項目作細部分解。\n  * 價值、緊急程度需要可測量\n* 多個團隊應該共用一份 Product Backlog\n* 由商業計劃驅動，有時候你需要客戶的協助\n\n**好的 Product Backlog** ，可以協助團隊 Refinement\n\n* Ordered\n* Detailed Appropriately\n* Dynamic\n* Estimated\n\n#### Refinement\n\n* 最高優先的 Item 可以提前 2-3 個 Sprint 執行 Refinement\n* PO 與 Team 一起進行\n* 你可以在 Sprint 中期進行一次\n* 可以透過 User Story Mapping 進行討論\n\n> User Story 的目的是用來達溝通的，  \n> 溝通最大的目的在於分享觀點與學習，不要僅僅流於形式。\n\n> 實務上 Refinement 隨時會發生，關鍵的成員討論並決策。  \n> 而且不難實現，隨時 Refinement 是第一線的開發人員很自然的思維與生態。  \n> PO 在場的話更好，但是不是必要的。特別要記得設定 Time Box，避免討論多與實踐。\n\n#### Walking Skeleton \n\n這裡有關一些 User Story Mapping 的東西，我不清楚故不作說明，未來再作補充。  \n我們可以把 Y 軸的分群當作一個一個 Feature，很明顯我們不需要把每件事作到 100% ，那樣太慢而且沒有意義。\n\n我們應該先完成 X 軸最上方一列的 Items ，要儘可能的簡單，完成一個完整可動的骨架。  \n它的圖形會如下；\n\n![Walking Skeleton](/images/2018/csm/day_2/walking_skeleton.jpg)\n\n它不代表要被交付，它只完成了一個最簡單的閉環，能提供最基本的回饋\\(不需來自真正的客戶\\)。  \n當完成了 Walking Skeleton ，在這個基礎上我們可以填加其它的增量，應該在前 1~2 Sprint 就完成它。  \n  \nScrum Master 應該與 PO 一起找到 Walking Skeleton，在一個 Release 前 1/3 的時間就應該完成 Walking Skeleton。未必要 Release 它，因為它很可能是相當粗糙的，但是儘早完成可以幫助團隊降低風險，而且完成後 Value 的選擇將可視化，同時也完成了基本的 Architecture 。  \n  \n當然所有部份都不完整，但是可以隨著時間逐漸完成。有些項目我們可能永遠不會作，因為不符成本。另外如果一個完整的 Walking Skeleton 無法在一個 Sprint 裡完成，請選擇 Risk 高的優先作。\n\n#### 估時\n\n對每個 Item 估點數，請參考 Planning 的部份；但是點數對客戶與老闆其實沒有辦法理解，最重要轉換成時間。關鍵還是 Velocity ，這是團隊的戰鬥力，假設總共的點數估計為 50 點，團隊每個 Sprint 可以完成 10 點，團隊就需要 5 個 Sprint，以一個 Sprint 2周來算，這樣就可以向客戶或老闆承諾 10周的時間。\n\n> 這裡的例子有點不懂，正常的 Scrum 估時只會專注在一個 Sprint，而 Product Back Log 如果沒有被估點的話，如何換算成點數？更如何向客戶或老闆提供這樣的數據？\n\n估時很適用 Fibonacci 數列，F: 1、2、3、5 、8、13、21、…，很多的工具都有提供，主要以相對大小來比較對一件事情的看法。此外，不要因此被工具限制住了，比如說團隊無法在 8 跟 13 之間，就選擇個中間值吧，「?」也是一張重要的牌，這代表未知、混沌與風險。可以在所有的 Item 中挑選一個的當作基礎，每比較完一個項目，也再次作為比較基礎。「40」、「100」這樣的大牌也有其意義，這意味著 Item 過大，可以再作分解。  \n  \n較成熟的團隊，也可以拿過去曾經估計過的 Items 作為一組「Reference Pool」，通常不需要估到很精準。\n\n> 這樣的估計方法，需求的 Items 類型是不是需要很穩定 ？舉例來說，我們的產品如果包含 App、Web 與 Desktop ，團隊成員的 Skill Set 又很小，某些類型的工作只能由少數人開發，隨著 Sprint 有時候需要作 App、有時候需要作 Web；有時候兩者都需要作，這樣的估時算穩定嗎 ？  \n> 這是不是表示說 Scrum Team 所需要的團隊組成其實很高？又或是我需要將產品拆成 App、Web 不過這樣不就又回到 Component Team 了 ？那在導入 Scrum 的初期，人員的挑選要找通材，或是學習能力極強的人？\n\n#### Splitting\n\n`The perfect is the enemy of the good`\n\nTask 也可以應用 Walking Skeleton 的方式切割，儘早讓整合測試發生，不用一步到位。如果有外部相依，可以考慮先用 Stubbing 的方式隔開，這可能會讓「整合測試」不完整 。\n\n![Splitting Ways](/images/2018/csm/day_2/splitting.jpg)\n\n> 用 Walking Skeleton 的方式開發，QA 會反映沒有什麼好測試的，Sprint 的初期 QA 都在寫測項，等待 RD 完成開發，最後幾天拼命測試。如果先開發 Walking Skeleton QA 會反應這樣的測試並不完整？而 PO會反應這樣的東西沒有商業價值。\n\n#### 開始第一個 Sprint\n\n1. 組成團隊\\(PO、SM、Team\\)，這會挑戰目前的組織架構，這是難的地方。\n2. 創建最初的 Product Backlog\n3. 決定 Sprint 長短\n4. Define Value & DoD\n\n#### 參考\n\n* [Agile Retrospectives: Making Good Teams Great](https://books.google.com.tw/books/about/Agile_Retrospectives.html?id=zA5QDwAAQBAJ&source=kp_cover&redir_esc=y)\n* [Project Retrospectives: A Handbook for Team Reviews](https://www.amazon.com/Project-Retrospectives-Handbook-Team-Reviews/dp/0932633447)\n* [User Story Mapping: Discover the Whole Story, Build the Right Product](https://www.tenlong.com.tw/products/9789863479468)\n* [用户故事地图\\(User Story Mapping\\)之初体验](https://devopshub.cn/2016/01/10/user-story-mapping-for-the-first-time/)\n\n(fin)","slug":"2018/csm/day_2_2","published":1,"updated":"2019-06-10T14:43:28.916Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wr8009wb0vxvcd4oqsl","content":"<h4 id=\"課程簡介\"><a href=\"#課程簡介\" class=\"headerlink\" title=\"課程簡介\"></a>課程簡介</h4><ul>\n<li>Scrum Master 認証課程</li>\n<li>講師 ： <a href=\"https://blog.odd-e.com/yilv/\" target=\"_blank\" rel=\"noopener\">呂毅(Lv Yi)</a></li>\n<li>課前請看過 <a href=\"https://scrumguides.org/docs/scrumguide/v2017/2017-Scrum-Guide-Chinese-Simplified.pdf\" target=\"_blank\" rel=\"noopener\">Scurm Guide</a> 與 <a href=\"http://scrumprimer.org/scrum_primer_cn.pdf\" target=\"_blank\" rel=\"noopener\">Scurm Primer</a></li>\n</ul>\n<h3 id=\"Daily-Scrum\"><a href=\"#Daily-Scrum\" class=\"headerlink\" title=\"Daily Scrum\"></a>Daily Scrum</h3><ul>\n<li>建議 Time Box 15 mins，每日同時同地進行，注意避免超時。</li>\n<li>目的是 Adapt，觀注 Item 而非 Task。</li>\n<li>Scrum Master 不是會議的中心；避免讓團隊成員變成對 Scrum Master 或 PO 報告。</li>\n<li>Scrum Master 應減少(避免成為中心)<ul>\n<li>發言</li>\n<li>眼神接觸</li>\n</ul>\n</li>\n<li>PO不一定需要每天參與Daily Scrum，但參與有助於問題的釐清</li>\n<li>不討論細節，只確認現況(Reality Check)與目標(Goal)的差距，細節可會後釐清</li>\n</ul>\n<p>補充: </p>\n<ul>\n<li><a href=\"https://wiki.mbalib.com/zh-tw/GROW%E6%A8%A1%E5%9E%8B\" target=\"_blank\" rel=\"noopener\">GROW</a></li>\n<li>有的人就是很話澇，曾有團隊給每個成員紅/黃牌，當有人說得太久就給牌警告 XDDD</li>\n<li>Scrum Master 可以作的事<ul>\n<li>Does the team find the daily scrum useful ？ 成員有沒有發現站立的好處 ？</li>\n<li>Do they manage themselves ？ 團隊是否自組織了？</li>\n<li>Do they share their work ？ 他們的工作是共享的嗎 ？</li>\n<li>Do they come prepared ？ 他們(這個Sprint/Item/Task)準備好了嗎 ？</li>\n<li>Do they report unclear ？他們的說明是否易懂？</li>\n<li>Does it take too long ？是不是太耗時了？</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>我在 C 社是下午 5:30 執行 Daily Scrum，在 N 社是早上 10:30。<br>個人比較喜歡 C 社的作法，但有可能是被制約了，因為那是我第一個跑 Scrum 的團隊。</p>\n</blockquote>\n<p>主觀的比較一下優缺點</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>優點</th>\n<th>缺點</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>下午執行的</td>\n<td>站立完就可以下班了。</td>\n<td>站立講不清楚就會拖到下班，人性會選擇甘脆不講。</td>\n</tr>\n<tr>\n<td></td>\n<td>一早來就可以根據昨天的站立進行開發。</td>\n<td>第二天一來忘了昨天說什麼了啦</td>\n</tr>\n<tr>\n<td>上午執行的</td>\n<td>站完就可以開始一天的工作。</td>\n<td>10:30 站立就會有人10:30才進公司，提早來反而沒人問(但是安靜)</td>\n</tr>\n<tr>\n<td></td>\n<td>剛站完比較不會忘</td>\n<td>如果有會後討論，一不小心就中午了呢(一ω一)</td>\n</tr>\n</tbody></table>\n<h3 id=\"Sprint-Review-amp-Retrospective\"><a href=\"#Sprint-Review-amp-Retrospective\" class=\"headerlink\" title=\"Sprint Review &amp; Retrospective\"></a>Sprint Review &amp; Retrospective</h3><h4 id=\"Review\"><a href=\"#Review\" class=\"headerlink\" title=\"Review\"></a>Review</h4><ul>\n<li>展示我們完成了「什麼(What)」(面對 Stakeholder 練習別說技術語言)</li>\n<li>建立 Product Owner 與 Stakeholder 的信任</li>\n<li>取得來自 Product Owner 與 Stakeholder 的 Feedback </li>\n<li>圍繞著 Product 進行 Inspect 與 Adapt</li>\n<li>Team Member 完成某些 Task 或 Item 之時，就可以找 PO 進行 View (Just In Time Review)</li>\n</ul>\n<p><img src=\"/images/2018/csm/day_2/done&accept.jpg\" alt=\"-\"></p>\n<h4 id=\"Retrospective\"><a href=\"#Retrospective\" class=\"headerlink\" title=\"Retrospective\"></a>Retrospective</h4><ul>\n<li>觀注我們是「怎麼(How)」作的</li>\n<li>圍繞著 Process 進行 Inspect 與 Adapt</li>\n<li>從經驗中學習，增進溝通</li>\n<li>幫助團隊關注改善 Process</li>\n<li>關注重複發生的問題<ul>\n<li>有時是組織性的問題</li>\n<li>有時是團隊的問題</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p><strong>「每個人的觀點都是對的；但不完全是對的。」</strong><br>上面這句話，要兩句同時看才完整。</p>\n</blockquote>\n<h4 id=\"回饋\"><a href=\"#回饋\" class=\"headerlink\" title=\"回饋\"></a>回饋</h4><blockquote>\n<p>盲人摸象的啟示，沒有人錯；但組合起來就不是大象。<br>不論那隻大象是你的團隊、組織、公司或是這個社會。<br><a href=\"https://ruddyblog.wordpress.com/2017/10/27/%E7%9C%8B%E8%A6%8B%E5%85%A8%E8%B2%8C/\" target=\"_blank\" rel=\"noopener\">專案開始之初，首重看見全貌</a>。<a href=\"https://ruddyblog.wordpress.com/2018/05/\" target=\"_blank\" rel=\"noopener\">看見全貌之後，確認自己在哪裡!</a> — Ruddy Lee(李智樺)  N 社敏捷教練<br>幸福的秘密,就是去欣賞世界上所有的奇特景觀,但不要忘記了湯匙裡的油。　— 牧羊少年奇幻之旅</p>\n</blockquote>\n<h3 id=\"Product-Owner-amp-Product-Blog-amp-Refinement\"><a href=\"#Product-Owner-amp-Product-Blog-amp-Refinement\" class=\"headerlink\" title=\"Product Owner &amp; Product Blog &amp; Refinement\"></a>Product Owner &amp; Product Blog &amp; Refinement</h3><h4 id=\"Product-Owner\"><a href=\"#Product-Owner\" class=\"headerlink\" title=\"Product Owner\"></a>Product Owner</h4><ul>\n<li>對產品有遠景</li>\n<li>定義產品的功能，決定發佈的日期與內容</li>\n<li>對功能作排序(價值、成本、風險…etc)</li>\n<li>對產品獲利能力負責</li>\n</ul>\n<blockquote>\n<p>為什麼 Scrum 的設計上只有一個 PO ，這讓下決定變得簡單；但實務上這件事不容易。<br>在 C 社期間與 Boss 的距離較短(公司規模小)， 但是 Boss 也是喜歡透過一個 PM 來作代理人，在 N 社公司規模更大，PMO 基本上是個巨型團隊，即使是 PO 仍需要與其它部門確認、核可、討論才能決定。不論大小，在工作實務上仍然像個 PM 或是窗口與代理人。</p>\n</blockquote>\n<h4 id=\"Product-Backlog\"><a href=\"#Product-Backlog\" class=\"headerlink\" title=\"Product Backlog\"></a>Product Backlog</h4><ul>\n<li>要包含功能性與技術性的需求 Items</li>\n<li>Items 將被拆解為工作項目(Tasks)</li>\n<li>只對高優先的項目作細部分解。<ul>\n<li>價值、緊急程度需要可測量</li>\n</ul>\n</li>\n<li>多個團隊應該共用一份 Product Backlog</li>\n<li>由商業計劃驅動，有時候你需要客戶的協助</li>\n</ul>\n<p><strong>好的 Product Backlog</strong> ，可以協助團隊 Refinement</p>\n<ul>\n<li>Ordered</li>\n<li>Detailed Appropriately</li>\n<li>Dynamic</li>\n<li>Estimated</li>\n</ul>\n<h4 id=\"Refinement\"><a href=\"#Refinement\" class=\"headerlink\" title=\"Refinement\"></a>Refinement</h4><ul>\n<li>最高優先的 Item 可以提前 2-3 個 Sprint 執行 Refinement</li>\n<li>PO 與 Team 一起進行</li>\n<li>你可以在 Sprint 中期進行一次</li>\n<li>可以透過 User Story Mapping 進行討論</li>\n</ul>\n<blockquote>\n<p>User Story 的目的是用來達溝通的，<br>溝通最大的目的在於分享觀點與學習，不要僅僅流於形式。</p>\n</blockquote>\n<blockquote>\n<p>實務上 Refinement 隨時會發生，關鍵的成員討論並決策。<br>而且不難實現，隨時 Refinement 是第一線的開發人員很自然的思維與生態。<br>PO 在場的話更好，但是不是必要的。特別要記得設定 Time Box，避免討論多與實踐。</p>\n</blockquote>\n<h4 id=\"Walking-Skeleton\"><a href=\"#Walking-Skeleton\" class=\"headerlink\" title=\"Walking Skeleton\"></a>Walking Skeleton</h4><p>這裡有關一些 User Story Mapping 的東西，我不清楚故不作說明，未來再作補充。<br>我們可以把 Y 軸的分群當作一個一個 Feature，很明顯我們不需要把每件事作到 100% ，那樣太慢而且沒有意義。</p>\n<p>我們應該先完成 X 軸最上方一列的 Items ，要儘可能的簡單，完成一個完整可動的骨架。<br>它的圖形會如下；</p>\n<p><img src=\"/images/2018/csm/day_2/walking_skeleton.jpg\" alt=\"Walking Skeleton\"></p>\n<p>它不代表要被交付，它只完成了一個最簡單的閉環，能提供最基本的回饋(不需來自真正的客戶)。  \n當完成了 Walking Skeleton ，在這個基礎上我們可以填加其它的增量，應該在前 1~2 Sprint 就完成它。  </p>\n<p>Scrum Master 應該與 PO 一起找到 Walking Skeleton，在一個 Release 前 1/3 的時間就應該完成 Walking Skeleton。未必要 Release 它，因為它很可能是相當粗糙的，但是儘早完成可以幫助團隊降低風險，而且完成後 Value 的選擇將可視化，同時也完成了基本的 Architecture 。  </p>\n<p>當然所有部份都不完整，但是可以隨著時間逐漸完成。有些項目我們可能永遠不會作，因為不符成本。另外如果一個完整的 Walking Skeleton 無法在一個 Sprint 裡完成，請選擇 Risk 高的優先作。</p>\n<h4 id=\"估時\"><a href=\"#估時\" class=\"headerlink\" title=\"估時\"></a>估時</h4><p>對每個 Item 估點數，請參考 Planning 的部份；但是點數對客戶與老闆其實沒有辦法理解，最重要轉換成時間。關鍵還是 Velocity ，這是團隊的戰鬥力，假設總共的點數估計為 50 點，團隊每個 Sprint 可以完成 10 點，團隊就需要 5 個 Sprint，以一個 Sprint 2周來算，這樣就可以向客戶或老闆承諾 10周的時間。</p>\n<blockquote>\n<p>這裡的例子有點不懂，正常的 Scrum 估時只會專注在一個 Sprint，而 Product Back Log 如果沒有被估點的話，如何換算成點數？更如何向客戶或老闆提供這樣的數據？</p>\n</blockquote>\n<p>估時很適用 Fibonacci 數列，F: 1、2、3、5 、8、13、21、…，很多的工具都有提供，主要以相對大小來比較對一件事情的看法。此外，不要因此被工具限制住了，比如說團隊無法在 8 跟 13 之間，就選擇個中間值吧，「?」也是一張重要的牌，這代表未知、混沌與風險。可以在所有的 Item 中挑選一個的當作基礎，每比較完一個項目，也再次作為比較基礎。「40」、「100」這樣的大牌也有其意義，這意味著 Item 過大，可以再作分解。  </p>\n<p>較成熟的團隊，也可以拿過去曾經估計過的 Items 作為一組「Reference Pool」，通常不需要估到很精準。</p>\n<blockquote>\n<p>這樣的估計方法，需求的 Items 類型是不是需要很穩定 ？舉例來說，我們的產品如果包含 App、Web 與 Desktop ，團隊成員的 Skill Set 又很小，某些類型的工作只能由少數人開發，隨著 Sprint 有時候需要作 App、有時候需要作 Web；有時候兩者都需要作，這樣的估時算穩定嗎 ？<br>這是不是表示說 Scrum Team 所需要的團隊組成其實很高？又或是我需要將產品拆成 App、Web 不過這樣不就又回到 Component Team 了 ？那在導入 Scrum 的初期，人員的挑選要找通材，或是學習能力極強的人？</p>\n</blockquote>\n<h4 id=\"Splitting\"><a href=\"#Splitting\" class=\"headerlink\" title=\"Splitting\"></a>Splitting</h4><p><code>The perfect is the enemy of the good</code></p>\n<p>Task 也可以應用 Walking Skeleton 的方式切割，儘早讓整合測試發生，不用一步到位。如果有外部相依，可以考慮先用 Stubbing 的方式隔開，這可能會讓「整合測試」不完整 。</p>\n<p><img src=\"/images/2018/csm/day_2/splitting.jpg\" alt=\"Splitting Ways\"></p>\n<blockquote>\n<p>用 Walking Skeleton 的方式開發，QA 會反映沒有什麼好測試的，Sprint 的初期 QA 都在寫測項，等待 RD 完成開發，最後幾天拼命測試。如果先開發 Walking Skeleton QA 會反應這樣的測試並不完整？而 PO會反應這樣的東西沒有商業價值。</p>\n</blockquote>\n<h4 id=\"開始第一個-Sprint\"><a href=\"#開始第一個-Sprint\" class=\"headerlink\" title=\"開始第一個 Sprint\"></a>開始第一個 Sprint</h4><ol>\n<li>組成團隊(PO、SM、Team)，這會挑戰目前的組織架構，這是難的地方。</li>\n<li>創建最初的 Product Backlog</li>\n<li>決定 Sprint 長短</li>\n<li>Define Value &amp; DoD</li>\n</ol>\n<h4 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h4><ul>\n<li><a href=\"https://books.google.com.tw/books/about/Agile_Retrospectives.html?id=zA5QDwAAQBAJ&source=kp_cover&redir_esc=y\" target=\"_blank\" rel=\"noopener\">Agile Retrospectives: Making Good Teams Great</a></li>\n<li><a href=\"https://www.amazon.com/Project-Retrospectives-Handbook-Team-Reviews/dp/0932633447\" target=\"_blank\" rel=\"noopener\">Project Retrospectives: A Handbook for Team Reviews</a></li>\n<li><a href=\"https://www.tenlong.com.tw/products/9789863479468\" target=\"_blank\" rel=\"noopener\">User Story Mapping: Discover the Whole Story, Build the Right Product</a></li>\n<li><a href=\"https://devopshub.cn/2016/01/10/user-story-mapping-for-the-first-time/\" target=\"_blank\" rel=\"noopener\">用户故事地图(User Story Mapping)之初体验</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"課程簡介\"><a href=\"#課程簡介\" class=\"headerlink\" title=\"課程簡介\"></a>課程簡介</h4><ul>\n<li>Scrum Master 認証課程</li>\n<li>講師 ： <a href=\"https://blog.odd-e.com/yilv/\" target=\"_blank\" rel=\"noopener\">呂毅(Lv Yi)</a></li>\n<li>課前請看過 <a href=\"https://scrumguides.org/docs/scrumguide/v2017/2017-Scrum-Guide-Chinese-Simplified.pdf\" target=\"_blank\" rel=\"noopener\">Scurm Guide</a> 與 <a href=\"http://scrumprimer.org/scrum_primer_cn.pdf\" target=\"_blank\" rel=\"noopener\">Scurm Primer</a></li>\n</ul>\n<h3 id=\"Daily-Scrum\"><a href=\"#Daily-Scrum\" class=\"headerlink\" title=\"Daily Scrum\"></a>Daily Scrum</h3><ul>\n<li>建議 Time Box 15 mins，每日同時同地進行，注意避免超時。</li>\n<li>目的是 Adapt，觀注 Item 而非 Task。</li>\n<li>Scrum Master 不是會議的中心；避免讓團隊成員變成對 Scrum Master 或 PO 報告。</li>\n<li>Scrum Master 應減少(避免成為中心)<ul>\n<li>發言</li>\n<li>眼神接觸</li>\n</ul>\n</li>\n<li>PO不一定需要每天參與Daily Scrum，但參與有助於問題的釐清</li>\n<li>不討論細節，只確認現況(Reality Check)與目標(Goal)的差距，細節可會後釐清</li>\n</ul>\n<p>補充: </p>\n<ul>\n<li><a href=\"https://wiki.mbalib.com/zh-tw/GROW%E6%A8%A1%E5%9E%8B\" target=\"_blank\" rel=\"noopener\">GROW</a></li>\n<li>有的人就是很話澇，曾有團隊給每個成員紅/黃牌，當有人說得太久就給牌警告 XDDD</li>\n<li>Scrum Master 可以作的事<ul>\n<li>Does the team find the daily scrum useful ？ 成員有沒有發現站立的好處 ？</li>\n<li>Do they manage themselves ？ 團隊是否自組織了？</li>\n<li>Do they share their work ？ 他們的工作是共享的嗎 ？</li>\n<li>Do they come prepared ？ 他們(這個Sprint/Item/Task)準備好了嗎 ？</li>\n<li>Do they report unclear ？他們的說明是否易懂？</li>\n<li>Does it take too long ？是不是太耗時了？</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>我在 C 社是下午 5:30 執行 Daily Scrum，在 N 社是早上 10:30。<br>個人比較喜歡 C 社的作法，但有可能是被制約了，因為那是我第一個跑 Scrum 的團隊。</p>\n</blockquote>\n<p>主觀的比較一下優缺點</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>優點</th>\n<th>缺點</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>下午執行的</td>\n<td>站立完就可以下班了。</td>\n<td>站立講不清楚就會拖到下班，人性會選擇甘脆不講。</td>\n</tr>\n<tr>\n<td></td>\n<td>一早來就可以根據昨天的站立進行開發。</td>\n<td>第二天一來忘了昨天說什麼了啦</td>\n</tr>\n<tr>\n<td>上午執行的</td>\n<td>站完就可以開始一天的工作。</td>\n<td>10:30 站立就會有人10:30才進公司，提早來反而沒人問(但是安靜)</td>\n</tr>\n<tr>\n<td></td>\n<td>剛站完比較不會忘</td>\n<td>如果有會後討論，一不小心就中午了呢(一ω一)</td>\n</tr>\n</tbody></table>\n<h3 id=\"Sprint-Review-amp-Retrospective\"><a href=\"#Sprint-Review-amp-Retrospective\" class=\"headerlink\" title=\"Sprint Review &amp; Retrospective\"></a>Sprint Review &amp; Retrospective</h3><h4 id=\"Review\"><a href=\"#Review\" class=\"headerlink\" title=\"Review\"></a>Review</h4><ul>\n<li>展示我們完成了「什麼(What)」(面對 Stakeholder 練習別說技術語言)</li>\n<li>建立 Product Owner 與 Stakeholder 的信任</li>\n<li>取得來自 Product Owner 與 Stakeholder 的 Feedback </li>\n<li>圍繞著 Product 進行 Inspect 與 Adapt</li>\n<li>Team Member 完成某些 Task 或 Item 之時，就可以找 PO 進行 View (Just In Time Review)</li>\n</ul>\n<p><img src=\"/images/2018/csm/day_2/done&accept.jpg\" alt=\"-\"></p>\n<h4 id=\"Retrospective\"><a href=\"#Retrospective\" class=\"headerlink\" title=\"Retrospective\"></a>Retrospective</h4><ul>\n<li>觀注我們是「怎麼(How)」作的</li>\n<li>圍繞著 Process 進行 Inspect 與 Adapt</li>\n<li>從經驗中學習，增進溝通</li>\n<li>幫助團隊關注改善 Process</li>\n<li>關注重複發生的問題<ul>\n<li>有時是組織性的問題</li>\n<li>有時是團隊的問題</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p><strong>「每個人的觀點都是對的；但不完全是對的。」</strong><br>上面這句話，要兩句同時看才完整。</p>\n</blockquote>\n<h4 id=\"回饋\"><a href=\"#回饋\" class=\"headerlink\" title=\"回饋\"></a>回饋</h4><blockquote>\n<p>盲人摸象的啟示，沒有人錯；但組合起來就不是大象。<br>不論那隻大象是你的團隊、組織、公司或是這個社會。<br><a href=\"https://ruddyblog.wordpress.com/2017/10/27/%E7%9C%8B%E8%A6%8B%E5%85%A8%E8%B2%8C/\" target=\"_blank\" rel=\"noopener\">專案開始之初，首重看見全貌</a>。<a href=\"https://ruddyblog.wordpress.com/2018/05/\" target=\"_blank\" rel=\"noopener\">看見全貌之後，確認自己在哪裡!</a> — Ruddy Lee(李智樺)  N 社敏捷教練<br>幸福的秘密,就是去欣賞世界上所有的奇特景觀,但不要忘記了湯匙裡的油。　— 牧羊少年奇幻之旅</p>\n</blockquote>\n<h3 id=\"Product-Owner-amp-Product-Blog-amp-Refinement\"><a href=\"#Product-Owner-amp-Product-Blog-amp-Refinement\" class=\"headerlink\" title=\"Product Owner &amp; Product Blog &amp; Refinement\"></a>Product Owner &amp; Product Blog &amp; Refinement</h3><h4 id=\"Product-Owner\"><a href=\"#Product-Owner\" class=\"headerlink\" title=\"Product Owner\"></a>Product Owner</h4><ul>\n<li>對產品有遠景</li>\n<li>定義產品的功能，決定發佈的日期與內容</li>\n<li>對功能作排序(價值、成本、風險…etc)</li>\n<li>對產品獲利能力負責</li>\n</ul>\n<blockquote>\n<p>為什麼 Scrum 的設計上只有一個 PO ，這讓下決定變得簡單；但實務上這件事不容易。<br>在 C 社期間與 Boss 的距離較短(公司規模小)， 但是 Boss 也是喜歡透過一個 PM 來作代理人，在 N 社公司規模更大，PMO 基本上是個巨型團隊，即使是 PO 仍需要與其它部門確認、核可、討論才能決定。不論大小，在工作實務上仍然像個 PM 或是窗口與代理人。</p>\n</blockquote>\n<h4 id=\"Product-Backlog\"><a href=\"#Product-Backlog\" class=\"headerlink\" title=\"Product Backlog\"></a>Product Backlog</h4><ul>\n<li>要包含功能性與技術性的需求 Items</li>\n<li>Items 將被拆解為工作項目(Tasks)</li>\n<li>只對高優先的項目作細部分解。<ul>\n<li>價值、緊急程度需要可測量</li>\n</ul>\n</li>\n<li>多個團隊應該共用一份 Product Backlog</li>\n<li>由商業計劃驅動，有時候你需要客戶的協助</li>\n</ul>\n<p><strong>好的 Product Backlog</strong> ，可以協助團隊 Refinement</p>\n<ul>\n<li>Ordered</li>\n<li>Detailed Appropriately</li>\n<li>Dynamic</li>\n<li>Estimated</li>\n</ul>\n<h4 id=\"Refinement\"><a href=\"#Refinement\" class=\"headerlink\" title=\"Refinement\"></a>Refinement</h4><ul>\n<li>最高優先的 Item 可以提前 2-3 個 Sprint 執行 Refinement</li>\n<li>PO 與 Team 一起進行</li>\n<li>你可以在 Sprint 中期進行一次</li>\n<li>可以透過 User Story Mapping 進行討論</li>\n</ul>\n<blockquote>\n<p>User Story 的目的是用來達溝通的，<br>溝通最大的目的在於分享觀點與學習，不要僅僅流於形式。</p>\n</blockquote>\n<blockquote>\n<p>實務上 Refinement 隨時會發生，關鍵的成員討論並決策。<br>而且不難實現，隨時 Refinement 是第一線的開發人員很自然的思維與生態。<br>PO 在場的話更好，但是不是必要的。特別要記得設定 Time Box，避免討論多與實踐。</p>\n</blockquote>\n<h4 id=\"Walking-Skeleton\"><a href=\"#Walking-Skeleton\" class=\"headerlink\" title=\"Walking Skeleton\"></a>Walking Skeleton</h4><p>這裡有關一些 User Story Mapping 的東西，我不清楚故不作說明，未來再作補充。<br>我們可以把 Y 軸的分群當作一個一個 Feature，很明顯我們不需要把每件事作到 100% ，那樣太慢而且沒有意義。</p>\n<p>我們應該先完成 X 軸最上方一列的 Items ，要儘可能的簡單，完成一個完整可動的骨架。<br>它的圖形會如下；</p>\n<p><img src=\"/images/2018/csm/day_2/walking_skeleton.jpg\" alt=\"Walking Skeleton\"></p>\n<p>它不代表要被交付，它只完成了一個最簡單的閉環，能提供最基本的回饋(不需來自真正的客戶)。  \n當完成了 Walking Skeleton ，在這個基礎上我們可以填加其它的增量，應該在前 1~2 Sprint 就完成它。  </p>\n<p>Scrum Master 應該與 PO 一起找到 Walking Skeleton，在一個 Release 前 1/3 的時間就應該完成 Walking Skeleton。未必要 Release 它，因為它很可能是相當粗糙的，但是儘早完成可以幫助團隊降低風險，而且完成後 Value 的選擇將可視化，同時也完成了基本的 Architecture 。  </p>\n<p>當然所有部份都不完整，但是可以隨著時間逐漸完成。有些項目我們可能永遠不會作，因為不符成本。另外如果一個完整的 Walking Skeleton 無法在一個 Sprint 裡完成，請選擇 Risk 高的優先作。</p>\n<h4 id=\"估時\"><a href=\"#估時\" class=\"headerlink\" title=\"估時\"></a>估時</h4><p>對每個 Item 估點數，請參考 Planning 的部份；但是點數對客戶與老闆其實沒有辦法理解，最重要轉換成時間。關鍵還是 Velocity ，這是團隊的戰鬥力，假設總共的點數估計為 50 點，團隊每個 Sprint 可以完成 10 點，團隊就需要 5 個 Sprint，以一個 Sprint 2周來算，這樣就可以向客戶或老闆承諾 10周的時間。</p>\n<blockquote>\n<p>這裡的例子有點不懂，正常的 Scrum 估時只會專注在一個 Sprint，而 Product Back Log 如果沒有被估點的話，如何換算成點數？更如何向客戶或老闆提供這樣的數據？</p>\n</blockquote>\n<p>估時很適用 Fibonacci 數列，F: 1、2、3、5 、8、13、21、…，很多的工具都有提供，主要以相對大小來比較對一件事情的看法。此外，不要因此被工具限制住了，比如說團隊無法在 8 跟 13 之間，就選擇個中間值吧，「?」也是一張重要的牌，這代表未知、混沌與風險。可以在所有的 Item 中挑選一個的當作基礎，每比較完一個項目，也再次作為比較基礎。「40」、「100」這樣的大牌也有其意義，這意味著 Item 過大，可以再作分解。  </p>\n<p>較成熟的團隊，也可以拿過去曾經估計過的 Items 作為一組「Reference Pool」，通常不需要估到很精準。</p>\n<blockquote>\n<p>這樣的估計方法，需求的 Items 類型是不是需要很穩定 ？舉例來說，我們的產品如果包含 App、Web 與 Desktop ，團隊成員的 Skill Set 又很小，某些類型的工作只能由少數人開發，隨著 Sprint 有時候需要作 App、有時候需要作 Web；有時候兩者都需要作，這樣的估時算穩定嗎 ？<br>這是不是表示說 Scrum Team 所需要的團隊組成其實很高？又或是我需要將產品拆成 App、Web 不過這樣不就又回到 Component Team 了 ？那在導入 Scrum 的初期，人員的挑選要找通材，或是學習能力極強的人？</p>\n</blockquote>\n<h4 id=\"Splitting\"><a href=\"#Splitting\" class=\"headerlink\" title=\"Splitting\"></a>Splitting</h4><p><code>The perfect is the enemy of the good</code></p>\n<p>Task 也可以應用 Walking Skeleton 的方式切割，儘早讓整合測試發生，不用一步到位。如果有外部相依，可以考慮先用 Stubbing 的方式隔開，這可能會讓「整合測試」不完整 。</p>\n<p><img src=\"/images/2018/csm/day_2/splitting.jpg\" alt=\"Splitting Ways\"></p>\n<blockquote>\n<p>用 Walking Skeleton 的方式開發，QA 會反映沒有什麼好測試的，Sprint 的初期 QA 都在寫測項，等待 RD 完成開發，最後幾天拼命測試。如果先開發 Walking Skeleton QA 會反應這樣的測試並不完整？而 PO會反應這樣的東西沒有商業價值。</p>\n</blockquote>\n<h4 id=\"開始第一個-Sprint\"><a href=\"#開始第一個-Sprint\" class=\"headerlink\" title=\"開始第一個 Sprint\"></a>開始第一個 Sprint</h4><ol>\n<li>組成團隊(PO、SM、Team)，這會挑戰目前的組織架構，這是難的地方。</li>\n<li>創建最初的 Product Backlog</li>\n<li>決定 Sprint 長短</li>\n<li>Define Value &amp; DoD</li>\n</ol>\n<h4 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h4><ul>\n<li><a href=\"https://books.google.com.tw/books/about/Agile_Retrospectives.html?id=zA5QDwAAQBAJ&source=kp_cover&redir_esc=y\" target=\"_blank\" rel=\"noopener\">Agile Retrospectives: Making Good Teams Great</a></li>\n<li><a href=\"https://www.amazon.com/Project-Retrospectives-Handbook-Team-Reviews/dp/0932633447\" target=\"_blank\" rel=\"noopener\">Project Retrospectives: A Handbook for Team Reviews</a></li>\n<li><a href=\"https://www.tenlong.com.tw/products/9789863479468\" target=\"_blank\" rel=\"noopener\">User Story Mapping: Discover the Whole Story, Build the Right Product</a></li>\n<li><a href=\"https://devopshub.cn/2016/01/10/user-story-mapping-for-the-first-time/\" target=\"_blank\" rel=\"noopener\">用户故事地图(User Story Mapping)之初体验</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[N社筆記]敏捷路上跌倒站起來 2018/10 月到 11 月","date":"2018-11-17T06:05:08.000Z","_content":"\n\n## 2018/11/16\n\n### Bussiness Feedback\n\n- T國全○國，農曆年前啟動\n- M國的， Mxxxx 有 SKA 等級\n- H市場，百家等待中\n原訂 \n- KA MIRGRATION\n- KA 12月上線\n順序可能會再調整…，  \n市場有反應是好的，  \n只是我們還沒有產品準備好（或是跨一國要準備好久好久…）\n\n### 團隊\n\n- 抽一個 Scrum Team 的 Members 組成新的 Team ？\n- 又變成 Project Team ，呂毅:「如果只有兩個月你還會關心團隊的成長嗎 ？」\n\n## 2018/11/12\n\n- 線上緊急狀況，周會取消、例會取消，如果一個會議可以隨時被取消，是否有必要開？\n- 真實狀況是每個人都找到一個位置，讓事情發生;務實比「跑敏捷」重要\n- 不儀式化，人性會躲避 ; 儀式化卻會導致效率低下(習慣成自然 or 麻痺)\n\n## 2018/11/10\n\n> 情境\n團隊反應沒有時間 Code Review / 寫 Unit Test，  \nPair Programming 隨你便，上級的反應說「有，最好」結果，「都沒有」　　\n\n- 要求很強的個體，卻沒有任何練習;這樣的團隊會強嗎 ？\n- 擁有很強的個體，卻沒有任何協作;這樣的團隊會強嗎 ？\n\n## 2018/11/09\n\n### 陶侃跟西西弗斯，兩個類似的故事\n\n心態致勝? 還是自以為勝 ？\n\n## 2018/11/06\n\n### 沒有創業精神錯了嗎 ?\n\n- 成就感從何而來 ?\n  - 把事情完成\n  - 把品質作好\n  - 作得快\n\n- 受雇階極一定要被激勵才能作好事嗎 ?\n- 雇主與雇員的本質上的不同\n  - 風險\n  - 獲利\n\n## 2018/11/02\n\n### 時間\n\n- 早上生病 約10:30到\n- 站立 到 10:50\n- 1-1  到  12:00\n- 午休 到 13:00\n- .Net Core 到 15:30\n- 看 PR 到 16:12\n- 開發 到 17:26\n- HOTFIX 討論 17:45\n- 開發 到 19:50\n\n當會議吃掉了所有的時間...\n\n### 重要性\n\n你很重要，Why ？ What ？ How ？　或只是暗示你 TTL(Time to leave)\n\n## 2018/11/01\n\nplanning for ~~all day~~ half day\n\n### 不透明\n\n- Item 拆成 Task 的過程中釐清，可能會因細節不清、沒有權限、左右兩難、等待資源、等待許可等…導致進度緩慢耗時\n- 為了對焦開了會前會，但不包含 A Team PO，結果 Planning 後半 A Team 又增加許多項目反而失焦\n- 很簡單的事，因為複雜的系統變得沒有勇氣(信心)去執行\n\n### 如何測量\n\n### 本日佳句\n\n- 這個不能作，不然會被罵喔\n\n### Action Item\n\n- 開發祝武：[Filco Majestouch MINILA Air 67鍵無線藍芽機械式鍵盤|紅軸英文](http://www.inpad.com.tw/goods.php?act=view&no=10441)\n\nCSM 心得第二篇寫到 Sprint Backlog , 越寫看到越多實踐「怪怪的」地方…\n\n## 2018/10/31\n\n### Blue Demo Day\n\n- Demo 失敗\n- 檢討\n\n### 不透明\n\n- 分了 A Team / B Team ，Items 有 Dependcy ，導致工作互卡。\n- 跨國團隊很多項目需要台灣 Tech Leader 決策\n\nTeam sol:\n\n- 中間插入一個 Sync\n  - 實務上跑起來不 Work ？\n- 大家一起站立\n  - → 很花時間 \n- 由某一個 Team 全部領走整群的 Item\n  - → 主流程難以被切分\n- 除了站立之外，團隊也要時時 Sync\n  - → 當 member focus on Item 時，對其它人尋求協助的反應可能會變慢。\n\n### Action Item\n\n- [Custom domains on GitHub Pages gain support for HTTPS](https://blog.github.com/2018-05-01-github-pages-custom-domains-https/)\n\n## 2018/10/30\n\n>為什麼無法跟團隊成員說明自已的想法，原因還是出自於不信任？  \n每個人（含主管）在面對什麼？　或許知道了也幫不上…\n>還有「主管」這種思維，不是一種文化不敏捷的味道；  \n表示著你還需要被管理，才知道該作什麼。\n\n### 使命與遠景\n\n- ~~8 億~~ : 開發者會覺得與我何干。所以我們調整成…○○？  \n- ○○ : 開發者會覺得?  \n  - A. 太棒了，激勵人心  \n  - B. 干我屁事  \n  - C. 聽起來很棒，可是…  \n  - D. 蛤？那是什麼，可以吃嗎？\n\n#### 抽樣調查\n\nL●●:整合線上線下讓客戶更容易銷售產品，消費者有更好體驗  \nA●●等3人:賺錢 x3  \nT●●:作出讓客戶達到業績的產品  \nA●●:改善現有線上電商的使用環境與體驗  \nR●●:開發良好的軟體改善客戶與使用者的體驗  \n\n> 小結:第一時間大部份是賺錢，或是不知道。少數第一時間說出來的，  \n> 又各不相同，每個人的目標不同，真的能有「使命感」？真的會有「成就感」？\n> 沒有共識，何來透明？\n\n### OKR 與 DoD\n\n- OKR 適合用在 Sprint 嗎 ？ \n- 每個 Sprint 為了討論 KR 而放棄投點值得嗎 ？\n- KR 與 DoD 是否能結合 ？\n\n（fin)\n","source":"_posts/2018/csm/n_company_log_201810.md","raw":"---\ntitle: \"[N社筆記]敏捷路上跌倒站起來 2018/10 月到 11 月\"\ndate: 2018/11/17 14:05:08\ntag:\n    - Scrum\n    - Agile\n---\n\n\n## 2018/11/16\n\n### Bussiness Feedback\n\n- T國全○國，農曆年前啟動\n- M國的， Mxxxx 有 SKA 等級\n- H市場，百家等待中\n原訂 \n- KA MIRGRATION\n- KA 12月上線\n順序可能會再調整…，  \n市場有反應是好的，  \n只是我們還沒有產品準備好（或是跨一國要準備好久好久…）\n\n### 團隊\n\n- 抽一個 Scrum Team 的 Members 組成新的 Team ？\n- 又變成 Project Team ，呂毅:「如果只有兩個月你還會關心團隊的成長嗎 ？」\n\n## 2018/11/12\n\n- 線上緊急狀況，周會取消、例會取消，如果一個會議可以隨時被取消，是否有必要開？\n- 真實狀況是每個人都找到一個位置，讓事情發生;務實比「跑敏捷」重要\n- 不儀式化，人性會躲避 ; 儀式化卻會導致效率低下(習慣成自然 or 麻痺)\n\n## 2018/11/10\n\n> 情境\n團隊反應沒有時間 Code Review / 寫 Unit Test，  \nPair Programming 隨你便，上級的反應說「有，最好」結果，「都沒有」　　\n\n- 要求很強的個體，卻沒有任何練習;這樣的團隊會強嗎 ？\n- 擁有很強的個體，卻沒有任何協作;這樣的團隊會強嗎 ？\n\n## 2018/11/09\n\n### 陶侃跟西西弗斯，兩個類似的故事\n\n心態致勝? 還是自以為勝 ？\n\n## 2018/11/06\n\n### 沒有創業精神錯了嗎 ?\n\n- 成就感從何而來 ?\n  - 把事情完成\n  - 把品質作好\n  - 作得快\n\n- 受雇階極一定要被激勵才能作好事嗎 ?\n- 雇主與雇員的本質上的不同\n  - 風險\n  - 獲利\n\n## 2018/11/02\n\n### 時間\n\n- 早上生病 約10:30到\n- 站立 到 10:50\n- 1-1  到  12:00\n- 午休 到 13:00\n- .Net Core 到 15:30\n- 看 PR 到 16:12\n- 開發 到 17:26\n- HOTFIX 討論 17:45\n- 開發 到 19:50\n\n當會議吃掉了所有的時間...\n\n### 重要性\n\n你很重要，Why ？ What ？ How ？　或只是暗示你 TTL(Time to leave)\n\n## 2018/11/01\n\nplanning for ~~all day~~ half day\n\n### 不透明\n\n- Item 拆成 Task 的過程中釐清，可能會因細節不清、沒有權限、左右兩難、等待資源、等待許可等…導致進度緩慢耗時\n- 為了對焦開了會前會，但不包含 A Team PO，結果 Planning 後半 A Team 又增加許多項目反而失焦\n- 很簡單的事，因為複雜的系統變得沒有勇氣(信心)去執行\n\n### 如何測量\n\n### 本日佳句\n\n- 這個不能作，不然會被罵喔\n\n### Action Item\n\n- 開發祝武：[Filco Majestouch MINILA Air 67鍵無線藍芽機械式鍵盤|紅軸英文](http://www.inpad.com.tw/goods.php?act=view&no=10441)\n\nCSM 心得第二篇寫到 Sprint Backlog , 越寫看到越多實踐「怪怪的」地方…\n\n## 2018/10/31\n\n### Blue Demo Day\n\n- Demo 失敗\n- 檢討\n\n### 不透明\n\n- 分了 A Team / B Team ，Items 有 Dependcy ，導致工作互卡。\n- 跨國團隊很多項目需要台灣 Tech Leader 決策\n\nTeam sol:\n\n- 中間插入一個 Sync\n  - 實務上跑起來不 Work ？\n- 大家一起站立\n  - → 很花時間 \n- 由某一個 Team 全部領走整群的 Item\n  - → 主流程難以被切分\n- 除了站立之外，團隊也要時時 Sync\n  - → 當 member focus on Item 時，對其它人尋求協助的反應可能會變慢。\n\n### Action Item\n\n- [Custom domains on GitHub Pages gain support for HTTPS](https://blog.github.com/2018-05-01-github-pages-custom-domains-https/)\n\n## 2018/10/30\n\n>為什麼無法跟團隊成員說明自已的想法，原因還是出自於不信任？  \n每個人（含主管）在面對什麼？　或許知道了也幫不上…\n>還有「主管」這種思維，不是一種文化不敏捷的味道；  \n表示著你還需要被管理，才知道該作什麼。\n\n### 使命與遠景\n\n- ~~8 億~~ : 開發者會覺得與我何干。所以我們調整成…○○？  \n- ○○ : 開發者會覺得?  \n  - A. 太棒了，激勵人心  \n  - B. 干我屁事  \n  - C. 聽起來很棒，可是…  \n  - D. 蛤？那是什麼，可以吃嗎？\n\n#### 抽樣調查\n\nL●●:整合線上線下讓客戶更容易銷售產品，消費者有更好體驗  \nA●●等3人:賺錢 x3  \nT●●:作出讓客戶達到業績的產品  \nA●●:改善現有線上電商的使用環境與體驗  \nR●●:開發良好的軟體改善客戶與使用者的體驗  \n\n> 小結:第一時間大部份是賺錢，或是不知道。少數第一時間說出來的，  \n> 又各不相同，每個人的目標不同，真的能有「使命感」？真的會有「成就感」？\n> 沒有共識，何來透明？\n\n### OKR 與 DoD\n\n- OKR 適合用在 Sprint 嗎 ？ \n- 每個 Sprint 為了討論 KR 而放棄投點值得嗎 ？\n- KR 與 DoD 是否能結合 ？\n\n（fin)\n","slug":"2018/csm/n_company_log_201810","published":1,"updated":"2019-09-08T10:20:27.983Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wra009zb0vxb2729tgn","content":"<h2 id=\"2018-11-16\"><a href=\"#2018-11-16\" class=\"headerlink\" title=\"2018/11/16\"></a>2018/11/16</h2><h3 id=\"Bussiness-Feedback\"><a href=\"#Bussiness-Feedback\" class=\"headerlink\" title=\"Bussiness Feedback\"></a>Bussiness Feedback</h3><ul>\n<li>T國全○國，農曆年前啟動</li>\n<li>M國的， Mxxxx 有 SKA 等級</li>\n<li>H市場，百家等待中<br>原訂 </li>\n<li>KA MIRGRATION</li>\n<li>KA 12月上線<br>順序可能會再調整…，<br>市場有反應是好的，<br>只是我們還沒有產品準備好（或是跨一國要準備好久好久…）</li>\n</ul>\n<h3 id=\"團隊\"><a href=\"#團隊\" class=\"headerlink\" title=\"團隊\"></a>團隊</h3><ul>\n<li>抽一個 Scrum Team 的 Members 組成新的 Team ？</li>\n<li>又變成 Project Team ，呂毅:「如果只有兩個月你還會關心團隊的成長嗎 ？」</li>\n</ul>\n<h2 id=\"2018-11-12\"><a href=\"#2018-11-12\" class=\"headerlink\" title=\"2018/11/12\"></a>2018/11/12</h2><ul>\n<li>線上緊急狀況，周會取消、例會取消，如果一個會議可以隨時被取消，是否有必要開？</li>\n<li>真實狀況是每個人都找到一個位置，讓事情發生;務實比「跑敏捷」重要</li>\n<li>不儀式化，人性會躲避 ; 儀式化卻會導致效率低下(習慣成自然 or 麻痺)</li>\n</ul>\n<h2 id=\"2018-11-10\"><a href=\"#2018-11-10\" class=\"headerlink\" title=\"2018/11/10\"></a>2018/11/10</h2><blockquote>\n<p>情境<br>團隊反應沒有時間 Code Review / 寫 Unit Test，<br>Pair Programming 隨你便，上級的反應說「有，最好」結果，「都沒有」　　</p>\n</blockquote>\n<ul>\n<li>要求很強的個體，卻沒有任何練習;這樣的團隊會強嗎 ？</li>\n<li>擁有很強的個體，卻沒有任何協作;這樣的團隊會強嗎 ？</li>\n</ul>\n<h2 id=\"2018-11-09\"><a href=\"#2018-11-09\" class=\"headerlink\" title=\"2018/11/09\"></a>2018/11/09</h2><h3 id=\"陶侃跟西西弗斯，兩個類似的故事\"><a href=\"#陶侃跟西西弗斯，兩個類似的故事\" class=\"headerlink\" title=\"陶侃跟西西弗斯，兩個類似的故事\"></a>陶侃跟西西弗斯，兩個類似的故事</h3><p>心態致勝? 還是自以為勝 ？</p>\n<h2 id=\"2018-11-06\"><a href=\"#2018-11-06\" class=\"headerlink\" title=\"2018/11/06\"></a>2018/11/06</h2><h3 id=\"沒有創業精神錯了嗎\"><a href=\"#沒有創業精神錯了嗎\" class=\"headerlink\" title=\"沒有創業精神錯了嗎 ?\"></a>沒有創業精神錯了嗎 ?</h3><ul>\n<li><p>成就感從何而來 ?</p>\n<ul>\n<li>把事情完成</li>\n<li>把品質作好</li>\n<li>作得快</li>\n</ul>\n</li>\n<li><p>受雇階極一定要被激勵才能作好事嗎 ?</p>\n</li>\n<li><p>雇主與雇員的本質上的不同</p>\n<ul>\n<li>風險</li>\n<li>獲利</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"2018-11-02\"><a href=\"#2018-11-02\" class=\"headerlink\" title=\"2018/11/02\"></a>2018/11/02</h2><h3 id=\"時間\"><a href=\"#時間\" class=\"headerlink\" title=\"時間\"></a>時間</h3><ul>\n<li>早上生病 約10:30到</li>\n<li>站立 到 10:50</li>\n<li>1-1  到  12:00</li>\n<li>午休 到 13:00</li>\n<li>.Net Core 到 15:30</li>\n<li>看 PR 到 16:12</li>\n<li>開發 到 17:26</li>\n<li>HOTFIX 討論 17:45</li>\n<li>開發 到 19:50</li>\n</ul>\n<p>當會議吃掉了所有的時間…</p>\n<h3 id=\"重要性\"><a href=\"#重要性\" class=\"headerlink\" title=\"重要性\"></a>重要性</h3><p>你很重要，Why ？ What ？ How ？　或只是暗示你 TTL(Time to leave)</p>\n<h2 id=\"2018-11-01\"><a href=\"#2018-11-01\" class=\"headerlink\" title=\"2018/11/01\"></a>2018/11/01</h2><p>planning for <del>all day</del> half day</p>\n<h3 id=\"不透明\"><a href=\"#不透明\" class=\"headerlink\" title=\"不透明\"></a>不透明</h3><ul>\n<li>Item 拆成 Task 的過程中釐清，可能會因細節不清、沒有權限、左右兩難、等待資源、等待許可等…導致進度緩慢耗時</li>\n<li>為了對焦開了會前會，但不包含 A Team PO，結果 Planning 後半 A Team 又增加許多項目反而失焦</li>\n<li>很簡單的事，因為複雜的系統變得沒有勇氣(信心)去執行</li>\n</ul>\n<h3 id=\"如何測量\"><a href=\"#如何測量\" class=\"headerlink\" title=\"如何測量\"></a>如何測量</h3><h3 id=\"本日佳句\"><a href=\"#本日佳句\" class=\"headerlink\" title=\"本日佳句\"></a>本日佳句</h3><ul>\n<li>這個不能作，不然會被罵喔</li>\n</ul>\n<h3 id=\"Action-Item\"><a href=\"#Action-Item\" class=\"headerlink\" title=\"Action Item\"></a>Action Item</h3><ul>\n<li>開發祝武：<a href=\"http://www.inpad.com.tw/goods.php?act=view&no=10441\" target=\"_blank\" rel=\"noopener\">Filco Majestouch MINILA Air 67鍵無線藍芽機械式鍵盤|紅軸英文</a></li>\n</ul>\n<p>CSM 心得第二篇寫到 Sprint Backlog , 越寫看到越多實踐「怪怪的」地方…</p>\n<h2 id=\"2018-10-31\"><a href=\"#2018-10-31\" class=\"headerlink\" title=\"2018/10/31\"></a>2018/10/31</h2><h3 id=\"Blue-Demo-Day\"><a href=\"#Blue-Demo-Day\" class=\"headerlink\" title=\"Blue Demo Day\"></a>Blue Demo Day</h3><ul>\n<li>Demo 失敗</li>\n<li>檢討</li>\n</ul>\n<h3 id=\"不透明-1\"><a href=\"#不透明-1\" class=\"headerlink\" title=\"不透明\"></a>不透明</h3><ul>\n<li>分了 A Team / B Team ，Items 有 Dependcy ，導致工作互卡。</li>\n<li>跨國團隊很多項目需要台灣 Tech Leader 決策</li>\n</ul>\n<p>Team sol:</p>\n<ul>\n<li>中間插入一個 Sync<ul>\n<li>實務上跑起來不 Work ？</li>\n</ul>\n</li>\n<li>大家一起站立<ul>\n<li>→ 很花時間 </li>\n</ul>\n</li>\n<li>由某一個 Team 全部領走整群的 Item<ul>\n<li>→ 主流程難以被切分</li>\n</ul>\n</li>\n<li>除了站立之外，團隊也要時時 Sync<ul>\n<li>→ 當 member focus on Item 時，對其它人尋求協助的反應可能會變慢。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Action-Item-1\"><a href=\"#Action-Item-1\" class=\"headerlink\" title=\"Action Item\"></a>Action Item</h3><ul>\n<li><a href=\"https://blog.github.com/2018-05-01-github-pages-custom-domains-https/\" target=\"_blank\" rel=\"noopener\">Custom domains on GitHub Pages gain support for HTTPS</a></li>\n</ul>\n<h2 id=\"2018-10-30\"><a href=\"#2018-10-30\" class=\"headerlink\" title=\"2018/10/30\"></a>2018/10/30</h2><blockquote>\n<p>為什麼無法跟團隊成員說明自已的想法，原因還是出自於不信任？<br>每個人（含主管）在面對什麼？　或許知道了也幫不上…<br>還有「主管」這種思維，不是一種文化不敏捷的味道；<br>表示著你還需要被管理，才知道該作什麼。</p>\n</blockquote>\n<h3 id=\"使命與遠景\"><a href=\"#使命與遠景\" class=\"headerlink\" title=\"使命與遠景\"></a>使命與遠景</h3><ul>\n<li><del>8 億</del> : 開發者會覺得與我何干。所以我們調整成…○○？  </li>\n<li>○○ : 開發者會覺得?  <ul>\n<li>A. 太棒了，激勵人心  </li>\n<li>B. 干我屁事  </li>\n<li>C. 聽起來很棒，可是…  </li>\n<li>D. 蛤？那是什麼，可以吃嗎？</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"抽樣調查\"><a href=\"#抽樣調查\" class=\"headerlink\" title=\"抽樣調查\"></a>抽樣調查</h4><p>L●●:整合線上線下讓客戶更容易銷售產品，消費者有更好體驗<br>A●●等3人:賺錢 x3<br>T●●:作出讓客戶達到業績的產品<br>A●●:改善現有線上電商的使用環境與體驗<br>R●●:開發良好的軟體改善客戶與使用者的體驗  </p>\n<blockquote>\n<p>小結:第一時間大部份是賺錢，或是不知道。少數第一時間說出來的，<br>又各不相同，每個人的目標不同，真的能有「使命感」？真的會有「成就感」？<br>沒有共識，何來透明？</p>\n</blockquote>\n<h3 id=\"OKR-與-DoD\"><a href=\"#OKR-與-DoD\" class=\"headerlink\" title=\"OKR 與 DoD\"></a>OKR 與 DoD</h3><ul>\n<li>OKR 適合用在 Sprint 嗎 ？ </li>\n<li>每個 Sprint 為了討論 KR 而放棄投點值得嗎 ？</li>\n<li>KR 與 DoD 是否能結合 ？</li>\n</ul>\n<p>（fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"2018-11-16\"><a href=\"#2018-11-16\" class=\"headerlink\" title=\"2018/11/16\"></a>2018/11/16</h2><h3 id=\"Bussiness-Feedback\"><a href=\"#Bussiness-Feedback\" class=\"headerlink\" title=\"Bussiness Feedback\"></a>Bussiness Feedback</h3><ul>\n<li>T國全○國，農曆年前啟動</li>\n<li>M國的， Mxxxx 有 SKA 等級</li>\n<li>H市場，百家等待中<br>原訂 </li>\n<li>KA MIRGRATION</li>\n<li>KA 12月上線<br>順序可能會再調整…，<br>市場有反應是好的，<br>只是我們還沒有產品準備好（或是跨一國要準備好久好久…）</li>\n</ul>\n<h3 id=\"團隊\"><a href=\"#團隊\" class=\"headerlink\" title=\"團隊\"></a>團隊</h3><ul>\n<li>抽一個 Scrum Team 的 Members 組成新的 Team ？</li>\n<li>又變成 Project Team ，呂毅:「如果只有兩個月你還會關心團隊的成長嗎 ？」</li>\n</ul>\n<h2 id=\"2018-11-12\"><a href=\"#2018-11-12\" class=\"headerlink\" title=\"2018/11/12\"></a>2018/11/12</h2><ul>\n<li>線上緊急狀況，周會取消、例會取消，如果一個會議可以隨時被取消，是否有必要開？</li>\n<li>真實狀況是每個人都找到一個位置，讓事情發生;務實比「跑敏捷」重要</li>\n<li>不儀式化，人性會躲避 ; 儀式化卻會導致效率低下(習慣成自然 or 麻痺)</li>\n</ul>\n<h2 id=\"2018-11-10\"><a href=\"#2018-11-10\" class=\"headerlink\" title=\"2018/11/10\"></a>2018/11/10</h2><blockquote>\n<p>情境<br>團隊反應沒有時間 Code Review / 寫 Unit Test，<br>Pair Programming 隨你便，上級的反應說「有，最好」結果，「都沒有」　　</p>\n</blockquote>\n<ul>\n<li>要求很強的個體，卻沒有任何練習;這樣的團隊會強嗎 ？</li>\n<li>擁有很強的個體，卻沒有任何協作;這樣的團隊會強嗎 ？</li>\n</ul>\n<h2 id=\"2018-11-09\"><a href=\"#2018-11-09\" class=\"headerlink\" title=\"2018/11/09\"></a>2018/11/09</h2><h3 id=\"陶侃跟西西弗斯，兩個類似的故事\"><a href=\"#陶侃跟西西弗斯，兩個類似的故事\" class=\"headerlink\" title=\"陶侃跟西西弗斯，兩個類似的故事\"></a>陶侃跟西西弗斯，兩個類似的故事</h3><p>心態致勝? 還是自以為勝 ？</p>\n<h2 id=\"2018-11-06\"><a href=\"#2018-11-06\" class=\"headerlink\" title=\"2018/11/06\"></a>2018/11/06</h2><h3 id=\"沒有創業精神錯了嗎\"><a href=\"#沒有創業精神錯了嗎\" class=\"headerlink\" title=\"沒有創業精神錯了嗎 ?\"></a>沒有創業精神錯了嗎 ?</h3><ul>\n<li><p>成就感從何而來 ?</p>\n<ul>\n<li>把事情完成</li>\n<li>把品質作好</li>\n<li>作得快</li>\n</ul>\n</li>\n<li><p>受雇階極一定要被激勵才能作好事嗎 ?</p>\n</li>\n<li><p>雇主與雇員的本質上的不同</p>\n<ul>\n<li>風險</li>\n<li>獲利</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"2018-11-02\"><a href=\"#2018-11-02\" class=\"headerlink\" title=\"2018/11/02\"></a>2018/11/02</h2><h3 id=\"時間\"><a href=\"#時間\" class=\"headerlink\" title=\"時間\"></a>時間</h3><ul>\n<li>早上生病 約10:30到</li>\n<li>站立 到 10:50</li>\n<li>1-1  到  12:00</li>\n<li>午休 到 13:00</li>\n<li>.Net Core 到 15:30</li>\n<li>看 PR 到 16:12</li>\n<li>開發 到 17:26</li>\n<li>HOTFIX 討論 17:45</li>\n<li>開發 到 19:50</li>\n</ul>\n<p>當會議吃掉了所有的時間…</p>\n<h3 id=\"重要性\"><a href=\"#重要性\" class=\"headerlink\" title=\"重要性\"></a>重要性</h3><p>你很重要，Why ？ What ？ How ？　或只是暗示你 TTL(Time to leave)</p>\n<h2 id=\"2018-11-01\"><a href=\"#2018-11-01\" class=\"headerlink\" title=\"2018/11/01\"></a>2018/11/01</h2><p>planning for <del>all day</del> half day</p>\n<h3 id=\"不透明\"><a href=\"#不透明\" class=\"headerlink\" title=\"不透明\"></a>不透明</h3><ul>\n<li>Item 拆成 Task 的過程中釐清，可能會因細節不清、沒有權限、左右兩難、等待資源、等待許可等…導致進度緩慢耗時</li>\n<li>為了對焦開了會前會，但不包含 A Team PO，結果 Planning 後半 A Team 又增加許多項目反而失焦</li>\n<li>很簡單的事，因為複雜的系統變得沒有勇氣(信心)去執行</li>\n</ul>\n<h3 id=\"如何測量\"><a href=\"#如何測量\" class=\"headerlink\" title=\"如何測量\"></a>如何測量</h3><h3 id=\"本日佳句\"><a href=\"#本日佳句\" class=\"headerlink\" title=\"本日佳句\"></a>本日佳句</h3><ul>\n<li>這個不能作，不然會被罵喔</li>\n</ul>\n<h3 id=\"Action-Item\"><a href=\"#Action-Item\" class=\"headerlink\" title=\"Action Item\"></a>Action Item</h3><ul>\n<li>開發祝武：<a href=\"http://www.inpad.com.tw/goods.php?act=view&no=10441\" target=\"_blank\" rel=\"noopener\">Filco Majestouch MINILA Air 67鍵無線藍芽機械式鍵盤|紅軸英文</a></li>\n</ul>\n<p>CSM 心得第二篇寫到 Sprint Backlog , 越寫看到越多實踐「怪怪的」地方…</p>\n<h2 id=\"2018-10-31\"><a href=\"#2018-10-31\" class=\"headerlink\" title=\"2018/10/31\"></a>2018/10/31</h2><h3 id=\"Blue-Demo-Day\"><a href=\"#Blue-Demo-Day\" class=\"headerlink\" title=\"Blue Demo Day\"></a>Blue Demo Day</h3><ul>\n<li>Demo 失敗</li>\n<li>檢討</li>\n</ul>\n<h3 id=\"不透明-1\"><a href=\"#不透明-1\" class=\"headerlink\" title=\"不透明\"></a>不透明</h3><ul>\n<li>分了 A Team / B Team ，Items 有 Dependcy ，導致工作互卡。</li>\n<li>跨國團隊很多項目需要台灣 Tech Leader 決策</li>\n</ul>\n<p>Team sol:</p>\n<ul>\n<li>中間插入一個 Sync<ul>\n<li>實務上跑起來不 Work ？</li>\n</ul>\n</li>\n<li>大家一起站立<ul>\n<li>→ 很花時間 </li>\n</ul>\n</li>\n<li>由某一個 Team 全部領走整群的 Item<ul>\n<li>→ 主流程難以被切分</li>\n</ul>\n</li>\n<li>除了站立之外，團隊也要時時 Sync<ul>\n<li>→ 當 member focus on Item 時，對其它人尋求協助的反應可能會變慢。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Action-Item-1\"><a href=\"#Action-Item-1\" class=\"headerlink\" title=\"Action Item\"></a>Action Item</h3><ul>\n<li><a href=\"https://blog.github.com/2018-05-01-github-pages-custom-domains-https/\" target=\"_blank\" rel=\"noopener\">Custom domains on GitHub Pages gain support for HTTPS</a></li>\n</ul>\n<h2 id=\"2018-10-30\"><a href=\"#2018-10-30\" class=\"headerlink\" title=\"2018/10/30\"></a>2018/10/30</h2><blockquote>\n<p>為什麼無法跟團隊成員說明自已的想法，原因還是出自於不信任？<br>每個人（含主管）在面對什麼？　或許知道了也幫不上…<br>還有「主管」這種思維，不是一種文化不敏捷的味道；<br>表示著你還需要被管理，才知道該作什麼。</p>\n</blockquote>\n<h3 id=\"使命與遠景\"><a href=\"#使命與遠景\" class=\"headerlink\" title=\"使命與遠景\"></a>使命與遠景</h3><ul>\n<li><del>8 億</del> : 開發者會覺得與我何干。所以我們調整成…○○？  </li>\n<li>○○ : 開發者會覺得?  <ul>\n<li>A. 太棒了，激勵人心  </li>\n<li>B. 干我屁事  </li>\n<li>C. 聽起來很棒，可是…  </li>\n<li>D. 蛤？那是什麼，可以吃嗎？</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"抽樣調查\"><a href=\"#抽樣調查\" class=\"headerlink\" title=\"抽樣調查\"></a>抽樣調查</h4><p>L●●:整合線上線下讓客戶更容易銷售產品，消費者有更好體驗<br>A●●等3人:賺錢 x3<br>T●●:作出讓客戶達到業績的產品<br>A●●:改善現有線上電商的使用環境與體驗<br>R●●:開發良好的軟體改善客戶與使用者的體驗  </p>\n<blockquote>\n<p>小結:第一時間大部份是賺錢，或是不知道。少數第一時間說出來的，<br>又各不相同，每個人的目標不同，真的能有「使命感」？真的會有「成就感」？<br>沒有共識，何來透明？</p>\n</blockquote>\n<h3 id=\"OKR-與-DoD\"><a href=\"#OKR-與-DoD\" class=\"headerlink\" title=\"OKR 與 DoD\"></a>OKR 與 DoD</h3><ul>\n<li>OKR 適合用在 Sprint 嗎 ？ </li>\n<li>每個 Sprint 為了討論 KR 而放棄投點值得嗎 ？</li>\n<li>KR 與 DoD 是否能結合 ？</li>\n</ul>\n<p>（fin)</p>\n"},{"title":"CSM Day2-3 Scrum Master","date":"2018-12-15T18:45:08.000Z","_content":"\n### Scrum Master\n\n哪些人適合作 Scrum Master ?   \n常見組織轉型時會直覺的找現有的角色作 Scrum Master ，  \n但是 Scrum Master 是一個 **Couching** 的角色，  \n傳統公司裡面並沒有 **Couching** 的角色，通常都行不通的。  \n\n![&#x5F9E; Manager Driven &#x8B8A;&#x6210; Custom Driven](/images/2018/csm/day_2/closer_customer.jpg)\n\n> 傳統公司裡面的 Manager ，要麼是 R&D 的 Manager ，要麼是 PMO 的 Manager。通常會有幾個問題  \n> 1. R&D 通常由資深RD升上來，但是不善於管理\\(彼得效應\\)  \n> 2. PMO 會有自已與部門的考績考量，而這不一定能瞄準市場目標  \n> 3. 通常工作都會由 Manager 分派，而不是由成員主動爭取  \n> 4. 失敗的時候，總要有人背鍋，那個人就是 Manager \\(但是實務上常常看到 Manager 丟鍋給成員\\)  \n> ~~5. 不太關注成員的成長。~~\\(好啦，也許有的有\\)  \n> 6. Manager 要作太多的決策\n\n### Scrum Master 不是 Decision maker\n\n情境：當 Team Member 無法決定求助 Scrum Master 時。  \n解法：也要看情境，干預或不干預是要付出成本的。  \n你要關心「風險」與「成長」，在沒有風險的情境下 Scrum Master 應該引導團隊自行作決定。  \n問問題是一個好的引導方式，過多的干預會讓團隊無法成長。\n\n以小孩作比喻\n\n| 情境 | 作法 |\n| :--- | :--- |\n| 小孩爬桌子（低風險） | 讓團隊試試看，讓團隊學習、成長。 |\n| 小孩爬馬路（高風險） | 作出Decision，避免失敗\\(失敗就沒有下一次\\) |\n| 別人家的孩子爬桌子（不穩定的團隊） | 防東防西，風險至上\\(他成不成長干我啥事?\\) |\n\n如果把時間拉長一點，可以觀察出自已的取捨是否太偏向某一方\\(風險 or 成長\\)，  \n比如說幾個月，如果團隊仍無法自行決定，可能是你\\( Scrum Master \\)干預太多了，  \nScrum Master 每一個決定都會影響到團隊。  \nScrum Master 應該給自已訂一些目標，來判斷自已的取捨是否合理。\n\nEx:\n\n* 團隊是否會自行分工\n* 團隊是否會自行作決定\n* 團隊是否會蜂擁處理最高優先權的東西\n* more…\n\n更多情況 Scrum Master 不見得能作 Decision。\n\nScrum Master 的責任\n\n* Coach PO\n\n  * 消除客戶與開發之間的障礙\n  * 教導 PO 如何透過 Scrum 最有效率達到目標\\(How to maximize ROI and meet their objectives through Scrum \\) \n\n  以下圖來說，Y 軸代表價值，X 軸代表時間。上圖的策略表示產品初期就發佈高價值的增量，  \n  隨著時間過去，單位時間能帶來的價值太少時，也許我們就不作了\\(虛線之後\\)，因為不符成本。  \n  而實務上，可能會更接近下圖，在初期有些基礎建設，這些建設不一定能帶來較高的\\(客戶\\)價值，  \n  但是可以降低風險，有時候更可能是初期必要的相依項目。這兩種策略沒有好壞，關鍵點仍是要能結合你的產品，  \n  與 PO 共同討論出取捨的方向。 User Story Mapping 是一個工具，怎麼樣找到 Walking Skeleton ，  \n  怎麼在這個基礎上豐富你的產品，這都是 Scrum Master 的職責。  \n\n![&#x5169;&#x7A2E;&#x4E0D;&#x540C;&#x7684;&#x8FED;&#x4EE3;&#x7B56;&#x7565;](/images/2018/csm/day_2/increment_pattern.jpg)\n\n* Coach Team\n  * Improving the lives of the development team by facilitating creativity and empowerment　\n  * 以任何可能的方式提高開發團隊的生產力\n\n    團隊常見的兩個問題，作太少或是作不完。可以嚐試一些工程實踐，但是別忘了工程實踐的目的是讓 Sprint Done。  \n    比如說：  \n\n\n    > mini-waterfall的流程可能會導致 Item 作不完，原因是 Testing 的角色在最後面才會進來，會有 Items 作不完，  \n    > 提早發現其實是件好事，不論是**全都作不完**、**高優先權的作不完**或是**低優先權的全都作完**都是很好的干預點，  \n    > 只要在 Retrospective 將作不完的東西攤開\\(透明\\)，分析問題就可以有機會改善\n\n    > 引入不同的流程、開發方式都會有一個學習與生存的焦慮在裡面。可以透過 Coaching 降低學習焦慮，  \n    > 你要尋找適合的人選與資源，這是 Scrum Master 的職責。  \n    > 有的團隊的抗拒會比較強，Scrum Master 要找好時機進行，例如：Sprint 失敗時。  \n\n  * Improving the engineering practices and tools so each increment of functionality is potentially shippiable。   \n\n\n    > 實例化需求\\(SBE\\)、驗收趨動開發\\(ATDD\\)  \n    > 實踐上怎麼作呢 ?  \n    > 在 Sprint 中的 Item 應該都有驗收標準\\( Acceptance Criteria\\)，  \n    > 這都應該在 Planning 或 Refinement 的階段被列出來，更進一步應該變成 test case。  \n    > Example :  \n    > Sprint裡有 Item1、Item2、Item3、Item4  \n    >\n    > Item1 應該會有 test case 1.1，test case 1.2...，Item2 應該會有 test case 1.1，test case 1.2...，  \n    > 正常一個 Item 應該在兩三天完成這個功能。  \n    > 這時候就可以測試  test case，假設 test case 4.3 作不完就不作了，這樣就不會留半成品。\n    >\n    > 再透過持續整合\\(CI\\)的實踐，避免後面的改動，影響到前面。\n    >\n    > 實務上，一種是團隊很喜歡作這類的實踐與改變，另一種更多  \n    > 「團隊作不到 Done，在 Retrospective 階段來趨動改善的過程」，為了解決問題。\n\n```text\nQuestion:\n1. Item1、Item2、Item3 會改到同一個模塊，所以 RD 會習慣同時開發(F2E反應)\n2. 沒有持續集成(CI)，或是 CI 不包含自動化測試怎麼辦？\n    - 如何快速寫出一個自動化測試試？\n** \n```\n\n### 問一個問題，**「什麼讓我們慢下來**？，**什麼讓我們不能更快？」**\n\n通常第一線的人員\\(Developer\\)不覺得慢是一個問題，甚至不會在 Retrospective 提出。Scrum Master 的職責是找到這個問題。\n\n小結：\n\n* Scrum Master 要讓團隊與 PO 深入理解 Scrum \n* Scrum Master 就像是牧羊犬要保護羊群\\(團隊\\)，因為會有狼\\(插件or something...，或是羊群裡有狼\\)\n* Scrum Master 不作決策，更多是關心決策的過程甚於決策本身\n* 具有生產力的團隊就是 Scrum Master 的產出\n* Scrum Master 要發揮影響力\\(知易行難，怎麼作？\\)\n\n### 情境題\n\n避免爆雷，不描述課堂上的情境，但是將一些原則列下:\n\n1. 很多人第一時間會找 Scrum Master 問問題。\n   * 這是好事  Scrum Master 要發揮影響力\n   * Scrum Master 可以籍些說明 Scrum 在作什麼，團隊是怎麼運作的。\n   * Scrum Master 不作決策更關注過程。\n   * 不要急著解決問題。\n2. Product Owner 要基於 Product Value 作排序\n   * 如果要最大化價值，一個產品就一個 Product Backlog，不管是多少個 Team。\n   * 一個插件有幾種可能\n     * 放進下面幾個 Sprint Backlog。\n     * 放進 Product Backlog。\n     * 很異常的情況，才會終止 Sprint。\n   * Scrum Master 要關注 Root Cause \n3. 保持團隊與 Product Owner 的連結\n   * 有時候 Product Owner 也身不由已。\n   * 如果 Product Owner 不在決策圈或未被授權，要了解背後的原因。\n   * 如果 Product Owner 太忙，想辦法減輕他的壓力。\n   * 如果 Product Owner 有別的角色\\(Sales、Boss…\\)，找個適合的人作 Product Owner。\n   * 改變文化 改變組織 改變作法。\n4. 讓 Product Backlog 作為團隊工作項目唯一的入口\n5. 在不被 fire 的情況下，對組織帶來改變與價值！要有勇氣。\n6. 不要讓團隊與 Product Owner 成為甲方乙方。\n7. 讓團隊自已挑選工作，而不是分派工作。\n8. 觀注事實。\n   * 團隊的 Velocity \n   * 上個 Sprint 完成的點數\n   * 誠實面對失敗\\( _柯語錄:面對挫折打擊不是最困難的；最困難的是面對各種挫折打擊，卻沒有失去對人世的熱情_\\)。\n   * 思考著如何讓 Product 的 Impact 發生\n     * 昧著事實去滿足時程與範圍，可能會為此喪失品質與生產力\\(欠債…\\)。\n     * 找到正道，但是也許會更花時間。\n     * Change Your Company。\n   * 觀注 Product  的成功勝於作了多少工作。\n   * 盲人摸象的故事，每個人都對，也都不對。\n\n### Part-time or Full-time\n\nScrum Master 觀注改進，同時兼任多個角色時，容易陷入可量化產出的角色之中。  \n要想辦法讓 Scrum Master 的工作可視化，不然容易淪為開會召集人或訂訂便當與飲料的角色。  \n實踐：\n\n* 使用 Scrum Master Check List [http://scrummasterchecklist.org/](http://scrummasterchecklist.org/) 。\n* 建立 Scrum Master 的改善 Impact Backlog，並且設定優先級。\n* 按優先級逐步的改善。\n* 尋找一組 Scrum Master 彼此討論與評量，讓這個流程形成一個循環。\n* Less 的解決方式是 Full-time Scrum Master 兼任多個 Team。\n\n相同的作法，對不同的 Team 不一定有用， Scrum Master 如果能接觸不同的團隊是好的。或是從其它 Scrum Master 汲取經驗。\n\n### 呂毅老師的實務分享\n\n常見一個問題，Product Owner 常常單向對 Team 輸入訊息，導致最後的結果與 Product Owner 的想法有落差。\n\n一些壞味道\n\n* Planning 的時候大家「帶電腦」作自已的事或是在「滑手機」。\n* 開會人數太多，部份人在討論時，其它人放空。\n\nSolution：\n\n* 讓成員不要帶電腦，收走手機\n* Product Owner 講完換 Team 講\n* 測試\n* 拆散小組至2-3人\n  * 有點類似 Lean Coffee 的作法，讓團隊拆成小組討論 。\n  * PO 輪流在小組之間被問問題。\n  * 如果等不到 PO 可以先寫在便利貼貼到白板上。\n  * 設定 Time Box ，時間到請 PO 回答問題。\n\n### Ending\n\n不要反射性的去解決問題，讓子彈飛一會兒…。\n\n* 讓問題變透明，讓團隊看見問題\n* 不急著干預，試著讓團隊自行解決問題 \n* 讓 Team 與 PO 直接交流，不要成為 PO 與 Team 的傳話筒。\n* 要保持「意識」，不要條件反射去干預，要克服這個心魔。\n\nReal Team \n\n* 所有人的目標是一致的，而不是臨時組成的一群人。\n* 俱備 End to End 的完整。\n* 有限的人數，Scrum 建議 5~9 人。\n* Mutual accountability \n* Agreed way of working\n\n![Scrum Team &#x662F;&#x81EA;&#x7D44;&#x7E54;&#x7684;&#x5718;&#x968A;](/images/2018/csm/day_2/authority_matrix.jpg)\n\n一個好的 Scrum Master 的產品是 Well-Working Team， 這需要時間\\(以年計算…\\)。  \n如何打造一個 Team ，這比 Scrum Maser 有更多的討論，但是實務上在成為 Scrum Master 時，大多數人打造 Team 的基本功是缺乏的\\(彼得原理？\\)，這需要更多的學習…\n\n##### 參考：\n\n* [\\[N社筆記\\] 敏捷路上跌倒站起來 2018/11/1](https://blog.marsen.me/2018/11/18/2018/csm/91app_scrum_masters_growth_camp/)\n* [\\[閱讀筆記\\] The Great Scrum Master 第一章](https://blog.marsen.me/2018/07/15/books/book_the_great_scurm_master_ch1/)\n* [The role of the Scrum Master – Part I](https://stayrelevant.globant.com/en/the-role-of-the-scrum-master-part-i/)\n\n\n##### 心得小結:\n\n1. 還好上課有記錄，課程很有料，過了一個月想法仍源源不絕的出來。\n2. 你可以繼續 Scurm 自助餐，但是那個不是 Scurm 不是守破離。\n3. 一邊觀察 N 社團隊的運作一邊寫筆記，Change My Company。\n4. Gitbook 也很方便的筆記工具，寫完後同步到 Github 就能拿到九成完美的 markdown 。\n5. Scurm 給團隊更多職責，所以團隊要更強才行。\n6. Corss Learning 不僅僅是溝通層面而已，而是為了真正的 End to End。你的 End 到底到哪裡 ？如何 DoD？\n7. 所有聲音都是真的，不要急著說服別人，記住盲人摸象沒有一個瞎子說謊。\n8. 第二步我在哪裡？第一步看見全貌、先要透明，透明的意思是有共識，再此之上是溝通與信任…不要把人僅僅當作 Resource。\n9. 團隊裡面不要有小團隊/人數控制在5~9/保持團隊穩定/Real Team，好難…實務上怎麼作 ？\n10. Walking Skeleton 可以貫通在 PBI/User Story/Task 之間，要盡可能的薄但暢通，再此之上才有增量。\n11. 可交付的增量不是Release，也不是MVP。MVP比你想像的還大。\n12. Sprint 的觀念在蕃茄鐘或GTD也有反覆出現過，在 Timebox 中反覆實驗，尋求改善。\n\n(fin)","source":"_posts/2018/csm/day_2_3.md","raw":"---\ntitle: \"CSM Day2-3 Scrum Master\"\ndate: 2018/12/16 02:45:08\ntag:\n    - Scrum\n    - Agile\n---\n\n### Scrum Master\n\n哪些人適合作 Scrum Master ?   \n常見組織轉型時會直覺的找現有的角色作 Scrum Master ，  \n但是 Scrum Master 是一個 **Couching** 的角色，  \n傳統公司裡面並沒有 **Couching** 的角色，通常都行不通的。  \n\n![&#x5F9E; Manager Driven &#x8B8A;&#x6210; Custom Driven](/images/2018/csm/day_2/closer_customer.jpg)\n\n> 傳統公司裡面的 Manager ，要麼是 R&D 的 Manager ，要麼是 PMO 的 Manager。通常會有幾個問題  \n> 1. R&D 通常由資深RD升上來，但是不善於管理\\(彼得效應\\)  \n> 2. PMO 會有自已與部門的考績考量，而這不一定能瞄準市場目標  \n> 3. 通常工作都會由 Manager 分派，而不是由成員主動爭取  \n> 4. 失敗的時候，總要有人背鍋，那個人就是 Manager \\(但是實務上常常看到 Manager 丟鍋給成員\\)  \n> ~~5. 不太關注成員的成長。~~\\(好啦，也許有的有\\)  \n> 6. Manager 要作太多的決策\n\n### Scrum Master 不是 Decision maker\n\n情境：當 Team Member 無法決定求助 Scrum Master 時。  \n解法：也要看情境，干預或不干預是要付出成本的。  \n你要關心「風險」與「成長」，在沒有風險的情境下 Scrum Master 應該引導團隊自行作決定。  \n問問題是一個好的引導方式，過多的干預會讓團隊無法成長。\n\n以小孩作比喻\n\n| 情境 | 作法 |\n| :--- | :--- |\n| 小孩爬桌子（低風險） | 讓團隊試試看，讓團隊學習、成長。 |\n| 小孩爬馬路（高風險） | 作出Decision，避免失敗\\(失敗就沒有下一次\\) |\n| 別人家的孩子爬桌子（不穩定的團隊） | 防東防西，風險至上\\(他成不成長干我啥事?\\) |\n\n如果把時間拉長一點，可以觀察出自已的取捨是否太偏向某一方\\(風險 or 成長\\)，  \n比如說幾個月，如果團隊仍無法自行決定，可能是你\\( Scrum Master \\)干預太多了，  \nScrum Master 每一個決定都會影響到團隊。  \nScrum Master 應該給自已訂一些目標，來判斷自已的取捨是否合理。\n\nEx:\n\n* 團隊是否會自行分工\n* 團隊是否會自行作決定\n* 團隊是否會蜂擁處理最高優先權的東西\n* more…\n\n更多情況 Scrum Master 不見得能作 Decision。\n\nScrum Master 的責任\n\n* Coach PO\n\n  * 消除客戶與開發之間的障礙\n  * 教導 PO 如何透過 Scrum 最有效率達到目標\\(How to maximize ROI and meet their objectives through Scrum \\) \n\n  以下圖來說，Y 軸代表價值，X 軸代表時間。上圖的策略表示產品初期就發佈高價值的增量，  \n  隨著時間過去，單位時間能帶來的價值太少時，也許我們就不作了\\(虛線之後\\)，因為不符成本。  \n  而實務上，可能會更接近下圖，在初期有些基礎建設，這些建設不一定能帶來較高的\\(客戶\\)價值，  \n  但是可以降低風險，有時候更可能是初期必要的相依項目。這兩種策略沒有好壞，關鍵點仍是要能結合你的產品，  \n  與 PO 共同討論出取捨的方向。 User Story Mapping 是一個工具，怎麼樣找到 Walking Skeleton ，  \n  怎麼在這個基礎上豐富你的產品，這都是 Scrum Master 的職責。  \n\n![&#x5169;&#x7A2E;&#x4E0D;&#x540C;&#x7684;&#x8FED;&#x4EE3;&#x7B56;&#x7565;](/images/2018/csm/day_2/increment_pattern.jpg)\n\n* Coach Team\n  * Improving the lives of the development team by facilitating creativity and empowerment　\n  * 以任何可能的方式提高開發團隊的生產力\n\n    團隊常見的兩個問題，作太少或是作不完。可以嚐試一些工程實踐，但是別忘了工程實踐的目的是讓 Sprint Done。  \n    比如說：  \n\n\n    > mini-waterfall的流程可能會導致 Item 作不完，原因是 Testing 的角色在最後面才會進來，會有 Items 作不完，  \n    > 提早發現其實是件好事，不論是**全都作不完**、**高優先權的作不完**或是**低優先權的全都作完**都是很好的干預點，  \n    > 只要在 Retrospective 將作不完的東西攤開\\(透明\\)，分析問題就可以有機會改善\n\n    > 引入不同的流程、開發方式都會有一個學習與生存的焦慮在裡面。可以透過 Coaching 降低學習焦慮，  \n    > 你要尋找適合的人選與資源，這是 Scrum Master 的職責。  \n    > 有的團隊的抗拒會比較強，Scrum Master 要找好時機進行，例如：Sprint 失敗時。  \n\n  * Improving the engineering practices and tools so each increment of functionality is potentially shippiable。   \n\n\n    > 實例化需求\\(SBE\\)、驗收趨動開發\\(ATDD\\)  \n    > 實踐上怎麼作呢 ?  \n    > 在 Sprint 中的 Item 應該都有驗收標準\\( Acceptance Criteria\\)，  \n    > 這都應該在 Planning 或 Refinement 的階段被列出來，更進一步應該變成 test case。  \n    > Example :  \n    > Sprint裡有 Item1、Item2、Item3、Item4  \n    >\n    > Item1 應該會有 test case 1.1，test case 1.2...，Item2 應該會有 test case 1.1，test case 1.2...，  \n    > 正常一個 Item 應該在兩三天完成這個功能。  \n    > 這時候就可以測試  test case，假設 test case 4.3 作不完就不作了，這樣就不會留半成品。\n    >\n    > 再透過持續整合\\(CI\\)的實踐，避免後面的改動，影響到前面。\n    >\n    > 實務上，一種是團隊很喜歡作這類的實踐與改變，另一種更多  \n    > 「團隊作不到 Done，在 Retrospective 階段來趨動改善的過程」，為了解決問題。\n\n```text\nQuestion:\n1. Item1、Item2、Item3 會改到同一個模塊，所以 RD 會習慣同時開發(F2E反應)\n2. 沒有持續集成(CI)，或是 CI 不包含自動化測試怎麼辦？\n    - 如何快速寫出一個自動化測試試？\n** \n```\n\n### 問一個問題，**「什麼讓我們慢下來**？，**什麼讓我們不能更快？」**\n\n通常第一線的人員\\(Developer\\)不覺得慢是一個問題，甚至不會在 Retrospective 提出。Scrum Master 的職責是找到這個問題。\n\n小結：\n\n* Scrum Master 要讓團隊與 PO 深入理解 Scrum \n* Scrum Master 就像是牧羊犬要保護羊群\\(團隊\\)，因為會有狼\\(插件or something...，或是羊群裡有狼\\)\n* Scrum Master 不作決策，更多是關心決策的過程甚於決策本身\n* 具有生產力的團隊就是 Scrum Master 的產出\n* Scrum Master 要發揮影響力\\(知易行難，怎麼作？\\)\n\n### 情境題\n\n避免爆雷，不描述課堂上的情境，但是將一些原則列下:\n\n1. 很多人第一時間會找 Scrum Master 問問題。\n   * 這是好事  Scrum Master 要發揮影響力\n   * Scrum Master 可以籍些說明 Scrum 在作什麼，團隊是怎麼運作的。\n   * Scrum Master 不作決策更關注過程。\n   * 不要急著解決問題。\n2. Product Owner 要基於 Product Value 作排序\n   * 如果要最大化價值，一個產品就一個 Product Backlog，不管是多少個 Team。\n   * 一個插件有幾種可能\n     * 放進下面幾個 Sprint Backlog。\n     * 放進 Product Backlog。\n     * 很異常的情況，才會終止 Sprint。\n   * Scrum Master 要關注 Root Cause \n3. 保持團隊與 Product Owner 的連結\n   * 有時候 Product Owner 也身不由已。\n   * 如果 Product Owner 不在決策圈或未被授權，要了解背後的原因。\n   * 如果 Product Owner 太忙，想辦法減輕他的壓力。\n   * 如果 Product Owner 有別的角色\\(Sales、Boss…\\)，找個適合的人作 Product Owner。\n   * 改變文化 改變組織 改變作法。\n4. 讓 Product Backlog 作為團隊工作項目唯一的入口\n5. 在不被 fire 的情況下，對組織帶來改變與價值！要有勇氣。\n6. 不要讓團隊與 Product Owner 成為甲方乙方。\n7. 讓團隊自已挑選工作，而不是分派工作。\n8. 觀注事實。\n   * 團隊的 Velocity \n   * 上個 Sprint 完成的點數\n   * 誠實面對失敗\\( _柯語錄:面對挫折打擊不是最困難的；最困難的是面對各種挫折打擊，卻沒有失去對人世的熱情_\\)。\n   * 思考著如何讓 Product 的 Impact 發生\n     * 昧著事實去滿足時程與範圍，可能會為此喪失品質與生產力\\(欠債…\\)。\n     * 找到正道，但是也許會更花時間。\n     * Change Your Company。\n   * 觀注 Product  的成功勝於作了多少工作。\n   * 盲人摸象的故事，每個人都對，也都不對。\n\n### Part-time or Full-time\n\nScrum Master 觀注改進，同時兼任多個角色時，容易陷入可量化產出的角色之中。  \n要想辦法讓 Scrum Master 的工作可視化，不然容易淪為開會召集人或訂訂便當與飲料的角色。  \n實踐：\n\n* 使用 Scrum Master Check List [http://scrummasterchecklist.org/](http://scrummasterchecklist.org/) 。\n* 建立 Scrum Master 的改善 Impact Backlog，並且設定優先級。\n* 按優先級逐步的改善。\n* 尋找一組 Scrum Master 彼此討論與評量，讓這個流程形成一個循環。\n* Less 的解決方式是 Full-time Scrum Master 兼任多個 Team。\n\n相同的作法，對不同的 Team 不一定有用， Scrum Master 如果能接觸不同的團隊是好的。或是從其它 Scrum Master 汲取經驗。\n\n### 呂毅老師的實務分享\n\n常見一個問題，Product Owner 常常單向對 Team 輸入訊息，導致最後的結果與 Product Owner 的想法有落差。\n\n一些壞味道\n\n* Planning 的時候大家「帶電腦」作自已的事或是在「滑手機」。\n* 開會人數太多，部份人在討論時，其它人放空。\n\nSolution：\n\n* 讓成員不要帶電腦，收走手機\n* Product Owner 講完換 Team 講\n* 測試\n* 拆散小組至2-3人\n  * 有點類似 Lean Coffee 的作法，讓團隊拆成小組討論 。\n  * PO 輪流在小組之間被問問題。\n  * 如果等不到 PO 可以先寫在便利貼貼到白板上。\n  * 設定 Time Box ，時間到請 PO 回答問題。\n\n### Ending\n\n不要反射性的去解決問題，讓子彈飛一會兒…。\n\n* 讓問題變透明，讓團隊看見問題\n* 不急著干預，試著讓團隊自行解決問題 \n* 讓 Team 與 PO 直接交流，不要成為 PO 與 Team 的傳話筒。\n* 要保持「意識」，不要條件反射去干預，要克服這個心魔。\n\nReal Team \n\n* 所有人的目標是一致的，而不是臨時組成的一群人。\n* 俱備 End to End 的完整。\n* 有限的人數，Scrum 建議 5~9 人。\n* Mutual accountability \n* Agreed way of working\n\n![Scrum Team &#x662F;&#x81EA;&#x7D44;&#x7E54;&#x7684;&#x5718;&#x968A;](/images/2018/csm/day_2/authority_matrix.jpg)\n\n一個好的 Scrum Master 的產品是 Well-Working Team， 這需要時間\\(以年計算…\\)。  \n如何打造一個 Team ，這比 Scrum Maser 有更多的討論，但是實務上在成為 Scrum Master 時，大多數人打造 Team 的基本功是缺乏的\\(彼得原理？\\)，這需要更多的學習…\n\n##### 參考：\n\n* [\\[N社筆記\\] 敏捷路上跌倒站起來 2018/11/1](https://blog.marsen.me/2018/11/18/2018/csm/91app_scrum_masters_growth_camp/)\n* [\\[閱讀筆記\\] The Great Scrum Master 第一章](https://blog.marsen.me/2018/07/15/books/book_the_great_scurm_master_ch1/)\n* [The role of the Scrum Master – Part I](https://stayrelevant.globant.com/en/the-role-of-the-scrum-master-part-i/)\n\n\n##### 心得小結:\n\n1. 還好上課有記錄，課程很有料，過了一個月想法仍源源不絕的出來。\n2. 你可以繼續 Scurm 自助餐，但是那個不是 Scurm 不是守破離。\n3. 一邊觀察 N 社團隊的運作一邊寫筆記，Change My Company。\n4. Gitbook 也很方便的筆記工具，寫完後同步到 Github 就能拿到九成完美的 markdown 。\n5. Scurm 給團隊更多職責，所以團隊要更強才行。\n6. Corss Learning 不僅僅是溝通層面而已，而是為了真正的 End to End。你的 End 到底到哪裡 ？如何 DoD？\n7. 所有聲音都是真的，不要急著說服別人，記住盲人摸象沒有一個瞎子說謊。\n8. 第二步我在哪裡？第一步看見全貌、先要透明，透明的意思是有共識，再此之上是溝通與信任…不要把人僅僅當作 Resource。\n9. 團隊裡面不要有小團隊/人數控制在5~9/保持團隊穩定/Real Team，好難…實務上怎麼作 ？\n10. Walking Skeleton 可以貫通在 PBI/User Story/Task 之間，要盡可能的薄但暢通，再此之上才有增量。\n11. 可交付的增量不是Release，也不是MVP。MVP比你想像的還大。\n12. Sprint 的觀念在蕃茄鐘或GTD也有反覆出現過，在 Timebox 中反覆實驗，尋求改善。\n\n(fin)","slug":"2018/csm/day_2_3","published":1,"updated":"2019-06-10T14:43:28.918Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wrb00a1b0vxy1e9qvwi","content":"<h3 id=\"Scrum-Master\"><a href=\"#Scrum-Master\" class=\"headerlink\" title=\"Scrum Master\"></a>Scrum Master</h3><p>哪些人適合作 Scrum Master ?<br>常見組織轉型時會直覺的找現有的角色作 Scrum Master ，<br>但是 Scrum Master 是一個 <strong>Couching</strong> 的角色，<br>傳統公司裡面並沒有 <strong>Couching</strong> 的角色，通常都行不通的。  </p>\n<p><img src=\"/images/2018/csm/day_2/closer_customer.jpg\" alt=\"&#x5F9E; Manager Driven &#x8B8A;&#x6210; Custom Driven\"></p>\n<blockquote>\n<p>傳統公司裡面的 Manager ，要麼是 R&amp;D 的 Manager ，要麼是 PMO 的 Manager。通常會有幾個問題  </p>\n<ol>\n<li>R&amp;D 通常由資深RD升上來，但是不善於管理(彼得效應)  </li>\n<li>PMO 會有自已與部門的考績考量，而這不一定能瞄準市場目標  </li>\n<li>通常工作都會由 Manager 分派，而不是由成員主動爭取  </li>\n<li>失敗的時候，總要有人背鍋，那個人就是 Manager (但是實務上常常看到 Manager 丟鍋給成員)<br><del>5. 不太關注成員的成長。</del>(好啦，也許有的有)  </li>\n<li>Manager 要作太多的決策</li>\n</ol>\n</blockquote>\n<h3 id=\"Scrum-Master-不是-Decision-maker\"><a href=\"#Scrum-Master-不是-Decision-maker\" class=\"headerlink\" title=\"Scrum Master 不是 Decision maker\"></a>Scrum Master 不是 Decision maker</h3><p>情境：當 Team Member 無法決定求助 Scrum Master 時。<br>解法：也要看情境，干預或不干預是要付出成本的。<br>你要關心「風險」與「成長」，在沒有風險的情境下 Scrum Master 應該引導團隊自行作決定。<br>問問題是一個好的引導方式，過多的干預會讓團隊無法成長。</p>\n<p>以小孩作比喻</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">情境</th>\n<th align=\"left\">作法</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">小孩爬桌子（低風險）</td>\n<td align=\"left\">讓團隊試試看，讓團隊學習、成長。</td>\n</tr>\n<tr>\n<td align=\"left\">小孩爬馬路（高風險）</td>\n<td align=\"left\">作出Decision，避免失敗(失敗就沒有下一次)</td>\n</tr>\n<tr>\n<td align=\"left\">別人家的孩子爬桌子（不穩定的團隊）</td>\n<td align=\"left\">防東防西，風險至上(他成不成長干我啥事?)</td>\n</tr>\n</tbody></table>\n<p>如果把時間拉長一點，可以觀察出自已的取捨是否太偏向某一方(風險 or 成長)，  \n比如說幾個月，如果團隊仍無法自行決定，可能是你( Scrum Master )干預太多了，<br>Scrum Master 每一個決定都會影響到團隊。<br>Scrum Master 應該給自已訂一些目標，來判斷自已的取捨是否合理。</p>\n<p>Ex:</p>\n<ul>\n<li>團隊是否會自行分工</li>\n<li>團隊是否會自行作決定</li>\n<li>團隊是否會蜂擁處理最高優先權的東西</li>\n<li>more…</li>\n</ul>\n<p>更多情況 Scrum Master 不見得能作 Decision。</p>\n<p>Scrum Master 的責任</p>\n<ul>\n<li><p>Coach PO</p>\n<ul>\n<li>消除客戶與開發之間的障礙</li>\n<li>教導 PO 如何透過 Scrum 最有效率達到目標(How to maximize ROI and meet their objectives through Scrum ) </li>\n</ul>\n<p>以下圖來說，Y 軸代表價值，X 軸代表時間。上圖的策略表示產品初期就發佈高價值的增量，<br>隨著時間過去，單位時間能帶來的價值太少時，也許我們就不作了(虛線之後)，因為不符成本。<br>而實務上，可能會更接近下圖，在初期有些基礎建設，這些建設不一定能帶來較高的(客戶)價值，<br>但是可以降低風險，有時候更可能是初期必要的相依項目。這兩種策略沒有好壞，關鍵點仍是要能結合你的產品，<br>與 PO 共同討論出取捨的方向。 User Story Mapping 是一個工具，怎麼樣找到 Walking Skeleton ，<br>怎麼在這個基礎上豐富你的產品，這都是 Scrum Master 的職責。  </p>\n</li>\n</ul>\n<p><img src=\"/images/2018/csm/day_2/increment_pattern.jpg\" alt=\"&#x5169;&#x7A2E;&#x4E0D;&#x540C;&#x7684;&#x8FED;&#x4EE3;&#x7B56;&#x7565;\"></p>\n<ul>\n<li><p>Coach Team</p>\n<ul>\n<li><p>Improving the lives of the development team by facilitating creativity and empowerment　</p>\n</li>\n<li><p>以任何可能的方式提高開發團隊的生產力</p>\n<p>團隊常見的兩個問題，作太少或是作不完。可以嚐試一些工程實踐，但是別忘了工程實踐的目的是讓 Sprint Done。<br>比如說：  </p>\n</li>\n</ul>\n</li>\n</ul>\n<pre><code>&gt; mini-waterfall的流程可能會導致 Item 作不完，原因是 Testing 的角色在最後面才會進來，會有 Items 作不完，  \n&gt; 提早發現其實是件好事，不論是**全都作不完**、**高優先權的作不完**或是**低優先權的全都作完**都是很好的干預點，  \n&gt; 只要在 Retrospective 將作不完的東西攤開\\(透明\\)，分析問題就可以有機會改善\n\n&gt; 引入不同的流程、開發方式都會有一個學習與生存的焦慮在裡面。可以透過 Coaching 降低學習焦慮，  \n&gt; 你要尋找適合的人選與資源，這是 Scrum Master 的職責。  \n&gt; 有的團隊的抗拒會比較強，Scrum Master 要找好時機進行，例如：Sprint 失敗時。  </code></pre><ul>\n<li>Improving the engineering practices and tools so each increment of functionality is potentially shippiable。   </li>\n</ul>\n<pre><code>&gt; 實例化需求\\(SBE\\)、驗收趨動開發\\(ATDD\\)  \n&gt; 實踐上怎麼作呢 ?  \n&gt; 在 Sprint 中的 Item 應該都有驗收標準\\( Acceptance Criteria\\)，  \n&gt; 這都應該在 Planning 或 Refinement 的階段被列出來，更進一步應該變成 test case。  \n&gt; Example :  \n&gt; Sprint裡有 Item1、Item2、Item3、Item4  \n&gt;\n&gt; Item1 應該會有 test case 1.1，test case 1.2...，Item2 應該會有 test case 1.1，test case 1.2...，  \n&gt; 正常一個 Item 應該在兩三天完成這個功能。  \n&gt; 這時候就可以測試  test case，假設 test case 4.3 作不完就不作了，這樣就不會留半成品。\n&gt;\n&gt; 再透過持續整合\\(CI\\)的實踐，避免後面的改動，影響到前面。\n&gt;\n&gt; 實務上，一種是團隊很喜歡作這類的實踐與改變，另一種更多  \n&gt; 「團隊作不到 Done，在 Retrospective 階段來趨動改善的過程」，為了解決問題。</code></pre><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Question:</span><br><span class=\"line\">1. Item1、Item2、Item3 會改到同一個模塊，所以 RD 會習慣同時開發(F2E反應)</span><br><span class=\"line\">2. 沒有持續集成(CI)，或是 CI 不包含自動化測試怎麼辦？</span><br><span class=\"line\">    - 如何快速寫出一個自動化測試試？</span><br><span class=\"line\">**</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"問一個問題，「什麼讓我們慢下來？，什麼讓我們不能更快？」\"><a href=\"#問一個問題，「什麼讓我們慢下來？，什麼讓我們不能更快？」\" class=\"headerlink\" title=\"問一個問題，「什麼讓我們慢下來？，什麼讓我們不能更快？」\"></a>問一個問題，<strong>「什麼讓我們慢下來</strong>？，<strong>什麼讓我們不能更快？」</strong></h3><p>通常第一線的人員(Developer)不覺得慢是一個問題，甚至不會在 Retrospective 提出。Scrum Master 的職責是找到這個問題。</p>\n<p>小結：</p>\n<ul>\n<li>Scrum Master 要讓團隊與 PO 深入理解 Scrum </li>\n<li>Scrum Master 就像是牧羊犬要保護羊群(團隊)，因為會有狼(插件or something…，或是羊群裡有狼)</li>\n<li>Scrum Master 不作決策，更多是關心決策的過程甚於決策本身</li>\n<li>具有生產力的團隊就是 Scrum Master 的產出</li>\n<li>Scrum Master 要發揮影響力(知易行難，怎麼作？)</li>\n</ul>\n<h3 id=\"情境題\"><a href=\"#情境題\" class=\"headerlink\" title=\"情境題\"></a>情境題</h3><p>避免爆雷，不描述課堂上的情境，但是將一些原則列下:</p>\n<ol>\n<li>很多人第一時間會找 Scrum Master 問問題。<ul>\n<li>這是好事  Scrum Master 要發揮影響力</li>\n<li>Scrum Master 可以籍些說明 Scrum 在作什麼，團隊是怎麼運作的。</li>\n<li>Scrum Master 不作決策更關注過程。</li>\n<li>不要急著解決問題。</li>\n</ul>\n</li>\n<li>Product Owner 要基於 Product Value 作排序<ul>\n<li>如果要最大化價值，一個產品就一個 Product Backlog，不管是多少個 Team。</li>\n<li>一個插件有幾種可能<ul>\n<li>放進下面幾個 Sprint Backlog。</li>\n<li>放進 Product Backlog。</li>\n<li>很異常的情況，才會終止 Sprint。</li>\n</ul>\n</li>\n<li>Scrum Master 要關注 Root Cause </li>\n</ul>\n</li>\n<li>保持團隊與 Product Owner 的連結<ul>\n<li>有時候 Product Owner 也身不由已。</li>\n<li>如果 Product Owner 不在決策圈或未被授權，要了解背後的原因。</li>\n<li>如果 Product Owner 太忙，想辦法減輕他的壓力。</li>\n<li>如果 Product Owner 有別的角色(Sales、Boss…)，找個適合的人作 Product Owner。</li>\n<li>改變文化 改變組織 改變作法。</li>\n</ul>\n</li>\n<li>讓 Product Backlog 作為團隊工作項目唯一的入口</li>\n<li>在不被 fire 的情況下，對組織帶來改變與價值！要有勇氣。</li>\n<li>不要讓團隊與 Product Owner 成為甲方乙方。</li>\n<li>讓團隊自已挑選工作，而不是分派工作。</li>\n<li>觀注事實。<ul>\n<li>團隊的 Velocity </li>\n<li>上個 Sprint 完成的點數</li>\n<li>誠實面對失敗( _柯語錄:面對挫折打擊不是最困難的；最困難的是面對各種挫折打擊，卻沒有失去對人世的熱情_)。</li>\n<li>思考著如何讓 Product 的 Impact 發生<ul>\n<li>昧著事實去滿足時程與範圍，可能會為此喪失品質與生產力(欠債…)。</li>\n<li>找到正道，但是也許會更花時間。</li>\n<li>Change Your Company。</li>\n</ul>\n</li>\n<li>觀注 Product  的成功勝於作了多少工作。</li>\n<li>盲人摸象的故事，每個人都對，也都不對。</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"Part-time-or-Full-time\"><a href=\"#Part-time-or-Full-time\" class=\"headerlink\" title=\"Part-time or Full-time\"></a>Part-time or Full-time</h3><p>Scrum Master 觀注改進，同時兼任多個角色時，容易陷入可量化產出的角色之中。<br>要想辦法讓 Scrum Master 的工作可視化，不然容易淪為開會召集人或訂訂便當與飲料的角色。<br>實踐：</p>\n<ul>\n<li>使用 Scrum Master Check List <a href=\"http://scrummasterchecklist.org/\" target=\"_blank\" rel=\"noopener\">http://scrummasterchecklist.org/</a> 。</li>\n<li>建立 Scrum Master 的改善 Impact Backlog，並且設定優先級。</li>\n<li>按優先級逐步的改善。</li>\n<li>尋找一組 Scrum Master 彼此討論與評量，讓這個流程形成一個循環。</li>\n<li>Less 的解決方式是 Full-time Scrum Master 兼任多個 Team。</li>\n</ul>\n<p>相同的作法，對不同的 Team 不一定有用， Scrum Master 如果能接觸不同的團隊是好的。或是從其它 Scrum Master 汲取經驗。</p>\n<h3 id=\"呂毅老師的實務分享\"><a href=\"#呂毅老師的實務分享\" class=\"headerlink\" title=\"呂毅老師的實務分享\"></a>呂毅老師的實務分享</h3><p>常見一個問題，Product Owner 常常單向對 Team 輸入訊息，導致最後的結果與 Product Owner 的想法有落差。</p>\n<p>一些壞味道</p>\n<ul>\n<li>Planning 的時候大家「帶電腦」作自已的事或是在「滑手機」。</li>\n<li>開會人數太多，部份人在討論時，其它人放空。</li>\n</ul>\n<p>Solution：</p>\n<ul>\n<li>讓成員不要帶電腦，收走手機</li>\n<li>Product Owner 講完換 Team 講</li>\n<li>測試</li>\n<li>拆散小組至2-3人<ul>\n<li>有點類似 Lean Coffee 的作法，讓團隊拆成小組討論 。</li>\n<li>PO 輪流在小組之間被問問題。</li>\n<li>如果等不到 PO 可以先寫在便利貼貼到白板上。</li>\n<li>設定 Time Box ，時間到請 PO 回答問題。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Ending\"><a href=\"#Ending\" class=\"headerlink\" title=\"Ending\"></a>Ending</h3><p>不要反射性的去解決問題，讓子彈飛一會兒…。</p>\n<ul>\n<li>讓問題變透明，讓團隊看見問題</li>\n<li>不急著干預，試著讓團隊自行解決問題 </li>\n<li>讓 Team 與 PO 直接交流，不要成為 PO 與 Team 的傳話筒。</li>\n<li>要保持「意識」，不要條件反射去干預，要克服這個心魔。</li>\n</ul>\n<p>Real Team </p>\n<ul>\n<li>所有人的目標是一致的，而不是臨時組成的一群人。</li>\n<li>俱備 End to End 的完整。</li>\n<li>有限的人數，Scrum 建議 5~9 人。</li>\n<li>Mutual accountability </li>\n<li>Agreed way of working</li>\n</ul>\n<p><img src=\"/images/2018/csm/day_2/authority_matrix.jpg\" alt=\"Scrum Team &#x662F;&#x81EA;&#x7D44;&#x7E54;&#x7684;&#x5718;&#x968A;\"></p>\n<p>一個好的 Scrum Master 的產品是 Well-Working Team， 這需要時間(以年計算…)。  \n如何打造一個 Team ，這比 Scrum Maser 有更多的討論，但是實務上在成為 Scrum Master 時，大多數人打造 Team 的基本功是缺乏的(彼得原理？)，這需要更多的學習…</p>\n<h5 id=\"參考：\"><a href=\"#參考：\" class=\"headerlink\" title=\"參考：\"></a>參考：</h5><ul>\n<li><a href=\"https://blog.marsen.me/2018/11/18/2018/csm/91app_scrum_masters_growth_camp/\">[N社筆記] 敏捷路上跌倒站起來 2018/11/1</a></li>\n<li><a href=\"https://blog.marsen.me/2018/07/15/books/book_the_great_scurm_master_ch1/\">[閱讀筆記] The Great Scrum Master 第一章</a></li>\n<li><a href=\"https://stayrelevant.globant.com/en/the-role-of-the-scrum-master-part-i/\" target=\"_blank\" rel=\"noopener\">The role of the Scrum Master – Part I</a></li>\n</ul>\n<h5 id=\"心得小結\"><a href=\"#心得小結\" class=\"headerlink\" title=\"心得小結:\"></a>心得小結:</h5><ol>\n<li>還好上課有記錄，課程很有料，過了一個月想法仍源源不絕的出來。</li>\n<li>你可以繼續 Scurm 自助餐，但是那個不是 Scurm 不是守破離。</li>\n<li>一邊觀察 N 社團隊的運作一邊寫筆記，Change My Company。</li>\n<li>Gitbook 也很方便的筆記工具，寫完後同步到 Github 就能拿到九成完美的 markdown 。</li>\n<li>Scurm 給團隊更多職責，所以團隊要更強才行。</li>\n<li>Corss Learning 不僅僅是溝通層面而已，而是為了真正的 End to End。你的 End 到底到哪裡 ？如何 DoD？</li>\n<li>所有聲音都是真的，不要急著說服別人，記住盲人摸象沒有一個瞎子說謊。</li>\n<li>第二步我在哪裡？第一步看見全貌、先要透明，透明的意思是有共識，再此之上是溝通與信任…不要把人僅僅當作 Resource。</li>\n<li>團隊裡面不要有小團隊/人數控制在5~9/保持團隊穩定/Real Team，好難…實務上怎麼作 ？</li>\n<li>Walking Skeleton 可以貫通在 PBI/User Story/Task 之間，要盡可能的薄但暢通，再此之上才有增量。</li>\n<li>可交付的增量不是Release，也不是MVP。MVP比你想像的還大。</li>\n<li>Sprint 的觀念在蕃茄鐘或GTD也有反覆出現過，在 Timebox 中反覆實驗，尋求改善。</li>\n</ol>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"Scrum-Master\"><a href=\"#Scrum-Master\" class=\"headerlink\" title=\"Scrum Master\"></a>Scrum Master</h3><p>哪些人適合作 Scrum Master ?<br>常見組織轉型時會直覺的找現有的角色作 Scrum Master ，<br>但是 Scrum Master 是一個 <strong>Couching</strong> 的角色，<br>傳統公司裡面並沒有 <strong>Couching</strong> 的角色，通常都行不通的。  </p>\n<p><img src=\"/images/2018/csm/day_2/closer_customer.jpg\" alt=\"&#x5F9E; Manager Driven &#x8B8A;&#x6210; Custom Driven\"></p>\n<blockquote>\n<p>傳統公司裡面的 Manager ，要麼是 R&amp;D 的 Manager ，要麼是 PMO 的 Manager。通常會有幾個問題  </p>\n<ol>\n<li>R&amp;D 通常由資深RD升上來，但是不善於管理(彼得效應)  </li>\n<li>PMO 會有自已與部門的考績考量，而這不一定能瞄準市場目標  </li>\n<li>通常工作都會由 Manager 分派，而不是由成員主動爭取  </li>\n<li>失敗的時候，總要有人背鍋，那個人就是 Manager (但是實務上常常看到 Manager 丟鍋給成員)<br><del>5. 不太關注成員的成長。</del>(好啦，也許有的有)  </li>\n<li>Manager 要作太多的決策</li>\n</ol>\n</blockquote>\n<h3 id=\"Scrum-Master-不是-Decision-maker\"><a href=\"#Scrum-Master-不是-Decision-maker\" class=\"headerlink\" title=\"Scrum Master 不是 Decision maker\"></a>Scrum Master 不是 Decision maker</h3><p>情境：當 Team Member 無法決定求助 Scrum Master 時。<br>解法：也要看情境，干預或不干預是要付出成本的。<br>你要關心「風險」與「成長」，在沒有風險的情境下 Scrum Master 應該引導團隊自行作決定。<br>問問題是一個好的引導方式，過多的干預會讓團隊無法成長。</p>\n<p>以小孩作比喻</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">情境</th>\n<th align=\"left\">作法</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">小孩爬桌子（低風險）</td>\n<td align=\"left\">讓團隊試試看，讓團隊學習、成長。</td>\n</tr>\n<tr>\n<td align=\"left\">小孩爬馬路（高風險）</td>\n<td align=\"left\">作出Decision，避免失敗(失敗就沒有下一次)</td>\n</tr>\n<tr>\n<td align=\"left\">別人家的孩子爬桌子（不穩定的團隊）</td>\n<td align=\"left\">防東防西，風險至上(他成不成長干我啥事?)</td>\n</tr>\n</tbody></table>\n<p>如果把時間拉長一點，可以觀察出自已的取捨是否太偏向某一方(風險 or 成長)，  \n比如說幾個月，如果團隊仍無法自行決定，可能是你( Scrum Master )干預太多了，<br>Scrum Master 每一個決定都會影響到團隊。<br>Scrum Master 應該給自已訂一些目標，來判斷自已的取捨是否合理。</p>\n<p>Ex:</p>\n<ul>\n<li>團隊是否會自行分工</li>\n<li>團隊是否會自行作決定</li>\n<li>團隊是否會蜂擁處理最高優先權的東西</li>\n<li>more…</li>\n</ul>\n<p>更多情況 Scrum Master 不見得能作 Decision。</p>\n<p>Scrum Master 的責任</p>\n<ul>\n<li><p>Coach PO</p>\n<ul>\n<li>消除客戶與開發之間的障礙</li>\n<li>教導 PO 如何透過 Scrum 最有效率達到目標(How to maximize ROI and meet their objectives through Scrum ) </li>\n</ul>\n<p>以下圖來說，Y 軸代表價值，X 軸代表時間。上圖的策略表示產品初期就發佈高價值的增量，<br>隨著時間過去，單位時間能帶來的價值太少時，也許我們就不作了(虛線之後)，因為不符成本。<br>而實務上，可能會更接近下圖，在初期有些基礎建設，這些建設不一定能帶來較高的(客戶)價值，<br>但是可以降低風險，有時候更可能是初期必要的相依項目。這兩種策略沒有好壞，關鍵點仍是要能結合你的產品，<br>與 PO 共同討論出取捨的方向。 User Story Mapping 是一個工具，怎麼樣找到 Walking Skeleton ，<br>怎麼在這個基礎上豐富你的產品，這都是 Scrum Master 的職責。  </p>\n</li>\n</ul>\n<p><img src=\"/images/2018/csm/day_2/increment_pattern.jpg\" alt=\"&#x5169;&#x7A2E;&#x4E0D;&#x540C;&#x7684;&#x8FED;&#x4EE3;&#x7B56;&#x7565;\"></p>\n<ul>\n<li><p>Coach Team</p>\n<ul>\n<li><p>Improving the lives of the development team by facilitating creativity and empowerment　</p>\n</li>\n<li><p>以任何可能的方式提高開發團隊的生產力</p>\n<p>團隊常見的兩個問題，作太少或是作不完。可以嚐試一些工程實踐，但是別忘了工程實踐的目的是讓 Sprint Done。<br>比如說：  </p>\n</li>\n</ul>\n</li>\n</ul>\n<pre><code>&gt; mini-waterfall的流程可能會導致 Item 作不完，原因是 Testing 的角色在最後面才會進來，會有 Items 作不完，  \n&gt; 提早發現其實是件好事，不論是**全都作不完**、**高優先權的作不完**或是**低優先權的全都作完**都是很好的干預點，  \n&gt; 只要在 Retrospective 將作不完的東西攤開\\(透明\\)，分析問題就可以有機會改善\n\n&gt; 引入不同的流程、開發方式都會有一個學習與生存的焦慮在裡面。可以透過 Coaching 降低學習焦慮，  \n&gt; 你要尋找適合的人選與資源，這是 Scrum Master 的職責。  \n&gt; 有的團隊的抗拒會比較強，Scrum Master 要找好時機進行，例如：Sprint 失敗時。  </code></pre><ul>\n<li>Improving the engineering practices and tools so each increment of functionality is potentially shippiable。   </li>\n</ul>\n<pre><code>&gt; 實例化需求\\(SBE\\)、驗收趨動開發\\(ATDD\\)  \n&gt; 實踐上怎麼作呢 ?  \n&gt; 在 Sprint 中的 Item 應該都有驗收標準\\( Acceptance Criteria\\)，  \n&gt; 這都應該在 Planning 或 Refinement 的階段被列出來，更進一步應該變成 test case。  \n&gt; Example :  \n&gt; Sprint裡有 Item1、Item2、Item3、Item4  \n&gt;\n&gt; Item1 應該會有 test case 1.1，test case 1.2...，Item2 應該會有 test case 1.1，test case 1.2...，  \n&gt; 正常一個 Item 應該在兩三天完成這個功能。  \n&gt; 這時候就可以測試  test case，假設 test case 4.3 作不完就不作了，這樣就不會留半成品。\n&gt;\n&gt; 再透過持續整合\\(CI\\)的實踐，避免後面的改動，影響到前面。\n&gt;\n&gt; 實務上，一種是團隊很喜歡作這類的實踐與改變，另一種更多  \n&gt; 「團隊作不到 Done，在 Retrospective 階段來趨動改善的過程」，為了解決問題。</code></pre><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Question:</span><br><span class=\"line\">1. Item1、Item2、Item3 會改到同一個模塊，所以 RD 會習慣同時開發(F2E反應)</span><br><span class=\"line\">2. 沒有持續集成(CI)，或是 CI 不包含自動化測試怎麼辦？</span><br><span class=\"line\">    - 如何快速寫出一個自動化測試試？</span><br><span class=\"line\">**</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"問一個問題，「什麼讓我們慢下來？，什麼讓我們不能更快？」\"><a href=\"#問一個問題，「什麼讓我們慢下來？，什麼讓我們不能更快？」\" class=\"headerlink\" title=\"問一個問題，「什麼讓我們慢下來？，什麼讓我們不能更快？」\"></a>問一個問題，<strong>「什麼讓我們慢下來</strong>？，<strong>什麼讓我們不能更快？」</strong></h3><p>通常第一線的人員(Developer)不覺得慢是一個問題，甚至不會在 Retrospective 提出。Scrum Master 的職責是找到這個問題。</p>\n<p>小結：</p>\n<ul>\n<li>Scrum Master 要讓團隊與 PO 深入理解 Scrum </li>\n<li>Scrum Master 就像是牧羊犬要保護羊群(團隊)，因為會有狼(插件or something…，或是羊群裡有狼)</li>\n<li>Scrum Master 不作決策，更多是關心決策的過程甚於決策本身</li>\n<li>具有生產力的團隊就是 Scrum Master 的產出</li>\n<li>Scrum Master 要發揮影響力(知易行難，怎麼作？)</li>\n</ul>\n<h3 id=\"情境題\"><a href=\"#情境題\" class=\"headerlink\" title=\"情境題\"></a>情境題</h3><p>避免爆雷，不描述課堂上的情境，但是將一些原則列下:</p>\n<ol>\n<li>很多人第一時間會找 Scrum Master 問問題。<ul>\n<li>這是好事  Scrum Master 要發揮影響力</li>\n<li>Scrum Master 可以籍些說明 Scrum 在作什麼，團隊是怎麼運作的。</li>\n<li>Scrum Master 不作決策更關注過程。</li>\n<li>不要急著解決問題。</li>\n</ul>\n</li>\n<li>Product Owner 要基於 Product Value 作排序<ul>\n<li>如果要最大化價值，一個產品就一個 Product Backlog，不管是多少個 Team。</li>\n<li>一個插件有幾種可能<ul>\n<li>放進下面幾個 Sprint Backlog。</li>\n<li>放進 Product Backlog。</li>\n<li>很異常的情況，才會終止 Sprint。</li>\n</ul>\n</li>\n<li>Scrum Master 要關注 Root Cause </li>\n</ul>\n</li>\n<li>保持團隊與 Product Owner 的連結<ul>\n<li>有時候 Product Owner 也身不由已。</li>\n<li>如果 Product Owner 不在決策圈或未被授權，要了解背後的原因。</li>\n<li>如果 Product Owner 太忙，想辦法減輕他的壓力。</li>\n<li>如果 Product Owner 有別的角色(Sales、Boss…)，找個適合的人作 Product Owner。</li>\n<li>改變文化 改變組織 改變作法。</li>\n</ul>\n</li>\n<li>讓 Product Backlog 作為團隊工作項目唯一的入口</li>\n<li>在不被 fire 的情況下，對組織帶來改變與價值！要有勇氣。</li>\n<li>不要讓團隊與 Product Owner 成為甲方乙方。</li>\n<li>讓團隊自已挑選工作，而不是分派工作。</li>\n<li>觀注事實。<ul>\n<li>團隊的 Velocity </li>\n<li>上個 Sprint 完成的點數</li>\n<li>誠實面對失敗( _柯語錄:面對挫折打擊不是最困難的；最困難的是面對各種挫折打擊，卻沒有失去對人世的熱情_)。</li>\n<li>思考著如何讓 Product 的 Impact 發生<ul>\n<li>昧著事實去滿足時程與範圍，可能會為此喪失品質與生產力(欠債…)。</li>\n<li>找到正道，但是也許會更花時間。</li>\n<li>Change Your Company。</li>\n</ul>\n</li>\n<li>觀注 Product  的成功勝於作了多少工作。</li>\n<li>盲人摸象的故事，每個人都對，也都不對。</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"Part-time-or-Full-time\"><a href=\"#Part-time-or-Full-time\" class=\"headerlink\" title=\"Part-time or Full-time\"></a>Part-time or Full-time</h3><p>Scrum Master 觀注改進，同時兼任多個角色時，容易陷入可量化產出的角色之中。<br>要想辦法讓 Scrum Master 的工作可視化，不然容易淪為開會召集人或訂訂便當與飲料的角色。<br>實踐：</p>\n<ul>\n<li>使用 Scrum Master Check List <a href=\"http://scrummasterchecklist.org/\" target=\"_blank\" rel=\"noopener\">http://scrummasterchecklist.org/</a> 。</li>\n<li>建立 Scrum Master 的改善 Impact Backlog，並且設定優先級。</li>\n<li>按優先級逐步的改善。</li>\n<li>尋找一組 Scrum Master 彼此討論與評量，讓這個流程形成一個循環。</li>\n<li>Less 的解決方式是 Full-time Scrum Master 兼任多個 Team。</li>\n</ul>\n<p>相同的作法，對不同的 Team 不一定有用， Scrum Master 如果能接觸不同的團隊是好的。或是從其它 Scrum Master 汲取經驗。</p>\n<h3 id=\"呂毅老師的實務分享\"><a href=\"#呂毅老師的實務分享\" class=\"headerlink\" title=\"呂毅老師的實務分享\"></a>呂毅老師的實務分享</h3><p>常見一個問題，Product Owner 常常單向對 Team 輸入訊息，導致最後的結果與 Product Owner 的想法有落差。</p>\n<p>一些壞味道</p>\n<ul>\n<li>Planning 的時候大家「帶電腦」作自已的事或是在「滑手機」。</li>\n<li>開會人數太多，部份人在討論時，其它人放空。</li>\n</ul>\n<p>Solution：</p>\n<ul>\n<li>讓成員不要帶電腦，收走手機</li>\n<li>Product Owner 講完換 Team 講</li>\n<li>測試</li>\n<li>拆散小組至2-3人<ul>\n<li>有點類似 Lean Coffee 的作法，讓團隊拆成小組討論 。</li>\n<li>PO 輪流在小組之間被問問題。</li>\n<li>如果等不到 PO 可以先寫在便利貼貼到白板上。</li>\n<li>設定 Time Box ，時間到請 PO 回答問題。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Ending\"><a href=\"#Ending\" class=\"headerlink\" title=\"Ending\"></a>Ending</h3><p>不要反射性的去解決問題，讓子彈飛一會兒…。</p>\n<ul>\n<li>讓問題變透明，讓團隊看見問題</li>\n<li>不急著干預，試著讓團隊自行解決問題 </li>\n<li>讓 Team 與 PO 直接交流，不要成為 PO 與 Team 的傳話筒。</li>\n<li>要保持「意識」，不要條件反射去干預，要克服這個心魔。</li>\n</ul>\n<p>Real Team </p>\n<ul>\n<li>所有人的目標是一致的，而不是臨時組成的一群人。</li>\n<li>俱備 End to End 的完整。</li>\n<li>有限的人數，Scrum 建議 5~9 人。</li>\n<li>Mutual accountability </li>\n<li>Agreed way of working</li>\n</ul>\n<p><img src=\"/images/2018/csm/day_2/authority_matrix.jpg\" alt=\"Scrum Team &#x662F;&#x81EA;&#x7D44;&#x7E54;&#x7684;&#x5718;&#x968A;\"></p>\n<p>一個好的 Scrum Master 的產品是 Well-Working Team， 這需要時間(以年計算…)。  \n如何打造一個 Team ，這比 Scrum Maser 有更多的討論，但是實務上在成為 Scrum Master 時，大多數人打造 Team 的基本功是缺乏的(彼得原理？)，這需要更多的學習…</p>\n<h5 id=\"參考：\"><a href=\"#參考：\" class=\"headerlink\" title=\"參考：\"></a>參考：</h5><ul>\n<li><a href=\"https://blog.marsen.me/2018/11/18/2018/csm/91app_scrum_masters_growth_camp/\">[N社筆記] 敏捷路上跌倒站起來 2018/11/1</a></li>\n<li><a href=\"https://blog.marsen.me/2018/07/15/books/book_the_great_scurm_master_ch1/\">[閱讀筆記] The Great Scrum Master 第一章</a></li>\n<li><a href=\"https://stayrelevant.globant.com/en/the-role-of-the-scrum-master-part-i/\" target=\"_blank\" rel=\"noopener\">The role of the Scrum Master – Part I</a></li>\n</ul>\n<h5 id=\"心得小結\"><a href=\"#心得小結\" class=\"headerlink\" title=\"心得小結:\"></a>心得小結:</h5><ol>\n<li>還好上課有記錄，課程很有料，過了一個月想法仍源源不絕的出來。</li>\n<li>你可以繼續 Scurm 自助餐，但是那個不是 Scurm 不是守破離。</li>\n<li>一邊觀察 N 社團隊的運作一邊寫筆記，Change My Company。</li>\n<li>Gitbook 也很方便的筆記工具，寫完後同步到 Github 就能拿到九成完美的 markdown 。</li>\n<li>Scurm 給團隊更多職責，所以團隊要更強才行。</li>\n<li>Corss Learning 不僅僅是溝通層面而已，而是為了真正的 End to End。你的 End 到底到哪裡 ？如何 DoD？</li>\n<li>所有聲音都是真的，不要急著說服別人，記住盲人摸象沒有一個瞎子說謊。</li>\n<li>第二步我在哪裡？第一步看見全貌、先要透明，透明的意思是有共識，再此之上是溝通與信任…不要把人僅僅當作 Resource。</li>\n<li>團隊裡面不要有小團隊/人數控制在5~9/保持團隊穩定/Real Team，好難…實務上怎麼作 ？</li>\n<li>Walking Skeleton 可以貫通在 PBI/User Story/Task 之間，要盡可能的薄但暢通，再此之上才有增量。</li>\n<li>可交付的增量不是Release，也不是MVP。MVP比你想像的還大。</li>\n<li>Sprint 的觀念在蕃茄鐘或GTD也有反覆出現過，在 Timebox 中反覆實驗，尋求改善。</li>\n</ol>\n<p>(fin)</p>\n"},{"title":"[閱讀筆記] 學徒模式--優秀軟體開發者的養成之路","date":"2019-08-06T18:06:15.000Z","_content":"![送書啦](/images/2019/8/apprenticeship_patterns.jpg)\n\n## 前情提要\n\n最近公司來了幾個來自 Build School 的學員，  \n作為暑期工讀生，開發一些 Side Project ，  \n雖然工作很忙，不過我倒是對帶新人還蠻有信心的。  \n\n這些小朋友問了一些問題，讓我想到自已剛畢業和剛從資策會出來的那時候。  \n有的問題很大，大到可能要一輩子都無法解決。  \n有的問題很小，小到聽了會笑，但對他們來說可能像是眼裡的一粒沙。  \n\n我在學習的初期，最困難的問題是**不知道怎麼問問題**。  \n而過了一陣子後，我發現一個更糟的狀況，**我不知道我有問題**。  \n而這本書大致上解決了我的上述的兩個問題。\n\n## 為何選擇這本書?\n\n非常好讀，你不需要從頭讀到尾。  \n首先是每個篇幅非常的短，大概只要 5~10 分鐘就能讀完。  \n再來是除了第一章外，每一大章都會有一個地圖，  \n讓你能看見全貌。  \n\n## 如何讀這本書\n\n而每一篇都包含情境、問題、解決方案與參照，  \n情境與問題就像是這本書的 GPS ,  \n讓你知道你落在這本書的哪個點上 。  \n解決方案是通篇的主體，但是對我來說後面的行動更為重要，  \n我開始練習 Kata、寫 Blog、尋找導師大多是因這本書而開始的。  \n\n最後，都會附上相關章節的參照。  \n這非常有幫助，原因是在這張地圖上，  \n你可能會同時落在幾個點上。  \n那麼地圖與參照就會非常有幫助，你可以查找地圖發現有關連的章節，  \n也可以直接透過參照找到其它章節。  \n\n## 會不會是雞湯文\n\n會不會變成雞湯，其實取決於你自已。  \n書上的行動，你作了嗎 ?  \n如果不行動，就當作喝雞湯吧。  \n\n## 這本書的缺點\n\n這本書強調的是如何成為一個工匠，  \n如何成為一個達人。  \n我知道的現實是，很多工程人員到了一定的程度就會轉換職務  \n如果你的目標是成為管理者，業務等…職務\n我想這本書在幫助上可能會少一半。\n畢竟這不是一本教你管理、銷售或領導的書。\n\n## 最後的 mur mur\n\n現實上的工匠真的很少，這不是條發大財的路。  \n走起來也很辛苦，不過這是個革命的時代，  \n各行各業都在與軟體產業發生衝突與融合，  \n如果能有更多優秀的工程師，我們就不需要工程師了。\n\n> 鍚將會扮演它的角色，直到這個世界不再需要鍚為止，\n> 然後鍚就會變成金子。  ---El Alquimista\n\n期許自已和看到這篇文章的你都能成為更好的工程師。\n\n(fin)\n","source":"_posts/2019/book/apprenticeship_patterns.md","raw":"---\ntitle: \"[閱讀筆記] 學徒模式--優秀軟體開發者的養成之路\"\ndate: 2019/08/07 02:06:15\ntag:\n  - 閱讀筆記\n---\n![送書啦](/images/2019/8/apprenticeship_patterns.jpg)\n\n## 前情提要\n\n最近公司來了幾個來自 Build School 的學員，  \n作為暑期工讀生，開發一些 Side Project ，  \n雖然工作很忙，不過我倒是對帶新人還蠻有信心的。  \n\n這些小朋友問了一些問題，讓我想到自已剛畢業和剛從資策會出來的那時候。  \n有的問題很大，大到可能要一輩子都無法解決。  \n有的問題很小，小到聽了會笑，但對他們來說可能像是眼裡的一粒沙。  \n\n我在學習的初期，最困難的問題是**不知道怎麼問問題**。  \n而過了一陣子後，我發現一個更糟的狀況，**我不知道我有問題**。  \n而這本書大致上解決了我的上述的兩個問題。\n\n## 為何選擇這本書?\n\n非常好讀，你不需要從頭讀到尾。  \n首先是每個篇幅非常的短，大概只要 5~10 分鐘就能讀完。  \n再來是除了第一章外，每一大章都會有一個地圖，  \n讓你能看見全貌。  \n\n## 如何讀這本書\n\n而每一篇都包含情境、問題、解決方案與參照，  \n情境與問題就像是這本書的 GPS ,  \n讓你知道你落在這本書的哪個點上 。  \n解決方案是通篇的主體，但是對我來說後面的行動更為重要，  \n我開始練習 Kata、寫 Blog、尋找導師大多是因這本書而開始的。  \n\n最後，都會附上相關章節的參照。  \n這非常有幫助，原因是在這張地圖上，  \n你可能會同時落在幾個點上。  \n那麼地圖與參照就會非常有幫助，你可以查找地圖發現有關連的章節，  \n也可以直接透過參照找到其它章節。  \n\n## 會不會是雞湯文\n\n會不會變成雞湯，其實取決於你自已。  \n書上的行動，你作了嗎 ?  \n如果不行動，就當作喝雞湯吧。  \n\n## 這本書的缺點\n\n這本書強調的是如何成為一個工匠，  \n如何成為一個達人。  \n我知道的現實是，很多工程人員到了一定的程度就會轉換職務  \n如果你的目標是成為管理者，業務等…職務\n我想這本書在幫助上可能會少一半。\n畢竟這不是一本教你管理、銷售或領導的書。\n\n## 最後的 mur mur\n\n現實上的工匠真的很少，這不是條發大財的路。  \n走起來也很辛苦，不過這是個革命的時代，  \n各行各業都在與軟體產業發生衝突與融合，  \n如果能有更多優秀的工程師，我們就不需要工程師了。\n\n> 鍚將會扮演它的角色，直到這個世界不再需要鍚為止，\n> 然後鍚就會變成金子。  ---El Alquimista\n\n期許自已和看到這篇文章的你都能成為更好的工程師。\n\n(fin)\n","slug":"2019/book/apprenticeship_patterns","published":1,"updated":"2019-08-06T19:27:21.694Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wrd00a4b0vx3hvhdh07","content":"<p><img src=\"/images/2019/8/apprenticeship_patterns.jpg\" alt=\"送書啦\"></p>\n<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>最近公司來了幾個來自 Build School 的學員，<br>作為暑期工讀生，開發一些 Side Project ，<br>雖然工作很忙，不過我倒是對帶新人還蠻有信心的。  </p>\n<p>這些小朋友問了一些問題，讓我想到自已剛畢業和剛從資策會出來的那時候。<br>有的問題很大，大到可能要一輩子都無法解決。<br>有的問題很小，小到聽了會笑，但對他們來說可能像是眼裡的一粒沙。  </p>\n<p>我在學習的初期，最困難的問題是<strong>不知道怎麼問問題</strong>。  \n而過了一陣子後，我發現一個更糟的狀況，<strong>我不知道我有問題</strong>。  \n而這本書大致上解決了我的上述的兩個問題。</p>\n<h2 id=\"為何選擇這本書\"><a href=\"#為何選擇這本書\" class=\"headerlink\" title=\"為何選擇這本書?\"></a>為何選擇這本書?</h2><p>非常好讀，你不需要從頭讀到尾。<br>首先是每個篇幅非常的短，大概只要 5~10 分鐘就能讀完。<br>再來是除了第一章外，每一大章都會有一個地圖，<br>讓你能看見全貌。  </p>\n<h2 id=\"如何讀這本書\"><a href=\"#如何讀這本書\" class=\"headerlink\" title=\"如何讀這本書\"></a>如何讀這本書</h2><p>而每一篇都包含情境、問題、解決方案與參照，<br>情境與問題就像是這本書的 GPS ,<br>讓你知道你落在這本書的哪個點上 。<br>解決方案是通篇的主體，但是對我來說後面的行動更為重要，<br>我開始練習 Kata、寫 Blog、尋找導師大多是因這本書而開始的。  </p>\n<p>最後，都會附上相關章節的參照。<br>這非常有幫助，原因是在這張地圖上，<br>你可能會同時落在幾個點上。<br>那麼地圖與參照就會非常有幫助，你可以查找地圖發現有關連的章節，<br>也可以直接透過參照找到其它章節。  </p>\n<h2 id=\"會不會是雞湯文\"><a href=\"#會不會是雞湯文\" class=\"headerlink\" title=\"會不會是雞湯文\"></a>會不會是雞湯文</h2><p>會不會變成雞湯，其實取決於你自已。<br>書上的行動，你作了嗎 ?<br>如果不行動，就當作喝雞湯吧。  </p>\n<h2 id=\"這本書的缺點\"><a href=\"#這本書的缺點\" class=\"headerlink\" title=\"這本書的缺點\"></a>這本書的缺點</h2><p>這本書強調的是如何成為一個工匠，<br>如何成為一個達人。<br>我知道的現實是，很多工程人員到了一定的程度就會轉換職務<br>如果你的目標是成為管理者，業務等…職務<br>我想這本書在幫助上可能會少一半。<br>畢竟這不是一本教你管理、銷售或領導的書。</p>\n<h2 id=\"最後的-mur-mur\"><a href=\"#最後的-mur-mur\" class=\"headerlink\" title=\"最後的 mur mur\"></a>最後的 mur mur</h2><p>現實上的工匠真的很少，這不是條發大財的路。<br>走起來也很辛苦，不過這是個革命的時代，<br>各行各業都在與軟體產業發生衝突與融合，<br>如果能有更多優秀的工程師，我們就不需要工程師了。</p>\n<blockquote>\n<p>鍚將會扮演它的角色，直到這個世界不再需要鍚為止，<br>然後鍚就會變成金子。  —El Alquimista</p>\n</blockquote>\n<p>期許自已和看到這篇文章的你都能成為更好的工程師。</p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<p><img src=\"/images/2019/8/apprenticeship_patterns.jpg\" alt=\"送書啦\"></p>\n<h2 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h2><p>最近公司來了幾個來自 Build School 的學員，<br>作為暑期工讀生，開發一些 Side Project ，<br>雖然工作很忙，不過我倒是對帶新人還蠻有信心的。  </p>\n<p>這些小朋友問了一些問題，讓我想到自已剛畢業和剛從資策會出來的那時候。<br>有的問題很大，大到可能要一輩子都無法解決。<br>有的問題很小，小到聽了會笑，但對他們來說可能像是眼裡的一粒沙。  </p>\n<p>我在學習的初期，最困難的問題是<strong>不知道怎麼問問題</strong>。  \n而過了一陣子後，我發現一個更糟的狀況，<strong>我不知道我有問題</strong>。  \n而這本書大致上解決了我的上述的兩個問題。</p>\n<h2 id=\"為何選擇這本書\"><a href=\"#為何選擇這本書\" class=\"headerlink\" title=\"為何選擇這本書?\"></a>為何選擇這本書?</h2><p>非常好讀，你不需要從頭讀到尾。<br>首先是每個篇幅非常的短，大概只要 5~10 分鐘就能讀完。<br>再來是除了第一章外，每一大章都會有一個地圖，<br>讓你能看見全貌。  </p>\n<h2 id=\"如何讀這本書\"><a href=\"#如何讀這本書\" class=\"headerlink\" title=\"如何讀這本書\"></a>如何讀這本書</h2><p>而每一篇都包含情境、問題、解決方案與參照，<br>情境與問題就像是這本書的 GPS ,<br>讓你知道你落在這本書的哪個點上 。<br>解決方案是通篇的主體，但是對我來說後面的行動更為重要，<br>我開始練習 Kata、寫 Blog、尋找導師大多是因這本書而開始的。  </p>\n<p>最後，都會附上相關章節的參照。<br>這非常有幫助，原因是在這張地圖上，<br>你可能會同時落在幾個點上。<br>那麼地圖與參照就會非常有幫助，你可以查找地圖發現有關連的章節，<br>也可以直接透過參照找到其它章節。  </p>\n<h2 id=\"會不會是雞湯文\"><a href=\"#會不會是雞湯文\" class=\"headerlink\" title=\"會不會是雞湯文\"></a>會不會是雞湯文</h2><p>會不會變成雞湯，其實取決於你自已。<br>書上的行動，你作了嗎 ?<br>如果不行動，就當作喝雞湯吧。  </p>\n<h2 id=\"這本書的缺點\"><a href=\"#這本書的缺點\" class=\"headerlink\" title=\"這本書的缺點\"></a>這本書的缺點</h2><p>這本書強調的是如何成為一個工匠，<br>如何成為一個達人。<br>我知道的現實是，很多工程人員到了一定的程度就會轉換職務<br>如果你的目標是成為管理者，業務等…職務<br>我想這本書在幫助上可能會少一半。<br>畢竟這不是一本教你管理、銷售或領導的書。</p>\n<h2 id=\"最後的-mur-mur\"><a href=\"#最後的-mur-mur\" class=\"headerlink\" title=\"最後的 mur mur\"></a>最後的 mur mur</h2><p>現實上的工匠真的很少，這不是條發大財的路。<br>走起來也很辛苦，不過這是個革命的時代，<br>各行各業都在與軟體產業發生衝突與融合，<br>如果能有更多優秀的工程師，我們就不需要工程師了。</p>\n<blockquote>\n<p>鍚將會扮演它的角色，直到這個世界不再需要鍚為止，<br>然後鍚就會變成金子。  —El Alquimista</p>\n</blockquote>\n<p>期許自已和看到這篇文章的你都能成為更好的工程師。</p>\n<p>(fin)</p>\n"},{"title":"[N社筆記]敏捷路上跌倒站起來 2018/11 月","date":"2018-12-04T03:14:05.000Z","_content":"\n## 2018/11/30\nPlanning 有沒有優先討論重點項目？\n1. 最先討論上個 Sprint 的 UnDone \n2. 順序等於優先權嗎？\n3. 工作是事先 Assign 好，而不是\n4. 兩個 Team 的 Backlog 放在一起，結果順序是 \n    - A Team (B Team 發呆)\n    - B Team (A Team 發呆)\n\nPO 只作明顯短期可見效果但低價的項目(沒有 Focos 價值)，如何引導 ?\n\n### Scrum Master 消失 ，Planning 沒有 Couch PO\n- Scrum Master 兼任主管\n- Scrum Master 兼任開發人員\n\n### KA 後台要中文 / 前台要英文\n- 要問 Why：KA 面對的客戶也以中文為大宗，為什麼要英文？\n\n## 2018/11/28\n> Demo 會議是由「 PO 介紹給 stackholder ?」\n還是「 Team 介紹給 PO ,有 stackholder 最好。」  \n如果可以看錄影就當作 Demo 過了，那還需要 Demo 嗎 ? \n\n\n> 三個 Team 各自有各自優先級最高的項目，這樣會不會陷入局部優化，過早進入細節 ?\n\n- 無法集中火力處理優先度最高的需求\n\n### 最大的 PO 沒進來\n會後主管和小 PO 們再討論，有好有壞？\nScrum 怎麼說?\n- 主管應該不要進來\n- PO 最好能夠進來\n- 不要在團隊裡形成小圈圈\n\n## 2018/11/26 \n### 無限~~站立~~會議之卷\n10:10 SRG 站立\n10:20 A Team 站立\n10:30 B Team 站立\n11:30 RD1 周會\n\n## 2018/11/23\n- 你需要一個旁觀者，不然只是自 high\n    - 觀查群眾的反應\n    - 客觀點出講者的優缺點\n    - 再好的內容沒有人聽也是枉然\n\n- 成為 SM 之前要小心，不要急著成為 SM (特別是你是兼職的 SM 時)\n    > 小心過早聚焦到細節，例如:安排會議/主持/作簡報\n    不然你會變成「借會議室的人」、「照表操課的 Scrum Master」\n- 用誇張口吻重複他說的理想，你就會知道他是在說理想還是說幹話\n\n## 2018/11/22\n情境:\n團隊開發會與其它團隊開發相依或衝突，導致 Release 的品質有所缺陷。\n- 用更多的會議/文件/Check List作控管，有沒有辦法從 root cause 解決問題 ?\n\n- 主管為什麼會想看「沒意義」又「不真實」的東西 ?  \n![](https://i.imgur.com/xSq4oHY.jpg)\n## 2018/11/21\n- 口頭敘述\n\n## 2018/11/19\n-  Scrum 不要拿 A 會議的時間作 B 會議的事\n    -  觀注目的\n    -  作該作的事\n    -  \n\n### 有關進步\n[運動員是否真的變得更快、更好、更強 ?](https://www.ted.com/talks/david_epstein_are_athletes_really_getting_faster_better_stronger/transcript?language=zh-tw)\n\n(fin)","source":"_posts/2018/csm/n_company_log_201811.md","raw":"---\ntitle: \"[N社筆記]敏捷路上跌倒站起來 2018/11 月\"\ndate: 2018/12/4 11:14:05\ntag:\n    - Scrum\n    - Agile\n---\n\n## 2018/11/30\nPlanning 有沒有優先討論重點項目？\n1. 最先討論上個 Sprint 的 UnDone \n2. 順序等於優先權嗎？\n3. 工作是事先 Assign 好，而不是\n4. 兩個 Team 的 Backlog 放在一起，結果順序是 \n    - A Team (B Team 發呆)\n    - B Team (A Team 發呆)\n\nPO 只作明顯短期可見效果但低價的項目(沒有 Focos 價值)，如何引導 ?\n\n### Scrum Master 消失 ，Planning 沒有 Couch PO\n- Scrum Master 兼任主管\n- Scrum Master 兼任開發人員\n\n### KA 後台要中文 / 前台要英文\n- 要問 Why：KA 面對的客戶也以中文為大宗，為什麼要英文？\n\n## 2018/11/28\n> Demo 會議是由「 PO 介紹給 stackholder ?」\n還是「 Team 介紹給 PO ,有 stackholder 最好。」  \n如果可以看錄影就當作 Demo 過了，那還需要 Demo 嗎 ? \n\n\n> 三個 Team 各自有各自優先級最高的項目，這樣會不會陷入局部優化，過早進入細節 ?\n\n- 無法集中火力處理優先度最高的需求\n\n### 最大的 PO 沒進來\n會後主管和小 PO 們再討論，有好有壞？\nScrum 怎麼說?\n- 主管應該不要進來\n- PO 最好能夠進來\n- 不要在團隊裡形成小圈圈\n\n## 2018/11/26 \n### 無限~~站立~~會議之卷\n10:10 SRG 站立\n10:20 A Team 站立\n10:30 B Team 站立\n11:30 RD1 周會\n\n## 2018/11/23\n- 你需要一個旁觀者，不然只是自 high\n    - 觀查群眾的反應\n    - 客觀點出講者的優缺點\n    - 再好的內容沒有人聽也是枉然\n\n- 成為 SM 之前要小心，不要急著成為 SM (特別是你是兼職的 SM 時)\n    > 小心過早聚焦到細節，例如:安排會議/主持/作簡報\n    不然你會變成「借會議室的人」、「照表操課的 Scrum Master」\n- 用誇張口吻重複他說的理想，你就會知道他是在說理想還是說幹話\n\n## 2018/11/22\n情境:\n團隊開發會與其它團隊開發相依或衝突，導致 Release 的品質有所缺陷。\n- 用更多的會議/文件/Check List作控管，有沒有辦法從 root cause 解決問題 ?\n\n- 主管為什麼會想看「沒意義」又「不真實」的東西 ?  \n![](https://i.imgur.com/xSq4oHY.jpg)\n## 2018/11/21\n- 口頭敘述\n\n## 2018/11/19\n-  Scrum 不要拿 A 會議的時間作 B 會議的事\n    -  觀注目的\n    -  作該作的事\n    -  \n\n### 有關進步\n[運動員是否真的變得更快、更好、更強 ?](https://www.ted.com/talks/david_epstein_are_athletes_really_getting_faster_better_stronger/transcript?language=zh-tw)\n\n(fin)","slug":"2018/csm/n_company_log_201811","published":1,"updated":"2019-06-10T14:43:28.921Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wrf00a6b0vxl5pr9z60","content":"<h2 id=\"2018-11-30\"><a href=\"#2018-11-30\" class=\"headerlink\" title=\"2018/11/30\"></a>2018/11/30</h2><p>Planning 有沒有優先討論重點項目？</p>\n<ol>\n<li>最先討論上個 Sprint 的 UnDone </li>\n<li>順序等於優先權嗎？</li>\n<li>工作是事先 Assign 好，而不是</li>\n<li>兩個 Team 的 Backlog 放在一起，結果順序是 <ul>\n<li>A Team (B Team 發呆)</li>\n<li>B Team (A Team 發呆)</li>\n</ul>\n</li>\n</ol>\n<p>PO 只作明顯短期可見效果但低價的項目(沒有 Focos 價值)，如何引導 ?</p>\n<h3 id=\"Scrum-Master-消失-，Planning-沒有-Couch-PO\"><a href=\"#Scrum-Master-消失-，Planning-沒有-Couch-PO\" class=\"headerlink\" title=\"Scrum Master 消失 ，Planning 沒有 Couch PO\"></a>Scrum Master 消失 ，Planning 沒有 Couch PO</h3><ul>\n<li>Scrum Master 兼任主管</li>\n<li>Scrum Master 兼任開發人員</li>\n</ul>\n<h3 id=\"KA-後台要中文-前台要英文\"><a href=\"#KA-後台要中文-前台要英文\" class=\"headerlink\" title=\"KA 後台要中文 / 前台要英文\"></a>KA 後台要中文 / 前台要英文</h3><ul>\n<li>要問 Why：KA 面對的客戶也以中文為大宗，為什麼要英文？</li>\n</ul>\n<h2 id=\"2018-11-28\"><a href=\"#2018-11-28\" class=\"headerlink\" title=\"2018/11/28\"></a>2018/11/28</h2><blockquote>\n<p>Demo 會議是由「 PO 介紹給 stackholder ?」<br>還是「 Team 介紹給 PO ,有 stackholder 最好。」<br>如果可以看錄影就當作 Demo 過了，那還需要 Demo 嗎 ? </p>\n</blockquote>\n<blockquote>\n<p>三個 Team 各自有各自優先級最高的項目，這樣會不會陷入局部優化，過早進入細節 ?</p>\n</blockquote>\n<ul>\n<li>無法集中火力處理優先度最高的需求</li>\n</ul>\n<h3 id=\"最大的-PO-沒進來\"><a href=\"#最大的-PO-沒進來\" class=\"headerlink\" title=\"最大的 PO 沒進來\"></a>最大的 PO 沒進來</h3><p>會後主管和小 PO 們再討論，有好有壞？<br>Scrum 怎麼說?</p>\n<ul>\n<li>主管應該不要進來</li>\n<li>PO 最好能夠進來</li>\n<li>不要在團隊裡形成小圈圈</li>\n</ul>\n<h2 id=\"2018-11-26\"><a href=\"#2018-11-26\" class=\"headerlink\" title=\"2018/11/26\"></a>2018/11/26</h2><h3 id=\"無限站立會議之卷\"><a href=\"#無限站立會議之卷\" class=\"headerlink\" title=\"無限站立會議之卷\"></a>無限<del>站立</del>會議之卷</h3><p>10:10 SRG 站立<br>10:20 A Team 站立<br>10:30 B Team 站立<br>11:30 RD1 周會</p>\n<h2 id=\"2018-11-23\"><a href=\"#2018-11-23\" class=\"headerlink\" title=\"2018/11/23\"></a>2018/11/23</h2><ul>\n<li><p>你需要一個旁觀者，不然只是自 high</p>\n<ul>\n<li>觀查群眾的反應</li>\n<li>客觀點出講者的優缺點</li>\n<li>再好的內容沒有人聽也是枉然</li>\n</ul>\n</li>\n<li><p>成為 SM 之前要小心，不要急著成為 SM (特別是你是兼職的 SM 時)</p>\n<blockquote>\n<p>小心過早聚焦到細節，例如:安排會議/主持/作簡報<br>  不然你會變成「借會議室的人」、「照表操課的 Scrum Master」</p>\n</blockquote>\n</li>\n<li><p>用誇張口吻重複他說的理想，你就會知道他是在說理想還是說幹話</p>\n</li>\n</ul>\n<h2 id=\"2018-11-22\"><a href=\"#2018-11-22\" class=\"headerlink\" title=\"2018/11/22\"></a>2018/11/22</h2><p>情境:<br>團隊開發會與其它團隊開發相依或衝突，導致 Release 的品質有所缺陷。</p>\n<ul>\n<li><p>用更多的會議/文件/Check List作控管，有沒有辦法從 root cause 解決問題 ?</p>\n</li>\n<li><p>主管為什麼會想看「沒意義」又「不真實」的東西 ?<br><img src=\"https://i.imgur.com/xSq4oHY.jpg\" alt></p>\n<h2 id=\"2018-11-21\"><a href=\"#2018-11-21\" class=\"headerlink\" title=\"2018/11/21\"></a>2018/11/21</h2></li>\n<li><p>口頭敘述</p>\n</li>\n</ul>\n<h2 id=\"2018-11-19\"><a href=\"#2018-11-19\" class=\"headerlink\" title=\"2018/11/19\"></a>2018/11/19</h2><ul>\n<li>Scrum 不要拿 A 會議的時間作 B 會議的事<ul>\n<li>觀注目的</li>\n<li>作該作的事</li>\n<li></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"有關進步\"><a href=\"#有關進步\" class=\"headerlink\" title=\"有關進步\"></a>有關進步</h3><p><a href=\"https://www.ted.com/talks/david_epstein_are_athletes_really_getting_faster_better_stronger/transcript?language=zh-tw\" target=\"_blank\" rel=\"noopener\">運動員是否真的變得更快、更好、更強 ?</a></p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"2018-11-30\"><a href=\"#2018-11-30\" class=\"headerlink\" title=\"2018/11/30\"></a>2018/11/30</h2><p>Planning 有沒有優先討論重點項目？</p>\n<ol>\n<li>最先討論上個 Sprint 的 UnDone </li>\n<li>順序等於優先權嗎？</li>\n<li>工作是事先 Assign 好，而不是</li>\n<li>兩個 Team 的 Backlog 放在一起，結果順序是 <ul>\n<li>A Team (B Team 發呆)</li>\n<li>B Team (A Team 發呆)</li>\n</ul>\n</li>\n</ol>\n<p>PO 只作明顯短期可見效果但低價的項目(沒有 Focos 價值)，如何引導 ?</p>\n<h3 id=\"Scrum-Master-消失-，Planning-沒有-Couch-PO\"><a href=\"#Scrum-Master-消失-，Planning-沒有-Couch-PO\" class=\"headerlink\" title=\"Scrum Master 消失 ，Planning 沒有 Couch PO\"></a>Scrum Master 消失 ，Planning 沒有 Couch PO</h3><ul>\n<li>Scrum Master 兼任主管</li>\n<li>Scrum Master 兼任開發人員</li>\n</ul>\n<h3 id=\"KA-後台要中文-前台要英文\"><a href=\"#KA-後台要中文-前台要英文\" class=\"headerlink\" title=\"KA 後台要中文 / 前台要英文\"></a>KA 後台要中文 / 前台要英文</h3><ul>\n<li>要問 Why：KA 面對的客戶也以中文為大宗，為什麼要英文？</li>\n</ul>\n<h2 id=\"2018-11-28\"><a href=\"#2018-11-28\" class=\"headerlink\" title=\"2018/11/28\"></a>2018/11/28</h2><blockquote>\n<p>Demo 會議是由「 PO 介紹給 stackholder ?」<br>還是「 Team 介紹給 PO ,有 stackholder 最好。」<br>如果可以看錄影就當作 Demo 過了，那還需要 Demo 嗎 ? </p>\n</blockquote>\n<blockquote>\n<p>三個 Team 各自有各自優先級最高的項目，這樣會不會陷入局部優化，過早進入細節 ?</p>\n</blockquote>\n<ul>\n<li>無法集中火力處理優先度最高的需求</li>\n</ul>\n<h3 id=\"最大的-PO-沒進來\"><a href=\"#最大的-PO-沒進來\" class=\"headerlink\" title=\"最大的 PO 沒進來\"></a>最大的 PO 沒進來</h3><p>會後主管和小 PO 們再討論，有好有壞？<br>Scrum 怎麼說?</p>\n<ul>\n<li>主管應該不要進來</li>\n<li>PO 最好能夠進來</li>\n<li>不要在團隊裡形成小圈圈</li>\n</ul>\n<h2 id=\"2018-11-26\"><a href=\"#2018-11-26\" class=\"headerlink\" title=\"2018/11/26\"></a>2018/11/26</h2><h3 id=\"無限站立會議之卷\"><a href=\"#無限站立會議之卷\" class=\"headerlink\" title=\"無限站立會議之卷\"></a>無限<del>站立</del>會議之卷</h3><p>10:10 SRG 站立<br>10:20 A Team 站立<br>10:30 B Team 站立<br>11:30 RD1 周會</p>\n<h2 id=\"2018-11-23\"><a href=\"#2018-11-23\" class=\"headerlink\" title=\"2018/11/23\"></a>2018/11/23</h2><ul>\n<li><p>你需要一個旁觀者，不然只是自 high</p>\n<ul>\n<li>觀查群眾的反應</li>\n<li>客觀點出講者的優缺點</li>\n<li>再好的內容沒有人聽也是枉然</li>\n</ul>\n</li>\n<li><p>成為 SM 之前要小心，不要急著成為 SM (特別是你是兼職的 SM 時)</p>\n<blockquote>\n<p>小心過早聚焦到細節，例如:安排會議/主持/作簡報<br>  不然你會變成「借會議室的人」、「照表操課的 Scrum Master」</p>\n</blockquote>\n</li>\n<li><p>用誇張口吻重複他說的理想，你就會知道他是在說理想還是說幹話</p>\n</li>\n</ul>\n<h2 id=\"2018-11-22\"><a href=\"#2018-11-22\" class=\"headerlink\" title=\"2018/11/22\"></a>2018/11/22</h2><p>情境:<br>團隊開發會與其它團隊開發相依或衝突，導致 Release 的品質有所缺陷。</p>\n<ul>\n<li><p>用更多的會議/文件/Check List作控管，有沒有辦法從 root cause 解決問題 ?</p>\n</li>\n<li><p>主管為什麼會想看「沒意義」又「不真實」的東西 ?<br><img src=\"https://i.imgur.com/xSq4oHY.jpg\" alt></p>\n<h2 id=\"2018-11-21\"><a href=\"#2018-11-21\" class=\"headerlink\" title=\"2018/11/21\"></a>2018/11/21</h2></li>\n<li><p>口頭敘述</p>\n</li>\n</ul>\n<h2 id=\"2018-11-19\"><a href=\"#2018-11-19\" class=\"headerlink\" title=\"2018/11/19\"></a>2018/11/19</h2><ul>\n<li>Scrum 不要拿 A 會議的時間作 B 會議的事<ul>\n<li>觀注目的</li>\n<li>作該作的事</li>\n<li></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"有關進步\"><a href=\"#有關進步\" class=\"headerlink\" title=\"有關進步\"></a>有關進步</h3><p><a href=\"https://www.ted.com/talks/david_epstein_are_athletes_really_getting_faster_better_stronger/transcript?language=zh-tw\" target=\"_blank\" rel=\"noopener\">運動員是否真的變得更快、更好、更強 ?</a></p>\n<p>(fin)</p>\n"},{"title":"CSM 之後 Scrum 總結","date":"2018-12-27T03:29:45.000Z","_content":"\n- 什麼是 Scrum ?\n- Scrum 的理想 ?\n- Scrum 怎麼導入 ?\n- 現實的殘酷\n- 仍然存在的疑惑 ?\n\n## 什麼是 Scrum\n\n「什麼是 Scrum？」，在這之前我們先問一下「為什麼要 Scrum ？」    \n「Scrum 之前我們怎麼進行專案的？」、「Scrum 之前我們怎麼管理團隊的？」  \n層層的組織架構、層層的管理人員、層層規劃設計開發…\n\n本來都好好的，為什麼現在不 work 了？\n\n時代正在改變，軟體、網路、行動裝置等…各種技術的成熟，使得整個社會，  \n不論工業、商業已經往下一個階段邁進，  \n這是一個**VUCA**(多變(Volatile)、不確定(Uncertain)、複雜(Complex) 與混沌不明(Ambiguous))的時代，  \n新的科技帶來新的生活習慣與消費行為，同時機會也再此產生，  \n不論是巨象還是螞蟻都必須想辦法求生存，而快速適應與改變的能力，成為這個時代必備的能力。  \n\n不論是 Agile 或是 Scrum 都是要讓你適應變化，並且活下去。  \n\n而 Scrum 是一個框架，三個大原則，透明(Transparency)、檢驗(Inspection)、調適性(Adaptation)    \n簡單易學，卻難以精通，這句話說得明白一點，就是很容易畫虎不成反類犬。\n而 Scrum Guide 用了一句簡單帶過，  \n「Scrum’s roles, events, artifacts, and rules are immutable and although    \nimplementing only parts of Scrum is possible, the result is not Scrum.    \nScrum exists only in its entirety and functions well as a container   \nfor other techniques, methodologies, and practices.」  \n\n常見的「Scrum 自助餐」其實不是 Scrum 。\n\n### 透明(Transparency)\n\n透明的目的是什麼？避免殼倉？曝露風險？取得共識？\n\nCMS 課程帶給我一個很重要的學習，是個很簡單的老故事就說過的道理。  \n「盲人摸象」，大家應該都聽過這個故事吧，  \n有的人摸到了扇子(耳朵)、有人摸到牆壁(身體)、有人摸到柱子(腿)、有人摸到水管(鼻子)...  \n如果大象是你的產品、你的商業模式、你的生存武器，  \n那麼展現「雅量」就不是一件很好的事了，  \n當你的 DBA 說了扇子、RD 說了牆壁，PO 說了柱子而 QA 說了水管，  \n那麼這些的加總就是你的大象(產品)了嗎 ?  \n\n![盲人的大象](/images/2018/csm/elephant.jpg)\n\n**「所有人說都是對，排列組合也是對的，但結果是錯的。」**，\n怎麼解決這個問題？\n1. 讓盲人看見\n2. 讓盲人摸得到別人的區塊\n\n透明的目的是為了**看見目標、取得共識**，\n還記得多少浪費生命的會議，有多少會前會？有多少會後討論嗎？  \n又或是大家都說好，作出來卻是半成品、廢品嗎 ？  \n\n**取得共識** 是困難的，Scurm 提供的機制，  \n讓回饋在不同的活動(會議)中由不同的角色中產生，  \n但是如果成員不願意講，這些會議就一點意義也沒有了。  \n\n要如何讓成員願意發言？  \n**信任、信賴、安全感**，但是這需要時間去打造這樣的文化與環境。  \n事實上不會喊完口號，成員就彼此互相信任，生產力大爆發。  \n如何打造一個這樣的環境？是管理職真正的責任所在。\n但這種無法立竿見影的工作，喊口號的很多，作的人很少。\n\n### 檢驗(Inspection)與調適性(Adaptation)\n\n透明在檢驗與調適性之前，是有重要的意義的。  \n也只有透明，才能讓事實擺在眼前，  \n**不是基於事實的檢驗與修正，只是自慰而已。**  \n\n無奈的是這個世界是如此的複雜，你幾乎不可能真的看見大象(全貌)，  \n曾經有個創業的朋友說了一個「敏捷無用論」，  \n\n沒錯，他說得對。  \n**Agile 與 Scrum 從來不是銀子彈** ，如果要迷信「敏捷」不如迷信「沒有銀彈」吧。  \n你必需依賴你的情境(Context)來決定使用什麼方法，  \n在他的情境當中，他們要作得項目已經很明確了，而資金是不足的，所以每分每秒對他們都非常重要，  \n如果要照表操課這些會議，恐怕會佔據大部份的時間。  \n但是這些會議都有其背後的意義與目的，如果團隊能與商業目標緊密結合，  \n甚至是一體同心(比如說:你就是老闆又是開發人員)，那麼梳理需求是不是能快速的在幾分鐘內完成 ？  \n如果你們每個人每時每刻都在一起工作，分享彼此的工作內容，那麼需不需要「每天」開個例會同步資訊呢 ？  \n\n反過來說，他說得也不對。  \n在每個會議與每個會議的產出物的背後都有一個目的與意義，  \n如果不能讓梳理需求、衝刺開發、展現結果與收取回饋時時發生，  \n那麼這些會議是最好的機會，更重要的事是 Scrum 給團隊自主權，決定進行的方式，  \n如果有進行這些活動，卻沒有帶來相對的效益，這背後是不是對 Scrum 沒有深刻理解所造成的呢 ？  \n\n這種都對都錯的「盲人摸象」時時發生，  \n重點是怎麼作「取捨」、怎麼作「選擇」。  \n也是「Adaptation」的意義，你要欠一些債，爭取提早上市的時間？  \n你要將一個團隊當作棄子，為了作出一個 POC？  \n這都是選擇，**你是有意識的選擇，還是無意識的呢？**  \n\n如果你是屬於身不由已的那方，被選擇得對象，那麼你要作出什麼選擇？  \n讓自已的生存機會提高呢？  \n\n## Scrum 的理想\n\nScrum 本身僅僅是個框架，它給了整個團隊非常彈性的空間，  \n但是仍然有著一些限制。\n\n### 角色的定位\n\n#### Scrum Master 要作什麼 ？  \n\nScrum Master 的這個角色，不存在一般的組織架構之中，  \n這個導致 Scrum Master 的養成非常不易，  \n偏偏「Master」這個名詞，使得人們對 Scrum Master 有不切實際的期待與依賴  \n「Scrum Master」本身是個教練型的角色，需要旁觀者的客觀心態，\n需要觀察記錄個人、團隊乃至於整間公司文化，  \n(「記錄與側錄」是重要的，這能讓你從另一個旁觀者角度看事情，不要只有一個視角。)  \n同時又需要各種方法去教導、引導團隊，這包含「對 Scurm 的理解與實踐」與「工程實踐」  \n有太多 Scurm Master 常常會犯的錯如下:\n- 淪為安排會議的助理角色\n- 過度將焦點放在 Scurm Master 本身\n- 照表操課的帶四大會議，而不是觀注在團隊的成長與過程\n- 缺乏工程實踐的能力與經驗，導致在引入實踐時淪為空話\n- 身兼不同的角色，造成角色錯亂\n- 無法存活導致被炒，即使有冒出新芽的改變也隨之消失\n- 只顧著存活而無法帶來實踐改變，純粹變成招覽「人材」用的蜜糖(HR:我們有屎逛，很潮喔;進去後才發現是小瀑布，真的很潮)\n\n#### PM 可以轉型 PO 嗎 ？\n\n簡單的說，當然可以。\n**你想改變的是你的 Title 還是你的作事方法 ？**\n理想的 PO 應該更觀注在產品上面，我們希望你會產品有想法、有願景甚至有策略，  \n如果沒有策略，只是想作一些嚐試也是可以的。  \n\n第二點，排序，**「我全都要」是不負責任的說法，是大頭症而且偏離事實的中二病**  \n如果團隊也承諾「我全都給」，就要小心整個組織是不是落入「國王的新衣」，集體自我欺騙的困境了  \nWalking Skeleton 是一個非常好用的手法，在探索出你的商業策略之後，  \n要找出關鍵的支柱，儘可能快速的推出你的 MVP ，  \n實際上如果你要你的產品有 Value，你是很難在一個衝刺中完成一個可發佈的產品的  \n(Demo或概念介紹影片是有可能的，如果你也走記者會趨動開發的話…)。  \n\n我們理想上不要有半成品，或是讓半成品儘可能的少，存在時間儘可能的短，  \n我還蠻推崇 User Story Mapping 在排序上的作法，  \n「二分法」少了它就不行的功能、基礎建設就作，其它就不作。  \n讓 Walking Skeleton 儘早的串通，拿掉所有不必要的功能，儘可能的輕薄。  \n端看你的 DoD，要達成 End to End 的 Walking Skeleton。  \n但是有時候即使你拿掉所有非必要的東西，也需要多個衝刺才能完成 Walking Skeleton，  \n當你完成之後，你的每個開發就可以在這基礎上進行增量開發，而且每次都可以作端到端的完整測試，  \n持續的開發增量，直到滿足 PO 對 MVP 定義，才有 Release 的可能。  \n相同的手法在團隊拆解 Task 也是可行的。\n\n**MVP遠比你的想得大的多**  \n\n歸納一下重點:\n- 想清楚產品現在最重要的策略\n- 由策略 Break Down 出 Product Backlog Items (User Story)\n- 只有作與不作的優先權\n- 只觀注要作 PBI 與 DoD\n- 找到 Walking Skeleton，在一開始儘可能的薄(這個手法適用 PBI 與 Task)\n- 事實上 MVP 仍然很大，大到你不一定能在一個衝刺中完成\n- 問兩個問題，什麼讓我們變慢？什麼能讓我們更快？\n- 增量不等於 Release\n- PO 要觀注產品的價值，與市場的變化\n- 不要 Management 不要 Dispatch，只要排序並約定最上面的最先完成\n- 進入衝刺後就不要異動排序\n- 保留插件泳道可以帶來一些彈性，但是也是有代價的，請確保放入泳道的 Task 比衝刺的 PBI 更有價值\n\n## 導入\n\n這幾年 Scurm 或是 Agile 在台灣各地相當盛行，  \n這是個好事，但同時也意味著各種妖魔鬼怪的出現，  \n認証單位的出現，品質低下的 WorkShop 出現，  \n同溫層自 high 喊口號的出現，這些都是一些壞味道，  \n敏捷是很科學的作法， Scurm 的經驗主義也是有其理論基礎。  \n\n在這之上如果變成直銷或是宗教化的宣傳，  \n我個人認是非常不好的，甚至會成為導入的反動力，  \n我常常在想，滿牆的便利貼與宗教崇拜這樣不是與彊屍道長沒有兩異嗎 ？\n\n我的建議的導入方法\n- 先觀察找到瓶頸或 Key Man\n- 爭取組織關鍵人物的支持，如果有老闆的支持更好\n- 帶來變化與作法，更勝於帶來新名詞\n- 一直講一直講，通常講到對方不耐煩才只是開始\n\n## 現實的殘酷 與 仍然存在的疑惑 ?\n\n最後，記錄一些現在遇到不解的問題\n\n### 團隊的不穩定\n\n不論是個人的生涯規劃，或是內部的組織調動，  \n都會讓團隊的成員組成變得不穩定，而基於經驗主義的 Scurm，  \n如果每個衝刺的團隊組成都不一致，會不會帶來太多的變數 ？  \n甚至團隊成員是抱著打工的心態，而 Scrum Master 也當作這些成員是別人家的孩子，  \n而不關心其成長。這樣總體的團隊能成長嗎 ？\n\n### 過多的變數\n\n承上題，在實驗的過程中，我們會希望儘可能的控制變因，  \n但是實務上，包含人員、工作內容（可能過度偏向某個 Skill Set）、假期、Deadline與項目的複雜度/範圍等…  \n都會帶來很大的變因，這樣的估點是否仍然有意義 ？\n\n### 規模化\n\n理想的 Scrum 想達到有效溝通，建議人數要在 5~9 人，實際上整個組織一定會遠超這個人數，  \n雖然現在有 Less 等 solution，但是我仍沒有理解與體會到其帶來的價值，  \n因此仍然有所疑惑。\n\n### 跨職能與自組織\n\n本身產品的覆蓋範圍就很大，團隊人數限制在 5~9 之時，\n要完成 End to End 變得有些不切實際與困難。  \n一方面現有的產品欠了相當大的**技術債**，而團隊欠了相當大的**學習債**，  \n團隊成員在開發上已經有點捉襟見肘，還要跨領域的學習，又要深入鑽研某項技能。  \n\n如何讓團隊認知到清還債務能讓我們變快，並且在工程實踐上達到要求也是需要時間，  \n而成員確在職涯規劃上，2~3年就換個工作，而花了時間培養的戰力瞬間飛滅。  \n\n更甚是組織內部寧可用便宜的人材，換掉好不容易養成的人才。  \n對此我深感無力，跨職能與自組織最後也是淪為口號。  \n\n![全貌](/images/2018/csm/overview.JPG)\n\n以上，我仍在觀察、記錄…\n並且尋找機會，「Change Your Company」。  \n**做正確的事，然後等著被炒**\n\n(fin)","source":"_posts/2018/csm/to_sum_up_scrum.md","raw":"---\ntitle: \"CSM 之後 Scrum 總結\"\ndate: 2018/12/27 11:29:45\ntag:\n    - Scrum\n    - Agile\n---\n\n- 什麼是 Scrum ?\n- Scrum 的理想 ?\n- Scrum 怎麼導入 ?\n- 現實的殘酷\n- 仍然存在的疑惑 ?\n\n## 什麼是 Scrum\n\n「什麼是 Scrum？」，在這之前我們先問一下「為什麼要 Scrum ？」    \n「Scrum 之前我們怎麼進行專案的？」、「Scrum 之前我們怎麼管理團隊的？」  \n層層的組織架構、層層的管理人員、層層規劃設計開發…\n\n本來都好好的，為什麼現在不 work 了？\n\n時代正在改變，軟體、網路、行動裝置等…各種技術的成熟，使得整個社會，  \n不論工業、商業已經往下一個階段邁進，  \n這是一個**VUCA**(多變(Volatile)、不確定(Uncertain)、複雜(Complex) 與混沌不明(Ambiguous))的時代，  \n新的科技帶來新的生活習慣與消費行為，同時機會也再此產生，  \n不論是巨象還是螞蟻都必須想辦法求生存，而快速適應與改變的能力，成為這個時代必備的能力。  \n\n不論是 Agile 或是 Scrum 都是要讓你適應變化，並且活下去。  \n\n而 Scrum 是一個框架，三個大原則，透明(Transparency)、檢驗(Inspection)、調適性(Adaptation)    \n簡單易學，卻難以精通，這句話說得明白一點，就是很容易畫虎不成反類犬。\n而 Scrum Guide 用了一句簡單帶過，  \n「Scrum’s roles, events, artifacts, and rules are immutable and although    \nimplementing only parts of Scrum is possible, the result is not Scrum.    \nScrum exists only in its entirety and functions well as a container   \nfor other techniques, methodologies, and practices.」  \n\n常見的「Scrum 自助餐」其實不是 Scrum 。\n\n### 透明(Transparency)\n\n透明的目的是什麼？避免殼倉？曝露風險？取得共識？\n\nCMS 課程帶給我一個很重要的學習，是個很簡單的老故事就說過的道理。  \n「盲人摸象」，大家應該都聽過這個故事吧，  \n有的人摸到了扇子(耳朵)、有人摸到牆壁(身體)、有人摸到柱子(腿)、有人摸到水管(鼻子)...  \n如果大象是你的產品、你的商業模式、你的生存武器，  \n那麼展現「雅量」就不是一件很好的事了，  \n當你的 DBA 說了扇子、RD 說了牆壁，PO 說了柱子而 QA 說了水管，  \n那麼這些的加總就是你的大象(產品)了嗎 ?  \n\n![盲人的大象](/images/2018/csm/elephant.jpg)\n\n**「所有人說都是對，排列組合也是對的，但結果是錯的。」**，\n怎麼解決這個問題？\n1. 讓盲人看見\n2. 讓盲人摸得到別人的區塊\n\n透明的目的是為了**看見目標、取得共識**，\n還記得多少浪費生命的會議，有多少會前會？有多少會後討論嗎？  \n又或是大家都說好，作出來卻是半成品、廢品嗎 ？  \n\n**取得共識** 是困難的，Scurm 提供的機制，  \n讓回饋在不同的活動(會議)中由不同的角色中產生，  \n但是如果成員不願意講，這些會議就一點意義也沒有了。  \n\n要如何讓成員願意發言？  \n**信任、信賴、安全感**，但是這需要時間去打造這樣的文化與環境。  \n事實上不會喊完口號，成員就彼此互相信任，生產力大爆發。  \n如何打造一個這樣的環境？是管理職真正的責任所在。\n但這種無法立竿見影的工作，喊口號的很多，作的人很少。\n\n### 檢驗(Inspection)與調適性(Adaptation)\n\n透明在檢驗與調適性之前，是有重要的意義的。  \n也只有透明，才能讓事實擺在眼前，  \n**不是基於事實的檢驗與修正，只是自慰而已。**  \n\n無奈的是這個世界是如此的複雜，你幾乎不可能真的看見大象(全貌)，  \n曾經有個創業的朋友說了一個「敏捷無用論」，  \n\n沒錯，他說得對。  \n**Agile 與 Scrum 從來不是銀子彈** ，如果要迷信「敏捷」不如迷信「沒有銀彈」吧。  \n你必需依賴你的情境(Context)來決定使用什麼方法，  \n在他的情境當中，他們要作得項目已經很明確了，而資金是不足的，所以每分每秒對他們都非常重要，  \n如果要照表操課這些會議，恐怕會佔據大部份的時間。  \n但是這些會議都有其背後的意義與目的，如果團隊能與商業目標緊密結合，  \n甚至是一體同心(比如說:你就是老闆又是開發人員)，那麼梳理需求是不是能快速的在幾分鐘內完成 ？  \n如果你們每個人每時每刻都在一起工作，分享彼此的工作內容，那麼需不需要「每天」開個例會同步資訊呢 ？  \n\n反過來說，他說得也不對。  \n在每個會議與每個會議的產出物的背後都有一個目的與意義，  \n如果不能讓梳理需求、衝刺開發、展現結果與收取回饋時時發生，  \n那麼這些會議是最好的機會，更重要的事是 Scrum 給團隊自主權，決定進行的方式，  \n如果有進行這些活動，卻沒有帶來相對的效益，這背後是不是對 Scrum 沒有深刻理解所造成的呢 ？  \n\n這種都對都錯的「盲人摸象」時時發生，  \n重點是怎麼作「取捨」、怎麼作「選擇」。  \n也是「Adaptation」的意義，你要欠一些債，爭取提早上市的時間？  \n你要將一個團隊當作棄子，為了作出一個 POC？  \n這都是選擇，**你是有意識的選擇，還是無意識的呢？**  \n\n如果你是屬於身不由已的那方，被選擇得對象，那麼你要作出什麼選擇？  \n讓自已的生存機會提高呢？  \n\n## Scrum 的理想\n\nScrum 本身僅僅是個框架，它給了整個團隊非常彈性的空間，  \n但是仍然有著一些限制。\n\n### 角色的定位\n\n#### Scrum Master 要作什麼 ？  \n\nScrum Master 的這個角色，不存在一般的組織架構之中，  \n這個導致 Scrum Master 的養成非常不易，  \n偏偏「Master」這個名詞，使得人們對 Scrum Master 有不切實際的期待與依賴  \n「Scrum Master」本身是個教練型的角色，需要旁觀者的客觀心態，\n需要觀察記錄個人、團隊乃至於整間公司文化，  \n(「記錄與側錄」是重要的，這能讓你從另一個旁觀者角度看事情，不要只有一個視角。)  \n同時又需要各種方法去教導、引導團隊，這包含「對 Scurm 的理解與實踐」與「工程實踐」  \n有太多 Scurm Master 常常會犯的錯如下:\n- 淪為安排會議的助理角色\n- 過度將焦點放在 Scurm Master 本身\n- 照表操課的帶四大會議，而不是觀注在團隊的成長與過程\n- 缺乏工程實踐的能力與經驗，導致在引入實踐時淪為空話\n- 身兼不同的角色，造成角色錯亂\n- 無法存活導致被炒，即使有冒出新芽的改變也隨之消失\n- 只顧著存活而無法帶來實踐改變，純粹變成招覽「人材」用的蜜糖(HR:我們有屎逛，很潮喔;進去後才發現是小瀑布，真的很潮)\n\n#### PM 可以轉型 PO 嗎 ？\n\n簡單的說，當然可以。\n**你想改變的是你的 Title 還是你的作事方法 ？**\n理想的 PO 應該更觀注在產品上面，我們希望你會產品有想法、有願景甚至有策略，  \n如果沒有策略，只是想作一些嚐試也是可以的。  \n\n第二點，排序，**「我全都要」是不負責任的說法，是大頭症而且偏離事實的中二病**  \n如果團隊也承諾「我全都給」，就要小心整個組織是不是落入「國王的新衣」，集體自我欺騙的困境了  \nWalking Skeleton 是一個非常好用的手法，在探索出你的商業策略之後，  \n要找出關鍵的支柱，儘可能快速的推出你的 MVP ，  \n實際上如果你要你的產品有 Value，你是很難在一個衝刺中完成一個可發佈的產品的  \n(Demo或概念介紹影片是有可能的，如果你也走記者會趨動開發的話…)。  \n\n我們理想上不要有半成品，或是讓半成品儘可能的少，存在時間儘可能的短，  \n我還蠻推崇 User Story Mapping 在排序上的作法，  \n「二分法」少了它就不行的功能、基礎建設就作，其它就不作。  \n讓 Walking Skeleton 儘早的串通，拿掉所有不必要的功能，儘可能的輕薄。  \n端看你的 DoD，要達成 End to End 的 Walking Skeleton。  \n但是有時候即使你拿掉所有非必要的東西，也需要多個衝刺才能完成 Walking Skeleton，  \n當你完成之後，你的每個開發就可以在這基礎上進行增量開發，而且每次都可以作端到端的完整測試，  \n持續的開發增量，直到滿足 PO 對 MVP 定義，才有 Release 的可能。  \n相同的手法在團隊拆解 Task 也是可行的。\n\n**MVP遠比你的想得大的多**  \n\n歸納一下重點:\n- 想清楚產品現在最重要的策略\n- 由策略 Break Down 出 Product Backlog Items (User Story)\n- 只有作與不作的優先權\n- 只觀注要作 PBI 與 DoD\n- 找到 Walking Skeleton，在一開始儘可能的薄(這個手法適用 PBI 與 Task)\n- 事實上 MVP 仍然很大，大到你不一定能在一個衝刺中完成\n- 問兩個問題，什麼讓我們變慢？什麼能讓我們更快？\n- 增量不等於 Release\n- PO 要觀注產品的價值，與市場的變化\n- 不要 Management 不要 Dispatch，只要排序並約定最上面的最先完成\n- 進入衝刺後就不要異動排序\n- 保留插件泳道可以帶來一些彈性，但是也是有代價的，請確保放入泳道的 Task 比衝刺的 PBI 更有價值\n\n## 導入\n\n這幾年 Scurm 或是 Agile 在台灣各地相當盛行，  \n這是個好事，但同時也意味著各種妖魔鬼怪的出現，  \n認証單位的出現，品質低下的 WorkShop 出現，  \n同溫層自 high 喊口號的出現，這些都是一些壞味道，  \n敏捷是很科學的作法， Scurm 的經驗主義也是有其理論基礎。  \n\n在這之上如果變成直銷或是宗教化的宣傳，  \n我個人認是非常不好的，甚至會成為導入的反動力，  \n我常常在想，滿牆的便利貼與宗教崇拜這樣不是與彊屍道長沒有兩異嗎 ？\n\n我的建議的導入方法\n- 先觀察找到瓶頸或 Key Man\n- 爭取組織關鍵人物的支持，如果有老闆的支持更好\n- 帶來變化與作法，更勝於帶來新名詞\n- 一直講一直講，通常講到對方不耐煩才只是開始\n\n## 現實的殘酷 與 仍然存在的疑惑 ?\n\n最後，記錄一些現在遇到不解的問題\n\n### 團隊的不穩定\n\n不論是個人的生涯規劃，或是內部的組織調動，  \n都會讓團隊的成員組成變得不穩定，而基於經驗主義的 Scurm，  \n如果每個衝刺的團隊組成都不一致，會不會帶來太多的變數 ？  \n甚至團隊成員是抱著打工的心態，而 Scrum Master 也當作這些成員是別人家的孩子，  \n而不關心其成長。這樣總體的團隊能成長嗎 ？\n\n### 過多的變數\n\n承上題，在實驗的過程中，我們會希望儘可能的控制變因，  \n但是實務上，包含人員、工作內容（可能過度偏向某個 Skill Set）、假期、Deadline與項目的複雜度/範圍等…  \n都會帶來很大的變因，這樣的估點是否仍然有意義 ？\n\n### 規模化\n\n理想的 Scrum 想達到有效溝通，建議人數要在 5~9 人，實際上整個組織一定會遠超這個人數，  \n雖然現在有 Less 等 solution，但是我仍沒有理解與體會到其帶來的價值，  \n因此仍然有所疑惑。\n\n### 跨職能與自組織\n\n本身產品的覆蓋範圍就很大，團隊人數限制在 5~9 之時，\n要完成 End to End 變得有些不切實際與困難。  \n一方面現有的產品欠了相當大的**技術債**，而團隊欠了相當大的**學習債**，  \n團隊成員在開發上已經有點捉襟見肘，還要跨領域的學習，又要深入鑽研某項技能。  \n\n如何讓團隊認知到清還債務能讓我們變快，並且在工程實踐上達到要求也是需要時間，  \n而成員確在職涯規劃上，2~3年就換個工作，而花了時間培養的戰力瞬間飛滅。  \n\n更甚是組織內部寧可用便宜的人材，換掉好不容易養成的人才。  \n對此我深感無力，跨職能與自組織最後也是淪為口號。  \n\n![全貌](/images/2018/csm/overview.JPG)\n\n以上，我仍在觀察、記錄…\n並且尋找機會，「Change Your Company」。  \n**做正確的事，然後等著被炒**\n\n(fin)","slug":"2018/csm/to_sum_up_scrum","published":1,"updated":"2019-06-10T14:43:28.922Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wri00a9b0vxrsth08e0","content":"<ul>\n<li>什麼是 Scrum ?</li>\n<li>Scrum 的理想 ?</li>\n<li>Scrum 怎麼導入 ?</li>\n<li>現實的殘酷</li>\n<li>仍然存在的疑惑 ?</li>\n</ul>\n<h2 id=\"什麼是-Scrum\"><a href=\"#什麼是-Scrum\" class=\"headerlink\" title=\"什麼是 Scrum\"></a>什麼是 Scrum</h2><p>「什麼是 Scrum？」，在這之前我們先問一下「為什麼要 Scrum ？」<br>「Scrum 之前我們怎麼進行專案的？」、「Scrum 之前我們怎麼管理團隊的？」<br>層層的組織架構、層層的管理人員、層層規劃設計開發…</p>\n<p>本來都好好的，為什麼現在不 work 了？</p>\n<p>時代正在改變，軟體、網路、行動裝置等…各種技術的成熟，使得整個社會，<br>不論工業、商業已經往下一個階段邁進，<br>這是一個<strong>VUCA</strong>(多變(Volatile)、不確定(Uncertain)、複雜(Complex) 與混沌不明(Ambiguous))的時代，<br>新的科技帶來新的生活習慣與消費行為，同時機會也再此產生，<br>不論是巨象還是螞蟻都必須想辦法求生存，而快速適應與改變的能力，成為這個時代必備的能力。  </p>\n<p>不論是 Agile 或是 Scrum 都是要讓你適應變化，並且活下去。  </p>\n<p>而 Scrum 是一個框架，三個大原則，透明(Transparency)、檢驗(Inspection)、調適性(Adaptation)<br>簡單易學，卻難以精通，這句話說得明白一點，就是很容易畫虎不成反類犬。<br>而 Scrum Guide 用了一句簡單帶過，<br>「Scrum’s roles, events, artifacts, and rules are immutable and although<br>implementing only parts of Scrum is possible, the result is not Scrum.<br>Scrum exists only in its entirety and functions well as a container<br>for other techniques, methodologies, and practices.」  </p>\n<p>常見的「Scrum 自助餐」其實不是 Scrum 。</p>\n<h3 id=\"透明-Transparency\"><a href=\"#透明-Transparency\" class=\"headerlink\" title=\"透明(Transparency)\"></a>透明(Transparency)</h3><p>透明的目的是什麼？避免殼倉？曝露風險？取得共識？</p>\n<p>CMS 課程帶給我一個很重要的學習，是個很簡單的老故事就說過的道理。<br>「盲人摸象」，大家應該都聽過這個故事吧，<br>有的人摸到了扇子(耳朵)、有人摸到牆壁(身體)、有人摸到柱子(腿)、有人摸到水管(鼻子)…<br>如果大象是你的產品、你的商業模式、你的生存武器，<br>那麼展現「雅量」就不是一件很好的事了，<br>當你的 DBA 說了扇子、RD 說了牆壁，PO 說了柱子而 QA 說了水管，<br>那麼這些的加總就是你的大象(產品)了嗎 ?  </p>\n<p><img src=\"/images/2018/csm/elephant.jpg\" alt=\"盲人的大象\"></p>\n<p><strong>「所有人說都是對，排列組合也是對的，但結果是錯的。」</strong>，\n怎麼解決這個問題？</p>\n<ol>\n<li>讓盲人看見</li>\n<li>讓盲人摸得到別人的區塊</li>\n</ol>\n<p>透明的目的是為了<strong>看見目標、取得共識</strong>，\n還記得多少浪費生命的會議，有多少會前會？有多少會後討論嗎？<br>又或是大家都說好，作出來卻是半成品、廢品嗎 ？  </p>\n<p><strong>取得共識</strong> 是困難的，Scurm 提供的機制，<br>讓回饋在不同的活動(會議)中由不同的角色中產生，<br>但是如果成員不願意講，這些會議就一點意義也沒有了。  </p>\n<p>要如何讓成員願意發言？<br><strong>信任、信賴、安全感</strong>，但是這需要時間去打造這樣的文化與環境。<br>事實上不會喊完口號，成員就彼此互相信任，生產力大爆發。<br>如何打造一個這樣的環境？是管理職真正的責任所在。<br>但這種無法立竿見影的工作，喊口號的很多，作的人很少。</p>\n<h3 id=\"檢驗-Inspection-與調適性-Adaptation\"><a href=\"#檢驗-Inspection-與調適性-Adaptation\" class=\"headerlink\" title=\"檢驗(Inspection)與調適性(Adaptation)\"></a>檢驗(Inspection)與調適性(Adaptation)</h3><p>透明在檢驗與調適性之前，是有重要的意義的。<br>也只有透明，才能讓事實擺在眼前，<br><strong>不是基於事實的檢驗與修正，只是自慰而已。</strong>  </p>\n<p>無奈的是這個世界是如此的複雜，你幾乎不可能真的看見大象(全貌)，<br>曾經有個創業的朋友說了一個「敏捷無用論」，  </p>\n<p>沒錯，他說得對。<br><strong>Agile 與 Scrum 從來不是銀子彈</strong> ，如果要迷信「敏捷」不如迷信「沒有銀彈」吧。<br>你必需依賴你的情境(Context)來決定使用什麼方法，<br>在他的情境當中，他們要作得項目已經很明確了，而資金是不足的，所以每分每秒對他們都非常重要，<br>如果要照表操課這些會議，恐怕會佔據大部份的時間。<br>但是這些會議都有其背後的意義與目的，如果團隊能與商業目標緊密結合，<br>甚至是一體同心(比如說:你就是老闆又是開發人員)，那麼梳理需求是不是能快速的在幾分鐘內完成 ？<br>如果你們每個人每時每刻都在一起工作，分享彼此的工作內容，那麼需不需要「每天」開個例會同步資訊呢 ？  </p>\n<p>反過來說，他說得也不對。<br>在每個會議與每個會議的產出物的背後都有一個目的與意義，<br>如果不能讓梳理需求、衝刺開發、展現結果與收取回饋時時發生，<br>那麼這些會議是最好的機會，更重要的事是 Scrum 給團隊自主權，決定進行的方式，<br>如果有進行這些活動，卻沒有帶來相對的效益，這背後是不是對 Scrum 沒有深刻理解所造成的呢 ？  </p>\n<p>這種都對都錯的「盲人摸象」時時發生，<br>重點是怎麼作「取捨」、怎麼作「選擇」。<br>也是「Adaptation」的意義，你要欠一些債，爭取提早上市的時間？<br>你要將一個團隊當作棄子，為了作出一個 POC？<br>這都是選擇，<strong>你是有意識的選擇，還是無意識的呢？</strong>  </p>\n<p>如果你是屬於身不由已的那方，被選擇得對象，那麼你要作出什麼選擇？<br>讓自已的生存機會提高呢？  </p>\n<h2 id=\"Scrum-的理想\"><a href=\"#Scrum-的理想\" class=\"headerlink\" title=\"Scrum 的理想\"></a>Scrum 的理想</h2><p>Scrum 本身僅僅是個框架，它給了整個團隊非常彈性的空間，<br>但是仍然有著一些限制。</p>\n<h3 id=\"角色的定位\"><a href=\"#角色的定位\" class=\"headerlink\" title=\"角色的定位\"></a>角色的定位</h3><h4 id=\"Scrum-Master-要作什麼-？\"><a href=\"#Scrum-Master-要作什麼-？\" class=\"headerlink\" title=\"Scrum Master 要作什麼 ？\"></a>Scrum Master 要作什麼 ？</h4><p>Scrum Master 的這個角色，不存在一般的組織架構之中，<br>這個導致 Scrum Master 的養成非常不易，<br>偏偏「Master」這個名詞，使得人們對 Scrum Master 有不切實際的期待與依賴<br>「Scrum Master」本身是個教練型的角色，需要旁觀者的客觀心態，<br>需要觀察記錄個人、團隊乃至於整間公司文化，<br>(「記錄與側錄」是重要的，這能讓你從另一個旁觀者角度看事情，不要只有一個視角。)<br>同時又需要各種方法去教導、引導團隊，這包含「對 Scurm 的理解與實踐」與「工程實踐」<br>有太多 Scurm Master 常常會犯的錯如下:</p>\n<ul>\n<li>淪為安排會議的助理角色</li>\n<li>過度將焦點放在 Scurm Master 本身</li>\n<li>照表操課的帶四大會議，而不是觀注在團隊的成長與過程</li>\n<li>缺乏工程實踐的能力與經驗，導致在引入實踐時淪為空話</li>\n<li>身兼不同的角色，造成角色錯亂</li>\n<li>無法存活導致被炒，即使有冒出新芽的改變也隨之消失</li>\n<li>只顧著存活而無法帶來實踐改變，純粹變成招覽「人材」用的蜜糖(HR:我們有屎逛，很潮喔;進去後才發現是小瀑布，真的很潮)</li>\n</ul>\n<h4 id=\"PM-可以轉型-PO-嗎-？\"><a href=\"#PM-可以轉型-PO-嗎-？\" class=\"headerlink\" title=\"PM 可以轉型 PO 嗎 ？\"></a>PM 可以轉型 PO 嗎 ？</h4><p>簡單的說，當然可以。<br><strong>你想改變的是你的 Title 還是你的作事方法 ？</strong><br>理想的 PO 應該更觀注在產品上面，我們希望你會產品有想法、有願景甚至有策略，<br>如果沒有策略，只是想作一些嚐試也是可以的。  </p>\n<p>第二點，排序，<strong>「我全都要」是不負責任的說法，是大頭症而且偏離事實的中二病</strong><br>如果團隊也承諾「我全都給」，就要小心整個組織是不是落入「國王的新衣」，集體自我欺騙的困境了<br>Walking Skeleton 是一個非常好用的手法，在探索出你的商業策略之後，<br>要找出關鍵的支柱，儘可能快速的推出你的 MVP ，<br>實際上如果你要你的產品有 Value，你是很難在一個衝刺中完成一個可發佈的產品的<br>(Demo或概念介紹影片是有可能的，如果你也走記者會趨動開發的話…)。  </p>\n<p>我們理想上不要有半成品，或是讓半成品儘可能的少，存在時間儘可能的短，<br>我還蠻推崇 User Story Mapping 在排序上的作法，<br>「二分法」少了它就不行的功能、基礎建設就作，其它就不作。<br>讓 Walking Skeleton 儘早的串通，拿掉所有不必要的功能，儘可能的輕薄。<br>端看你的 DoD，要達成 End to End 的 Walking Skeleton。<br>但是有時候即使你拿掉所有非必要的東西，也需要多個衝刺才能完成 Walking Skeleton，<br>當你完成之後，你的每個開發就可以在這基礎上進行增量開發，而且每次都可以作端到端的完整測試，<br>持續的開發增量，直到滿足 PO 對 MVP 定義，才有 Release 的可能。<br>相同的手法在團隊拆解 Task 也是可行的。</p>\n<p><strong>MVP遠比你的想得大的多</strong>  </p>\n<p>歸納一下重點:</p>\n<ul>\n<li>想清楚產品現在最重要的策略</li>\n<li>由策略 Break Down 出 Product Backlog Items (User Story)</li>\n<li>只有作與不作的優先權</li>\n<li>只觀注要作 PBI 與 DoD</li>\n<li>找到 Walking Skeleton，在一開始儘可能的薄(這個手法適用 PBI 與 Task)</li>\n<li>事實上 MVP 仍然很大，大到你不一定能在一個衝刺中完成</li>\n<li>問兩個問題，什麼讓我們變慢？什麼能讓我們更快？</li>\n<li>增量不等於 Release</li>\n<li>PO 要觀注產品的價值，與市場的變化</li>\n<li>不要 Management 不要 Dispatch，只要排序並約定最上面的最先完成</li>\n<li>進入衝刺後就不要異動排序</li>\n<li>保留插件泳道可以帶來一些彈性，但是也是有代價的，請確保放入泳道的 Task 比衝刺的 PBI 更有價值</li>\n</ul>\n<h2 id=\"導入\"><a href=\"#導入\" class=\"headerlink\" title=\"導入\"></a>導入</h2><p>這幾年 Scurm 或是 Agile 在台灣各地相當盛行，<br>這是個好事，但同時也意味著各種妖魔鬼怪的出現，<br>認証單位的出現，品質低下的 WorkShop 出現，<br>同溫層自 high 喊口號的出現，這些都是一些壞味道，<br>敏捷是很科學的作法， Scurm 的經驗主義也是有其理論基礎。  </p>\n<p>在這之上如果變成直銷或是宗教化的宣傳，<br>我個人認是非常不好的，甚至會成為導入的反動力，<br>我常常在想，滿牆的便利貼與宗教崇拜這樣不是與彊屍道長沒有兩異嗎 ？</p>\n<p>我的建議的導入方法</p>\n<ul>\n<li>先觀察找到瓶頸或 Key Man</li>\n<li>爭取組織關鍵人物的支持，如果有老闆的支持更好</li>\n<li>帶來變化與作法，更勝於帶來新名詞</li>\n<li>一直講一直講，通常講到對方不耐煩才只是開始</li>\n</ul>\n<h2 id=\"現實的殘酷-與-仍然存在的疑惑\"><a href=\"#現實的殘酷-與-仍然存在的疑惑\" class=\"headerlink\" title=\"現實的殘酷 與 仍然存在的疑惑 ?\"></a>現實的殘酷 與 仍然存在的疑惑 ?</h2><p>最後，記錄一些現在遇到不解的問題</p>\n<h3 id=\"團隊的不穩定\"><a href=\"#團隊的不穩定\" class=\"headerlink\" title=\"團隊的不穩定\"></a>團隊的不穩定</h3><p>不論是個人的生涯規劃，或是內部的組織調動，<br>都會讓團隊的成員組成變得不穩定，而基於經驗主義的 Scurm，<br>如果每個衝刺的團隊組成都不一致，會不會帶來太多的變數 ？<br>甚至團隊成員是抱著打工的心態，而 Scrum Master 也當作這些成員是別人家的孩子，<br>而不關心其成長。這樣總體的團隊能成長嗎 ？</p>\n<h3 id=\"過多的變數\"><a href=\"#過多的變數\" class=\"headerlink\" title=\"過多的變數\"></a>過多的變數</h3><p>承上題，在實驗的過程中，我們會希望儘可能的控制變因，<br>但是實務上，包含人員、工作內容（可能過度偏向某個 Skill Set）、假期、Deadline與項目的複雜度/範圍等…<br>都會帶來很大的變因，這樣的估點是否仍然有意義 ？</p>\n<h3 id=\"規模化\"><a href=\"#規模化\" class=\"headerlink\" title=\"規模化\"></a>規模化</h3><p>理想的 Scrum 想達到有效溝通，建議人數要在 5~9 人，實際上整個組織一定會遠超這個人數，<br>雖然現在有 Less 等 solution，但是我仍沒有理解與體會到其帶來的價值，<br>因此仍然有所疑惑。</p>\n<h3 id=\"跨職能與自組織\"><a href=\"#跨職能與自組織\" class=\"headerlink\" title=\"跨職能與自組織\"></a>跨職能與自組織</h3><p>本身產品的覆蓋範圍就很大，團隊人數限制在 5~9 之時，<br>要完成 End to End 變得有些不切實際與困難。<br>一方面現有的產品欠了相當大的<strong>技術債</strong>，而團隊欠了相當大的<strong>學習債</strong>，  \n團隊成員在開發上已經有點捉襟見肘，還要跨領域的學習，又要深入鑽研某項技能。  </p>\n<p>如何讓團隊認知到清還債務能讓我們變快，並且在工程實踐上達到要求也是需要時間，<br>而成員確在職涯規劃上，2~3年就換個工作，而花了時間培養的戰力瞬間飛滅。  </p>\n<p>更甚是組織內部寧可用便宜的人材，換掉好不容易養成的人才。<br>對此我深感無力，跨職能與自組織最後也是淪為口號。  </p>\n<p><img src=\"/images/2018/csm/overview.JPG\" alt=\"全貌\"></p>\n<p>以上，我仍在觀察、記錄…<br>並且尋找機會，「Change Your Company」。<br><strong>做正確的事，然後等著被炒</strong></p>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<ul>\n<li>什麼是 Scrum ?</li>\n<li>Scrum 的理想 ?</li>\n<li>Scrum 怎麼導入 ?</li>\n<li>現實的殘酷</li>\n<li>仍然存在的疑惑 ?</li>\n</ul>\n<h2 id=\"什麼是-Scrum\"><a href=\"#什麼是-Scrum\" class=\"headerlink\" title=\"什麼是 Scrum\"></a>什麼是 Scrum</h2><p>「什麼是 Scrum？」，在這之前我們先問一下「為什麼要 Scrum ？」<br>「Scrum 之前我們怎麼進行專案的？」、「Scrum 之前我們怎麼管理團隊的？」<br>層層的組織架構、層層的管理人員、層層規劃設計開發…</p>\n<p>本來都好好的，為什麼現在不 work 了？</p>\n<p>時代正在改變，軟體、網路、行動裝置等…各種技術的成熟，使得整個社會，<br>不論工業、商業已經往下一個階段邁進，<br>這是一個<strong>VUCA</strong>(多變(Volatile)、不確定(Uncertain)、複雜(Complex) 與混沌不明(Ambiguous))的時代，<br>新的科技帶來新的生活習慣與消費行為，同時機會也再此產生，<br>不論是巨象還是螞蟻都必須想辦法求生存，而快速適應與改變的能力，成為這個時代必備的能力。  </p>\n<p>不論是 Agile 或是 Scrum 都是要讓你適應變化，並且活下去。  </p>\n<p>而 Scrum 是一個框架，三個大原則，透明(Transparency)、檢驗(Inspection)、調適性(Adaptation)<br>簡單易學，卻難以精通，這句話說得明白一點，就是很容易畫虎不成反類犬。<br>而 Scrum Guide 用了一句簡單帶過，<br>「Scrum’s roles, events, artifacts, and rules are immutable and although<br>implementing only parts of Scrum is possible, the result is not Scrum.<br>Scrum exists only in its entirety and functions well as a container<br>for other techniques, methodologies, and practices.」  </p>\n<p>常見的「Scrum 自助餐」其實不是 Scrum 。</p>\n<h3 id=\"透明-Transparency\"><a href=\"#透明-Transparency\" class=\"headerlink\" title=\"透明(Transparency)\"></a>透明(Transparency)</h3><p>透明的目的是什麼？避免殼倉？曝露風險？取得共識？</p>\n<p>CMS 課程帶給我一個很重要的學習，是個很簡單的老故事就說過的道理。<br>「盲人摸象」，大家應該都聽過這個故事吧，<br>有的人摸到了扇子(耳朵)、有人摸到牆壁(身體)、有人摸到柱子(腿)、有人摸到水管(鼻子)…<br>如果大象是你的產品、你的商業模式、你的生存武器，<br>那麼展現「雅量」就不是一件很好的事了，<br>當你的 DBA 說了扇子、RD 說了牆壁，PO 說了柱子而 QA 說了水管，<br>那麼這些的加總就是你的大象(產品)了嗎 ?  </p>\n<p><img src=\"/images/2018/csm/elephant.jpg\" alt=\"盲人的大象\"></p>\n<p><strong>「所有人說都是對，排列組合也是對的，但結果是錯的。」</strong>，\n怎麼解決這個問題？</p>\n<ol>\n<li>讓盲人看見</li>\n<li>讓盲人摸得到別人的區塊</li>\n</ol>\n<p>透明的目的是為了<strong>看見目標、取得共識</strong>，\n還記得多少浪費生命的會議，有多少會前會？有多少會後討論嗎？<br>又或是大家都說好，作出來卻是半成品、廢品嗎 ？  </p>\n<p><strong>取得共識</strong> 是困難的，Scurm 提供的機制，<br>讓回饋在不同的活動(會議)中由不同的角色中產生，<br>但是如果成員不願意講，這些會議就一點意義也沒有了。  </p>\n<p>要如何讓成員願意發言？<br><strong>信任、信賴、安全感</strong>，但是這需要時間去打造這樣的文化與環境。<br>事實上不會喊完口號，成員就彼此互相信任，生產力大爆發。<br>如何打造一個這樣的環境？是管理職真正的責任所在。<br>但這種無法立竿見影的工作，喊口號的很多，作的人很少。</p>\n<h3 id=\"檢驗-Inspection-與調適性-Adaptation\"><a href=\"#檢驗-Inspection-與調適性-Adaptation\" class=\"headerlink\" title=\"檢驗(Inspection)與調適性(Adaptation)\"></a>檢驗(Inspection)與調適性(Adaptation)</h3><p>透明在檢驗與調適性之前，是有重要的意義的。<br>也只有透明，才能讓事實擺在眼前，<br><strong>不是基於事實的檢驗與修正，只是自慰而已。</strong>  </p>\n<p>無奈的是這個世界是如此的複雜，你幾乎不可能真的看見大象(全貌)，<br>曾經有個創業的朋友說了一個「敏捷無用論」，  </p>\n<p>沒錯，他說得對。<br><strong>Agile 與 Scrum 從來不是銀子彈</strong> ，如果要迷信「敏捷」不如迷信「沒有銀彈」吧。<br>你必需依賴你的情境(Context)來決定使用什麼方法，<br>在他的情境當中，他們要作得項目已經很明確了，而資金是不足的，所以每分每秒對他們都非常重要，<br>如果要照表操課這些會議，恐怕會佔據大部份的時間。<br>但是這些會議都有其背後的意義與目的，如果團隊能與商業目標緊密結合，<br>甚至是一體同心(比如說:你就是老闆又是開發人員)，那麼梳理需求是不是能快速的在幾分鐘內完成 ？<br>如果你們每個人每時每刻都在一起工作，分享彼此的工作內容，那麼需不需要「每天」開個例會同步資訊呢 ？  </p>\n<p>反過來說，他說得也不對。<br>在每個會議與每個會議的產出物的背後都有一個目的與意義，<br>如果不能讓梳理需求、衝刺開發、展現結果與收取回饋時時發生，<br>那麼這些會議是最好的機會，更重要的事是 Scrum 給團隊自主權，決定進行的方式，<br>如果有進行這些活動，卻沒有帶來相對的效益，這背後是不是對 Scrum 沒有深刻理解所造成的呢 ？  </p>\n<p>這種都對都錯的「盲人摸象」時時發生，<br>重點是怎麼作「取捨」、怎麼作「選擇」。<br>也是「Adaptation」的意義，你要欠一些債，爭取提早上市的時間？<br>你要將一個團隊當作棄子，為了作出一個 POC？<br>這都是選擇，<strong>你是有意識的選擇，還是無意識的呢？</strong>  </p>\n<p>如果你是屬於身不由已的那方，被選擇得對象，那麼你要作出什麼選擇？<br>讓自已的生存機會提高呢？  </p>\n<h2 id=\"Scrum-的理想\"><a href=\"#Scrum-的理想\" class=\"headerlink\" title=\"Scrum 的理想\"></a>Scrum 的理想</h2><p>Scrum 本身僅僅是個框架，它給了整個團隊非常彈性的空間，<br>但是仍然有著一些限制。</p>\n<h3 id=\"角色的定位\"><a href=\"#角色的定位\" class=\"headerlink\" title=\"角色的定位\"></a>角色的定位</h3><h4 id=\"Scrum-Master-要作什麼-？\"><a href=\"#Scrum-Master-要作什麼-？\" class=\"headerlink\" title=\"Scrum Master 要作什麼 ？\"></a>Scrum Master 要作什麼 ？</h4><p>Scrum Master 的這個角色，不存在一般的組織架構之中，<br>這個導致 Scrum Master 的養成非常不易，<br>偏偏「Master」這個名詞，使得人們對 Scrum Master 有不切實際的期待與依賴<br>「Scrum Master」本身是個教練型的角色，需要旁觀者的客觀心態，<br>需要觀察記錄個人、團隊乃至於整間公司文化，<br>(「記錄與側錄」是重要的，這能讓你從另一個旁觀者角度看事情，不要只有一個視角。)<br>同時又需要各種方法去教導、引導團隊，這包含「對 Scurm 的理解與實踐」與「工程實踐」<br>有太多 Scurm Master 常常會犯的錯如下:</p>\n<ul>\n<li>淪為安排會議的助理角色</li>\n<li>過度將焦點放在 Scurm Master 本身</li>\n<li>照表操課的帶四大會議，而不是觀注在團隊的成長與過程</li>\n<li>缺乏工程實踐的能力與經驗，導致在引入實踐時淪為空話</li>\n<li>身兼不同的角色，造成角色錯亂</li>\n<li>無法存活導致被炒，即使有冒出新芽的改變也隨之消失</li>\n<li>只顧著存活而無法帶來實踐改變，純粹變成招覽「人材」用的蜜糖(HR:我們有屎逛，很潮喔;進去後才發現是小瀑布，真的很潮)</li>\n</ul>\n<h4 id=\"PM-可以轉型-PO-嗎-？\"><a href=\"#PM-可以轉型-PO-嗎-？\" class=\"headerlink\" title=\"PM 可以轉型 PO 嗎 ？\"></a>PM 可以轉型 PO 嗎 ？</h4><p>簡單的說，當然可以。<br><strong>你想改變的是你的 Title 還是你的作事方法 ？</strong><br>理想的 PO 應該更觀注在產品上面，我們希望你會產品有想法、有願景甚至有策略，<br>如果沒有策略，只是想作一些嚐試也是可以的。  </p>\n<p>第二點，排序，<strong>「我全都要」是不負責任的說法，是大頭症而且偏離事實的中二病</strong><br>如果團隊也承諾「我全都給」，就要小心整個組織是不是落入「國王的新衣」，集體自我欺騙的困境了<br>Walking Skeleton 是一個非常好用的手法，在探索出你的商業策略之後，<br>要找出關鍵的支柱，儘可能快速的推出你的 MVP ，<br>實際上如果你要你的產品有 Value，你是很難在一個衝刺中完成一個可發佈的產品的<br>(Demo或概念介紹影片是有可能的，如果你也走記者會趨動開發的話…)。  </p>\n<p>我們理想上不要有半成品，或是讓半成品儘可能的少，存在時間儘可能的短，<br>我還蠻推崇 User Story Mapping 在排序上的作法，<br>「二分法」少了它就不行的功能、基礎建設就作，其它就不作。<br>讓 Walking Skeleton 儘早的串通，拿掉所有不必要的功能，儘可能的輕薄。<br>端看你的 DoD，要達成 End to End 的 Walking Skeleton。<br>但是有時候即使你拿掉所有非必要的東西，也需要多個衝刺才能完成 Walking Skeleton，<br>當你完成之後，你的每個開發就可以在這基礎上進行增量開發，而且每次都可以作端到端的完整測試，<br>持續的開發增量，直到滿足 PO 對 MVP 定義，才有 Release 的可能。<br>相同的手法在團隊拆解 Task 也是可行的。</p>\n<p><strong>MVP遠比你的想得大的多</strong>  </p>\n<p>歸納一下重點:</p>\n<ul>\n<li>想清楚產品現在最重要的策略</li>\n<li>由策略 Break Down 出 Product Backlog Items (User Story)</li>\n<li>只有作與不作的優先權</li>\n<li>只觀注要作 PBI 與 DoD</li>\n<li>找到 Walking Skeleton，在一開始儘可能的薄(這個手法適用 PBI 與 Task)</li>\n<li>事實上 MVP 仍然很大，大到你不一定能在一個衝刺中完成</li>\n<li>問兩個問題，什麼讓我們變慢？什麼能讓我們更快？</li>\n<li>增量不等於 Release</li>\n<li>PO 要觀注產品的價值，與市場的變化</li>\n<li>不要 Management 不要 Dispatch，只要排序並約定最上面的最先完成</li>\n<li>進入衝刺後就不要異動排序</li>\n<li>保留插件泳道可以帶來一些彈性，但是也是有代價的，請確保放入泳道的 Task 比衝刺的 PBI 更有價值</li>\n</ul>\n<h2 id=\"導入\"><a href=\"#導入\" class=\"headerlink\" title=\"導入\"></a>導入</h2><p>這幾年 Scurm 或是 Agile 在台灣各地相當盛行，<br>這是個好事，但同時也意味著各種妖魔鬼怪的出現，<br>認証單位的出現，品質低下的 WorkShop 出現，<br>同溫層自 high 喊口號的出現，這些都是一些壞味道，<br>敏捷是很科學的作法， Scurm 的經驗主義也是有其理論基礎。  </p>\n<p>在這之上如果變成直銷或是宗教化的宣傳，<br>我個人認是非常不好的，甚至會成為導入的反動力，<br>我常常在想，滿牆的便利貼與宗教崇拜這樣不是與彊屍道長沒有兩異嗎 ？</p>\n<p>我的建議的導入方法</p>\n<ul>\n<li>先觀察找到瓶頸或 Key Man</li>\n<li>爭取組織關鍵人物的支持，如果有老闆的支持更好</li>\n<li>帶來變化與作法，更勝於帶來新名詞</li>\n<li>一直講一直講，通常講到對方不耐煩才只是開始</li>\n</ul>\n<h2 id=\"現實的殘酷-與-仍然存在的疑惑\"><a href=\"#現實的殘酷-與-仍然存在的疑惑\" class=\"headerlink\" title=\"現實的殘酷 與 仍然存在的疑惑 ?\"></a>現實的殘酷 與 仍然存在的疑惑 ?</h2><p>最後，記錄一些現在遇到不解的問題</p>\n<h3 id=\"團隊的不穩定\"><a href=\"#團隊的不穩定\" class=\"headerlink\" title=\"團隊的不穩定\"></a>團隊的不穩定</h3><p>不論是個人的生涯規劃，或是內部的組織調動，<br>都會讓團隊的成員組成變得不穩定，而基於經驗主義的 Scurm，<br>如果每個衝刺的團隊組成都不一致，會不會帶來太多的變數 ？<br>甚至團隊成員是抱著打工的心態，而 Scrum Master 也當作這些成員是別人家的孩子，<br>而不關心其成長。這樣總體的團隊能成長嗎 ？</p>\n<h3 id=\"過多的變數\"><a href=\"#過多的變數\" class=\"headerlink\" title=\"過多的變數\"></a>過多的變數</h3><p>承上題，在實驗的過程中，我們會希望儘可能的控制變因，<br>但是實務上，包含人員、工作內容（可能過度偏向某個 Skill Set）、假期、Deadline與項目的複雜度/範圍等…<br>都會帶來很大的變因，這樣的估點是否仍然有意義 ？</p>\n<h3 id=\"規模化\"><a href=\"#規模化\" class=\"headerlink\" title=\"規模化\"></a>規模化</h3><p>理想的 Scrum 想達到有效溝通，建議人數要在 5~9 人，實際上整個組織一定會遠超這個人數，<br>雖然現在有 Less 等 solution，但是我仍沒有理解與體會到其帶來的價值，<br>因此仍然有所疑惑。</p>\n<h3 id=\"跨職能與自組織\"><a href=\"#跨職能與自組織\" class=\"headerlink\" title=\"跨職能與自組織\"></a>跨職能與自組織</h3><p>本身產品的覆蓋範圍就很大，團隊人數限制在 5~9 之時，<br>要完成 End to End 變得有些不切實際與困難。<br>一方面現有的產品欠了相當大的<strong>技術債</strong>，而團隊欠了相當大的<strong>學習債</strong>，  \n團隊成員在開發上已經有點捉襟見肘，還要跨領域的學習，又要深入鑽研某項技能。  </p>\n<p>如何讓團隊認知到清還債務能讓我們變快，並且在工程實踐上達到要求也是需要時間，<br>而成員確在職涯規劃上，2~3年就換個工作，而花了時間培養的戰力瞬間飛滅。  </p>\n<p>更甚是組織內部寧可用便宜的人材，換掉好不容易養成的人才。<br>對此我深感無力，跨職能與自組織最後也是淪為口號。  </p>\n<p><img src=\"/images/2018/csm/overview.JPG\" alt=\"全貌\"></p>\n<p>以上，我仍在觀察、記錄…<br>並且尋找機會，「Change Your Company」。<br><strong>做正確的事，然後等著被炒</strong></p>\n<p>(fin)</p>\n"},{"title":"[閱讀筆記] 執行力的修練","date":"2019-08-09T19:10:15.000Z","_content":"\n## 與成功有約的四個實踐原則\n\n![四個實踐原則](https://i.imgur.com/RyowM2h.jpg)\n\n## 紀律一、鎖定極重要目標\n\n80 % 用來維持改進日常工作，  \n20% 的時間與心力投入能帶來影響的目標，  \n尋找與使命有更直接關連的目標。  \n\n### 法則\n\n1. 不能聚焦顧於兩個以上的極重要目標\n2. 選擇能幫助打贏戰爭(高層次)的戰役(低層次)\n3. 高階領導人可以否決，但不能命令(賦予所有權與參與感)\n4. 設定「在何時之前從X到Y」的終點線\n\n### 問題\n\n1. 在我們營運的其它部份保持目前績效的前提下，哪一部份的改變能帶來最大的影響 ?\n2. 為了在這場戰爭中取勝，至少一定要打贏哪些戰役 ?\n\n### 反思\n\n> 影響地圖 ?\n> OKR\n\n## 紀律二、從領先指標下手\n\n領先指標的特徵  \n\n1. 具有預測作用\n2. 團隊有能力影響它\n3. 領先指標可能是違反直覺的\n\n找到槓桿(領先指標)的支點\n![領先指標](https://i.imgur.com/DyfN3F5.jpg)\n\n## 紀律三、設置醒目計分板\n\n- 優秀的團隊隨時知道自已是屬於領先還是落後。\n- 制定一個屬於「隊員」的計分板\n  - 必須簡單\n  - 必須顯而易見\n  - 同時揭露領先與落後指標\n  - 知道正在贏或輸\n- 賽局本身比計分板重要\n  - 求「勝」而非求「不敗」\n\n### 反思 \n\n- 看板\n- Burn Down/Up Chart\n- 電子看板的便利，實體看版的可視性\n\n## 紀律四、落實當責\n\n為了把績效得分往前推進而向整個團隊作出承諾，並以有紀律的方式貫徹執行。  \n\n- 《爛工作的三個跡象》\n    1. 無人聞問\n    2. 可有可無\n    3. 無從評量\n\n### 原則\n\n1. 每周的同一時間開會\n2. 別讓日常事項進入會議\n\n### 議程\n\n1. 報告:報告上次作出的承諾\n2. 檢討:從成功和失敗中學習\n3. 計畫:釐清並作出新承諾\n\n### 問題\n\n- 我可以作什麼會對領先指標有幫助 ?\n\n### 反思\n\n- Scurm 四大會議的立會與 Retrospective\n\n\n## 執行\n\n| 極重要目標構想 | 目前的成果(從X) | 期望的成果(到Y) |期限(在何時之前) | 排序 |\n| -------- | -------- | -------- |-------- | -------- |\n|      |      |      |     |     |\n|      |      |      |     |     |\n|      |      |      |     |     |\n\n| 領先指標構想 | 如何評量 | 排序 |\n| -------- | -------- | -------- |\n|      |      |      |\n\n領先指標 Check List\n\n- 是否從團隊成員及其他人蒐集了大量意見與建議 ?\n- 是否有預測作用 ?\n- 團隊能不能影響它 ?\n- 它是不是可以被測量 ?\n- 蒐集他的價值是否高於成本 ?\n- 每個指標是否包含動詞 ?\n- 是否可以量化 ?\n\n計分版主題\n\n1. 趨勢線\n2. 速度計\n3. 長條圖\n4. 紅綠燈\n\n| 團隊極重要目標 | 落後指標 |\n| -------- | -------- |\n|      |      |\n| 領先指標1 | 圖表 |\n|      |      |\n| 領先指標2 | 圖表 |\n|      |      |\n\n(fin)\n","source":"_posts/2019/book/the_4_disciplines_of_execution.md","raw":"---\ntitle: \"[閱讀筆記] 執行力的修練\"\ndate: 2019/08/10 03:10:15\ntag:\n  - 閱讀筆記\n---\n\n## 與成功有約的四個實踐原則\n\n![四個實踐原則](https://i.imgur.com/RyowM2h.jpg)\n\n## 紀律一、鎖定極重要目標\n\n80 % 用來維持改進日常工作，  \n20% 的時間與心力投入能帶來影響的目標，  \n尋找與使命有更直接關連的目標。  \n\n### 法則\n\n1. 不能聚焦顧於兩個以上的極重要目標\n2. 選擇能幫助打贏戰爭(高層次)的戰役(低層次)\n3. 高階領導人可以否決，但不能命令(賦予所有權與參與感)\n4. 設定「在何時之前從X到Y」的終點線\n\n### 問題\n\n1. 在我們營運的其它部份保持目前績效的前提下，哪一部份的改變能帶來最大的影響 ?\n2. 為了在這場戰爭中取勝，至少一定要打贏哪些戰役 ?\n\n### 反思\n\n> 影響地圖 ?\n> OKR\n\n## 紀律二、從領先指標下手\n\n領先指標的特徵  \n\n1. 具有預測作用\n2. 團隊有能力影響它\n3. 領先指標可能是違反直覺的\n\n找到槓桿(領先指標)的支點\n![領先指標](https://i.imgur.com/DyfN3F5.jpg)\n\n## 紀律三、設置醒目計分板\n\n- 優秀的團隊隨時知道自已是屬於領先還是落後。\n- 制定一個屬於「隊員」的計分板\n  - 必須簡單\n  - 必須顯而易見\n  - 同時揭露領先與落後指標\n  - 知道正在贏或輸\n- 賽局本身比計分板重要\n  - 求「勝」而非求「不敗」\n\n### 反思 \n\n- 看板\n- Burn Down/Up Chart\n- 電子看板的便利，實體看版的可視性\n\n## 紀律四、落實當責\n\n為了把績效得分往前推進而向整個團隊作出承諾，並以有紀律的方式貫徹執行。  \n\n- 《爛工作的三個跡象》\n    1. 無人聞問\n    2. 可有可無\n    3. 無從評量\n\n### 原則\n\n1. 每周的同一時間開會\n2. 別讓日常事項進入會議\n\n### 議程\n\n1. 報告:報告上次作出的承諾\n2. 檢討:從成功和失敗中學習\n3. 計畫:釐清並作出新承諾\n\n### 問題\n\n- 我可以作什麼會對領先指標有幫助 ?\n\n### 反思\n\n- Scurm 四大會議的立會與 Retrospective\n\n\n## 執行\n\n| 極重要目標構想 | 目前的成果(從X) | 期望的成果(到Y) |期限(在何時之前) | 排序 |\n| -------- | -------- | -------- |-------- | -------- |\n|      |      |      |     |     |\n|      |      |      |     |     |\n|      |      |      |     |     |\n\n| 領先指標構想 | 如何評量 | 排序 |\n| -------- | -------- | -------- |\n|      |      |      |\n\n領先指標 Check List\n\n- 是否從團隊成員及其他人蒐集了大量意見與建議 ?\n- 是否有預測作用 ?\n- 團隊能不能影響它 ?\n- 它是不是可以被測量 ?\n- 蒐集他的價值是否高於成本 ?\n- 每個指標是否包含動詞 ?\n- 是否可以量化 ?\n\n計分版主題\n\n1. 趨勢線\n2. 速度計\n3. 長條圖\n4. 紅綠燈\n\n| 團隊極重要目標 | 落後指標 |\n| -------- | -------- |\n|      |      |\n| 領先指標1 | 圖表 |\n|      |      |\n| 領先指標2 | 圖表 |\n|      |      |\n\n(fin)\n","slug":"2019/book/the_4_disciplines_of_execution","published":1,"updated":"2019-08-09T19:19:26.770Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wrl00abb0vx30jbs0e7","content":"<h2 id=\"與成功有約的四個實踐原則\"><a href=\"#與成功有約的四個實踐原則\" class=\"headerlink\" title=\"與成功有約的四個實踐原則\"></a>與成功有約的四個實踐原則</h2><p><img src=\"https://i.imgur.com/RyowM2h.jpg\" alt=\"四個實踐原則\"></p>\n<h2 id=\"紀律一、鎖定極重要目標\"><a href=\"#紀律一、鎖定極重要目標\" class=\"headerlink\" title=\"紀律一、鎖定極重要目標\"></a>紀律一、鎖定極重要目標</h2><p>80 % 用來維持改進日常工作，<br>20% 的時間與心力投入能帶來影響的目標，<br>尋找與使命有更直接關連的目標。  </p>\n<h3 id=\"法則\"><a href=\"#法則\" class=\"headerlink\" title=\"法則\"></a>法則</h3><ol>\n<li>不能聚焦顧於兩個以上的極重要目標</li>\n<li>選擇能幫助打贏戰爭(高層次)的戰役(低層次)</li>\n<li>高階領導人可以否決，但不能命令(賦予所有權與參與感)</li>\n<li>設定「在何時之前從X到Y」的終點線</li>\n</ol>\n<h3 id=\"問題\"><a href=\"#問題\" class=\"headerlink\" title=\"問題\"></a>問題</h3><ol>\n<li>在我們營運的其它部份保持目前績效的前提下，哪一部份的改變能帶來最大的影響 ?</li>\n<li>為了在這場戰爭中取勝，至少一定要打贏哪些戰役 ?</li>\n</ol>\n<h3 id=\"反思\"><a href=\"#反思\" class=\"headerlink\" title=\"反思\"></a>反思</h3><blockquote>\n<p>影響地圖 ?<br>OKR</p>\n</blockquote>\n<h2 id=\"紀律二、從領先指標下手\"><a href=\"#紀律二、從領先指標下手\" class=\"headerlink\" title=\"紀律二、從領先指標下手\"></a>紀律二、從領先指標下手</h2><p>領先指標的特徵  </p>\n<ol>\n<li>具有預測作用</li>\n<li>團隊有能力影響它</li>\n<li>領先指標可能是違反直覺的</li>\n</ol>\n<p>找到槓桿(領先指標)的支點<br><img src=\"https://i.imgur.com/DyfN3F5.jpg\" alt=\"領先指標\"></p>\n<h2 id=\"紀律三、設置醒目計分板\"><a href=\"#紀律三、設置醒目計分板\" class=\"headerlink\" title=\"紀律三、設置醒目計分板\"></a>紀律三、設置醒目計分板</h2><ul>\n<li>優秀的團隊隨時知道自已是屬於領先還是落後。</li>\n<li>制定一個屬於「隊員」的計分板<ul>\n<li>必須簡單</li>\n<li>必須顯而易見</li>\n<li>同時揭露領先與落後指標</li>\n<li>知道正在贏或輸</li>\n</ul>\n</li>\n<li>賽局本身比計分板重要<ul>\n<li>求「勝」而非求「不敗」</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"反思-1\"><a href=\"#反思-1\" class=\"headerlink\" title=\"反思\"></a>反思</h3><ul>\n<li>看板</li>\n<li>Burn Down/Up Chart</li>\n<li>電子看板的便利，實體看版的可視性</li>\n</ul>\n<h2 id=\"紀律四、落實當責\"><a href=\"#紀律四、落實當責\" class=\"headerlink\" title=\"紀律四、落實當責\"></a>紀律四、落實當責</h2><p>為了把績效得分往前推進而向整個團隊作出承諾，並以有紀律的方式貫徹執行。  </p>\n<ul>\n<li>《爛工作的三個跡象》<ol>\n<li>無人聞問</li>\n<li>可有可無</li>\n<li>無從評量</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"原則\"><a href=\"#原則\" class=\"headerlink\" title=\"原則\"></a>原則</h3><ol>\n<li>每周的同一時間開會</li>\n<li>別讓日常事項進入會議</li>\n</ol>\n<h3 id=\"議程\"><a href=\"#議程\" class=\"headerlink\" title=\"議程\"></a>議程</h3><ol>\n<li>報告:報告上次作出的承諾</li>\n<li>檢討:從成功和失敗中學習</li>\n<li>計畫:釐清並作出新承諾</li>\n</ol>\n<h3 id=\"問題-1\"><a href=\"#問題-1\" class=\"headerlink\" title=\"問題\"></a>問題</h3><ul>\n<li>我可以作什麼會對領先指標有幫助 ?</li>\n</ul>\n<h3 id=\"反思-2\"><a href=\"#反思-2\" class=\"headerlink\" title=\"反思\"></a>反思</h3><ul>\n<li>Scurm 四大會議的立會與 Retrospective</li>\n</ul>\n<h2 id=\"執行\"><a href=\"#執行\" class=\"headerlink\" title=\"執行\"></a>執行</h2><table>\n<thead>\n<tr>\n<th>極重要目標構想</th>\n<th>目前的成果(從X)</th>\n<th>期望的成果(到Y)</th>\n<th>期限(在何時之前)</th>\n<th>排序</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th>領先指標構想</th>\n<th>如何評量</th>\n<th>排序</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<p>領先指標 Check List</p>\n<ul>\n<li>是否從團隊成員及其他人蒐集了大量意見與建議 ?</li>\n<li>是否有預測作用 ?</li>\n<li>團隊能不能影響它 ?</li>\n<li>它是不是可以被測量 ?</li>\n<li>蒐集他的價值是否高於成本 ?</li>\n<li>每個指標是否包含動詞 ?</li>\n<li>是否可以量化 ?</li>\n</ul>\n<p>計分版主題</p>\n<ol>\n<li>趨勢線</li>\n<li>速度計</li>\n<li>長條圖</li>\n<li>紅綠燈</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>團隊極重要目標</th>\n<th>落後指標</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>領先指標1</td>\n<td>圖表</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>領先指標2</td>\n<td>圖表</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"與成功有約的四個實踐原則\"><a href=\"#與成功有約的四個實踐原則\" class=\"headerlink\" title=\"與成功有約的四個實踐原則\"></a>與成功有約的四個實踐原則</h2><p><img src=\"https://i.imgur.com/RyowM2h.jpg\" alt=\"四個實踐原則\"></p>\n<h2 id=\"紀律一、鎖定極重要目標\"><a href=\"#紀律一、鎖定極重要目標\" class=\"headerlink\" title=\"紀律一、鎖定極重要目標\"></a>紀律一、鎖定極重要目標</h2><p>80 % 用來維持改進日常工作，<br>20% 的時間與心力投入能帶來影響的目標，<br>尋找與使命有更直接關連的目標。  </p>\n<h3 id=\"法則\"><a href=\"#法則\" class=\"headerlink\" title=\"法則\"></a>法則</h3><ol>\n<li>不能聚焦顧於兩個以上的極重要目標</li>\n<li>選擇能幫助打贏戰爭(高層次)的戰役(低層次)</li>\n<li>高階領導人可以否決，但不能命令(賦予所有權與參與感)</li>\n<li>設定「在何時之前從X到Y」的終點線</li>\n</ol>\n<h3 id=\"問題\"><a href=\"#問題\" class=\"headerlink\" title=\"問題\"></a>問題</h3><ol>\n<li>在我們營運的其它部份保持目前績效的前提下，哪一部份的改變能帶來最大的影響 ?</li>\n<li>為了在這場戰爭中取勝，至少一定要打贏哪些戰役 ?</li>\n</ol>\n<h3 id=\"反思\"><a href=\"#反思\" class=\"headerlink\" title=\"反思\"></a>反思</h3><blockquote>\n<p>影響地圖 ?<br>OKR</p>\n</blockquote>\n<h2 id=\"紀律二、從領先指標下手\"><a href=\"#紀律二、從領先指標下手\" class=\"headerlink\" title=\"紀律二、從領先指標下手\"></a>紀律二、從領先指標下手</h2><p>領先指標的特徵  </p>\n<ol>\n<li>具有預測作用</li>\n<li>團隊有能力影響它</li>\n<li>領先指標可能是違反直覺的</li>\n</ol>\n<p>找到槓桿(領先指標)的支點<br><img src=\"https://i.imgur.com/DyfN3F5.jpg\" alt=\"領先指標\"></p>\n<h2 id=\"紀律三、設置醒目計分板\"><a href=\"#紀律三、設置醒目計分板\" class=\"headerlink\" title=\"紀律三、設置醒目計分板\"></a>紀律三、設置醒目計分板</h2><ul>\n<li>優秀的團隊隨時知道自已是屬於領先還是落後。</li>\n<li>制定一個屬於「隊員」的計分板<ul>\n<li>必須簡單</li>\n<li>必須顯而易見</li>\n<li>同時揭露領先與落後指標</li>\n<li>知道正在贏或輸</li>\n</ul>\n</li>\n<li>賽局本身比計分板重要<ul>\n<li>求「勝」而非求「不敗」</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"反思-1\"><a href=\"#反思-1\" class=\"headerlink\" title=\"反思\"></a>反思</h3><ul>\n<li>看板</li>\n<li>Burn Down/Up Chart</li>\n<li>電子看板的便利，實體看版的可視性</li>\n</ul>\n<h2 id=\"紀律四、落實當責\"><a href=\"#紀律四、落實當責\" class=\"headerlink\" title=\"紀律四、落實當責\"></a>紀律四、落實當責</h2><p>為了把績效得分往前推進而向整個團隊作出承諾，並以有紀律的方式貫徹執行。  </p>\n<ul>\n<li>《爛工作的三個跡象》<ol>\n<li>無人聞問</li>\n<li>可有可無</li>\n<li>無從評量</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"原則\"><a href=\"#原則\" class=\"headerlink\" title=\"原則\"></a>原則</h3><ol>\n<li>每周的同一時間開會</li>\n<li>別讓日常事項進入會議</li>\n</ol>\n<h3 id=\"議程\"><a href=\"#議程\" class=\"headerlink\" title=\"議程\"></a>議程</h3><ol>\n<li>報告:報告上次作出的承諾</li>\n<li>檢討:從成功和失敗中學習</li>\n<li>計畫:釐清並作出新承諾</li>\n</ol>\n<h3 id=\"問題-1\"><a href=\"#問題-1\" class=\"headerlink\" title=\"問題\"></a>問題</h3><ul>\n<li>我可以作什麼會對領先指標有幫助 ?</li>\n</ul>\n<h3 id=\"反思-2\"><a href=\"#反思-2\" class=\"headerlink\" title=\"反思\"></a>反思</h3><ul>\n<li>Scurm 四大會議的立會與 Retrospective</li>\n</ul>\n<h2 id=\"執行\"><a href=\"#執行\" class=\"headerlink\" title=\"執行\"></a>執行</h2><table>\n<thead>\n<tr>\n<th>極重要目標構想</th>\n<th>目前的成果(從X)</th>\n<th>期望的成果(到Y)</th>\n<th>期限(在何時之前)</th>\n<th>排序</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th>領先指標構想</th>\n<th>如何評量</th>\n<th>排序</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<p>領先指標 Check List</p>\n<ul>\n<li>是否從團隊成員及其他人蒐集了大量意見與建議 ?</li>\n<li>是否有預測作用 ?</li>\n<li>團隊能不能影響它 ?</li>\n<li>它是不是可以被測量 ?</li>\n<li>蒐集他的價值是否高於成本 ?</li>\n<li>每個指標是否包含動詞 ?</li>\n<li>是否可以量化 ?</li>\n</ul>\n<p>計分版主題</p>\n<ol>\n<li>趨勢線</li>\n<li>速度計</li>\n<li>長條圖</li>\n<li>紅綠燈</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>團隊極重要目標</th>\n<th>落後指標</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>領先指標1</td>\n<td>圖表</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>領先指標2</td>\n<td>圖表</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<p>(fin)</p>\n"},{"title":"[閱讀筆記] 第八個習慣 --- 從成功到卓越","date":"2019-08-03T18:15:02.000Z","_content":"\n## 找到自已內在的聲音\n\n![第八個習慣](/images/2019/8/the_8th_habbit.jpg)\n\n- small things listen to your head , big things listen to your heart\n- 孟加拉微形貸款的反思\n\n    > 讓 99% 的人生活更好，並賺取收入成為 1 % 富者\n\n- Most ailing organisations have developed a functional blindness to their own defects. They are not suffering because they cannot resolve their problems, but because they cannot see their problems.  — John Gardner  → 看見全貌 — 李智樺(Rudy Lee)\n- 願景和心聲是慢慢演化出來的…感覺到人類的某種需求，而且他們的**良知**的回應試圖滿足這些需求就會出現**願景**。\n- 個人領導(發揮影響力)是一種選擇，是一種自已必須去贏得的**自由**——只有當你贏得之後，領導才會變成一種選擇。\n- 3+1 的世界(Marsen Lin)\n\nColumn|Core|First|Second|Third\n------|----|-----|------|-----\n全人思維模式|心靈|心智|身體|情感\n四種才能|SQ 精神|IQ 智力|PQ 身體|EQ 情感\n人類四項基本需求|發揮影響力|學習|生活|愛\n四種才能的最高表現|良知|願景|自律|熱情\n四種才能的反模式|自我|受害者心理|放縱|淪為社會的鏡子\n將人物化的管理|老闆|規定|效率|控制\n領導的四項職責|以身作則|探索方向|整合體系|充份授權\n四大管理措施|文化|策略|結構|執行\n完整工作中的全人|服務|計畫|執行|評估\n\n- 現況\n\n> 報酬: 不公 / 一般 / 很好\n> 尊重: 有 / 無\n> 自主性: 有 / 無\n> 意義: 有 / 無\n> 愛 : 有 / 無\n\n- 通往卓越的地圖 vs 選擇地圖\n\n    ![通往卓越的地圖](/images/2019/8/the_8th_habbit_map.jpg)\n\n    ![選擇地圖](/images/2019/8/qt_choice_map.jpg)\n\n- 目的和手段是不可分的，目的實際存在於手段之中。\n- 用於實現目的手段與目的同樣重要 — 康德\n- 只要目的合理，用什麼樣的手段都是合理的。— 馬基維利\n- 在刺激和回應之間有一段空間，我們有自由和能力選擇自已的回應\n\n    > 聰明是一種天賦，而善良是一種選擇。\n\n- 所有事物都是經過兩次創造，一次是心智上的創造，一次是實際的創造\n\n### 問題\n\n- 我在家庭、社區、工作單位裡感受到什麼需求 ?\n- 我是否擁有可以滿足這個需求的天賦才能 ?\n- 滿足這個需求的機會是否能激起我的熱情 ?\n- 我的良知是否在激勵我積極投入、採取行動 ?\n\n## 激勵他人尋找內在的聲音\n\n- 領導是一種如何充份授權的藝術。\n- 對人充份授權，對物進行管理與控制\n- 工業時代的管理，老闆/規定/效率/控制\n\n### 七、以身作則\n\n- 不論什麼時候，如果你認為問題在別人身上，那麼這個想法本身就有問題。\n- 主動，是自我授權的一種形式\n- 有的時候，在某些文化中，得到原諒比得到批准來得容易\n- 7種自我授權\n    1. 坐等吩附\n    2. 詢問\n    3. 提出建議\n    4. 我想做\n    5. 執行並立刻報告\n    6. 執行後定期報告\n    7. 只管去做\n- 做一個燈塔，不要當法管; 作一個榜樣，不要當批評家。\n\n### 八、成為表率\n\n- 七個習慣\n  - 主動積極\n  - 以終為始\n  - 要事第一\n  - 雙贏思維\n  - 知彼解已\n  - 統合綜效\n  - 不斷更新\n\n- 有系統的個人計劃\n  - 「確定任務與價值」\n  - 願景和價值觀\n      1. 每日計劃\n      2. 每周計劃\n      3. 設定目標\n      4. 確定任務和價值\n\n### 九、贏得信任\n\n- 儲蓄\n    1. 先努力理解他人\n    2. 信守承諾\n    3. 誠實、開誠布公\n    4. 和善、有禮\n    5. 雙贏或無交易的思維方式\n    6. 明確的期望\n    7. 對不在場者保持忠誠\n    8. 道歉\n    9. 接受回饋意見\n    10. 寬恕\n\n- 支出\n  1. 先求被他人理解\n  2. 破壞承諾\n  3. 圓滑的操縱\n  4. 冷漠、無禮\n  5. 我贏你輸或我輸你贏的思維方式\n  6. 破壞期望\n  7. 不忠誠、欺騙\n  8. 驕傲、自負、傲慢\n  9. 不接受回饋意見\n  10. 心懷怨恨\n\n- 必要的犧牲\n    1. 不耐煩、自我中心\n    2. 情緒、感情、時間\n    3. 自我中心、傲慢、控制\n    4. 自我、時間、感覺、成見、偏見\n    5. 勝者為王、競爭意識\n    6. 蜻蜓點水式的交流\n    7. 某些社會認可、祕而不宣\n    8. 自我、傲慢、驕傲、時間\n    9. 自我、傲慢、驕傲、起反作用的溝通\n    10. 驕傲、自我中心\n\n- 內在原則\n  1. 相互了解\n  2. 完整／執行\n  3. 遠見／價值觀、統一／執行、相互了解\n  4. 遠見／價值觀、完整／執行\n  5. 相互尊重／互惠\n  6. 相互尊重／互惠、相互了解、創造性合作、更新\n  7. 遠見／價值觀、完整／執行\n  8. 遠見／價值觀、完整／執行\n  9. 相互了解\n  10. 遠見／價值觀、統一／執行\n\n- 真正的付出，必須是對方願意接受的東西\n- 說謊是將問題推給未來，誠實則是將問題留給過去\n- 成年人只是大孩子而已\n- 你如何看待我的角色與目標 ?　你如何看待自已的角色與目標 ?\n- 我們自已選擇什麼樣的回應方式，是決定生活的關鍵因素\n- 信任和愛一樣\n  - 愛是一個動詞，而愛情是愛的結果\n  - 讓自已的情感服從價值\n  - 信任需要冒險、磨練， 沒有風險是最大的冒險\n- 個人層次\n  - 態度積極的好榜樣。\n  - 不要抱怨、比較、批評、競爭和爭鬥。\n  - 作一個燈塔式的人物，而不要作法官式的人，作一個榜樣而不要作批評家\n  - 無力改變所有的事情(別人)時，改變自已\n- 人們需感覺自已被欣賞，需要感覺到自已所從事的工作是有價值的\n\n### 十 融合心聲\n\n- 雙贏思維只要有一方願意改變就可以了\n\n改變得從願意改變的那個人開始 — 改變提問，改變人生\n\n- 傾聽的連續性\n    1. 忽略\n    2. 假裝在聽\n    3. 選擇性傾聽\n    4. 專心傾聽\n    5. 以同理心傾聽 (以對方的框架思考)\n\n- 解決方案\n  1. 你輸我贏/你贏我輸 [交易]\n  2. 妥協 [交易]\n  3. 相互了解(沒有共識) [轉變]\n  4. 你輸我贏/你贏我輸(增加了解與關心) [轉變]\n  5. 妥協(在關係上取得統合綜效) [轉變]\n  6. 在問題和關係上取得統合綜效 [轉變]\n- 人們會看到同樣的事實，但是以個人的經驗加上不同的解釋，創造意義並產生行為\n- 一但你有了身分上的權利，你會認定只有一個答案是對的，自我愈強烈，愈固執，愈僵化。\n- 沉默是必要的，問一個問題「說出自已的真正想法，會比沉默好嗎 ?」\n- 兩個步驟\n    1. 問「是否願意尋求一種比雙方的方法更好的解決方案 ?」\n    2. 覆述對方的意見直到對方認可，確定你真正理解他的意思。\n- 第三選擇不一定是第三個方案，而是心態上真正的理解對方，而非妥協\n- 領導是一種選擇，而非一種職位\n- 與人和文化有關時，快就是慢，慢就是快\n\n### 十一 同心協力\n\n問題\n\n1. 你清楚了解組織的目標嗎 ?\n2. 你對組織忠誠奉獻嗎 ?\n\n四個現實問題\n\n1. 市場狀況\n2. 核心競爭力\n3. 利益關系人的期望與所需\n4. 價值觀\n\n刺蝟概念\n\n1. 你真正的專長是什麼 ?\n2. 你對什麼事充滿熱情 ?\n3. 人們會對什麼掏腰包 ?\n\n- 你的良知期望怎麼作 ?\n\n### 十二 整合體系\n\n問題\n\n- 你是怎麼想的 ?\n- 成長過程中，你最喜歡做什麼 ? 有什麼優秀的表現 ?\n\n> 持續整合不只是工程的事，而是整個組織與公司的事。\n\n### 十三 充分授權\n\n- 透過目標與責任以達到預期結果。\n- 若以授權的名義放任員工，自律也無法實現。\n- The Doctrine of Stubborn refusal — 出於良知\n- 服務型的領導人的問題\n  - 工作進度如何 ? 依據看板\n  - 你正在學習什麼 ?\n  - 你的目標是什麼 ?\n  - 我能幫你作什麼 ?\n  - 作為一個幫助者，我表現得如何 ?\n- 選擇的自由與能力\n  - 領導\n    - 意義 : 創造性刺激\n    - 愛 :  真心誠意的保證\n    - 職責: 愉快的合作\n  - 管理\n    - 獎勵 : 自願服從\n    - 恐懼 : 願意服從\n    - 憤怒 : 反抗或退出\n- 為不同意見保留一席之地，建立回饋機制讓他理解別人的感受。\n\n問題\n\n- 誰喜歡現在的方式 ?\n- 誰可以作 ?  誰有能力作 ?  誰有責任作 ?\n- 真正的考驗是改變能不能持久 ? → 回顧與重溫約定。(類似 Retrospective)\n- 你的建議是什麼 ? 你們的意見是什麼 ?\n- 知而不行，是為不知\n- 你所知道的東西 還不足以讓你提出合適的問題\n\n參考\n\n- [https://www.franklincovey.com/the-7-habits.html](https://www.franklincovey.com/the-7-habits.html)\n\n(fin)\n","source":"_posts/2019/book/the_8th_habit_from_effectiveness_to_greatness.md","raw":"---\ntitle: \"[閱讀筆記] 第八個習慣 --- 從成功到卓越\"\ndate: 2019/08/04 02:15:02\ntag:\n  - 閱讀筆記\n---\n\n## 找到自已內在的聲音\n\n![第八個習慣](/images/2019/8/the_8th_habbit.jpg)\n\n- small things listen to your head , big things listen to your heart\n- 孟加拉微形貸款的反思\n\n    > 讓 99% 的人生活更好，並賺取收入成為 1 % 富者\n\n- Most ailing organisations have developed a functional blindness to their own defects. They are not suffering because they cannot resolve their problems, but because they cannot see their problems.  — John Gardner  → 看見全貌 — 李智樺(Rudy Lee)\n- 願景和心聲是慢慢演化出來的…感覺到人類的某種需求，而且他們的**良知**的回應試圖滿足這些需求就會出現**願景**。\n- 個人領導(發揮影響力)是一種選擇，是一種自已必須去贏得的**自由**——只有當你贏得之後，領導才會變成一種選擇。\n- 3+1 的世界(Marsen Lin)\n\nColumn|Core|First|Second|Third\n------|----|-----|------|-----\n全人思維模式|心靈|心智|身體|情感\n四種才能|SQ 精神|IQ 智力|PQ 身體|EQ 情感\n人類四項基本需求|發揮影響力|學習|生活|愛\n四種才能的最高表現|良知|願景|自律|熱情\n四種才能的反模式|自我|受害者心理|放縱|淪為社會的鏡子\n將人物化的管理|老闆|規定|效率|控制\n領導的四項職責|以身作則|探索方向|整合體系|充份授權\n四大管理措施|文化|策略|結構|執行\n完整工作中的全人|服務|計畫|執行|評估\n\n- 現況\n\n> 報酬: 不公 / 一般 / 很好\n> 尊重: 有 / 無\n> 自主性: 有 / 無\n> 意義: 有 / 無\n> 愛 : 有 / 無\n\n- 通往卓越的地圖 vs 選擇地圖\n\n    ![通往卓越的地圖](/images/2019/8/the_8th_habbit_map.jpg)\n\n    ![選擇地圖](/images/2019/8/qt_choice_map.jpg)\n\n- 目的和手段是不可分的，目的實際存在於手段之中。\n- 用於實現目的手段與目的同樣重要 — 康德\n- 只要目的合理，用什麼樣的手段都是合理的。— 馬基維利\n- 在刺激和回應之間有一段空間，我們有自由和能力選擇自已的回應\n\n    > 聰明是一種天賦，而善良是一種選擇。\n\n- 所有事物都是經過兩次創造，一次是心智上的創造，一次是實際的創造\n\n### 問題\n\n- 我在家庭、社區、工作單位裡感受到什麼需求 ?\n- 我是否擁有可以滿足這個需求的天賦才能 ?\n- 滿足這個需求的機會是否能激起我的熱情 ?\n- 我的良知是否在激勵我積極投入、採取行動 ?\n\n## 激勵他人尋找內在的聲音\n\n- 領導是一種如何充份授權的藝術。\n- 對人充份授權，對物進行管理與控制\n- 工業時代的管理，老闆/規定/效率/控制\n\n### 七、以身作則\n\n- 不論什麼時候，如果你認為問題在別人身上，那麼這個想法本身就有問題。\n- 主動，是自我授權的一種形式\n- 有的時候，在某些文化中，得到原諒比得到批准來得容易\n- 7種自我授權\n    1. 坐等吩附\n    2. 詢問\n    3. 提出建議\n    4. 我想做\n    5. 執行並立刻報告\n    6. 執行後定期報告\n    7. 只管去做\n- 做一個燈塔，不要當法管; 作一個榜樣，不要當批評家。\n\n### 八、成為表率\n\n- 七個習慣\n  - 主動積極\n  - 以終為始\n  - 要事第一\n  - 雙贏思維\n  - 知彼解已\n  - 統合綜效\n  - 不斷更新\n\n- 有系統的個人計劃\n  - 「確定任務與價值」\n  - 願景和價值觀\n      1. 每日計劃\n      2. 每周計劃\n      3. 設定目標\n      4. 確定任務和價值\n\n### 九、贏得信任\n\n- 儲蓄\n    1. 先努力理解他人\n    2. 信守承諾\n    3. 誠實、開誠布公\n    4. 和善、有禮\n    5. 雙贏或無交易的思維方式\n    6. 明確的期望\n    7. 對不在場者保持忠誠\n    8. 道歉\n    9. 接受回饋意見\n    10. 寬恕\n\n- 支出\n  1. 先求被他人理解\n  2. 破壞承諾\n  3. 圓滑的操縱\n  4. 冷漠、無禮\n  5. 我贏你輸或我輸你贏的思維方式\n  6. 破壞期望\n  7. 不忠誠、欺騙\n  8. 驕傲、自負、傲慢\n  9. 不接受回饋意見\n  10. 心懷怨恨\n\n- 必要的犧牲\n    1. 不耐煩、自我中心\n    2. 情緒、感情、時間\n    3. 自我中心、傲慢、控制\n    4. 自我、時間、感覺、成見、偏見\n    5. 勝者為王、競爭意識\n    6. 蜻蜓點水式的交流\n    7. 某些社會認可、祕而不宣\n    8. 自我、傲慢、驕傲、時間\n    9. 自我、傲慢、驕傲、起反作用的溝通\n    10. 驕傲、自我中心\n\n- 內在原則\n  1. 相互了解\n  2. 完整／執行\n  3. 遠見／價值觀、統一／執行、相互了解\n  4. 遠見／價值觀、完整／執行\n  5. 相互尊重／互惠\n  6. 相互尊重／互惠、相互了解、創造性合作、更新\n  7. 遠見／價值觀、完整／執行\n  8. 遠見／價值觀、完整／執行\n  9. 相互了解\n  10. 遠見／價值觀、統一／執行\n\n- 真正的付出，必須是對方願意接受的東西\n- 說謊是將問題推給未來，誠實則是將問題留給過去\n- 成年人只是大孩子而已\n- 你如何看待我的角色與目標 ?　你如何看待自已的角色與目標 ?\n- 我們自已選擇什麼樣的回應方式，是決定生活的關鍵因素\n- 信任和愛一樣\n  - 愛是一個動詞，而愛情是愛的結果\n  - 讓自已的情感服從價值\n  - 信任需要冒險、磨練， 沒有風險是最大的冒險\n- 個人層次\n  - 態度積極的好榜樣。\n  - 不要抱怨、比較、批評、競爭和爭鬥。\n  - 作一個燈塔式的人物，而不要作法官式的人，作一個榜樣而不要作批評家\n  - 無力改變所有的事情(別人)時，改變自已\n- 人們需感覺自已被欣賞，需要感覺到自已所從事的工作是有價值的\n\n### 十 融合心聲\n\n- 雙贏思維只要有一方願意改變就可以了\n\n改變得從願意改變的那個人開始 — 改變提問，改變人生\n\n- 傾聽的連續性\n    1. 忽略\n    2. 假裝在聽\n    3. 選擇性傾聽\n    4. 專心傾聽\n    5. 以同理心傾聽 (以對方的框架思考)\n\n- 解決方案\n  1. 你輸我贏/你贏我輸 [交易]\n  2. 妥協 [交易]\n  3. 相互了解(沒有共識) [轉變]\n  4. 你輸我贏/你贏我輸(增加了解與關心) [轉變]\n  5. 妥協(在關係上取得統合綜效) [轉變]\n  6. 在問題和關係上取得統合綜效 [轉變]\n- 人們會看到同樣的事實，但是以個人的經驗加上不同的解釋，創造意義並產生行為\n- 一但你有了身分上的權利，你會認定只有一個答案是對的，自我愈強烈，愈固執，愈僵化。\n- 沉默是必要的，問一個問題「說出自已的真正想法，會比沉默好嗎 ?」\n- 兩個步驟\n    1. 問「是否願意尋求一種比雙方的方法更好的解決方案 ?」\n    2. 覆述對方的意見直到對方認可，確定你真正理解他的意思。\n- 第三選擇不一定是第三個方案，而是心態上真正的理解對方，而非妥協\n- 領導是一種選擇，而非一種職位\n- 與人和文化有關時，快就是慢，慢就是快\n\n### 十一 同心協力\n\n問題\n\n1. 你清楚了解組織的目標嗎 ?\n2. 你對組織忠誠奉獻嗎 ?\n\n四個現實問題\n\n1. 市場狀況\n2. 核心競爭力\n3. 利益關系人的期望與所需\n4. 價值觀\n\n刺蝟概念\n\n1. 你真正的專長是什麼 ?\n2. 你對什麼事充滿熱情 ?\n3. 人們會對什麼掏腰包 ?\n\n- 你的良知期望怎麼作 ?\n\n### 十二 整合體系\n\n問題\n\n- 你是怎麼想的 ?\n- 成長過程中，你最喜歡做什麼 ? 有什麼優秀的表現 ?\n\n> 持續整合不只是工程的事，而是整個組織與公司的事。\n\n### 十三 充分授權\n\n- 透過目標與責任以達到預期結果。\n- 若以授權的名義放任員工，自律也無法實現。\n- The Doctrine of Stubborn refusal — 出於良知\n- 服務型的領導人的問題\n  - 工作進度如何 ? 依據看板\n  - 你正在學習什麼 ?\n  - 你的目標是什麼 ?\n  - 我能幫你作什麼 ?\n  - 作為一個幫助者，我表現得如何 ?\n- 選擇的自由與能力\n  - 領導\n    - 意義 : 創造性刺激\n    - 愛 :  真心誠意的保證\n    - 職責: 愉快的合作\n  - 管理\n    - 獎勵 : 自願服從\n    - 恐懼 : 願意服從\n    - 憤怒 : 反抗或退出\n- 為不同意見保留一席之地，建立回饋機制讓他理解別人的感受。\n\n問題\n\n- 誰喜歡現在的方式 ?\n- 誰可以作 ?  誰有能力作 ?  誰有責任作 ?\n- 真正的考驗是改變能不能持久 ? → 回顧與重溫約定。(類似 Retrospective)\n- 你的建議是什麼 ? 你們的意見是什麼 ?\n- 知而不行，是為不知\n- 你所知道的東西 還不足以讓你提出合適的問題\n\n參考\n\n- [https://www.franklincovey.com/the-7-habits.html](https://www.franklincovey.com/the-7-habits.html)\n\n(fin)\n","slug":"2019/book/the_8th_habit_from_effectiveness_to_greatness","published":1,"updated":"2019-08-03T19:14:13.524Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wrm00aeb0vx9gh40p12","content":"<h2 id=\"找到自已內在的聲音\"><a href=\"#找到自已內在的聲音\" class=\"headerlink\" title=\"找到自已內在的聲音\"></a>找到自已內在的聲音</h2><p><img src=\"/images/2019/8/the_8th_habbit.jpg\" alt=\"第八個習慣\"></p>\n<ul>\n<li><p>small things listen to your head , big things listen to your heart</p>\n</li>\n<li><p>孟加拉微形貸款的反思</p>\n<blockquote>\n<p>讓 99% 的人生活更好，並賺取收入成為 1 % 富者</p>\n</blockquote>\n</li>\n<li><p>Most ailing organisations have developed a functional blindness to their own defects. They are not suffering because they cannot resolve their problems, but because they cannot see their problems.  — John Gardner  → 看見全貌 — 李智樺(Rudy Lee)</p>\n</li>\n<li><p>願景和心聲是慢慢演化出來的…感覺到人類的某種需求，而且他們的<strong>良知</strong>的回應試圖滿足這些需求就會出現<strong>願景</strong>。</p>\n</li>\n<li><p>個人領導(發揮影響力)是一種選擇，是一種自已必須去贏得的<strong>自由</strong>——只有當你贏得之後，領導才會變成一種選擇。</p>\n</li>\n<li><p>3+1 的世界(Marsen Lin)</p>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>Column</th>\n<th>Core</th>\n<th>First</th>\n<th>Second</th>\n<th>Third</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>全人思維模式</td>\n<td>心靈</td>\n<td>心智</td>\n<td>身體</td>\n<td>情感</td>\n</tr>\n<tr>\n<td>四種才能</td>\n<td>SQ 精神</td>\n<td>IQ 智力</td>\n<td>PQ 身體</td>\n<td>EQ 情感</td>\n</tr>\n<tr>\n<td>人類四項基本需求</td>\n<td>發揮影響力</td>\n<td>學習</td>\n<td>生活</td>\n<td>愛</td>\n</tr>\n<tr>\n<td>四種才能的最高表現</td>\n<td>良知</td>\n<td>願景</td>\n<td>自律</td>\n<td>熱情</td>\n</tr>\n<tr>\n<td>四種才能的反模式</td>\n<td>自我</td>\n<td>受害者心理</td>\n<td>放縱</td>\n<td>淪為社會的鏡子</td>\n</tr>\n<tr>\n<td>將人物化的管理</td>\n<td>老闆</td>\n<td>規定</td>\n<td>效率</td>\n<td>控制</td>\n</tr>\n<tr>\n<td>領導的四項職責</td>\n<td>以身作則</td>\n<td>探索方向</td>\n<td>整合體系</td>\n<td>充份授權</td>\n</tr>\n<tr>\n<td>四大管理措施</td>\n<td>文化</td>\n<td>策略</td>\n<td>結構</td>\n<td>執行</td>\n</tr>\n<tr>\n<td>完整工作中的全人</td>\n<td>服務</td>\n<td>計畫</td>\n<td>執行</td>\n<td>評估</td>\n</tr>\n</tbody></table>\n<ul>\n<li>現況</li>\n</ul>\n<blockquote>\n<p>報酬: 不公 / 一般 / 很好<br>尊重: 有 / 無<br>自主性: 有 / 無<br>意義: 有 / 無<br>愛 : 有 / 無</p>\n</blockquote>\n<ul>\n<li><p>通往卓越的地圖 vs 選擇地圖</p>\n<p>  <img src=\"/images/2019/8/the_8th_habbit_map.jpg\" alt=\"通往卓越的地圖\"></p>\n<p>  <img src=\"/images/2019/8/qt_choice_map.jpg\" alt=\"選擇地圖\"></p>\n</li>\n<li><p>目的和手段是不可分的，目的實際存在於手段之中。</p>\n</li>\n<li><p>用於實現目的手段與目的同樣重要 — 康德</p>\n</li>\n<li><p>只要目的合理，用什麼樣的手段都是合理的。— 馬基維利</p>\n</li>\n<li><p>在刺激和回應之間有一段空間，我們有自由和能力選擇自已的回應</p>\n<blockquote>\n<p>聰明是一種天賦，而善良是一種選擇。</p>\n</blockquote>\n</li>\n<li><p>所有事物都是經過兩次創造，一次是心智上的創造，一次是實際的創造</p>\n</li>\n</ul>\n<h3 id=\"問題\"><a href=\"#問題\" class=\"headerlink\" title=\"問題\"></a>問題</h3><ul>\n<li>我在家庭、社區、工作單位裡感受到什麼需求 ?</li>\n<li>我是否擁有可以滿足這個需求的天賦才能 ?</li>\n<li>滿足這個需求的機會是否能激起我的熱情 ?</li>\n<li>我的良知是否在激勵我積極投入、採取行動 ?</li>\n</ul>\n<h2 id=\"激勵他人尋找內在的聲音\"><a href=\"#激勵他人尋找內在的聲音\" class=\"headerlink\" title=\"激勵他人尋找內在的聲音\"></a>激勵他人尋找內在的聲音</h2><ul>\n<li>領導是一種如何充份授權的藝術。</li>\n<li>對人充份授權，對物進行管理與控制</li>\n<li>工業時代的管理，老闆/規定/效率/控制</li>\n</ul>\n<h3 id=\"七、以身作則\"><a href=\"#七、以身作則\" class=\"headerlink\" title=\"七、以身作則\"></a>七、以身作則</h3><ul>\n<li>不論什麼時候，如果你認為問題在別人身上，那麼這個想法本身就有問題。</li>\n<li>主動，是自我授權的一種形式</li>\n<li>有的時候，在某些文化中，得到原諒比得到批准來得容易</li>\n<li>7種自我授權<ol>\n<li>坐等吩附</li>\n<li>詢問</li>\n<li>提出建議</li>\n<li>我想做</li>\n<li>執行並立刻報告</li>\n<li>執行後定期報告</li>\n<li>只管去做</li>\n</ol>\n</li>\n<li>做一個燈塔，不要當法管; 作一個榜樣，不要當批評家。</li>\n</ul>\n<h3 id=\"八、成為表率\"><a href=\"#八、成為表率\" class=\"headerlink\" title=\"八、成為表率\"></a>八、成為表率</h3><ul>\n<li><p>七個習慣</p>\n<ul>\n<li>主動積極</li>\n<li>以終為始</li>\n<li>要事第一</li>\n<li>雙贏思維</li>\n<li>知彼解已</li>\n<li>統合綜效</li>\n<li>不斷更新</li>\n</ul>\n</li>\n<li><p>有系統的個人計劃</p>\n<ul>\n<li>「確定任務與價值」</li>\n<li>願景和價值觀<ol>\n<li>每日計劃</li>\n<li>每周計劃</li>\n<li>設定目標</li>\n<li>確定任務和價值</li>\n</ol>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"九、贏得信任\"><a href=\"#九、贏得信任\" class=\"headerlink\" title=\"九、贏得信任\"></a>九、贏得信任</h3><ul>\n<li><p>儲蓄</p>\n<ol>\n<li>先努力理解他人</li>\n<li>信守承諾</li>\n<li>誠實、開誠布公</li>\n<li>和善、有禮</li>\n<li>雙贏或無交易的思維方式</li>\n<li>明確的期望</li>\n<li>對不在場者保持忠誠</li>\n<li>道歉</li>\n<li>接受回饋意見</li>\n<li>寬恕</li>\n</ol>\n</li>\n<li><p>支出</p>\n<ol>\n<li>先求被他人理解</li>\n<li>破壞承諾</li>\n<li>圓滑的操縱</li>\n<li>冷漠、無禮</li>\n<li>我贏你輸或我輸你贏的思維方式</li>\n<li>破壞期望</li>\n<li>不忠誠、欺騙</li>\n<li>驕傲、自負、傲慢</li>\n<li>不接受回饋意見</li>\n<li>心懷怨恨</li>\n</ol>\n</li>\n<li><p>必要的犧牲</p>\n<ol>\n<li>不耐煩、自我中心</li>\n<li>情緒、感情、時間</li>\n<li>自我中心、傲慢、控制</li>\n<li>自我、時間、感覺、成見、偏見</li>\n<li>勝者為王、競爭意識</li>\n<li>蜻蜓點水式的交流</li>\n<li>某些社會認可、祕而不宣</li>\n<li>自我、傲慢、驕傲、時間</li>\n<li>自我、傲慢、驕傲、起反作用的溝通</li>\n<li>驕傲、自我中心</li>\n</ol>\n</li>\n<li><p>內在原則</p>\n<ol>\n<li>相互了解</li>\n<li>完整／執行</li>\n<li>遠見／價值觀、統一／執行、相互了解</li>\n<li>遠見／價值觀、完整／執行</li>\n<li>相互尊重／互惠</li>\n<li>相互尊重／互惠、相互了解、創造性合作、更新</li>\n<li>遠見／價值觀、完整／執行</li>\n<li>遠見／價值觀、完整／執行</li>\n<li>相互了解</li>\n<li>遠見／價值觀、統一／執行</li>\n</ol>\n</li>\n<li><p>真正的付出，必須是對方願意接受的東西</p>\n</li>\n<li><p>說謊是將問題推給未來，誠實則是將問題留給過去</p>\n</li>\n<li><p>成年人只是大孩子而已</p>\n</li>\n<li><p>你如何看待我的角色與目標 ?　你如何看待自已的角色與目標 ?</p>\n</li>\n<li><p>我們自已選擇什麼樣的回應方式，是決定生活的關鍵因素</p>\n</li>\n<li><p>信任和愛一樣</p>\n<ul>\n<li>愛是一個動詞，而愛情是愛的結果</li>\n<li>讓自已的情感服從價值</li>\n<li>信任需要冒險、磨練， 沒有風險是最大的冒險</li>\n</ul>\n</li>\n<li><p>個人層次</p>\n<ul>\n<li>態度積極的好榜樣。</li>\n<li>不要抱怨、比較、批評、競爭和爭鬥。</li>\n<li>作一個燈塔式的人物，而不要作法官式的人，作一個榜樣而不要作批評家</li>\n<li>無力改變所有的事情(別人)時，改變自已</li>\n</ul>\n</li>\n<li><p>人們需感覺自已被欣賞，需要感覺到自已所從事的工作是有價值的</p>\n</li>\n</ul>\n<h3 id=\"十-融合心聲\"><a href=\"#十-融合心聲\" class=\"headerlink\" title=\"十 融合心聲\"></a>十 融合心聲</h3><ul>\n<li>雙贏思維只要有一方願意改變就可以了</li>\n</ul>\n<p>改變得從願意改變的那個人開始 — 改變提問，改變人生</p>\n<ul>\n<li><p>傾聽的連續性</p>\n<ol>\n<li>忽略</li>\n<li>假裝在聽</li>\n<li>選擇性傾聽</li>\n<li>專心傾聽</li>\n<li>以同理心傾聽 (以對方的框架思考)</li>\n</ol>\n</li>\n<li><p>解決方案</p>\n<ol>\n<li>你輸我贏/你贏我輸 [交易]</li>\n<li>妥協 [交易]</li>\n<li>相互了解(沒有共識) [轉變]</li>\n<li>你輸我贏/你贏我輸(增加了解與關心) [轉變]</li>\n<li>妥協(在關係上取得統合綜效) [轉變]</li>\n<li>在問題和關係上取得統合綜效 [轉變]</li>\n</ol>\n</li>\n<li><p>人們會看到同樣的事實，但是以個人的經驗加上不同的解釋，創造意義並產生行為</p>\n</li>\n<li><p>一但你有了身分上的權利，你會認定只有一個答案是對的，自我愈強烈，愈固執，愈僵化。</p>\n</li>\n<li><p>沉默是必要的，問一個問題「說出自已的真正想法，會比沉默好嗎 ?」</p>\n</li>\n<li><p>兩個步驟</p>\n<ol>\n<li>問「是否願意尋求一種比雙方的方法更好的解決方案 ?」</li>\n<li>覆述對方的意見直到對方認可，確定你真正理解他的意思。</li>\n</ol>\n</li>\n<li><p>第三選擇不一定是第三個方案，而是心態上真正的理解對方，而非妥協</p>\n</li>\n<li><p>領導是一種選擇，而非一種職位</p>\n</li>\n<li><p>與人和文化有關時，快就是慢，慢就是快</p>\n</li>\n</ul>\n<h3 id=\"十一-同心協力\"><a href=\"#十一-同心協力\" class=\"headerlink\" title=\"十一 同心協力\"></a>十一 同心協力</h3><p>問題</p>\n<ol>\n<li>你清楚了解組織的目標嗎 ?</li>\n<li>你對組織忠誠奉獻嗎 ?</li>\n</ol>\n<p>四個現實問題</p>\n<ol>\n<li>市場狀況</li>\n<li>核心競爭力</li>\n<li>利益關系人的期望與所需</li>\n<li>價值觀</li>\n</ol>\n<p>刺蝟概念</p>\n<ol>\n<li>你真正的專長是什麼 ?</li>\n<li>你對什麼事充滿熱情 ?</li>\n<li>人們會對什麼掏腰包 ?</li>\n</ol>\n<ul>\n<li>你的良知期望怎麼作 ?</li>\n</ul>\n<h3 id=\"十二-整合體系\"><a href=\"#十二-整合體系\" class=\"headerlink\" title=\"十二 整合體系\"></a>十二 整合體系</h3><p>問題</p>\n<ul>\n<li>你是怎麼想的 ?</li>\n<li>成長過程中，你最喜歡做什麼 ? 有什麼優秀的表現 ?</li>\n</ul>\n<blockquote>\n<p>持續整合不只是工程的事，而是整個組織與公司的事。</p>\n</blockquote>\n<h3 id=\"十三-充分授權\"><a href=\"#十三-充分授權\" class=\"headerlink\" title=\"十三 充分授權\"></a>十三 充分授權</h3><ul>\n<li>透過目標與責任以達到預期結果。</li>\n<li>若以授權的名義放任員工，自律也無法實現。</li>\n<li>The Doctrine of Stubborn refusal — 出於良知</li>\n<li>服務型的領導人的問題<ul>\n<li>工作進度如何 ? 依據看板</li>\n<li>你正在學習什麼 ?</li>\n<li>你的目標是什麼 ?</li>\n<li>我能幫你作什麼 ?</li>\n<li>作為一個幫助者，我表現得如何 ?</li>\n</ul>\n</li>\n<li>選擇的自由與能力<ul>\n<li>領導<ul>\n<li>意義 : 創造性刺激</li>\n<li>愛 :  真心誠意的保證</li>\n<li>職責: 愉快的合作</li>\n</ul>\n</li>\n<li>管理<ul>\n<li>獎勵 : 自願服從</li>\n<li>恐懼 : 願意服從</li>\n<li>憤怒 : 反抗或退出</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>為不同意見保留一席之地，建立回饋機制讓他理解別人的感受。</li>\n</ul>\n<p>問題</p>\n<ul>\n<li>誰喜歡現在的方式 ?</li>\n<li>誰可以作 ?  誰有能力作 ?  誰有責任作 ?</li>\n<li>真正的考驗是改變能不能持久 ? → 回顧與重溫約定。(類似 Retrospective)</li>\n<li>你的建議是什麼 ? 你們的意見是什麼 ?</li>\n<li>知而不行，是為不知</li>\n<li>你所知道的東西 還不足以讓你提出合適的問題</li>\n</ul>\n<p>參考</p>\n<ul>\n<li><a href=\"https://www.franklincovey.com/the-7-habits.html\" target=\"_blank\" rel=\"noopener\">https://www.franklincovey.com/the-7-habits.html</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"找到自已內在的聲音\"><a href=\"#找到自已內在的聲音\" class=\"headerlink\" title=\"找到自已內在的聲音\"></a>找到自已內在的聲音</h2><p><img src=\"/images/2019/8/the_8th_habbit.jpg\" alt=\"第八個習慣\"></p>\n<ul>\n<li><p>small things listen to your head , big things listen to your heart</p>\n</li>\n<li><p>孟加拉微形貸款的反思</p>\n<blockquote>\n<p>讓 99% 的人生活更好，並賺取收入成為 1 % 富者</p>\n</blockquote>\n</li>\n<li><p>Most ailing organisations have developed a functional blindness to their own defects. They are not suffering because they cannot resolve their problems, but because they cannot see their problems.  — John Gardner  → 看見全貌 — 李智樺(Rudy Lee)</p>\n</li>\n<li><p>願景和心聲是慢慢演化出來的…感覺到人類的某種需求，而且他們的<strong>良知</strong>的回應試圖滿足這些需求就會出現<strong>願景</strong>。</p>\n</li>\n<li><p>個人領導(發揮影響力)是一種選擇，是一種自已必須去贏得的<strong>自由</strong>——只有當你贏得之後，領導才會變成一種選擇。</p>\n</li>\n<li><p>3+1 的世界(Marsen Lin)</p>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>Column</th>\n<th>Core</th>\n<th>First</th>\n<th>Second</th>\n<th>Third</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>全人思維模式</td>\n<td>心靈</td>\n<td>心智</td>\n<td>身體</td>\n<td>情感</td>\n</tr>\n<tr>\n<td>四種才能</td>\n<td>SQ 精神</td>\n<td>IQ 智力</td>\n<td>PQ 身體</td>\n<td>EQ 情感</td>\n</tr>\n<tr>\n<td>人類四項基本需求</td>\n<td>發揮影響力</td>\n<td>學習</td>\n<td>生活</td>\n<td>愛</td>\n</tr>\n<tr>\n<td>四種才能的最高表現</td>\n<td>良知</td>\n<td>願景</td>\n<td>自律</td>\n<td>熱情</td>\n</tr>\n<tr>\n<td>四種才能的反模式</td>\n<td>自我</td>\n<td>受害者心理</td>\n<td>放縱</td>\n<td>淪為社會的鏡子</td>\n</tr>\n<tr>\n<td>將人物化的管理</td>\n<td>老闆</td>\n<td>規定</td>\n<td>效率</td>\n<td>控制</td>\n</tr>\n<tr>\n<td>領導的四項職責</td>\n<td>以身作則</td>\n<td>探索方向</td>\n<td>整合體系</td>\n<td>充份授權</td>\n</tr>\n<tr>\n<td>四大管理措施</td>\n<td>文化</td>\n<td>策略</td>\n<td>結構</td>\n<td>執行</td>\n</tr>\n<tr>\n<td>完整工作中的全人</td>\n<td>服務</td>\n<td>計畫</td>\n<td>執行</td>\n<td>評估</td>\n</tr>\n</tbody></table>\n<ul>\n<li>現況</li>\n</ul>\n<blockquote>\n<p>報酬: 不公 / 一般 / 很好<br>尊重: 有 / 無<br>自主性: 有 / 無<br>意義: 有 / 無<br>愛 : 有 / 無</p>\n</blockquote>\n<ul>\n<li><p>通往卓越的地圖 vs 選擇地圖</p>\n<p>  <img src=\"/images/2019/8/the_8th_habbit_map.jpg\" alt=\"通往卓越的地圖\"></p>\n<p>  <img src=\"/images/2019/8/qt_choice_map.jpg\" alt=\"選擇地圖\"></p>\n</li>\n<li><p>目的和手段是不可分的，目的實際存在於手段之中。</p>\n</li>\n<li><p>用於實現目的手段與目的同樣重要 — 康德</p>\n</li>\n<li><p>只要目的合理，用什麼樣的手段都是合理的。— 馬基維利</p>\n</li>\n<li><p>在刺激和回應之間有一段空間，我們有自由和能力選擇自已的回應</p>\n<blockquote>\n<p>聰明是一種天賦，而善良是一種選擇。</p>\n</blockquote>\n</li>\n<li><p>所有事物都是經過兩次創造，一次是心智上的創造，一次是實際的創造</p>\n</li>\n</ul>\n<h3 id=\"問題\"><a href=\"#問題\" class=\"headerlink\" title=\"問題\"></a>問題</h3><ul>\n<li>我在家庭、社區、工作單位裡感受到什麼需求 ?</li>\n<li>我是否擁有可以滿足這個需求的天賦才能 ?</li>\n<li>滿足這個需求的機會是否能激起我的熱情 ?</li>\n<li>我的良知是否在激勵我積極投入、採取行動 ?</li>\n</ul>\n<h2 id=\"激勵他人尋找內在的聲音\"><a href=\"#激勵他人尋找內在的聲音\" class=\"headerlink\" title=\"激勵他人尋找內在的聲音\"></a>激勵他人尋找內在的聲音</h2><ul>\n<li>領導是一種如何充份授權的藝術。</li>\n<li>對人充份授權，對物進行管理與控制</li>\n<li>工業時代的管理，老闆/規定/效率/控制</li>\n</ul>\n<h3 id=\"七、以身作則\"><a href=\"#七、以身作則\" class=\"headerlink\" title=\"七、以身作則\"></a>七、以身作則</h3><ul>\n<li>不論什麼時候，如果你認為問題在別人身上，那麼這個想法本身就有問題。</li>\n<li>主動，是自我授權的一種形式</li>\n<li>有的時候，在某些文化中，得到原諒比得到批准來得容易</li>\n<li>7種自我授權<ol>\n<li>坐等吩附</li>\n<li>詢問</li>\n<li>提出建議</li>\n<li>我想做</li>\n<li>執行並立刻報告</li>\n<li>執行後定期報告</li>\n<li>只管去做</li>\n</ol>\n</li>\n<li>做一個燈塔，不要當法管; 作一個榜樣，不要當批評家。</li>\n</ul>\n<h3 id=\"八、成為表率\"><a href=\"#八、成為表率\" class=\"headerlink\" title=\"八、成為表率\"></a>八、成為表率</h3><ul>\n<li><p>七個習慣</p>\n<ul>\n<li>主動積極</li>\n<li>以終為始</li>\n<li>要事第一</li>\n<li>雙贏思維</li>\n<li>知彼解已</li>\n<li>統合綜效</li>\n<li>不斷更新</li>\n</ul>\n</li>\n<li><p>有系統的個人計劃</p>\n<ul>\n<li>「確定任務與價值」</li>\n<li>願景和價值觀<ol>\n<li>每日計劃</li>\n<li>每周計劃</li>\n<li>設定目標</li>\n<li>確定任務和價值</li>\n</ol>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"九、贏得信任\"><a href=\"#九、贏得信任\" class=\"headerlink\" title=\"九、贏得信任\"></a>九、贏得信任</h3><ul>\n<li><p>儲蓄</p>\n<ol>\n<li>先努力理解他人</li>\n<li>信守承諾</li>\n<li>誠實、開誠布公</li>\n<li>和善、有禮</li>\n<li>雙贏或無交易的思維方式</li>\n<li>明確的期望</li>\n<li>對不在場者保持忠誠</li>\n<li>道歉</li>\n<li>接受回饋意見</li>\n<li>寬恕</li>\n</ol>\n</li>\n<li><p>支出</p>\n<ol>\n<li>先求被他人理解</li>\n<li>破壞承諾</li>\n<li>圓滑的操縱</li>\n<li>冷漠、無禮</li>\n<li>我贏你輸或我輸你贏的思維方式</li>\n<li>破壞期望</li>\n<li>不忠誠、欺騙</li>\n<li>驕傲、自負、傲慢</li>\n<li>不接受回饋意見</li>\n<li>心懷怨恨</li>\n</ol>\n</li>\n<li><p>必要的犧牲</p>\n<ol>\n<li>不耐煩、自我中心</li>\n<li>情緒、感情、時間</li>\n<li>自我中心、傲慢、控制</li>\n<li>自我、時間、感覺、成見、偏見</li>\n<li>勝者為王、競爭意識</li>\n<li>蜻蜓點水式的交流</li>\n<li>某些社會認可、祕而不宣</li>\n<li>自我、傲慢、驕傲、時間</li>\n<li>自我、傲慢、驕傲、起反作用的溝通</li>\n<li>驕傲、自我中心</li>\n</ol>\n</li>\n<li><p>內在原則</p>\n<ol>\n<li>相互了解</li>\n<li>完整／執行</li>\n<li>遠見／價值觀、統一／執行、相互了解</li>\n<li>遠見／價值觀、完整／執行</li>\n<li>相互尊重／互惠</li>\n<li>相互尊重／互惠、相互了解、創造性合作、更新</li>\n<li>遠見／價值觀、完整／執行</li>\n<li>遠見／價值觀、完整／執行</li>\n<li>相互了解</li>\n<li>遠見／價值觀、統一／執行</li>\n</ol>\n</li>\n<li><p>真正的付出，必須是對方願意接受的東西</p>\n</li>\n<li><p>說謊是將問題推給未來，誠實則是將問題留給過去</p>\n</li>\n<li><p>成年人只是大孩子而已</p>\n</li>\n<li><p>你如何看待我的角色與目標 ?　你如何看待自已的角色與目標 ?</p>\n</li>\n<li><p>我們自已選擇什麼樣的回應方式，是決定生活的關鍵因素</p>\n</li>\n<li><p>信任和愛一樣</p>\n<ul>\n<li>愛是一個動詞，而愛情是愛的結果</li>\n<li>讓自已的情感服從價值</li>\n<li>信任需要冒險、磨練， 沒有風險是最大的冒險</li>\n</ul>\n</li>\n<li><p>個人層次</p>\n<ul>\n<li>態度積極的好榜樣。</li>\n<li>不要抱怨、比較、批評、競爭和爭鬥。</li>\n<li>作一個燈塔式的人物，而不要作法官式的人，作一個榜樣而不要作批評家</li>\n<li>無力改變所有的事情(別人)時，改變自已</li>\n</ul>\n</li>\n<li><p>人們需感覺自已被欣賞，需要感覺到自已所從事的工作是有價值的</p>\n</li>\n</ul>\n<h3 id=\"十-融合心聲\"><a href=\"#十-融合心聲\" class=\"headerlink\" title=\"十 融合心聲\"></a>十 融合心聲</h3><ul>\n<li>雙贏思維只要有一方願意改變就可以了</li>\n</ul>\n<p>改變得從願意改變的那個人開始 — 改變提問，改變人生</p>\n<ul>\n<li><p>傾聽的連續性</p>\n<ol>\n<li>忽略</li>\n<li>假裝在聽</li>\n<li>選擇性傾聽</li>\n<li>專心傾聽</li>\n<li>以同理心傾聽 (以對方的框架思考)</li>\n</ol>\n</li>\n<li><p>解決方案</p>\n<ol>\n<li>你輸我贏/你贏我輸 [交易]</li>\n<li>妥協 [交易]</li>\n<li>相互了解(沒有共識) [轉變]</li>\n<li>你輸我贏/你贏我輸(增加了解與關心) [轉變]</li>\n<li>妥協(在關係上取得統合綜效) [轉變]</li>\n<li>在問題和關係上取得統合綜效 [轉變]</li>\n</ol>\n</li>\n<li><p>人們會看到同樣的事實，但是以個人的經驗加上不同的解釋，創造意義並產生行為</p>\n</li>\n<li><p>一但你有了身分上的權利，你會認定只有一個答案是對的，自我愈強烈，愈固執，愈僵化。</p>\n</li>\n<li><p>沉默是必要的，問一個問題「說出自已的真正想法，會比沉默好嗎 ?」</p>\n</li>\n<li><p>兩個步驟</p>\n<ol>\n<li>問「是否願意尋求一種比雙方的方法更好的解決方案 ?」</li>\n<li>覆述對方的意見直到對方認可，確定你真正理解他的意思。</li>\n</ol>\n</li>\n<li><p>第三選擇不一定是第三個方案，而是心態上真正的理解對方，而非妥協</p>\n</li>\n<li><p>領導是一種選擇，而非一種職位</p>\n</li>\n<li><p>與人和文化有關時，快就是慢，慢就是快</p>\n</li>\n</ul>\n<h3 id=\"十一-同心協力\"><a href=\"#十一-同心協力\" class=\"headerlink\" title=\"十一 同心協力\"></a>十一 同心協力</h3><p>問題</p>\n<ol>\n<li>你清楚了解組織的目標嗎 ?</li>\n<li>你對組織忠誠奉獻嗎 ?</li>\n</ol>\n<p>四個現實問題</p>\n<ol>\n<li>市場狀況</li>\n<li>核心競爭力</li>\n<li>利益關系人的期望與所需</li>\n<li>價值觀</li>\n</ol>\n<p>刺蝟概念</p>\n<ol>\n<li>你真正的專長是什麼 ?</li>\n<li>你對什麼事充滿熱情 ?</li>\n<li>人們會對什麼掏腰包 ?</li>\n</ol>\n<ul>\n<li>你的良知期望怎麼作 ?</li>\n</ul>\n<h3 id=\"十二-整合體系\"><a href=\"#十二-整合體系\" class=\"headerlink\" title=\"十二 整合體系\"></a>十二 整合體系</h3><p>問題</p>\n<ul>\n<li>你是怎麼想的 ?</li>\n<li>成長過程中，你最喜歡做什麼 ? 有什麼優秀的表現 ?</li>\n</ul>\n<blockquote>\n<p>持續整合不只是工程的事，而是整個組織與公司的事。</p>\n</blockquote>\n<h3 id=\"十三-充分授權\"><a href=\"#十三-充分授權\" class=\"headerlink\" title=\"十三 充分授權\"></a>十三 充分授權</h3><ul>\n<li>透過目標與責任以達到預期結果。</li>\n<li>若以授權的名義放任員工，自律也無法實現。</li>\n<li>The Doctrine of Stubborn refusal — 出於良知</li>\n<li>服務型的領導人的問題<ul>\n<li>工作進度如何 ? 依據看板</li>\n<li>你正在學習什麼 ?</li>\n<li>你的目標是什麼 ?</li>\n<li>我能幫你作什麼 ?</li>\n<li>作為一個幫助者，我表現得如何 ?</li>\n</ul>\n</li>\n<li>選擇的自由與能力<ul>\n<li>領導<ul>\n<li>意義 : 創造性刺激</li>\n<li>愛 :  真心誠意的保證</li>\n<li>職責: 愉快的合作</li>\n</ul>\n</li>\n<li>管理<ul>\n<li>獎勵 : 自願服從</li>\n<li>恐懼 : 願意服從</li>\n<li>憤怒 : 反抗或退出</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>為不同意見保留一席之地，建立回饋機制讓他理解別人的感受。</li>\n</ul>\n<p>問題</p>\n<ul>\n<li>誰喜歡現在的方式 ?</li>\n<li>誰可以作 ?  誰有能力作 ?  誰有責任作 ?</li>\n<li>真正的考驗是改變能不能持久 ? → 回顧與重溫約定。(類似 Retrospective)</li>\n<li>你的建議是什麼 ? 你們的意見是什麼 ?</li>\n<li>知而不行，是為不知</li>\n<li>你所知道的東西 還不足以讓你提出合適的問題</li>\n</ul>\n<p>參考</p>\n<ul>\n<li><a href=\"https://www.franklincovey.com/the-7-habits.html\" target=\"_blank\" rel=\"noopener\">https://www.franklincovey.com/the-7-habits.html</a></li>\n</ul>\n<p>(fin)</p>\n"},{"title":"[閱讀筆記] 重構---改善既有程式的設計，第一章","date":"2019-03-01T03:17:16.000Z","_content":"## 為什麼\n\n### 知道自已不知道\n\n上次在公司內部開始進行 [Coding Dojo](/2019/01/30/2019/coding_dojo_in_company/)，在 [FizzBuzz 的 Kata](/2019/02/06/2019/coding_dojo_kata_fizzbuzz_first/) 嚐到了甜頭  \n但是下一道題目「Bowling」，卻卡住了。\n我們有測試，也通過測試，但是卻寸步難行，  \n在重構上我們非常的弱，這裡的重構不是指一次性的全面翻掉，  \n而是逐步的、可靠的前進，  \n我想習得這樣的技能，因為現場的代碼腐敗的更加嚴重，\n如果連 Kata 產生的代碼都不能優化，  \n那想對產品指手劃腳只不過是說幹話。\n\n\n## 閱讀經典:重構---改善即有的程式設計\n![](https://i.stack.imgur.com/BrLmD.jpg)\n\n這是一本來自 Martin Fowler 的經典書籍，新版已經出了，而且是以 `JavaScript` 作為範例語言。  \n不過我手頭上借到的是以 `Java` 作為範例的板本。\n\n### CH1 重構，第一個案例  \n第一個問題就是我找不到書中說的「線上範例」，  \n即使找到我也沒有 `Java` 的開發環境，所以心一橫就開始了改寫成 `C#` 的計劃  \n這部份比我想像中的簡單很多，兩個語言是相同類似的，  \n[第1章，第一個案例](https://github.com/marsen/Marsen.NetCore.Dojo/commit/6e600db029fe2f62df724d0179b708c97a0b3313)\n\n**接下來只要照著書上一步一步作就會...覺得越來越沒 fu …**\n為什麼 ??? \n\n其實 Martin 大叔在書中有提到「為即將修改的程式建立可靠的測試…畢竟是人，可能會犯錯。所以我需要可靠的測試」。  \n沒fu的原因就是**我沒加測試**，即使重構了，我也不知道好壞。\n沒有反饋是很糟糕的一件事。\n\n### CH1 重構，第一個案例，加上測試\n\n那麼要怎麼加測試呢 ?\n書上的案例我分析了一下，其實重構的目標只是一個單純的方法  \n會針對不同的情境回傳不同的字串。\n\n簡單的說，我只要讓測試覆蓋這個方法就可以開始重構了，  \n我選擇[dotCover](https://www.jetbrains.com/dotcover/)來檢驗我的覆蓋率。  \n選擇的原因很簡單，因為我有買[ReSharper](https://www.jetbrains.com/resharper/?)，  \n如果有更好用更便宜的工具也請介紹給我。\n\n> OS:課金真的能解決很多人生問題啊(茶)...\n\n最後的結果，我開了一個[分支](https://github.com/marsen/Marsen.NetCore.Dojo/commit/d8d6f463960572af6ffdb3a5612fd00623d0d7e2)包含了100%的測試覆蓋率，  \n這樣就可以開開心心重構了，相信我有測試真得很有感覺。\n\n重構的技法請自行看書，我只稍微作個記錄，有興趣可以 fork 回去玩。\n- Extract Method \n- Move Method \n- Replace Temp with Query \n- Replace Type Code with State/Strategy Pattern \n- Replace Conditional with Polymorphism\n- Self Encapsulate Field\n\n在重構的過程中我儘可能讓步驟小(Baby Step)，看我的commit歷程即可知道，但是最好可以自已作作看。\n另外有一些心法，也稍作個記錄\n- 把一坨爛 Code 抽到獨立的方法之中\n- 如果一個類別方法並沒有使用到該類別的資訊\n  - 考慮職責，是不是要讓它搬家\n  - 提醒自已這是個壞味道\n- **拆分職責時，有個方法相依兩個不同的類別的資訊，那應該將方法放在哪裡呢?**(這裡花了點時間理解)\n  - 將方法放在未來可能變化較大的類別之中\n  - 相依的資訊作為方法參數傳進來\n  - 這樣未來有異動就被縮限在這個類別裡面。\n- 暫存變數常常會帶來問題(壞味道)\n  - 儘可能的把它消除\n  - 要考慮效能的問題(書上後面會說。)\n- 保持小步調、頻繁測試\n  - 使用中繼方法可以縮小重構步調(特別是對public的方法)\n  - 讓新的 return 值插在舊的 return 之前\n  - 測試 ok 就可以刪掉舊 code (有時刪不掉也還是可以運作的)\n  - 善用[變異測試](https://blog.marsen.me/2018/03/20/2018/mutation_testing/)\n- UML 可以幫助對程式重構前後的理解\n- Java 與 C# 對繼承的處理是不同的\n  - [Java inheritance vs. C# inheritance](https://stackoverflow.com/questions/13323099/java-inheritance-vs-c-sharp-inheritance)\n\n## 後記\n第一章的範例完成後的結果大致如下  \n![100%!!!](/images/2019/3/test_cover_100.jpg)  \n很帥氣的100%啊，這樣的 code 測試覆蓋率 100 % 全綠燈，  \n而且完成了重構，根本是現場不可能出現的完全體程式碼!!!  \n代碼的部份我會放在最後的參考區塊。\n\n![我有沒有可能讓它更好？或是找出他的缺陷呢？](/images/2019/3/cell.jpg)  \n下一步，我有沒有可能讓它更好？或是找出他的缺陷呢？  \n\n這個時候我想起了[變異測試](https://blog.marsen.me/2018/03/20/2018/mutation_testing/)  \n還沒有實作過，來玩看看好了。  \n\n首先要選擇測試工具，這裡使用了[Stryker Mutator](https://stryker-mutator.io/)，  \n但是注意只能用在 .Net Core 的版本\n照著官網安裝完成後執行\n\n```shell\n>dotnet stryker\n```\n跑下去竟然真的找到有存活的變異\n![存活的變異](/images/2019/3/run_stryker.jpg)  \n這兩個變異存活的原因是類似的，\n\n```csharp\ndouble result = 2;\nif (daysRented > 2)\n    result += (daysRented - 2) * 1.5;\nreturn result;\n```\n\n變異點發生在 `daysRented > 2` 的判斷式之中，  \n現有的測試在變異發生(`daysRented >= 2`)時，無法提出警訊，也就是測試上的不足。\n不過依現有的邏輯，不論是進入 `if` 進行了加0運算，或是直接回傳 result，  \n都是等價的(回傳 2 )，目前還沒有想法怎麼強化我的測試，  \n希望有先進願意不嗇指點，實務上跟本沒在跑變異測試。\n\n## 後記2\n\n回歸一下我們當初 Kata 的目的:\n\n- 學習 Pair ，並透過 Pair 彼此學習\n- 學習 TDD ，並透過 TDD 學習重構\n- 學習 Vim，並提昇開發速度\n\n事情沒有那麼簡單，比如說學習 Vim 的過程中，  \n我們的目的是增進開發速度，但是一開始反而會變慢，\n一定要刻意的練習才能習得，\n你必須擁有以下的能力。\n- 打字速度，網路上很多資源，我是使用[Ratatype](https://www.ratatype.com/)作練習\n  - 能盲打\n  - 指法要正確(特別在特殊符號)\n  - 快速切換中英(建議加入英文輸入法用 win + space 之切換過去)\n- 英文能力。命名是開發很重要的一課，英文不好看不懂寫得差，命名自然不會好。 \n- 熟悉工具，特別是你的IDE與外掛\n  - Visual Studio\n  - Resharper\n  - OzCode \n  - more ..\n- Vim \n  - Vim Basic 基本功(v、c、i、s、j、k、g、h、l....)\n  - VimRc 要學會配置自已的 VimRC，這裡不僅要刻意練習，還要**刻意試錯**找到自已最順的模式\n\n彼此學習方面需要相當的軟技能，  \n溝通、尊重、謙虛…;這些一生的功課我就不贅言了。  \nPair Programming 一半是 Pair 一半是 Progrmming；  \n而在進入 Progrmming 之前請搞懂你**要作什麼**。  \n\n同樣的在 TDD 的過程之中，我們沒有事先理好需求，  \n沒有想好作好需求分析，隨便選了測試案例就開始進行，  \n如果好好分析，是可以歸納出其中的邏輯，  \n甚至是理出 test case 的順序。\n\n重要的是過程，但是**我們太在乎結果，以致程式快速的腐敗。**  \n甚至到了難以修改的狀態，僅管有測試保護，卻無法重構。\n\n這是很好的一課，特別在這裡記錄一下。\n\n## 參考\n- [Ratatype](https://www.ratatype.com/)\n- [重構─改善既有程式的設計， 2/e (Refactoring: Improving The Design of Existing Code)](https://www.tenlong.com.tw/products/9789861547534)\n- [dotCover: A Code Coverage Tool for .NET by JetBrains](https://www.jetbrains.com/dotcover/) \n- [Java inheritance vs. C# inheritance](https://stackoverflow.com/questions/13323099/java-inheritance-vs-c-sharp-inheritance)\n- [marsen/Marsen.NetCore.Dojo](https://github.com/marsen/Marsen.NetCore.Dojo/tree/Refactoring_Improving_The_Design_of_Existing_Code_With_Test)\n\n(fin)","source":"_posts/2019/book/refactoring/refactoring_Ch1.md","raw":"---\ntitle: \"[閱讀筆記] 重構---改善既有程式的設計，第一章\"\ndate: 2019/03/01 11:17:16\ntag:\n  - 重構  \n  - Testing\n---\n## 為什麼\n\n### 知道自已不知道\n\n上次在公司內部開始進行 [Coding Dojo](/2019/01/30/2019/coding_dojo_in_company/)，在 [FizzBuzz 的 Kata](/2019/02/06/2019/coding_dojo_kata_fizzbuzz_first/) 嚐到了甜頭  \n但是下一道題目「Bowling」，卻卡住了。\n我們有測試，也通過測試，但是卻寸步難行，  \n在重構上我們非常的弱，這裡的重構不是指一次性的全面翻掉，  \n而是逐步的、可靠的前進，  \n我想習得這樣的技能，因為現場的代碼腐敗的更加嚴重，\n如果連 Kata 產生的代碼都不能優化，  \n那想對產品指手劃腳只不過是說幹話。\n\n\n## 閱讀經典:重構---改善即有的程式設計\n![](https://i.stack.imgur.com/BrLmD.jpg)\n\n這是一本來自 Martin Fowler 的經典書籍，新版已經出了，而且是以 `JavaScript` 作為範例語言。  \n不過我手頭上借到的是以 `Java` 作為範例的板本。\n\n### CH1 重構，第一個案例  \n第一個問題就是我找不到書中說的「線上範例」，  \n即使找到我也沒有 `Java` 的開發環境，所以心一橫就開始了改寫成 `C#` 的計劃  \n這部份比我想像中的簡單很多，兩個語言是相同類似的，  \n[第1章，第一個案例](https://github.com/marsen/Marsen.NetCore.Dojo/commit/6e600db029fe2f62df724d0179b708c97a0b3313)\n\n**接下來只要照著書上一步一步作就會...覺得越來越沒 fu …**\n為什麼 ??? \n\n其實 Martin 大叔在書中有提到「為即將修改的程式建立可靠的測試…畢竟是人，可能會犯錯。所以我需要可靠的測試」。  \n沒fu的原因就是**我沒加測試**，即使重構了，我也不知道好壞。\n沒有反饋是很糟糕的一件事。\n\n### CH1 重構，第一個案例，加上測試\n\n那麼要怎麼加測試呢 ?\n書上的案例我分析了一下，其實重構的目標只是一個單純的方法  \n會針對不同的情境回傳不同的字串。\n\n簡單的說，我只要讓測試覆蓋這個方法就可以開始重構了，  \n我選擇[dotCover](https://www.jetbrains.com/dotcover/)來檢驗我的覆蓋率。  \n選擇的原因很簡單，因為我有買[ReSharper](https://www.jetbrains.com/resharper/?)，  \n如果有更好用更便宜的工具也請介紹給我。\n\n> OS:課金真的能解決很多人生問題啊(茶)...\n\n最後的結果，我開了一個[分支](https://github.com/marsen/Marsen.NetCore.Dojo/commit/d8d6f463960572af6ffdb3a5612fd00623d0d7e2)包含了100%的測試覆蓋率，  \n這樣就可以開開心心重構了，相信我有測試真得很有感覺。\n\n重構的技法請自行看書，我只稍微作個記錄，有興趣可以 fork 回去玩。\n- Extract Method \n- Move Method \n- Replace Temp with Query \n- Replace Type Code with State/Strategy Pattern \n- Replace Conditional with Polymorphism\n- Self Encapsulate Field\n\n在重構的過程中我儘可能讓步驟小(Baby Step)，看我的commit歷程即可知道，但是最好可以自已作作看。\n另外有一些心法，也稍作個記錄\n- 把一坨爛 Code 抽到獨立的方法之中\n- 如果一個類別方法並沒有使用到該類別的資訊\n  - 考慮職責，是不是要讓它搬家\n  - 提醒自已這是個壞味道\n- **拆分職責時，有個方法相依兩個不同的類別的資訊，那應該將方法放在哪裡呢?**(這裡花了點時間理解)\n  - 將方法放在未來可能變化較大的類別之中\n  - 相依的資訊作為方法參數傳進來\n  - 這樣未來有異動就被縮限在這個類別裡面。\n- 暫存變數常常會帶來問題(壞味道)\n  - 儘可能的把它消除\n  - 要考慮效能的問題(書上後面會說。)\n- 保持小步調、頻繁測試\n  - 使用中繼方法可以縮小重構步調(特別是對public的方法)\n  - 讓新的 return 值插在舊的 return 之前\n  - 測試 ok 就可以刪掉舊 code (有時刪不掉也還是可以運作的)\n  - 善用[變異測試](https://blog.marsen.me/2018/03/20/2018/mutation_testing/)\n- UML 可以幫助對程式重構前後的理解\n- Java 與 C# 對繼承的處理是不同的\n  - [Java inheritance vs. C# inheritance](https://stackoverflow.com/questions/13323099/java-inheritance-vs-c-sharp-inheritance)\n\n## 後記\n第一章的範例完成後的結果大致如下  \n![100%!!!](/images/2019/3/test_cover_100.jpg)  \n很帥氣的100%啊，這樣的 code 測試覆蓋率 100 % 全綠燈，  \n而且完成了重構，根本是現場不可能出現的完全體程式碼!!!  \n代碼的部份我會放在最後的參考區塊。\n\n![我有沒有可能讓它更好？或是找出他的缺陷呢？](/images/2019/3/cell.jpg)  \n下一步，我有沒有可能讓它更好？或是找出他的缺陷呢？  \n\n這個時候我想起了[變異測試](https://blog.marsen.me/2018/03/20/2018/mutation_testing/)  \n還沒有實作過，來玩看看好了。  \n\n首先要選擇測試工具，這裡使用了[Stryker Mutator](https://stryker-mutator.io/)，  \n但是注意只能用在 .Net Core 的版本\n照著官網安裝完成後執行\n\n```shell\n>dotnet stryker\n```\n跑下去竟然真的找到有存活的變異\n![存活的變異](/images/2019/3/run_stryker.jpg)  \n這兩個變異存活的原因是類似的，\n\n```csharp\ndouble result = 2;\nif (daysRented > 2)\n    result += (daysRented - 2) * 1.5;\nreturn result;\n```\n\n變異點發生在 `daysRented > 2` 的判斷式之中，  \n現有的測試在變異發生(`daysRented >= 2`)時，無法提出警訊，也就是測試上的不足。\n不過依現有的邏輯，不論是進入 `if` 進行了加0運算，或是直接回傳 result，  \n都是等價的(回傳 2 )，目前還沒有想法怎麼強化我的測試，  \n希望有先進願意不嗇指點，實務上跟本沒在跑變異測試。\n\n## 後記2\n\n回歸一下我們當初 Kata 的目的:\n\n- 學習 Pair ，並透過 Pair 彼此學習\n- 學習 TDD ，並透過 TDD 學習重構\n- 學習 Vim，並提昇開發速度\n\n事情沒有那麼簡單，比如說學習 Vim 的過程中，  \n我們的目的是增進開發速度，但是一開始反而會變慢，\n一定要刻意的練習才能習得，\n你必須擁有以下的能力。\n- 打字速度，網路上很多資源，我是使用[Ratatype](https://www.ratatype.com/)作練習\n  - 能盲打\n  - 指法要正確(特別在特殊符號)\n  - 快速切換中英(建議加入英文輸入法用 win + space 之切換過去)\n- 英文能力。命名是開發很重要的一課，英文不好看不懂寫得差，命名自然不會好。 \n- 熟悉工具，特別是你的IDE與外掛\n  - Visual Studio\n  - Resharper\n  - OzCode \n  - more ..\n- Vim \n  - Vim Basic 基本功(v、c、i、s、j、k、g、h、l....)\n  - VimRc 要學會配置自已的 VimRC，這裡不僅要刻意練習，還要**刻意試錯**找到自已最順的模式\n\n彼此學習方面需要相當的軟技能，  \n溝通、尊重、謙虛…;這些一生的功課我就不贅言了。  \nPair Programming 一半是 Pair 一半是 Progrmming；  \n而在進入 Progrmming 之前請搞懂你**要作什麼**。  \n\n同樣的在 TDD 的過程之中，我們沒有事先理好需求，  \n沒有想好作好需求分析，隨便選了測試案例就開始進行，  \n如果好好分析，是可以歸納出其中的邏輯，  \n甚至是理出 test case 的順序。\n\n重要的是過程，但是**我們太在乎結果，以致程式快速的腐敗。**  \n甚至到了難以修改的狀態，僅管有測試保護，卻無法重構。\n\n這是很好的一課，特別在這裡記錄一下。\n\n## 參考\n- [Ratatype](https://www.ratatype.com/)\n- [重構─改善既有程式的設計， 2/e (Refactoring: Improving The Design of Existing Code)](https://www.tenlong.com.tw/products/9789861547534)\n- [dotCover: A Code Coverage Tool for .NET by JetBrains](https://www.jetbrains.com/dotcover/) \n- [Java inheritance vs. C# inheritance](https://stackoverflow.com/questions/13323099/java-inheritance-vs-c-sharp-inheritance)\n- [marsen/Marsen.NetCore.Dojo](https://github.com/marsen/Marsen.NetCore.Dojo/tree/Refactoring_Improving_The_Design_of_Existing_Code_With_Test)\n\n(fin)","slug":"2019/book/refactoring/refactoring_Ch1","published":1,"updated":"2019-06-10T14:43:28.947Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck3fq2wsg00bnb0vx86irwuwu","content":"<h2 id=\"為什麼\"><a href=\"#為什麼\" class=\"headerlink\" title=\"為什麼\"></a>為什麼</h2><h3 id=\"知道自已不知道\"><a href=\"#知道自已不知道\" class=\"headerlink\" title=\"知道自已不知道\"></a>知道自已不知道</h3><p>上次在公司內部開始進行 <a href=\"/2019/01/30/2019/coding_dojo_in_company/\">Coding Dojo</a>，在 <a href=\"/2019/02/06/2019/coding_dojo_kata_fizzbuzz_first/\">FizzBuzz 的 Kata</a> 嚐到了甜頭<br>但是下一道題目「Bowling」，卻卡住了。<br>我們有測試，也通過測試，但是卻寸步難行，<br>在重構上我們非常的弱，這裡的重構不是指一次性的全面翻掉，<br>而是逐步的、可靠的前進，<br>我想習得這樣的技能，因為現場的代碼腐敗的更加嚴重，<br>如果連 Kata 產生的代碼都不能優化，<br>那想對產品指手劃腳只不過是說幹話。</p>\n<h2 id=\"閱讀經典-重構—改善即有的程式設計\"><a href=\"#閱讀經典-重構—改善即有的程式設計\" class=\"headerlink\" title=\"閱讀經典:重構—改善即有的程式設計\"></a>閱讀經典:重構—改善即有的程式設計</h2><p><img src=\"https://i.stack.imgur.com/BrLmD.jpg\" alt></p>\n<p>這是一本來自 Martin Fowler 的經典書籍，新版已經出了，而且是以 <code>JavaScript</code> 作為範例語言。<br>不過我手頭上借到的是以 <code>Java</code> 作為範例的板本。</p>\n<h3 id=\"CH1-重構，第一個案例\"><a href=\"#CH1-重構，第一個案例\" class=\"headerlink\" title=\"CH1 重構，第一個案例\"></a>CH1 重構，第一個案例</h3><p>第一個問題就是我找不到書中說的「線上範例」，<br>即使找到我也沒有 <code>Java</code> 的開發環境，所以心一橫就開始了改寫成 <code>C#</code> 的計劃<br>這部份比我想像中的簡單很多，兩個語言是相同類似的，<br><a href=\"https://github.com/marsen/Marsen.NetCore.Dojo/commit/6e600db029fe2f62df724d0179b708c97a0b3313\" target=\"_blank\" rel=\"noopener\">第1章，第一個案例</a></p>\n<p><strong>接下來只要照著書上一步一步作就會…覺得越來越沒 fu …</strong><br>為什麼 ??? </p>\n<p>其實 Martin 大叔在書中有提到「為即將修改的程式建立可靠的測試…畢竟是人，可能會犯錯。所以我需要可靠的測試」。<br>沒fu的原因就是<strong>我沒加測試</strong>，即使重構了，我也不知道好壞。<br>沒有反饋是很糟糕的一件事。</p>\n<h3 id=\"CH1-重構，第一個案例，加上測試\"><a href=\"#CH1-重構，第一個案例，加上測試\" class=\"headerlink\" title=\"CH1 重構，第一個案例，加上測試\"></a>CH1 重構，第一個案例，加上測試</h3><p>那麼要怎麼加測試呢 ?<br>書上的案例我分析了一下，其實重構的目標只是一個單純的方法<br>會針對不同的情境回傳不同的字串。</p>\n<p>簡單的說，我只要讓測試覆蓋這個方法就可以開始重構了，<br>我選擇<a href=\"https://www.jetbrains.com/dotcover/\" target=\"_blank\" rel=\"noopener\">dotCover</a>來檢驗我的覆蓋率。<br>選擇的原因很簡單，因為我有買<a href=\"https://www.jetbrains.com/resharper/?\" target=\"_blank\" rel=\"noopener\">ReSharper</a>，  \n如果有更好用更便宜的工具也請介紹給我。</p>\n<blockquote>\n<p>OS:課金真的能解決很多人生問題啊(茶)…</p>\n</blockquote>\n<p>最後的結果，我開了一個<a href=\"https://github.com/marsen/Marsen.NetCore.Dojo/commit/d8d6f463960572af6ffdb3a5612fd00623d0d7e2\" target=\"_blank\" rel=\"noopener\">分支</a>包含了100%的測試覆蓋率，<br>這樣就可以開開心心重構了，相信我有測試真得很有感覺。</p>\n<p>重構的技法請自行看書，我只稍微作個記錄，有興趣可以 fork 回去玩。</p>\n<ul>\n<li>Extract Method </li>\n<li>Move Method </li>\n<li>Replace Temp with Query </li>\n<li>Replace Type Code with State/Strategy Pattern </li>\n<li>Replace Conditional with Polymorphism</li>\n<li>Self Encapsulate Field</li>\n</ul>\n<p>在重構的過程中我儘可能讓步驟小(Baby Step)，看我的commit歷程即可知道，但是最好可以自已作作看。<br>另外有一些心法，也稍作個記錄</p>\n<ul>\n<li>把一坨爛 Code 抽到獨立的方法之中</li>\n<li>如果一個類別方法並沒有使用到該類別的資訊<ul>\n<li>考慮職責，是不是要讓它搬家</li>\n<li>提醒自已這是個壞味道</li>\n</ul>\n</li>\n<li><strong>拆分職責時，有個方法相依兩個不同的類別的資訊，那應該將方法放在哪裡呢?</strong>(這裡花了點時間理解)<ul>\n<li>將方法放在未來可能變化較大的類別之中</li>\n<li>相依的資訊作為方法參數傳進來</li>\n<li>這樣未來有異動就被縮限在這個類別裡面。</li>\n</ul>\n</li>\n<li>暫存變數常常會帶來問題(壞味道)<ul>\n<li>儘可能的把它消除</li>\n<li>要考慮效能的問題(書上後面會說。)</li>\n</ul>\n</li>\n<li>保持小步調、頻繁測試<ul>\n<li>使用中繼方法可以縮小重構步調(特別是對public的方法)</li>\n<li>讓新的 return 值插在舊的 return 之前</li>\n<li>測試 ok 就可以刪掉舊 code (有時刪不掉也還是可以運作的)</li>\n<li>善用<a href=\"https://blog.marsen.me/2018/03/20/2018/mutation_testing/\">變異測試</a></li>\n</ul>\n</li>\n<li>UML 可以幫助對程式重構前後的理解</li>\n<li>Java 與 C# 對繼承的處理是不同的<ul>\n<li><a href=\"https://stackoverflow.com/questions/13323099/java-inheritance-vs-c-sharp-inheritance\" target=\"_blank\" rel=\"noopener\">Java inheritance vs. C# inheritance</a></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"後記\"><a href=\"#後記\" class=\"headerlink\" title=\"後記\"></a>後記</h2><p>第一章的範例完成後的結果大致如下<br><img src=\"/images/2019/3/test_cover_100.jpg\" alt=\"100%!!!\"><br>很帥氣的100%啊，這樣的 code 測試覆蓋率 100 % 全綠燈，<br>而且完成了重構，根本是現場不可能出現的完全體程式碼!!!  \n代碼的部份我會放在最後的參考區塊。</p>\n<p><img src=\"/images/2019/3/cell.jpg\" alt=\"我有沒有可能讓它更好？或是找出他的缺陷呢？\"><br>下一步，我有沒有可能讓它更好？或是找出他的缺陷呢？  </p>\n<p>這個時候我想起了<a href=\"https://blog.marsen.me/2018/03/20/2018/mutation_testing/\">變異測試</a><br>還沒有實作過，來玩看看好了。  </p>\n<p>首先要選擇測試工具，這裡使用了<a href=\"https://stryker-mutator.io/\" target=\"_blank\" rel=\"noopener\">Stryker Mutator</a>，  \n但是注意只能用在 .Net Core 的版本<br>照著官網安裝完成後執行</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\">dotnet stryker</span></span><br></pre></td></tr></table></figure>\n\n<p>跑下去竟然真的找到有存活的變異<br><img src=\"/images/2019/3/run_stryker.jpg\" alt=\"存活的變異\"><br>這兩個變異存活的原因是類似的，</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">double</span> result = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (daysRented &gt; <span class=\"number\">2</span>)</span><br><span class=\"line\">    result += (daysRented - <span class=\"number\">2</span>) * <span class=\"number\">1.5</span>;</span><br><span class=\"line\"><span class=\"keyword\">return</span> result;</span><br></pre></td></tr></table></figure>\n\n<p>變異點發生在 <code>daysRented &gt; 2</code> 的判斷式之中，<br>現有的測試在變異發生(<code>daysRented &gt;= 2</code>)時，無法提出警訊，也就是測試上的不足。<br>不過依現有的邏輯，不論是進入 <code>if</code> 進行了加0運算，或是直接回傳 result，<br>都是等價的(回傳 2 )，目前還沒有想法怎麼強化我的測試，<br>希望有先進願意不嗇指點，實務上跟本沒在跑變異測試。</p>\n<h2 id=\"後記2\"><a href=\"#後記2\" class=\"headerlink\" title=\"後記2\"></a>後記2</h2><p>回歸一下我們當初 Kata 的目的:</p>\n<ul>\n<li>學習 Pair ，並透過 Pair 彼此學習</li>\n<li>學習 TDD ，並透過 TDD 學習重構</li>\n<li>學習 Vim，並提昇開發速度</li>\n</ul>\n<p>事情沒有那麼簡單，比如說學習 Vim 的過程中，<br>我們的目的是增進開發速度，但是一開始反而會變慢，<br>一定要刻意的練習才能習得，<br>你必須擁有以下的能力。</p>\n<ul>\n<li>打字速度，網路上很多資源，我是使用<a href=\"https://www.ratatype.com/\" target=\"_blank\" rel=\"noopener\">Ratatype</a>作練習<ul>\n<li>能盲打</li>\n<li>指法要正確(特別在特殊符號)</li>\n<li>快速切換中英(建議加入英文輸入法用 win + space 之切換過去)</li>\n</ul>\n</li>\n<li>英文能力。命名是開發很重要的一課，英文不好看不懂寫得差，命名自然不會好。 </li>\n<li>熟悉工具，特別是你的IDE與外掛<ul>\n<li>Visual Studio</li>\n<li>Resharper</li>\n<li>OzCode </li>\n<li>more ..</li>\n</ul>\n</li>\n<li>Vim <ul>\n<li>Vim Basic 基本功(v、c、i、s、j、k、g、h、l….)</li>\n<li>VimRc 要學會配置自已的 VimRC，這裡不僅要刻意練習，還要<strong>刻意試錯</strong>找到自已最順的模式</li>\n</ul>\n</li>\n</ul>\n<p>彼此學習方面需要相當的軟技能，<br>溝通、尊重、謙虛…;這些一生的功課我就不贅言了。<br>Pair Programming 一半是 Pair 一半是 Progrmming；<br>而在進入 Progrmming 之前請搞懂你<strong>要作什麼</strong>。  </p>\n<p>同樣的在 TDD 的過程之中，我們沒有事先理好需求，<br>沒有想好作好需求分析，隨便選了測試案例就開始進行，<br>如果好好分析，是可以歸納出其中的邏輯，<br>甚至是理出 test case 的順序。</p>\n<p>重要的是過程，但是<strong>我們太在乎結果，以致程式快速的腐敗。</strong><br>甚至到了難以修改的狀態，僅管有測試保護，卻無法重構。</p>\n<p>這是很好的一課，特別在這裡記錄一下。</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://www.ratatype.com/\" target=\"_blank\" rel=\"noopener\">Ratatype</a></li>\n<li><a href=\"https://www.tenlong.com.tw/products/9789861547534\" target=\"_blank\" rel=\"noopener\">重構─改善既有程式的設計， 2/e (Refactoring: Improving The Design of Existing Code)</a></li>\n<li><a href=\"https://www.jetbrains.com/dotcover/\" target=\"_blank\" rel=\"noopener\">dotCover: A Code Coverage Tool for .NET by JetBrains</a> </li>\n<li><a href=\"https://stackoverflow.com/questions/13323099/java-inheritance-vs-c-sharp-inheritance\" target=\"_blank\" rel=\"noopener\">Java inheritance vs. C# inheritance</a></li>\n<li><a href=\"https://github.com/marsen/Marsen.NetCore.Dojo/tree/Refactoring_Improving_The_Design_of_Existing_Code_With_Test\" target=\"_blank\" rel=\"noopener\">marsen/Marsen.NetCore.Dojo</a></li>\n</ul>\n<p>(fin)</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"為什麼\"><a href=\"#為什麼\" class=\"headerlink\" title=\"為什麼\"></a>為什麼</h2><h3 id=\"知道自已不知道\"><a href=\"#知道自已不知道\" class=\"headerlink\" title=\"知道自已不知道\"></a>知道自已不知道</h3><p>上次在公司內部開始進行 <a href=\"/2019/01/30/2019/coding_dojo_in_company/\">Coding Dojo</a>，在 <a href=\"/2019/02/06/2019/coding_dojo_kata_fizzbuzz_first/\">FizzBuzz 的 Kata</a> 嚐到了甜頭<br>但是下一道題目「Bowling」，卻卡住了。<br>我們有測試，也通過測試，但是卻寸步難行，<br>在重構上我們非常的弱，這裡的重構不是指一次性的全面翻掉，<br>而是逐步的、可靠的前進，<br>我想習得這樣的技能，因為現場的代碼腐敗的更加嚴重，<br>如果連 Kata 產生的代碼都不能優化，<br>那想對產品指手劃腳只不過是說幹話。</p>\n<h2 id=\"閱讀經典-重構—改善即有的程式設計\"><a href=\"#閱讀經典-重構—改善即有的程式設計\" class=\"headerlink\" title=\"閱讀經典:重構—改善即有的程式設計\"></a>閱讀經典:重構—改善即有的程式設計</h2><p><img src=\"https://i.stack.imgur.com/BrLmD.jpg\" alt></p>\n<p>這是一本來自 Martin Fowler 的經典書籍，新版已經出了，而且是以 <code>JavaScript</code> 作為範例語言。<br>不過我手頭上借到的是以 <code>Java</code> 作為範例的板本。</p>\n<h3 id=\"CH1-重構，第一個案例\"><a href=\"#CH1-重構，第一個案例\" class=\"headerlink\" title=\"CH1 重構，第一個案例\"></a>CH1 重構，第一個案例</h3><p>第一個問題就是我找不到書中說的「線上範例」，<br>即使找到我也沒有 <code>Java</code> 的開發環境，所以心一橫就開始了改寫成 <code>C#</code> 的計劃<br>這部份比我想像中的簡單很多，兩個語言是相同類似的，<br><a href=\"https://github.com/marsen/Marsen.NetCore.Dojo/commit/6e600db029fe2f62df724d0179b708c97a0b3313\" target=\"_blank\" rel=\"noopener\">第1章，第一個案例</a></p>\n<p><strong>接下來只要照著書上一步一步作就會…覺得越來越沒 fu …</strong><br>為什麼 ??? </p>\n<p>其實 Martin 大叔在書中有提到「為即將修改的程式建立可靠的測試…畢竟是人，可能會犯錯。所以我需要可靠的測試」。<br>沒fu的原因就是<strong>我沒加測試</strong>，即使重構了，我也不知道好壞。<br>沒有反饋是很糟糕的一件事。</p>\n<h3 id=\"CH1-重構，第一個案例，加上測試\"><a href=\"#CH1-重構，第一個案例，加上測試\" class=\"headerlink\" title=\"CH1 重構，第一個案例，加上測試\"></a>CH1 重構，第一個案例，加上測試</h3><p>那麼要怎麼加測試呢 ?<br>書上的案例我分析了一下，其實重構的目標只是一個單純的方法<br>會針對不同的情境回傳不同的字串。</p>\n<p>簡單的說，我只要讓測試覆蓋這個方法就可以開始重構了，<br>我選擇<a href=\"https://www.jetbrains.com/dotcover/\" target=\"_blank\" rel=\"noopener\">dotCover</a>來檢驗我的覆蓋率。<br>選擇的原因很簡單，因為我有買<a href=\"https://www.jetbrains.com/resharper/?\" target=\"_blank\" rel=\"noopener\">ReSharper</a>，  \n如果有更好用更便宜的工具也請介紹給我。</p>\n<blockquote>\n<p>OS:課金真的能解決很多人生問題啊(茶)…</p>\n</blockquote>\n<p>最後的結果，我開了一個<a href=\"https://github.com/marsen/Marsen.NetCore.Dojo/commit/d8d6f463960572af6ffdb3a5612fd00623d0d7e2\" target=\"_blank\" rel=\"noopener\">分支</a>包含了100%的測試覆蓋率，<br>這樣就可以開開心心重構了，相信我有測試真得很有感覺。</p>\n<p>重構的技法請自行看書，我只稍微作個記錄，有興趣可以 fork 回去玩。</p>\n<ul>\n<li>Extract Method </li>\n<li>Move Method </li>\n<li>Replace Temp with Query </li>\n<li>Replace Type Code with State/Strategy Pattern </li>\n<li>Replace Conditional with Polymorphism</li>\n<li>Self Encapsulate Field</li>\n</ul>\n<p>在重構的過程中我儘可能讓步驟小(Baby Step)，看我的commit歷程即可知道，但是最好可以自已作作看。<br>另外有一些心法，也稍作個記錄</p>\n<ul>\n<li>把一坨爛 Code 抽到獨立的方法之中</li>\n<li>如果一個類別方法並沒有使用到該類別的資訊<ul>\n<li>考慮職責，是不是要讓它搬家</li>\n<li>提醒自已這是個壞味道</li>\n</ul>\n</li>\n<li><strong>拆分職責時，有個方法相依兩個不同的類別的資訊，那應該將方法放在哪裡呢?</strong>(這裡花了點時間理解)<ul>\n<li>將方法放在未來可能變化較大的類別之中</li>\n<li>相依的資訊作為方法參數傳進來</li>\n<li>這樣未來有異動就被縮限在這個類別裡面。</li>\n</ul>\n</li>\n<li>暫存變數常常會帶來問題(壞味道)<ul>\n<li>儘可能的把它消除</li>\n<li>要考慮效能的問題(書上後面會說。)</li>\n</ul>\n</li>\n<li>保持小步調、頻繁測試<ul>\n<li>使用中繼方法可以縮小重構步調(特別是對public的方法)</li>\n<li>讓新的 return 值插在舊的 return 之前</li>\n<li>測試 ok 就可以刪掉舊 code (有時刪不掉也還是可以運作的)</li>\n<li>善用<a href=\"https://blog.marsen.me/2018/03/20/2018/mutation_testing/\">變異測試</a></li>\n</ul>\n</li>\n<li>UML 可以幫助對程式重構前後的理解</li>\n<li>Java 與 C# 對繼承的處理是不同的<ul>\n<li><a href=\"https://stackoverflow.com/questions/13323099/java-inheritance-vs-c-sharp-inheritance\" target=\"_blank\" rel=\"noopener\">Java inheritance vs. C# inheritance</a></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"後記\"><a href=\"#後記\" class=\"headerlink\" title=\"後記\"></a>後記</h2><p>第一章的範例完成後的結果大致如下<br><img src=\"/images/2019/3/test_cover_100.jpg\" alt=\"100%!!!\"><br>很帥氣的100%啊，這樣的 code 測試覆蓋率 100 % 全綠燈，<br>而且完成了重構，根本是現場不可能出現的完全體程式碼!!!  \n代碼的部份我會放在最後的參考區塊。</p>\n<p><img src=\"/images/2019/3/cell.jpg\" alt=\"我有沒有可能讓它更好？或是找出他的缺陷呢？\"><br>下一步，我有沒有可能讓它更好？或是找出他的缺陷呢？  </p>\n<p>這個時候我想起了<a href=\"https://blog.marsen.me/2018/03/20/2018/mutation_testing/\">變異測試</a><br>還沒有實作過，來玩看看好了。  </p>\n<p>首先要選擇測試工具，這裡使用了<a href=\"https://stryker-mutator.io/\" target=\"_blank\" rel=\"noopener\">Stryker Mutator</a>，  \n但是注意只能用在 .Net Core 的版本<br>照著官網安裝完成後執行</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\">dotnet stryker</span></span><br></pre></td></tr></table></figure>\n\n<p>跑下去竟然真的找到有存活的變異<br><img src=\"/images/2019/3/run_stryker.jpg\" alt=\"存活的變異\"><br>這兩個變異存活的原因是類似的，</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">double</span> result = <span class=\"number\">2</span>;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (daysRented &gt; <span class=\"number\">2</span>)</span><br><span class=\"line\">    result += (daysRented - <span class=\"number\">2</span>) * <span class=\"number\">1.5</span>;</span><br><span class=\"line\"><span class=\"keyword\">return</span> result;</span><br></pre></td></tr></table></figure>\n\n<p>變異點發生在 <code>daysRented &gt; 2</code> 的判斷式之中，<br>現有的測試在變異發生(<code>daysRented &gt;= 2</code>)時，無法提出警訊，也就是測試上的不足。<br>不過依現有的邏輯，不論是進入 <code>if</code> 進行了加0運算，或是直接回傳 result，<br>都是等價的(回傳 2 )，目前還沒有想法怎麼強化我的測試，<br>希望有先進願意不嗇指點，實務上跟本沒在跑變異測試。</p>\n<h2 id=\"後記2\"><a href=\"#後記2\" class=\"headerlink\" title=\"後記2\"></a>後記2</h2><p>回歸一下我們當初 Kata 的目的:</p>\n<ul>\n<li>學習 Pair ，並透過 Pair 彼此學習</li>\n<li>學習 TDD ，並透過 TDD 學習重構</li>\n<li>學習 Vim，並提昇開發速度</li>\n</ul>\n<p>事情沒有那麼簡單，比如說學習 Vim 的過程中，<br>我們的目的是增進開發速度，但是一開始反而會變慢，<br>一定要刻意的練習才能習得，<br>你必須擁有以下的能力。</p>\n<ul>\n<li>打字速度，網路上很多資源，我是使用<a href=\"https://www.ratatype.com/\" target=\"_blank\" rel=\"noopener\">Ratatype</a>作練習<ul>\n<li>能盲打</li>\n<li>指法要正確(特別在特殊符號)</li>\n<li>快速切換中英(建議加入英文輸入法用 win + space 之切換過去)</li>\n</ul>\n</li>\n<li>英文能力。命名是開發很重要的一課，英文不好看不懂寫得差，命名自然不會好。 </li>\n<li>熟悉工具，特別是你的IDE與外掛<ul>\n<li>Visual Studio</li>\n<li>Resharper</li>\n<li>OzCode </li>\n<li>more ..</li>\n</ul>\n</li>\n<li>Vim <ul>\n<li>Vim Basic 基本功(v、c、i、s、j、k、g、h、l….)</li>\n<li>VimRc 要學會配置自已的 VimRC，這裡不僅要刻意練習，還要<strong>刻意試錯</strong>找到自已最順的模式</li>\n</ul>\n</li>\n</ul>\n<p>彼此學習方面需要相當的軟技能，<br>溝通、尊重、謙虛…;這些一生的功課我就不贅言了。<br>Pair Programming 一半是 Pair 一半是 Progrmming；<br>而在進入 Progrmming 之前請搞懂你<strong>要作什麼</strong>。  </p>\n<p>同樣的在 TDD 的過程之中，我們沒有事先理好需求，<br>沒有想好作好需求分析，隨便選了測試案例就開始進行，<br>如果好好分析，是可以歸納出其中的邏輯，<br>甚至是理出 test case 的順序。</p>\n<p>重要的是過程，但是<strong>我們太在乎結果，以致程式快速的腐敗。</strong><br>甚至到了難以修改的狀態，僅管有測試保護，卻無法重構。</p>\n<p>這是很好的一課，特別在這裡記錄一下。</p>\n<h2 id=\"參考\"><a href=\"#參考\" class=\"headerlink\" title=\"參考\"></a>參考</h2><ul>\n<li><a href=\"https://www.ratatype.com/\" target=\"_blank\" rel=\"noopener\">Ratatype</a></li>\n<li><a href=\"https://www.tenlong.com.tw/products/9789861547534\" target=\"_blank\" rel=\"noopener\">重構─改善既有程式的設計， 2/e (Refactoring: Improving The Design of Existing Code)</a></li>\n<li><a href=\"https://www.jetbrains.com/dotcover/\" target=\"_blank\" rel=\"noopener\">dotCover: A Code Coverage Tool for .NET by JetBrains</a> </li>\n<li><a href=\"https://stackoverflow.com/questions/13323099/java-inheritance-vs-c-sharp-inheritance\" target=\"_blank\" rel=\"noopener\">Java inheritance vs. C# inheritance</a></li>\n<li><a href=\"https://github.com/marsen/Marsen.NetCore.Dojo/tree/Refactoring_Improving_The_Design_of_Existing_Code_With_Test\" target=\"_blank\" rel=\"noopener\">marsen/Marsen.NetCore.Dojo</a></li>\n</ul>\n<p>(fin)</p>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"ck3fq2wgp0001b0vxech6b4mj","tag_id":"ck3fq2wig0006b0vxgv844fw0","_id":"ck3fq2wlr0025b0vx15duukdd"},{"post_id":"ck3fq2wgp0001b0vxech6b4mj","tag_id":"ck3fq2wio0009b0vx8x7c68e4","_id":"ck3fq2wlu0028b0vxfz6kefrd"},{"post_id":"ck3fq2wgs0003b0vxlmghnz65","tag_id":"ck3fq2wig0006b0vxgv844fw0","_id":"ck3fq2wlx002ab0vxyt8dr6kx"},{"post_id":"ck3fq2wgs0003b0vxlmghnz65","tag_id":"ck3fq2wiz000fb0vx346irycg","_id":"ck3fq2wlz002db0vxjaat5n9y"},{"post_id":"ck3fq2wgs0003b0vxlmghnz65","tag_id":"ck3fq2wj2000ib0vxiot2zlrh","_id":"ck3fq2wm1002fb0vxno6n5p2p"},{"post_id":"ck3fq2wgs0004b0vx7jydhamq","tag_id":"ck3fq2wig0006b0vxgv844fw0","_id":"ck3fq2wm3002ib0vxl92psmf8"},{"post_id":"ck3fq2wgs0004b0vx7jydhamq","tag_id":"ck3fq2wiz000fb0vx346irycg","_id":"ck3fq2wm5002kb0vx07llrh0o"},{"post_id":"ck3fq2wgs0004b0vx7jydhamq","tag_id":"ck3fq2wjq000sb0vxu96zv6i2","_id":"ck3fq2wm8002nb0vx3vh860az"},{"post_id":"ck3fq2wjb000lb0vx1x4vzi4t","tag_id":"ck3fq2wig0006b0vxgv844fw0","_id":"ck3fq2wma002pb0vx58mscoqu"},{"post_id":"ck3fq2wju000zb0vx45ywpz3s","tag_id":"ck3fq2wig0006b0vxgv844fw0","_id":"ck3fq2wmc002rb0vxyhy2l3jw"},{"post_id":"ck3fq2wju000zb0vx45ywpz3s","tag_id":"ck3fq2wjq000sb0vxu96zv6i2","_id":"ck3fq2wme002ub0vxpu0hws3c"},{"post_id":"ck3fq2wk8001db0vx9yh6tayj","tag_id":"ck3fq2wig0006b0vxgv844fw0","_id":"ck3fq2wmg002wb0vx32btxap4"},{"post_id":"ck3fq2wkh001mb0vxkkdx55i3","tag_id":"ck3fq2wig0006b0vxgv844fw0","_id":"ck3fq2wmj002zb0vxdys0hih7"},{"post_id":"ck3fq2wij0007b0vxvlruivoo","tag_id":"ck3fq2wls0026b0vxay9ygy6k","_id":"ck3fq2wpb005rb0vx4j2b3aio"},{"post_id":"ck3fq2wij0007b0vxvlruivoo","tag_id":"ck3fq2wlx002bb0vxs60h65ku","_id":"ck3fq2wpd005ub0vxd1cu76t8"},{"post_id":"ck3fq2wip000ab0vxw576whx3","tag_id":"ck3fq2wm1002gb0vxhvs4177b","_id":"ck3fq2wpe005wb0vxom6j30jx"},{"post_id":"ck3fq2wip000ab0vxw576whx3","tag_id":"ck3fq2wm6002lb0vx14nil4w8","_id":"ck3fq2wpf005zb0vxfoh18osl"},{"post_id":"ck3fq2wiw000db0vx6qaz6c1j","tag_id":"ck3fq2wmc002sb0vxtrvvebre","_id":"ck3fq2wpg0061b0vxdb4oica2"},{"post_id":"ck3fq2wiw000db0vx6qaz6c1j","tag_id":"ck3fq2wmh002xb0vxq2lzj96x","_id":"ck3fq2wpi0064b0vxn8f010dw"},{"post_id":"ck3fq2wiw000db0vx6qaz6c1j","tag_id":"ck3fq2wml0031b0vxen6vskhk","_id":"ck3fq2wpj0066b0vx6tbwrqtu"},{"post_id":"ck3fq2wiw000db0vx6qaz6c1j","tag_id":"ck3fq2wmo0034b0vxxq7lam63","_id":"ck3fq2wpk0069b0vxed00wmov"},{"post_id":"ck3fq2wj0000gb0vxs7d6nb9d","tag_id":"ck3fq2wmt0038b0vxleebyp0b","_id":"ck3fq2wpm006bb0vxi8g51l37"},{"post_id":"ck3fq2wj0000gb0vxs7d6nb9d","tag_id":"ck3fq2wmx003bb0vxuzhqf9wb","_id":"ck3fq2wpo006db0vxvfl96vxx"},{"post_id":"ck3fq2wj1000hb0vxk6tp2kpu","tag_id":"ck3fq2wn0003eb0vxoa01ppgh","_id":"ck3fq2wpq006gb0vxg180qof5"},{"post_id":"ck3fq2wj1000hb0vxk6tp2kpu","tag_id":"ck3fq2wn3003gb0vxnt34ih2u","_id":"ck3fq2wpr006ib0vx12u5ngm1"},{"post_id":"ck3fq2wj1000hb0vxk6tp2kpu","tag_id":"ck3fq2wn4003hb0vxmbb1tfmv","_id":"ck3fq2wpt006lb0vxjpfm9reb"},{"post_id":"ck3fq2wj6000jb0vxav0lszhe","tag_id":"ck3fq2wn4003ib0vxj5vd7epw","_id":"ck3fq2wpu006nb0vxhk935a8d"},{"post_id":"ck3fq2wj8000kb0vxjw3at2da","tag_id":"ck3fq2wig0006b0vxgv844fw0","_id":"ck3fq2wpv006qb0vxuqee38ti"},{"post_id":"ck3fq2wj8000kb0vxjw3at2da","tag_id":"ck3fq2wiz000fb0vx346irycg","_id":"ck3fq2wpw006sb0vx0ygp6tky"},{"post_id":"ck3fq2wj8000kb0vxjw3at2da","tag_id":"ck3fq2wjq000sb0vxu96zv6i2","_id":"ck3fq2wpx006vb0vx6a1n3r92"},{"post_id":"ck3fq2wj8000kb0vxjw3at2da","tag_id":"ck3fq2wn5003jb0vxbet9w51h","_id":"ck3fq2wpy006xb0vx9a1nvbeg"},{"post_id":"ck3fq2wjf000nb0vx5ephiv5w","tag_id":"ck3fq2wn5003kb0vx0l7jdi9u","_id":"ck3fq2wpy006yb0vxj458wj3n"},{"post_id":"ck3fq2wjf000nb0vx5ephiv5w","tag_id":"ck3fq2wn6003lb0vx14sz1nla","_id":"ck3fq2wq00070b0vx38tbkyub"},{"post_id":"ck3fq2wjf000nb0vx5ephiv5w","tag_id":"ck3fq2wn6003mb0vxbm9cz6qn","_id":"ck3fq2wq00071b0vxibt2or9m"},{"post_id":"ck3fq2wjf000nb0vx5ephiv5w","tag_id":"ck3fq2wn6003nb0vxm6pw34w9","_id":"ck3fq2wq10073b0vxuq20jnv3"},{"post_id":"ck3fq2wjh000ob0vxtcampbx6","tag_id":"ck3fq2wn3003gb0vxnt34ih2u","_id":"ck3fq2wq20074b0vxqwvwl9ir"},{"post_id":"ck3fq2wjh000ob0vxtcampbx6","tag_id":"ck3fq2wn6003pb0vxkwv29sg1","_id":"ck3fq2wq30076b0vxnuzj9fm1"},{"post_id":"ck3fq2wjn000qb0vx65kniavg","tag_id":"ck3fq2wmx003bb0vxuzhqf9wb","_id":"ck3fq2wq40077b0vxqadiwrax"},{"post_id":"ck3fq2wjn000qb0vx65kniavg","tag_id":"ck3fq2wn8003rb0vx2dxiagfk","_id":"ck3fq2wq40079b0vxe874geqe"},{"post_id":"ck3fq2wjn000qb0vx65kniavg","tag_id":"ck3fq2wn8003sb0vxtcgep45h","_id":"ck3fq2wq4007ab0vxid4qyfzw"},{"post_id":"ck3fq2wjp000rb0vxsamgne8c","tag_id":"ck3fq2wmx003bb0vxuzhqf9wb","_id":"ck3fq2wq4007cb0vxjgdajrsn"},{"post_id":"ck3fq2wjp000rb0vxsamgne8c","tag_id":"ck3fq2wn8003rb0vx2dxiagfk","_id":"ck3fq2wq4007db0vx3w58lxtt"},{"post_id":"ck3fq2wjp000rb0vxsamgne8c","tag_id":"ck3fq2wna003vb0vx6kee83ew","_id":"ck3fq2wq5007fb0vx14zofxls"},{"post_id":"ck3fq2wjq000ub0vxewdjrr55","tag_id":"ck3fq2wmh002xb0vxq2lzj96x","_id":"ck3fq2wq5007gb0vxxhb087z9"},{"post_id":"ck3fq2wjq000ub0vxewdjrr55","tag_id":"ck3fq2wnb003xb0vxmx0ybxil","_id":"ck3fq2wq5007hb0vx0y0bp24g"},{"post_id":"ck3fq2wjr000wb0vxzzwxjtjp","tag_id":"ck3fq2wnc003yb0vxuj789trk","_id":"ck3fq2wq5007ib0vxbmcfxzv4"},{"post_id":"ck3fq2wjr000wb0vxzzwxjtjp","tag_id":"ck3fq2wj2000ib0vxiot2zlrh","_id":"ck3fq2wq6007jb0vxc4yl56jk"},{"post_id":"ck3fq2wjs000xb0vxrdmb0mzs","tag_id":"ck3fq2wn6003lb0vx14sz1nla","_id":"ck3fq2wq6007kb0vxmre8bpcr"},{"post_id":"ck3fq2wjs000xb0vxrdmb0mzs","tag_id":"ck3fq2wnd0040b0vxrrx59emw","_id":"ck3fq2wq6007lb0vxhyo07siu"},{"post_id":"ck3fq2wjs000xb0vxrdmb0mzs","tag_id":"ck3fq2wnd0041b0vxn4rhnukf","_id":"ck3fq2wq6007mb0vxwhgmkr26"},{"post_id":"ck3fq2wjs000xb0vxrdmb0mzs","tag_id":"ck3fq2wnd0042b0vxtwfhe6xh","_id":"ck3fq2wq8007nb0vx6sf0xjro"},{"post_id":"ck3fq2wjt000yb0vxrddxe1h8","tag_id":"ck3fq2wne0043b0vx0pgjcuw8","_id":"ck3fq2wq8007ob0vxn3zi4z2g"},{"post_id":"ck3fq2wjw0010b0vx921w5kjy","tag_id":"ck3fq2wn6003lb0vx14sz1nla","_id":"ck3fq2wq8007pb0vxx8ntlknl"},{"post_id":"ck3fq2wjw0010b0vx921w5kjy","tag_id":"ck3fq2wnd0040b0vxrrx59emw","_id":"ck3fq2wq8007qb0vxh8ag4rcc"},{"post_id":"ck3fq2wjw0010b0vx921w5kjy","tag_id":"ck3fq2wnd0041b0vxn4rhnukf","_id":"ck3fq2wq9007rb0vx7nw84piv"},{"post_id":"ck3fq2wjw0010b0vx921w5kjy","tag_id":"ck3fq2wnd0042b0vxtwfhe6xh","_id":"ck3fq2wq9007sb0vxjtlmj0zj"},{"post_id":"ck3fq2wjx0011b0vxyh7xx5l1","tag_id":"ck3fq2wlx002bb0vxs60h65ku","_id":"ck3fq2wq9007tb0vxvxjqzoqr"},{"post_id":"ck3fq2wjx0011b0vxyh7xx5l1","tag_id":"ck3fq2wnf0049b0vx79s6n6ss","_id":"ck3fq2wq9007ub0vx7rlsqo0s"},{"post_id":"ck3fq2wjx0012b0vxhaslw16x","tag_id":"ck3fq2wig0006b0vxgv844fw0","_id":"ck3fq2wq9007vb0vx3ju2uj62"},{"post_id":"ck3fq2wjx0012b0vxhaslw16x","tag_id":"ck3fq2wnh004ab0vxcn38bmmg","_id":"ck3fq2wq9007wb0vxdbnaq53c"},{"post_id":"ck3fq2wjx0013b0vx8vojvrwi","tag_id":"ck3fq2wlx002bb0vxs60h65ku","_id":"ck3fq2wq9007xb0vx2xkqogpg"},{"post_id":"ck3fq2wjx0013b0vx8vojvrwi","tag_id":"ck3fq2wnf0049b0vx79s6n6ss","_id":"ck3fq2wq9007yb0vxu4qrqyw7"},{"post_id":"ck3fq2wjx0013b0vx8vojvrwi","tag_id":"ck3fq2wni004db0vxa4a0lh6j","_id":"ck3fq2wq9007zb0vxj8flr71p"},{"post_id":"ck3fq2wjz0014b0vxb1xgghp4","tag_id":"ck3fq2wnj004eb0vx39nyvif3","_id":"ck3fq2wqa0080b0vxzs0cuguk"},{"post_id":"ck3fq2wjz0014b0vxb1xgghp4","tag_id":"ck3fq2wj2000ib0vxiot2zlrh","_id":"ck3fq2wqa0081b0vxgot6s0d5"},{"post_id":"ck3fq2wk00015b0vx3ze9j8v8","tag_id":"ck3fq2wlx002bb0vxs60h65ku","_id":"ck3fq2wqa0082b0vxis3s1ua0"},{"post_id":"ck3fq2wk00015b0vx3ze9j8v8","tag_id":"ck3fq2wnf0049b0vx79s6n6ss","_id":"ck3fq2wqa0083b0vxg0c4zy33"},{"post_id":"ck3fq2wk30016b0vxrs1pfz6i","tag_id":"ck3fq2wnk004hb0vx4rb55h9j","_id":"ck3fq2wqa0084b0vxcf2mtymf"},{"post_id":"ck3fq2wk30016b0vxrs1pfz6i","tag_id":"ck3fq2wnk004ib0vxye2nfnb3","_id":"ck3fq2wqb0085b0vx7oiixzfh"},{"post_id":"ck3fq2wk50017b0vxxw7swz1p","tag_id":"ck3fq2wnl004jb0vx8ycgide5","_id":"ck3fq2wqc0086b0vxajw5ivua"},{"post_id":"ck3fq2wk50017b0vxxw7swz1p","tag_id":"ck3fq2wnl004kb0vxi86njqmd","_id":"ck3fq2wqc0087b0vxn0cleqjj"},{"post_id":"ck3fq2wk50017b0vxxw7swz1p","tag_id":"ck3fq2wj2000ib0vxiot2zlrh","_id":"ck3fq2wqc0088b0vxh89duqlb"},{"post_id":"ck3fq2wk50017b0vxxw7swz1p","tag_id":"ck3fq2wnl004lb0vxpm18stzr","_id":"ck3fq2wqe0089b0vx2vhrxcw3"},{"post_id":"ck3fq2wk50018b0vxiodqkmol","tag_id":"ck3fq2wnm004mb0vxeukn8bzv","_id":"ck3fq2wqe008ab0vxiheq9g90"},{"post_id":"ck3fq2wk50018b0vxiodqkmol","tag_id":"ck3fq2wn3003gb0vxnt34ih2u","_id":"ck3fq2wqe008bb0vxv2n9hiy6"},{"post_id":"ck3fq2wk50018b0vxiodqkmol","tag_id":"ck3fq2wn4003hb0vxmbb1tfmv","_id":"ck3fq2wqe008cb0vx9ttyf1v7"},{"post_id":"ck3fq2wk50018b0vxiodqkmol","tag_id":"ck3fq2wj2000ib0vxiot2zlrh","_id":"ck3fq2wqe008db0vxj9yjf90s"},{"post_id":"ck3fq2wk70019b0vx6qhe2xrf","tag_id":"ck3fq2wnm004mb0vxeukn8bzv","_id":"ck3fq2wqe008eb0vxyl7e2ppi"},{"post_id":"ck3fq2wk70019b0vx6qhe2xrf","tag_id":"ck3fq2wn3003gb0vxnt34ih2u","_id":"ck3fq2wqe008fb0vxo8l2go9r"},{"post_id":"ck3fq2wk70019b0vx6qhe2xrf","tag_id":"ck3fq2wn4003hb0vxmbb1tfmv","_id":"ck3fq2wqe008gb0vxfuvi78mg"},{"post_id":"ck3fq2wk7001ab0vxqjle75g4","tag_id":"ck3fq2wns004sb0vx9o6ps8am","_id":"ck3fq2wqe008hb0vx14pw975x"},{"post_id":"ck3fq2wk8001bb0vxqjcvto39","tag_id":"ck3fq2wlx002bb0vxs60h65ku","_id":"ck3fq2wqf008ib0vxx18o24rt"},{"post_id":"ck3fq2wk8001bb0vxqjcvto39","tag_id":"ck3fq2wnf0049b0vx79s6n6ss","_id":"ck3fq2wqf008jb0vxf3ofdlyc"},{"post_id":"ck3fq2wk8001bb0vxqjcvto39","tag_id":"ck3fq2wni004db0vxa4a0lh6j","_id":"ck3fq2wqf008kb0vxo8vqjojn"},{"post_id":"ck3fq2wk8001cb0vx8q8veobe","tag_id":"ck3fq2wns004sb0vx9o6ps8am","_id":"ck3fq2wqh008lb0vxq3g92o0h"},{"post_id":"ck3fq2wkb001hb0vxu4gnpb0d","tag_id":"ck3fq2wm1002gb0vxhvs4177b","_id":"ck3fq2wqj008mb0vx0a2sg8ck"},{"post_id":"ck3fq2wkb001hb0vxu4gnpb0d","tag_id":"ck3fq2wn5003jb0vxbet9w51h","_id":"ck3fq2wqj008nb0vxxiynnwei"},{"post_id":"ck3fq2wkc001ib0vxeuuqcq2o","tag_id":"ck3fq2wnx004zb0vx6l6immaf","_id":"ck3fq2wqk008ob0vxd9nmbp7x"},{"post_id":"ck3fq2wkc001ib0vxeuuqcq2o","tag_id":"ck3fq2wny0050b0vx6v2yg1de","_id":"ck3fq2wqk008pb0vxbzkq71ny"},{"post_id":"ck3fq2wkc001ib0vxeuuqcq2o","tag_id":"ck3fq2wny0051b0vx34iam3om","_id":"ck3fq2wql008qb0vxbeijoqqc"},{"post_id":"ck3fq2wkd001jb0vx1zsevufd","tag_id":"ck3fq2wnz0052b0vxktd2js6i","_id":"ck3fq2wql008rb0vx7qjed5kt"},{"post_id":"ck3fq2wkd001jb0vx1zsevufd","tag_id":"ck3fq2wnz0053b0vx81qoke4d","_id":"ck3fq2wqm008sb0vxz8raa5cp"},{"post_id":"ck3fq2wke001kb0vxrjsdo5nw","tag_id":"ck3fq2wo00054b0vxnlnzzrb5","_id":"ck3fq2wqm008tb0vxqgmku3vh"},{"post_id":"ck3fq2wki001nb0vxacrs1zxz","tag_id":"ck3fq2wo00055b0vxia02mhk5","_id":"ck3fq2wqm008ub0vxssyeidfa"},{"post_id":"ck3fq2wkj001ob0vxi3cnuna5","tag_id":"ck3fq2wo10056b0vxu4fclta4","_id":"ck3fq2wqm008vb0vxae2nbo4d"},{"post_id":"ck3fq2wkj001ob0vxi3cnuna5","tag_id":"ck3fq2wn3003gb0vxnt34ih2u","_id":"ck3fq2wqn008wb0vxx0qz9i5j"},{"post_id":"ck3fq2wkj001pb0vxt8plexbm","tag_id":"ck3fq2wmt0038b0vxleebyp0b","_id":"ck3fq2wqn008xb0vxrrjb94xp"},{"post_id":"ck3fq2wkj001pb0vxt8plexbm","tag_id":"ck3fq2wn6003nb0vxm6pw34w9","_id":"ck3fq2wqn008yb0vxnj1lznxq"},{"post_id":"ck3fq2wkm001rb0vx7hxbbiht","tag_id":"ck3fq2wo4005ab0vx71an3d7q","_id":"ck3fq2wqn008zb0vxbjrvymcc"},{"post_id":"ck3fq2wkm001rb0vx7hxbbiht","tag_id":"ck3fq2wo4005bb0vx5d1ellm3","_id":"ck3fq2wqn0090b0vxih2hcalm"},{"post_id":"ck3fq2wkm001rb0vx7hxbbiht","tag_id":"ck3fq2wo5005cb0vxdlauftyr","_id":"ck3fq2wqo0091b0vx6uw6cdg1"},{"post_id":"ck3fq2wko001tb0vxs1312xn8","tag_id":"ck3fq2wns004sb0vx9o6ps8am","_id":"ck3fq2wqo0092b0vxs8w5xb3m"},{"post_id":"ck3fq2wko001tb0vxs1312xn8","tag_id":"ck3fq2wo6005eb0vxyq2rbyp7","_id":"ck3fq2wqo0093b0vx98fp59yz"},{"post_id":"ck3fq2wko001tb0vxs1312xn8","tag_id":"ck3fq2wnk004hb0vx4rb55h9j","_id":"ck3fq2wqo0094b0vx0xpvq403"},{"post_id":"ck3fq2wko001tb0vxs1312xn8","tag_id":"ck3fq2wo8005gb0vxxclkqkkb","_id":"ck3fq2wqo0095b0vxq2r26ja8"},{"post_id":"ck3fq2wko001ub0vxq5sp9d56","tag_id":"ck3fq2wo4005ab0vx71an3d7q","_id":"ck3fq2wqp0096b0vxwch9b116"},{"post_id":"ck3fq2wko001ub0vxq5sp9d56","tag_id":"ck3fq2wo4005bb0vx5d1ellm3","_id":"ck3fq2wqp0097b0vxhlagxjk1"},{"post_id":"ck3fq2wko001ub0vxq5sp9d56","tag_id":"ck3fq2wo5005cb0vxdlauftyr","_id":"ck3fq2wqp0098b0vxkcfq18n6"},{"post_id":"ck3fq2wkq001wb0vxwfdxm4vv","tag_id":"ck3fq2wnk004hb0vx4rb55h9j","_id":"ck3fq2wqp0099b0vxawt5kdpa"},{"post_id":"ck3fq2wkq001yb0vxn9415my3","tag_id":"ck3fq2wn6003nb0vxm6pw34w9","_id":"ck3fq2wqp009ab0vxp3m5a102"},{"post_id":"ck3fq2wkq001yb0vxn9415my3","tag_id":"ck3fq2wn6003mb0vxbm9cz6qn","_id":"ck3fq2wqq009bb0vxzycfsvlx"},{"post_id":"ck3fq2wks001zb0vx8dc2zrec","tag_id":"ck3fq2wn0003eb0vxoa01ppgh","_id":"ck3fq2wqq009cb0vx70saiea7"},{"post_id":"ck3fq2wkv0022b0vx3ef5n9fo","tag_id":"ck3fq2wlx002bb0vxs60h65ku","_id":"ck3fq2wqq009db0vxkwv8cjja"},{"post_id":"ck3fq2wkv0023b0vx2vt9mtdh","tag_id":"ck3fq2wn6003nb0vxm6pw34w9","_id":"ck3fq2wqq009eb0vxtg4v07t9"},{"post_id":"ck3fq2wlq0024b0vxrtcioljx","tag_id":"ck3fq2wo6005eb0vxyq2rbyp7","_id":"ck3fq2wqq009fb0vxxxtr3a3o"},{"post_id":"ck3fq2wlq0024b0vxrtcioljx","tag_id":"ck3fq2wnk004hb0vx4rb55h9j","_id":"ck3fq2wqr009gb0vx0bq6mf43"},{"post_id":"ck3fq2wlq0024b0vxrtcioljx","tag_id":"ck3fq2wnk004ib0vxye2nfnb3","_id":"ck3fq2wqr009hb0vx0a32i3g2"},{"post_id":"ck3fq2wm0002eb0vxpij9kw22","tag_id":"ck3fq2wn0003eb0vxoa01ppgh","_id":"ck3fq2wqr009ib0vxy0c2rlu7"},{"post_id":"ck3fq2wm0002eb0vxpij9kw22","tag_id":"ck3fq2wnz0053b0vx81qoke4d","_id":"ck3fq2wqr009jb0vxdtfhyfnd"},{"post_id":"ck3fq2wm4002jb0vxd0gk7nhd","tag_id":"ck3fq2wnz0053b0vx81qoke4d","_id":"ck3fq2wqr009kb0vxjpaj0jls"},{"post_id":"ck3fq2wm6002mb0vxs0e34mwp","tag_id":"ck3fq2wig0006b0vxgv844fw0","_id":"ck3fq2wqs009lb0vxpu6g27d4"},{"post_id":"ck3fq2wmi002yb0vxxusrpjqq","tag_id":"ck3fq2wig0006b0vxgv844fw0","_id":"ck3fq2wqs009mb0vx56bq4o1w"},{"post_id":"ck3fq2wmp0035b0vxfcnuia4v","tag_id":"ck3fq2wig0006b0vxgv844fw0","_id":"ck3fq2wqs009nb0vx4y69el3m"},{"post_id":"ck3fq2wms0037b0vxdzldsjmb","tag_id":"ck3fq2wo10056b0vxu4fclta4","_id":"ck3fq2wqs009ob0vxd3mtmnzk"},{"post_id":"ck3fq2wmu0039b0vx7j0cx62f","tag_id":"ck3fq2wny0050b0vx6v2yg1de","_id":"ck3fq2wqs009pb0vx29e629i0"},{"post_id":"ck3fq2wmu0039b0vx7j0cx62f","tag_id":"ck3fq2wny0051b0vx34iam3om","_id":"ck3fq2wqt009qb0vxonuy7hxl"},{"post_id":"ck3fq2wmw003ab0vxsqf2wf7c","tag_id":"ck3fq2wn8003rb0vx2dxiagfk","_id":"ck3fq2wqt009rb0vxkt0flxth"},{"post_id":"ck3fq2wn1003fb0vxcxwxz4zf","tag_id":"ck3fq2wnk004hb0vx4rb55h9j","_id":"ck3fq2wqt009sb0vxsj3ezecg"},{"post_id":"ck3fq2wn1003fb0vxcxwxz4zf","tag_id":"ck3fq2wo6005eb0vxyq2rbyp7","_id":"ck3fq2wqt009tb0vx4x8eipff"},{"post_id":"ck3fq2wn1003fb0vxcxwxz4zf","tag_id":"ck3fq2wn6003lb0vx14sz1nla","_id":"ck3fq2wqu009ub0vx4eawl6zq"},{"post_id":"ck3fq2wn1003fb0vxcxwxz4zf","tag_id":"ck3fq2wn6003nb0vxm6pw34w9","_id":"ck3fq2wqu009vb0vx1h62a1in"},{"post_id":"ck3fq2wlt0027b0vxh1zx1ubv","tag_id":"ck3fq2wpc005sb0vxo7cdkqk3","_id":"ck3fq2wr9009xb0vxkn7d9qt8"},{"post_id":"ck3fq2wlt0027b0vxh1zx1ubv","tag_id":"ck3fq2wpe005xb0vxxjva5c4k","_id":"ck3fq2wrb00a0b0vxeg0eplni"},{"post_id":"ck3fq2wlt0027b0vxh1zx1ubv","tag_id":"ck3fq2wph0062b0vx6i6dc1ag","_id":"ck3fq2wrc00a2b0vxgenyx9xp"},{"post_id":"ck3fq2wlt0027b0vxh1zx1ubv","tag_id":"ck3fq2wpj0067b0vxfteg4eqj","_id":"ck3fq2wre00a5b0vxy6ffhbd4"},{"post_id":"ck3fq2wlv0029b0vxjnm0gfri","tag_id":"ck3fq2wnk004hb0vx4rb55h9j","_id":"ck3fq2wrg00a7b0vx4yitgikp"},{"post_id":"ck3fq2wlv0029b0vxjnm0gfri","tag_id":"ck3fq2wpo006eb0vxvu1wrus2","_id":"ck3fq2wrk00aab0vxulnztw0r"},{"post_id":"ck3fq2wly002cb0vxsgaoe5hv","tag_id":"ck3fq2wpr006jb0vxnf5uus9k","_id":"ck3fq2wrl00acb0vxifw6tilo"},{"post_id":"ck3fq2wly002cb0vxsgaoe5hv","tag_id":"ck3fq2wpu006ob0vx91817v3j","_id":"ck3fq2wrn00afb0vxifqb5r0g"},{"post_id":"ck3fq2wly002cb0vxsgaoe5hv","tag_id":"ck3fq2wpw006tb0vx8fpehw3i","_id":"ck3fq2wrn00agb0vxxyhw0ky8"},{"post_id":"ck3fq2wly002cb0vxsgaoe5hv","tag_id":"ck3fq2wn6003nb0vxm6pw34w9","_id":"ck3fq2wrn00ahb0vxsh139q2y"},{"post_id":"ck3fq2wm2002hb0vx9o983r1n","tag_id":"ck3fq2wo6005eb0vxyq2rbyp7","_id":"ck3fq2wro00ajb0vxpd4p6874"},{"post_id":"ck3fq2wm2002hb0vx9o983r1n","tag_id":"ck3fq2wq0006zb0vxgz0sksrb","_id":"ck3fq2wro00akb0vxqkltn96r"},{"post_id":"ck3fq2wm2002hb0vx9o983r1n","tag_id":"ck3fq2wnk004hb0vx4rb55h9j","_id":"ck3fq2wrp00amb0vxkaqacmqk"},{"post_id":"ck3fq2wm2002hb0vx9o983r1n","tag_id":"ck3fq2wns004sb0vx9o6ps8am","_id":"ck3fq2wrp00anb0vxv4rezdng"},{"post_id":"ck3fq2wm9002ob0vxbpft75j1","tag_id":"ck3fq2wo6005eb0vxyq2rbyp7","_id":"ck3fq2wrq00apb0vxaps1og7v"},{"post_id":"ck3fq2wm9002ob0vxbpft75j1","tag_id":"ck3fq2wq0006zb0vxgz0sksrb","_id":"ck3fq2wrq00aqb0vxthgqqc5m"},{"post_id":"ck3fq2wm9002ob0vxbpft75j1","tag_id":"ck3fq2wnk004hb0vx4rb55h9j","_id":"ck3fq2wrr00asb0vxpsighbsh"},{"post_id":"ck3fq2wm9002ob0vxbpft75j1","tag_id":"ck3fq2wns004sb0vx9o6ps8am","_id":"ck3fq2wrr00atb0vxghouq3cv"},{"post_id":"ck3fq2wmf002vb0vxwyddeax3","tag_id":"ck3fq2wo6005eb0vxyq2rbyp7","_id":"ck3fq2wrs00avb0vx3hcotl9a"},{"post_id":"ck3fq2wmf002vb0vxwyddeax3","tag_id":"ck3fq2wq0006zb0vxgz0sksrb","_id":"ck3fq2wrs00awb0vxy7jvp5mt"},{"post_id":"ck3fq2wmf002vb0vxwyddeax3","tag_id":"ck3fq2wnk004hb0vx4rb55h9j","_id":"ck3fq2wrt00ayb0vxgcgqsut6"},{"post_id":"ck3fq2wmf002vb0vxwyddeax3","tag_id":"ck3fq2wq40078b0vxdrhi8fgb","_id":"ck3fq2wrt00azb0vxft1kmeoi"},{"post_id":"ck3fq2wmk0030b0vxn8mv640z","tag_id":"ck3fq2wq4007bb0vx3iihcwch","_id":"ck3fq2wru00b1b0vxj6hl2zhn"},{"post_id":"ck3fq2wmm0032b0vx3z524xlt","tag_id":"ck3fq2wq4007eb0vx6gt9uwar","_id":"ck3fq2wru00b2b0vxeb5nsw1g"},{"post_id":"ck3fq2wp9005qb0vxmyyuztcm","tag_id":"ck3fq2wna003vb0vx6kee83ew","_id":"ck3fq2wrv00b4b0vxuvdabrnk"},{"post_id":"ck3fq2wp9005qb0vxmyyuztcm","tag_id":"ck3fq2wn4003ib0vxj5vd7epw","_id":"ck3fq2wrv00b5b0vx88g1x0mp"},{"post_id":"ck3fq2wpd005vb0vxzh9w85ek","tag_id":"ck3fq2wnk004hb0vx4rb55h9j","_id":"ck3fq2wrx00b7b0vxk0s5o6va"},{"post_id":"ck3fq2wpd005vb0vxzh9w85ek","tag_id":"ck3fq2wnk004ib0vxye2nfnb3","_id":"ck3fq2wrx00b8b0vxz5pel533"},{"post_id":"ck3fq2wpf005yb0vx92trd188","tag_id":"ck3fq2wn4003ib0vxj5vd7epw","_id":"ck3fq2wry00bab0vxx8t6v9qz"},{"post_id":"ck3fq2wph0063b0vx72e7bnqx","tag_id":"ck3fq2wn4003ib0vxj5vd7epw","_id":"ck3fq2wrz00bbb0vx9ghtbih6"},{"post_id":"ck3fq2wpi0065b0vx68h05c5q","tag_id":"ck3fq2wn4003ib0vxj5vd7epw","_id":"ck3fq2wrz00bcb0vxhjqqmk1d"},{"post_id":"ck3fq2wpp006fb0vx1shsf928","tag_id":"ck3fq2wnz0053b0vx81qoke4d","_id":"ck3fq2ws000beb0vxwwcu16a1"},{"post_id":"ck3fq2wpq006hb0vxhyvjdnel","tag_id":"ck3fq2wn4003ib0vxj5vd7epw","_id":"ck3fq2ws100bfb0vx1p3b5465"},{"post_id":"ck3fq2wps006kb0vx8c2ffnl6","tag_id":"ck3fq2wnz0053b0vx81qoke4d","_id":"ck3fq2ws100bhb0vxg2om8slk"},{"post_id":"ck3fq2wps006kb0vx8c2ffnl6","tag_id":"ck3fq2wny0050b0vx6v2yg1de","_id":"ck3fq2ws200bib0vx3ijh5wfb"},{"post_id":"ck3fq2wps006kb0vx8c2ffnl6","tag_id":"ck3fq2wny0051b0vx34iam3om","_id":"ck3fq2ws200bkb0vxnkpd8s0g"},{"post_id":"ck3fq2wpc005tb0vx61ylo5yd","tag_id":"ck3fq2wr9009yb0vxgybpfmi4","_id":"ck3fq2wsg00bmb0vxeld5cp0o"},{"post_id":"ck3fq2wpc005tb0vx61ylo5yd","tag_id":"ck3fq2wny0050b0vx6v2yg1de","_id":"ck3fq2wsh00bob0vxn2o7tli8"},{"post_id":"ck3fq2wpc005tb0vx61ylo5yd","tag_id":"ck3fq2wny0051b0vx34iam3om","_id":"ck3fq2wsi00bpb0vxk0o00fl7"},{"post_id":"ck3fq2wpc005tb0vx61ylo5yd","tag_id":"ck3fq2wn6003lb0vx14sz1nla","_id":"ck3fq2wsi00bqb0vxpu08zlwj"},{"post_id":"ck3fq2wpc005tb0vx61ylo5yd","tag_id":"ck3fq2wn6003nb0vxm6pw34w9","_id":"ck3fq2wsi00brb0vxpp9g7qda"},{"post_id":"ck3fq2wpc005tb0vx61ylo5yd","tag_id":"ck3fq2wj2000ib0vxiot2zlrh","_id":"ck3fq2wsi00bsb0vx2yntg0u1"},{"post_id":"ck3fq2wpg0060b0vxb5yjjgnl","tag_id":"ck3fq2wrc00a3b0vxtajwzz3s","_id":"ck3fq2wsi00btb0vxc67wou04"},{"post_id":"ck3fq2wpg0060b0vxb5yjjgnl","tag_id":"ck3fq2wrh00a8b0vxhvy0v9ug","_id":"ck3fq2wsj00bub0vx19rih18f"},{"post_id":"ck3fq2wpk0068b0vxqpmzhpxo","tag_id":"ck3fq2wrl00adb0vxm6ezl5zv","_id":"ck3fq2wsj00bvb0vx1mxkzrsd"},{"post_id":"ck3fq2wpk0068b0vxqpmzhpxo","tag_id":"ck3fq2wn4003ib0vxj5vd7epw","_id":"ck3fq2wsj00bwb0vxme40wikl"},{"post_id":"ck3fq2wpk0068b0vxqpmzhpxo","tag_id":"ck3fq2wrn00aib0vxqv6uo9ge","_id":"ck3fq2wsj00bxb0vxur65abnz"},{"post_id":"ck3fq2wpl006ab0vx0v3gt3m1","tag_id":"ck3fq2wrl00adb0vxm6ezl5zv","_id":"ck3fq2wsj00byb0vxaqmcz413"},{"post_id":"ck3fq2wpl006ab0vx0v3gt3m1","tag_id":"ck3fq2wn4003ib0vxj5vd7epw","_id":"ck3fq2wsj00bzb0vxlb5rpbdn"},{"post_id":"ck3fq2wpl006ab0vx0v3gt3m1","tag_id":"ck3fq2wrn00aib0vxqv6uo9ge","_id":"ck3fq2wsk00c0b0vxxxpp5p96"},{"post_id":"ck3fq2wpn006cb0vx3o2j4bzi","tag_id":"ck3fq2wrl00adb0vxm6ezl5zv","_id":"ck3fq2wsk00c1b0vx0z143zgl"},{"post_id":"ck3fq2wpn006cb0vx3o2j4bzi","tag_id":"ck3fq2wn4003ib0vxj5vd7epw","_id":"ck3fq2wsk00c2b0vxvxib089v"},{"post_id":"ck3fq2wpn006cb0vx3o2j4bzi","tag_id":"ck3fq2wrn00aib0vxqv6uo9ge","_id":"ck3fq2wsk00c3b0vxrdh303ix"},{"post_id":"ck3fq2wpt006mb0vxs52b5xvb","tag_id":"ck3fq2wrl00adb0vxm6ezl5zv","_id":"ck3fq2wsl00c4b0vx0r9kflz7"},{"post_id":"ck3fq2wpt006mb0vxs52b5xvb","tag_id":"ck3fq2wrn00aib0vxqv6uo9ge","_id":"ck3fq2wsl00c5b0vxdlwmfdl9"},{"post_id":"ck3fq2wpv006pb0vxpa6u544s","tag_id":"ck3fq2wnz0053b0vx81qoke4d","_id":"ck3fq2wsl00c6b0vx5ga3kplr"},{"post_id":"ck3fq2wpv006pb0vxpa6u544s","tag_id":"ck3fq2wru00b3b0vxdeneu2re","_id":"ck3fq2wsl00c7b0vxhwzyqtea"},{"post_id":"ck3fq2wpv006rb0vx434wknhy","tag_id":"ck3fq2wnz0053b0vx81qoke4d","_id":"ck3fq2wsl00c8b0vxbmikbqej"},{"post_id":"ck3fq2wpv006rb0vx434wknhy","tag_id":"ck3fq2wrw00b6b0vxyyp3a1e9","_id":"ck3fq2wsl00c9b0vxh50yobmu"},{"post_id":"ck3fq2wpv006rb0vx434wknhy","tag_id":"ck3fq2wry00b9b0vxw0h7d4na","_id":"ck3fq2wsl00cab0vxmvo5w018"},{"post_id":"ck3fq2wpw006ub0vxfvimb53u","tag_id":"ck3fq2wrl00adb0vxm6ezl5zv","_id":"ck3fq2wsl00cbb0vxl4t33mzi"},{"post_id":"ck3fq2wpw006ub0vxfvimb53u","tag_id":"ck3fq2wrn00aib0vxqv6uo9ge","_id":"ck3fq2wsl00ccb0vxwy0xq5g1"},{"post_id":"ck3fq2wpx006wb0vx7tsgbm9p","tag_id":"ck3fq2wrl00adb0vxm6ezl5zv","_id":"ck3fq2wsl00cdb0vxem4zyln0"},{"post_id":"ck3fq2wpx006wb0vx7tsgbm9p","tag_id":"ck3fq2wrn00aib0vxqv6uo9ge","_id":"ck3fq2wsm00ceb0vxmf7ns56h"},{"post_id":"ck3fq2wr8009wb0vxvcd4oqsl","tag_id":"ck3fq2wrl00adb0vxm6ezl5zv","_id":"ck3fq2wsm00cfb0vx8fjm4we6"},{"post_id":"ck3fq2wr8009wb0vxvcd4oqsl","tag_id":"ck3fq2wrn00aib0vxqv6uo9ge","_id":"ck3fq2wsm00cgb0vxrxy3gmtr"},{"post_id":"ck3fq2wra009zb0vxb2729tgn","tag_id":"ck3fq2wrl00adb0vxm6ezl5zv","_id":"ck3fq2wsm00chb0vxi3ac559e"},{"post_id":"ck3fq2wra009zb0vxb2729tgn","tag_id":"ck3fq2wrn00aib0vxqv6uo9ge","_id":"ck3fq2wsm00cib0vxirexwt9n"},{"post_id":"ck3fq2wrb00a1b0vxy1e9qvwi","tag_id":"ck3fq2wrl00adb0vxm6ezl5zv","_id":"ck3fq2wsn00cjb0vxb39g7f2f"},{"post_id":"ck3fq2wrb00a1b0vxy1e9qvwi","tag_id":"ck3fq2wrn00aib0vxqv6uo9ge","_id":"ck3fq2wsn00ckb0vxsrd3j9sa"},{"post_id":"ck3fq2wrd00a4b0vx3hvhdh07","tag_id":"ck3fq2wn4003ib0vxj5vd7epw","_id":"ck3fq2wsn00clb0vxkrf2cpln"},{"post_id":"ck3fq2wrf00a6b0vxl5pr9z60","tag_id":"ck3fq2wrl00adb0vxm6ezl5zv","_id":"ck3fq2wsn00cmb0vxxxy6ujt6"},{"post_id":"ck3fq2wrf00a6b0vxl5pr9z60","tag_id":"ck3fq2wrn00aib0vxqv6uo9ge","_id":"ck3fq2wsn00cnb0vx9i83xaka"},{"post_id":"ck3fq2wri00a9b0vxrsth08e0","tag_id":"ck3fq2wrl00adb0vxm6ezl5zv","_id":"ck3fq2wso00cob0vx86sxk9xy"},{"post_id":"ck3fq2wri00a9b0vxrsth08e0","tag_id":"ck3fq2wrn00aib0vxqv6uo9ge","_id":"ck3fq2wso00cpb0vxoqxrspxm"},{"post_id":"ck3fq2wrl00abb0vx30jbs0e7","tag_id":"ck3fq2wn4003ib0vxj5vd7epw","_id":"ck3fq2wso00cqb0vxso2qlv6n"},{"post_id":"ck3fq2wrm00aeb0vx9gh40p12","tag_id":"ck3fq2wn4003ib0vxj5vd7epw","_id":"ck3fq2wso00crb0vx74l25jxn"},{"post_id":"ck3fq2wsg00bnb0vx86irwuwu","tag_id":"ck3fq2wq0006zb0vxgz0sksrb","_id":"ck3fq2wsr00csb0vx0vjm1oar"},{"post_id":"ck3fq2wsg00bnb0vx86irwuwu","tag_id":"ck3fq2wns004sb0vx9o6ps8am","_id":"ck3fq2wsr00ctb0vx4k6wuavv"}],"Tag":[{"name":".Net Framework","_id":"ck3fq2wig0006b0vxgv844fw0"},{"name":"Thread Pool","_id":"ck3fq2wio0009b0vx8x7c68e4"},{"name":"IO","_id":"ck3fq2wiz000fb0vx346irycg"},{"name":"記錄","_id":"ck3fq2wj2000ib0vxiot2zlrh"},{"name":"Thread","_id":"ck3fq2wjq000sb0vxu96zv6i2"},{"name":"Jenkis","_id":"ck3fq2wls0026b0vxay9ygy6k"},{"name":"CI/CD","_id":"ck3fq2wlx002bb0vxs60h65ku"},{"name":"Cache","_id":"ck3fq2wm1002gb0vxhvs4177b"},{"name":".Net","_id":"ck3fq2wm6002lb0vx14nil4w8"},{"name":"post","_id":"ck3fq2wmc002sb0vxtrvvebre"},{"name":"HTTP","_id":"ck3fq2wmh002xb0vxq2lzj96x"},{"name":"html","_id":"ck3fq2wml0031b0vxen6vskhk"},{"name":"Content-Type","_id":"ck3fq2wmo0034b0vxxq7lam63"},{"name":"Hexo","_id":"ck3fq2wmt0038b0vxleebyp0b"},{"name":"Google","_id":"ck3fq2wmx003bb0vxuzhqf9wb"},{"name":"PowerShell","_id":"ck3fq2wn0003eb0vxoa01ppgh"},{"name":"Database","_id":"ck3fq2wn3003gb0vxnt34ih2u"},{"name":"MsSQL","_id":"ck3fq2wn4003hb0vxmbb1tfmv"},{"name":"閱讀筆記","_id":"ck3fq2wn4003ib0vxj5vd7epw"},{"name":"Redis","_id":"ck3fq2wn5003jb0vxbet9w51h"},{"name":"Expressjs","_id":"ck3fq2wn5003kb0vx0l7jdi9u"},{"name":"TypeScript","_id":"ck3fq2wn6003lb0vx14sz1nla"},{"name":"Gulpjs","_id":"ck3fq2wn6003mb0vxbm9cz6qn"},{"name":"Node.js","_id":"ck3fq2wn6003nb0vxm6pw34w9"},{"name":"SQL Server","_id":"ck3fq2wn6003pb0vxkwv29sg1"},{"name":"API","_id":"ck3fq2wn8003rb0vx2dxiagfk"},{"name":"OAuth","_id":"ck3fq2wn8003sb0vxtcgep45h"},{"name":"時間管理","_id":"ck3fq2wna003vb0vx6kee83ew"},{"name":"TCP/IP","_id":"ck3fq2wnb003xb0vxmx0ybxil"},{"name":"github","_id":"ck3fq2wnc003yb0vxuj789trk"},{"name":"BootStrap","_id":"ck3fq2wnd0040b0vxrrx59emw"},{"name":"NPM","_id":"ck3fq2wnd0041b0vxn4rhnukf"},{"name":"JQuery","_id":"ck3fq2wnd0042b0vxtwfhe6xh"},{"name":"Trello","_id":"ck3fq2wne0043b0vx0pgjcuw8"},{"name":"Jenkins","_id":"ck3fq2wnf0049b0vx79s6n6ss"},{"name":"StyleCop","_id":"ck3fq2wnh004ab0vxcn38bmmg"},{"name":"Openshift","_id":"ck3fq2wni004db0vxa4a0lh6j"},{"name":"IIS","_id":"ck3fq2wnj004eb0vx39nyvif3"},{"name":"Unit Testing","_id":"ck3fq2wnk004hb0vx4rb55h9j"},{"name":"Integrated Testing","_id":"ck3fq2wnk004ib0vxye2nfnb3"},{"name":"website","_id":"ck3fq2wnl004jb0vx8ycgide5"},{"name":"domain","_id":"ck3fq2wnl004kb0vxi86njqmd"},{"name":"DNS","_id":"ck3fq2wnl004lb0vxpm18stzr"},{"name":"Entity Framework","_id":"ck3fq2wnm004mb0vxeukn8bzv"},{"name":"Testing","_id":"ck3fq2wns004sb0vx9o6ps8am"},{"name":"Mongodb","_id":"ck3fq2wnx004zb0vx6l6immaf"},{"name":"Docker","_id":"ck3fq2wny0050b0vx6v2yg1de"},{"name":"Container","_id":"ck3fq2wny0051b0vx34iam3om"},{"name":"CDN","_id":"ck3fq2wnz0052b0vxktd2js6i"},{"name":"AWS","_id":"ck3fq2wnz0053b0vx81qoke4d"},{"name":"Coding Standard","_id":"ck3fq2wo00054b0vxnlnzzrb5"},{"name":"Git","_id":"ck3fq2wo00055b0vxia02mhk5"},{"name":"SQL","_id":"ck3fq2wo10056b0vxu4fclta4"},{"name":"Unix","_id":"ck3fq2wo4005ab0vx71an3d7q"},{"name":"Linux","_id":"ck3fq2wo4005bb0vx5d1ellm3"},{"name":"Shell","_id":"ck3fq2wo5005cb0vxdlauftyr"},{"name":"TDD","_id":"ck3fq2wo6005eb0vxyq2rbyp7"},{"name":"Mutation Teseting","_id":"ck3fq2wo8005gb0vxxclkqkkb"},{"name":"產業趨勢","_id":"ck3fq2wpc005sb0vxo7cdkqk3"},{"name":"IoT","_id":"ck3fq2wpe005xb0vxxjva5c4k"},{"name":"AI","_id":"ck3fq2wph0062b0vx6i6dc1ag"},{"name":"Machine Learning","_id":"ck3fq2wpj0067b0vxfteg4eqj"},{"name":"Specflow","_id":"ck3fq2wpo006eb0vxvu1wrus2"},{"name":"Windows","_id":"ck3fq2wpr006jb0vxnf5uus9k"},{"name":"SCSS","_id":"ck3fq2wpu006ob0vx91817v3j"},{"name":"Ruby","_id":"ck3fq2wpw006tb0vx8fpehw3i"},{"name":"重構","_id":"ck3fq2wq0006zb0vxgz0sksrb"},{"name":"Vim","_id":"ck3fq2wq40078b0vxdrhi8fgb"},{"name":"工作筆記","_id":"ck3fq2wq4007bb0vx3iihcwch"},{"name":"實作筆記","_id":"ck3fq2wq4007eb0vx6gt9uwar"},{"name":"Kubernetes","_id":"ck3fq2wr9009yb0vxgybpfmi4"},{"name":"MsTest","_id":"ck3fq2wrc00a3b0vxtajwzz3s"},{"name":"Visual Studio","_id":"ck3fq2wrh00a8b0vxhvy0v9ug"},{"name":"Scrum","_id":"ck3fq2wrl00adb0vxm6ezl5zv"},{"name":"Agile","_id":"ck3fq2wrn00aib0vxqv6uo9ge"},{"name":"EC2","_id":"ck3fq2wru00b3b0vxdeneu2re"},{"name":"IAM","_id":"ck3fq2wrw00b6b0vxyyp3a1e9"},{"name":"Root User","_id":"ck3fq2wry00b9b0vxw0h7d4na"}]}}